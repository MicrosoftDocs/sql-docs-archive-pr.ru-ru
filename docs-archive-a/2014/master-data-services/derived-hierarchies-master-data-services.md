---
title: Производные иерархии (Master Data Services) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: master-data-services
ms.topic: conceptual
helpviewer_keywords:
- derived hierarchies
- hierarchies [Master Data Services], derived hierarchies
- derived hierarchies, about derived hierarchies
ms.assetid: a0fbd519-a10e-4cbd-92e6-5de9b8d3e3f0
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 92867f225a8f14e59cb9a519f174902d0739773a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669449"
---
# <a name="derived-hierarchies-master-data-services"></a><span data-ttu-id="92fda-102">Производные иерархии (Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-102">Derived Hierarchies (Master Data Services)</span></span>
  <span data-ttu-id="92fda-103">Производная иерархия [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] происходит от связей атрибутов на основе домена, уже существующих между сущностями в модели.</span><span class="sxs-lookup"><span data-stu-id="92fda-103">A [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] derived hierarchy is derived from the domain-based attribute relationships that already exist between entities in a model.</span></span>

 <span data-ttu-id="92fda-104">Можно создать производную иерархию, в которой выделяется любая из существующих связей атрибутов на основе домена в модели.</span><span class="sxs-lookup"><span data-stu-id="92fda-104">You can create a derived hierarchy to highlight any of the existing domain-based attribute relationships in the model.</span></span>

## <a name="leaf-members-group-other-leaf-members"></a><span data-ttu-id="92fda-105">Конечные элементы группируют другие конечные элементы</span><span class="sxs-lookup"><span data-stu-id="92fda-105">Leaf Members Group Other Leaf Members</span></span>
 <span data-ttu-id="92fda-106">В производной иерархии конечные элементы из одной сущности используются для группировки конечных элементов другой сущности.</span><span class="sxs-lookup"><span data-stu-id="92fda-106">In a derived hierarchy, the leaf members from one entity are used to group the leaf members of another entity.</span></span> <span data-ttu-id="92fda-107">Производная иерархия основана на связи между этими сущностями.</span><span class="sxs-lookup"><span data-stu-id="92fda-107">A derived hierarchy is based on the relationship between these entities.</span></span> <span data-ttu-id="92fda-108">Явная иерархия, напротив, основана на элементах только из одной сущности и структурируется любым заданным способом.</span><span class="sxs-lookup"><span data-stu-id="92fda-108">An explicit hierarchy, in contrast, is based on members from a single entity only and is structured in any way you specify.</span></span>

 <span data-ttu-id="92fda-109">Можно изменить структуру производной иерархии, не затрагивая базовые данные.</span><span class="sxs-lookup"><span data-stu-id="92fda-109">You can change the structure of a derived hierarchy without affecting the underlying data.</span></span> <span data-ttu-id="92fda-110">Пока отношения существуют в модели, удаление производной иерархии не влияет на основные данные.</span><span class="sxs-lookup"><span data-stu-id="92fda-110">As long as the relationships still exist in the model, deleting a derived hierarchy has no effect on your master data.</span></span>

## <a name="explicit-hierarchies-versus-derived-hierarchies"></a><span data-ttu-id="92fda-111">Явные иерархии или производные иерархии</span><span class="sxs-lookup"><span data-stu-id="92fda-111">Explicit Hierarchies versus Derived Hierarchies</span></span>
 <span data-ttu-id="92fda-112">В следующей таблице приведены некоторые различия между явными и производными иерархиями.</span><span class="sxs-lookup"><span data-stu-id="92fda-112">The following table shows some of the differences between explicit and derived hierarchies.</span></span>

|<span data-ttu-id="92fda-113">Явные иерархии</span><span class="sxs-lookup"><span data-stu-id="92fda-113">Explicit Hierarchies</span></span>|<span data-ttu-id="92fda-114">Производные иерархии</span><span class="sxs-lookup"><span data-stu-id="92fda-114">Derived Hierarchies</span></span>|
|--------------------------|-------------------------|
|<span data-ttu-id="92fda-115">Структура определяется пользователем</span><span class="sxs-lookup"><span data-stu-id="92fda-115">Structure is defined by the user</span></span>|<span data-ttu-id="92fda-116">Структура образуется из связей между атрибутами на основе домена</span><span class="sxs-lookup"><span data-stu-id="92fda-116">Structure is derived from the relationships between domain-based attributes</span></span>|
|<span data-ttu-id="92fda-117">Содержит элементы из одной сущности</span><span class="sxs-lookup"><span data-stu-id="92fda-117">Contains members from a single entity</span></span>|<span data-ttu-id="92fda-118">Содержит элементы из нескольких сущностей</span><span class="sxs-lookup"><span data-stu-id="92fda-118">Contains members from multiple entities</span></span>|
|<span data-ttu-id="92fda-119">Использует консолидированные элементы для группировки других элементов</span><span class="sxs-lookup"><span data-stu-id="92fda-119">Uses consolidated members to group other members</span></span>|<span data-ttu-id="92fda-120">Использует конечные элементы одной сущности для группировки конечных элементов другой сущности</span><span class="sxs-lookup"><span data-stu-id="92fda-120">Uses leaf members from one entity to group leaf members from another entity</span></span>|
|<span data-ttu-id="92fda-121">Может быть неоднородной</span><span class="sxs-lookup"><span data-stu-id="92fda-121">Can be ragged</span></span>|<span data-ttu-id="92fda-122">Всегда содержит согласованное количество уровней.</span><span class="sxs-lookup"><span data-stu-id="92fda-122">Always contains a consistent number of levels</span></span>|

## <a name="creating-a-variable-depth-hierarchy"></a><span data-ttu-id="92fda-123">Создание иерархии с изменяемой глубиной</span><span class="sxs-lookup"><span data-stu-id="92fda-123">Creating a Variable-Depth Hierarchy</span></span>
 <span data-ttu-id="92fda-124">Есть два проверенных способа создания иерархии с изменяемой глубиной.</span><span class="sxs-lookup"><span data-stu-id="92fda-124">There are two recommended ways to create a variable-depth hierarchy:</span></span>

-   <span data-ttu-id="92fda-125">Если необходимо, чтобы все уровни имели одинаковые атрибуты, создайте одну сущность и затем создайте рекурсивную иерархию для сущности с помощью доменного атрибута, основанного на сущности.</span><span class="sxs-lookup"><span data-stu-id="92fda-125">If you need all levels to have the same attributes, create a single entity, and then create a recursive hierarchy on this entity, using a domain-based attribute that is based on the entity.</span></span>

-   <span data-ttu-id="92fda-126">Если необходимо получить один набор атрибутов для конечных элементов и другой набор для верхних уровней, создайте две сущности для производной иерархии.</span><span class="sxs-lookup"><span data-stu-id="92fda-126">If you need one set of attributes for the leaf members and another set of attributes in the upper levels, create two entities for a derived hierarchy.</span></span> <span data-ttu-id="92fda-127">Для конечной сущности используйте атрибут домена, который основывается на родительской сущности.</span><span class="sxs-lookup"><span data-stu-id="92fda-127">For the leaf entity, use a domain-based attribute that is based upon the parent entity.</span></span> <span data-ttu-id="92fda-128">Для родительской сущности используйте атрибут на основе домена, который основывается сам на себе.</span><span class="sxs-lookup"><span data-stu-id="92fda-128">For the parent entity, use a domain-based attribute that is based upon itself.</span></span>

## <a name="derived-hierarchy-example"></a><span data-ttu-id="92fda-129">Пример производной иерархии</span><span class="sxs-lookup"><span data-stu-id="92fda-129">Derived Hierarchy Example</span></span>
 <span data-ttu-id="92fda-130">В следующем примере конечные элементы сущности «Продукт» сгруппированы по конечным элементам сущности «Подкатегория», которые затем сгруппированы по конечным элементам сущности «Категория».</span><span class="sxs-lookup"><span data-stu-id="92fda-130">In the following example, leaf members of the Product entity are grouped by leaf members of the Subcategory entity, which are then grouped by leaf members of the Category entity.</span></span> <span data-ttu-id="92fda-131">Эта иерархия возможна, потому что у сущности «Продукт» есть атрибут «Подкатегория» на основе домена, а у сущности «Подкатегория» есть атрибут «Категория» на основе домена.</span><span class="sxs-lookup"><span data-stu-id="92fda-131">This hierarchy is possible because the Product entity has a domain-based attribute named Subcategory, and the Subcategory entity has a domain-based attribute named Category.</span></span>

 <span data-ttu-id="92fda-132">Структура иерархии показывает, как группируются элементы.</span><span class="sxs-lookup"><span data-stu-id="92fda-132">The hierarchy structure shows how the members are grouped.</span></span> <span data-ttu-id="92fda-133">Сущность с наибольшим числом элементов располагается в самом низу.</span><span class="sxs-lookup"><span data-stu-id="92fda-133">The entity with the most members is at the bottom.</span></span>

 <span data-ttu-id="92fda-134">![Иерархия, являющаяся производной от структуры модели](../../2014/master-data-services/media/mds-conc-derived-hierarchy-structure.gif "Иерархия, являющаяся производной от структуры модели")</span><span class="sxs-lookup"><span data-stu-id="92fda-134">![Hierarchy Derived from Model Structure](../../2014/master-data-services/media/mds-conc-derived-hierarchy-structure.gif "Hierarchy Derived from Model Structure")</span></span>

 <span data-ttu-id="92fda-135">В производной иерархии можно выделить связь между «Продуктом» и «Подкатегорией» и затем между «Подкатегорией» и «Категорией».</span><span class="sxs-lookup"><span data-stu-id="92fda-135">In a derived hierarchy, you can highlight the relationship between Product and Subcategory, and then between Subcategory and Category.</span></span> <span data-ttu-id="92fda-136">При просмотре элементов в этой иерархии каждый уровень дерева содержит элементы из одной сущности.</span><span class="sxs-lookup"><span data-stu-id="92fda-136">When you view the members in this hierarchy, each level in the tree contains members from the same entity.</span></span>

 <span data-ttu-id="92fda-137">![Пример производной иерархии от узла «Горный велосипед»](../../2014/master-data-services/media/mds-conc-derived-hierarchy-example.gif "Пример производной иерархии от узла «Горный велосипед»")</span><span class="sxs-lookup"><span data-stu-id="92fda-137">![Mountain Bike Derived Hierarchy Example](../../2014/master-data-services/media/mds-conc-derived-hierarchy-example.gif "Mountain Bike Derived Hierarchy Example")</span></span>

 <span data-ttu-id="92fda-138">Иерархия такого типа предотвращает перемещение элемента на недопустимый уровень.</span><span class="sxs-lookup"><span data-stu-id="92fda-138">This type of hierarchy prevents you from moving a member to a level that is not valid.</span></span> <span data-ttu-id="92fda-139">Например, можно переместить велосипед Road-650 из одной подкатегории, «Дорожные велосипеды», в другую, «Горные велосипеды».</span><span class="sxs-lookup"><span data-stu-id="92fda-139">For example, you can move the Road-650 bike from one subcategory, Road Bikes, to another, Mountain Bikes.</span></span> <span data-ttu-id="92fda-140">Нельзя перенести Road-650 напрямую внутри категории, например 1 {велосипеды}.</span><span class="sxs-lookup"><span data-stu-id="92fda-140">You cannot move Road-650 directly under a category, like 1 {Bikes}.</span></span> <span data-ttu-id="92fda-141">Каждый раз при перемещении элемента в дереве иерархии значение атрибута на основе домена для элемента изменяется, отражая это перемещение.</span><span class="sxs-lookup"><span data-stu-id="92fda-141">Each time you move a member in the hierarchy tree, the member's domain-based attribute value changes to reflect the move.</span></span>

## <a name="notes"></a><span data-ttu-id="92fda-142">Примечания</span><span class="sxs-lookup"><span data-stu-id="92fda-142">Notes</span></span>
 <span data-ttu-id="92fda-143">Все элементы в производной иерархии сортируются по коду.</span><span class="sxs-lookup"><span data-stu-id="92fda-143">All members in a derived hierarchy tree are sorted by code.</span></span> <span data-ttu-id="92fda-144">Нельзя менять порядок сортировки.</span><span class="sxs-lookup"><span data-stu-id="92fda-144">You cannot change the sort order.</span></span>

 <span data-ttu-id="92fda-145">Если атрибут на основе домена для элемента пуст и атрибут используется в производной иерархии, то элемент не отображается в иерархии.</span><span class="sxs-lookup"><span data-stu-id="92fda-145">If a member's domain-based attribute is blank and the attribute is used for a derived hierarchy, the member is not displayed in the hierarchy.</span></span> <span data-ttu-id="92fda-146">Можно создать бизнес-правила, которые требуют заполнения атрибутов.</span><span class="sxs-lookup"><span data-stu-id="92fda-146">Create business rules to require attributes to be populated.</span></span> <span data-ttu-id="92fda-147">Дополнительные сведения см. в разделе [Запрос значений атрибута (службы Master Data Services)](require-attribute-values-master-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="92fda-147">For more information, see [Require Attribute Values &#40;Master Data Services&#41;](require-attribute-values-master-data-services.md).</span></span>

## <a name="related-tasks"></a><span data-ttu-id="92fda-148">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="92fda-148">Related Tasks</span></span>

|<span data-ttu-id="92fda-149">Описание задачи</span><span class="sxs-lookup"><span data-stu-id="92fda-149">Task Description</span></span>|<span data-ttu-id="92fda-150">Раздел</span><span class="sxs-lookup"><span data-stu-id="92fda-150">Topic</span></span>|
|----------------------|-----------|
|<span data-ttu-id="92fda-151">Создание новой производной иерархии.</span><span class="sxs-lookup"><span data-stu-id="92fda-151">Create a new derived hierarchy.</span></span>|[<span data-ttu-id="92fda-152">Создание производной иерархии (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-152">Create a Derived Hierarchy &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/create-a-derived-hierarchy-master-data-services.md)|
|<span data-ttu-id="92fda-153">Скрытие или удаление уровней в существующей производной иерархии.</span><span class="sxs-lookup"><span data-stu-id="92fda-153">Hide or delete levels in an existing derived hierarchy.</span></span>|[<span data-ttu-id="92fda-154">Скрытие или удаление уровней в производной иерархии (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-154">Hide or Delete Levels in a Derived Hierarchy &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/hide-or-delete-levels-in-a-derived-hierarchy-master-data-services.md)|
|<span data-ttu-id="92fda-155">Изменение имени существующей производной иерархии.</span><span class="sxs-lookup"><span data-stu-id="92fda-155">Change the name of an existing derived hierarchy.</span></span>|[<span data-ttu-id="92fda-156">Изменение имени производной иерархии (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-156">Change a Derived Hierarchy Name &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/change-a-derived-hierarchy-name-master-data-services.md)|
|<span data-ttu-id="92fda-157">Удаление существующей производной иерархии.</span><span class="sxs-lookup"><span data-stu-id="92fda-157">Delete an existing derived hierarchy.</span></span>|[<span data-ttu-id="92fda-158">Удаление производной иерархии (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-158">Delete a Derived Hierarchy &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/delete-a-derived-hierarchy-master-data-services.md)|
|||

## <a name="related-content"></a><span data-ttu-id="92fda-159">См. также</span><span class="sxs-lookup"><span data-stu-id="92fda-159">Related Content</span></span>

-   [<span data-ttu-id="92fda-160">Атрибуты на основе домена (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-160">Domain-Based Attributes &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/domain-based-attributes-master-data-services.md)

-   [<span data-ttu-id="92fda-161">Явные иерархии (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-161">Explicit Hierarchies &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/explicit-hierarchies-master-data-services.md)

-   [<span data-ttu-id="92fda-162">Рекурсивные иерархии (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-162">Recursive Hierarchies &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/recursive-hierarchies-master-data-services.md)

-   [<span data-ttu-id="92fda-163">Производные иерархии с явными ограничениями (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-163">Derived Hierarchies with Explicit Caps &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/derived-hierarchies-with-explicit-caps-master-data-services.md)

-   [<span data-ttu-id="92fda-164">Коллекции (службы Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="92fda-164">Collections &#40;Master Data Services&#41;</span></span>](../../2014/master-data-services/collections-master-data-services.md)



---
title: Задача 12. Добавление преобразования "производный столбец" для добавления столбцов, необходимых для MDS | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: 98ccb271-04da-4126-9729-67e9a479aaef
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: a4a70dd4d288e425beb2821f6b2aaf440b1d1930
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87734681"
---
# <a name="task-12-adding-derived-column-transform-to-add-columns-required-by-mds"></a>Задача 12. Добавление преобразования "Производный столбец" для добавления требуемых столбцов MDS
  В этой задаче в поток данных добавляется преобразование «Производный столбец». В записи, передаваемые в это преобразование, добавляются два производных столбца **ImportType** и **BatchTag**. Необходимо добавить эти столбцы перед отправкой данных в промежуточные таблицы в MDS. Это необходимые столбцы для промежуточных таблиц в MDS. Дополнительные сведения см. в разделе [промежуточные таблицы конечных элементов](../master-data-services/leaf-member-staging-table-master-data-services.md) .  
  
1.  Перетащите **Преобразование Производный столбец** из раздела **Общие** в **области элементов служб SSIS** на вкладку **поток данных** .  
  
2.  Щелкните правой кнопкой мыши преобразование « **производный столбец** » на вкладке **поток данных** и нажмите кнопку **Переименовать**. Введите **Добавить столбцы, необходимые MDS** , и нажмите клавишу **Ввод**.  
  
3.  Подключить **дубликаты фильтра** , чтобы **Добавить столбцы, необходимые MDS** с помощью синего соединителя. Вы должны увидеть диалоговое окно **Выбор входных данных** .  
  
4.  В диалоговом окне **Выбор входных данных** выберите **уникальные записи**и нажмите кнопку **ОК**.  
  
     ![Диалоговое окно «Выбор входов и выходов»](../../2014/tutorials/media/et-addingdcttoaddcolumnsrequiredbymds-01.jpg "Диалоговое окно «Выбор входов и выходов»")  
  
5.  Щелкните **SSIS** в строке меню и выберите **переменные**.  
  
6.  В окне **переменные** нажмите кнопку **Добавить переменную** на панели инструментов.  
  
     ![Окно переменных служб SSIS](../../2014/tutorials/media/et-addingdcttoaddcolumnsrequiredbymds-02.jpg "Окно переменных служб SSIS")  
  
7.  Введите **ImportType** для **имени** и **2** в качестве **значения**. Вы задаете значение 2, поскольку требуется добавить новые элементы к сущности в MDS. Дополнительные сведения об этом параметре см. в разделе [Промежуточная таблица конечного элемента](../master-data-services/leaf-member-staging-table-master-data-services.md).  
  
8.  Снова нажмите кнопку **Добавить переменную** на панели инструментов.  
  
9. Введите **BatchTag** в поле **имя**, выберите **строку** для **типа данных**и **еимбатч** в качестве **значения**. **BatchTag** — это просто уникальное имя пакета, который будет отправлен в MDS.  
  
10. На вкладке **поток данных** дважды щелкните **Добавить столбцы, необходимые для MDS**.  
  
11. В диалоговом окне **Редактор преобразования «Производный столбец** » в **списке в нижней области**введите **ImportType** в поле **имя производного столбца**.  
  
12. Разверните узел **переменные и параметры** в верхней левой области, перетащите **пользователь:: ImportType** в столбец **выражение** .  
  
     ![редактор преобразования «Производный столбец»](../../2014/tutorials/media/et-addingdcttoaddcolumnsrequiredbymds-03.jpg "редактор преобразования «Производный столбец»")  
  
13. Введите **BatchTag** в следующей строке для **имени производного столбца**.  
  
14. Перетащите **User:: BatchTag** из **переменных и параметров** в столбец **выражение** .  
  
15. Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Преобразование «Производный столбец** ».  
  
## <a name="next-step"></a>Следующий шаг  
 [Задача 13. Добавление назначения OLE DB для записи данных в промежуточную таблицу MDS](../../2014/tutorials/task-13-adding-ole-db-destination-to-write-data-to-mds-staging-table.md)  
  
  

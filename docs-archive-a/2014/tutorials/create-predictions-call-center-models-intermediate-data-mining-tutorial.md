---
title: Создание прогнозов для моделей центра обработки вызовов (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5be0cec7-f639-4eeb-835e-e3204ae619e9
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: c2d402fb9f6509292442f31f85478b0612a45d56
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87656969"
---
# <a name="creating-predictions-for-the-call-center-models-intermediate-data-mining-tutorial"></a><span data-ttu-id="f7bb7-102">Создание прогнозов для моделей Call Center (учебник по интеллектуальному анализу данных — средний уровень)</span><span class="sxs-lookup"><span data-stu-id="f7bb7-102">Creating Predictions for the Call Center Models (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="f7bb7-103">Когда выявлены некоторые взаимосвязи между сменами, числом операторов, звонками и качеством обслуживания, можно создавать прогнозирующие запросы, которые будут использоваться в бизнес-аналитике и планировании.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-103">Now that you have learned something about the interactions between shifts, the number of operators, calls, and service grade, you are ready to create some prediction queries that can be used in business analysis and planning.</span></span> <span data-ttu-id="f7bb7-104">Вначале будут созданы прогнозы на исследовательской модели, чтобы проверить некоторые предположения.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-104">You will first create some predictions on the exploratory model to test some assumptions.</span></span> <span data-ttu-id="f7bb7-105">Затем с помощью модели логистической регрессии будут созданы массовые прогнозы.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-105">Next, you will create bulk predictions by using the logistic regression model.</span></span>  
  
 <span data-ttu-id="f7bb7-106">На этом занятии предполагается, что пользователю уже известно, что такое прогнозирующий запрос.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-106">This lesson assumes that you are already familiar with the concept of prediction queries.</span></span>  
  
## <a name="creating-predictions-using-the-neural-network-model"></a><span data-ttu-id="f7bb7-107">Создание прогнозов с помощью модели нейронной сети</span><span class="sxs-lookup"><span data-stu-id="f7bb7-107">Creating Predictions using the Neural Network Model</span></span>  
 <span data-ttu-id="f7bb7-108">В следующем примере показано, как создать одноэлементный прогноз с помощью модели нейронной сети, созданной для исследования.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-108">The following example demonstrates how to make a singleton prediction using the neural network model that was created for exploration.</span></span> <span data-ttu-id="f7bb7-109">Одноэлементные прогнозы служат хорошим способом проверить различные значения, чтобы оценить их воздействие на модель.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-109">Singleton predictions are a good way to try out different values to see the effect in the model.</span></span> <span data-ttu-id="f7bb7-110">В этом сценарии будет прогнозироваться уровень обслуживания для полуночной смены (без указания дня недели), если на дежурстве находятся шесть опытных операторов.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-110">In this scenario, you will predict the service grade for the midnight shift (no day of the week specified) if six experienced operators are on duty.</span></span>  
  
#### <a name="to-create-a-singleton-query-by-using-the-neural-network-model"></a><span data-ttu-id="f7bb7-111">Создание одноэлементного запроса с помощью модели нейронной сети</span><span class="sxs-lookup"><span data-stu-id="f7bb7-111">To create a singleton query by using the neural network model</span></span>  
  
1.  <span data-ttu-id="f7bb7-112">В среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] откройте решение с моделью, которую вы хотите использовать.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-112">In [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], open the solution that contains the model that you want to use.</span></span>  
  
2.  <span data-ttu-id="f7bb7-113">В конструкторе интеллектуального анализа данных перейдите на вкладку **Прогноз модели интеллектуального анализа** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-113">In Data Mining Designer, click the **Mining Model Prediction** tab.</span></span>  
  
3.  <span data-ttu-id="f7bb7-114">На панели **модель интеллектуального анализа данных** щелкните **выбрать модель**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-114">In the **Mining Model** pane, click **Select Model**.</span></span>  
  
4.  <span data-ttu-id="f7bb7-115">В диалоговом окне **Выбор модели интеллектуального анализа данных** отображается список структур интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-115">The **Select Mining Model** dialog box shows a list of mining structures.</span></span> <span data-ttu-id="f7bb7-116">Разверните структуру интеллектуального анализа данных, чтобы просмотреть список моделей интеллектуального анализа данных, связанных с этой структурой.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-116">Expand the mining structure to view a list of mining models associated with that structure.</span></span>  
  
5.  <span data-ttu-id="f7bb7-117">Разверните структуру интеллектуального анализа данных Call Center Default и выберите модель нейронной сети — Call Center-LR.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-117">Expand the mining structure Call Center Default, and select the neural network model, Call Center - LR.</span></span>  
  
6.  <span data-ttu-id="f7bb7-118">В меню **Модель интеллектуального анализа данных** выберите пункт **Одноэлементный запрос**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-118">From the **Mining Model** menu, select **Singleton Query**.</span></span>  
  
     <span data-ttu-id="f7bb7-119">Откроется диалоговое окно **Ввод одноэлементного запроса** со столбцами, сопоставленными со столбцами в модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-119">The **Singleton Query Input** dialog box appears, with columns mapped to the columns in the mining model.</span></span>  
  
7.  <span data-ttu-id="f7bb7-120">В диалоговом окне **Ввод одноэлементного запроса** щелкните строку для сдвига, а затем выберите *полночь*.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-120">In the **Singleton Query Input** dialog box, click the row for Shift, and then select *midnight*.</span></span>  
  
8.  <span data-ttu-id="f7bb7-121">Щелкните строку для операторов LVL 2 и введите `6` .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-121">Click the row for Lvl 2 Operators, and type `6`.</span></span>  
  
9. <span data-ttu-id="f7bb7-122">В нижней половине вкладки **Прогноз модели интеллектуального анализа данных** щелкните первую строку в сетке.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-122">In the bottom half of the **Mining Model Prediction** tab, click the first row in the grid.</span></span>  
  
10. <span data-ttu-id="f7bb7-123">В столбце **источник** щелкните стрелку вниз и выберите **функция прогнозирования**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-123">In the **Source** column, click the down arrow, and select **Prediction function**.</span></span> <span data-ttu-id="f7bb7-124">В столбце **поле** выберите **PredictHistogram**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-124">In the **Field** column, select **PredictHistogram**.</span></span>  
  
     <span data-ttu-id="f7bb7-125">Список аргументов, которые можно использовать с этой функцией прогнозирования, автоматически появится в поле **критерий или аргументы** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-125">A list of arguments that you can use with this prediction function automatically appears in the **Criteria/Arguments** box.</span></span>  
  
11. <span data-ttu-id="f7bb7-126">Перетащите столбец ServiceGrade из списка столбцов на панели **модель интеллектуального анализа данных** в поле **критерий или аргументы** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-126">Drag the ServiceGrade column from the list of columns in the **Mining Model** pane to the **Criteria/Arguments** box.</span></span>  
  
     <span data-ttu-id="f7bb7-127">Имя столбца автоматически вставляется в качестве аргумента.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-127">The name of the column is automatically inserted as the argument.</span></span> <span data-ttu-id="f7bb7-128">В это текстовое поле можно перетащить любой прогнозируемый атрибут.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-128">You can choose any predictable attribute column to drag into this text box.</span></span>  
  
12. <span data-ttu-id="f7bb7-129">Нажмите кнопку **Переключиться в представление результатов запроса**в верхнем углу конструктор запросов прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-129">Click the button **Switch to query results view**, in the upper corner of the Prediction Query Builder.</span></span>  
  
 <span data-ttu-id="f7bb7-130">Ожидаемые результаты содержат возможные прогнозируемые значения для каждого уровня обслуживания при заданных входных данных, а также значения несущего множества и вероятности для каждого прогноза.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-130">The expected results contain the possible predicted values for each service grade given these inputs, together with support and probability values for each prediction.</span></span> <span data-ttu-id="f7bb7-131">В любой момент можно вернуться в режим конструктора, чтобы изменить входные данные или добавить дополнительные входные данные.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-131">You can return to design view at any time and change the inputs, or add more inputs.</span></span>  
  
## <a name="creating-predictions-by-using-a-logistic-regression-model"></a><span data-ttu-id="f7bb7-132">Создание прогнозов с помощью модели логистической регрессии</span><span class="sxs-lookup"><span data-stu-id="f7bb7-132">Creating Predictions by using a Logistic Regression Model</span></span>  
 <span data-ttu-id="f7bb7-133">Если уже известны атрибуты, относящиеся к бизнес-задаче, можно использовать модель логистической регрессии для прогнозирования эффекта изменения определенных независимых переменных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-133">If you already know the attributes that are relevant to the business problem, you can use a logistic regression model to predict the effect of making changes in some attributes.</span></span> <span data-ttu-id="f7bb7-134">Логистическая регрессия — это статистический метод, который обычно используется для создания прогнозов на основе изменений в независимых переменных. Например, он используется в финансовых оценках для прогнозирования поведения клиента на основе демографических данных клиентов.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-134">Logistic regression is a statistical method that is commonly used to make predictions based on changes in independent variables: for example, it is used in financial scoring, to predict customer behavior based on customer demographics.</span></span>  
  
 <span data-ttu-id="f7bb7-135">В этой задаче вы узнаете, как создать источник данных, который будет использоваться для прогнозов, и сделать прогнозы, которые помогут ответить на несколько вопросов для бизнеса.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-135">In this task, you will learn how to create a data source that will be used for predictions, and then make predictions to help answer several business questions.</span></span>  
  
### <a name="generating-data-used-for-bulk-prediction"></a><span data-ttu-id="f7bb7-136">Создание данных, используемых для массового прогноза</span><span class="sxs-lookup"><span data-stu-id="f7bb7-136">Generating Data used for Bulk Prediction</span></span>  
 <span data-ttu-id="f7bb7-137">Существует множество способов предоставления входных данных. Например, можно импортировать уровни кадров из электронной таблицы и выполнить эти данные с помощью модели, чтобы спрогнозировать качество обслуживания в следующий месяц.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-137">There are many ways to provide input data: for example, you might import staffing levels from a spreadsheet, and run that data through the model to predict service quality for the next month.</span></span>  
  
 <span data-ttu-id="f7bb7-138">На этом занятии вы будете использовать конструктор представлений источников данных для создания именованного запроса.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-138">In this lesson, you will use the Data Source View designer to create a named query.</span></span> <span data-ttu-id="f7bb7-139">Этот именованный запрос представляет собой нестандартную инструкцию Transact-SQL, которая вычисляет для каждой смены в графике максимальное число операторов, минимальное количество принятых звонков и среднее количество возникших проблем.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-139">This named query is a custom Transact-SQL statement that for each shift on the schedule calculates the maximum number of operators on staff, the minimum calls received, and the average number of issues that are generated.</span></span> <span data-ttu-id="f7bb7-140">Затем эти данные будут присоединены к модели интеллектуального анализа данных для получения прогнозов на ближайшее время.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-140">You will then join that data to a mining model to make predictions about a series of upcoming dates.</span></span>  
  
##### <a name="to-generate-input-data-for-a-bulk-prediction-query"></a><span data-ttu-id="f7bb7-141">Создание входных данных для массового прогнозирующего запроса</span><span class="sxs-lookup"><span data-stu-id="f7bb7-141">To generate input data for a bulk prediction query</span></span>  
  
1.  <span data-ttu-id="f7bb7-142">В обозреватель решений щелкните правой кнопкой мыши элемент **представления источников данных**и выберите пункт **создать представление источника данных**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-142">In Solution Explorer, right-click **Data Source Views**, and then select **New Data Source View**.</span></span>  
  
2.  <span data-ttu-id="f7bb7-143">В мастере представлений источников данных выберите в [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] качестве источника данных, а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-143">In the Data Source View wizard, select [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] as the data source, and then click **Next**.</span></span>  
  
3.  <span data-ttu-id="f7bb7-144">На странице **Выбор таблиц и представлений** нажмите кнопку **Далее** , не выбирая никаких таблиц.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-144">On the **Select Tables and Views** page, click **Next** without selecting any tables.</span></span>  
  
4.  <span data-ttu-id="f7bb7-145">На странице **Завершение работы мастера** введите имя, `Shifts` .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-145">On the **Completing the Wizard** page, type the name, `Shifts`.</span></span>  
  
     <span data-ttu-id="f7bb7-146">Это имя будет выводиться в обозревателе решений в качестве имени для представления источников данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-146">This name will appear in Solution Explorer as the name of the data source view.</span></span>  
  
5.  <span data-ttu-id="f7bb7-147">Щелкните правой кнопкой мыши пустую область конструктора, а затем выберите **создать именованный запрос**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-147">Right-click the empty design pane, then select **New Named Query**.</span></span>  
  
6.  <span data-ttu-id="f7bb7-148">В диалоговом окне **Создание именованного запроса** в поле **имя**введите `Shifts for Call Center` .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-148">In the **Create Named Query** dialog box, for **Name**, type `Shifts for Call Center`.</span></span>  
  
     <span data-ttu-id="f7bb7-149">Это имя будет выводиться в качестве имени для именованного запроса только в конструкторе представлений источников данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-149">This name will appear in Data Source View designer only as the name of the named query.</span></span>  
  
7.  <span data-ttu-id="f7bb7-150">Вставьте следующую инструкцию запроса в текстовую панель SQL в нижней половине диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-150">Paste the following query statement into the SQL text pane in the lower half of the dialog box.</span></span>  
  
    ```  
    SELECT DISTINCT WageType, Shift,   
    AVG(Orders) as AvgOrders, MIN(Orders) as MinOrders, MAX(Orders) as MaxOrders,  
    AVG(Calls) as AvgCalls, MIN(Calls) as MinCalls, MAX(Calls) as MaxCalls,  
    AVG(LevelTwoOperators) as AvgOperators, MIN(LevelTwoOperators) as MinOperators, MAX(LevelTwoOperators) as MaxOperators,  
    AVG(IssuesRaised) as AvgIssues, MIN(IssuesRaised) as MinIssues, MAX(IssuesRaised) as MaxIssues  
    FROM dbo.FactCallCenter  
    GROUP BY Shift, WageType  
    ```  
  
8.  <span data-ttu-id="f7bb7-151">В области конструктора щелкните правой кнопкой мыши таблицу, сдвиги для центра обработки вызовов и выберите Просмотр **данных** , чтобы просмотреть данные, возвращенные запросом T-SQL.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-151">In the design pane, right-click the table, Shifts for Call Center, and select **Explore Data** to preview the data as returned by the T-SQL query.</span></span>  
  
9. <span data-ttu-id="f7bb7-152">Щелкните правой кнопкой мыши вкладку, **Shifts. dsv (конструктор),** а затем нажмите кнопку **сохранить** , чтобы сохранить новое определение представления источника данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-152">Right-click the tab, **Shifts.dsv (Design),** and then click **Save** to save the new data source view definition.</span></span>  
  
### <a name="predicting-service-metrics-for-each-shift"></a><span data-ttu-id="f7bb7-153">Прогнозирование метрик обслуживания для каждой смены</span><span class="sxs-lookup"><span data-stu-id="f7bb7-153">Predicting Service Metrics for Each Shift</span></span>  
 <span data-ttu-id="f7bb7-154">Теперь, когда для каждой смены создано несколько значений, эти значения будут использоваться в качестве входных данных для вашей модели логистической регрессии для получения некоторых прогнозов, необходимых для планирования.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-154">Now that you have generated some values for each shift, you will use those values as input to the logistic regression model that you built, to generate some predictions that can be used in business planning.</span></span>  
  
##### <a name="to-use-the-new-dsv-as-input-to-a-prediction-query"></a><span data-ttu-id="f7bb7-155">Использование нового представления источников данных в качестве входных данных для прогнозирующего запроса</span><span class="sxs-lookup"><span data-stu-id="f7bb7-155">To use the new DSV as input to a prediction query</span></span>  
  
1.  <span data-ttu-id="f7bb7-156">В конструкторе интеллектуального анализа данных перейдите на вкладку **Прогноз модели интеллектуального анализа** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-156">In Data Mining Designer, click the **Mining Model Prediction** tab.</span></span>  
  
2.  <span data-ttu-id="f7bb7-157">На панели **модель интеллектуального анализа данных** щелкните **выбрать модель**и выберите Call Center-LR в списке доступных моделей.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-157">In the **Mining Model** pane, click **Select Model**, and choose Call Center - LR from the list of available models.</span></span>  
  
3.  <span data-ttu-id="f7bb7-158">В меню **модель интеллектуального анализа данных** снимите флажок **одноэлементный запрос**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-158">From the **Mining Model** menu, clear the option, **Singleton Query**.</span></span> <span data-ttu-id="f7bb7-159">Появится предупреждение о том, что входные данные одноэлементного запроса будут утеряны.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-159">A warning tells you that the singleton query inputs will be lost.</span></span> <span data-ttu-id="f7bb7-160">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-160">Click **OK**.</span></span>  
  
     <span data-ttu-id="f7bb7-161">Диалоговое окно **Ввод одноэлементного запроса** заменяется диалоговым окном **Выбор входных таблиц** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-161">The **Singleton Query Input** dialog box is replaced with the **Select Input Table(s)** dialog box.</span></span>  
  
4.  <span data-ttu-id="f7bb7-162">Щелкните **Выбор таблицы вариантов**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-162">Click **Select Case Table**.</span></span>  
  
5.  <span data-ttu-id="f7bb7-163">В диалоговом окне **Выбор таблицы** селектшифтс из списка источников данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-163">In the **Select Table** dialog box, selectShifts from the list of data sources.</span></span> <span data-ttu-id="f7bb7-164">В списке **имя таблицы или представления** выберите сдвиги для центра обработки вызовов (он может быть выбран автоматически) и нажмите кнопку **ОК.**</span><span class="sxs-lookup"><span data-stu-id="f7bb7-164">In the **Table/View name** list, select Shifts for Call Center (it might be automatically selected), and then click **OK.**</span></span>  
  
     <span data-ttu-id="f7bb7-165">Область конструктора **Прогноз модели интеллектуального анализа данных** обновляется для отображения сопоставлений, созданных на основе имен и типов данных столбцов во входных данных и в модели.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-165">The **Mining Model Prediction** design surface is updated to show mappings that are created based on the names and data types of columns in the input data and in the model.</span></span>  
  
6.  <span data-ttu-id="f7bb7-166">Щелкните правой кнопкой мыши одну из линий соединения, а затем выберите пункт **Изменить соединения**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-166">Right-click one of the join lines, and then select **Modify Connections**.</span></span>  
  
     <span data-ttu-id="f7bb7-167">В этом диалоговом окне можно точно определить, какие столбцы сопоставлены, а какие — нет.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-167">In this dialog box, you can see exactly which columns are mapped and which are not.</span></span> <span data-ttu-id="f7bb7-168">Модель интеллектуального анализа данных содержит столбцы Calls, Orders, IssuesRaised и LvlTwoOperators, которые можно сопоставить с любым статистическим выражением, созданным на основе этих столбцов в исходных данных.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-168">The mining model contains columns for Calls, Orders, IssuesRaised, and LvlTwoOperators, which you can map to any of the aggregates that you created based on these columns in the source data.</span></span> <span data-ttu-id="f7bb7-169">В этом сценарии сопоставление будет выполняться со средними значениями.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-169">In this scenario, you will map to the averages.</span></span>  
  
7.  <span data-ttu-id="f7bb7-170">Щелкните пустую ячейку рядом с Левелтвуператорс и выберите **сдвиги для Call Center. авгоператорс**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-170">Click the empty cell next to LevelTwoOperators, and select **Shifts for Call Center.AvgOperators**.</span></span>  
  
8.  <span data-ttu-id="f7bb7-171">Щелкните пустую ячейку рядом с пунктом вызовы, выберите **сдвиги для Call Center. AvgCalls**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-171">Click the empty cell next to Calls, select **Shifts for Call Center.AvgCalls**.</span></span> <span data-ttu-id="f7bb7-172">а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-172">and then click **OK**.</span></span>  
  
##### <a name="to-create-the-predictions-for-each-shift"></a><span data-ttu-id="f7bb7-173">Создание прогнозов для каждой смены</span><span class="sxs-lookup"><span data-stu-id="f7bb7-173">To create the predictions for each shift</span></span>  
  
1.  <span data-ttu-id="f7bb7-174">В сетке в нижней половине **конструктор запросов прогнозирования**щелкните пустую ячейку в разделе **источник,** а затем выберите сдвиги для центра обработки вызовов.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-174">In the grid at the bottom half of the **Prediction Query Builder**, click the empty cell under **Source,** and then select Shifts for Call Center.</span></span>  
  
2.  <span data-ttu-id="f7bb7-175">В поле пустая ячейка под **полем**выберите Shift.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-175">In the empty cell under **Field**, select Shift.</span></span>  
  
3.  <span data-ttu-id="f7bb7-176">Щелкните следующую пустую линию в сетке и повторите описанную выше процедуру, чтобы добавить другую строку для WageType.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-176">Click the next empty line in the grid and repeat the procedure described above to add another row for WageType.</span></span>  
  
4.  <span data-ttu-id="f7bb7-177">Щелкните следующую пустую строку в сетке.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-177">Click the next empty line in the grid.</span></span> <span data-ttu-id="f7bb7-178">В столбце **Исходный** столбец выберите **функция прогнозирования**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-178">In the **Source** column, select **Prediction Function**.</span></span> <span data-ttu-id="f7bb7-179">В столбце **поле** выберите **Predict**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-179">In the **Field** column, select **Predict**.</span></span>  
  
5.  <span data-ttu-id="f7bb7-180">Перетащите столбец ServiceGrade с панели **модель интеллектуального анализа данных** на сетку и в ячейку **критерий или аргумент** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-180">Drag the column ServiceGrade from the **Mining Model** pane down to the grid, and into the **Criteria/Argument** cell.</span></span> <span data-ttu-id="f7bb7-181">В поле **псевдоним** введите **прогнозируемый уровень обслуживания**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-181">In the **Alias** field, type **Predicted Service Grade**.</span></span>  
  
6.  <span data-ttu-id="f7bb7-182">Щелкните следующую пустую строку в сетке.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-182">Click the next empty line in the grid.</span></span> <span data-ttu-id="f7bb7-183">В столбце **Исходный** столбец выберите **функция прогнозирования**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-183">In the **Source** column, select **Prediction Function**.</span></span> <span data-ttu-id="f7bb7-184">В столбце **поле** выберите **PredictProbability**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-184">In the **Field** column, select **PredictProbability**.</span></span>  
  
7.  <span data-ttu-id="f7bb7-185">Перетащите столбец ServiceGrade с панели **модель интеллектуального анализа данных** на сетку и в ячейку **критерий или аргумент** .</span><span class="sxs-lookup"><span data-stu-id="f7bb7-185">Drag the column ServiceGrade from the **Mining Model** pane down to the grid, and into the **Criteria/Argument** cell.</span></span> <span data-ttu-id="f7bb7-186">В поле **псевдоним** введите **вероятность**.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-186">In the **Alias** field, type **Probability**.</span></span>  
  
8.  <span data-ttu-id="f7bb7-187">Щелкните **Переключиться в представление результатов запроса** , чтобы просмотреть прогнозы.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-187">Click **Switch to query result view** to view the predictions.</span></span>  
  
 <span data-ttu-id="f7bb7-188">В следующей таблице показан образец результатов для каждой смены.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-188">The following table shows sample results for each shift.</span></span>  
  
|<span data-ttu-id="f7bb7-189">Сдвиг</span><span class="sxs-lookup"><span data-stu-id="f7bb7-189">Shift</span></span>|<span data-ttu-id="f7bb7-190">WageType</span><span class="sxs-lookup"><span data-stu-id="f7bb7-190">WageType</span></span>|<span data-ttu-id="f7bb7-191">Прогнозируемый уровень обслуживания</span><span class="sxs-lookup"><span data-stu-id="f7bb7-191">Predicted Service Grade</span></span>|<span data-ttu-id="f7bb7-192">Вероятность</span><span class="sxs-lookup"><span data-stu-id="f7bb7-192">Probability</span></span>|  
|-----------|--------------|-----------------------------|-----------------|  
|<span data-ttu-id="f7bb7-193">AM</span><span class="sxs-lookup"><span data-stu-id="f7bb7-193">AM</span></span>|<span data-ttu-id="f7bb7-194">выходной</span><span class="sxs-lookup"><span data-stu-id="f7bb7-194">holiday</span></span>|<span data-ttu-id="f7bb7-195">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-195">0.165</span></span>|<span data-ttu-id="f7bb7-196">0,377520666</span><span class="sxs-lookup"><span data-stu-id="f7bb7-196">0.377520666</span></span>|  
|<span data-ttu-id="f7bb7-197">midnight</span><span class="sxs-lookup"><span data-stu-id="f7bb7-197">midnight</span></span>|<span data-ttu-id="f7bb7-198">выходной</span><span class="sxs-lookup"><span data-stu-id="f7bb7-198">holiday</span></span>|<span data-ttu-id="f7bb7-199">0,105</span><span class="sxs-lookup"><span data-stu-id="f7bb7-199">0.105</span></span>|<span data-ttu-id="f7bb7-200">0,364105573</span><span class="sxs-lookup"><span data-stu-id="f7bb7-200">0.364105573</span></span>|  
|<span data-ttu-id="f7bb7-201">PM1</span><span class="sxs-lookup"><span data-stu-id="f7bb7-201">PM1</span></span>|<span data-ttu-id="f7bb7-202">выходной</span><span class="sxs-lookup"><span data-stu-id="f7bb7-202">holiday</span></span>|<span data-ttu-id="f7bb7-203">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-203">0.165</span></span>|<span data-ttu-id="f7bb7-204">0,40056055</span><span class="sxs-lookup"><span data-stu-id="f7bb7-204">0.40056055</span></span>|  
|<span data-ttu-id="f7bb7-205">PM2</span><span class="sxs-lookup"><span data-stu-id="f7bb7-205">PM2</span></span>|<span data-ttu-id="f7bb7-206">выходной</span><span class="sxs-lookup"><span data-stu-id="f7bb7-206">holiday</span></span>|<span data-ttu-id="f7bb7-207">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-207">0.165</span></span>|<span data-ttu-id="f7bb7-208">0,338532973</span><span class="sxs-lookup"><span data-stu-id="f7bb7-208">0.338532973</span></span>|  
|<span data-ttu-id="f7bb7-209">AM</span><span class="sxs-lookup"><span data-stu-id="f7bb7-209">AM</span></span>|<span data-ttu-id="f7bb7-210">weekday</span><span class="sxs-lookup"><span data-stu-id="f7bb7-210">weekday</span></span>|<span data-ttu-id="f7bb7-211">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-211">0.165</span></span>|<span data-ttu-id="f7bb7-212">0,370847617</span><span class="sxs-lookup"><span data-stu-id="f7bb7-212">0.370847617</span></span>|  
|<span data-ttu-id="f7bb7-213">midnight</span><span class="sxs-lookup"><span data-stu-id="f7bb7-213">midnight</span></span>|<span data-ttu-id="f7bb7-214">weekday</span><span class="sxs-lookup"><span data-stu-id="f7bb7-214">weekday</span></span>|<span data-ttu-id="f7bb7-215">0,08</span><span class="sxs-lookup"><span data-stu-id="f7bb7-215">0.08</span></span>|<span data-ttu-id="f7bb7-216">0,352999173</span><span class="sxs-lookup"><span data-stu-id="f7bb7-216">0.352999173</span></span>|  
|<span data-ttu-id="f7bb7-217">PM1</span><span class="sxs-lookup"><span data-stu-id="f7bb7-217">PM1</span></span>|<span data-ttu-id="f7bb7-218">weekday</span><span class="sxs-lookup"><span data-stu-id="f7bb7-218">weekday</span></span>|<span data-ttu-id="f7bb7-219">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-219">0.165</span></span>|<span data-ttu-id="f7bb7-220">0,317419177</span><span class="sxs-lookup"><span data-stu-id="f7bb7-220">0.317419177</span></span>|  
|<span data-ttu-id="f7bb7-221">PM2</span><span class="sxs-lookup"><span data-stu-id="f7bb7-221">PM2</span></span>|<span data-ttu-id="f7bb7-222">weekday</span><span class="sxs-lookup"><span data-stu-id="f7bb7-222">weekday</span></span>|<span data-ttu-id="f7bb7-223">0,105</span><span class="sxs-lookup"><span data-stu-id="f7bb7-223">0.105</span></span>|<span data-ttu-id="f7bb7-224">0,311672027</span><span class="sxs-lookup"><span data-stu-id="f7bb7-224">0.311672027</span></span>|  
  
### <a name="predicting-the-effect-of-reduced-response-time-on-service-grade"></a><span data-ttu-id="f7bb7-225">Прогнозирование влияния уменьшения времени ответа на уровень обслуживания</span><span class="sxs-lookup"><span data-stu-id="f7bb7-225">Predicting the Effect of Reduced Response Time on Service Grade</span></span>  
 <span data-ttu-id="f7bb7-226">Для каждой смены были созданы некоторые средние значения, использующиеся в качестве входных данных для модели логистической регрессии.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-226">You generated some average values for each shift, and used those values as input to the logistic regression model.</span></span> <span data-ttu-id="f7bb7-227">Но учитывая то, что бизнес-задачей является поддержание показателя прекращенных вызовов в диапазоне 0,00–0,05, результаты не впечатляют.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-227">However, given that the business objective is to keep abandon rate within the range 0.00-0.05, the results are not encouraging.</span></span>  
  
 <span data-ttu-id="f7bb7-228">Поэтому на основе исходной модели, которая показала сильное влияние времени ответа на уровень обслуживания, команда операторов принимает решение сделать несколько прогнозов, чтобы определить, может ли уменьшение среднего времени ответа на звонок повысить качество обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-228">Therefore, based on the original model, which showed a strong influence of response time on service grade, the Operations team decides to run some predictions to assess whether reducing the average time for responding to calls might improve service quality.</span></span> <span data-ttu-id="f7bb7-229">Например, что произойдет с уровнями обслуживания, если снизить время ответа на звонок до 90 процентов или даже до 80 процентов от текущего?</span><span class="sxs-lookup"><span data-stu-id="f7bb7-229">For example, if you cut the call response time to 90 percent or even to 80 percent of the current call response time, what would happen to service grade values?</span></span>  
  
 <span data-ttu-id="f7bb7-230">Легко создать представление источника данных, которое вычисляет среднее время ответа для каждой смены, а затем добавить столбцы, которые вычисляют 80 или 90 процентов среднего времени ответа.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-230">It is easy to create a data source view (DSV) that calculates the average response times for each shift, and then add columns that calculate 80% or 90% of the average response time.</span></span> <span data-ttu-id="f7bb7-231">Затем представление источника данных можно использовать в качестве входных данных для модели.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-231">You can then use the DSV as input to the model.</span></span>  
  
 <span data-ttu-id="f7bb7-232">Хотя конкретные шаги здесь не показаны, в следующей таблице сравниваются изменения в уровне обслуживания в случае уменьшения времени ответа до 80 и 90 процентов от текущего.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-232">Although the exact steps are not shown here, the following table compares the effects on service grade when you reduce response times to 80% or to 90% of current response times.</span></span>  
  
 <span data-ttu-id="f7bb7-233">Из этих результатов можно сделать вывод, что для повышения качества обслуживания следует уменьшить время ответа для конкретных смен до 90 процентов от текущего.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-233">From these results, you might conclude that on targeted shifts you should reduce the response time to 90 percent of the current rate in order to improve service quality.</span></span>  
  
|<span data-ttu-id="f7bb7-234">Смена, ставка и день</span><span class="sxs-lookup"><span data-stu-id="f7bb7-234">Shift, wage, and day</span></span>|<span data-ttu-id="f7bb7-235">Прогнозируемое качество обслуживания с текущим средним временем ответа.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-235">Predicted service quality with current average response time</span></span>|<span data-ttu-id="f7bb7-236">Качество прогнозируемых служб с уменьшением времени отклика в 90%</span><span class="sxs-lookup"><span data-stu-id="f7bb7-236">Predicted service quality with 90 percent reduction in response time</span></span>|<span data-ttu-id="f7bb7-237">Прогнозируемое качество обслуживания при уменьшении времени ответа до 80 процентов от текущего.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-237">Predicted service quality with 80 percent reduction in response time</span></span>|  
|--------------------------|------------------------------------------------------------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------|  
|<span data-ttu-id="f7bb7-238">Выходной до полудня</span><span class="sxs-lookup"><span data-stu-id="f7bb7-238">Holiday AM</span></span>|<span data-ttu-id="f7bb7-239">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-239">0.165</span></span>|<span data-ttu-id="f7bb7-240">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-240">0.05</span></span>|<span data-ttu-id="f7bb7-241">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-241">0.05</span></span>|  
|<span data-ttu-id="f7bb7-242">Выходной после полудня 1</span><span class="sxs-lookup"><span data-stu-id="f7bb7-242">Holiday PM1</span></span>|<span data-ttu-id="f7bb7-243">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-243">0.05</span></span>|<span data-ttu-id="f7bb7-244">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-244">0.05</span></span>|<span data-ttu-id="f7bb7-245">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-245">0.05</span></span>|  
|<span data-ttu-id="f7bb7-246">Полночь выходного</span><span class="sxs-lookup"><span data-stu-id="f7bb7-246">Holiday Midnight</span></span>|<span data-ttu-id="f7bb7-247">0,165</span><span class="sxs-lookup"><span data-stu-id="f7bb7-247">0.165</span></span>|<span data-ttu-id="f7bb7-248">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-248">0.05</span></span>|<span data-ttu-id="f7bb7-249">0,05</span><span class="sxs-lookup"><span data-stu-id="f7bb7-249">0.05</span></span>|  
  
 <span data-ttu-id="f7bb7-250">На основе этой модели можно создать множество других прогнозирующих запросов.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-250">There are a variety of other prediction queries that you can create on this model.</span></span> <span data-ttu-id="f7bb7-251">Например, можно спрогнозировать количество операторов, требуемое для достижения определенного уровня обслуживания или для ответа на заданное число входящих звонков.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-251">For example, you could predict how many operators are required to meet a certain service level or to respond to a certain number of incoming calls.</span></span> <span data-ttu-id="f7bb7-252">Поскольку в модель логистической регрессии можно включить несколько выходных значений, можно легко экспериментировать с различными независимыми переменными и результатами без необходимости создавать множество отдельных моделей.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-252">Because you can include multiple outputs in a logistic regression model, it is easy to experiment with different independent variables and outcomes without having to create many separate models.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="f7bb7-253">Remarks</span><span class="sxs-lookup"><span data-stu-id="f7bb7-253">Remarks</span></span>  
 <span data-ttu-id="f7bb7-254">В надстройках интеллектуального анализа данных для Excel 2007 имеются мастера логистической регрессии, которые помогают получить ответы на сложные вопросы, например определение числа операторов второго уровня, требуемого для повышения показателя обслуживания до заданного уровня для определенной смены.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-254">The Data Mining Add-Ins for Excel 2007 provide logistic regression wizards that make it easy to answer complex questions, such as how many Level Two Operators would be required to improve service grade to a target level for a specific shift.</span></span> <span data-ttu-id="f7bb7-255">Надстройки интеллектуального анализа данных загружаются бесплатно и содержат мастера на базе алгоритмов нейронной сети или логистической регрессии.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-255">The data mining add-ins are a free download, and include wizards that are based on the neural network or logistic regression algorithms.</span></span> <span data-ttu-id="f7bb7-256">Дополнительные сведения см. по следующим ссылкам:</span><span class="sxs-lookup"><span data-stu-id="f7bb7-256">For more information, see the following links:</span></span>  
  
-   <span data-ttu-id="f7bb7-257">[SQL Server 2005 надстройки интеллектуального анализа данных для Office 2007](https://www.microsoft.com/sql/technologies/dm/addins.mspx): Поиск решения и анализ сценариев What If</span><span class="sxs-lookup"><span data-stu-id="f7bb7-257">[SQL Server 2005 Data Mining Add-Ins for Office 2007](https://www.microsoft.com/sql/technologies/dm/addins.mspx): Goal Seek and What If Scenario Analysis</span></span>  
  
-   <span data-ttu-id="f7bb7-258">[SQL Server 2008 надстройки интеллектуального анализа данных для Office 2007](https://go.microsoft.com/fwlink/?LinkID=117790): анализ сценариев поиска целей, анализ сценариев What If и расчет прогноза</span><span class="sxs-lookup"><span data-stu-id="f7bb7-258">[SQL Server 2008 Data Mining Add-Ins for Office 2007](https://go.microsoft.com/fwlink/?LinkID=117790): Goal Seek Scenario Analysis, What If Scenario Analysis, and Prediction Calculator</span></span>  
  
## <a name="conclusion"></a><span data-ttu-id="f7bb7-259">Заключение</span><span class="sxs-lookup"><span data-stu-id="f7bb7-259">Conclusion</span></span>  
 <span data-ttu-id="f7bb7-260">Рассмотрены создание, настройка и интерпретация моделей интеллектуального анализа данных, основанных на алгоритме нейронной сети (Майкрософт) и алгоритме логистической регрессии (Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="f7bb7-260">You have learned to create, customize, and interpret mining models that are based on the Microsoft Neural Network algorithm and the Microsoft Logistic Regression algorithm.</span></span> <span data-ttu-id="f7bb7-261">Эти типы моделей являются сложными и дают практически безграничное разнообразие возможностей анализа, поэтому могут оказаться трудны в освоении.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-261">These model types are sophisticated and permit almost infinite variety in analysis, and therefore can be complex and difficult to master.</span></span>  
  
 <span data-ttu-id="f7bb7-262">Однако эти алгоритмы позволяют выполнять итерации с множеством комбинаций факторов и автоматически выявляют сильные корреляции, обеспечивая важную статистическую поддержку, которую было бы трудно получить, исследуя данные вручную с помощью Transact-SQL и даже PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="f7bb7-262">However, these algorithms can iterate through many combinations of factors and automatically identify the strongest correlations, providing statistical support for insights that would be very difficult to discover through manual exploration of data using Transact-SQL or even PowerPivot.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f7bb7-263">См. также:</span><span class="sxs-lookup"><span data-stu-id="f7bb7-263">See Also</span></span>  
 <span data-ttu-id="f7bb7-264">[Примеры запросов модели логистической регрессии](../../2014/analysis-services/data-mining/logistic-regression-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="f7bb7-264">[Logistic Regression Model Query Examples](../../2014/analysis-services/data-mining/logistic-regression-model-query-examples.md) </span></span>  
 <span data-ttu-id="f7bb7-265">[Алгоритм логистической регрессии (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-logistic-regression-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="f7bb7-265">[Microsoft Logistic Regression Algorithm](../../2014/analysis-services/data-mining/microsoft-logistic-regression-algorithm.md) </span></span>  
 <span data-ttu-id="f7bb7-266">[Алгоритм нейронной сети (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-neural-network-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="f7bb7-266">[Microsoft Neural Network Algorithm](../../2014/analysis-services/data-mining/microsoft-neural-network-algorithm.md) </span></span>  
 [<span data-ttu-id="f7bb7-267">Примеры запросов к модели нейронной сети</span><span class="sxs-lookup"><span data-stu-id="f7bb7-267">Neural Network Model Query Examples</span></span>](../../2014/analysis-services/data-mining/neural-network-model-query-examples.md)  
  
  

---
title: Добавление представления источников данных для данных центра обработки вызовов (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: a448e7e4-dbd1-4d31-90bc-4d4a1c23b352
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 6d3d9aa3153b39b9ef7f4a92af20e0e8791780bc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87735689"
---
# <a name="adding-a-data-source-view-for-call-center-data-intermediate-data-mining-tutorial"></a><span data-ttu-id="b0d8d-102">Добавление представления источников данных для данных Call Center (учебник по интеллектуальному анализу данных — средний уровень)</span><span class="sxs-lookup"><span data-stu-id="b0d8d-102">Adding a Data Source View for Call Center Data (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="b0d8d-103">В этой задаче добавляется представление источника данных, которое будет использоваться для доступа к данным центра обработки вызовов.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-103">In this task, you add a data source view that will be used to access the call center data.</span></span> <span data-ttu-id="b0d8d-104">Для построения исходной модели нейронной сети, предназначенной для исследования, и модели логистической регрессии, с помощью которой будут даваться рекомендации, будут использоваться одни и те же данные.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-104">The same data will be used to build both the initial neural network model for exploration, and the logistic regression model that you will use to make recommendations.</span></span>  
  
 <span data-ttu-id="b0d8d-105">Также для добавления столбца дня недели будет использован конструктор представлений исходных данных.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-105">You will also use the Data Source View Designer to add a column for the day of the week.</span></span> <span data-ttu-id="b0d8d-106">Это необходимо, поскольку исходный код отслеживает данные по датам центра обработки вызовов, при этом опыт подсказывает, что существуют повторяющиеся шаблоны как в плане объема, так и в плане качества обслуживания, в зависимости от того, является ли этот день выходным или рабочим днем.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-106">That is because, although the source data tracks call center data by dates, your experience tells you that there are recurring patterns both in terms of call volume and service quality, depending on whether the day is a weekend or a weekday.</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="b0d8d-107">Процедуры</span><span class="sxs-lookup"><span data-stu-id="b0d8d-107">Procedures</span></span>  
  
#### <a name="to-add-a-data-source-view"></a><span data-ttu-id="b0d8d-108">Добавление представления источников данных</span><span class="sxs-lookup"><span data-stu-id="b0d8d-108">To add a data source view</span></span>  
  
1.  <span data-ttu-id="b0d8d-109">В **Обозреватель решений**щелкните правой кнопкой мыши элемент **представления источников данных**и выберите пункт **создать представление источника данных**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-109">In **Solution Explorer**, right-click **Data Source Views**, and select **New Data Source View**.</span></span>  
  
     <span data-ttu-id="b0d8d-110">Будет открыт мастер представлений источников данных.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-110">The Data Source View Wizard opens.</span></span>  
  
2.  <span data-ttu-id="b0d8d-111">На странице **Мастер представления источника данных** нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-111">On the **Welcome to the Data Source View Wizard** page, click **Next**.</span></span>  
  
3.  <span data-ttu-id="b0d8d-112">На странице **Выбор источника данных** в разделе **реляционные источники данных**выберите [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] источник данных.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-112">On the **Select a Data Source** page, under **Relational data sources**, select the [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] data source.</span></span> <span data-ttu-id="b0d8d-113">Если у вас нет этого источника данных, см. [учебник по основам интеллектуального анализа данных](../../2014/tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8d-113">If you do not have this data source, see [Basic Data Mining Tutorial](../../2014/tutorials/basic-data-mining-tutorial.md).</span></span> <span data-ttu-id="b0d8d-114">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-114">Click **Next**.</span></span>  
  
4.  <span data-ttu-id="b0d8d-115">На странице **Выбор таблиц и представлений** выберите следующую таблицу, а затем щелкните стрелку вправо, чтобы добавить ее в представление источника данных:</span><span class="sxs-lookup"><span data-stu-id="b0d8d-115">On the **Select Tables and Views** page, select the following table and then click the right arrow to add it to the data source view:</span></span>  
  
    -   <span data-ttu-id="b0d8d-116">**FactCallCenter (dbo)**</span><span class="sxs-lookup"><span data-stu-id="b0d8d-116">**FactCallCenter (dbo)**</span></span>  
  
    -   <span data-ttu-id="b0d8d-117">**DimDate**</span><span class="sxs-lookup"><span data-stu-id="b0d8d-117">**DimDate**</span></span>  
  
5.  <span data-ttu-id="b0d8d-118">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-118">Click **Next**.</span></span>  
  
6.  <span data-ttu-id="b0d8d-119">На странице **Завершение работы мастера** по умолчанию представление источника данных имеет имя [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b0d8d-119">On the **Completing the Wizard** page, by default the data source view is named [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)].</span></span> <span data-ttu-id="b0d8d-120">Измените имя на **CallCenter**и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-120">Change the name to **CallCenter**, and then click **Finish**.</span></span>  
  
     <span data-ttu-id="b0d8d-121">Откроется окно Конструктор представлений источников данных, в котором отобразится представление источника данных **CallCenter** .</span><span class="sxs-lookup"><span data-stu-id="b0d8d-121">Data Source View Designer opens to display the **CallCenter** data source view.</span></span>  
  
7.  <span data-ttu-id="b0d8d-122">Щелкните правой кнопкой мыши панель представление источника данных и выберите команду **Добавить или удалить таблицы**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-122">Right-click inside the Data Source View pane, and select **Add/Remove Tables**.</span></span> <span data-ttu-id="b0d8d-123">Выберите таблицу **DimDate** и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-123">Select the table, **DimDate** and click **OK**.</span></span>  
  
     <span data-ttu-id="b0d8d-124">Связь должна автоматически добавляться между `DateKey` столбцами в каждой таблице.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-124">A relationship should be automatically added between the `DateKey` columns in each table.</span></span> <span data-ttu-id="b0d8d-125">Эта связь будет использоваться для получения столбца **столбцами EnglishDayNameOfWeek**из таблицы **DimDate** и его использования в модели.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-125">You will use this relationship to get the column, **EnglishDayNameOfWeek**, from the **DimDate** table and use it in your model.</span></span>  
  
8.  <span data-ttu-id="b0d8d-126">В конструкторе представлений источников данных щелкните правой кнопкой мыши таблицу **FactCallCenter**и выберите **Создать именованное вычисление**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-126">In the Data Source View designer, right-click the table, **FactCallCenter**, and select **New Named Calculation**.</span></span>  
  
     <span data-ttu-id="b0d8d-127">В диалоговом окне **Создание именованного вычисления** введите следующие значения:</span><span class="sxs-lookup"><span data-stu-id="b0d8d-127">In the **Create Named Calculation** dialog box, type the following values:</span></span>  
  
    |||  
    |-|-|  
    |<span data-ttu-id="b0d8d-128">**Имя столбца**</span><span class="sxs-lookup"><span data-stu-id="b0d8d-128">**Column name**</span></span>|<span data-ttu-id="b0d8d-129">DayOfWeek</span><span class="sxs-lookup"><span data-stu-id="b0d8d-129">DayOfWeek</span></span>|  
    |<span data-ttu-id="b0d8d-130">**Описание**</span><span class="sxs-lookup"><span data-stu-id="b0d8d-130">**Description**</span></span>|<span data-ttu-id="b0d8d-131">Получение дня недели из таблицы DimDate</span><span class="sxs-lookup"><span data-stu-id="b0d8d-131">Get day of week from DimDate table</span></span>|  
    |<span data-ttu-id="b0d8d-132">**Выражение**</span><span class="sxs-lookup"><span data-stu-id="b0d8d-132">**Expression**</span></span>|`(SELECT EnglishDayNameOfWeek AS DayOfWeek FROM DimDate where FactCallCenter.DateKey = DimDate.DateKey)`|  
  
     <span data-ttu-id="b0d8d-133">Чтобы убедиться, что выражение создает нужные данные, щелкните правой кнопкой мыши таблицу **FactCallCenter**и выберите **Просмотр данных**.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-133">To verify that the expression creates the data you need, right-click the table **FactCallCenter**, and then select **Explore Data**.</span></span>  
  
9. <span data-ttu-id="b0d8d-134">Внимательно просмотрите доступные данные и постарайтесь понять, как они используются в интеллектуальном анализе данных.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-134">Take a minute to review the data that is available, so that you can understand how it is used in data mining:</span></span>  
  
|<span data-ttu-id="b0d8d-135">Имя столбца</span><span class="sxs-lookup"><span data-stu-id="b0d8d-135">Column name</span></span>|<span data-ttu-id="b0d8d-136">Содержит</span><span class="sxs-lookup"><span data-stu-id="b0d8d-136">Contains</span></span>|  
|-----------------|--------------|  
|<span data-ttu-id="b0d8d-137">FactCallCenterID</span><span class="sxs-lookup"><span data-stu-id="b0d8d-137">FactCallCenterID</span></span>|<span data-ttu-id="b0d8d-138">При импорте данных в хранилище данных создается произвольный ключ.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-138">An arbitrary key created when the data was imported to the data warehouse.</span></span><br /><br /> <span data-ttu-id="b0d8d-139">Этот столбец идентифицирует уникальные записи. Его следует использовать в качестве ключа вариантов для модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-139">This column identifies unique records and should be used as the case key for the data mining model.</span></span>|  
|<span data-ttu-id="b0d8d-140">DateKey</span><span class="sxs-lookup"><span data-stu-id="b0d8d-140">DateKey</span></span>|<span data-ttu-id="b0d8d-141">Дата работы центра обработки вызовов в виде целого числа.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-141">The date of the call center operation, expressed as an integer.</span></span> <span data-ttu-id="b0d8d-142">Целочисленные ключи дат часто используются в хранилищах данных, однако может потребоваться получить дату в формате дата/время для группирования по значениям даты.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-142">Integer date keys are often used in data warehouses, but you might want to obtain the date in date/time format if you were going to group by date values.</span></span><br /><br /> <span data-ttu-id="b0d8d-143">Обратите внимание, что даты не являются уникальными, поскольку поставщик предоставляет отдельный отчет для каждой смены в каждый день работы.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-143">Note that dates are not unique because the vendor provides a separate report for each shift in each day of operation.</span></span>|  
|<span data-ttu-id="b0d8d-144">WageType</span><span class="sxs-lookup"><span data-stu-id="b0d8d-144">WageType</span></span>|<span data-ttu-id="b0d8d-145">Показывает, является день рабочим, выходным или праздничным.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-145">Indicates whether the day was a weekday, a weekend, or a holiday.</span></span><br /><br /> <span data-ttu-id="b0d8d-146">Возможно, существует разница в качества обслуживания клиентов в виде выходных и рабочих дней, поэтому этот столбец будет использоваться в качестве входных данных.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-146">It is possible that there is a difference in quality of customer service on weekends vs. weekdays so you will use this column as an input.</span></span>|  
|<span data-ttu-id="b0d8d-147">Сдвиг</span><span class="sxs-lookup"><span data-stu-id="b0d8d-147">Shift</span></span>|<span data-ttu-id="b0d8d-148">Указывает смену, для которой регистрируется звонок.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-148">Indicates the shift for which calls are recorded.</span></span> <span data-ttu-id="b0d8d-149">Этот центр обработки вызовов разделяет рабочий день на четыре смены: AM, PM1, PM2 и полночь.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-149">This call center divides the working day into four shifts: AM, PM1, PM2, and Midnight.</span></span><br /><br /> <span data-ttu-id="b0d8d-150">Смена может влиять на качество обслуживания клиентов, поэтому она будет входными данными.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-150">It is possible that the shift influences the quality of customer service so you will use this as an input.</span></span>|  
|<span data-ttu-id="b0d8d-151">LevelOneOperators</span><span class="sxs-lookup"><span data-stu-id="b0d8d-151">LevelOneOperators</span></span>|<span data-ttu-id="b0d8d-152">Указывает число операторов уровня 1 для пошлины.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-152">Indicates the number of Level 1 operators on duty.</span></span><br /><br /> <span data-ttu-id="b0d8d-153">Сотрудники центра обработки вызовов начинают на уровне 1, поэтому они менее опытные.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-153">Call center employees start at Level 1 so these employees are less experienced.</span></span>|  
|<span data-ttu-id="b0d8d-154">LevelTwoOperators</span><span class="sxs-lookup"><span data-stu-id="b0d8d-154">LevelTwoOperators</span></span>|<span data-ttu-id="b0d8d-155">Указывает число операторов уровня 2 на дежурстве.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-155">Indicates the number of Level 2 operators on duty.</span></span><br /><br /> <span data-ttu-id="b0d8d-156">Чтобы стать оператором уровня 2, сотрудник должен отработать определенное количество часов и зарегистрировать их в журнале.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-156">An employee must log a certain number of service hours to qualify as a Level 2 operator.</span></span>|  
|<span data-ttu-id="b0d8d-157">TotalOperators</span><span class="sxs-lookup"><span data-stu-id="b0d8d-157">TotalOperators</span></span>|<span data-ttu-id="b0d8d-158">Общее количество операторов, присутствующих на смене.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-158">The total number of operators present during the shift.</span></span>|  
|<span data-ttu-id="b0d8d-159">Вызовы</span><span class="sxs-lookup"><span data-stu-id="b0d8d-159">Calls</span></span>|<span data-ttu-id="b0d8d-160">Число звонков, полученных в течении смены.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-160">Number of calls received during the shift.</span></span>|  
|<span data-ttu-id="b0d8d-161">AutomaticResponses</span><span class="sxs-lookup"><span data-stu-id="b0d8d-161">AutomaticResponses</span></span>|<span data-ttu-id="b0d8d-162">Число звонков, полностью обработанных системой автоматической обработки (голосовое меню или IVR).</span><span class="sxs-lookup"><span data-stu-id="b0d8d-162">The number of calls that were handled entirely by automated call processing (Interactive Voice Response, or IVR).</span></span>|  
|<span data-ttu-id="b0d8d-163">Orders</span><span class="sxs-lookup"><span data-stu-id="b0d8d-163">Orders</span></span>|<span data-ttu-id="b0d8d-164">Число заказов, принятых в результате телефонных звонков.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-164">The number of orders that resulted from calls.</span></span>|  
|<span data-ttu-id="b0d8d-165">IssuesRaised</span><span class="sxs-lookup"><span data-stu-id="b0d8d-165">IssuesRaised</span></span>|<span data-ttu-id="b0d8d-166">Число проблем, требующих дополнительного рассмотрения, о которых было сообщено по телефону.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-166">The number of issues requiring follow-up that were generated by calls.</span></span>|  
|<span data-ttu-id="b0d8d-167">AverageTimePerIssue</span><span class="sxs-lookup"><span data-stu-id="b0d8d-167">AverageTimePerIssue</span></span>|<span data-ttu-id="b0d8d-168">Среднее время, необходимое для ответа на входящий звонок.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-168">The average time required to respond to an incoming call.</span></span>|  
|<span data-ttu-id="b0d8d-169">ServiceGrade</span><span class="sxs-lookup"><span data-stu-id="b0d8d-169">ServiceGrade</span></span>|<span data-ttu-id="b0d8d-170">Метрика, указывающая общее качество обслуживания, измеряемую как *скорость* отмены для всей смены.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-170">A metric that indicates the general quality of service, measured as the *abandon rate* for the entire shift.</span></span> <span data-ttu-id="b0d8d-171">Чем выше показатель звонков, прекращенных абонентом во время ожидания, тем более вероятно, что клиенты остаются недовольными, а компания теряет потенциальные заказы.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-171">The higher the abandon rate, the more likely it is that customers are dissatisfied and that potential orders are being lost.</span></span>|  
  
 <span data-ttu-id="b0d8d-172">Обратите внимание, что данные включают четыре разных столбца, основанных на одном столбце даты: `WageType` , **DayOfWeek**, `Shift` и `DateKey` .</span><span class="sxs-lookup"><span data-stu-id="b0d8d-172">Note that the data includes four different columns that are based on a single date column: `WageType`, **DayOfWeek**, `Shift`, and `DateKey`.</span></span> <span data-ttu-id="b0d8d-173">Обычно в интеллектуальном анализе данных лучше использовать несколько столбцов, полученных из одних данных, поскольку значения очень сильно коррелируют друг с другом и могут скрывать другие шаблоны.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-173">Ordinarily in data mining it is not a good idea to use multiple columns that are derived from the same data, as the values correlate with each other too strongly and can obscure other patterns.</span></span>  
  
 <span data-ttu-id="b0d8d-174">Однако мы не будем использовать `DateKey` в модели, так как она содержит слишком много уникальных значений.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-174">However, we will not use `DateKey` in the model because it contains too many unique values.</span></span> <span data-ttu-id="b0d8d-175">Нет прямой связи между `Shift` и **DayOfWeek**, а `WageType` и **DayOfWeek** только частично связаны друг с друга.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-175">There is no direct relationship between `Shift` and **DayOfWeek**, and `WageType` and **DayOfWeek** are only partly related.</span></span> <span data-ttu-id="b0d8d-176">Если есть озабоченность по поводу коллинеарности, можно создать структуру, используя все доступные столбцы, затем проигнорировать другие столбцы в каждой модели и протестировать результаты.</span><span class="sxs-lookup"><span data-stu-id="b0d8d-176">If you were worried about collinearity, you could create the structure using all of the available columns, and then ignore different columns in each model and test the effect.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="b0d8d-177">Следующая задача занятия</span><span class="sxs-lookup"><span data-stu-id="b0d8d-177">Next Task in Lesson</span></span>  
 [<span data-ttu-id="b0d8d-178">Руководство по созданию структуры нейронной сети и модели &#40;промежуточного интеллектуального анализа данных&#41;</span><span class="sxs-lookup"><span data-stu-id="b0d8d-178">Creating a Neural Network Structure and Model &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../2014/tutorials/creating-a-neural-network-structure-and-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="b0d8d-179">См. также:</span><span class="sxs-lookup"><span data-stu-id="b0d8d-179">See Also</span></span>  
 [<span data-ttu-id="b0d8d-180">Представления источников данных в многомерных моделях</span><span class="sxs-lookup"><span data-stu-id="b0d8d-180">Data Source Views in Multidimensional Models</span></span>](https://docs.microsoft.com/analysis-services/multidimensional-models/data-source-views-in-multidimensional-models)  
  
  

---
title: Создание структуры и модели потребительской корзины (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 659b7a4e-f687-44d9-a60a-86490ccbf90f
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: b276fe5bed1d9df8e8b2e3e2826966b6abfb734e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654693"
---
# <a name="creating-a-market-basket-structure-and-model-intermediate-data-mining-tutorial"></a><span data-ttu-id="f053b-102">Создание структуры и модели «Потребительская корзина» (учебник по интеллектуальному анализу данных — средний уровень)</span><span class="sxs-lookup"><span data-stu-id="f053b-102">Creating a Market Basket Structure and Model (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="f053b-103">Теперь, после создания представления источников данных, при помощи мастера интеллектуального анализа данных создадим новую структуру интеллектуального анализа.</span><span class="sxs-lookup"><span data-stu-id="f053b-103">Now that you have created a data source view, you will use the Data Mining Wizard to create a new mining structure.</span></span> <span data-ttu-id="f053b-104">В этой задаче будет создана структура интеллектуального анализа данных и модель интеллектуального анализа данных, основанная на [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритме взаимосвязей.</span><span class="sxs-lookup"><span data-stu-id="f053b-104">In this task, you will create a mining structure and a mining model that is based on the [!INCLUDE[msCoName](../includes/msconame-md.md)] Association algorithm.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f053b-105">Если возникла ошибка невозможности использования таблицы vAssocSeqLineItems в качестве вложенной, вернитесь к предыдущей задаче занятия и создайте соединение «многие к одному» путем перетаскивания таблицы vAssocSeqLineItems (сторона «многие») в таблицу vAssocSeqOrders (сторона «один»).</span><span class="sxs-lookup"><span data-stu-id="f053b-105">If you encounter an error stating that vAssocSeqLineItems cannot be used as a nested table, return to the previous task in the lesson, and be sure to create the many-to-one join by dragging from the vAssocSeqLineItems table (the many side) to the vAssocSeqOrders table (the one side).</span></span> <span data-ttu-id="f053b-106">Кроме того, можно изменить связь между таблицами. Для этого щелкните правой кнопкой мыши линию соединения.</span><span class="sxs-lookup"><span data-stu-id="f053b-106">You can also edit the relationship between the tables by right-clicking the join line.</span></span>  
  
### <a name="to-create-an-association-mining-structure"></a><span data-ttu-id="f053b-107">Создание структуры анализа взаимосвязей</span><span class="sxs-lookup"><span data-stu-id="f053b-107">To create an association mining structure</span></span>  
  
1.  <span data-ttu-id="f053b-108">В обозреватель решений в щелкните [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] правой кнопкой мыши элемент **структуры интеллектуального анализа** данных и выберите **создать структуру интеллектуального анализа** данных, чтобы открыть мастер интеллектуального анализа.</span><span class="sxs-lookup"><span data-stu-id="f053b-108">In Solution Explorer in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], right-click **Mining Structures** and select **New Mining Structure** to open the Data Mining Wizard.</span></span>  
  
2.  <span data-ttu-id="f053b-109">На странице **Вас приветствует мастер интеллектуального анализа данных** нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-109">On the **Welcome to the Data Mining Wizard** page, click **Next**.</span></span>  
  
3.  <span data-ttu-id="f053b-110">На странице **Выбор метода определения** убедитесь, что выбран параметр **из существующей реляционной базы данных или хранилища данных** , а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-110">On the **Select the Definition Method** page, verify that **From existing relational database or data warehouse** is selected, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="f053b-111">На странице **Создание структуры интеллектуального анализа данных** , в **которой вы хотите использовать метод интеллектуального анализа данных**, выберите в списке **Правила взаимосвязей (Майкрософт** ) и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-111">On the **Create the Data Mining Structure** page, under **Which data mining technique do you want to use?**, select **Microsoft Association Rules** from the list, and then click **Next**.</span></span> <span data-ttu-id="f053b-112">Откроется страница **Выбор представления источника данных** .</span><span class="sxs-lookup"><span data-stu-id="f053b-112">The **Select Data Source View** page appears.</span></span>  
  
5.  <span data-ttu-id="f053b-113">В разделе **Доступные представления источников данных**выберите **заказы**, а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-113">Select **Orders**under **Available data source views**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="f053b-114">На странице **Определение типов таблиц** в строке таблицы vAssocSeqLineItems установите флажок **вложенный** и в строке для вложенной таблицы vAssocSeqOrders установите флажок **Case (регистр** ).</span><span class="sxs-lookup"><span data-stu-id="f053b-114">On the **Specify Table Types** page, in the row for the vAssocSeqLineItems table, select the **Nested** check box, and in the row for the nested table vAssocSeqOrders, select the **Case** check box.</span></span> <span data-ttu-id="f053b-115">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-115">Click **Next**.</span></span>  
  
7.  <span data-ttu-id="f053b-116">На странице **Определение обучающих данных** очистите все флажки, которые могут быть проверены.</span><span class="sxs-lookup"><span data-stu-id="f053b-116">On the **Specify the Training Data** page, clear any boxes that might be checked.</span></span> <span data-ttu-id="f053b-117">Задайте ключ для таблицы вариантов vAssocSeqOrders, установив флажок **ключ** рядом с OrderNumber.</span><span class="sxs-lookup"><span data-stu-id="f053b-117">Set the key for the case table, vAssocSeqOrders, by selecting the **Key** check box next to OrderNumber.</span></span>  
  
     <span data-ttu-id="f053b-118">Поскольку целью анализа потребительской корзины является определение того, какие продукты включены в одну транзакцию, нет необходимости использовать поле **CustomerKey** .</span><span class="sxs-lookup"><span data-stu-id="f053b-118">Because the purpose of the market basket analysis is to determine which products are included in a single transaction, you do not have to use the **CustomerKey** field.</span></span>  
  
8.  <span data-ttu-id="f053b-119">Задайте ключ для вложенной таблицы vAssocSeqLineItems, установив флажок **ключ** рядом с полем модель.</span><span class="sxs-lookup"><span data-stu-id="f053b-119">Set the key for the nested table, vAssocSeqLineItems, by selecting the **Key** check box next to Model.</span></span> <span data-ttu-id="f053b-120">Флажок **входные данные** также выбирается автоматически.</span><span class="sxs-lookup"><span data-stu-id="f053b-120">The **Input** check box is also automatically selected when you do this.</span></span> <span data-ttu-id="f053b-121">Установите также **прогнозируемый** флажок `Model` .</span><span class="sxs-lookup"><span data-stu-id="f053b-121">Select the **Predictable** check box for `Model` as well.</span></span>  
  
     <span data-ttu-id="f053b-122">В модели потребительской корзины не волнует последовательность продуктов в корзине покупок, поэтому не следует включать **LineNumber** в качестве ключа для вложенной таблицы.</span><span class="sxs-lookup"><span data-stu-id="f053b-122">In a market basket model, you do not care about the sequence of products in the shopping basket, and therefore you should not include **LineNumber** as a key for the nested table.</span></span> <span data-ttu-id="f053b-123">Параметр **LineNumber** следует использовать в качестве ключа только в той модели, где важна последовательность.</span><span class="sxs-lookup"><span data-stu-id="f053b-123">You would use **LineNumber** as a key only in a model where the sequence is important.</span></span> <span data-ttu-id="f053b-124">В занятии 4 будет создана модель, использующая [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм кластеризации последовательностей.</span><span class="sxs-lookup"><span data-stu-id="f053b-124">You will create a model that uses the [!INCLUDE[msCoName](../includes/msconame-md.md)] Sequence Clustering algorithm in Lesson 4.</span></span>  
  
9. <span data-ttu-id="f053b-125">Установите флажок слева от столбцов IncomeGroup и Region (больше никакие флажки не устанавливайте).</span><span class="sxs-lookup"><span data-stu-id="f053b-125">Select the check box to the left of IncomeGroup and Region,but do not make any other selections.</span></span> <span data-ttu-id="f053b-126">Если выбрать самый левый столбец, в структуру будут добавлены столбцы для последующего обращения, однако эти столбцы не будут использоваться в модели.</span><span class="sxs-lookup"><span data-stu-id="f053b-126">Checking the leftmost column adds the columns to the structure for later reference, but the columns will not be used in the model.</span></span> <span data-ttu-id="f053b-127">Выбранные параметры должно иметь следующий вид:</span><span class="sxs-lookup"><span data-stu-id="f053b-127">Your selections should look like the following:</span></span>  
  
     <span data-ttu-id="f053b-128">![примерный вид диалогового окна](../../2014/tutorials/media/tutorial-configassocmodel.gif "примерный вид диалогового окна")</span><span class="sxs-lookup"><span data-stu-id="f053b-128">![how dialog box should look](../../2014/tutorials/media/tutorial-configassocmodel.gif "how dialog box should look")</span></span>  
  
10. <span data-ttu-id="f053b-129">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-129">Click **Next**.</span></span>  
  
11. <span data-ttu-id="f053b-130">На странице **Определение содержимого и типа данных столбцов**просмотрите параметры, которые должны быть представлены в следующей таблице, а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-130">On the **Specify Columns' Content and Data Type**page, review the selections, which should be as shown in the following table, and then click **Next**.</span></span>  
  
    |<span data-ttu-id="f053b-131">Столбцы</span><span class="sxs-lookup"><span data-stu-id="f053b-131">Columns</span></span>|<span data-ttu-id="f053b-132">Тип содержимого</span><span class="sxs-lookup"><span data-stu-id="f053b-132">Content Type</span></span>|<span data-ttu-id="f053b-133">Тип данных</span><span class="sxs-lookup"><span data-stu-id="f053b-133">Data Type</span></span>|  
    |-------------|------------------|---------------|  
    |<span data-ttu-id="f053b-134">IncomeGroup</span><span class="sxs-lookup"><span data-stu-id="f053b-134">IncomeGroup</span></span>|<span data-ttu-id="f053b-135">Discrete</span><span class="sxs-lookup"><span data-stu-id="f053b-135">Discrete</span></span>|<span data-ttu-id="f053b-136">Text</span><span class="sxs-lookup"><span data-stu-id="f053b-136">Text</span></span>|  
    |<span data-ttu-id="f053b-137">Номер заказа</span><span class="sxs-lookup"><span data-stu-id="f053b-137">Order Number</span></span>|<span data-ttu-id="f053b-138">Клавиши</span><span class="sxs-lookup"><span data-stu-id="f053b-138">Key</span></span>|<span data-ttu-id="f053b-139">Text</span><span class="sxs-lookup"><span data-stu-id="f053b-139">Text</span></span>|  
    |<span data-ttu-id="f053b-140">Регион</span><span class="sxs-lookup"><span data-stu-id="f053b-140">Region</span></span>|<span data-ttu-id="f053b-141">Discrete</span><span class="sxs-lookup"><span data-stu-id="f053b-141">Discrete</span></span>|<span data-ttu-id="f053b-142">Text</span><span class="sxs-lookup"><span data-stu-id="f053b-142">Text</span></span>|  
    |<span data-ttu-id="f053b-143">vAssocSeqLineItems</span><span class="sxs-lookup"><span data-stu-id="f053b-143">vAssocSeqLineItems</span></span>|||  
    |<span data-ttu-id="f053b-144">Модель</span><span class="sxs-lookup"><span data-stu-id="f053b-144">Model</span></span>|<span data-ttu-id="f053b-145">Клавиши</span><span class="sxs-lookup"><span data-stu-id="f053b-145">Key</span></span>|<span data-ttu-id="f053b-146">Text</span><span class="sxs-lookup"><span data-stu-id="f053b-146">Text</span></span>|  
  
12. <span data-ttu-id="f053b-147">На странице **Создание проверочного набора** значение по умолчанию для параметра **процент данных для тестирования** составляет 30 процентов.</span><span class="sxs-lookup"><span data-stu-id="f053b-147">On the **Create testing set** page, the default value for the option **Percentage of data for testing** is 30 percent.</span></span> <span data-ttu-id="f053b-148">Измените значение на **0**.</span><span class="sxs-lookup"><span data-stu-id="f053b-148">Change this to **0**.</span></span> <span data-ttu-id="f053b-149">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f053b-149">Click **Next**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f053b-150">Службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] предлагают различные диаграммы для измерения точности модели.</span><span class="sxs-lookup"><span data-stu-id="f053b-150">[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] provides different charts for measuring model accuracy.</span></span> <span data-ttu-id="f053b-151">Однако некоторые типы диаграмм точности, такие как диаграмма точности прогнозов и отчет перекрестной проверки, предназначены для классификации и оценки.</span><span class="sxs-lookup"><span data-stu-id="f053b-151">However, some accuracy chart types, such as the lift chart and cross-validation report, are designed for classification and estimation.</span></span> <span data-ttu-id="f053b-152">Они не поддерживаются в ассоциативном прогнозировании.</span><span class="sxs-lookup"><span data-stu-id="f053b-152">They are not supported for associative prediction.</span></span>  
  
13. <span data-ttu-id="f053b-153">На странице **Завершение работы мастера** в поле **имя структуры интеллектуального анализа данных**введите `Association` .</span><span class="sxs-lookup"><span data-stu-id="f053b-153">On the **Completing the Wizard** page, in **Mining structure name**, type `Association`.</span></span>  
  
14. <span data-ttu-id="f053b-154">В списке **имя модели интеллектуального анализа данных**введите `Association` .</span><span class="sxs-lookup"><span data-stu-id="f053b-154">In **Mining model name**, type `Association`.</span></span>  
  
15. <span data-ttu-id="f053b-155">Выберите параметр **Разрешить детализацию**и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="f053b-155">Select the option **Allow drill through**, and then click **Finish**.</span></span>  
  
     <span data-ttu-id="f053b-156">Откроется конструктор интеллектуального анализа данных, чтобы отобразить `Association` только что созданную структуру интеллектуального анализа.</span><span class="sxs-lookup"><span data-stu-id="f053b-156">Data Mining Designer opens to display the `Association` mining structure that you just created.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="f053b-157">Следующая задача занятия</span><span class="sxs-lookup"><span data-stu-id="f053b-157">Next Task in Lesson</span></span>  
 [<span data-ttu-id="f053b-158">Изменение и обработка модели потребительской корзины &#40;руководстве по интеллектуальному анализу данных&#41;</span><span class="sxs-lookup"><span data-stu-id="f053b-158">Modifying and Processing the Market Basket Model &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../2014/tutorials/modify-process-market-basket-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="f053b-159">См. также:</span><span class="sxs-lookup"><span data-stu-id="f053b-159">See Also</span></span>  
 <span data-ttu-id="f053b-160">[Алгоритм взаимосвязей (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-association-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="f053b-160">[Microsoft Association Algorithm](../../2014/analysis-services/data-mining/microsoft-association-algorithm.md) </span></span>  
 [<span data-ttu-id="f053b-161">Типы содержимого (интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="f053b-161">Content Types &#40;Data Mining&#41;</span></span>](../../2014/analysis-services/data-mining/content-types-data-mining.md)  
  
  

---
title: Настройка и обработка модели прогнозирования (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 4bd25e15-9d9e-4528-b7bc-ccb856643aec
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 03dc67907b22750eb1b8539feaddec58f61f702f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666304"
---
# <a name="customizing-and-processing-the-forecasting-model-intermediate-data-mining-tutorial"></a><span data-ttu-id="6770a-102">Настройка и обработка модели прогнозирования (учебник по интеллектуальному анализу данных — средний уровень)</span><span class="sxs-lookup"><span data-stu-id="6770a-102">Customizing and Processing the Forecasting Model (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="6770a-103">Алгоритм временных рядов ([!INCLUDE[msCoName](../includes/msconame-md.md)]) предоставляет параметры, которые влияют на способ создания модели и методы анализа временных данных.</span><span class="sxs-lookup"><span data-stu-id="6770a-103">The [!INCLUDE[msCoName](../includes/msconame-md.md)] Time Series algorithm provides parameters that affect how a model is created, and how time data is analyzed.</span></span> <span data-ttu-id="6770a-104">С помощью этих свойств можно существенно повлиять на прогнозы, сделанные моделью интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="6770a-104">Changing these properties can significantly affect how the mining model makes predictions.</span></span>  
  
 <span data-ttu-id="6770a-105">На этом занятии учебника вы выполните следующие изменения модели.</span><span class="sxs-lookup"><span data-stu-id="6770a-105">For this task in the tutorial, you will perform the following tasks to modify the model:</span></span>  
  
1.  <span data-ttu-id="6770a-106">Вы настроите способ обработки модели периодов времени, добавив новое значение для параметра *PERIODICITY_HINT* .</span><span class="sxs-lookup"><span data-stu-id="6770a-106">You will customize the way your model handles time periods by adding a new value for the *PERIODICITY_HINT* parameter.</span></span>  
  
2.  <span data-ttu-id="6770a-107">Вы узнаете о двух других важных параметрах алгоритма временных рядов (Майкрософт): FORECAST_METHOD, который позволяет управлять методом, используемым для прогнозирования, и PREDICTION_SMOOTHING, который позволяет настраивать смешение долгосрочных и краткосрочных прогнозов.</span><span class="sxs-lookup"><span data-stu-id="6770a-107">You will learn about two other important parameters for the Microsoft Time Series algorithm: FORECAST_METHOD, which lets you control the method used for forecasting, and PREDICTION_SMOOTHING, which lets you customize the blend of long-term and short-term predictions.</span></span>  
  
3.  <span data-ttu-id="6770a-108">При необходимости можно указать алгоритму, как вычислять отсутствующие значения.</span><span class="sxs-lookup"><span data-stu-id="6770a-108">Optionally, you will tell the algorithm how you want missing values to be imputed.</span></span>  
  
4.  <span data-ttu-id="6770a-109">После внесения всех изменений необходимо будет развернуть и обработать модель.</span><span class="sxs-lookup"><span data-stu-id="6770a-109">After all the changes have been made, you will deploy and process the model.</span></span>  
  
## <a name="setting-time-series-parameters"></a><span data-ttu-id="6770a-110">Настройка параметров временных рядов</span><span class="sxs-lookup"><span data-stu-id="6770a-110">Setting Time Series Parameters</span></span>  
 <span data-ttu-id="6770a-111">**Указания периодичности**</span><span class="sxs-lookup"><span data-stu-id="6770a-111">**Periodicity Hints**</span></span>  
  
 <span data-ttu-id="6770a-112">Параметр *PERIODICITY_HINT* предоставляет алгоритму сведения о дополнительных периодах времени, которые должны отображаться в данных.</span><span class="sxs-lookup"><span data-stu-id="6770a-112">The *PERIODICITY_HINT* parameter provides the algorithm with information about additional time periods that you expect to see in the data.</span></span> <span data-ttu-id="6770a-113">По умолчанию модели временных рядов автоматически пытаются обнаружить закономерность в данных.</span><span class="sxs-lookup"><span data-stu-id="6770a-113">By default, time series models will try to automatically detect a pattern in the data.</span></span> <span data-ttu-id="6770a-114">Но если ожидаемый временной цикл уже известен, указание периодичности может повысить точность модели.</span><span class="sxs-lookup"><span data-stu-id="6770a-114">However, if you already know the expected time cycle, providing a periodicity hint can potentially improve the accuracy of the model.</span></span> <span data-ttu-id="6770a-115">Однако неправильное указание периодичности может снизить точность, поэтому если вы не уверены, какое значение использовать, лучше оставить значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6770a-115">However, if you provide the wrong periodicity hint, it can decrease accuracy; therefore, if you are not sure what value should be used, it is best to use the default.</span></span>  
  
 <span data-ttu-id="6770a-116">Например, представление для этой модели суммирует данные продаж из [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] по месяцам.</span><span class="sxs-lookup"><span data-stu-id="6770a-116">For example, the view used for this model aggregates sales data from [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] on a monthly basis.</span></span> <span data-ttu-id="6770a-117">Поэтому каждый временной срез, используемый моделью, представляет один месяц, и все прогнозы также делаются по месяцам.</span><span class="sxs-lookup"><span data-stu-id="6770a-117">Therefore each time slice used by the model represents one month, and all predictions will also be in terms of months.</span></span> <span data-ttu-id="6770a-118">Так как в году 12 месяцев и предполагается, что шаблоны продаж больше или меньше повторяются ежегодно, вы устанавливаете параметр *PERIODICITY_HINT* в значение `12` , чтобы указать, что 12 временных срезов (месяцев) составляют один полный цикл продаж.</span><span class="sxs-lookup"><span data-stu-id="6770a-118">Since there are 12 months in a year and you expect that sales patterns more or less repeat on a yearly basis, you will set the *PERIODICITY_HINT* parameter to `12`, to indicate that 12 time slices (months) constitute one complete sales cycle.</span></span>  
  
 <span data-ttu-id="6770a-119">**Метод прогнозирования**</span><span class="sxs-lookup"><span data-stu-id="6770a-119">**Forecasting Method**</span></span>  
  
 <span data-ttu-id="6770a-120">Параметр *FORECAST_METHOD* определяет, оптимизирован ли алгоритм временных рядов для краткосрочных или долгосрочных прогнозов.</span><span class="sxs-lookup"><span data-stu-id="6770a-120">The *FORECAST_METHOD* parameter controls whether the time series algorithm is optimized for short-term or long-term predictions.</span></span> <span data-ttu-id="6770a-121">По умолчанию параметр *FORECAST_METHOD* имеет значение MIXED. Это означает, что два разных алгоритма смешиваются и сбалансированы, чтобы предоставить хорошие результаты для краткосрочного и долгосрочного прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="6770a-121">By default, the *FORECAST_METHOD* parameter is set to MIXED, which means that two different algorithms are blended and balanced to provide good results for both short-term and long-term prediction.</span></span>  
  
 <span data-ttu-id="6770a-122">Однако если вы хотите использовать определенный алгоритм, можно изменить это значение на ARIMA или ARTXP.</span><span class="sxs-lookup"><span data-stu-id="6770a-122">However, if you know that you want to use a particular algorithm, you can change the value to either ARIMA or ARTXP.</span></span>  
  
 <span data-ttu-id="6770a-123">**Взвешенное время долгосрочных и краткосрочных прогнозов**</span><span class="sxs-lookup"><span data-stu-id="6770a-123">**Weighting Long-Term vs. Short-Term Predictions**</span></span>  
  
 <span data-ttu-id="6770a-124">Можно также настроить сочетание долгосрочных и краткосрочных прогнозов с помощью параметра PREDICTION_SMOOTHING.</span><span class="sxs-lookup"><span data-stu-id="6770a-124">You can also customize the way that long-term and short-term predictions are combined by using the PREDICTION_SMOOTHING parameter.</span></span> <span data-ttu-id="6770a-125">По умолчанию он имеет параметр 0,5, что обычно обеспечивает наилучший баланс для общей точности.</span><span class="sxs-lookup"><span data-stu-id="6770a-125">By default, this parameter is set to 0.5, which generally provides the best balance for overall accuracy.</span></span>  
  
#### <a name="to-change-the-algorithm-parameters"></a><span data-ttu-id="6770a-126">Изменение параметров алгоритма</span><span class="sxs-lookup"><span data-stu-id="6770a-126">To change the algorithm parameters</span></span>  
  
1.  <span data-ttu-id="6770a-127">На вкладке **модели интеллектуального анализа данных** щелкните правой кнопкой мыши пункт **Прогнозирование**и выберите команду **задать параметры алгоритма**.</span><span class="sxs-lookup"><span data-stu-id="6770a-127">On the **Mining Models** tab, right-click **Forecasting**, and select **Set Algorithm Parameters**.</span></span>  
  
2.  <span data-ttu-id="6770a-128">В `PERIODICITY_HINT` строке диалогового окна **Параметры алгоритма** щелкните столбец **значение** , а затем введите `{12}` , включая фигурные скобки.</span><span class="sxs-lookup"><span data-stu-id="6770a-128">In the `PERIODICITY_HINT` row of the **Algorithm Parameters** dialog box, click the **Value** column, then type `{12}`, including the braces.</span></span>  
  
     <span data-ttu-id="6770a-129">По умолчанию алгоритм также добавит значение {1}.</span><span class="sxs-lookup"><span data-stu-id="6770a-129">By default, the algorithm will also add the value {1}.</span></span>  
  
3.  <span data-ttu-id="6770a-130">В `FORECAST_METHOD` строке убедитесь, что текстовое поле **значение** пусто или имеет значение `MIXED` .</span><span class="sxs-lookup"><span data-stu-id="6770a-130">In the `FORECAST_METHOD` row, verify that the **Value** text box is either blank or set to `MIXED`.</span></span> <span data-ttu-id="6770a-131">Если введено другое значение, введите, `MIXED` чтобы изменить параметр обратно на значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6770a-131">If a different value has been entered, type `MIXED` to change the parameter back to the default value.</span></span>  
  
4.  <span data-ttu-id="6770a-132">В строке **PREDICTION_SMOOTHING** убедитесь, что текстовое поле **значение** пустое или имеет значение 0,5.</span><span class="sxs-lookup"><span data-stu-id="6770a-132">In the **PREDICTION_SMOOTHING** row, verify that the **Value** text box is either blank or set to 0.5.</span></span> <span data-ttu-id="6770a-133">Если введено другое значение, щелкните **значение** и введите, `0.5` чтобы изменить параметр обратно на значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6770a-133">If a different value has been entered, click **Value** and type `0.5` to change the parameter back to the default value.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6770a-134">Параметр PREDICTION_SMOOTHING доступен только в версии [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Enterprise.</span><span class="sxs-lookup"><span data-stu-id="6770a-134">The PREDICTION_SMOOTHING parameter is available only in [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Enterprise.</span></span> <span data-ttu-id="6770a-135">Поэтому увидеть или изменить значение параметра PREDICTION_SMOOTHING в выпуске [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Standard нельзя.</span><span class="sxs-lookup"><span data-stu-id="6770a-135">Therefore, you cannot view or change the value of the PREDICTION_SMOOTHING parameter in [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Standard.</span></span> <span data-ttu-id="6770a-136">Однако по умолчанию используются оба алгоритма с одинаковым весом.</span><span class="sxs-lookup"><span data-stu-id="6770a-136">However, the default behavior is to use both algorithms and weight them equally.</span></span>  
  
5.  <span data-ttu-id="6770a-137">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="6770a-137">Click **OK**.</span></span>  
  
## <a name="handling-missing-data-optional"></a><span data-ttu-id="6770a-138">Обработка отсутствующих данных (необязательно)</span><span class="sxs-lookup"><span data-stu-id="6770a-138">Handling Missing Data (Optional)</span></span>  
 <span data-ttu-id="6770a-139">Во многих случаях данные продаж могут иметь пробелы, заполненные нулями, или магазин может не выполнить отчет к сроку, в результате чего в конце ряда останется пустая ячейка.</span><span class="sxs-lookup"><span data-stu-id="6770a-139">In many cases, your sales data might have gaps that are filled with nulls, or a store might have failed to meet the reporting deadline, leaving an empty cell at the end of the series.</span></span> <span data-ttu-id="6770a-140">В таких случаях службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] не будут обрабатывать модель и выдадут следующую ошибку.</span><span class="sxs-lookup"><span data-stu-id="6770a-140">In such scenarios, [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] raises the following error and will not process the model.</span></span>  
  
 <span data-ttu-id="6770a-141">"Ошибка (интеллектуальный анализ данных): метки времени, не синхронизированные начиная с ряда \<series name> , модели интеллектуального анализа данных \<model name> .</span><span class="sxs-lookup"><span data-stu-id="6770a-141">"Error (Data mining): Time stamps not synchronized starting with series \<series name>, of the mining model, \<model name>.</span></span> <span data-ttu-id="6770a-142">Все временные ряды должны завершаться в одной временной метке и не могут иметь произвольно отсутствующие точки данных.</span><span class="sxs-lookup"><span data-stu-id="6770a-142">All time series must end at the same time mark and cannot have arbitrarily missing data points.</span></span> <span data-ttu-id="6770a-143">Задание в качестве значения параметра MISSING_VALUE_SUBSTITUTION "PREVIOUS" или числовой константы автоматически исправляет отсутствующие точки данных, где это возможно».</span><span class="sxs-lookup"><span data-stu-id="6770a-143">Setting the MISSING_VALUE_SUBSTITUTION parameter to Previous or to a numeric constant will automatically patch missing data points where possible."</span></span>  
  
 <span data-ttu-id="6770a-144">Чтобы избежать этой ошибки, можно указать, что службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] должны автоматически предоставлять новые значения для заполнения промежутков с помощью одного из следующих методов.</span><span class="sxs-lookup"><span data-stu-id="6770a-144">To avoid this error, you can specify that [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] automatically provide new values to fill in the gaps by using any one of the following methods:</span></span>  
  
-   <span data-ttu-id="6770a-145">Использование среднего значения.</span><span class="sxs-lookup"><span data-stu-id="6770a-145">Using an average value.</span></span> <span data-ttu-id="6770a-146">Среднее значение вычисляется с помощью всех действительных значений в одном ряде данных.</span><span class="sxs-lookup"><span data-stu-id="6770a-146">The mean is calculated by using all valid values in the same data series.</span></span>  
  
-   <span data-ttu-id="6770a-147">Использование предыдущего значения.</span><span class="sxs-lookup"><span data-stu-id="6770a-147">Using the previous value.</span></span> <span data-ttu-id="6770a-148">Несколько ячеек с отсутствующими данными можно заполнить предыдущими значениями, но нельзя заполнить начальные значения.</span><span class="sxs-lookup"><span data-stu-id="6770a-148">You can substitute previous values for multiple missing cells, but you cannot fill starting values.</span></span>  
  
-   <span data-ttu-id="6770a-149">Использование предоставляемого постоянного значения.</span><span class="sxs-lookup"><span data-stu-id="6770a-149">Using a constant value that you supply.</span></span>  
  
#### <a name="to-specify-that-gaps-be-filled-by-averaging-values"></a><span data-ttu-id="6770a-150">Заполнение промежутков средними значениями</span><span class="sxs-lookup"><span data-stu-id="6770a-150">To specify that gaps be filled by averaging values</span></span>  
  
1.  <span data-ttu-id="6770a-151">На вкладке **модели интеллектуального анализа данных** щелкните правой кнопкой мыши столбец **Прогноз** и выберите пункт **задать параметры алгоритма**.</span><span class="sxs-lookup"><span data-stu-id="6770a-151">On the **Mining Models** tab, right-click the **Forecasting** column, and select **Set Algorithm Parameters**.</span></span>  
  
2.  <span data-ttu-id="6770a-152">В диалоговом окне **Параметры алгоритма** в строке **MISSING_VALUE_SUBSTITUTION** щелкните столбец **значение** и введите `Mean` .</span><span class="sxs-lookup"><span data-stu-id="6770a-152">In the **Algorithm Parameters** dialog box, in the **MISSING_VALUE_SUBSTITUTION** row, click the **Value** column, and type `Mean`.</span></span>  
  
## <a name="build-the-model"></a><span data-ttu-id="6770a-153">Построение модели</span><span class="sxs-lookup"><span data-stu-id="6770a-153">Build the Model</span></span>  
 <span data-ttu-id="6770a-154">Чтобы использовать модель, необходимо развернуть ее на сервере и обработать, выполнив алгоритм с обучающими данными.</span><span class="sxs-lookup"><span data-stu-id="6770a-154">To use the model, you must deploy it to a server, and process the model by running the training data through the algorithm.</span></span>  
  
#### <a name="to-process-the-forecasting-model"></a><span data-ttu-id="6770a-155">Обработка модели прогнозирования</span><span class="sxs-lookup"><span data-stu-id="6770a-155">To process the forecasting model</span></span>  
  
1.  <span data-ttu-id="6770a-156">В меню **Модель интеллектуального анализа данных** среды [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]выберите команду **Обработать структуру интеллектуального анализа данных и все модели**.</span><span class="sxs-lookup"><span data-stu-id="6770a-156">On the **Mining Model** menu of [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], select **Process Mining Structure and All Models**.</span></span>  
  
2.  <span data-ttu-id="6770a-157">В окне предупреждения с вопросом о том, нужно ли выполнить построение и развертывание проекта, нажмите кнопку **Да**.</span><span class="sxs-lookup"><span data-stu-id="6770a-157">At the warning asking whether you want to build and deploy the project, click **Yes**.</span></span>  
  
3.  <span data-ttu-id="6770a-158">В диалоговом окне **Обработка структуры интеллектуального анализа данных — Прогнозирование** нажмите кнопку **выполнить**.</span><span class="sxs-lookup"><span data-stu-id="6770a-158">In the **Process Mining Structure - Forecasting** dialog box, click **Run**.</span></span>  
  
     <span data-ttu-id="6770a-159">Будет открыто диалоговое окно **Ход обработки** , в котором отображаются сведения о ходе обработки модели.</span><span class="sxs-lookup"><span data-stu-id="6770a-159">The **Process Progress** dialog box opens to display information about model processing.</span></span> <span data-ttu-id="6770a-160">Обработка модели может занять некоторое время.</span><span class="sxs-lookup"><span data-stu-id="6770a-160">Model processing may take some time.</span></span>  
  
4.  <span data-ttu-id="6770a-161">После успешного завершения обработки нажмите кнопку **Закрыть** , чтобы закрыть диалоговое окно **Ход обработки** .</span><span class="sxs-lookup"><span data-stu-id="6770a-161">After processing is complete, click **Close** to exit the **Process Progress** dialog box.</span></span>  
  
5.  <span data-ttu-id="6770a-162">Нажмите кнопку **Закрыть** еще раз, чтобы выйти из диалогового окна **Обработка структуры интеллектуального анализа данных — Прогнозирование** .</span><span class="sxs-lookup"><span data-stu-id="6770a-162">Click **Close** again to exit the **Process Mining Structure - Forecasting** dialog box.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="6770a-163">Следующая задача занятия</span><span class="sxs-lookup"><span data-stu-id="6770a-163">Next Task in Lesson</span></span>  
 [<span data-ttu-id="6770a-164">Изучите учебник по модели прогнозирования &#40;промежуточного интеллектуального анализа данных&#41;</span><span class="sxs-lookup"><span data-stu-id="6770a-164">Exploring the Forecasting Model &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../2014/tutorials/exploring-the-forecasting-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="6770a-165">См. также:</span><span class="sxs-lookup"><span data-stu-id="6770a-165">See Also</span></span>  
 <span data-ttu-id="6770a-166">[Технический справочник по алгоритму временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="6770a-166">[Microsoft Time Series Algorithm Technical Reference](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="6770a-167">[Алгоритм временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="6770a-167">[Microsoft Time Series Algorithm](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md) </span></span>  
 [<span data-ttu-id="6770a-168">Требования к обработке и связанные замечания (интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="6770a-168">Processing Requirements and Considerations &#40;Data Mining&#41;</span></span>](../../2014/analysis-services/data-mining/processing-requirements-and-considerations-data-mining.md)  
  
  

---
title: Настройка и обработка модели прогнозирования (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 4bd25e15-9d9e-4528-b7bc-ccb856643aec
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 03dc67907b22750eb1b8539feaddec58f61f702f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666304"
---
# <a name="customizing-and-processing-the-forecasting-model-intermediate-data-mining-tutorial"></a>Настройка и обработка модели прогнозирования (учебник по интеллектуальному анализу данных — средний уровень)
  Алгоритм временных рядов ([!INCLUDE[msCoName](../includes/msconame-md.md)]) предоставляет параметры, которые влияют на способ создания модели и методы анализа временных данных. С помощью этих свойств можно существенно повлиять на прогнозы, сделанные моделью интеллектуального анализа данных.  
  
 На этом занятии учебника вы выполните следующие изменения модели.  
  
1.  Вы настроите способ обработки модели периодов времени, добавив новое значение для параметра *PERIODICITY_HINT* .  
  
2.  Вы узнаете о двух других важных параметрах алгоритма временных рядов (Майкрософт): FORECAST_METHOD, который позволяет управлять методом, используемым для прогнозирования, и PREDICTION_SMOOTHING, который позволяет настраивать смешение долгосрочных и краткосрочных прогнозов.  
  
3.  При необходимости можно указать алгоритму, как вычислять отсутствующие значения.  
  
4.  После внесения всех изменений необходимо будет развернуть и обработать модель.  
  
## <a name="setting-time-series-parameters"></a>Настройка параметров временных рядов  
 **Указания периодичности**  
  
 Параметр *PERIODICITY_HINT* предоставляет алгоритму сведения о дополнительных периодах времени, которые должны отображаться в данных. По умолчанию модели временных рядов автоматически пытаются обнаружить закономерность в данных. Но если ожидаемый временной цикл уже известен, указание периодичности может повысить точность модели. Однако неправильное указание периодичности может снизить точность, поэтому если вы не уверены, какое значение использовать, лучше оставить значение по умолчанию.  
  
 Например, представление для этой модели суммирует данные продаж из [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] по месяцам. Поэтому каждый временной срез, используемый моделью, представляет один месяц, и все прогнозы также делаются по месяцам. Так как в году 12 месяцев и предполагается, что шаблоны продаж больше или меньше повторяются ежегодно, вы устанавливаете параметр *PERIODICITY_HINT* в значение `12` , чтобы указать, что 12 временных срезов (месяцев) составляют один полный цикл продаж.  
  
 **Метод прогнозирования**  
  
 Параметр *FORECAST_METHOD* определяет, оптимизирован ли алгоритм временных рядов для краткосрочных или долгосрочных прогнозов. По умолчанию параметр *FORECAST_METHOD* имеет значение MIXED. Это означает, что два разных алгоритма смешиваются и сбалансированы, чтобы предоставить хорошие результаты для краткосрочного и долгосрочного прогнозирования.  
  
 Однако если вы хотите использовать определенный алгоритм, можно изменить это значение на ARIMA или ARTXP.  
  
 **Взвешенное время долгосрочных и краткосрочных прогнозов**  
  
 Можно также настроить сочетание долгосрочных и краткосрочных прогнозов с помощью параметра PREDICTION_SMOOTHING. По умолчанию он имеет параметр 0,5, что обычно обеспечивает наилучший баланс для общей точности.  
  
#### <a name="to-change-the-algorithm-parameters"></a>Изменение параметров алгоритма  
  
1.  На вкладке **модели интеллектуального анализа данных** щелкните правой кнопкой мыши пункт **Прогнозирование**и выберите команду **задать параметры алгоритма**.  
  
2.  В `PERIODICITY_HINT` строке диалогового окна **Параметры алгоритма** щелкните столбец **значение** , а затем введите `{12}` , включая фигурные скобки.  
  
     По умолчанию алгоритм также добавит значение {1}.  
  
3.  В `FORECAST_METHOD` строке убедитесь, что текстовое поле **значение** пусто или имеет значение `MIXED` . Если введено другое значение, введите, `MIXED` чтобы изменить параметр обратно на значение по умолчанию.  
  
4.  В строке **PREDICTION_SMOOTHING** убедитесь, что текстовое поле **значение** пустое или имеет значение 0,5. Если введено другое значение, щелкните **значение** и введите, `0.5` чтобы изменить параметр обратно на значение по умолчанию.  
  
    > [!NOTE]  
    >  Параметр PREDICTION_SMOOTHING доступен только в версии [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Enterprise. Поэтому увидеть или изменить значение параметра PREDICTION_SMOOTHING в выпуске [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Standard нельзя. Однако по умолчанию используются оба алгоритма с одинаковым весом.  
  
5.  Нажмите кнопку **ОК**.  
  
## <a name="handling-missing-data-optional"></a>Обработка отсутствующих данных (необязательно)  
 Во многих случаях данные продаж могут иметь пробелы, заполненные нулями, или магазин может не выполнить отчет к сроку, в результате чего в конце ряда останется пустая ячейка. В таких случаях службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] не будут обрабатывать модель и выдадут следующую ошибку.  
  
 "Ошибка (интеллектуальный анализ данных): метки времени, не синхронизированные начиная с ряда \<series name> , модели интеллектуального анализа данных \<model name> . Все временные ряды должны завершаться в одной временной метке и не могут иметь произвольно отсутствующие точки данных. Задание в качестве значения параметра MISSING_VALUE_SUBSTITUTION "PREVIOUS" или числовой константы автоматически исправляет отсутствующие точки данных, где это возможно».  
  
 Чтобы избежать этой ошибки, можно указать, что службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] должны автоматически предоставлять новые значения для заполнения промежутков с помощью одного из следующих методов.  
  
-   Использование среднего значения. Среднее значение вычисляется с помощью всех действительных значений в одном ряде данных.  
  
-   Использование предыдущего значения. Несколько ячеек с отсутствующими данными можно заполнить предыдущими значениями, но нельзя заполнить начальные значения.  
  
-   Использование предоставляемого постоянного значения.  
  
#### <a name="to-specify-that-gaps-be-filled-by-averaging-values"></a>Заполнение промежутков средними значениями  
  
1.  На вкладке **модели интеллектуального анализа данных** щелкните правой кнопкой мыши столбец **Прогноз** и выберите пункт **задать параметры алгоритма**.  
  
2.  В диалоговом окне **Параметры алгоритма** в строке **MISSING_VALUE_SUBSTITUTION** щелкните столбец **значение** и введите `Mean` .  
  
## <a name="build-the-model"></a>Построение модели  
 Чтобы использовать модель, необходимо развернуть ее на сервере и обработать, выполнив алгоритм с обучающими данными.  
  
#### <a name="to-process-the-forecasting-model"></a>Обработка модели прогнозирования  
  
1.  В меню **Модель интеллектуального анализа данных** среды [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]выберите команду **Обработать структуру интеллектуального анализа данных и все модели**.  
  
2.  В окне предупреждения с вопросом о том, нужно ли выполнить построение и развертывание проекта, нажмите кнопку **Да**.  
  
3.  В диалоговом окне **Обработка структуры интеллектуального анализа данных — Прогнозирование** нажмите кнопку **выполнить**.  
  
     Будет открыто диалоговое окно **Ход обработки** , в котором отображаются сведения о ходе обработки модели. Обработка модели может занять некоторое время.  
  
4.  После успешного завершения обработки нажмите кнопку **Закрыть** , чтобы закрыть диалоговое окно **Ход обработки** .  
  
5.  Нажмите кнопку **Закрыть** еще раз, чтобы выйти из диалогового окна **Обработка структуры интеллектуального анализа данных — Прогнозирование** .  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Изучите учебник по модели прогнозирования &#40;промежуточного интеллектуального анализа данных&#41;](../../2014/tutorials/exploring-the-forecasting-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a>См. также:  
 [Технический справочник по алгоритму временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md)   
 [Алгоритм временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md)   
 [Требования к обработке и связанные замечания (интеллектуальный анализ данных)](../../2014/analysis-services/data-mining/processing-requirements-and-considerations-data-mining.md)  
  
  

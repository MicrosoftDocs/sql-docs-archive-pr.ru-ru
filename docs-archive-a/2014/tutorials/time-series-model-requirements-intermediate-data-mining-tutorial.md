---
title: Основные сведения о требованиях к модели временных рядов (учебник по интеллектуальному анализу данных — средний уровень) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 1ce2b3e3-108a-4f7e-985f-a20b816d0da7
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: cf92effaabb38a93a294bdf194025a524ad601f3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654641"
---
# <a name="understanding-the-requirements-for-a-time-series-model-intermediate-data-mining-tutorial"></a>Основные сведения о требованиях для модели временных рядов (учебник по интеллектуальному анализу данных — средний уровень)
  Данные для модели прогнозирования при подготовке должны содержать один столбец, который может быть использован для идентификации этапов временных рядов. Этот столбец будет обозначаться `Key Time`. Этот столбец является ключом и должен содержать уникальные числовые значения.  
  
 Правильный выбор единицы для столбца `Key Time` является важной частью анализа. Например, пусть данные о продажах обновляются каждую минуту. В качестве единицы временного ряда не обязательно использовать минуты. Более разумно будет сводить данные о продажах по дням, неделям или месяцам. Если непонятно, какую единицу времени следует использовать, можно создать новое представление источника данных для каждого статистического выражения и построить связанные модели, чтобы посмотреть, не появляются ли разные тренды на каждом уровне статистической обработки.  
  
 В этом учебнике данные о продажах собираются ежедневно и заносятся в транзакционную базу данных продаж, но для интеллектуального анализа данные заранее объединены по месяцам с использованием представления.  
  
 Кроме того, для анализа желательно, чтобы в данных было как можно меньше промежутков. Если планируется анализ нескольких рядов данных, то желательно, чтобы все ряды начинались с одной даты и заканчивались одной датой. Если в данных имеются промежутки (кроме как в начале и в конце ряда), то для заполнения ряда можно использовать параметр MISSING_VALUE_SUBSTITUTION. Службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] также предоставляют несколько возможностей замены отсутствующих данных средними значениями или константами.  
  
> [!WARNING]  
>  Сводная диаграмма и сводная таблица, входившие в предыдущие версии конструктора представлений источников данных, больше не предоставляются. Рекомендуется заранее выявить промежутки в данных временных рядов, используя профилировщик данных, входящий в состав служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)], и другие средства.  
  
### <a name="to-identify-the-time-key-for-the-forecasting-model"></a>Идентификация ключа времени для модели прогнозирования  
  
1.  В области **SalesByRegion. DSV [Design]** щелкните правой кнопкой мыши таблицу vTimeSeries и выберите **Просмотр данных**.  
  
     Откроется новая вкладка с именем **исследовать VTimeSeries Table**.  
  
2.  На вкладке **Таблица** проверьте данные, которые используются в столбцах Тимеиндекс и Reporting Date.  
  
     Оба столбца представляют собой последовательности уникальных значений. Любой из них может служить ключом временного ряда, однако типы данных в этих столбцах различаются. Алгоритм временных рядов (Майкрософт) не требует наличия типа данных `datetime`, необходимо только, чтобы значения были отличающимися и упорядоченными. Поэтому в качестве ключа времени для модели прогнозирования может быть использован любой столбец.  
  
3.  В области конструктора представления источников данных выберите столбец, отчет Дата и щелкните **Свойства**. Затем щелкните столбец Тимеиндекс и выберите **Свойства**.  
  
     Поле Тимеиндекс имеет тип данных System. Int32, тогда как поле Дата отчета содержит тип данных System. DateTime. Во многих хранилищах данных значения даты и времени преобразуются в целые числа, и целочисленный столбец служит ключом, что повышает производительность индексирования. Однако если использовать такой столбец, то алгоритм временных рядов (Майкрософт) будет составлять прогнозы, используя значения из будущего: 201014, 201014 и т. д. Так как вы хотите представить прогноз данных о продажах с помощью календарных дат, в качестве идентификатора уникального ряда будет использоваться столбец Reporting Date.  
  
### <a name="to-set-the-key-in-the-data-source-view"></a>Задание ключа в представлении источников данных  
  
1.  В области **SalesByRegion. dsv**выберите таблицу vTimeSeries.  
  
2.  Щелкните правой кнопкой мыши столбец Дата отчета и выберите пункт **задать логический первичный ключ**.  
  
## <a name="handling-missing-data-optional"></a>Обработка отсутствующих данных (необязательно)  
 Если в каком-либо ряду имеются отсутствующие данные, то при попытке обработать модель может быть выдана ошибка. Устранить эту проблему можно несколькими способами.  
  
-   Службы Analysis Services могут заполнить отсутствующее значение вычисленным средним или предыдущим значением. Для этого необходимо задать параметр MISSING_VALUE_SUBSTITUTION при создании модели интеллектуального анализа данных. Дополнительные сведения об этом параметре см. в [статье Технический справочник по алгоритму временных рядов (Майкрософт](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md)). Сведения о том, как изменить параметры существующей модели интеллектуального анализа данных, см. в разделе [Просмотр или изменение параметров алгоритма](../../2014/analysis-services/data-mining/view-or-change-algorithm-parameters.md).  
  
-   Можно изменить источник данных или отфильтровать базовое представление, чтобы устранить неоднородность ряда или заменить значения. Это можно сделать в реляционном источнике данных. Также можно изменить представление источников данных, создавая пользовательские именованные запросы или именованные вычисления. Дополнительные сведения см. в разделе [Представления источников данных в многомерных моделях](https://docs.microsoft.com/analysis-services/multidimensional-models/data-source-views-in-multidimensional-models). Последняя задача этого занятия представляет пример того, как построить именованный запрос и пользовательское вычисление.  
  
 В этом сценарии некоторые данные отсутствуют в начале одного ряда: т. е. нет данных для линейки продуктов T1000 до 2007 июля. Все ряды заканчиваются в одну дату, и других отсутствующих значений нет.  
  
 Требование алгоритма временных рядов (Майкрософт) состоит в том, что все ряды, включенные в одну модель, должны иметь одну и ту же **конечную** точку. Поскольку модель велосипеда T1000 появилась в 2007 г., данные для этого ряда начинаются позже, чем для других моделей велосипедов, но ряд заканчивается на ту же дату, поэтому данные являются приемлемыми.  
  
#### <a name="to-close-the-data-source-view-designer"></a>Закрытие конструктора представлений источников данных  
  
-   Щелкните правой кнопкой мыши вкладку, **Просмотрите таблицу vTimeSeries**и выберите **Закрыть**.  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Руководство по созданию структуры прогнозирования и модели &#40;промежуточного интеллектуального анализа данных&#41;](../../2014/tutorials/creating-a-forecasting-structure-and-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a>См. также:  
 [Алгоритм временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md)  
  
  

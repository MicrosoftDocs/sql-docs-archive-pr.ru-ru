---
title: Создание запросов на обновление (визуальные инструменты для баз данных) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
helpviewer_keywords:
- tables [SQL Server], updating
- queries [SQL Server], types
- Update query
- updating tables
ms.assetid: 178b7b75-8078-4e61-b2a8-4719b9d8033d
author: stevestein
ms.author: sstein
ms.openlocfilehash: bbea575d544875dba73de923474cc11bbcb46a9b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665208"
---
# <a name="create-update-queries-visual-database-tools"></a>Создание запросов на обновление (визуальные инструменты для баз данных)
  Запрос UPDATE позволяет изменить содержимое нескольких строк одной операцией. Например, в таблице `titles` можно с помощью запроса UPDATE увеличить цену всех книг определенного издателя на 10%.  
  
 При создании запроса UPDATE нужно указать:  
  
-   обновляемую таблицу;  
  
-   столбцы, содержимое которых необходимо обновить;  
  
-   значение или выражение, используемое для обновления отдельных столбцов;  
  
-   условия поиска для выборки строк, которые требуется обновить.  
  
 Например, следующий запрос обновляет таблицу `titles` , добавляя 10% к цене всех изданий для одного издателя:  
  
```  
UPDATE titles  
SET price = price * 1.1  
WHERE (pub_id = '0766')  
```  
  
> [!CAUTION]  
>  Откат действия, произведенного запросом UPDATE, невозможен. В целях предосторожности создайте резервную копию данных перед выполнением запроса.  
  
### <a name="to-create-an-update-query"></a>Создание запроса UPDATE  
  
1.  Добавьте таблицу, которую требуется обновить, на панель диаграмм.  
  
2.  В меню **Конструктор запросов** наведите указатель на пункт **Тип изменения**, а затем выберите пункт **Обновить**.  
  
    > [!NOTE]  
    >  Если во время создания запроса на обновление на панели диаграммы отображается несколько таблиц, в конструкторе запросов и представлений появляется диалоговое окно [Выберите целевую таблицу для Insert Values](visual-database-tools.md) , в котором пользователь должен указать имя обновляемой таблицы.  
  
3.  На панели диаграмм установите флажки рядом с каждым столбцом, для которого необходимо обновить значения. Эти столбцы появятся на панели критериев. Столбцы будут обновлены только в случае добавления их в запрос.  
  
4.  В столбце **Новое значение** на панели критериев введите обновленное значение столбца. Вводить можно константы, имена столбцов или выражения. Значения должны соответствовать типу данных обновляемого столбца или быть совместимыми с ним.  
  
    > [!CAUTION]  
    >  Конструктор запросов и представлений не может проверить, поместится ли значение в обновляемый столбец с определенной длиной. Слишком длинное значение может быть усечено без предупреждения. Например, если длина столбца `name` — 20 символов, а длина обновляемого значения — 25 символов, последние 5 символов могут быть усечены.  
  
5.  Задайте обновляемые строки путем ввода условий поиска в столбце **Фильтр**. Дополнительные сведения см. в разделе [Определение критериев поиска (визуальные инструменты для баз данных)](specify-search-criteria-visual-database-tools.md).  
  
     Если условие поиска не задано, будут обновлены все строки указанной таблицы.  
  
    > [!NOTE]  
    >  При добавлении столбца на панель критериев для использования в условии поиска конструктор запросов и представлений также добавит его в список обновляемых столбцов. Если столбец необходимо использовать в условии поиска, но не обновлять, снимите флажок рядом с именем столбца в прямоугольнике, представляющем таблицу или возвращающий табличное значение объект.  
  
 При выполнении запроса на обновление в [панели результатов](results-pane-visual-database-tools.md)не выводятся никакие результаты. Вместо этого появляется сообщение о том, сколько строк было изменено.  
  
## <a name="see-also"></a>См. также:  
 [Поддерживаемые типы запросов &#40;визуальных инструментов для баз данных&#41;](supported-query-types-visual-database-tools.md)   
 [Разделы руководства по проектированию запросов и представлений &#40;визуальных инструментов для баз данных&#41;](design-queries-and-views-how-to-topics-visual-database-tools.md)   
 [Выполнение основных операций с запросами (визуальные инструменты для баз данных)](perform-basic-operations-with-queries-visual-database-tools.md)  
  
  

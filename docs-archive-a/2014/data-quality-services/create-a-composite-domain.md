---
title: Создание составного домена | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.kb.createcd.f1
- sql12.dqs.dm.cdproperties.f1
ms.assetid: c7f0bd84-a02e-4a81-885d-985e6415c499
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 3ea21363e088b763307017485596a54aca6605f3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728718"
---
# <a name="create-a-composite-domain"></a>Создание составного домена
  В этом разделе описывается, как создать составной домен в базе знаний в [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS). Составной домен состоит из нескольких отдельных доменов, применимых к одному полю данных. Дополнительные сведения о составных доменах см. в разделе [Управление составным доменом](../../2014/data-quality-services/managing-a-composite-domain.md).  
  
 Существуют два способа создания нового составного домена. Первый — на этапе сопоставления действий по обнаружению знаний, в процессе анализа образца данных для добавления набора знаний в новую или существующую базу знаний. Второй — в ходе действий по управлению доменами, когда вместо изменения существующего домена вы создаете новый. Чтобы создать составной домен, необходимо предварительно создать не менее двух отдельных доменов, которые будут добавляться в составной домен. При создании нового составного домена доступны только предварительно созданные отдельные домены, которые еще не добавлены к существующим составным доменам. Отдельный домен можно добавить только к одному составному домену. Составной домен невозможно добавить в другой составной домен.  
  
 После создания составного домена можно изменить его свойства, присоединить к домену службы ссылочных данных, создать междоменные правила или связи значений. Для этого выберите составной домен в списке **Домен** на странице **Управление доменами** и перейдите на соответствующую вкладку.  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> Перед началом  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> Предварительные требования  
 Чтобы создать составной домен, необходимо предварительно создать и открыть базу знаний, также необходимо предварительно создать не менее двух отдельных доменов, которые будут добавляться в составной домен.  
  
###  <a name="security"></a><a name="Security"></a> безопасность  
  
####  <a name="permissions"></a><a name="Permissions"></a> Permissions  
 Для создания составного домена необходимо иметь роль dqs_kb_editor или dqs_administrator в базе DQS_MAIN.  
  
##  <a name="create-a-composite-domain-in-the-knowledge-discovery-activity"></a><a name="ParsingKnowledgeDiscoveryActivity"></a>Создание составного домена в действии обнаружения знаний  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)][Запустите приложение Data Quality Client](../../2014/data-quality-services/run-the-data-quality-client-application.md).  
  
2.  На главной странице [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] нажмите кнопку **Открыть базу знаний** и выберите базу знаний или нажмите кнопку **Создать базу знаний** и введите свойства новой базы знаний.  
  
3.  Выберите действие **Обнаружение знаний** и нажмите кнопку **Создать** , чтобы создать новую базу знаний, или нажмите кнопку **Открыть** , чтобы открыть существующую базу знаний.  
  
4.  На странице **Сопоставление** укажите соединение с источником данных. Дополнительные сведения см. в разделе [Perform Knowledge Discovery](../../2014/data-quality-services/perform-knowledge-discovery.md).  
  
5.  В таблице **Сопоставления** выберите исходный столбец из раскрывающегося списка для столбца **Исходный столбец** пустой строки. Убедитесь, что исходный столбец содержит составной домен, состоящий из двух существующих отдельных доменов. Если соответствующих отдельных доменов не существует, щелкните значок **Создать домен** .  
  
6.  В таблице **Сопоставления** выберите исходный столбец из раскрывающегося списка для столбца **Исходный столбец** пустой строки. Убедитесь, что исходный столбец содержит составной домен, на части которого указывают два существующих отдельных домена. Если соответствующих отдельных доменов не существует, щелкните значок **Создать домен** , чтобы создать эти домены. Дополнительные сведения см. в статье [Создание домена](../../2014/data-quality-services/create-a-domain.md).  
  
7.  Щелкните значок **Создать составной домен** .  
  
##  <a name="create-a-composite-domain-in-the-domain-management-activity"></a><a name="DomainManagementActivity"></a>Создание составного домена в действии "Управление доменами"  
  
1.  На главной странице клиента Data Quality Services щелкните **Открыть базу знаний** и выберите базу знаний или щелкните **Новая база знаний** и введите свойства новой базы знаний.  
  
2.  Выберите действие **Управление доменами** и нажмите кнопку **Создать** , чтобы создать новую базу знаний, или нажмите кнопку **Открыть** , чтобы открыть существующую базу знаний.  
  
3.  Убедитесь, что существуют несколько доменов, необходимых для составного домена. В противном случае щелкните значок **Создать домен** и создайте его. Дополнительные сведения см. в статье [Создание домена](../../2014/data-quality-services/create-a-domain.md).  
  
4.  На странице **Управление доменами** щелкните значок **Создать составной домен** , расположенный над списком доменов.  
  
5.  Введите имя, которое является уникальным в базе знаний, и описание длиной до 256 символов.  
  
6.  В **Списке доменов**выберите домены, которые будут входить в состав составного домена, и щелкните стрелку вправо, чтобы переместить эти домены в таблицу **Домены в составном домене** .  
  
7.  Нажмите кнопку **ОК**.  
  
##  <a name="set-composite-domain-properties"></a><a name="CompositeDomainProperties"></a>Задание свойств составного домена  
  
1.  В диалоговом окне **Создание составного домена** введите имя, которое является уникальным в базе знаний, и описание длиной до 256 символов.  
  
2.  В **Списке доменов**выберите домены, которые будут входить в состав составного домена, и щелкните стрелку вправо, чтобы переместить эти домены в таблицу **Домены в составном домене** . Это список отдельных доменов, доступных для добавления в создаваемый составной домен. Доступны только предварительно созданные отдельные домены, которые еще не добавлены к существующим составным доменам. Отдельный домен можно добавить только к одному составному домену в базе знаний. Составной домен невозможно добавить в другой составной домен.  
  
3.  Нажмите кнопку **Дополнительно**.  
  
4.  Выберите одно из следующих значений для параметра **Метод анализа**:  
  
    -   **Ссылочные данные**. Анализ значений поля в соответствии с форматом данных в службе ссылочных данных (RDS). Службы Data Quality Services передают значения в составной домен в RDS, а RDS возвращает исправленные и проанализированные данные в соответствии с доменом в составном домене.  
  
    -   **В порядке**. Анализ значений поля в соответствии с порядком доменов в составном домене. Первое значение включается в первый домен, второе значение во вторые домены и так далее.  
  
    -   **Разделители**. Анализ значений поля на основе разделителя, выбранного с помощью переключателей, которые отображаются после выбора параметра "Разделители". Возможные разделители: **Символ табуляции**, **Точка с запятой**, **Запятая**, **Пробел**или **Другое**. Если выбран разделитель **Другое**, введите значение, которое будет служить в качестве разделителя.  
  
5.  Если в качестве метода анализа выбрано **Разделители** , вы можете также установить флажок **Использовать анализ на основе знаний**. Дополнительные сведения см. в статье [Knowledge-Based Parsing](#KnowledgeBaseParsing).  
  
6.  Нажмите кнопку **Готово** , чтобы завершить операцию управления доменами, как описано в разделе [Завершение операции по управлению доменами](../../2014/data-quality-services/end-the-domain-management-activity.md).  
  
##  <a name="follow-up-after-creating-a-composite-domain"></a><a name="FollowUp"></a>Дальнейшие действия. После создания составного домена  
 После создания составного домена можно выполнить другие задачи по управлению для этого домена, провести обнаружение знаний для добавления набора знаний в домен или добавить в домен политику сопоставления. Дополнительные сведения см. в разделах [Обнаружение набора знаний](../../2014/data-quality-services/perform-knowledge-discovery.md), [Управление доменом](../../2014/data-quality-services/managing-a-domain.md) и [Создание политики сопоставления](../../2014/data-quality-services/create-a-matching-policy.md).  
  
##  <a name="knowledge-based-parsing"></a><a name="KnowledgeBaseParsing"></a>Анализ на основе знаний  
 Службы Data Quality Services позволяют анализировать данные на основе набора знаний, а не в зависимости от разделителя или порядка. Анализ на основе знаний используется при сопоставлении сложных исходных данных с составным доменом, если при этом не используются службы ссылочных данных. Анализ на основе знаний вы можете использовать для выполнения анализа данных из источника данных по соответствующим отдельным доменам. С помощью анализа на основе знаний DQS сначала пытается использовать набор знаний для выполнения анализа сложных данных на отдельные домены. Если возможно, DQS определяет части строки в виде одного или нескольких доменов и выполняет анализ строки на различные домены. Предположим, John B. Doe используется в качестве сложных значений в поле полного имени, представленного составным доменом "Полное имя". Если DQS определяет значение John как относящееся к домену "Имя", а значение Doe — к домену "Фамилия", то DQS добавляет "B.". к домену «Отчество» на основе набора знаний домена.  
  
 Анализ на основе знаний вы можете использовать только в том случае, если выбран анализ на основе разделителей. Анализ на основе знаний не заменяет анализ на основе разделителей, но дополняет его. DQS использует разделитель для анализа только при отсутствии набора знаний. В некоторых случаях DQS может определить анализ на основе знаний, а затем определить еще один анализ с помощью разделителя.  
  
 Анализ на основе знаний можно использовать в случаях, когда составной домен состоит из доменов строк или если составной домен состоит из различных типов доменов (int, date, time и др.). Если источник данных состоит из данных различного типа, то сначала следует выделить нестроковые типы данных, а затем выполнить анализ остальных данных на основе набора знаний домена, как описано выше.  
  
 При использовании анализа на основе знаний, если количество значений в исходных данных меньше количества доменов в составном домене, DQS размещает в отсутствующих доменах значения NULL. Если количество значений в исходных данных превышает количество доменов в составном домене, DQS добавляет в один из столбцов дополнительные данные. Если несколько доменов включают одинаковые значения, выполняется анализ источника данных в первый сопоставленный домен.  
  
  

---
title: Подключение домена или составного домена к ссылочным данным | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dm.refdata.f1
- sql12.dqs.dm.refcatalog.f1
ms.assetid: 36af981c-d0d0-4dc6-afe5-bbb3c97845dc
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: d54dcb01823253eeda92cc3a576d73a45de4ef7d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655988"
---
# <a name="attach-a-domain-or-composite-domain-to-reference-data"></a><span data-ttu-id="68307-102">Добавление домена или составного домена к ссылочным данным</span><span class="sxs-lookup"><span data-stu-id="68307-102">Attach a Domain or Composite Domain to Reference Data</span></span>
  <span data-ttu-id="68307-103">В этом разделе описывается, как подключить домены или составные домены в базе знаний качества данных к службе ссылочных данных в Azure Marketplace для создания знаний по высококачественным эталонным данным.</span><span class="sxs-lookup"><span data-stu-id="68307-103">This topic describes how to attach domains/composite domains in a data quality knowledge base to a reference data service in Azure Marketplace to build knowledge against the high-quality reference data.</span></span> <span data-ttu-id="68307-104">Каждая служба ссылочных данных содержит схему (столбцы данных).</span><span class="sxs-lookup"><span data-stu-id="68307-104">Each reference data service contains a schema (data columns).</span></span> <span data-ttu-id="68307-105">После добавления домена или составного домена к службе ссылочных данных необходимо сопоставить добавленный домен или отдельные домены в составе составного домена с соответствующими столбцами в схеме службы ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-105">After attaching a domain or a composite domain to a reference data service, you must map the attached domain or the individual domains within the attached composite domain to the appropriate columns in a reference data service schema.</span></span> <span data-ttu-id="68307-106">Добавление составного домена в службу ссылочных данных позволяет добавить только один домен в службу ссылочных данных, а затем сопоставить отдельные домены в составе составного домена с соответствующими столбцами в схеме службы ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-106">Attaching a composite domain to a reference data service enables you to attach just one domain to a reference data service, and then map the individual domains within the composite domain to appropriate columns in the reference data service schema.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="68307-107">Составной домен, добавленный в службу ссылочных данных, доступен в раскрывающемся списке доменов во время сопоставления доменов со столбцами в схеме службы ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-107">The composite domain attached to a reference data service is available in the domains drop-down list while mapping domains to the columns in the reference data service schema.</span></span> <span data-ttu-id="68307-108">Не сопоставляйте составной домен со столбцом в схеме службы ссылочных данных. Следует сопоставлять только отдельные домены в рамках составного домена с соответствующими столбцами в схеме службы ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-108">Do not map the composite domain to a column in the reference data service schema; you must only map individual domains within a composite domain to the appropriate columns in the reference data service schema.</span></span> <span data-ttu-id="68307-109">В противном случае процесс завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="68307-109">Otherwise, it will result in an error.</span></span>  
  
 <span data-ttu-id="68307-110">Схема ссылочных данных может включать обязательный столбец, который в случае использования данной схемы требуется сопоставить со службой ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-110">A reference data service schema can have a mandatory column that must be mapped with appropriate domain should you choose to use the reference data service.</span></span> <span data-ttu-id="68307-111">Обязательный столбец в схеме ссылочных данных идентифицируется символом (M), который расположен рядом с именем столбца.</span><span class="sxs-lookup"><span data-stu-id="68307-111">The mandatory column in a reference data schema is identified with "(M)" against the column name.</span></span> <span data-ttu-id="68307-112">Например, **AddressLine** — это обязательный столбец схемы в таблице **Адреса данных Мелиссы**, а **CompanyName** — обязательный столбец схемы в таблице **Digital Trowel Inc. — американские компании и профессиональные данные для пользователей SQL**.</span><span class="sxs-lookup"><span data-stu-id="68307-112">For example, **AddressLine** is the mandatory schema column in **Melissa Data - Address Data** and **CompanyName** is the mandatory schema column in **Digital Trowel Inc. - Us companies and professional data for SQL users**.</span></span>  
  
 <span data-ttu-id="68307-113">В этой статье мы создадим четыре домена: **Адрес**, **Город**, **Штат** и **Почтовый индекс** внутри составного домена **Проверка адреса**, подключим составной домен к службе ссылочных данных **Данные Мелиссы — проверка адреса**, а затем сопоставим отдельные домены внутри составного домена с соответствующими столбцами в схеме службы ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-113">In this topic, we will create four domains: **Address Line**, **City**, **State**, and **Zip**, under a composite domain, **Address Verification**, attach the composite domain to the **Melissa Data - Address Check** reference data service, and then map the individual domains within the composite domain to appropriate columns in the reference data service schema.</span></span>  
  
## <a name="before-you-begin"></a><span data-ttu-id="68307-114">Перед началом</span><span class="sxs-lookup"><span data-stu-id="68307-114">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="68307-115">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="68307-115">Prerequisites</span></span>  
 <span data-ttu-id="68307-116">Необходимо настроить [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) для использования служб ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-116">You must have configured [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) to use reference data services.</span></span> <span data-ttu-id="68307-117">См. раздел [Настройка служб DQS для использования эталонных данных](../../2014/data-quality-services/configure-dqs-to-use-reference-data.md).</span><span class="sxs-lookup"><span data-stu-id="68307-117">See [Configure DQS to Use Reference Data](../../2014/data-quality-services/configure-dqs-to-use-reference-data.md).</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="68307-118">безопасность</span><span class="sxs-lookup"><span data-stu-id="68307-118">Security</span></span>  
  
#### <a name="permissions"></a><span data-ttu-id="68307-119">Разрешения</span><span class="sxs-lookup"><span data-stu-id="68307-119">Permissions</span></span>  
 <span data-ttu-id="68307-120">Для сопоставления доменов со ссылочными данными необходимо иметь роль dqs_kb_editor в базе данных DQS_MAIN.</span><span class="sxs-lookup"><span data-stu-id="68307-120">You must have the dqs_kb_editor role on the DQS_MAIN database to map domains to reference data.</span></span>  
  
##  <a name="map-domains-to-reference-data-from-melissa-data"></a><a name="Map"></a><span data-ttu-id="68307-121">Сопоставьте домены с ссылочными данными из данных Melissa</span><span class="sxs-lookup"><span data-stu-id="68307-121">Map domains to reference data from Melissa Data</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="68307-122">[Запустите приложение Data Quality Client](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span><span class="sxs-lookup"><span data-stu-id="68307-122">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="68307-123">На главном экране клиента [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] в разделе **Управление базами знаний**щелкните **Создать базу знаний**.</span><span class="sxs-lookup"><span data-stu-id="68307-123">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, under **Knowledge Base Management**, click **New knowledge base**.</span></span>  
  
3.  <span data-ttu-id="68307-124">На экране **Новая база знаний** введите имя новой базы знаний, щелкните действие **Управление доменами** , а затем нажмите кнопку **Создать**.</span><span class="sxs-lookup"><span data-stu-id="68307-124">In the **New knowledge base** screen, type a name for the new knowledge base, click the **Domain Management** activity, and click **Create**.</span></span>  
  
4.  <span data-ttu-id="68307-125">Чтобы создать домен, на странице **Управление доменами** щелкните значок **Создать домен** .</span><span class="sxs-lookup"><span data-stu-id="68307-125">In the **Domain Management** screen, click the **Create a domain** icon to create a domain.</span></span> <span data-ttu-id="68307-126">Создайте следующие четыре домена: **Адрес**, **Город**, **Штат**и **Zip-код**.</span><span class="sxs-lookup"><span data-stu-id="68307-126">Create the following four domains: **Address Line**, **City**, **State**, and **Zip**.</span></span>  
  
5.  <span data-ttu-id="68307-127">Чтобы создать составной домен, щелкните значок **Создать составной домен** .</span><span class="sxs-lookup"><span data-stu-id="68307-127">Click the **Create a composite domain** icon to create a composite domain.</span></span> <span data-ttu-id="68307-128">В диалоговом окне **Создать составной домен** введите текст **Проверка адреса** в поле **Имя составного домена** и включите в составной домен все домены, созданные при выполнении шага 3.</span><span class="sxs-lookup"><span data-stu-id="68307-128">In the **Create a composite domain** dialog box, type **Address Verification** in the **Composite Domain Name** box, and include all the domains created in step 3 in the composite domain.</span></span> <span data-ttu-id="68307-129">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="68307-129">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="68307-130">На расположенной слева панели **Домен** выберите составной домен, щелкнув значение **Проверка адреса**, а затем перейдите на вкладку **Ссылочные данные** , расположенную справа.</span><span class="sxs-lookup"><span data-stu-id="68307-130">In the **Domain** pane on the left side, select the composite domain by clicking **Address Verification**, and then click the **Reference Data** tab on the right side.</span></span>  
  
7.  <span data-ttu-id="68307-131">Щелкните значок **Обзор** .</span><span class="sxs-lookup"><span data-stu-id="68307-131">Click the **Browse** icon.</span></span>  
  
8.  <span data-ttu-id="68307-132">В диалоговом окне **Каталог поставщиков ссылочных данных в сети** выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="68307-132">In the **Online Reference Data Providers Catalog** dialog box:</span></span>  
  
    1.  <span data-ttu-id="68307-133">В разделе **Службы DataMarket Data Quality Services** выберите поле **Данные Мелиссы — проверка адреса**.</span><span class="sxs-lookup"><span data-stu-id="68307-133">Under **DataMarket Data Quality Services**, select the **Melissa Data - Address Check** box.</span></span>  
  
    2.  <span data-ttu-id="68307-134">Сопоставьте столбцы службы ссылочных данных "Данные Мелиссы — проверка адреса" с соответствующими доменами ("Адрес", "Город", "Штат" и "Почтовый индекс").</span><span class="sxs-lookup"><span data-stu-id="68307-134">Map the columns of the Melissa Data - Address Check reference data service with the appropriate domains (Address Line, City, State, and Zip).</span></span> <span data-ttu-id="68307-135">Для сопоставления столбцов выберите столбец службы ссылочных данных в столбце **Схема RDS** , а затем выберите соответствующий домен в столбце **Домен** .</span><span class="sxs-lookup"><span data-stu-id="68307-135">You map the columns by selecting a reference data service column in the **RDS Schema** column, and then selecting the appropriate domain in the **Domain** column.</span></span> <span data-ttu-id="68307-136">Для добавления в таблицу дополнительных строк щелкните значок **Добавить элемент схемы** .</span><span class="sxs-lookup"><span data-stu-id="68307-136">To add more rows in the table, click the **Add Schema Entry** icon.</span></span>  
  
    3.  <span data-ttu-id="68307-137">Нажмите кнопку **ОК** , чтобы сохранить изменения и закрыть диалоговое окно **Каталог поставщиков ссылочных данных в сети** .</span><span class="sxs-lookup"><span data-stu-id="68307-137">Click **OK** to save the changes, and close the **Online Reference Data Providers Catalog** dialog box.</span></span>  
  
         <span data-ttu-id="68307-138">![Диалоговое окно «Каталог поставщиков ссылочных данных в сети»](../../2014/data-quality-services/media/dqs-onlinereferencedataproviderscatalog.gif "Диалоговое окно «Каталог поставщиков ссылочных данных в сети»")</span><span class="sxs-lookup"><span data-stu-id="68307-138">![Online Reference Data Providers Catalog dialog box](../../2014/data-quality-services/media/dqs-onlinereferencedataproviderscatalog.gif "Online Reference Data Providers Catalog dialog box")</span></span>  
  
        > [!NOTE]  
        >  -   <span data-ttu-id="68307-139">В диалоговом окне **Каталог поставщиков ссылочных данных в сети** в узле " **службы качества данных DataMarket** " отображаются все поставщики ссылочных данных, на которые вы подписаны в Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="68307-139">In the **Online Reference Data Providers Catalog** dialog box, the **DataMarket Data Quality Services** node displays all the reference data service providers that you have subscribed to in Azure Marketplace.</span></span> <span data-ttu-id="68307-140">Если в DQS настроены непосредственные сетевые сторонние поставщики служб ссылочных данных, они включены в другой узел с именем **Сторонние непосредственные сетевые поставщики** (в данный момент этот узел недоступен, так как в DQS прямые сетевые сторонние поставщики служб ссылочных данных не настроены).</span><span class="sxs-lookup"><span data-stu-id="68307-140">If you have configured direct online third-party reference data service providers in DQS, they will appear under another node called **3rd Party Direct Online Providers** (not available now as no direct online third-party reference data service providers are configured in DQS).</span></span>  
  
9. <span data-ttu-id="68307-141">Вы вернетесь на вкладку **Ссылочные данные** . В области **Параметры поставщика** измените значения в следующих полях, если это необходимо:</span><span class="sxs-lookup"><span data-stu-id="68307-141">You will return to the **Reference Data** tab. In the **Provider Settings** area, change values in the following boxes, if required:</span></span>  
  
    -   <span data-ttu-id="68307-142">**Пороговое значение для автоматического исправления**. Исправления из службы ссылочных данных со степенью достоверности, которая превышает это пороговое значение, выполняются автоматически.</span><span class="sxs-lookup"><span data-stu-id="68307-142">**Auto Correction Threshold**: Corrections from reference data service with confidence level above this threshold values will be automatically done.</span></span> <span data-ttu-id="68307-143">Введите значение в десятичной нотации для соответствующего значения в процентах.</span><span class="sxs-lookup"><span data-stu-id="68307-143">Enter a value in the decimal notation of the corresponding percentage value.</span></span> <span data-ttu-id="68307-144">Например, введите 0,9 для 90 %.</span><span class="sxs-lookup"><span data-stu-id="68307-144">For example, enter 0.9 for 90%.</span></span>  
  
    -   <span data-ttu-id="68307-145">**Предлагаемые кандидаты**. Количество предлагаемых вариантов для отображения из службы ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="68307-145">**Suggested Candidates**: Number of suggested candidates to display from the reference data service.</span></span>  
  
    -   <span data-ttu-id="68307-146">**Минимальная достоверность**. Предложения из службы ссылочных данных со степенью достоверности, которая меньше данного значения, игнорируются.</span><span class="sxs-lookup"><span data-stu-id="68307-146">**Min Confidence**: Suggestions from reference data service with confidence level lower than this value will be ignored.</span></span> <span data-ttu-id="68307-147">Введите значение в десятичной нотации для соответствующего значения в процентах.</span><span class="sxs-lookup"><span data-stu-id="68307-147">Enter a value in the decimal notation of the corresponding percentage value.</span></span> <span data-ttu-id="68307-148">Например, введите 0,6 для 60 %.</span><span class="sxs-lookup"><span data-stu-id="68307-148">For example, enter 0.6 for 60%.</span></span>  
  
10. <span data-ttu-id="68307-149">Нажмите кнопку **Готово** , чтобы опубликовать базу знаний.</span><span class="sxs-lookup"><span data-stu-id="68307-149">Click **Finish** to publish the knowledge base.</span></span> <span data-ttu-id="68307-150">После публикации базы знаний выдается сообщение с подтверждением.</span><span class="sxs-lookup"><span data-stu-id="68307-150">A confirmation message appears after the knowledge base is published successfully.</span></span>  
  
 <span data-ttu-id="68307-151">Теперь вы можете использовать эту базу знаний для действия очистки в проекте служб DQS, чтобы стандартизировать и очистить адреса в исходных данных на основе знаний, предоставляемых Melissa данными через Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="68307-151">You can now use this knowledge base for cleansing activity in a data quality project to standardize and cleanse US addresses in your source data based on the knowledge provided by Melissa Data through Azure Marketplace.</span></span>  
  
##  <a name="follow-up-after-mapping-a-domain-to-reference-data"></a><a name="FollowUp"></a> <span data-ttu-id="68307-152">Дальнейшие действия. После сопоставления домена со ссылочными данными</span><span class="sxs-lookup"><span data-stu-id="68307-152">Follow Up: After Mapping a Domain to Reference Data</span></span>  
 <span data-ttu-id="68307-153">Создайте проект служб DQS и выполните действие очистки исходных данных, которые содержат адреса США, с помощью сравнения этих данных с базой знаний, созданной в данном разделе.</span><span class="sxs-lookup"><span data-stu-id="68307-153">Create a data quality project, and run the cleansing activity on your source data containing US addresses by comparing it against the knowledge base created in this topic.</span></span> <span data-ttu-id="68307-154">См. раздел [Очистка данных с использованием набора знаний об эталонных данных &#40;внешних&#41;](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md).</span><span class="sxs-lookup"><span data-stu-id="68307-154">See [Cleanse Data Using Reference Data &#40;External&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="68307-155">См. также</span><span class="sxs-lookup"><span data-stu-id="68307-155">See Also</span></span>  
 <span data-ttu-id="68307-156">[Службы эталонных данных в DQS](../../2014/data-quality-services/reference-data-services-in-dqs.md) </span><span class="sxs-lookup"><span data-stu-id="68307-156">[Reference Data Services in DQS](../../2014/data-quality-services/reference-data-services-in-dqs.md) </span></span>  
 [<span data-ttu-id="68307-157">Очистка данных</span><span class="sxs-lookup"><span data-stu-id="68307-157">Data Cleansing</span></span>](../../2014/data-quality-services/data-cleansing.md)  
  
  

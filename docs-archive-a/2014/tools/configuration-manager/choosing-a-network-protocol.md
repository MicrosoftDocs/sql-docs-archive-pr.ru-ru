---
title: Выбор сетевого протокола | Документация Майкрософт
description: Сравним и сравните сетевые протоколы, доступные для подключения к SQL Server ядро СУБД, такие как общая память, TCP/IP и именованные каналы.
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- shared memory [SQL Server]
- Named Pipes [SQL Server]
- TCP [SQL Server]
- network protocols [SQL Server], choosing
- protocols [SQL Server], choosing
- NWLink IPX/SPX [SQL Server]
- client configuration [SQL Server], protocols
- VIA
- Multiprotocol Net-Library [SQL Server]
- IPX/SPX [SQL Server]
- Banyan VINES
- protocols [SQL Server], client configuration
ms.assetid: 6565fb7d-b076-4447-be90-e10d0dec359a
author: rothja
ms.author: jroth
ms.openlocfilehash: 13cbfbcbef54759a16729692e4f5a649f387d059
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87735761"
---
# <a name="choosing-a-network-protocol"></a><span data-ttu-id="99d35-103">Выбор сетевого протокола</span><span class="sxs-lookup"><span data-stu-id="99d35-103">Choosing a Network Protocol</span></span>
  <span data-ttu-id="99d35-104">Чтобы установить соединение с [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] , необходимо включить сетевой протокол.</span><span class="sxs-lookup"><span data-stu-id="99d35-104">To connect to [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] you must have a network protocol enabled.</span></span> [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="99d35-105">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]может одновременно обслуживать запросы по нескольким протоколам.</span><span class="sxs-lookup"><span data-stu-id="99d35-105">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can service requests on several protocols at the same time.</span></span> <span data-ttu-id="99d35-106">Клиенты подключаются к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] при помощи одного протокола.</span><span class="sxs-lookup"><span data-stu-id="99d35-106">Clients connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a single protocol.</span></span> <span data-ttu-id="99d35-107">Если программе клиента неизвестно, какой протокол прослушивается [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , настройте клиент для последовательного использования нескольких протоколов.</span><span class="sxs-lookup"><span data-stu-id="99d35-107">If the client program does not know which protocol [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is listening on, configure the client to sequentially try multiple protocols.</span></span> <span data-ttu-id="99d35-108">Для включения, выключения и настройки сетевых протоколов используйте диспетчер конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="99d35-108">Use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to enable, disable, and configure network protocols.</span></span>  
  
## <a name="shared-memory"></a><span data-ttu-id="99d35-109">Общая память</span><span class="sxs-lookup"><span data-stu-id="99d35-109">Shared Memory</span></span>  
 <span data-ttu-id="99d35-110">Общая память является простейшим протоколом и не имеет настраиваемых параметров.</span><span class="sxs-lookup"><span data-stu-id="99d35-110">Shared memory is the simplest protocol to use and has no configurable settings.</span></span> <span data-ttu-id="99d35-111">Поскольку клиенты, использующие протокол общей памяти, могут подключаться только к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , запущенному на том же компьютере, этот протокол неприменим к большинству действий базы данных.</span><span class="sxs-lookup"><span data-stu-id="99d35-111">Because clients using the shared memory protocol can only connect to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance running on the same computer, it is not useful for most database activity.</span></span> <span data-ttu-id="99d35-112">Используйте протокол общей памяти, чтобы устранить неполадки, если есть вероятность того, что другие протоколы настроены некорректно.</span><span class="sxs-lookup"><span data-stu-id="99d35-112">Use the shared memory protocol for troubleshooting when you suspect the other protocols are configured incorrectly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="99d35-113">Клиенты, использующие компоненты MDAC версии 2.8 или более ранней, не могут использовать протокол общей памяти.</span><span class="sxs-lookup"><span data-stu-id="99d35-113">Clients that use MDAC 2.8 or earlier cannot use shared memory protocol.</span></span> <span data-ttu-id="99d35-114">Если происходит попытка связи через протокол общей памяти, они автоматически переключаются на протокол именованных каналов.</span><span class="sxs-lookup"><span data-stu-id="99d35-114">If these clients try this, they are automatically switched to the named pipes protocol.</span></span>  
  
## <a name="tcpip"></a><span data-ttu-id="99d35-115">TCP/IP</span><span class="sxs-lookup"><span data-stu-id="99d35-115">TCP/IP</span></span>  
 <span data-ttu-id="99d35-116">TCP/IP является распространенным протоколом, широко использующимся в Интернете.</span><span class="sxs-lookup"><span data-stu-id="99d35-116">TCP/IP is a common protocol widely used over the Internet.</span></span> <span data-ttu-id="99d35-117">Он обеспечивает связь между сетями, в которые входят компьютеры с разнообразной аппаратной архитектурой и различными операционными системами.</span><span class="sxs-lookup"><span data-stu-id="99d35-117">It communicates across interconnected networks of computers that have diverse hardware architectures and various operating systems.</span></span> <span data-ttu-id="99d35-118">В TCP/IP включены стандарты для маршрутизации сетевого трафика и расширенные средства безопасности.</span><span class="sxs-lookup"><span data-stu-id="99d35-118">TCP/IP includes standards for routing network traffic and offers advanced security features.</span></span> <span data-ttu-id="99d35-119">На сегодняшний день это самый популярный протокол, использующийся в бизнесе.</span><span class="sxs-lookup"><span data-stu-id="99d35-119">It is the most popular protocol that is used in business today.</span></span> <span data-ttu-id="99d35-120">Настройка компьютера для использования TCP/IP может быть сложной, но большинство подключенных к сети компьютеров уже настроены необходимым образом.</span><span class="sxs-lookup"><span data-stu-id="99d35-120">Configuring your computer to use TCP/IP can be complex, but most networked computers are already correctly configured.</span></span> <span data-ttu-id="99d35-121">Для настройки параметров TCP/IP, не представленных в диспетчере конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , обратитесь к документации по [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="99d35-121">To configure the TCP/IP settings that are not exposed in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, see the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows documentation.</span></span>  
  
## <a name="named-pipes"></a><span data-ttu-id="99d35-122">Именованные каналы</span><span class="sxs-lookup"><span data-stu-id="99d35-122">Named Pipes</span></span>  
 <span data-ttu-id="99d35-123">Именованные каналы — это протокол, разработанный для локальных сетей.</span><span class="sxs-lookup"><span data-stu-id="99d35-123">Named Pipes is a protocol developed for local area networks.</span></span> <span data-ttu-id="99d35-124">Для передачи данных от одного процесса к другому используется часть памяти, поэтому вывод одного процесса является вводом другого.</span><span class="sxs-lookup"><span data-stu-id="99d35-124">A part of memory is used by one process to pass information to another process, so that the output of one is the input of the other.</span></span> <span data-ttu-id="99d35-125">Второй процесс может быть как локальным (находиться на том же компьютере, что и первый), так и удаленным (находиться на подключенном к сети компьютере).</span><span class="sxs-lookup"><span data-stu-id="99d35-125">The second process can be local (on the same computer as the first) or remote (on a networked computer).</span></span>  
  
## <a name="named-pipes-vs-tcpip-sockets"></a><span data-ttu-id="99d35-126">Именованные каналы и сокеты TCP/IP</span><span class="sxs-lookup"><span data-stu-id="99d35-126">Named Pipes vs. TCP/IP Sockets</span></span>  
 <span data-ttu-id="99d35-127">В скоростных локальных сетях производительность сокетов протокола (TCP/IP) и клиентов именованных каналов является сопоставимой.</span><span class="sxs-lookup"><span data-stu-id="99d35-127">In a fast local area network (LAN) environment, Transmission Control Protocol/Internet Protocol (TCP/IP) Sockets and Named Pipes clients are comparable with regard to performance.</span></span> <span data-ttu-id="99d35-128">Однако в более медленных сетях, таких как глобальные сети или сети с коммутируемыми соединениями, разница в производительности между сокетами TCP/IP и клиентами именованных каналов становится заметной.</span><span class="sxs-lookup"><span data-stu-id="99d35-128">However, the performance difference between the TCP/IP Sockets and Named Pipes clients becomes apparent with slower networks, such as across wide area networks (WANs) or dial-up networks.</span></span> <span data-ttu-id="99d35-129">Это происходит из-за того, что механизмы межпроцессного взаимодействия (IPC) связываются между равноправными узлами различными способами.</span><span class="sxs-lookup"><span data-stu-id="99d35-129">This is because of the different ways the interprocess communication (IPC) mechanisms communicate between peers.</span></span>  
  
 <span data-ttu-id="99d35-130">В случае именованных каналов сетевые соединения обычно более интерактивны.</span><span class="sxs-lookup"><span data-stu-id="99d35-130">For named pipes, network communications are typically more interactive.</span></span> <span data-ttu-id="99d35-131">Равноправный узел не посылает данные до тех пор, пока другой узел не запросит его при помощи команды чтения.</span><span class="sxs-lookup"><span data-stu-id="99d35-131">A peer does not send data until another peer asks for it using a read command.</span></span> <span data-ttu-id="99d35-132">Команда чтения перед началом считывания данных обычно запускает последовательность сообщений просмотра именованных каналов.</span><span class="sxs-lookup"><span data-stu-id="99d35-132">A network read typically involves a series of peek named pipes messages before it starts to read the data.</span></span> <span data-ttu-id="99d35-133">Этот процесс может отнимать много ресурсов в медленных сетях и приводить к избыточному сетевому трафику, что в свою очередь повлияет на работу других сетевых клиентов.</span><span class="sxs-lookup"><span data-stu-id="99d35-133">These can be very costly in a slow network and cause excessive network traffic, which in turn affects other network clients.</span></span>  
  
 <span data-ttu-id="99d35-134">Также важно выяснить, идет речь о локальных каналах или о сетевых каналах.</span><span class="sxs-lookup"><span data-stu-id="99d35-134">It is also important to clarify if you are talking about local pipes or network pipes.</span></span> <span data-ttu-id="99d35-135">Если приложение сервера запущено на локальном компьютере, где работает экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], можно использовать протокол локальных именованных каналов.</span><span class="sxs-lookup"><span data-stu-id="99d35-135">If the server application is running locally on the computer that is running an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the local Named Pipes protocol is an option.</span></span> <span data-ttu-id="99d35-136">Локальные именованные каналы работают в режиме ядра и обладают очень высокой скоростью.</span><span class="sxs-lookup"><span data-stu-id="99d35-136">Local named pipes runs in kernel mode and is very fast.</span></span>  
  
 <span data-ttu-id="99d35-137">Для сокетов TCP/IP передача данных осуществляется более просто и сопряжена с меньшими затратами.</span><span class="sxs-lookup"><span data-stu-id="99d35-137">For TCP/IP Sockets, data transmissions are more streamlined and have less overhead.</span></span> <span data-ttu-id="99d35-138">Передача данных также использует преимущества механизмов улучшения производительности сокетов TCP/IP, такие как многооконность, отложенные подтверждения и так далее.</span><span class="sxs-lookup"><span data-stu-id="99d35-138">Data transmissions can also take advantage of TCP/IP Sockets performance enhancement mechanisms such as windowing, delayed acknowledgements, and so on.</span></span> <span data-ttu-id="99d35-139">Это может быть весьма полезно в медленных сетях.</span><span class="sxs-lookup"><span data-stu-id="99d35-139">This can be very helpful in a slow network.</span></span> <span data-ttu-id="99d35-140">В зависимости от типа приложений, достигнутое увеличение производительности может оказаться значительным.</span><span class="sxs-lookup"><span data-stu-id="99d35-140">Depending on the type of applications, such performance differences can be significant.</span></span>  
  
 <span data-ttu-id="99d35-141">Сокеты TCP/IP также поддерживают очередь незавершенных заданий.</span><span class="sxs-lookup"><span data-stu-id="99d35-141">TCP/IP Sockets also support a backlog queue.</span></span> <span data-ttu-id="99d35-142">Это позволяет обеспечивать ограниченный сглаживающий эффект по сравнению с именованными каналами, которые могут вызвать ошибки занятости каналов во время попытки подключения к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="99d35-142">This can provide a limited smoothing effect compared to named pipes that could lead to pipe-busy errors when you are trying to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="99d35-143">Использование протокола TCP/IP предпочтительно в медленных локальных сетях, глобальных сетях и в сетях с коммутируемыми соединениями, а именованные каналы предоставляют более широкие функциональные возможности, повышенную простоту использования и большее число параметров конфигурации, когда скорость сети не является критичным параметром.</span><span class="sxs-lookup"><span data-stu-id="99d35-143">Generally, TCP/IP is preferred in a slow LAN, WAN, or dial-up network, whereas named pipes can be a better choice when network speed is not the issue, as it offers more functionality, ease of use, and configuration options.</span></span>  
  
## <a name="enabling-the-protocol"></a><span data-ttu-id="99d35-144">Включение протокола</span><span class="sxs-lookup"><span data-stu-id="99d35-144">Enabling the Protocol</span></span>  
 <span data-ttu-id="99d35-145">Для работы протокол должен быть включен и на сервере, и на клиенте.</span><span class="sxs-lookup"><span data-stu-id="99d35-145">The protocol must be enabled on both the client and server to work.</span></span> <span data-ttu-id="99d35-146">Сервер может одновременно прослушивать запросы по всем включенным протоколам.</span><span class="sxs-lookup"><span data-stu-id="99d35-146">The server can listen for requests on all enabled protocols at the same time.</span></span> <span data-ttu-id="99d35-147">Клиентский компьютер может выбрать один из них либо поочередно пытаться соединяться по протоколам, перечисленным в диспетчере конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="99d35-147">Client computers can pick one, or try the protocols in the order listed in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
 <span data-ttu-id="99d35-148">Краткий учебник о настройке протоколов и подключении к компоненту [!INCLUDE[ssDE](../../includes/ssde-md.md)]см. в разделе [Учебник. Приступая к работе с компонентом Database Engine](../../relational-databases/tutorial-getting-started-with-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="99d35-148">For a short tutorial about how to configure protocols and connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], see [Tutorial: Getting Started with the Database Engine](../../relational-databases/tutorial-getting-started-with-the-database-engine.md).</span></span>  
  
  

---
title: Настройка распределенное воспроизведение | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
ms.assetid: aee11dde-daad-439b-b594-9f4aeac94335
author: stevestein
ms.author: sstein
ms.openlocfilehash: 97aadd2fdf78f286fbfd8bb720307a145b4704be
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87659043"
---
# <a name="configure-distributed-replay"></a><span data-ttu-id="af965-102">Настройка распределенного воспроизведения</span><span class="sxs-lookup"><span data-stu-id="af965-102">Configure Distributed Replay</span></span>
  <span data-ttu-id="af965-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Сведения о конфигурации распределенного воспроизведения задаются в XML-файлах на контроллере распределенного воспроизведения, на клиентах, а также в месте установки средства администрирования.</span><span class="sxs-lookup"><span data-stu-id="af965-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay configuration details are specified in XML files on the Distributed Replay controller, clients, and where the administration tool is installed.</span></span> <span data-ttu-id="af965-104">Эти файлы включают в себя:</span><span class="sxs-lookup"><span data-stu-id="af965-104">These files include the following:</span></span>  
  
-   [<span data-ttu-id="af965-105">Файл конфигурации контроллера</span><span class="sxs-lookup"><span data-stu-id="af965-105">Controller configuration file</span></span>](#DReplayController)  
  
-   [<span data-ttu-id="af965-106">Файл конфигурации клиента</span><span class="sxs-lookup"><span data-stu-id="af965-106">Client configuration file</span></span>](#DReplayClient)  
  
-   [<span data-ttu-id="af965-107">Файл конфигурации предварительной обработки</span><span class="sxs-lookup"><span data-stu-id="af965-107">Preprocess configuration file</span></span>](#PreprocessConfig)  
  
-   [<span data-ttu-id="af965-108">Файла конфигурации воспроизведения</span><span class="sxs-lookup"><span data-stu-id="af965-108">Replay configuration file</span></span>](#ReplayConfig)  
  
##  <a name="controller-configuration-file-dreplaycontrollerconfig"></a><a name="DReplayController"></a><span data-ttu-id="af965-109">Файл конфигурации контроллера: DReplayController.config</span><span class="sxs-lookup"><span data-stu-id="af965-109">Controller Configuration File: DReplayController.config</span></span>  
 <span data-ttu-id="af965-110">При запуске службы контроллера распределенного воспроизведения [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] загружаются данные об уровне ведения журнала из файла конфигурации контроллера `DReplayController.config`.</span><span class="sxs-lookup"><span data-stu-id="af965-110">When the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay controller service starts, it loads the logging level from the controller configuration file, `DReplayController.config`.</span></span> <span data-ttu-id="af965-111">Этот файл находится в папке, в которую установлена служба контроллера распределенного воспроизведения:</span><span class="sxs-lookup"><span data-stu-id="af965-111">This file is located in the folder where you installed the Distributed Replay controller service:</span></span>  
  
 <span data-ttu-id="af965-112">**\<controller installation path>\DReplayController.config**</span><span class="sxs-lookup"><span data-stu-id="af965-112">**\<controller installation path>\DReplayController.config**</span></span>  
  
 <span data-ttu-id="af965-113">Уровень ведения журнала, заданный в файле конфигурации контроллера, включает следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="af965-113">The logging level specified by the controller configuration file includes the following:</span></span>  
  
|<span data-ttu-id="af965-114">Параметр</span><span class="sxs-lookup"><span data-stu-id="af965-114">Setting</span></span>|<span data-ttu-id="af965-115">XML-элемент</span><span class="sxs-lookup"><span data-stu-id="af965-115">XML Element</span></span>|<span data-ttu-id="af965-116">Описание</span><span class="sxs-lookup"><span data-stu-id="af965-116">Description</span></span>|<span data-ttu-id="af965-117">Допустимые значения</span><span class="sxs-lookup"><span data-stu-id="af965-117">Allowed Values</span></span>|<span data-ttu-id="af965-118">Обязательно</span><span class="sxs-lookup"><span data-stu-id="af965-118">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="af965-119">Уровень ведения журнала</span><span class="sxs-lookup"><span data-stu-id="af965-119">Logging level</span></span>|`<LoggingLevel>`|<span data-ttu-id="af965-120">Задает уровень ведения журнала для службы контроллера.</span><span class="sxs-lookup"><span data-stu-id="af965-120">Specifies the logging level for the controller service.</span></span>|<span data-ttu-id="af965-121">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span><span class="sxs-lookup"><span data-stu-id="af965-121">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span></span>|<span data-ttu-id="af965-122">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-122">No.</span></span> <span data-ttu-id="af965-123">Значение по умолчанию — `CRITICAL`.</span><span class="sxs-lookup"><span data-stu-id="af965-123">By default, the value is `CRITICAL`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="af965-124">Пример</span><span class="sxs-lookup"><span data-stu-id="af965-124">Example</span></span>  
 <span data-ttu-id="af965-125">В этом примере показан файл конфигурации контроллера, в котором подавляются записи журнала `INFORMATION` и `WARNING` .</span><span class="sxs-lookup"><span data-stu-id="af965-125">This example shows a controller configuration file that has been modified to suppress `INFORMATION` and `WARNING` log entries.</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
<LoggingLevel>CRITICAL</LoggingLevel>  
</Options>  
```  
  
##  <a name="client-configuration-file-dreplayclientconfig"></a><a name="DReplayClient"></a><span data-ttu-id="af965-126">Файл конфигурации клиента: DReplayClient.config</span><span class="sxs-lookup"><span data-stu-id="af965-126">Client Configuration File: DReplayClient.config</span></span>  
 <span data-ttu-id="af965-127">При запуске служба клиента распределенного воспроизведения [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] загружает параметры конфигурации из файла конфигурации клиента `DReplayClient.config`.</span><span class="sxs-lookup"><span data-stu-id="af965-127">When the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay client service starts, it loads configuration settings from the client configuration file, `DReplayClient.config`.</span></span> <span data-ttu-id="af965-128">Этот файл находится на каждом клиентском компьютере в папке, где установлена служба клиента распределенного воспроизведения:</span><span class="sxs-lookup"><span data-stu-id="af965-128">This file is located on each client, in the folder where you installed the Distributed Replay client service:</span></span>  
  
 <span data-ttu-id="af965-129">**\<client installation path>\DReplayClient.config**</span><span class="sxs-lookup"><span data-stu-id="af965-129">**\<client installation path>\DReplayClient.config**</span></span>  
  
 <span data-ttu-id="af965-130">В файле конфигурации клиента указываются следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="af965-130">The settings specified by the client configuration file include the following:</span></span>  
  
|<span data-ttu-id="af965-131">Параметр</span><span class="sxs-lookup"><span data-stu-id="af965-131">Setting</span></span>|<span data-ttu-id="af965-132">XML-элемент</span><span class="sxs-lookup"><span data-stu-id="af965-132">XML Element</span></span>|<span data-ttu-id="af965-133">Описание</span><span class="sxs-lookup"><span data-stu-id="af965-133">Description</span></span>|<span data-ttu-id="af965-134">Допустимые значения</span><span class="sxs-lookup"><span data-stu-id="af965-134">Allowed Values</span></span>|<span data-ttu-id="af965-135">Обязательно</span><span class="sxs-lookup"><span data-stu-id="af965-135">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="af965-136">Контроллер</span><span class="sxs-lookup"><span data-stu-id="af965-136">Controller</span></span>|`<Controller>`|<span data-ttu-id="af965-137">Задает имя компьютера для контроллера.</span><span class="sxs-lookup"><span data-stu-id="af965-137">Specifies the computer name of the controller.</span></span> <span data-ttu-id="af965-138">Клиент предпринимает попытку зарегистрироваться в среде распределенного воспроизведения, обращаясь к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="af965-138">The client will attempt to register with the Distributed Replay environment by contacting the controller.</span></span>|<span data-ttu-id="af965-139">Локальный компьютер можно указать как «`localhost`» или «`.`».</span><span class="sxs-lookup"><span data-stu-id="af965-139">You can use "`localhost`" or "`.`" to refer to the local computer.</span></span>|<span data-ttu-id="af965-140">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-140">No.</span></span> <span data-ttu-id="af965-141">По умолчанию клиент пытается зарегистрироваться на экземпляре контроллера, работающего локально («`.`»), если таковой существует.</span><span class="sxs-lookup"><span data-stu-id="af965-141">By default, the client tries to register with the controller instance that is running locally ("`.`"), if it exists.</span></span>|  
|<span data-ttu-id="af965-142">Рабочий каталог клиента</span><span class="sxs-lookup"><span data-stu-id="af965-142">Client working directory</span></span>|`<WorkingDirectory>`|<span data-ttu-id="af965-143">Локальный путь на клиенте, где сохраняются переданные файлы.</span><span class="sxs-lookup"><span data-stu-id="af965-143">Is the local path on the client where the dispatch files are saved.</span></span><br /><br /> <span data-ttu-id="af965-144">Файлы в этом каталоге при следующем воспроизведении перезаписываются.</span><span class="sxs-lookup"><span data-stu-id="af965-144">The files in this directory are overwritten on the next replay.</span></span>|<span data-ttu-id="af965-145">Полное имя каталога, начиная с буквы диска.</span><span class="sxs-lookup"><span data-stu-id="af965-145">A full directory name, starting with the drive letter.</span></span>|<span data-ttu-id="af965-146">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-146">No.</span></span> <span data-ttu-id="af965-147">Если значение не задано, то переданные файлы сохраняются в той же папке, где находится файл конфигурации клиента по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="af965-147">If no value is specified, the dispatch files will be saved in the same location as the default client configuration file.</span></span> <span data-ttu-id="af965-148">Если значение указано, но папка не существует на клиенте, то служба клиента не будет запущена.</span><span class="sxs-lookup"><span data-stu-id="af965-148">If a value is specified and that folder does not exist on the client, the client service will not start.</span></span>|  
|<span data-ttu-id="af965-149">Результирующий каталог клиента</span><span class="sxs-lookup"><span data-stu-id="af965-149">Client result directory</span></span>|`<ResultDirectory>`|<span data-ttu-id="af965-150">Локальный путь на клиенте, где сохраняется файл результатов трассировки после воспроизведения (для клиента).</span><span class="sxs-lookup"><span data-stu-id="af965-150">Is the local path on the client where the result trace file from the replay activity (for the client) is saved.</span></span><br /><br /> <span data-ttu-id="af965-151">Файлы в этом каталоге при следующем воспроизведении перезаписываются.</span><span class="sxs-lookup"><span data-stu-id="af965-151">The files in this directory are overwritten on the next replay.</span></span>|<span data-ttu-id="af965-152">Полное имя каталога, начиная с буквы диска.</span><span class="sxs-lookup"><span data-stu-id="af965-152">A full directory name, starting with the drive letter.</span></span>|<span data-ttu-id="af965-153">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-153">No.</span></span> <span data-ttu-id="af965-154">Если значение не задано, то файл трассировки результатов сохраняется в той же папке, где находится файл конфигурации клиента по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="af965-154">If no value is specified, the result trace file will be saved in the same location as the default client configuration file.</span></span> <span data-ttu-id="af965-155">Если значение указано, но папка не существует на клиенте, то служба клиента не будет запущена.</span><span class="sxs-lookup"><span data-stu-id="af965-155">If a value is specified and that folder does not exist on the client, the client service will not start.</span></span>|  
|<span data-ttu-id="af965-156">Уровень ведения журнала</span><span class="sxs-lookup"><span data-stu-id="af965-156">Logging level</span></span>|`<LoggingLevel>`|<span data-ttu-id="af965-157">Задает уровень ведения журнала для службы клиента.</span><span class="sxs-lookup"><span data-stu-id="af965-157">Is the logging level for the client service.</span></span>|<span data-ttu-id="af965-158">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span><span class="sxs-lookup"><span data-stu-id="af965-158">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span></span>|<span data-ttu-id="af965-159">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-159">No.</span></span> <span data-ttu-id="af965-160">Значение по умолчанию — `CRITICAL`.</span><span class="sxs-lookup"><span data-stu-id="af965-160">By default, the value is `CRITICAL`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="af965-161">Пример</span><span class="sxs-lookup"><span data-stu-id="af965-161">Example</span></span>  
 <span data-ttu-id="af965-162">В этом примере показан измененный файл конфигурации клиента, в котором указано, что служба контроллера выполняется на другом компьютере с именем `Controller1`.</span><span class="sxs-lookup"><span data-stu-id="af965-162">This example shows a client configuration file that has been modified to specify that the controller service is running on a different computer, a computer named `Controller1`.</span></span> <span data-ttu-id="af965-163">Элементы `WorkingDirectory` и `ResultDirectory` настроены на использование папок `c:\ClientWorkingDir` и `c:\ResultTraceDir`соответственно.</span><span class="sxs-lookup"><span data-stu-id="af965-163">The `WorkingDirectory` and `ResultDirectory` elements have been configured to use folders `c:\ClientWorkingDir` and `c:\ResultTraceDir`, respectively.</span></span> <span data-ttu-id="af965-164">Уровень ведения журнала по умолчанию изменен, в нем подавлены записи журнала `INFORMATION` и `WARNING` .</span><span class="sxs-lookup"><span data-stu-id="af965-164">The logging level has been changed from the default value to suppress `INFORMATION` and `WARNING` log entries.</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
    <Controller>Controller1</Controller>  
    <WorkingDirectory>c:\ClientWorkingDir</WorkingDirectory>  
    <ResultDirectory>c:\ResultTraceDir</ResultDirectory>  
    <LoggingLevel>CRITICAL</LoggingLevel>  
</Options>  
```  
  
##  <a name="preprocess-configuration-file-dreplayexepreprocessconfig"></a><a name="PreprocessConfig"></a><span data-ttu-id="af965-165">Файл конфигурации предварительной обработки: DReplay.exe.preprocess.config</span><span class="sxs-lookup"><span data-stu-id="af965-165">Preprocess Configuration File: DReplay.exe.preprocess.config</span></span>  
 <span data-ttu-id="af965-166">При использовании средства администрирования для запуска предварительной обработки оно загружает параметры из файла конфигурации предварительной обработки `DReplay.exe.preprocess.config`.</span><span class="sxs-lookup"><span data-stu-id="af965-166">When you use the administration tool to initiate the preprocess stage, the administration tool loads the preprocess settings from the preprocess configuration file, `DReplay.exe.preprocess.config`.</span></span>  
  
 <span data-ttu-id="af965-167">Расположение измененного файла конфигурации предварительной обработки можно указать в файле конфигурации по умолчанию или в параметре средства администрирования **-c** .</span><span class="sxs-lookup"><span data-stu-id="af965-167">Use the default configuration file or use the administration tool **-c** parameter to specify the location of a modified preprocess configuration file.</span></span> <span data-ttu-id="af965-168">Дополнительные сведения об использовании параметра предварительной обработки средства администрирования см. в разделе [Параметр предварительной обработки (средство администрирования распределенного воспроизведения)](preprocess-option-distributed-replay-administration-tool.md).</span><span class="sxs-lookup"><span data-stu-id="af965-168">For more information about using the preprocess option of the administration tool, see [Preprocess Option &#40;Distributed Replay Administration Tool&#41;](preprocess-option-distributed-replay-administration-tool.md).</span></span>  
  
 <span data-ttu-id="af965-169">Файл конфигурации предварительной обработки по умолчанию расположен в папке установки средства администрирования.</span><span class="sxs-lookup"><span data-stu-id="af965-169">The default preprocess configuration file is located in the folder where you installed the administration tool:</span></span>  
  
 <span data-ttu-id="af965-170">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.preprocess.config**</span><span class="sxs-lookup"><span data-stu-id="af965-170">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.preprocess.config**</span></span>  
  
 <span data-ttu-id="af965-171">Параметры конфигурации предварительной обработки указываются в дочерних XML-элементах элемента `<PreprocessModifiers>` в файле конфигурации предварительной обработки.</span><span class="sxs-lookup"><span data-stu-id="af965-171">The preprocess configuration settings are specified in XML elements that are children of the `<PreprocessModifiers>` element in the preprocess configuration file.</span></span> <span data-ttu-id="af965-172">В их число входят следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="af965-172">These settings include the following:</span></span>  
  
|<span data-ttu-id="af965-173">Параметр</span><span class="sxs-lookup"><span data-stu-id="af965-173">Setting</span></span>|<span data-ttu-id="af965-174">XML-элемент</span><span class="sxs-lookup"><span data-stu-id="af965-174">XML Element</span></span>|<span data-ttu-id="af965-175">Описание</span><span class="sxs-lookup"><span data-stu-id="af965-175">Description</span></span>|<span data-ttu-id="af965-176">Допустимые значения</span><span class="sxs-lookup"><span data-stu-id="af965-176">Allowed Values</span></span>|<span data-ttu-id="af965-177">Обязательно</span><span class="sxs-lookup"><span data-stu-id="af965-177">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="af965-178">Включить действия системного сеанса</span><span class="sxs-lookup"><span data-stu-id="af965-178">Include system session activities</span></span>|`<IncSystemSession>`|<span data-ttu-id="af965-179">Указывает, будут ли включены записанные действия системного сеанса при воспроизведении.</span><span class="sxs-lookup"><span data-stu-id="af965-179">Indicates whether system session activities during the capture will be included during replay.</span></span>|<span data-ttu-id="af965-180">`Yes` &#124; `No`</span><span class="sxs-lookup"><span data-stu-id="af965-180">`Yes` &#124; `No`</span></span>|<span data-ttu-id="af965-181">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-181">No.</span></span> <span data-ttu-id="af965-182">Значение по умолчанию — `No`.</span><span class="sxs-lookup"><span data-stu-id="af965-182">By default, the value is `No`.</span></span>|  
|<span data-ttu-id="af965-183">Максимальное время простоя</span><span class="sxs-lookup"><span data-stu-id="af965-183">Maximum idle time</span></span>|`<MaxIdleTime>`|<span data-ttu-id="af965-184">Время простоя в секундах.</span><span class="sxs-lookup"><span data-stu-id="af965-184">Caps the idle time to an absolute number (in seconds).</span></span>|<span data-ttu-id="af965-185">Целое число, равное >=-1</span><span class="sxs-lookup"><span data-stu-id="af965-185">An integer that is >= -1</span></span><br /><br /> <span data-ttu-id="af965-186">`-1` указывает, что значение в исходном файле трассировки не менялось.</span><span class="sxs-lookup"><span data-stu-id="af965-186">`-1` indicates no change from the original value in the original trace file.</span></span><br /><br /> <span data-ttu-id="af965-187">`0` указывает наличие некоторой активности, которая происходит в любой момент времени.</span><span class="sxs-lookup"><span data-stu-id="af965-187">`0` indicates that there is some activity going on at any given point in time.</span></span>|<span data-ttu-id="af965-188">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-188">No.</span></span> <span data-ttu-id="af965-189">Значение по умолчанию — `-1`.</span><span class="sxs-lookup"><span data-stu-id="af965-189">By default, the value is `-1`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="af965-190">Пример</span><span class="sxs-lookup"><span data-stu-id="af965-190">Example</span></span>  
 <span data-ttu-id="af965-191">Файл конфигурации предварительной обработки по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="af965-191">The default preprocess configuration file:</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
    <PreprocessModifiers>  
        <IncSystemSession>No</IncSystemSession>  
        <MaxIdleTime>-1</MaxIdleTime>  
    </PreprocessModifiers>  
</Options>  
```  
  
##  <a name="replay-configuration-file-dreplayexereplayconfig"></a><a name="ReplayConfig"></a><span data-ttu-id="af965-192">Файл конфигурации воспроизведения: DReplay.exe.replay.config</span><span class="sxs-lookup"><span data-stu-id="af965-192">Replay Configuration File: DReplay.exe.replay.config</span></span>  
 <span data-ttu-id="af965-193">При использовании средства администрирования для запуска воспроизведения событий оно загружает параметры воспроизведения из файла конфигурации воспроизведения `DReplay.exe.replay.config`.</span><span class="sxs-lookup"><span data-stu-id="af965-193">When you use the administration tool to initiate the event replay stage, the administration tool loads the replay settings from the replay configuration file, `DReplay.exe.replay.config`.</span></span>  
  
 <span data-ttu-id="af965-194">Расположение измененного файла конфигурации воспроизведения можно указать в файле конфигурации по умолчанию или в параметре средства администрирования **-c** .</span><span class="sxs-lookup"><span data-stu-id="af965-194">Use the default configuration file or use the administration tool **-c** parameter to specify the location of a modified replay configuration file.</span></span> <span data-ttu-id="af965-195">Дополнительные сведения об использовании параметра воспроизведения средства администрирования см. в разделе [Параметр воспроизведения (средство администрирования распределенного воспроизведения)](replay-option-distributed-replay-administration-tool.md).</span><span class="sxs-lookup"><span data-stu-id="af965-195">For more information about using the replay option of the administration tool, see [Replay Option &#40;Distributed Replay Administration Tool&#41;](replay-option-distributed-replay-administration-tool.md).</span></span>  
  
 <span data-ttu-id="af965-196">Файл конфигурации воспроизведения по умолчанию расположен в папке установки средства администрирования.</span><span class="sxs-lookup"><span data-stu-id="af965-196">The default replay configuration file is located in the folder where you installed the administration tool:</span></span>  
  
 <span data-ttu-id="af965-197">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.replay.config**</span><span class="sxs-lookup"><span data-stu-id="af965-197">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.replay.config**</span></span>  
  
 <span data-ttu-id="af965-198">Параметры конфигурации воспроизведения указываются в дочерних XML-элементах элементов `<ReplayOptions>` и `<OutputOptions>` в файле конфигурации воспроизведения.</span><span class="sxs-lookup"><span data-stu-id="af965-198">The replay configuration settings are specified in XML elements that are children of the `<ReplayOptions>` and `<OutputOptions>` elements of the replay configuration file.</span></span>  
  
### <a name="replayoptions-element"></a><span data-ttu-id="af965-199">Элемент \<ReplayOptions></span><span class="sxs-lookup"><span data-stu-id="af965-199">\<ReplayOptions> Element</span></span>  
 <span data-ttu-id="af965-200">В файле конфигурации воспроизведения в элементе `<ReplayOptions>` указываются следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="af965-200">The settings specified by the replay configuration file in the `<ReplayOptions>` element include the following:</span></span>  
  
|<span data-ttu-id="af965-201">Параметр</span><span class="sxs-lookup"><span data-stu-id="af965-201">Setting</span></span>|<span data-ttu-id="af965-202">XML-элемент</span><span class="sxs-lookup"><span data-stu-id="af965-202">XML Element</span></span>|<span data-ttu-id="af965-203">Описание</span><span class="sxs-lookup"><span data-stu-id="af965-203">Description</span></span>|<span data-ttu-id="af965-204">Допустимые значения</span><span class="sxs-lookup"><span data-stu-id="af965-204">Allowed Values</span></span>|<span data-ttu-id="af965-205">Обязательно</span><span class="sxs-lookup"><span data-stu-id="af965-205">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="af965-206">Целевой экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (тестовый сервер)</span><span class="sxs-lookup"><span data-stu-id="af965-206">Target instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (the test server)</span></span>|`<Server>`|<span data-ttu-id="af965-207">Задает имя сервера и экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для подключения.</span><span class="sxs-lookup"><span data-stu-id="af965-207">Specifies the name of the server and instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to connect to.</span></span>|<span data-ttu-id="af965-208">*имя_сервера*[\\*имя_экземпляра*]</span><span class="sxs-lookup"><span data-stu-id="af965-208">*server_name*[\\*instance_name*]</span></span><br /><br /> <span data-ttu-id="af965-209">Указывать «`localhost`» или «`.`» в качестве псевдонима локального узла нельзя.</span><span class="sxs-lookup"><span data-stu-id="af965-209">You cannot use "`localhost`" or "`.`" to represent the local host.</span></span>|<span data-ttu-id="af965-210">Нет, если имя сервера уже указано в параметре **-s**_целевой сервер_ со значением **replay** средства администрирования.</span><span class="sxs-lookup"><span data-stu-id="af965-210">No, if the server name is already specified by using the **-s**_target server_ parameter with the **replay** option of the administration tool.</span></span>|  
|<span data-ttu-id="af965-211">Режим последовательного выполнения</span><span class="sxs-lookup"><span data-stu-id="af965-211">Sequencing mode</span></span>|`<SequencingMode>`|<span data-ttu-id="af965-212">Задает режим планирования событий.</span><span class="sxs-lookup"><span data-stu-id="af965-212">Specifies the mode that is used for event scheduling.</span></span>|<span data-ttu-id="af965-213">`synchronization` &#124; `stress`</span><span class="sxs-lookup"><span data-stu-id="af965-213">`synchronization` &#124; `stress`</span></span>|<span data-ttu-id="af965-214">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-214">No.</span></span> <span data-ttu-id="af965-215">Значение по умолчанию — `stress`.</span><span class="sxs-lookup"><span data-stu-id="af965-215">By default, the value is `stress`.</span></span>|  
|<span data-ttu-id="af965-216">Гранулярность масштабирования нагрузки</span><span class="sxs-lookup"><span data-stu-id="af965-216">Stress scale granularity</span></span>|`<StressScaleGranularity>`|<span data-ttu-id="af965-217">Указывает, должны ли все соединения с идентификатором SPID масштабироваться в режиме нагрузки совместно (SPID) или независимо (Connection).</span><span class="sxs-lookup"><span data-stu-id="af965-217">Specifies whether all connections on the Service Profile Identifier (SPID) should be scaled together (SPID) or independently (Connection) under stress mode.</span></span>|<span data-ttu-id="af965-218">SPID &#124; Connection</span><span class="sxs-lookup"><span data-stu-id="af965-218">SPID &#124; Connection</span></span>|<span data-ttu-id="af965-219">Да.</span><span class="sxs-lookup"><span data-stu-id="af965-219">Yes.</span></span> <span data-ttu-id="af965-220">Значение по умолчанию — `SPID`.</span><span class="sxs-lookup"><span data-stu-id="af965-220">By default, the value is `SPID`.</span></span>|  
|<span data-ttu-id="af965-221">Масштаб времени подключения</span><span class="sxs-lookup"><span data-stu-id="af965-221">Connect time scale</span></span>|`<ConnectTimeScale>`|<span data-ttu-id="af965-222">Используется для масштабирования времени подключения в режиме нагрузки.</span><span class="sxs-lookup"><span data-stu-id="af965-222">Is used to scale the connect time in stress mode.</span></span>|<span data-ttu-id="af965-223">Целое число от `1` до `100`.</span><span class="sxs-lookup"><span data-stu-id="af965-223">An integer between `1` and `100`.</span></span>|<span data-ttu-id="af965-224">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-224">No.</span></span> <span data-ttu-id="af965-225">Значение по умолчанию — `100`.</span><span class="sxs-lookup"><span data-stu-id="af965-225">By default, the value is `100`.</span></span>|  
|<span data-ttu-id="af965-226">Масштаб времени обработки</span><span class="sxs-lookup"><span data-stu-id="af965-226">Think time scale</span></span>|`<ThinkTimeScale>`|<span data-ttu-id="af965-227">Используется для масштабирования времени обработки в режиме нагрузки.</span><span class="sxs-lookup"><span data-stu-id="af965-227">Is used to scale think time in stress mode.</span></span>|<span data-ttu-id="af965-228">Целое число от `0` до `100`.</span><span class="sxs-lookup"><span data-stu-id="af965-228">An integer between `0` and `100`.</span></span>|<span data-ttu-id="af965-229">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-229">No.</span></span> <span data-ttu-id="af965-230">Значение по умолчанию — `100`.</span><span class="sxs-lookup"><span data-stu-id="af965-230">By default, the value is `100`.</span></span>|  
|<span data-ttu-id="af965-231">Использование пула соединений</span><span class="sxs-lookup"><span data-stu-id="af965-231">Use connection pooling</span></span>|`<UseConnectionPooling>`|<span data-ttu-id="af965-232">Указывает, будет ли использоваться пул соединений на каждом клиенте распределенного воспроизведения.</span><span class="sxs-lookup"><span data-stu-id="af965-232">Specifies whether connection pooling will be enabled on each Distributed Replay client.</span></span>|<span data-ttu-id="af965-233">Да &#124; Нет</span><span class="sxs-lookup"><span data-stu-id="af965-233">Yes &#124; No</span></span>|<span data-ttu-id="af965-234">Да.</span><span class="sxs-lookup"><span data-stu-id="af965-234">Yes.</span></span> <span data-ttu-id="af965-235">Значение по умолчанию — `Yes`.</span><span class="sxs-lookup"><span data-stu-id="af965-235">By default, the value is `Yes`.</span></span>|  
|<span data-ttu-id="af965-236">Интервал опроса монитора исправности</span><span class="sxs-lookup"><span data-stu-id="af965-236">Health monitor interval</span></span>|`<HealthmonInterval>`|<span data-ttu-id="af965-237">Указывает частоту запуска монитора исправности (в секундах).</span><span class="sxs-lookup"><span data-stu-id="af965-237">Indicates how often to run the health monitor (in seconds).</span></span><br /><br /> <span data-ttu-id="af965-238">Это значение используется только в режиме синхронизации.</span><span class="sxs-lookup"><span data-stu-id="af965-238">This value is only used in synchronization mode.</span></span>|<span data-ttu-id="af965-239">Целое число >= 1</span><span class="sxs-lookup"><span data-stu-id="af965-239">Integer >= 1</span></span><br /><br /> <span data-ttu-id="af965-240">(`-1` для отключения)</span><span class="sxs-lookup"><span data-stu-id="af965-240">(`-1` to disable)</span></span>|<span data-ttu-id="af965-241">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-241">No.</span></span> <span data-ttu-id="af965-242">Значение по умолчанию — `60`.</span><span class="sxs-lookup"><span data-stu-id="af965-242">By default, the value is `60`.</span></span>|  
|<span data-ttu-id="af965-243">Время ожидания запроса</span><span class="sxs-lookup"><span data-stu-id="af965-243">Query time-out</span></span>|`<QueryTimeout>`|<span data-ttu-id="af965-244">Задает время ожидания запроса в секундах.</span><span class="sxs-lookup"><span data-stu-id="af965-244">Specifies the query time-out value, in seconds.</span></span> <span data-ttu-id="af965-245">Это значение действует только до возврата первой строки.</span><span class="sxs-lookup"><span data-stu-id="af965-245">This value is only effective until the first row has been returned.</span></span>|<span data-ttu-id="af965-246">Целое число >= 1</span><span class="sxs-lookup"><span data-stu-id="af965-246">Integer >= 1</span></span><br /><br /> <span data-ttu-id="af965-247">(`-1` для отключения)</span><span class="sxs-lookup"><span data-stu-id="af965-247">(`-1` to disable)</span></span>|<span data-ttu-id="af965-248">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-248">No.</span></span> <span data-ttu-id="af965-249">Значение по умолчанию — `3600`.</span><span class="sxs-lookup"><span data-stu-id="af965-249">By default, the value is `3600`.</span></span>|  
|<span data-ttu-id="af965-250">Потоков на клиент</span><span class="sxs-lookup"><span data-stu-id="af965-250">Threads per client</span></span>|`<ThreadsPerClient>`|<span data-ttu-id="af965-251">Задает число потоков воспроизведения для использования на каждом клиенте воспроизведения.</span><span class="sxs-lookup"><span data-stu-id="af965-251">Specifies the number of replay threads to use for each replay client.</span></span>|<span data-ttu-id="af965-252">Целое число от `1` до `512`.</span><span class="sxs-lookup"><span data-stu-id="af965-252">An integer between `1` and `512`.</span></span>|<span data-ttu-id="af965-253">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-253">No.</span></span> <span data-ttu-id="af965-254">Если значение не указано, то для распределенного воспроизведения будет использоваться значение `255`.</span><span class="sxs-lookup"><span data-stu-id="af965-254">If not specified, Distributed Replay will use a value of `255`.</span></span>|  
  
### <a name="outputoptions-element"></a><span data-ttu-id="af965-255">Элемент \<OutputOptions></span><span class="sxs-lookup"><span data-stu-id="af965-255">\<OutputOptions> Element</span></span>  
 <span data-ttu-id="af965-256">В файле конфигурации воспроизведения в элементе `<OutputOptions>` указываются следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="af965-256">The settings specified by the replay configuration file in the `<OutputOptions>` element include the following:</span></span>  
  
|<span data-ttu-id="af965-257">Параметр</span><span class="sxs-lookup"><span data-stu-id="af965-257">Setting</span></span>|<span data-ttu-id="af965-258">XML-элемент</span><span class="sxs-lookup"><span data-stu-id="af965-258">XML Element</span></span>|<span data-ttu-id="af965-259">Описание</span><span class="sxs-lookup"><span data-stu-id="af965-259">Description</span></span>|<span data-ttu-id="af965-260">Допустимые значения</span><span class="sxs-lookup"><span data-stu-id="af965-260">Allowed Values</span></span>|<span data-ttu-id="af965-261">Обязательно</span><span class="sxs-lookup"><span data-stu-id="af965-261">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="af965-262">Запись числа строк</span><span class="sxs-lookup"><span data-stu-id="af965-262">Record row count</span></span>|`<RecordRowCount>`|<span data-ttu-id="af965-263">Указывает, следует ли записывать число строк для каждого результирующего набора.</span><span class="sxs-lookup"><span data-stu-id="af965-263">Indicates whether the row count should be recorded for each result set.</span></span>|<span data-ttu-id="af965-264">`Yes` &#124; `No`</span><span class="sxs-lookup"><span data-stu-id="af965-264">`Yes` &#124; `No`</span></span>|<span data-ttu-id="af965-265">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-265">No.</span></span> <span data-ttu-id="af965-266">Значение по умолчанию — `Yes`.</span><span class="sxs-lookup"><span data-stu-id="af965-266">By default, the value is `Yes`.</span></span>|  
|<span data-ttu-id="af965-267">Запись результирующих наборов</span><span class="sxs-lookup"><span data-stu-id="af965-267">Record result set</span></span>|`<RecordResultSet>`|<span data-ttu-id="af965-268">Указывает, следует ли записывать содержимое всех результирующих наборов.</span><span class="sxs-lookup"><span data-stu-id="af965-268">Indicates whether the content of all result sets should be recorded.</span></span>|<span data-ttu-id="af965-269">`Yes` &#124; `No`</span><span class="sxs-lookup"><span data-stu-id="af965-269">`Yes` &#124; `No`</span></span>|<span data-ttu-id="af965-270">Нет.</span><span class="sxs-lookup"><span data-stu-id="af965-270">No.</span></span> <span data-ttu-id="af965-271">Значение по умолчанию — `No`.</span><span class="sxs-lookup"><span data-stu-id="af965-271">By default, the value is `No`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="af965-272">Пример</span><span class="sxs-lookup"><span data-stu-id="af965-272">Example</span></span>  
 <span data-ttu-id="af965-273">Файл конфигурации воспроизведения по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="af965-273">The default replay configuration file:</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
    <ReplayOptions>  
        <Server></Server>  
        <SequencingMode>stress</SequencingMode>  
        <ConnectTimeScale></ConnectTimeScale>  
        <ThinkTimeScale></ThinkTimeScale>  
        <HealthmonInterval>60</HealthmonInterval>  
        <QueryTimeout>3600</QueryTimeout>  
        <ThreadsPerClient></ThreadsPerClient>  
    </ReplayOptions>  
    <OutputOptions>  
        <ResultTrace>  
            <RecordRowCount>Yes</RecordRowCount>  
            <RecordResultSet>No</RecordResultSet>  
        </ResultTrace>  
    </OutputOptions>  
</Options>  
```  
  
## <a name="see-also"></a><span data-ttu-id="af965-274">См. также:</span><span class="sxs-lookup"><span data-stu-id="af965-274">See Also</span></span>  
 <span data-ttu-id="af965-275">[Параметры командной строки средства администрирования (программа распределенного воспроизведения)](administration-tool-command-line-options-distributed-replay-utility.md) </span><span class="sxs-lookup"><span data-stu-id="af965-275">[Administration Tool Command-line Options &#40;Distributed Replay Utility&#41;](administration-tool-command-line-options-distributed-replay-utility.md) </span></span>  
 <span data-ttu-id="af965-276">[Распределенное воспроизведение SQL Server](sql-server-distributed-replay.md) </span><span class="sxs-lookup"><span data-stu-id="af965-276">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span></span>  
 <span data-ttu-id="af965-277">[Форум о распределенном воспроизведении SQL Server](https://social.technet.microsoft.com/Forums/sl/sqldru/) </span><span class="sxs-lookup"><span data-stu-id="af965-277">[SQL Server Distributed Replay Forum](https://social.technet.microsoft.com/Forums/sl/sqldru/) </span></span>  
 <span data-ttu-id="af965-278">[Использование распределенного воспроизведения для нагрузочного теста SQL Server. Часть 2](https://docs.microsoft.com/archive/blogs/msdn/mspfe/using-distributed-replay-to-load-test-your-sql-serverpart-2) </span><span class="sxs-lookup"><span data-stu-id="af965-278">[Using Distributed Replay to Load Test Your SQL Server - Part 2](https://docs.microsoft.com/archive/blogs/msdn/mspfe/using-distributed-replay-to-load-test-your-sql-serverpart-2) </span></span>  
 [<span data-ttu-id="af965-279">Использование распределенного воспроизведения для нагрузочного теста SQL Server. Часть 1</span><span class="sxs-lookup"><span data-stu-id="af965-279">Using Distributed Replay to Load Test Your SQL Server - Part 1</span></span>](https://docs.microsoft.com/archive/blogs/batuhanyildiz/using-distributed-replay-to-load-test-your-sql-serverpart-1)  
  
  

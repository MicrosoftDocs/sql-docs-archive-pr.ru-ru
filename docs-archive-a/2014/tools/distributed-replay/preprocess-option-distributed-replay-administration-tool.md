---
title: Параметр предварительной обработки (средство администрирования распределенного воспроизведения) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
ms.assetid: 9b5012fd-233e-4a25-a2e1-585c63b70502
author: stevestein
ms.author: sstein
ms.openlocfilehash: e7f168d45b03473d958e202bd75116f4519d2fc4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657444"
---
# <a name="preprocess-option-distributed-replay-administration-tool"></a>Параметр предварительной обработки (средство администрирования распределенного воспроизведения)
  [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Средство администрирования распределенное воспроизведение `DReplay.exe` — это средство командной строки, которое можно использовать для взаимодействия с контроллером распределенного воспроизведения. В этом разделе описан параметр командной строки **preprocess** и соответствующий синтаксис.

 Параметр **preprocess** запускает предварительную обработку. На этом этапе контроллер подготавливает для воспроизведения на целевом сервере входные данные трассировки.

 ![Значок ссылки на раздел](../../database-engine/media/topic-link.gif "Значок ссылки на раздел") Дополнительные сведения о синтаксических обозначениях, используемых в синтаксисе средства администрирования, см. в статье [Синтаксические обозначения в Transact-SQL (Transact-SQL)](/sql/t-sql/language-elements/transact-sql-syntax-conventions-transact-sql).

## <a name="syntax"></a>Синтаксис

```

      dreplay preprocess [-mcontroller] -iinput_trace_file
    -dcontroller_working_dir [-cconfig_file] [-fstatus_interval]
```

#### <a name="parameters"></a>Параметры
 *контроллер* **-m** указывает имя компьютера контроллера. Локальный компьютер можно указать как «`localhost`» или «`.`».

 Если параметр **-m** не задан, то используется локальный компьютер.

 **-i** *input_trace_file* указывает полный путь к входному файлу трассировки на контроллере, например `D:\Mytrace.trc` . Параметр **-i** является обязательным.

 При наличии в том же каталоге файлов продолжения они загружаются и используются автоматически. Файлы должны соответствовать соглашению об именовании переключения на файл продолжения, например: `Mytrace.trc`, `Mytrace_1.trc`, `Mytrace_2.trc`, `Mytrace_3.trc`, … `Mytrace_n.trc`.

> [!NOTE]
>  При использовании средства администрирования на компьютере, отличном от контроллера, необходимо скопировать файлы входных данных трассировки на контроллер, чтобы в этом параметре можно было использовать локальный путь.

 **-d** *controller_working_dir* указывает каталог на контроллере, где будет храниться промежуточный файл. Параметр **-d** является обязательным.

 К нему предъявляются следующие требования.

-   Каталог должен находиться на контроллере.

-   Необходимо указать полный путь, начиная с буквы диска (например, `c:\WorkingDir`).

-   Путь не должен завершаться обратной косой чертой «`\`».

-   Пути в формате UNC не поддерживаются.

 **-c** *config_file* — это полный путь к файлу конфигурации предварительной обработки; используется для указания расположения файла конфигурации предварительной обработки при хранении в другом расположении. Этот параметр может быть путем в формате UNC или задавать локальный путь на компьютере, на котором выполняется средство администрирования.

 Если фильтрация не требуется или не нужно изменять максимальное время простоя, то указывать параметр **-c** не обязательно.

 Без параметра **-c** используется файл конфигурации предварительной обработки по умолчанию — `DReplay.exe.preprocess.config`.

 **-f** *status_interval* указывает частоту (в секундах) вывода сообщений о состоянии.

 Если параметр **-f** не задан, интервал по умолчанию составляет 30 секунд.

## <a name="examples"></a>Примеры
 В этом примере предварительная подготовка запускается со всеми параметрами по умолчанию. Значение `localhost` указывает, что служба контроллера запущена на том же компьютере, что и средство администрирования. Параметр *input_trace_file* задает расположение входных данных трассировки — `c:\mytrace.trc`. Так как фильтрация файлов трассировки не используется, указывать параметр **-c** не обязательно.

```
dreplay preprocess -m localhost -i c:\mytrace.trc -d c:\WorkingDir
```

 В этом примере запускается этап предварительной подготовки и указывается измененный файл конфигурации предварительной обработки. В отличие от предыдущего примера параметр **-c** используется для указания измененного файла конфигурации, сохраненного в другом расположении. Пример:

```
dreplay preprocess -m localhost -i c:\mytrace.trc -d c:\WorkingDir -c c:\DReplay.exe.preprocess.config
```

 В измененном файле конфигурации предварительной обработки добавлено условие фильтра, которое позволяет отфильтровать системные сеансы во время распределенного воспроизведения. Фильтр добавляется путем изменения элемента `<PreprocessModifiers>` в файле конфигурации предварительной обработки `DReplay.exe.preprocess.config`.

 В следующем примере показан измененный файл конфигурации.

```
<?xml version='1.0'?>
<Options>
    <PreprocessModifiers>
        <IncSystemSession>No</IncSystemSession>
        <MaxIdleTime>-1</MaxIdleTime>
    </PreprocessModifiers>
</Options>
```

## <a name="permissions"></a>Разрешения
 Средство администрирования должно запускаться как интерактивный пользователь, с учетной записью локального пользователя или пользователя домена. Для использования учетной записи локального пользователя средство администрирования и контроллер должны быть запущены на одном компьютере.

 Дополнительные сведения см. в статье [Distributed Replay Security](distributed-replay-security.md).

## <a name="see-also"></a>См. также:
 [Подготовьте входные данные трассировки](prepare-the-input-trace-data.md) [SQL Server распределенное воспроизведение](sql-server-distributed-replay.md) [настроить распределенное воспроизведение](configure-distributed-replay.md)



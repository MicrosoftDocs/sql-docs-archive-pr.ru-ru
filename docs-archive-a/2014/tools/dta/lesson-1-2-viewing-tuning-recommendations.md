---
title: Просмотр рекомендаций по настройке | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Database Engine [SQL Server], tutorials
ms.assetid: e4e690c9-434f-4b01-b4de-0b905323ddd6
author: stevestein
ms.author: sstein
ms.openlocfilehash: 6d938767d874edd8f14bdaa91c0cf52023478f53
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87734790"
---
# <a name="viewing-tuning-recommendations"></a><span data-ttu-id="89d60-102">Просмотр рекомендаций по настройке</span><span class="sxs-lookup"><span data-stu-id="89d60-102">Viewing Tuning Recommendations</span></span>
  <span data-ttu-id="89d60-103"> В этой задаче используется сеанс настройки, который был создан в разделе [Настройка рабочей нагрузки](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="89d60-103">This task uses the tuning session that you created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span> <span data-ttu-id="89d60-104">После [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] настройки базы данных с помощью скрипта MyScript. SQL [!INCLUDE[tsql](../../includes/tsql-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] Помощник по настройке компонента выводит результаты на вкладке **рекомендации** . Следующая задача познакомит вас с вкладкой **рекомендации** [!INCLUDE[ssDE](../../includes/ssde-md.md)] графического интерфейса пользователя (GUI) помощника по настройке и поможет исследовать сведения о результатах сеанса настройки.</span><span class="sxs-lookup"><span data-stu-id="89d60-104">After you have tuned the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database by using the MyScript.sql [!INCLUDE[tsql](../../includes/tsql-md.md)] script, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor displays its results on the **Recommendations** tab. The following task introduces the **Recommendations** tab of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor graphical user interface (GUI) and guides you to explore the information it provides about the tuning session results.</span></span>  
  
### <a name="view-tuning-recommendations"></a><span data-ttu-id="89d60-105">Просмотр рекомендаций по настройке</span><span class="sxs-lookup"><span data-stu-id="89d60-105">View tuning recommendations</span></span>  
  
1.  <span data-ttu-id="89d60-106">Запустите помощник по настройке компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="89d60-106">Start [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span> <span data-ttu-id="89d60-107">См. раздел [Запуск помощника по настройке ядра СУБД](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="89d60-107">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span> <span data-ttu-id="89d60-108">Убедитесь в том, что установлено соединение с экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который использовался в практической работе [Настройка рабочей нагрузки](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="89d60-108">Make sure that you connect to the same [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that you used in the practice [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
2.  <span data-ttu-id="89d60-109">Дважды щелкните сеанс **MySession** на панели **Монитор сеансов** .</span><span class="sxs-lookup"><span data-stu-id="89d60-109">Double-click **MySession** in the **Session Monitor** pane.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)]<span data-ttu-id="89d60-110">Помощник по настройке компонента загружает сведения о сеансе из предыдущего сеанса настройки и отображает вкладку **рекомендации** . Обратите внимание, что [!INCLUDE[ssDE](../../includes/ssde-md.md)] Помощник по настройке не выполнил **рекомендации по секциям** , так как вы приняли все параметры настройки по умолчанию и на вкладке **Параметры настройки** не выбрано **секционирование** .</span><span class="sxs-lookup"><span data-stu-id="89d60-110">Tuning Advisor loads the session information from your previous tuning session and displays the **Recommendations** tab. Note that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor made no **Partition Recommendations** because you accepted all the tuning option defaults and **No partitioning** was selected on the **Tuning Options** tab.</span></span>  
  
3.  <span data-ttu-id="89d60-111">На вкладке **Рекомендации** с помощью полосы прокрутки внизу страницы с вкладками просмотрите все столбцы в области **Рекомендации по индексам** .</span><span class="sxs-lookup"><span data-stu-id="89d60-111">On the **Recommendations** tab, use the scroll bar at the bottom of the tabbed page to view all of the **Index Recommendations** columns.</span></span> <span data-ttu-id="89d60-112">Каждая строка отображает объект базы данных (индекс или индексированное представление), который помощник по настройке компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] рекомендует удалить или создать.</span><span class="sxs-lookup"><span data-stu-id="89d60-112">Each row represents a database object (indexes or indexed views) that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor recommends be dropped or created.</span></span> <span data-ttu-id="89d60-113">Прокрутите содержимое до крайнего правого столбца и нажмите кнопку **Определение**.</span><span class="sxs-lookup"><span data-stu-id="89d60-113">Scroll to the right-most column and click a **Definition**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="89d60-114">отобразит окно **Предварительный просмотр скрипта SQL** , где можно просмотреть скрипт [!INCLUDE[tsql](../../includes/tsql-md.md)] , создающий или удаляющий объект базы данных в этой строке.</span><span class="sxs-lookup"><span data-stu-id="89d60-114">Tuning Advisor displays a **SQL Script Preview** window where you can view the [!INCLUDE[tsql](../../includes/tsql-md.md)] script that creates or drops the database object on that row.</span></span> <span data-ttu-id="89d60-115">Нажмите кнопку **Закрыть** , чтобы закрыть окно предварительного просмотра.</span><span class="sxs-lookup"><span data-stu-id="89d60-115">Click **Close** to close the preview window.</span></span>  
  
     <span data-ttu-id="89d60-116">В случае возникновения трудностей при размещении окна **Определение** , содержащего ссылку, снимите флажок **Показать существующие объекты** в нижней части страницы с вкладками, что приведет к уменьшению количества отображаемых строк.</span><span class="sxs-lookup"><span data-stu-id="89d60-116">If you are having difficulty locating a **Definition** that contains a link, click to clear the **Show existing objects** check box at the bottom of the tabbed page, which will decrease the number of rows displayed.</span></span> <span data-ttu-id="89d60-117">Если этот флажок снят, помощник по настройке компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] отображает только те объекты, для которых были сформированы рекомендации.</span><span class="sxs-lookup"><span data-stu-id="89d60-117">When you clear this checkbox, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor shows you only the objects for which it has generated a recommendation.</span></span> <span data-ttu-id="89d60-118">Установите флажок **Показать существующие объекты** , чтобы просмотреть все объекты базы данных, существующие в базе данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] в настоящий момент.</span><span class="sxs-lookup"><span data-stu-id="89d60-118">Select the **Show existing objects** check box to view all the database objects that currently exist in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="89d60-119">Используйте полосу прокрутки с правой стороны страницы с вкладками, чтобы просмотреть все объекты.</span><span class="sxs-lookup"><span data-stu-id="89d60-119">Use the scroll bar at the right side of the tabbed page to view all of the objects.</span></span>  
  
4.  <span data-ttu-id="89d60-120">Щелкните правой кнопкой мыши сетку на панели **Рекомендации по индексам** .</span><span class="sxs-lookup"><span data-stu-id="89d60-120">Right-click the grid in the **Index Recommendations** pane.</span></span> <span data-ttu-id="89d60-121">В появившемся контекстном меню можно выбрать рекомендации или отменить сделанный выбор.</span><span class="sxs-lookup"><span data-stu-id="89d60-121">This right-click menu enables you to select and deselect recommendations.</span></span> <span data-ttu-id="89d60-122">Здесь также можно менять шрифт текста сетки.</span><span class="sxs-lookup"><span data-stu-id="89d60-122">It also enables you to change the font for the grid text.</span></span>  
  
5.  <span data-ttu-id="89d60-123">В меню **Действия** выберите команду **Сохранить рекомендации** , чтобы сохранить все рекомендации в одном скрипте [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="89d60-123">On the **Actions** menu, click **Save Recommendations** to save all of the recommendations into one [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="89d60-124">Назовите скрипт `MySessionRecommendations.sql`.</span><span class="sxs-lookup"><span data-stu-id="89d60-124">Name the script `MySessionRecommendations.sql`.</span></span>  
  
     <span data-ttu-id="89d60-125">Чтобы просмотреть скрипт MySessionRecommendations.sql, откройте его в редакторе запросов среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="89d60-125">Open the MySessionRecommendations.sql script in the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to view it.</span></span> <span data-ttu-id="89d60-126">Можно применить эти рекомендации к образцу базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] , выполнив скрипт в редакторе запросов, но делать этого не следует.</span><span class="sxs-lookup"><span data-stu-id="89d60-126">You could apply the recommendations to the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database by executing the script in the Query Editor, but do not do this.</span></span> <span data-ttu-id="89d60-127">Закройте скрипт в редакторе запросов, не запуская его.</span><span class="sxs-lookup"><span data-stu-id="89d60-127">Close the script in Query Editor without running it.</span></span>  
  
     <span data-ttu-id="89d60-128">Другой способ применить рекомендации — выбрать команду **Применение рекомендаций** в меню **Действия** помощника по настройке компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] , однако в этой практической работе не следует это делать.</span><span class="sxs-lookup"><span data-stu-id="89d60-128">As an alternative, you could also apply the recommendations by clicking **Apply Recommendations** on the **Actions** menu of [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor, but do not apply these recommendations now in this practice.</span></span>  
  
6.  <span data-ttu-id="89d60-129">Если на вкладке **Рекомендации** несколько рекомендаций, очистите некоторые из строк, в которых перечислены объекты базы данных в сетке **Рекомендации по индексам** .</span><span class="sxs-lookup"><span data-stu-id="89d60-129">If more than one recommendation exists on the **Recommendations** tab, clear some of the rows that list database objects in the **Index Recommendations** grid.</span></span>  
  
7.  <span data-ttu-id="89d60-130">В меню **Действия** выберите команду **Оценить рекомендации**.</span><span class="sxs-lookup"><span data-stu-id="89d60-130">On the **Actions** menu, click **Evaluate Recommendations**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="89d60-131">создаст новый сеанс настройки, в котором можно провести оценку набора исходных рекомендаций из сеанса настройки MySession.</span><span class="sxs-lookup"><span data-stu-id="89d60-131">Tuning Advisor creates a new tuning session where you can evaluate a subset of the original recommendations from MySession.</span></span>  
  
8.  <span data-ttu-id="89d60-132">Введите `EvaluateMySession` новое **имя сеанса**и нажмите кнопку **начать анализ** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="89d60-132">Type `EvaluateMySession` for your new **Session name**, and click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="89d60-133">Можно повторить шаги 2 и 3 для этого нового сеанса настройки, чтобы просмотреть его рекомендации.</span><span class="sxs-lookup"><span data-stu-id="89d60-133">You can repeat Steps 2 and 3 for this new tuning session to view its recommendations.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="89d60-134">Итоги</span><span class="sxs-lookup"><span data-stu-id="89d60-134">Summary</span></span>  
 <span data-ttu-id="89d60-135">Просмотрено содержимое вкладки **Рекомендации** для сеанса настройки MySession и проведена оценка набора его рекомендаций в новом сеансе настройки EvaluateMySession.</span><span class="sxs-lookup"><span data-stu-id="89d60-135">You have viewed the contents of the **Recommendations** tab for the MySession tuning session and evaluated a subset of its recommendations in the new EvaluateMySession tuning session.</span></span>  
  
 <span data-ttu-id="89d60-136">Оценка набора рекомендаций по настройке может оказаться обязательной, если появится необходимость изменить параметры настройки после выполнения сеанса.</span><span class="sxs-lookup"><span data-stu-id="89d60-136">Evaluating a subset of tuning recommendations may be necessary if you find you must change tuning options after you run a session.</span></span> <span data-ttu-id="89d60-137">Например, если помощник по настройке компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] был настроен таким образом, чтобы учитывать возможность использования индексированных представлений для сеанса, но после формирования рекомендации было принято решение не использовать индексированные представления.</span><span class="sxs-lookup"><span data-stu-id="89d60-137">For example, if you ask [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor to consider indexed views when you specify tuning options for a session, but after the recommendation is generated you decide against using indexed views.</span></span> <span data-ttu-id="89d60-138">Затем можно использовать параметр **оценить рекомендации** в меню **действия** , чтобы [!INCLUDE[ssDE](../../includes/ssde-md.md)] Помощник по настройке СУБД повторно вычислит сеанс, не учитывая индексированные представления.</span><span class="sxs-lookup"><span data-stu-id="89d60-138">You can then use the **Evaluate Recommendations** option on the **Actions** menu to have [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor re-evaluate the session without considering indexed views.</span></span> <span data-ttu-id="89d60-139">Когда запускается команда **Оценить рекомендации** , сформированные ранее рекомендации виртуально применяются к текущей физической структуре базы данных, чтобы образовать физическую структуру для второго сеанса настройки.</span><span class="sxs-lookup"><span data-stu-id="89d60-139">When you use the **Evaluate Recommendations** option the previously generated recommendations are hypothetically applied to the current physical design to arrive at the physical design for the second tuning session.</span></span>  
  
 <span data-ttu-id="89d60-140">Дополнительные сведения о результатах настройки можно получить на вкладке **Отчеты** , которая рассматривается в следующем задании этой задачи.</span><span class="sxs-lookup"><span data-stu-id="89d60-140">More tuning result information can be viewed in the **Reports** tab, which is described in the next task of this lesson.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="89d60-141">Следующая задача занятия</span><span class="sxs-lookup"><span data-stu-id="89d60-141">Next Task in Lesson</span></span>  
 [<span data-ttu-id="89d60-142">Просмотр отчетов настройки</span><span class="sxs-lookup"><span data-stu-id="89d60-142">Viewing Tuning Reports</span></span>](lesson-1-3-viewing-tuning-reports.md)  
  
  

---
title: Программа dta | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
helpviewer_keywords:
- physical design structures [SQL Server]
- command prompt utilities [SQL Server], dta
- dta utility
- tuning databases [SQL Server], Database Engine Tuning Advisor
- workloads [SQL Server], analyzing
- dta utility, about dta utility
- performance [SQL Server], Database Engine Tuning Advisor
- Database Engine Tuning Advisor [SQL Server], command prompt
- optimizing databases [SQL Server]
ms.assetid: a0b210ce-9b58-4709-80cb-9363b68a1f5a
author: stevestein
ms.author: sstein
ms.openlocfilehash: f9cd5a904993f1044c1cbeff8e1cdfc07332da64
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87740613"
---
# <a name="dta-utility"></a><span data-ttu-id="5e8d0-102">dta</span><span class="sxs-lookup"><span data-stu-id="5e8d0-102">dta Utility</span></span>
  <span data-ttu-id="5e8d0-103">Программа **dta** — это версия помощника по настройке ядра СУБД для командной строки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-103">The **dta** utility is the command prompt version of Database Engine Tuning Advisor.</span></span> <span data-ttu-id="5e8d0-104">Программа **dta** предназначена для использования функций помощника по настройке ядра СУБД в приложениях и скриптах.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-104">The **dta** utility is designed to allow you to use Database Engine Tuning Advisor functionality in applications and scripts.</span></span>  
  
 <span data-ttu-id="5e8d0-105">Как и помощник по настройке ядра СУБД, программа **dta** производит анализ рабочей нагрузки и выдает рекомендации по изменению структур физического проектирования для улучшения производительности сервера при данной рабочей нагрузке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-105">Like Database Engine Tuning Advisor, the **dta** utility analyzes a workload and recommends physical design structures to improve server performance for that workload.</span></span> <span data-ttu-id="5e8d0-106">Рабочей нагрузкой может выступать кэш планов, файл трассировки или таблица  приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] либо скрипт [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-106">The workload can be a plan cache, a [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace file or table, or a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="5e8d0-107">Структуры физического проектирования включают в себя индексы, индексированные представления и секционирование.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-107">Physical design structures include indexes, indexed views, and partitioning.</span></span> <span data-ttu-id="5e8d0-108">После проведения анализа рабочей нагрузки программа **dta** выдает рекомендации по изменению физической структуры баз данных и может сформировать необходимый скрипт для внесения этих изменений.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-108">After analyzing a workload, the **dta** utility produces a recommendation for the physical design of databases and can generate the necessary script to implement the recommendation.</span></span> <span data-ttu-id="5e8d0-109">Рабочие нагрузки можно указать из командной строки с помощью аргумента **-if** или **-it** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-109">Workloads can be specified from the command prompt with the **-if** or the **-it** argument.</span></span> <span data-ttu-id="5e8d0-110">Кроме того, можно указать из командной строки входной XML-файл с помощью аргумента **-ix** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-110">You can also specify an XML input file from the command prompt with the **-ix** argument.</span></span> <span data-ttu-id="5e8d0-111">В этом случае рабочая нагрузка указывается во входном XML-файле.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-111">In that case, the workload is specified in the XML input file.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="5e8d0-112">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="5e8d0-112">Syntax</span></span>  
  
```  
  
      dta  
[ -? ] |  
[  
      [ -S server_name[ \instance ] ]  
      { { -U login_id [-P password ] } | -E  }  
      { -D database_name [ ,...n ] }  
      [ -ddatabase_name ]   
      [ -Tltable_list | -Tf table_list_file ]  
      { -if workload_file | -it workload_trace_table_name  |   
        -ip | -ipf }  
      { -ssession_name | -IDsession_ID }  
      [ -F ]  
      [ -of output_script_file_name ]  
      [ -oroutput_xml_report_file_name ]  
      [ -ox output_XML_file_name ]  
      [ -rl analysis_report_list [ ,...n ] ]  
      [ -ix input_XML_file_name ]  
      [ -A time_for_tuning_in_minutes ]  
      [ -nnumber_of_events ]  
      [ -m minimum_improvement ]  
      [ -fa physical_design_structures_to_add ]  
      [ -fi ]  
      [ -fppartitioning_strategy ]  
      [ -fk keep_existing_option ]  
      [ -fxdrop_only_mode ]  
      [ -B storage_size ]  
      [ -cmax_key_columns_in_index ]  
      [ -C max_columns_in_index ]  
      [ -e | -e tuning_log_name ]  
      [ -N online_option]  
      [ -q ]  
      [ -u ]  
      [ -x ]  
      [ -a ]  
]  
```  
  
## <a name="arguments"></a><span data-ttu-id="5e8d0-113">Аргументы</span><span class="sxs-lookup"><span data-stu-id="5e8d0-113">Arguments</span></span>  
 <span data-ttu-id="5e8d0-114">**-?**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-114">**-?**</span></span>  
 <span data-ttu-id="5e8d0-115">Отображает сведения об использовании.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-115">Displays usage information.</span></span>  
  
 <span data-ttu-id="5e8d0-116">**-A** _time_for_tuning_in_minutes_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-116">**-A** _time_for_tuning_in_minutes_</span></span>  
 <span data-ttu-id="5e8d0-117">Задает предел времени настройки в минутах.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-117">Specifies the tuning time limit in minutes.</span></span> <span data-ttu-id="5e8d0-118">Программа**dta** использует указанное время для настройки рабочей нагрузки и создания скрипта рекомендованных изменений физических структур.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-118">**dta** uses the specified amount of time to tune the workload and generate a script with the recommended physical design changes.</span></span> <span data-ttu-id="5e8d0-119">По умолчанию программа **dta** предполагает время настройки, равное 8 часам.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-119">By default **dta** assumes a tuning time of 8 hours.</span></span> <span data-ttu-id="5e8d0-120">Задание нулевого значения разрешает неограниченное время настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-120">Specifying 0allows unlimited tuning time.</span></span> <span data-ttu-id="5e8d0-121">Программа**dta** должна закончить настройку всей рабочей нагрузки до истечения предела времени.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-121">**dta** might finish tuning the entire workload before the time limit expires.</span></span> <span data-ttu-id="5e8d0-122">Тем не менее, чтобы обеспечить настройку всей рабочей нагрузки, рекомендуется установить неограниченное время настройки (-A 0).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-122">However, to make sure that the entire workload is tuned, we recommend that you specify unlimited tuning time (-A 0).</span></span>  
  
 <span data-ttu-id="5e8d0-123">**-a**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-123">**-a**</span></span>  
 <span data-ttu-id="5e8d0-124">Производит настройку рабочей нагрузки и применяет рекомендации без запроса на подтверждение.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-124">Tunes workload and applies the recommendation without prompting you.</span></span>  
  
 <span data-ttu-id="5e8d0-125">**-B** _storage_size_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-125">**-B** _storage_size_</span></span>  
 <span data-ttu-id="5e8d0-126">Задает максимальный размер пространства в мегабайтах, которое может быть использовано при рекомендованном индексировании и секционировании.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-126">Specifies the maximum space in megabytes that can be consumed by the recommended index and partitioning.</span></span> <span data-ttu-id="5e8d0-127">При настройке нескольких баз данных учитываются рекомендации по пространству всех баз данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-127">When multiple databases are tuned, recommendations for all databases are considered for the space calculation.</span></span> <span data-ttu-id="5e8d0-128">По умолчанию программа **dta** предполагает использование наименьшего размера хранилищ из следующих:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-128">By default, **dta** assumes the smaller of the following storage sizes:</span></span>  
  
-   <span data-ttu-id="5e8d0-129">троекратный текущий размер необработанных данных, включая общий размер куч и кластеризованных индексов в таблицах базы данных;</span><span class="sxs-lookup"><span data-stu-id="5e8d0-129">Three times the current raw data size, which includes the total size of heaps and clustered indexes on tables in the database.</span></span>  
  
-   <span data-ttu-id="5e8d0-130">свободное место на всех присоединенных дисках плюс размер необработанных данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-130">The free space on all attached disk drives plus the raw data size.</span></span>  
  
 <span data-ttu-id="5e8d0-131">В размере хранилища по умолчанию не учитываются некластеризованные индексы и индексированные представления.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-131">The default storage size does not include nonclustered indexes and indexed views.</span></span>  
  
 <span data-ttu-id="5e8d0-132">**-C** _max_columns_in_index_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-132">**-C** _max_columns_in_index_</span></span>  
 <span data-ttu-id="5e8d0-133">Задает максимальное количество столбцов в индексах, предлагаемых программой **dta** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-133">Specifies the maximum number of columns in indexes that **dta** proposes.</span></span> <span data-ttu-id="5e8d0-134">Максимальное значение равно 1024.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-134">The maximum value  is 1024.</span></span> <span data-ttu-id="5e8d0-135">По умолчанию значение этого аргумента равно 16.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-135">By default, this argument is set to 16.</span></span>  
  
 <span data-ttu-id="5e8d0-136">**-c** _max_key_columns_in_index_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-136">**-c** _max_key_columns_in_index_</span></span>  
 <span data-ttu-id="5e8d0-137">Задает максимальное количество ключевых столбцов в индексах, предлагаемых программой **dta** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-137">Specifies the maximum number of key columns in indexes that **dta** proposes.</span></span> <span data-ttu-id="5e8d0-138">Значение по умолчанию равно 16 — максимально допустимое значение.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-138">The default value is 16, the maximum value allowed.</span></span> <span data-ttu-id="5e8d0-139">Кроме того, программа**dta** учитывает создание индексов с включенными столбцами.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-139">**dta** also considers creating indexes with included columns.</span></span> <span data-ttu-id="5e8d0-140">Количество рекомендованных индексов с включенными столбцами может превысить количество столбцов, заданное в этом аргументе.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-140">Indexes recommended with included columns may exceed the number of columns specified in this argument.</span></span>  
  
 <span data-ttu-id="5e8d0-141">**-D** _database_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-141">**-D** _database_name_</span></span>  
 <span data-ttu-id="5e8d0-142">Задает имя каждой настраиваемой базы данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-142">Specifies the name of each database that is to be tuned.</span></span> <span data-ttu-id="5e8d0-143">Первой базой данных является база данных по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-143">The first database is the default database.</span></span> <span data-ttu-id="5e8d0-144">Можно указать несколько баз данных, разделив их имена запятыми, например:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-144">You can specify multiple databases by separating the database names with commas, for example:</span></span>  
  
```  
dta -D database_name1, database_name2...  
```  
  
 <span data-ttu-id="5e8d0-145">Кроме того, можно указать несколько баз данных с помощью аргумента **-D** для каждой базы данных, например:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-145">Alternatively, you can specify multiple databases by using the **-D** argument for each database name, for example:</span></span>  
  
```  
dta -D database_name1 -D database_name2... n  
```  
  
 <span data-ttu-id="5e8d0-146">Аргумент **-D** является обязательным.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-146">The **-D** argument is mandatory.</span></span> <span data-ttu-id="5e8d0-147">Если аргумент **-d** указан не был, программа **dta** сначала производит подключение к базе данных, указанной с помощью первого предложения `USE database_name` в рабочей нагрузке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-147">If the **-d** argument has not been specified, **dta** initially connects to the database that is specified with the first `USE database_name` clause in the workload.</span></span> <span data-ttu-id="5e8d0-148">В случае отсутствия явного предложения `USE database_name` в рабочей нагрузке необходимо указать аргумент **-d** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-148">If there is not explicit `USE database_name` clause in the workload, you must use the **-d** argument.</span></span>  
  
 <span data-ttu-id="5e8d0-149">Например, если имеется рабочая нагрузка, не содержащая явного предложения `USE database_name` , и используется следующая команда **dta** , то рекомендация сформирована не будет:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-149">For example, if you have a workload that contains no explicit `USE database_name` clause, and you use the following **dta** command, a recommendation will not be generated:</span></span>  
  
```  
dta -D db_name1, db_name2...  
```  
  
 <span data-ttu-id="5e8d0-150">Однако если использовать ту же рабочую нагрузку и следующую команду **dta** с аргументом **-d** , то рекомендация будет сформирована:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-150">But if you use the same workload, and use the following **dta** command that uses the **-d** argument, a recommendation will be generated:</span></span>  
  
```  
dta -D db_name1, db_name2 -d db_name1  
```  
  
 <span data-ttu-id="5e8d0-151">**-d** _database_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-151">**-d** _database_name_</span></span>  
 <span data-ttu-id="5e8d0-152">Задает первую базу данных, к которой программа **dta** подключается при настройке рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-152">Specifies the first database to which **dta** connects when tuning a workload.</span></span> <span data-ttu-id="5e8d0-153">Для этого аргумента может быть задана только одна база данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-153">Only one database can be specified for this argument.</span></span> <span data-ttu-id="5e8d0-154">Пример:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-154">For example:</span></span>  
  
```  
dta -d AdventureWorks2012 ...  
```  
  
 <span data-ttu-id="5e8d0-155">В случае указания нескольких баз данных программа **dta** возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-155">If multiple database names are specified, then **dta** returns an error.</span></span> <span data-ttu-id="5e8d0-156">Аргумент **-d** является необязательным.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-156">The **-d** argument is optional.</span></span>  
  
 <span data-ttu-id="5e8d0-157">При использовании входного XML-файла можно указать первую базу данных, к которой программа **dta** подключается с помощью `DatabaseToConnect` элемента, расположенного под `TuningOptions` элементом.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-157">If you are using an XML input file, you can specify the first database to which **dta** connects by using the `DatabaseToConnect` element that is located under the `TuningOptions` element.</span></span> <span data-ttu-id="5e8d0-158">Дополнительные сведения см. в разделе [Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-158">For more information, see [Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
 <span data-ttu-id="5e8d0-159">При настройке только одной базы данных аргумент **-d** предоставляет функциональность, аналогичную аргументу **-d** в программе **sqlcmd** , но не выполняет инструкцию USE *database_name* .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-159">If you are tuning only one database, the **-d** argument provides functionality that is similar to the **-d** argument in the **sqlcmd** utility, but it does not execute the USE *database_name* statement.</span></span> <span data-ttu-id="5e8d0-160">Дополнительные сведения см. в статье [sqlcmd Utility](../sqlcmd-utility.md).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-160">For more information, see [sqlcmd Utility](../sqlcmd-utility.md).</span></span>  
  
 <span data-ttu-id="5e8d0-161">**-E**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-161">**-E**</span></span>  
 <span data-ttu-id="5e8d0-162">Использует доверительное соединение вместо запроса пароля.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-162">Uses a trusted connection instead of requesting a password.</span></span> <span data-ttu-id="5e8d0-163">Необходимо указать либо аргумент **-E** , либо аргумент **-U** , задающий идентификатор входа.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-163">Either the **-E** argument or the **-U** argument, which specifies a login ID, must be used.</span></span>  
  
 <span data-ttu-id="5e8d0-164">**-e** _tuning_log_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-164">**-e** _tuning_log_name_</span></span>  
 <span data-ttu-id="5e8d0-165">Задает имя таблицы или файла, куда программа **dta** записывает события, которые ей не удалось настроить.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-165">Specifies the name of the table or file where **dta** records events that it could not tune.</span></span> <span data-ttu-id="5e8d0-166">Таблица создается на сервере, где производится настройка.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-166">The table is created on the server where the tuning is performed.</span></span>  
  
 <span data-ttu-id="5e8d0-167">В случае использования таблицы задавайте ее имя в следующем формате: *[database_name].[owner_name].table_name*.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-167">If a table is used, specify its name in the format: *[database_name].[owner_name].table_name*.</span></span> <span data-ttu-id="5e8d0-168">Следующая таблица показывает значения по умолчанию для каждого параметра.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-168">The following table shows the default values for each parameter:</span></span>  
  
|<span data-ttu-id="5e8d0-169">Параметр</span><span class="sxs-lookup"><span data-stu-id="5e8d0-169">Parameter</span></span>|<span data-ttu-id="5e8d0-170">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="5e8d0-170">Default value</span></span>|  
|---------------|-------------------|  
|<span data-ttu-id="5e8d0-171">*database_name*</span><span class="sxs-lookup"><span data-stu-id="5e8d0-171">*database_name*</span></span>|<span data-ttu-id="5e8d0-172">*database_name*, заданное с параметром **–D**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-172">*database_name* specified with the **-D** option</span></span>|  
|<span data-ttu-id="5e8d0-173">*owner_name*</span><span class="sxs-lookup"><span data-stu-id="5e8d0-173">*owner_name*</span></span>|<span data-ttu-id="5e8d0-174">**dbo**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-174">**dbo**</span></span><br /><br /> <span data-ttu-id="5e8d0-175">Примечание. *owner_name* должен быть **dbo**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-175">Note: *owner_name* must be **dbo**.</span></span> <span data-ttu-id="5e8d0-176">Если указано любое другое значение, выполнение программы **dta** прервется и она вернет ошибку.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-176">If any other value is specified, then **dta** execution fails and it returns an error.</span></span>|  
|<span data-ttu-id="5e8d0-177">*table_name*</span><span class="sxs-lookup"><span data-stu-id="5e8d0-177">*table_name*</span></span>|<span data-ttu-id="5e8d0-178">None</span><span class="sxs-lookup"><span data-stu-id="5e8d0-178">None</span></span>|  
  
 <span data-ttu-id="5e8d0-179">В случае использования файла следует указать XML в качестве его расширения.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-179">If a file is used, specify .xml as its extension.</span></span> <span data-ttu-id="5e8d0-180">Например TuningLog.xml.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-180">For example, TuningLog.xml.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5e8d0-181">Программа **dta** не производит удаление содержимого пользовательских таблиц журнала настройки в случае удаления сеанса.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-181">The **dta** utility does not delete the contents of user-specified tuning log tables if the session is deleted.</span></span> <span data-ttu-id="5e8d0-182">При настройке очень больших рабочих нагрузок рекомендуется задать таблицу для журнала настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-182">When tuning very large workloads, we recommend that a table be specified for the tuning log.</span></span> <span data-ttu-id="5e8d0-183">Поскольку настройка больших рабочих нагрузок может привести к созданию больших журналов настройки, сеансы при использовании таблицы могут быть удалены гораздо быстрее.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-183">Since tuning large workloads can result in large tuning logs, the sessions can be deleted much faster when a table is used.</span></span>  
  
 <span data-ttu-id="5e8d0-184">**-F**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-184">**-F**</span></span>  
 <span data-ttu-id="5e8d0-185">Разрешает программе **dta** перезапись существующего выходного файла.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-185">Permits **dta** to overwrite an existing output file.</span></span> <span data-ttu-id="5e8d0-186">Если выходной файл с тем же именем уже существует, а параметр **-F** не указан, программа **dta**возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-186">If an output file with the same name already exists and **-F** is not specified, **dta**returns an error.</span></span> <span data-ttu-id="5e8d0-187">Можно использовать параметр **-F** с параметром **-of**, **-or**или **-ox**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-187">You can use **-F** with **-of**, **-or**, or **-ox**.</span></span>  
  
 <span data-ttu-id="5e8d0-188">**-fa** _physical_design_structures_to_add_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-188">**-fa** _physical_design_structures_to_add_</span></span>  
 <span data-ttu-id="5e8d0-189">Задает типы структур физического проектирования, которые программа **dta** должна включать в рекомендацию.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-189">Specifies what types of physical design structures **dta** should include in the recommendation.</span></span> <span data-ttu-id="5e8d0-190">В следующей таблице перечислены и описаны все значения, которые могут быть указаны для данного аргумента.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-190">The following table lists and describes the values that can be specified for this argument.</span></span> <span data-ttu-id="5e8d0-191">Если значение не указано, программа **dta** использует значение по умолчанию **-FA** `IDX` .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-191">When no value is specified, **dta** uses the default **-fa**`IDX`.</span></span>  
  
|<span data-ttu-id="5e8d0-192">Значение</span><span class="sxs-lookup"><span data-stu-id="5e8d0-192">Value</span></span>|<span data-ttu-id="5e8d0-193">Описание</span><span class="sxs-lookup"><span data-stu-id="5e8d0-193">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="5e8d0-194">IDX_IV</span><span class="sxs-lookup"><span data-stu-id="5e8d0-194">IDX_IV</span></span>|<span data-ttu-id="5e8d0-195">Индексы и индексированные представления.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-195">Indexes and indexed views.</span></span>|  
|<span data-ttu-id="5e8d0-196">IDX</span><span class="sxs-lookup"><span data-stu-id="5e8d0-196">IDX</span></span>|<span data-ttu-id="5e8d0-197">Только индексы.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-197">Indexes only.</span></span>|  
|<span data-ttu-id="5e8d0-198">IV</span><span class="sxs-lookup"><span data-stu-id="5e8d0-198">IV</span></span>|<span data-ttu-id="5e8d0-199">Только индексированные представления.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-199">Indexed views only.</span></span>|  
|<span data-ttu-id="5e8d0-200">NCL_IDX</span><span class="sxs-lookup"><span data-stu-id="5e8d0-200">NCL_IDX</span></span>|<span data-ttu-id="5e8d0-201">Только некластеризованные индексы.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-201">Nonclustered indexes only.</span></span>|  
  
 <span data-ttu-id="5e8d0-202">**-fi**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-202">**-fi**</span></span>  
 <span data-ttu-id="5e8d0-203">Указывает, что необходимо рассмотреть новые рекомендации для отфильтрованных индексах.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-203">Specifies that filtered indexes be considered for new recommendations.</span></span> <span data-ttu-id="5e8d0-204">Дополнительные сведения см. в разделе [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-204">For more information, see [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span></span>  
  
 <span data-ttu-id="5e8d0-205">**-fk** _keep_existing_option_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-205">**-fk** _keep_existing_option_</span></span>  
 <span data-ttu-id="5e8d0-206">Указывает, какие существующие структуры физического проектирования программа **dta** должна сохранить при формировании рекомендации.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-206">Specifies what existing physical design structures **dta** must retain when generating its recommendation.</span></span> <span data-ttu-id="5e8d0-207">В следующей таблице перечислены и описаны все значения, которые могут быть указаны для данного аргумента.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-207">The following table lists and describes the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="5e8d0-208">Значение</span><span class="sxs-lookup"><span data-stu-id="5e8d0-208">Value</span></span>|<span data-ttu-id="5e8d0-209">Описание</span><span class="sxs-lookup"><span data-stu-id="5e8d0-209">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="5e8d0-210">None</span><span class="sxs-lookup"><span data-stu-id="5e8d0-210">NONE</span></span>|<span data-ttu-id="5e8d0-211">Никакие из существующих структур</span><span class="sxs-lookup"><span data-stu-id="5e8d0-211">No existing structures</span></span>|  
|<span data-ttu-id="5e8d0-212">ALL</span><span class="sxs-lookup"><span data-stu-id="5e8d0-212">ALL</span></span>|<span data-ttu-id="5e8d0-213">Все существующие структуры</span><span class="sxs-lookup"><span data-stu-id="5e8d0-213">All existing structures</span></span>|  
|<span data-ttu-id="5e8d0-214">ALIGNED</span><span class="sxs-lookup"><span data-stu-id="5e8d0-214">ALIGNED</span></span>|<span data-ttu-id="5e8d0-215">Все структуры, выровненные по секциям.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-215">All partition-aligned structures.</span></span>|  
|<span data-ttu-id="5e8d0-216">CL_IDX</span><span class="sxs-lookup"><span data-stu-id="5e8d0-216">CL_IDX</span></span>|<span data-ttu-id="5e8d0-217">Все кластеризованные индексы в таблицах</span><span class="sxs-lookup"><span data-stu-id="5e8d0-217">All clustered indexes on tables</span></span>|  
|<span data-ttu-id="5e8d0-218">IDX</span><span class="sxs-lookup"><span data-stu-id="5e8d0-218">IDX</span></span>|<span data-ttu-id="5e8d0-219">Все кластеризованные и некластеризованные индексы в таблицах</span><span class="sxs-lookup"><span data-stu-id="5e8d0-219">All clustered and nonclustered indexes on tables</span></span>|  
  
 <span data-ttu-id="5e8d0-220">**-fp** _partitioning_strategy_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-220">**-fp** _partitioning_strategy_</span></span>  
 <span data-ttu-id="5e8d0-221">Определяет, будут ли секционироваться новые структуры физического проектирования (индексы и индексированные представления), предлагаемые программой **dta** , а также указывает способ их секционирования.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-221">Specifies whether new physical design structures (indexes and indexed views) that **dta** proposes should be partitioned, and how they should be partitioned.</span></span> <span data-ttu-id="5e8d0-222">В следующей таблице перечислены и описаны все значения, которые могут быть указаны для данного аргумента.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-222">The following table lists and describes the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="5e8d0-223">Значение</span><span class="sxs-lookup"><span data-stu-id="5e8d0-223">Value</span></span>|<span data-ttu-id="5e8d0-224">Описание</span><span class="sxs-lookup"><span data-stu-id="5e8d0-224">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="5e8d0-225">None</span><span class="sxs-lookup"><span data-stu-id="5e8d0-225">NONE</span></span>|<span data-ttu-id="5e8d0-226">Без секционирования</span><span class="sxs-lookup"><span data-stu-id="5e8d0-226">No partitioning</span></span>|  
|<span data-ttu-id="5e8d0-227">FULL</span><span class="sxs-lookup"><span data-stu-id="5e8d0-227">FULL</span></span>|<span data-ttu-id="5e8d0-228">Полное секционирование (выберите для улучшения производительности)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-228">Full partitioning (choose to enhance performance)</span></span>|  
|<span data-ttu-id="5e8d0-229">ALIGNED</span><span class="sxs-lookup"><span data-stu-id="5e8d0-229">ALIGNED</span></span>|<span data-ttu-id="5e8d0-230">Только выровненное секционирование (выберите для улучшения возможностей управления)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-230">Aligned partitioning only (choose to enhance manageability)</span></span>|  
  
 <span data-ttu-id="5e8d0-231">Значение ALIGNED означает, что в рекомендации, созданной программой **dta** , каждый предлагаемый индекс секционируется точно таким же образом, что и базовая таблица, для которой определяется индекс.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-231">ALIGNED means that in the recommendation generated by **dta** every proposed index is partitioned in exactly the same way as the underlying table for which the index is defined.</span></span> <span data-ttu-id="5e8d0-232">Некластеризованные индексы в индексированном представлении выравниваются по индексированному представлению.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-232">Nonclustered indexes on an indexed view are aligned with the indexed view.</span></span> <span data-ttu-id="5e8d0-233">Для этого аргумента может быть задано только одно значение.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-233">Only one value can be specified for this argument.</span></span> <span data-ttu-id="5e8d0-234">Значение по умолчанию — **-FP** `NONE` .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-234">The default is **-fp**`NONE`.</span></span>  
  
 <span data-ttu-id="5e8d0-235">**-fx** _drop_only_mode_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-235">**-fx** _drop_only_mode_</span></span>  
 <span data-ttu-id="5e8d0-236">Указывает, что программа **dta** рассматривает только удаление существующих структур физического проектирования.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-236">Specifies that **dta** only considers dropping existing physical design structures.</span></span> <span data-ttu-id="5e8d0-237">Новые структуры физического проектирования не рассматриваются.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-237">No new physical design structures are considered.</span></span> <span data-ttu-id="5e8d0-238">При указании этого параметра программа **dta** производит оценку полезности существующих структур физического проектирования и рекомендует удалить редко используемые структуры.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-238">When this option is specified, **dta** evaluates the usefulness of existing physical design structures and recommends dropping seldom used structures.</span></span> <span data-ttu-id="5e8d0-239">Этот аргумент не принимает значений.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-239">This argument takes no values.</span></span> <span data-ttu-id="5e8d0-240">Он не может быть использован с аргументами **-fa**, **-fp**или **-fk ALL**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-240">It cannot be used with the **-fa**, **-fp**, or **-fk ALL** arguments</span></span>  
  
 <span data-ttu-id="5e8d0-241">**-ID** _session_ID_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-241">**-ID** _session_ID_</span></span>  
 <span data-ttu-id="5e8d0-242">Задает числовой идентификатор сеанса настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-242">Specifies a numerical identifier for the tuning session.</span></span> <span data-ttu-id="5e8d0-243">В случае его отсутствия программа **dta** формирует идентификатор.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-243">If not specified, then **dta** generates an ID number.</span></span> <span data-ttu-id="5e8d0-244">Можно использовать этот идентификатор для просмотра сведений о существующих сеансах настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-244">You can use this identifier to view information for existing tuning sessions.</span></span> <span data-ttu-id="5e8d0-245">Если значение для **-ID**не указано, то имя сеанса должно быть задано с помощью ключа **-s**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-245">If you do not specify a value for **-ID**, then a session name must be specified with **-s**.</span></span>  
  
 <span data-ttu-id="5e8d0-246">**-ip**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-246">**-ip**</span></span>  
 <span data-ttu-id="5e8d0-247">Указывает, что в качестве рабочей нагрузки нужно использовать кэш планов.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-247">Specifies that the plan cache be used as the workload.</span></span> <span data-ttu-id="5e8d0-248">Анализируется верхняя тысяча событий кэша планов для явно выбранных баз данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-248">The top 1,000 plan cache events for explicitly selected databases are analyzed.</span></span> <span data-ttu-id="5e8d0-249">Это значение можно изменить с помощью параметра **–n**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-249">This value can be changed using the **-n** option.</span></span>  
  
 <span data-ttu-id="5e8d0-250">**-ipf**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-250">**-ipf**</span></span>  
 <span data-ttu-id="5e8d0-251">Указывает, что в качестве рабочей нагрузки нужно использовать кэш планов.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-251">Specifies that the plan cache be used as the workload.</span></span> <span data-ttu-id="5e8d0-252">Анализируется верхняя тысяча событий кэша планов для всех баз данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-252">The top 1,000 plan cache events for all databases are analyzed.</span></span> <span data-ttu-id="5e8d0-253">Это значение можно изменить с помощью параметра **–n**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-253">This value can be changed using the **-n** option.</span></span>  
  
 <span data-ttu-id="5e8d0-254">**-if** _workload_file_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-254">**-if** _workload_file_</span></span>  
 <span data-ttu-id="5e8d0-255">Задает путь и имя файла рабочей нагрузки, используемого в качестве файла исходных данных для настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-255">Specifies the path and name of the workload file to use as input for tuning.</span></span> <span data-ttu-id="5e8d0-256">Файл должен быть в одном из следующих форматов: TRC (трассировочный файл приложения SQL Server Profiler), SQL (файл SQL) или LOG (файл трассировки[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-256">The file must be in one of these formats: .trc (SQL Server Profiler trace file), .sql (SQL file), or .log ([!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] trace file).</span></span> <span data-ttu-id="5e8d0-257">Требуется указание либо одного файла рабочей нагрузки, либо одной таблицы рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-257">Either one workload file or one workload table must be specified.</span></span>  
  
 <span data-ttu-id="5e8d0-258">**-it** _workload_trace_table_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-258">**-it** _workload_trace_table_name_</span></span>  
 <span data-ttu-id="5e8d0-259">Задает имя таблицы, содержащей трассировку рабочей нагрузки для настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-259">Specifies the name of a table containing the workload trace for tuning.</span></span> <span data-ttu-id="5e8d0-260">Имя задается в следующем формате: [*database_name*] **.** [*owner_name*] **.** _table_name_.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-260">The name is specified in the format: [*database_name*]**.**[*owner_name*]**.**_table_name_.</span></span>  
  
 <span data-ttu-id="5e8d0-261">Следующая таблица показывает значения по умолчанию для каждого параметра.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-261">The following table shows the default values for each:</span></span>  
  
|<span data-ttu-id="5e8d0-262">Параметр</span><span class="sxs-lookup"><span data-stu-id="5e8d0-262">Parameter</span></span>|<span data-ttu-id="5e8d0-263">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="5e8d0-263">Default value</span></span>|  
|---------------|-------------------|  
|<span data-ttu-id="5e8d0-264">*database_name*</span><span class="sxs-lookup"><span data-stu-id="5e8d0-264">*database_name*</span></span>|<span data-ttu-id="5e8d0-265">*database_name*, заданное с параметром **–D**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-265">*database_name* specified with **-D** option.</span></span>|  
|<span data-ttu-id="5e8d0-266">*owner_name*</span><span class="sxs-lookup"><span data-stu-id="5e8d0-266">*owner_name*</span></span>|<span data-ttu-id="5e8d0-267">**dbo**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-267">**dbo**.</span></span>|  
|<span data-ttu-id="5e8d0-268">*table_name*</span><span class="sxs-lookup"><span data-stu-id="5e8d0-268">*table_name*</span></span>|<span data-ttu-id="5e8d0-269">Нет.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-269">None.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="5e8d0-270">*owner_name* должно быть **dbo**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-270">*owner_name* must be **dbo**.</span></span> <span data-ttu-id="5e8d0-271">Если указано любое другое значение, выполнение программы **dta** прервется и программа вернет ошибку.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-271">If any other value is specified, execution of **dta** fails and an error is returned.</span></span> <span data-ttu-id="5e8d0-272">Также обратите внимание на то, что требуется указать либо один файл рабочей нагрузки, либо одну таблицу рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-272">Also note that either one workload table or one workload file must be specified.</span></span>  
  
 <span data-ttu-id="5e8d0-273">**-ix** _input_XML_file_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-273">**-ix** _input_XML_file_name_</span></span>  
 <span data-ttu-id="5e8d0-274">Задает имя XML-файла, содержащего входные данные для программы **dta** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-274">Specifies the name of the XML file containing **dta** input information.</span></span> <span data-ttu-id="5e8d0-275">Файл должен представлять собой допустимый XML-документ, соответствующий DTASchema.xsd.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-275">This must be a valid XML document conforming to DTASchema.xsd.</span></span> <span data-ttu-id="5e8d0-276">Конфликтующие аргументы, указанные в командной строке для параметров настройки, переопределяют соответствующие значения в XML-файле.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-276">Conflicting arguments specified from the command prompt for tuning options override the corresponding value in this XML file.</span></span> <span data-ttu-id="5e8d0-277">Единственное исключение имеет место в том случае, когда пользовательская конфигурация вводится во входном XML-файле в режиме оценки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-277">The only exception is if a user-specified configuration is entered in the evaluate mode in the XML input file.</span></span> <span data-ttu-id="5e8d0-278">Например, если конфигурация задана в элементе **Configuration** входного XML-файла и задан элемент **EvaluateConfiguration** в качестве одного из параметров настройки, то параметры настройки, заданные во входном XML-файле, переопределят любые параметры настройки, введенные в командной строке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-278">For example, if a configuration is entered in the **Configuration** element of the XML input file and the **EvaluateConfiguration** element is also specified as one of the tuning options, the tuning options specified in the XML input file will override any tuning options entered from the command prompt.</span></span>  
  
 <span data-ttu-id="5e8d0-279">**-m** _minimum_improvement_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-279">**-m** _minimum_improvement_</span></span>  
 <span data-ttu-id="5e8d0-280">Задает минимальный процент улучшения, которому должна удовлетворять рекомендуемая конфигурация.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-280">Specifies the minimum percentage of improvement that the recommended configuration must satisfy.</span></span>  
  
 <span data-ttu-id="5e8d0-281">**-N** _online_option_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-281">**-N** _online_option_</span></span>  
 <span data-ttu-id="5e8d0-282">Указывает, создаются ли структуры физического проектирования при работе в режиме в сети.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-282">Specifies whether physical design structures are created online.</span></span> <span data-ttu-id="5e8d0-283">В следующей таблице перечислены и описаны все значения, которые могут быть указаны для данного аргумента.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-283">The following table lists and describes the values you can specify for this argument:</span></span>  
  
|<span data-ttu-id="5e8d0-284">Значение</span><span class="sxs-lookup"><span data-stu-id="5e8d0-284">Value</span></span>|<span data-ttu-id="5e8d0-285">Описание</span><span class="sxs-lookup"><span data-stu-id="5e8d0-285">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="5e8d0-286">OFF</span><span class="sxs-lookup"><span data-stu-id="5e8d0-286">OFF</span></span>|<span data-ttu-id="5e8d0-287">Рекомендованные структуры физического проектирования не могут быть созданы в оперативном режиме.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-287">No recommended physical design structures can be created online.</span></span>|  
|<span data-ttu-id="5e8d0-288">ON</span><span class="sxs-lookup"><span data-stu-id="5e8d0-288">ON</span></span>|<span data-ttu-id="5e8d0-289">Все рекомендованные структуры физического проектирования могут быть созданы в режиме в сети.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-289">All recommended physical design structures can be created online.</span></span>|  
|<span data-ttu-id="5e8d0-290">MIXED</span><span class="sxs-lookup"><span data-stu-id="5e8d0-290">MIXED</span></span>|<span data-ttu-id="5e8d0-291">Помощник по настройке ядра СУБД пытается рекомендовать структуры физического проектирования, которые могут быть созданы, по возможности, в режиме в сети.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-291">Database Engine Tuning Advisor attempts to recommend physical design structures that can be created online when possible.</span></span>|  
  
 <span data-ttu-id="5e8d0-292">Если индексы создаются в режиме в сети, то к определению объекта добавляется ONLINE = ON.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-292">If indexes are created online, ONLINE = ON is appended to its object definition.</span></span>  
  
 <span data-ttu-id="5e8d0-293">**-n** _number_of_events_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-293">**-n** _number_of_events_</span></span>  
 <span data-ttu-id="5e8d0-294">Задает количество событий в рабочей нагрузке, которые должны быть настроены программой **dta** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-294">Specifies the number of events in the workload that **dta** should tune.</span></span> <span data-ttu-id="5e8d0-295">Если этот аргумент указан, а рабочей нагрузкой является файл трассировки, содержащий сведения о продолжительности, то программа **dta** производит настройку событий в порядке убывания продолжительности.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-295">If this argument is specified and the workload is a trace file that contains duration information, then **dta** tunes events in decreasing order of duration.</span></span> <span data-ttu-id="5e8d0-296">Этот аргумент полезен для сравнения двух конфигураций структур физического проектирования.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-296">This argument is useful to compare two configurations of physical design structures.</span></span> <span data-ttu-id="5e8d0-297">Для сравнения двух конфигураций укажите одинаковое количество событий для настройки обеих конфигураций, а затем задайте неограниченное время настройки для обеих конфигураций, как указано далее:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-297">To compare two configurations, specify the same number of events to be tuned for both configurations and then specify an unlimited tuning time for both also as follows:</span></span>  
  
```  
dta -n number_of_events -A 0  
```  
  
 <span data-ttu-id="5e8d0-298">В этом случае важно указать неограниченное время настройки (`-A 0`).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-298">In this case, it is important to specify an unlimited tuning time (`-A 0`).</span></span> <span data-ttu-id="5e8d0-299">В противном случае помощник по настройке ядра СУБД примет для времени настройки значение по умолчанию, равное 8 часам.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-299">Otherwise, Database Engine Tuning Advisor assumes an 8 hour tuning time by default.</span></span>  
  
 <span data-ttu-id="5e8d0-300">**-of** _output_script_file_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-300">**-of** _output_script_file_name_</span></span>  
 <span data-ttu-id="5e8d0-301">Указывает, что программа **dta** производит запись рекомендаций в виде скрипта [!INCLUDE[tsql](../../includes/tsql-md.md)] в файл с указанным именем и расположением.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-301">Specifies that **dta** writes the recommendation as a [!INCLUDE[tsql](../../includes/tsql-md.md)] script to the file name and destination specified.</span></span>  
  
 <span data-ttu-id="5e8d0-302">С этим параметром можно использовать параметр **-F** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-302">You can use **-F** with this option.</span></span> <span data-ttu-id="5e8d0-303">Убедитесь в уникальности имени файла, особенно если используются параметры **-or** и **-ox**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-303">Make sure that the file name is unique, especially if you are also using **-or** and **-ox**.</span></span>  
  
 <span data-ttu-id="5e8d0-304">**-or** _output_xml_report_file_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-304">**-or** _output_xml_report_file_name_</span></span>  
 <span data-ttu-id="5e8d0-305">Указывает, что программа **dta** производит запись рекомендаций в выходной отчет в формате XML.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-305">Specifies that **dta** writes the recommendation to an output report in XML.</span></span> <span data-ttu-id="5e8d0-306">Если указано имя файла, то запись рекомендаций происходит в указанное назначение.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-306">If a file name is supplied, then the recommendations are written to that destination.</span></span> <span data-ttu-id="5e8d0-307">В противном случае программа **dta** использует имя сеанса для создания имени файла и записывает его в текущий каталог.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-307">Otherwise, **dta** uses the session name to generate the file name and writes it to the current directory.</span></span>  
  
 <span data-ttu-id="5e8d0-308">С этим параметром можно использовать параметр **-F** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-308">You can use **-F** with this option.</span></span> <span data-ttu-id="5e8d0-309">Убедитесь в уникальности имени файла, особенно если используются параметры **-of** и **-ox**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-309">Make sure that the file name is unique, especially if you are also using **-of** and **-ox**.</span></span>  
  
 <span data-ttu-id="5e8d0-310">**-ox** _output_XML_file_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-310">**-ox** _output_XML_file_name_</span></span>  
 <span data-ttu-id="5e8d0-311">Указывает, что программа **dta** производит запись рекомендаций в виде XML-файла с указанным именем и расположением.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-311">Specifies that **dta** writes the recommendation as an XML file to the file name and destination supplied.</span></span> <span data-ttu-id="5e8d0-312">Убедитесь, что помощник по настройке ядра СУБД имеет разрешение на запись в целевой каталог.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-312">Ensure that Database Engine Tuning Advisor has permissions to write to the destination directory.</span></span>  
  
 <span data-ttu-id="5e8d0-313">С этим параметром можно использовать параметр **-F** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-313">You can use **-F** with this option.</span></span> <span data-ttu-id="5e8d0-314">Убедитесь в уникальности имени файла, особенно если используются параметры **-of** и **-or**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-314">Make sure that the file name is unique, especially if you are also using **-of** and **-or**.</span></span>  
  
 <span data-ttu-id="5e8d0-315">**-P** _password_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-315">**-P** _password_</span></span>  
 <span data-ttu-id="5e8d0-316">Указывает пароль для идентификатора имени входа.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-316">Specifies the password for the login ID.</span></span> <span data-ttu-id="5e8d0-317">Если данный параметр не указан, программа **dta** запрашивает пароль.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-317">If this option is not used, **dta** prompts for a password.</span></span>  
  
 <span data-ttu-id="5e8d0-318">**-q**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-318">**-q**</span></span>  
 <span data-ttu-id="5e8d0-319">Устанавливает тихий режим.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-319">Sets quiet mode.</span></span> <span data-ttu-id="5e8d0-320">Никакие сведения не выводятся на консоль, включая сведения о ходе выполнения и сведения в заголовке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-320">No information is written to the console, including progress and header information.</span></span>  
  
 <span data-ttu-id="5e8d0-321">**-rl** _analysis_report_list_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-321">**-rl** _analysis_report_list_</span></span>  
 <span data-ttu-id="5e8d0-322">Указывает создаваемый список аналитических отчетов.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-322">Specifies the list of analysis reports to generate.</span></span> <span data-ttu-id="5e8d0-323">В следующей таблице перечислены значения, которые могут быть указаны для этого аргумента.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-323">The following table lists the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="5e8d0-324">Значение</span><span class="sxs-lookup"><span data-stu-id="5e8d0-324">Value</span></span>|<span data-ttu-id="5e8d0-325">Report</span><span class="sxs-lookup"><span data-stu-id="5e8d0-325">Report</span></span>|  
|-----------|------------|  
|<span data-ttu-id="5e8d0-326">ALL</span><span class="sxs-lookup"><span data-stu-id="5e8d0-326">ALL</span></span>|<span data-ttu-id="5e8d0-327">Все аналитические отчеты</span><span class="sxs-lookup"><span data-stu-id="5e8d0-327">All analysis reports</span></span>|  
|<span data-ttu-id="5e8d0-328">STMT_COST</span><span class="sxs-lookup"><span data-stu-id="5e8d0-328">STMT_COST</span></span>|<span data-ttu-id="5e8d0-329">Отчет о стоимости инструкции</span><span class="sxs-lookup"><span data-stu-id="5e8d0-329">Statement cost report</span></span>|  
|<span data-ttu-id="5e8d0-330">EVT_FREQ</span><span class="sxs-lookup"><span data-stu-id="5e8d0-330">EVT_FREQ</span></span>|<span data-ttu-id="5e8d0-331">Отчет о повторяемости событий</span><span class="sxs-lookup"><span data-stu-id="5e8d0-331">Event frequency report</span></span>|  
|<span data-ttu-id="5e8d0-332">STMT_DET</span><span class="sxs-lookup"><span data-stu-id="5e8d0-332">STMT_DET</span></span>|<span data-ttu-id="5e8d0-333">Подробный отчет об инструкциях</span><span class="sxs-lookup"><span data-stu-id="5e8d0-333">Statement detail report</span></span>|  
|<span data-ttu-id="5e8d0-334">CUR_STMT_IDX</span><span class="sxs-lookup"><span data-stu-id="5e8d0-334">CUR_STMT_IDX</span></span>|<span data-ttu-id="5e8d0-335">Отчет о связях «инструкция-индекс» (текущая конфигурация)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-335">Statement-index relations report (current configuration)</span></span>|  
|<span data-ttu-id="5e8d0-336">REC_STMT_IDX</span><span class="sxs-lookup"><span data-stu-id="5e8d0-336">REC_STMT_IDX</span></span>|<span data-ttu-id="5e8d0-337">Отчет о связях «инструкция-индекс» (рекомендуемая конфигурация)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-337">Statement-index relations report (recommended configuration)</span></span>|  
|<span data-ttu-id="5e8d0-338">STMT_COSTRANGE</span><span class="sxs-lookup"><span data-stu-id="5e8d0-338">STMT_COSTRANGE</span></span>|<span data-ttu-id="5e8d0-339">Отчет о диапазоне стоимости инструкции</span><span class="sxs-lookup"><span data-stu-id="5e8d0-339">Statement cost range report</span></span>|  
|<span data-ttu-id="5e8d0-340">CUR_IDX_USAGE</span><span class="sxs-lookup"><span data-stu-id="5e8d0-340">CUR_IDX_USAGE</span></span>|<span data-ttu-id="5e8d0-341">Отчет об использовании индексов (текущая конфигурация)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-341">Index usage report (current configuration)</span></span>|  
|<span data-ttu-id="5e8d0-342">REC_IDX_USAGE</span><span class="sxs-lookup"><span data-stu-id="5e8d0-342">REC_IDX_USAGE</span></span>|<span data-ttu-id="5e8d0-343">Отчет об использовании индексов (рекомендуемая конфигурация)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-343">Index usage report (recommended configuration)</span></span>|  
|<span data-ttu-id="5e8d0-344">CUR_IDX_DET</span><span class="sxs-lookup"><span data-stu-id="5e8d0-344">CUR_IDX_DET</span></span>|<span data-ttu-id="5e8d0-345">Подробный отчет об индексах (текущая конфигурация)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-345">Index detail report (current configuration)</span></span>|  
|<span data-ttu-id="5e8d0-346">REC_IDX_DET</span><span class="sxs-lookup"><span data-stu-id="5e8d0-346">REC_IDX_DET</span></span>|<span data-ttu-id="5e8d0-347">Подробный отчет об индексах (рекомендуемая конфигурация)</span><span class="sxs-lookup"><span data-stu-id="5e8d0-347">Index detail report (recommended configuration)</span></span>|  
|<span data-ttu-id="5e8d0-348">VIW_TAB</span><span class="sxs-lookup"><span data-stu-id="5e8d0-348">VIW_TAB</span></span>|<span data-ttu-id="5e8d0-349">Отчет о связях «представление-таблица»</span><span class="sxs-lookup"><span data-stu-id="5e8d0-349">View-table relations report</span></span>|  
|<span data-ttu-id="5e8d0-350">WKLD_ANL</span><span class="sxs-lookup"><span data-stu-id="5e8d0-350">WKLD_ANL</span></span>|<span data-ttu-id="5e8d0-351">Отчет об анализе рабочей нагрузки</span><span class="sxs-lookup"><span data-stu-id="5e8d0-351">Workload analysis report</span></span>|  
|<span data-ttu-id="5e8d0-352">DB_ACCESS</span><span class="sxs-lookup"><span data-stu-id="5e8d0-352">DB_ACCESS</span></span>|<span data-ttu-id="5e8d0-353">Отчет о доступе к базе данных</span><span class="sxs-lookup"><span data-stu-id="5e8d0-353">Database access report</span></span>|  
|<span data-ttu-id="5e8d0-354">TAB_ACCESS</span><span class="sxs-lookup"><span data-stu-id="5e8d0-354">TAB_ACCESS</span></span>|<span data-ttu-id="5e8d0-355">Отчет о доступе к таблицам</span><span class="sxs-lookup"><span data-stu-id="5e8d0-355">Table access report</span></span>|  
|<span data-ttu-id="5e8d0-356">COL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="5e8d0-356">COL_ACCESS</span></span>|<span data-ttu-id="5e8d0-357">Отчет о доступе к столбцам</span><span class="sxs-lookup"><span data-stu-id="5e8d0-357">Column access report</span></span>|  
  
 <span data-ttu-id="5e8d0-358">Указывайте несколько отчетов, разделяя значения запятыми, например:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-358">Specify multiple reports by separating the values with commas, for example:</span></span>  
  
```  
... -rl EVT_FREQ, VIW_TAB, WKLD_ANL ...  
```  
  
 <span data-ttu-id="5e8d0-359">**-S** _server_name_[ *\instance*]</span><span class="sxs-lookup"><span data-stu-id="5e8d0-359">**-S** _server_name_[ *\instance*]</span></span>  
 <span data-ttu-id="5e8d0-360">Задает имя компьютера и экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для подключения.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-360">Specifies the name of the computer and instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to connect to.</span></span> <span data-ttu-id="5e8d0-361">Если аргумент *server_name* не указан, **dta** подключается к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-361">If no *server_name* is specified, **dta** connects to the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="5e8d0-362">Этот параметр требуется при соединении с именованным экземпляром или при запуске программы **dta** с удаленного компьютера в сети.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-362">This option is required when connecting to a named instance or when executing **dta** from a remote computer on the network.</span></span>  
  
 <span data-ttu-id="5e8d0-363">**-s** _session_name_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-363">**-s** _session_name_</span></span>  
 <span data-ttu-id="5e8d0-364">Задает имя сеанса настройки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-364">Specifies the name of the tuning session.</span></span> <span data-ttu-id="5e8d0-365">Этот параметр обязателен в случае отсутствия параметра **-ID** .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-365">This is required if **-ID** is not specified.</span></span>  
  
 <span data-ttu-id="5e8d0-366">**-Tf** _table_list_file_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-366">**-Tf** _table_list_file_</span></span>  
 <span data-ttu-id="5e8d0-367">Задает имя файла, содержащего список настраиваемых таблиц.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-367">Specifies the name of a file containing a list of tables to be tuned.</span></span> <span data-ttu-id="5e8d0-368">Каждая таблица, перечисленная в файле, должна начинаться на новой строке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-368">Each table listed within the file should begin on a new line.</span></span> <span data-ttu-id="5e8d0-369">Имена таблиц должны быть трехкомпонентными, например **AdventureWorks2012.HumanResources.Department**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-369">Table names should be qualified with three-part naming, for example, **AdventureWorks2012.HumanResources.Department**.</span></span> <span data-ttu-id="5e8d0-370">При необходимости для вызова функции масштабирования таблицы за именем существующей таблицы может следовать число, указывающее предполагаемое количество строк в таблице.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-370">Optionally, to invoke the table-scaling feature, the name of an existing table can be followed by a number indicating the projected number of rows in the table.</span></span> <span data-ttu-id="5e8d0-371">Помощник по настройке ядра СУБД учитывает количество предполагаемых строк при настройке или оценке инструкций в рабочей нагрузке, которая ссылается на эти таблицы.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-371">Database Engine Tuning Advisor takes into consideration the projected number of rows while tuning or evaluating statements in the workload that reference these tables.</span></span> <span data-ttu-id="5e8d0-372">Обратите внимание, что между числом строк *number_of_rows* и *table_name*может быть один или более пробелов.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-372">Note that there can be one or more spaces between the *number_of_rows* count and the *table_name*.</span></span>  
  
 <span data-ttu-id="5e8d0-373">Формат файла для *table_list_file*:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-373">This is the file format for *table_list_file*:</span></span>  
  
 <span data-ttu-id="5e8d0-374">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="5e8d0-374">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="5e8d0-375">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="5e8d0-375">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="5e8d0-376">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="5e8d0-376">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="5e8d0-377">Этот аргумент является альтернативой вводу списка таблиц в командной строке ( **-Tl**).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-377">This argument is an alternative to entering a table list at the command prompt (**-Tl**).</span></span> <span data-ttu-id="5e8d0-378">Не указывайте файл со списком таблиц ( **-Tf**) в случае использования параметра **-Tl**.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-378">Do not use a table list file (**-Tf**) if you are using **-Tl**.</span></span> <span data-ttu-id="5e8d0-379">В случае указания обоих аргументов программа **dta** прерывает работу и возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-379">If both arguments are used, **dta** fails and returns an error.</span></span>  
  
 <span data-ttu-id="5e8d0-380">В случае отсутствия аргументов **-Tf** и **-Tl** все пользовательские таблицы указанной базы данных рассматриваются как подлежащие настройке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-380">If the **-Tf** and **-Tl** arguments are omitted, all user tables in the specified databases are considered for tuning.</span></span>  
  
 <span data-ttu-id="5e8d0-381">**-Tl** _table_list_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-381">**-Tl** _table_list_</span></span>  
 <span data-ttu-id="5e8d0-382">Задает список настраиваемых таблиц в командной строке.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-382">Specifies at the command prompt a list of tables to be tuned.</span></span> <span data-ttu-id="5e8d0-383">Используйте запятую в качестве разделителя имен таблиц.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-383">Place commas between table names to separate them.</span></span> <span data-ttu-id="5e8d0-384">Если с аргументом **-D** указана только одна база данных, указывать имя базы данных в именах таблиц не обязательно.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-384">If only one database is specified with the **-D** argument, then table names do not need to be qualified with a database name.</span></span> <span data-ttu-id="5e8d0-385">В противном случае полное имя в формате *database_name.schema_name.table_name* требуется для каждой таблицы.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-385">Otherwise, the fully qualified name in the format: *database_name.schema_name.table_name* is required for each table.</span></span>  
  
 <span data-ttu-id="5e8d0-386">Этот аргумент является альтернативой использованию файла со списком таблиц ( **-Tf**).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-386">This argument is an alternative to using a table list file (**-Tf**).</span></span> <span data-ttu-id="5e8d0-387">В случае указания обоих аргументов, **-Tl** и **-Tf** , программа **dta** прерывает работу и возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-387">If both **-Tl** and **-Tf** are used, **dta** fails and returns an error.</span></span>  
  
 <span data-ttu-id="5e8d0-388">**-U** _login_id_</span><span class="sxs-lookup"><span data-stu-id="5e8d0-388">**-U** _login_id_</span></span>  
 <span data-ttu-id="5e8d0-389">Указывает идентификатор входа, используемый для соединения с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5e8d0-389">Specifies the login ID used to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="5e8d0-390">**-u**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-390">**-u**</span></span>  
 <span data-ttu-id="5e8d0-391">Запускает графический интерфейс помощника по настройке ядра СУБД.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-391">Launches the Database Engine Tuning Advisor GUI.</span></span> <span data-ttu-id="5e8d0-392">Все параметры рассматриваются в качестве начальных установок пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-392">All parameters are treated as the initial settings for the user interface.</span></span>  
  
 <span data-ttu-id="5e8d0-393">**-x**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-393">**-x**</span></span>  
 <span data-ttu-id="5e8d0-394">Производит запуск сеанса настройки и завершает работу.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-394">Starts tuning session and exits.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="5e8d0-395">Remarks</span><span class="sxs-lookup"><span data-stu-id="5e8d0-395">Remarks</span></span>  
 <span data-ttu-id="5e8d0-396">Нажмите один раз сочетание клавиш CTRL + C для прерывания сеанса настройки и создания рекомендаций на основе анализа, выполненного программой **dta** до момента остановки.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-396">Press CTRL+C once to stop the tuning session and generate recommendations based on the analysis **dta** has completed up to this point.</span></span> <span data-ttu-id="5e8d0-397">Будет выведен запрос о создании рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-397">You will be prompted to decide whether you want to generate recommendations or not.</span></span> <span data-ttu-id="5e8d0-398">Чтобы прервать сеанс настройки без формирования рекомендаций, еще раз нажмите сочетание клавиш CTRL+C.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-398">Press CTRL+C again to stop the tuning session without generating recommendations.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="5e8d0-399">Примеры</span><span class="sxs-lookup"><span data-stu-id="5e8d0-399">Examples</span></span>  
 <span data-ttu-id="5e8d0-400">**А. Настройка рабочей нагрузки, которая содержит в рекомендации индексы и индексированные представления**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-400">**A. Tune a workload that includes indexes and indexed views in its recommendation**</span></span>  
  
 <span data-ttu-id="5e8d0-401">В этом примере используется безопасное соединение (`-E`) для соединения с базой данных **tpcd1G** на сервере MyServer для проведения анализа рабочей нагрузки и формирования рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-401">This example uses a secure connection (`-E`) to connect to the **tpcd1G** database on MyServer to analyze a workload and create recommendations.</span></span> <span data-ttu-id="5e8d0-402">Выполняется запись выхода в файл скрипта с именем script.sql.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-402">It writes the output to a script file named script.sql.</span></span> <span data-ttu-id="5e8d0-403">Если файл script.sql уже существует, программа **dta** перезапишет этот файл, поскольку указан аргумент `-F` .</span><span class="sxs-lookup"><span data-stu-id="5e8d0-403">If script.sql already exists, then **dta** will overwrite the file because the `-F` argument has been specified.</span></span> <span data-ttu-id="5e8d0-404">Сеанс настройки выполняется неограниченное время в целях обеспечения полноты анализа рабочей нагрузки (`-A 0`).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-404">The tuning session runs for an unlimited length of time to ensure a complete analysis of the workload (`-A 0`).</span></span> <span data-ttu-id="5e8d0-405">Рекомендация должна обеспечивать минимум 5% улучшения (`-m 5`).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-405">The recommendation must provide a minimum improvement of 5% (`-m 5`).</span></span> <span data-ttu-id="5e8d0-406">Программа**dta** должна содержать в своей заключительной рекомендации (`-fa IDX_IV`) индексы и индексированные представления.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-406">**dta** should include indexes and indexed views in its final recommendation (`-fa IDX_IV`).</span></span>  
  
```  
dta -S MyServer -E -D tpcd1G -if tpcd_22.sql -F -of script.sql -A 0 -m 5 -fa IDX_IV  
```  
  
 <span data-ttu-id="5e8d0-407">**Б. Ограничение использования диска**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-407">**B. Limit disk use**</span></span>  
  
 <span data-ttu-id="5e8d0-408">В этом примере общий размер базы данных, которая содержит необработанные данные и дополнительные индексы, ограничивается размером в 3 гигабайта (ГБ) (`-B 3000`). Выходные данные направляются в файл «d:\result_dir\script1.sql».</span><span class="sxs-lookup"><span data-stu-id="5e8d0-408">This example limits the total database size, which includes the raw data and the additional indexes, to 3 gigabytes (GB) (`-B 3000`) and directs the output to d:\result_dir\script1.sql.</span></span> <span data-ttu-id="5e8d0-409">Время выполнения примера — не более 1 часа (`-A 60`).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-409">It runs for no more than 1 hour (`-A 60`).</span></span>  
  
```  
dta -D tpcd1G -if tpcd_22.sql -B 3000 -of "d:\result_dir\script1.sql" -A 60  
```  
  
 <span data-ttu-id="5e8d0-410">**В. Ограничение количества настраиваемых запросов**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-410">**C. Limit the number of tuned queries**</span></span>  
  
 <span data-ttu-id="5e8d0-411">В этом примере количество запросов, читаемых из файла orders_wkld.sql, ограничивается десятью запросами (`-n 10`). Он выполняется в течение 15 минут (`-A 15`) либо до завершения работы.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-411">This example limits the number of queries read from the file orders_wkld.sql to a maximum of 10 (`-n 10`) and runs for 15 minutes (`-A 15`), whichever comes first.</span></span> <span data-ttu-id="5e8d0-412">Чтобы убедиться в том, что все 10 запросов настроены, задайте неограниченное время настройки с помощью `-A 0`.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-412">To make sure that all 10 queries are tuned, specify an unlimited tuning time with `-A 0`.</span></span> <span data-ttu-id="5e8d0-413">Если важен фактор времени, то укажите соответствующий предел времени путем задания числа минут, доступных для настройки, с помощью аргумента `-A` , как показано в этом примере.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-413">If time is important, specify an appropriate time limit by specifying the number of minutes that are available for tuning with the `-A` argument as shown in this example.</span></span>  
  
```  
dta -D orders -if orders_wkld.sql -of script.sql -A 15 -n 10  
```  
  
 <span data-ttu-id="5e8d0-414">**Г. Настройка отдельных таблиц, перечисленных в файле**</span><span class="sxs-lookup"><span data-stu-id="5e8d0-414">**D. Tune specific tables listed in a file**</span></span>  
  
 <span data-ttu-id="5e8d0-415">Этот пример демонстрирует использование параметра *table_list_file* (аргумент **-Tf** ).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-415">This example demonstrates the use of *table_list_file* (the **-Tf** argument).</span></span> <span data-ttu-id="5e8d0-416">Файл таблицы table_list.txt имеет следующее содержимое:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-416">The contents of the file table_list.txt are as follows:</span></span>  
  
```  
AdventureWorks2012.Sales.Customer  100000  
AdventureWorks2012.Sales.Store  
AdventureWorks2012.Production.Product  2000000  
```  
  
 <span data-ttu-id="5e8d0-417">Содержимое файла table_list.txt указывает, что:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-417">The contents of table_list.txt specifies that:</span></span>  
  
-   <span data-ttu-id="5e8d0-418">Настройке подлежат только таблицы **Customer**, **Store**и **Product** в базе данных.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-418">Only the **Customer**, **Store**, and **Product** tables in the database should be tuned.</span></span>  
  
-   <span data-ttu-id="5e8d0-419">Число строк в таблицах **Customer** и **Product** принимается равным 100 000 и 2 000 000 соответственно.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-419">The number of rows in the **Customer** and **Product** tables are assumed to be 100,000 and 2,000,000, respectively.</span></span>  
  
-   <span data-ttu-id="5e8d0-420">Число строк в таблице **Store** принимается равным текущему числу строк в таблице.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-420">The number of rows in **Store** are assumed to be the current number of rows in the table.</span></span>  
  
 <span data-ttu-id="5e8d0-421">Обратите внимание, что между числом строк и предшествующим ему именем таблицы в *table_list_file*может быть один или более пробелов.</span><span class="sxs-lookup"><span data-stu-id="5e8d0-421">Note that there can be one or more spaces between the number of rows count and the preceding table name in the *table_list_file*.</span></span>  
  
 <span data-ttu-id="5e8d0-422">Время настройки равно двум часам (`-A 120`), а результаты записываются в XML-файл (`-ox XMLTune.xml`).</span><span class="sxs-lookup"><span data-stu-id="5e8d0-422">The tuning time is 2 hours (`-A 120`) and the output is written to an XML file (`-ox XMLTune.xml`).</span></span>  
  
```  
dta -D pubs -if pubs_wkld.sql -ox XMLTune.xml -A 120 -Tf table_list.txt  
```  
  
## <a name="see-also"></a><span data-ttu-id="5e8d0-423">См. также:</span><span class="sxs-lookup"><span data-stu-id="5e8d0-423">See Also</span></span>  
 <span data-ttu-id="5e8d0-424">[Справочник по программе командной строки &#40;ядро СУБД&#41;](../command-prompt-utility-reference-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="5e8d0-424">[Command Prompt Utility Reference &#40;Database Engine&#41;](../command-prompt-utility-reference-database-engine.md) </span></span>  
 [<span data-ttu-id="5e8d0-425">Database Engine Tuning Advisor</span><span class="sxs-lookup"><span data-stu-id="5e8d0-425">Database Engine Tuning Advisor</span></span>](../../relational-databases/performance/database-engine-tuning-advisor.md)  
  
  

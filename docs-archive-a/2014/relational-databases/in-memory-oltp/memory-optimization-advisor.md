---
title: Помощник по оптимизации памяти | Документация Майкрософт
ms.custom: ''
ms.date: 10/26/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
f1_keywords:
- sql12.swb.memoryoptimizationwizard.f1
- swb.memoryoptimizationwizard.f1
ms.assetid: 181989c2-9636-415a-bd1d-d304fc920b8a
author: rothja
ms.author: jroth
ms.openlocfilehash: cd0e08ab6d6a7bb2cfbf1892d6f2e4649e4a9735
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87730681"
---
# <a name="memory-optimization-advisor"></a><span data-ttu-id="f0490-102">Помощник по оптимизации памяти</span><span class="sxs-lookup"><span data-stu-id="f0490-102">Memory Optimization Advisor</span></span>
  <span data-ttu-id="f0490-103">Средство отчетов о производительности транзакций (см. [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) информирует о том, какие таблицы в базе данных смогут воспользоваться преимуществами перехода на In-Memory OLTP.</span><span class="sxs-lookup"><span data-stu-id="f0490-103">Transaction performance reports tool (see [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) informs you about which tables in your database will benefit if ported to use In-Memory OLTP.</span></span> <span data-ttu-id="f0490-104">После определения таблицы, которую планируется перенести для использования In-Memory OLTP, можно воспользоваться помощником по оптимизации памяти для миграции таблицы базы данных на диске в In-Memory OLTP.</span><span class="sxs-lookup"><span data-stu-id="f0490-104">After you identify a table that you would like to port to use In-Memory OLTP, you can use the memory optimization advisor to help you migrate the disk-based database table to In-Memory OLTP.</span></span>  
  
 <span data-ttu-id="f0490-105">Чтобы начать, подключитесь к экземпляру, содержащему дисковую таблицу базы данных.</span><span class="sxs-lookup"><span data-stu-id="f0490-105">To begin, connect to the instance that contains the disk-based database table.</span></span> <span data-ttu-id="f0490-106">Вы можете подключиться к экземпляру [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f0490-106">You can connect to a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance.</span></span> <span data-ttu-id="f0490-107">Однако если необходимо выполнить операцию миграции с помощником, необходимо подключиться к экземпляру [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] , на котором включена функциональность In-Memory OLTP.</span><span class="sxs-lookup"><span data-stu-id="f0490-107">However, if you wish to perform a migration operation with the advisor, you must connect to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance on which In-Memory OLTP functionality is enabled.</span></span> <span data-ttu-id="f0490-108">Дополнительные сведения о требованиях In-Memory OLTP см. в разделе [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span><span class="sxs-lookup"><span data-stu-id="f0490-108">For more information about In-Memory OLTP requirements, see [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="f0490-109">Дополнительные сведения о методологиях миграции см. в разделе [Выполняемая в памяти OLTP — стандартные шаблоны рабочей нагрузки и вопросы миграции](https://msdn.microsoft.com/library/dn673538.aspx).</span><span class="sxs-lookup"><span data-stu-id="f0490-109">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
## <a name="walkthrough-using-the-memory-optimization-advisor"></a><span data-ttu-id="f0490-110">Пошаговое руководство по помощнику по оптимизации памяти</span><span class="sxs-lookup"><span data-stu-id="f0490-110">Walkthrough Using the Memory-Optimization Advisor</span></span>  
 <span data-ttu-id="f0490-111">В **обозревателе объектов**щелкните правой кнопкой мыши таблицу для преобразования и выберите пункт **Помощник по оптимизации памяти**.</span><span class="sxs-lookup"><span data-stu-id="f0490-111">In **Object Explorer**, right click the table you want to convert, and select **Memory-Optimization Advisor**.</span></span> <span data-ttu-id="f0490-112">Появится стартовая страница **помощника по оптимизации памяти таблицы**.</span><span class="sxs-lookup"><span data-stu-id="f0490-112">This will display the welcome page for the **Table Memory Optimization Advisor**.</span></span>  
  
### <a name="memory-optimization-checklist"></a><span data-ttu-id="f0490-113">Контрольный список оптимизации памяти</span><span class="sxs-lookup"><span data-stu-id="f0490-113">Memory Optimization Checklist</span></span>  
 <span data-ttu-id="f0490-114">При нажатии кнопки **Далее** на странице приветствия **помощника по оптимизации памяти таблицы**отобразится контрольный список оптимизации памяти.</span><span class="sxs-lookup"><span data-stu-id="f0490-114">When you click **Next** in the welcome page for the **Table Memory Optimization Advisor**, you will see the memory optimization checklist.</span></span> <span data-ttu-id="f0490-115">Таблицы, оптимизированные для памяти, поддерживают не все функции дисковой таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-115">Memory-optimized tables do not support all the features in a disk-based table.</span></span> <span data-ttu-id="f0490-116">Контрольный список оптимизации памяти сообщает, использует ли дисковая таблица какие-либо функции, которые несовместимы с таблицей, оптимизированной для памяти.</span><span class="sxs-lookup"><span data-stu-id="f0490-116">The memory optimization checklist reports if the disk-based table uses any features that are incompatible with a memory-optimized table.</span></span> <span data-ttu-id="f0490-117">**Помощник по оптимизации памяти таблицы** не изменяет дисковую таблицу для ее миграции на In-Memory OLTP.</span><span class="sxs-lookup"><span data-stu-id="f0490-117">The **Table Memory Optimization Advisor** does not modify the disk-based table so that it can be migrated to use In-Memory OLTP.</span></span> <span data-ttu-id="f0490-118">Эти изменения вы должны выполнить самостоятельно, прежде чем продолжать миграцию.</span><span class="sxs-lookup"><span data-stu-id="f0490-118">You must make those changes before continuing migration.</span></span> <span data-ttu-id="f0490-119">Для каждой найденной несовместимости **Помощник по оптимизации памяти таблицы** отображает ссылку на сведения, которые могут помочь изменить дисковые таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-119">For each incompatibility found, the **Table Memory Optimization Advisor** displays a link to information that can help you modify your disk-based tables.</span></span>  
  
 <span data-ttu-id="f0490-120">Если необходимо сохранить список этих несовместимостей, чтобы запланировать миграцию, нажмите кнопку **Создание отчета** , чтобы создать список в формате HTML.</span><span class="sxs-lookup"><span data-stu-id="f0490-120">If you wish to keep a list of these incompatibilities, to plan your migration, click the **Generate Report** to generate a HTML list.</span></span>  
  
 <span data-ttu-id="f0490-121">Если в таблице нет несовместимостей и установлено подключение к экземпляру [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с In-Memory OLTP, нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f0490-121">If your table has no incompatibilities and you are connected to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance with In-Memory OLTP, click **Next**.</span></span>  
  
### <a name="memory-optimization-warnings"></a><span data-ttu-id="f0490-122">Предупреждения оптимизации памяти</span><span class="sxs-lookup"><span data-stu-id="f0490-122">Memory Optimization Warnings</span></span>  
 <span data-ttu-id="f0490-123">Следующая страница с предупреждениями оптимизации памяти содержит список проблем, которые не препятствуют миграции таблицы для использования с In-Memory OLTP, но могут вызвать ошибки в поведении других объектов (например, хранимых процедур и функций CLR) или привести к непредвиденному их поведению.</span><span class="sxs-lookup"><span data-stu-id="f0490-123">The next page, memory optimization warnings, contains a list of issues that do not prevent the table from being migrated to use In-Memory OLTP, but that may cause the behavior of other objects (such as stored procedures or CLR functions) to fail or result in unexpected behavior.</span></span>  
  
 <span data-ttu-id="f0490-124">Первые несколько предупреждений в списке информационные, они могут относиться или не относиться к таблице.</span><span class="sxs-lookup"><span data-stu-id="f0490-124">The first several warnings in the list are informational and may or may not apply to your table.</span></span> <span data-ttu-id="f0490-125">По ссылкам в правом столбце таблицы можно открыть дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="f0490-125">Links in the right-hand column of the table will take you to more information.</span></span>  
  
 <span data-ttu-id="f0490-126">В таблице предупреждений также приводятся предупреждения о потенциальных условиях, которые отсутствуют в таблице.</span><span class="sxs-lookup"><span data-stu-id="f0490-126">The warning table will also display potential warning conditions that are not present in your table.</span></span>  
  
 <span data-ttu-id="f0490-127">Предупреждения, позволяющие выполнить действие, имеют желтый треугольник в левом столбце.</span><span class="sxs-lookup"><span data-stu-id="f0490-127">Actionable warnings will have a yellow triangle in the left-hand column.</span></span> <span data-ttu-id="f0490-128">При наличии предупреждений, позволяющих выполнить действие, следует завершить миграцию, разрешить предупреждения и перезапустить процесс.</span><span class="sxs-lookup"><span data-stu-id="f0490-128">If there are actionable warnings, you should exit the migration, resolve the warnings, and then restart the process.</span></span> <span data-ttu-id="f0490-129">Если не устранить предупреждения, перенесенная таблица может впоследствии вызвать ошибку.</span><span class="sxs-lookup"><span data-stu-id="f0490-129">If you do not resolve the warnings, your migrated table may cause a failure.</span></span>  
  
 <span data-ttu-id="f0490-130">Нажмите кнопку **Создание отчета** , чтобы создать отчет в формате HTML для этих предупреждений.</span><span class="sxs-lookup"><span data-stu-id="f0490-130">Click **Generate Report** to generate an HTML report of these warnings.</span></span> <span data-ttu-id="f0490-131">Чтобы продолжить, нажмите кнопку **Далее** .</span><span class="sxs-lookup"><span data-stu-id="f0490-131">Click **Next** to proceed.</span></span>  
  
### <a name="review-optimization-options"></a><span data-ttu-id="f0490-132">Просмотр параметров оптимизации</span><span class="sxs-lookup"><span data-stu-id="f0490-132">Review Optimization Options</span></span>  
 <span data-ttu-id="f0490-133">Следующий экран позволяет изменять параметры миграции в In-Memory OLTP.</span><span class="sxs-lookup"><span data-stu-id="f0490-133">The next screen lets you modify options for the migration to In-Memory OLTP:</span></span>  
  
 <span data-ttu-id="f0490-134">Оптимизированная для памяти файловая группа</span><span class="sxs-lookup"><span data-stu-id="f0490-134">Memory-optimized filegroup</span></span>  
 <span data-ttu-id="f0490-135">Имя создаваемой, оптимизированной для памяти файловой группы.</span><span class="sxs-lookup"><span data-stu-id="f0490-135">The name for your memory-optimized filegroup.</span></span> <span data-ttu-id="f0490-136">База данных должна иметь оптимизированную для памяти файловую группу по крайней мере c одним файлом, чтобы можно было создать таблицу, оптимизированную для памяти.</span><span class="sxs-lookup"><span data-stu-id="f0490-136">A database must have a memory-optimized filegroup with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="f0490-137">Если оптимизированной для памяти файловой группы нет, можно изменить имя по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f0490-137">If you do not have a memory-optimized filegroup, you can change the default name.</span></span> <span data-ttu-id="f0490-138">Оптимизированные для памяти файловые группы нельзя удалять.</span><span class="sxs-lookup"><span data-stu-id="f0490-138">Memory-optimized filegroups cannot be deleted.</span></span> <span data-ttu-id="f0490-139">Существование оптимизированной для памяти файловой группы может отключить некоторые функции уровня базы данных, например AUTO CLOSE и зеркальное отображение базы данных.</span><span class="sxs-lookup"><span data-stu-id="f0490-139">The existence of a memory-optimized filegroup may disable some database-level features such as AUTO CLOSE and database mirroring.</span></span>  
  
 <span data-ttu-id="f0490-140">Если в базе данных уже есть оптимизированная для памяти файловая группа, то в это поле будет вставлено ее имя и изменить его значение будет нельзя.</span><span class="sxs-lookup"><span data-stu-id="f0490-140">If a database already has a memory-optimized file group, this field will be pre-populated with its name and you will not be able to change the value of this field.</span></span>  
  
 <span data-ttu-id="f0490-141">Логическое имя файла и путь к файлу</span><span class="sxs-lookup"><span data-stu-id="f0490-141">Logical file name and File path</span></span>  
 <span data-ttu-id="f0490-142">Имя файла, который будет содержать оптимизированную для памяти таблицу.</span><span class="sxs-lookup"><span data-stu-id="f0490-142">The name of the file that will contain the memory-optimized table.</span></span> <span data-ttu-id="f0490-143">База данных должна иметь оптимизированную для памяти файловую группу по крайней мере c одним файлом, чтобы можно было создать таблицу, оптимизированную для памяти.</span><span class="sxs-lookup"><span data-stu-id="f0490-143">A database must have a memory-optimized file group with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="f0490-144">При отсутствии существующей, оптимизированной для памяти файловой группы можно изменить имя по умолчанию и путь к файлу, который будет создан в конце процесса миграции.</span><span class="sxs-lookup"><span data-stu-id="f0490-144">If you do not have an existing memory-optimized file group, you can change the default name and path of the file to be created at the end of the migration process.</span></span>  
  
 <span data-ttu-id="f0490-145">Если оптимизированная для памяти файловая группа уже имеется, то эти поля будут автоматически заполнены и нельзя будет изменить их значения.</span><span class="sxs-lookup"><span data-stu-id="f0490-145">If you have an existing memory-optimized filegroup, these fields will be pre-populated and you will not be able to change the values.</span></span>  
  
 <span data-ttu-id="f0490-146">Переименуйте исходную таблицу как</span><span class="sxs-lookup"><span data-stu-id="f0490-146">Rename the original table as</span></span>  
 <span data-ttu-id="f0490-147">По окончании процесса миграции будет создана новая, оптимизированная для памяти таблица с текущим именем таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-147">At the end of the migration process, a new memory-optimized table will be created with the current name of the table.</span></span> <span data-ttu-id="f0490-148">Во избежание конфликта имен текущую таблицу необходимо переименовать.</span><span class="sxs-lookup"><span data-stu-id="f0490-148">To avoid a name conflict, the current table must be renamed.</span></span> <span data-ttu-id="f0490-149">Имя можно изменить в этом поле.</span><span class="sxs-lookup"><span data-stu-id="f0490-149">You may change that name in this field.</span></span>  
  
 <span data-ttu-id="f0490-150">Предполагаемая стоимость текущей памяти (МБ)</span><span class="sxs-lookup"><span data-stu-id="f0490-150">Estimated current memory cost (MB)</span></span>  
 <span data-ttu-id="f0490-151">Помощник по оптимизации памяти оценивает объем памяти, который будет потреблять новая, оптимизированная для памяти таблица, основывая эту оценку на метаданных дисковой таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-151">The Memory-Optimization Advisor estimates the amount of memory the new memory-optimized table will consume based on metadata of the disk-based table.</span></span> <span data-ttu-id="f0490-152">Расчет размера таблицы описан в разделе [Размер строк и таблицы для таблиц, оптимизированных для памяти](table-and-row-size-in-memory-optimized-tables.md).</span><span class="sxs-lookup"><span data-stu-id="f0490-152">The calculation of the table size is explained in [Table and Row Size in Memory-Optimized Tables](table-and-row-size-in-memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="f0490-153">При отсутствии достаточного объема памяти процесс миграции может завершиться ошибкой.</span><span class="sxs-lookup"><span data-stu-id="f0490-153">If sufficient memory is not allotted, the migration process may fail.</span></span>  
  
 <span data-ttu-id="f0490-154">Также он копирует данные таблицы в новую, оптимизированную для памяти таблицу</span><span class="sxs-lookup"><span data-stu-id="f0490-154">Also copy table data to the new memory optimized table</span></span>  
 <span data-ttu-id="f0490-155">Выберите этот параметр, если нужно также перенести данные из текущей таблицы в новую, оптимизированную для памяти таблицу.</span><span class="sxs-lookup"><span data-stu-id="f0490-155">Select this option if you wish to also move the data in the current table to the new memory-optimized table.</span></span> <span data-ttu-id="f0490-156">Если этот параметр не выбран, то новая, оптимизированная для памяти таблица будет создана без строк.</span><span class="sxs-lookup"><span data-stu-id="f0490-156">If this option is not selected, the new memory-optimized table will be created with no rows.</span></span>  
  
 <span data-ttu-id="f0490-157">По умолчанию миграция таблицы будет выполняться как миграция устойчивой таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-157">The table will be migrated as a durable table by default</span></span>  
 <span data-ttu-id="f0490-158">In-Memory OLTP поддерживает неустойчивые таблицы с более высокой производительностью по сравнению с устойчивыми таблицами, оптимизированными для памяти.</span><span class="sxs-lookup"><span data-stu-id="f0490-158">In-Memory OLTP supports non-durable tables with superior performance compared to durable memory-optimized tables.</span></span> <span data-ttu-id="f0490-159">Однако данные в неустойчивой таблице будут утеряны после перезапуска сервера.</span><span class="sxs-lookup"><span data-stu-id="f0490-159">However, data in a non-durable table will be lost upon server restart.</span></span>  
  
 <span data-ttu-id="f0490-160">Если этот параметр выбран, помощник по оптимизации памяти создаст неустойчивую таблицу вместо устойчивой.</span><span class="sxs-lookup"><span data-stu-id="f0490-160">If this option is selected, the Memory-Optimization Advisor will create a non-durable table instead of a durable table.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="f0490-161">Выбирайте этот параметр, только если понимаете риск потери данных, связанный с неустойчивыми таблицами.</span><span class="sxs-lookup"><span data-stu-id="f0490-161">Select this option only if you understand the risk of data loss associated with non-durable tables.</span></span>  
  
 <span data-ttu-id="f0490-162">Чтобы продолжить, нажмите кнопку **Далее** .</span><span class="sxs-lookup"><span data-stu-id="f0490-162">Click **Next** to continue.</span></span>  
  
### <a name="review-primary-key-conversion"></a><span data-ttu-id="f0490-163">Просмотр преобразования первичного ключа</span><span class="sxs-lookup"><span data-stu-id="f0490-163">Review Primary Key Conversion</span></span>  
 <span data-ttu-id="f0490-164">Следующий экран — **Просмотр преобразования первичного ключа**.</span><span class="sxs-lookup"><span data-stu-id="f0490-164">The next screen is **Review Primary Key Conversion**.</span></span> <span data-ttu-id="f0490-165">Помощник по оптимизации проверяет наличие одного или нескольких первичных ключей в таблице и заполняет список столбцов на основе метаданных первичного ключа.</span><span class="sxs-lookup"><span data-stu-id="f0490-165">The Memory-Optimization Advisor will detect if there are one or more primary keys in the table, and populates the list of columns based on the primary key metadata.</span></span> <span data-ttu-id="f0490-166">В противном случае, если нужно перенести устойчивую, оптимизированную для памяти таблицу, необходимо создать первичный ключ.</span><span class="sxs-lookup"><span data-stu-id="f0490-166">Otherwise, if you wish to migrate to a durable memory-optimized table, you must create a primary key.</span></span>  
  
 <span data-ttu-id="f0490-167">Если первичный ключ не существует и таблица переносится в неустойчивую таблицу, этот экран не появляется.</span><span class="sxs-lookup"><span data-stu-id="f0490-167">If a primary key doesn't exist and the table is being migrated to a non-durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="f0490-168">Для текстовых столбцов (столбцы с типами `char`, `nchar`, `varchar` и `nvarchar`) следует выбрать соответствующие параметры сортировки.</span><span class="sxs-lookup"><span data-stu-id="f0490-168">For textual columns (columns with types `char`, `nchar`, `varchar`, and `nvarchar`) you must select an appropriate collation.</span></span> <span data-ttu-id="f0490-169">In-Memory OLTP поддерживает для столбцов в оптимизированной для памяти таблице только параметры сортировки BIN2 и не поддерживает параметры сортировки с дополнительными символами.</span><span class="sxs-lookup"><span data-stu-id="f0490-169">In-Memory OLTP only supports BIN2 collations for columns on a memory-optimized table and it does not support collations with supplementary characters.</span></span> <span data-ttu-id="f0490-170">Сведения о поддерживаемых параметрах сортировки и возможном влиянии изменений в параметрах сортировки см. в разделе [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) .</span><span class="sxs-lookup"><span data-stu-id="f0490-170">See [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) for information on the collations supported and the potential impact of a change in collation.</span></span>  
  
 <span data-ttu-id="f0490-171">Для первичного ключа можно настроить следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="f0490-171">You can configure the following parameters for the primary key:</span></span>  
  
 <span data-ttu-id="f0490-172">Выберите новое имя для этого первичного ключа</span><span class="sxs-lookup"><span data-stu-id="f0490-172">Select a new name for this primary key</span></span>  
 <span data-ttu-id="f0490-173">Имя первичного ключа для этой таблицы должно быть уникальным в пределах базы данных.</span><span class="sxs-lookup"><span data-stu-id="f0490-173">The primary key name for this table must be unique inside the database.</span></span> <span data-ttu-id="f0490-174">Изменить имя первичного ключа можно здесь.</span><span class="sxs-lookup"><span data-stu-id="f0490-174">You may change the name of the primary key here.</span></span>  
  
 <span data-ttu-id="f0490-175">Выберите тип этого первичного ключа</span><span class="sxs-lookup"><span data-stu-id="f0490-175">Select the type of this primary key</span></span>  
 <span data-ttu-id="f0490-176">In-Memory OLTP поддерживает 2 типа индексов в оптимизированной для памяти таблице.</span><span class="sxs-lookup"><span data-stu-id="f0490-176">In-Memory OLTP supports two types of indexes on a memory-optimized table:</span></span>  
  
-   <span data-ttu-id="f0490-177">Индекс NONCLUSTERED HASH.</span><span class="sxs-lookup"><span data-stu-id="f0490-177">A NONCLUSTERED HASH index.</span></span> <span data-ttu-id="f0490-178">Этот индекс лучше всего подходит для индексов с большим числом уточняющих запросов.</span><span class="sxs-lookup"><span data-stu-id="f0490-178">This index is best for indexes with many point lookups.</span></span> <span data-ttu-id="f0490-179">Число контейнеров для этого индекса можно задать в поле **Число контейнеров** .</span><span class="sxs-lookup"><span data-stu-id="f0490-179">You may configure the bucket count for this index in the **Bucket Count** field.</span></span>  
  
-   <span data-ttu-id="f0490-180">Индекс NONCLUSTERED.</span><span class="sxs-lookup"><span data-stu-id="f0490-180">A NONCLUSTERED index.</span></span> <span data-ttu-id="f0490-181">Этот тип индекса лучше всего подходит для индексов с большим количеством запросов в диапазоне.</span><span class="sxs-lookup"><span data-stu-id="f0490-181">This type of index is best for indexes with many range queries.</span></span> <span data-ttu-id="f0490-182">Порядок сортировки для каждого столбца можно настроить в списке **Столбец и порядок сортировки** .</span><span class="sxs-lookup"><span data-stu-id="f0490-182">You may configure the sort order for each column in the **Sort column and order** list.</span></span>  
  
 <span data-ttu-id="f0490-183">Сведения о том, индексы какого типа лучше подходят для конкретного первичного ключа, см. в разделе [Хэш-индексы](../../database-engine/hash-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="f0490-183">To understand the type of index best for your primary key, see [Hash Indexes](../../database-engine/hash-indexes.md).</span></span>  
  
 <span data-ttu-id="f0490-184">Выбрав параметры для первичного ключа, нажмите кнопку **Далее** .</span><span class="sxs-lookup"><span data-stu-id="f0490-184">Click **Next** after you make your primary key choices.</span></span>  
  
### <a name="review-index-conversion"></a><span data-ttu-id="f0490-185">Преобразование проверки индекса</span><span class="sxs-lookup"><span data-stu-id="f0490-185">Review Index Conversion</span></span>  
 <span data-ttu-id="f0490-186">Следующая страница — **Преобразование проверки индекса**.</span><span class="sxs-lookup"><span data-stu-id="f0490-186">The next page is **Review Index Conversion**.</span></span> <span data-ttu-id="f0490-187">Помощник по оптимизации проверяет, есть ли в таблице один или несколько индексов, и заполняет список столбцов и типов данных.</span><span class="sxs-lookup"><span data-stu-id="f0490-187">The Memory-Optimization Advisor will detect if there are one or more indexes in the table, and populates the list of columns and data type.</span></span> <span data-ttu-id="f0490-188">Параметры можно настроить на странице **Преобразование проверки индекса** аналогично предыдущей странице **Просмотр преобразования первичного ключа** .</span><span class="sxs-lookup"><span data-stu-id="f0490-188">The parameters you can configure in the **Review Index Conversion** page are similar to the previous, **Review Primary Key Conversion** page.</span></span>  
  
 <span data-ttu-id="f0490-189">Если таблица имеет только первичный ключ и миграция выполняется в устойчивую таблицу, этот экран не появляется.</span><span class="sxs-lookup"><span data-stu-id="f0490-189">If the table only has a primary key and it's being migrated to a durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="f0490-190">Приняв решение для каждого индекса в таблице, нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="f0490-190">After you make a decision for every index in your table, click **Next**.</span></span>  
  
### <a name="verify-migration-actions"></a><span data-ttu-id="f0490-191">Проверка действий миграции</span><span class="sxs-lookup"><span data-stu-id="f0490-191">Verify Migration Actions</span></span>  
 <span data-ttu-id="f0490-192">Следующая страница — **Проверка действий миграции**.</span><span class="sxs-lookup"><span data-stu-id="f0490-192">The next page is **Verify Migration Actions**.</span></span> <span data-ttu-id="f0490-193">Чтобы создать скрипт для операции миграции, нажмите кнопку **Скрипт** , чтобы создать скрипт [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f0490-193">To script the migration operation, click **Script** to generate a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="f0490-194">После этого скрипт можно изменить и выполнить.</span><span class="sxs-lookup"><span data-stu-id="f0490-194">You may then modify and execute the script.</span></span> <span data-ttu-id="f0490-195">Нажмите кнопку **Миграция** , чтобы начать миграцию таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-195">Click **Migrate** to begin the table migration.</span></span>  
  
 <span data-ttu-id="f0490-196">После завершения процесса обновите **обозреватель объектов** для просмотра новой, оптимизированной для памяти таблицы и старой дисковой таблицы.</span><span class="sxs-lookup"><span data-stu-id="f0490-196">After the process is finished, refresh **Object Explorer** to see the new memory-optimized table and the old disk-based table.</span></span> <span data-ttu-id="f0490-197">Старую таблицу можно сохранить или удалить по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="f0490-197">You can keep the old table or delete it at your convenience.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f0490-198">См. также:</span><span class="sxs-lookup"><span data-stu-id="f0490-198">See Also</span></span>  
 [<span data-ttu-id="f0490-199">Миграция в In-Memory OLTP</span><span class="sxs-lookup"><span data-stu-id="f0490-199">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  

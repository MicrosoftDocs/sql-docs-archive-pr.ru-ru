---
title: Поддерживаемые функции SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: c39f03a7-e223-4fd7-bd30-142e28f51654
author: rothja
ms.author: jroth
ms.openlocfilehash: e7eb4324d56c3ab45486063cb8097603ac3a416b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749872"
---
# <a name="supported-sql-server-features"></a>Поддерживаемые возможности SQL Server
  В этом разделе описаны возможности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые поддерживаются и не поддерживаются для использования с оптимизированными для памяти объектами.  
  
## <a name="ssnoversion-features-supported-for-in-memory-oltp"></a>Возможности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], поддерживаемые для OLTP в памяти  
 Следующие возможности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживаются для баз данных, которые содержат оптимизированные для памяти объекты, в том числе файловую группу, оптимизированную для памяти.  
  
 Сведения о поддерживаемых типах данных см. в разделе [Supported Data Types](supported-data-types-for-in-memory-oltp.md).  
  
-   Параметры и операции, поддерживаемые для оптимизированных для памяти таблиц. Дополнительные сведения см. в разделе [CREATE TABLE (Transact-SQL)](/sql/t-sql/statements/create-table-transact-sql).  
  
-   Параметры и операции, поддерживаемые для хранимых процедур, скомпилированных в собственном коде. Дополнительные сведения см. в статье [CREATE PROCEDURE (Transact-SQL)](/sql/t-sql/statements/create-procedure-transact-sql).  
  
-   Возможность доступа к оптимизированным для памяти таблицам с помощью интерпретации [!INCLUDE[tsql](../../../includes/tsql-md.md)]. Интерпретированный [!INCLUDE[tsql](../../../includes/tsql-md.md)] предоставляет эквивалент контактной зоны для доступа к таблицам, не оптимизированными для памяти, с помощью хранимых процедур, которые не были скомпилированы в собственном коде, и с помощью [!INCLUDE[tsql](../../../includes/tsql-md.md)]. Дополнительные сведения см. в статье [Доступ к таблицам, оптимизированным для памяти, с помощью интерпретируемых инструкций Transact-SQL](accessing-memory-optimized-tables-using-interpreted-transact-sql.md).  
  
-   Управление версиями и оптимистичный параллелизм. Дополнительные сведения см. в разделе [Transaction Isolation Levels](../../database-engine/transaction-isolation-levels.md).  
  
-   Резервное копирование и восстановление базы данных, содержащей оптимизированную для памяти файловую группу. Дополнительные сведения см. в разделе [резервное копирование и восстановление баз данных SQL Server](../backup-restore/back-up-and-restore-of-sql-server-databases.md).  
  
-   Представления каталога, динамические административные представления и расширенные события для поддержки. Дополнительные сведения см. в разделе [Системные представления, хранимые процедуры, динамические административные представления и типы ожидания для выполняющейся в памяти OLTP](../../database-engine/system-views-stored-procedures-dmvs-and-wait-types-for-in-memory-oltp.md).  
  
-   Управляющие объекты [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Дополнительные сведения см. в разделе [Поддержка управляющих объектов SQL Server SMO для In-Memory OLTP](sql-server-management-objects-support-for-in-memory-oltp.md).  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]. Дополнительные сведения см. в разделе [Поддержка среды SQL Server Management Studio для In-Memory OLTP](sql-server-management-studio-support-for-in-memory-oltp.md).  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell. Дополнительные сведения см. в разделе [Обзор SQL Server PowerShell](https://msdn.microsoft.com/library/cc281954\(SQL.105\).aspx).  
  
-   Массовый импорт и экспорт данных с использованием программы bcp. Дополнительные сведения см. в разделе [Массовый импорт и экспорт данных с использованием программы bcp (SQL Server)](../import-export/import-and-export-bulk-data-by-using-the-bcp-utility-sql-server.md).  
  
-   Восстановление после сбоя.  
  
-   Несколько контейнеров в оптимизированной для памяти файловой группе для хранения объектов OLTP в памяти и сокращения целевого времени восстановления (RTO).  
  
-   Блоки журнала транзакций [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] вычисляют контрольную сумму и выполняют проверку.  
  
-   Новая табличная подсказка SNAPSHOT. Дополнительные сведения см. в разделе [Табличные указания (Transact-SQL)](/sql/t-sql/queries/hints-transact-sql-table).  
  
-   Уровень базы данных COMPAT.  
  
-   Частично автономная база данных. Поддерживается проверка подлинности автономной базы данных. Однако все объекты OLTP в памяти отмечены как нарушающие вложение в DMV dm_db_uncontained_entities.  
  
-   Компонент Service Broker с ограничениями. Нет доступа к очереди из скомпилированной в собственном коде хранимой процедуры. Нет доступа к очереди в удаленной базе данных в транзакции, получающей доступ к оптимизированным для памяти таблицам.  
  
-   Отказоустойчивая кластеризация. в рамках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предложения AlwaysOn экземпляры отказоустойчивого кластера AlwaysOn используют функции отказоустойчивой кластеризации Windows Server (WSFC), чтобы обеспечить локальную высокую доступность посредством избыточности на уровне экземпляра сервера — экземпляра отказоустойчивого кластера (FCI). Дополнительные сведения см. в статье [Экземпляры отказоустойчивого кластера (режим AlwaysOn) (SQL Server)](../../sql-server/failover-clusters/windows/always-on-failover-cluster-instances-sql-server.md).  
  
-   Интеграция с AlwaysOn. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет несколько вариантов обеспечения высокого уровня доступности сервера или базы данных, включая AlwaysOn. Дополнительные сведения см. в разделе [Решения высокого уровня доступности (SQL Server)](../../sql-server/failover-clusters/high-availability-solutions-sql-server.md).  
  
-   Доставка журналов. Доставка журналов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] позволяет автоматически отправлять резервные копии журналов транзакций из базы данных — источника экземпляра сервера-источника в одну базу данных — получателя других экземпляров сервера-получателя или более. Дополнительные сведения см. в разделе [Сведения о доставке журналов (SQL Server)](../../database-engine/log-shipping/about-log-shipping-sql-server.md).  
  
-   Репликация транзакций в оптимизированные для памяти таблицы на подписчиках поддерживается с некоторыми ограничениями. Дополнительные сведения см. в разделе [Репликация на подписчиков оптимизированных для памяти таблиц](../replication/replication-to-memory-optimized-table-subscribers.md).  
  
-   Регулятор ресурсов. Регулятор ресурсов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] — это компонент, предназначенный для управления рабочей нагрузкой и использованием системных ресурсов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Resource Governor позволяет задать ограничения на объем ресурсов ЦП, памяти и количество физических операций ввода-вывода, которые могут использоваться для входящих запросов приложений. Дополнительные сведения см. в разделах [Managing Memory for In-Memory OLTP](../../database-engine/managing-memory-for-in-memory-oltp.md) и [Resource Governor](../resource-governor/resource-governor.md).  
  
-   OLTP в памяти имеет ограничения на поддерживаемые кодовые страницы для столбцов (var)char в оптимизированных для памяти таблицах и на параметры сортировки, используемые в индексах и скомпилированные в собственном коде в хранимых процедурах. Дополнительные сведения см. в разделе [Collations and Code Pages](../../database-engine/collations-and-code-pages.md).  
  
-   Поддержка BACPAC.  
  
## <a name="ssnoversion-features-not-supported-for-in-memory-oltp"></a>[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Возможности, которые не поддерживаются для In-Memory OLTP  
 Следующие возможности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не поддерживаются для баз данных, которые содержат оптимизированные для памяти объекты, включая файловую группу данных, оптимизированную для памяти.  
  
|Неподдерживаемая функция|Описание функции|  
|-------------------------|-------------------------|  
|Сжатие данных для оптимизированных для памяти таблиц.|Функцию сжатия данных можно использовать для сжатия данных внутри базы данных, а также уменьшения размера базы данных. Дополнительные сведения см. в разделе [Data Compression](../data-compression/data-compression.md).|  
|Секционирование оптимизированных для памяти таблиц и индексов HASH.|Данные секционированных таблиц и индексов подразделяются на блоки, которые могут быть распределены по нескольким файловым группам в базе данных. Дополнительные сведения см. в разделе [Partitioned Tables and Indexes](../partitions/partitioned-tables-and-indexes.md).|  
|Прозрачное шифрование данных (TDE) для оптимизированной для памяти файловой группы базы данных.|Функция прозрачного шифрования данных (TDE) выполняет в реальном времени шифрование и дешифрование файлов данных и журналов в операциях ввода-вывода. Дополнительные сведения см. в статье [Прозрачное шифрование данных (TDE)](../security/encryption/transparent-data-encryption.md).<br /><br /> Прозрачное шифрование данных можно включить в базе данных, которая содержит объекты OLTP в памяти. Записи журнала OLTP в памяти шифруются, если TDE включено. Файлы контрольных точек для долговечных таблиц не шифруются, даже если TDE включено для базы данных.|  
|Репликация|Конфигурации репликации, за исключением репликации транзакций, в оптимизированные для памяти таблицы на подписчиках несовместимы с таблицами или представлениями, которые ссылаются на оптимизированные для памяти таблицы. Репликация с помощью sync_mode = "моментальный снимок базы данных" не поддерживается, если имеется оптимизированная для памяти файловая группа. Дополнительные сведения см. в разделе [Репликация на подписчиков оптимизированных для памяти таблиц](../replication/replication-to-memory-optimized-table-subscribers.md).|  
|Режим MARS|Режим MARS не поддерживается для оптимизированных для памяти таблиц. Эта ошибка может также указывать на использование связанного сервера. Связанный сервер может использовать режим MARS. Связанные серверы не поддерживаются для оптимизированных для памяти таблиц. Вместо этого непосредственное подключайтесь к серверу и базе данных, где размещаются оптимизированные для памяти таблицы.|  
|Зеркальное отображение|Зеркальное отображение базы данных — это решение, нацеленное на повышение доступности базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Дополнительные сведения см. в разделе [Зеркальное отображение базы данных (SQL Server)](../../database-engine/database-mirroring/database-mirroring-sql-server.md).|  
|Повторная сборка журнала|Повторная сборка журнала с помощью прикрепления или ALTER DATABASE не поддерживается базами данных с файловой группой MEMORY_OPTIMIZED_DATA.|  
|Связанный сервер|Дополнительные сведения см. в разделе [Связанные серверы (компонент Database Engine)](../linked-servers/linked-servers-database-engine.md).|  
|С неполным протоколированием|Вне зависимости от модели восстановления базы данных все операции в устойчивых таблицах, оптимизированных для памяти, всегда полностью протоколируются.|  
|Минимальное протоколирование|Минимальное протоколирование не поддерживается для оптимизированных для памяти таблиц. Дополнительные сведения о минимальном протоколировании см. в статьях [Журнал транзакций &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) и [Предварительные условия для минимального протоколирования массового импорта данных](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md).|  
|отслеживание изменений|Отслеживание изменений можно включить для базы данных с объектами OLTP в памяти. Однако изменения в таблицах, оптимизированных для памяти, не отслеживаются.|  
|DDL, триггеры|Триггеры DDL уровня базы данных и уровня сервера не поддерживаются для таблиц OLTP в памяти и хранимых процедур, скомпилированных в собственном коде.|  
|Система отслеживания измененных данных (CDC)|Не следует включать CDC для базы данных, которая содержит объекты OLTP в памяти, так как это не позволяет выполнять некоторые операции, такие как DROP.|  
|Вложение базы данных|Вложение базы данных не поддерживается в базе данных с хранимыми процедурами, скомпилированными в собственном коде, и оптимизированными для памяти таблицами. Дополнительные сведения см. в разделе [Contained Databases](../databases/contained-databases.md).|  
|Контекстные соединения|Доступ к оптимизированным для памяти таблицам с помощью контекстного соединения из хранимых процедур CLR не поддерживается.|  
|Курсоры|Набор ключей и динамические курсоры в запросах, обращающихся к оптимизированным для памяти таблицам. Эти запросы становятся статическими и доступными только для чтения.|  
|TABLESTAMP|TABLESTAMP не поддерживается. Дополнительные сведения см. в разделе [FROM (Transact-SQL)](/sql/t-sql/queries/from-transact-sql).|  
|AUTO_CLOSE|AUTO_CLOSE не поддерживается. Дополнительные сведения см. в разделе [Set the AUTO_CLOSE Database Option to OFF](../policy-based-management/set-the-auto-close-database-option-to-off.md).|  
|Моментальные снимки базы данных|Моментальные снимки базы данных не поддерживаются. Дополнительные сведения см. в разделе [Моментальные снимки базы данных (SQL Server)](../databases/database-snapshots-sql-server.md).|  
|Поддержка транзакций в DDL|Транзакционный DDL не поддерживается в OLTP в памяти.|  
|Уведомления о событиях|Уведомления о событиях не поддерживаются. Дополнительные сведения см. в разделе [Event Notifications](../service-broker/event-notifications.md).|  
|Режим волокон|Режим волокон не поддерживается для In-Memory OLTP.|  
|Управление на основе политик (PBM).|Режимы предотвращения и только протоколирование PBM не поддерживаются. Наличие таких политик на сервере может помешать успешному выполнению DDL-библиотеки OLTP в памяти. Режимы по запросу и по расписанию поддерживаются.|  
|Развертывание и извлечение DACFX|Развертывание или извлечение платформы DAC не поддерживается в OLTP в памяти.|  
  
 За некоторыми исключениями, транзакции между базами данных не поддерживаются. В следующей таблице описываются варианты, которые поддерживаются, и соответствующие ограничения. (См. также [Межбазовые запросы](cross-database-queries.md).)  
  
|Базы данных|Разрешено|Описание|  
|---------------|-------------|-----------------|  
|Пользовательские базы данных, model и msdb|Нет|Запросы и транзакции между базами данных не поддерживаются.<br /><br /> Запросы и транзакции, получающие доступ к оптимизированным для памяти таблицам или хранимым процедурам, скомпилированным в собственном коде, не имеют доступа к другим базам данных, за исключением системных баз данных master (только для чтения) и tempdb.|  
|База данных ресурсов и tempdb|Да|Ограничений на транзакции между базами данных, которые, помимо одной пользовательской базы данных, применяют только базу данных ресурсов и tempdb, нет.|  
|master|Только для чтения|Транзакциям между базами данных, которые затрагивают OLTP в памяти и базу данных master, не удается выполнить фиксацию, если они выполняют запись в базу данных master. Допустимы межбазовые транзакции, которые только читают данные из базы данных master и применяют только одну пользовательскую базу данных.|  
  
## <a name="see-also"></a>См. также:  
 [Поддержка SQL Server для In-Memory OLTP](sql-server-support-for-in-memory-oltp.md)  
  
  

---
title: Поддержка служб SQL Server Integration Services для выполняющейся в памяти OLTP | Документация Майкрософт
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: ea82a9b9-e9ed-4d6f-b3fd-917f6c687ae3
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: de308fa3ecf85fca595733aa708736da5658b798
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658268"
---
# <a name="sql-server-integration-services-support-for-in-memory-oltp"></a><span data-ttu-id="ca25c-102">Поддержка служб SQL Server Integration Services для In-Memory OLTP</span><span class="sxs-lookup"><span data-stu-id="ca25c-102">SQL Server Integration Services Support for In-Memory OLTP</span></span>
  <span data-ttu-id="ca25c-103">Можно использовать таблицу, оптимизированную для памяти, представление, ссылающееся на подобные таблицы, или скомпилированную хранимую процедуру как источник или назначение для пакета служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] (SSIS).</span><span class="sxs-lookup"><span data-stu-id="ca25c-103">You can use a memory-optimized table, a view referencing memory-optimized tables, or a natively compiled stored procedure as the source or destination for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] (SSIS) package.</span></span> <span data-ttu-id="ca25c-104">Можно использовать [Источник ADO NET](../../integration-services/data-flow/ado-net-source.md), [Источник OLE DB](../../integration-services/data-flow/ole-db-source.md)или [Источник ODBC](../../integration-services/data-flow/odbc-source.md) в потоке данных пакета служб SSIS и настроить компонент источника для получения данных из оптимизированной для памяти таблицы или представления. Или же можно указать инструкцию SQL для выполнения скомпилированной хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="ca25c-104">You can use [ADO NET Source](../../integration-services/data-flow/ado-net-source.md), [OLE DB Source](../../integration-services/data-flow/ole-db-source.md), or [ODBC Source](../../integration-services/data-flow/odbc-source.md) in the data flow of an SSIS package and configure the source component to retrieve data from a memory-optimized table or a view, or specify a SQL statement to execute a natively compiled stored procedure.</span></span> <span data-ttu-id="ca25c-105">Аналогично можно использовать [Назначение ADO NET](../../integration-services/data-flow/ado-net-destination.md), [Назначение OLE DB](../../integration-services/data-flow/ole-db-destination.md)или [Назначение ODBC](../../integration-services/data-flow/odbc-destination.md) для загрузки данных в таблицу, оптимизированную для памяти, или в представление либо же указать инструкцию SQL для выполнения скомпилированной хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="ca25c-105">Similarly, you can use [ADO NET Destination](../../integration-services/data-flow/ado-net-destination.md), [OLE DB Destination](../../integration-services/data-flow/ole-db-destination.md), or [ODBC Destination](../../integration-services/data-flow/odbc-destination.md) to load data into a memory-optimized table or a view, or specify a SQL statement to execute a natively compiled stored procedure.</span></span>  
  
 <span data-ttu-id="ca25c-106">Можно настроить вышеупомянутые исходные и целевые компоненты в пакете служб SSIS для чтения и записи данных в таблицах и представлениях, оптимизированных для памяти, точно таким же образом, как и в случае с другими таблицами и представлениями [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca25c-106">You can configure the above mentioned source and destination components in an SSIS package to read from/write to memory-optimized tables and views in the same way as with other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tables and views.</span></span> <span data-ttu-id="ca25c-107">Однако при использовании компилированных хранимых процедур необходимо учитывать два важных аспекта, приведенные в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="ca25c-107">However, you need to be aware of the important points in the following section when using natively compiled stored procedures.</span></span>  
  
## <a name="invoking-a-natively-compiled-stored-procedure-from-an-ssis-package"></a><span data-ttu-id="ca25c-108">Вызов скомпилированной хранимой процедуры из пакета служб SSIS</span><span class="sxs-lookup"><span data-stu-id="ca25c-108">Invoking a natively compiled stored procedure from an SSIS Package</span></span>  
 <span data-ttu-id="ca25c-109">Для вызова скомпилированной хранимой процедуры из пакета служб SSIS рекомендуется использовать ODBC Source или ODBC Destination с помощью инструкции SQL формата: **\<procedure name>** без ключевого слова **EXEC**.</span><span class="sxs-lookup"><span data-stu-id="ca25c-109">To invoke a natively compiled stored procedure from an SSIS package, we recommend that you use an ODBC Source or ODBC Destination with an SQL statement of the format: **\<procedure name>** without the **EXEC** keyword.</span></span> <span data-ttu-id="ca25c-110">При использовании EXEC «ключевое слово» в инструкции SQL появится сообщение об ошибке, поскольку диспетчер соединений ODBC интерпретирует текст команды SQL в виде инструкции [!INCLUDE[tsql](../../includes/tsql-md.md)] , а не хранимой процедуры, а использование курсоров не поддерживается для выполнения в компилированных в собственном коде хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="ca25c-110">If you use the EXEC keyword in the SQL statement, you will see an error message because the ODBC connection manager interprets the SQL command text as a [!INCLUDE[tsql](../../includes/tsql-md.md)] statement rather than a stored procedure and use cursors, which are not supported for execution of natively compiled stored procedures.</span></span> <span data-ttu-id="ca25c-111">Диспетчер соединений обрабатывает инструкцию SQL без ключевого слова EXEC как вызов хранимой процедуры и не использует курсор.</span><span class="sxs-lookup"><span data-stu-id="ca25c-111">The connection manager treats the SQL statement without the EXEC keyword as a stored procedure call and will not use a cursor.</span></span>  
  
 <span data-ttu-id="ca25c-112">Можно также использовать ADO.NET и источник OLE DB для вызова скомпилированной хранимой процедуры, но рекомендуется использовать источник данных ODBC.</span><span class="sxs-lookup"><span data-stu-id="ca25c-112">You can also use ADO .NET Source and OLE DB Source to invoke a natively compiled stored procedure, but we recommend that you use ODBC Source.</span></span> <span data-ttu-id="ca25c-113">Если настроить источник ADO.NET для выполнения скомпилированных хранимых процедур, то появится сообщение об ошибке, поскольку поставщик данных для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (SqlClient), который использует ADO.NET Source по умолчанию, не поддерживает выполнение скомпилированных хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="ca25c-113">If you configure the ADO .NET Source to execute a natively compiled stored procedure, you will see an error message because the data provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (SqlClient), which the ADO .NET Source uses by default, does not support execution of natively compiled stored procedures.</span></span> <span data-ttu-id="ca25c-114">Источник ADO NET можно настроить на использование поставщика данных ODBC, поставщика OLE DB для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client.</span><span class="sxs-lookup"><span data-stu-id="ca25c-114">You can configure the ADO .NET Source to use the ODBC Data Provider, OLE DB Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client.</span></span> <span data-ttu-id="ca25c-115">Однако обратите внимание, что источник ODBC дает более высокую производительность, чем источник ADO.NET с поставщиком данных ODBC.</span><span class="sxs-lookup"><span data-stu-id="ca25c-115">However, note that the ODBC Source performs better than ADO .NET Source with ODBC Data Provider.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ca25c-116">См. также:</span><span class="sxs-lookup"><span data-stu-id="ca25c-116">See Also</span></span>  
 [<span data-ttu-id="ca25c-117">Поддержка SQL Server для In-Memory OLTP</span><span class="sxs-lookup"><span data-stu-id="ca25c-117">SQL Server Support for In-Memory OLTP</span></span>](sql-server-support-for-in-memory-oltp.md)  
  
  

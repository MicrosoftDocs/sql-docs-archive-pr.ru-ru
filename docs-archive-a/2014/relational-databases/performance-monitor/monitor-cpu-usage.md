---
title: Мониторинг использования ЦП | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- monitoring performance [SQL Server], CPU usage
- tuning databases [SQL Server], CPU usage
- processors [SQL Server], monitoring usage
- database performance [SQL Server], CPU usage
- monitoring CPU usage [SQL Server]
- server performance [SQL Server], CPU usage
- database monitoring [SQL Server], CPU usage
- monitoring [SQL Server], CPU usage
- processors [SQL Server]
- CPU [SQL Server], monitoring
- monitoring server performance [SQL Server], CPU usage
ms.assetid: 2a02a3b6-07b2-4ad0-8a24-670414d19812
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f08d49348fd25593f27a87f2b0123f7ce43e35b5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87739749"
---
# <a name="monitor-cpu-usage"></a>Мониторинг использования ЦП
  Периодически контролируйте экземпляр Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , чтобы определить, находятся ли уровни загрузки ЦП в стандартных диапазонах. Постоянный высокий уровень использования ЦП может указывать на необходимость обновления ЦП или на необходимость добавления нескольких процессоров. Кроме того, высокий уровень использования ЦП может указывать на плохо настроенное или плохо разработанное приложение. Оптимизация работы приложения может снизить уровень загрузки ЦП.  
  
 Эффективным способом определения уровня загрузки ЦП является использование счетчика **Процессор: % загруженности процессора** в служебной программе «Системный монитор». Этот счетчик отслеживает время, которое ЦП тратит на выполнение потока во время работы. Постоянный уровень загрузки ЦП в диапазоне от 80 до 90 % может указывать на необходимость обновления ЦП или на необходимость добавления нескольких процессоров. При работе с многопроцессорными системами следите за отдельным экземпляром упомянутого счетчика для каждого процессора. Это значение представляет суммарное процессорное время указанного процессора. Чтобы определить среднее для всех процессоров, воспользуйтесь вместо этого счетчиком **Система: % общего процессорного времени** .  
  
 Дополнительно можно контролировать следующие счетчики:  
  
-   **Процессор: % работы в привилегированном режиме**  
  
     Соответствует проценту процессорного времени, затраченного на выполнение команд ядра операционной системы Microsoft Windows, таких как обработка запросов ввода-вывода [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если значение этого счетчика постоянно высокое, в то время как счетчики для объекта **Физический диск** также имеют высокие значения, то необходимо рассмотреть вопрос об установке более быстрой и более эффективной дисковой подсистемы.  
  
    > [!NOTE]  
    >  На обработку запросов от различных контроллеров дисков и самих дисковых накопителей ядром операционной системы тратится различное количество времени. Эффективные контроллеры и дисковые накопители используют меньше привилегированного времени, оставляя больше времени для обработки запросов пользовательских приложений, увеличивая общую пропускную способность.  
  
-   **Процессор: % работы в пользовательском режиме**  
  
     Соответствует проценту времени работы процессора, которое он затрачивает на выполнение пользовательских приложений, например [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
-   **Система: Длина очереди процессора**.  
  
     Соответствует количеству потоков, ожидающих обработки процессором. Если потокам некоторого процесса требуется больше циклов процессора, чем это возможно, значит, узким местом системы является процессор. Если количество процессов, требующих обработки процессором, велико, необходимо установить более быстрый процессор. Или, в многопроцессорной системе, необходимо добавить еще один процессор.  
  
 При оценке использования процессора необходимо принять во внимание тип работы, выполняемой экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет много вычислений, таких как запросы на обработку статистических выражений или запросы к рабочей области, не требующие дисковых операций ввода-вывода, то может быть использовано 100 % процессорного времени. Если это приводит к снижению производительности других приложений, попробуйте изменить рабочую нагрузку. Например, выделите компьютер целиком для работы только экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 Уровни загрузки ЦП около 100 % при обработке многочисленных запросов клиентов могут указывать на то, что процессы стоят в очереди, ожидая обработки процессором, который является узким местом системы. Данная проблема может быть решена установкой более быстрых процессоров.  
  
  

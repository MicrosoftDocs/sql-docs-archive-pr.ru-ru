---
title: SQL Server, объект Databases | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], monitoring
- Databases object
- SQLServer:Databases
- Availability Groups [SQL Server], performance counters
ms.assetid: a7f9e7d4-fff4-4c72-8b3e-3f18dffc8919
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2f4f46bd388476934226e41d371c85fa13b94d23
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666513"
---
# <a name="sql-server-databases-object"></a><span data-ttu-id="dec61-102">SQL Server, объект Databases</span><span class="sxs-lookup"><span data-stu-id="dec61-102">SQL Server, Databases Object</span></span>
  <span data-ttu-id="dec61-103">Объект **SQLServer:Databases** в SQL Server содержит счетчики для контроля и отслеживания операций массового копирования, пропускной способности создания и восстановления резервных копий, а также действий, связанных с журналом транзакций.</span><span class="sxs-lookup"><span data-stu-id="dec61-103">The **SQLServer:Databases** object in SQL Server provides counters to monitor bulk copy operations, backup and restore throughput, and transaction log activities.</span></span> <span data-ttu-id="dec61-104">Контроль и отслеживание транзакций и журнала транзакций позволяют определить, насколько интенсивна деятельность пользователей в базе данных, и как быстро заполняется журнал транзакций.</span><span class="sxs-lookup"><span data-stu-id="dec61-104">Monitor transactions and the transaction log to determine how much user activity is occurring in the database and how full the transaction log is becoming.</span></span> <span data-ttu-id="dec61-105">Уровень активности пользователей определяет производительность базы данных и влияет на размеры журналов, блокировку и репликацию.</span><span class="sxs-lookup"><span data-stu-id="dec61-105">The amount of user activity can determine the performance of the database and affect log size, locking, and replication.</span></span> <span data-ttu-id="dec61-106">Отслеживание низкоуровневых операций в журнале для оценки активности пользователей и использования ресурсов помогает определить критические факторы производительности.</span><span class="sxs-lookup"><span data-stu-id="dec61-106">Monitoring low-level log activity to gauge user activity and resource usage can help you to identify performance bottlenecks.</span></span>  
  
 <span data-ttu-id="dec61-107">Одновременно можно отслеживать несколько экземпляров объекта **Databases** , каждый из которых представляет отдельную базу данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-107">Multiple instances of the **Databases** object, each representing a single database, can be monitored at the same time.</span></span>  
  
 <span data-ttu-id="dec61-108">Эта таблица описывает счетчики объекта **Databases** SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dec61-108">This table describes the SQL Server **Databases** counters.</span></span>  
  
|<span data-ttu-id="dec61-109">Счетчики объекта Databases SQL Server</span><span class="sxs-lookup"><span data-stu-id="dec61-109">SQL Server Databases counters</span></span>|<span data-ttu-id="dec61-110">Описание</span><span class="sxs-lookup"><span data-stu-id="dec61-110">Description</span></span>|  
|-----------------------------------|-----------------|  
|<span data-ttu-id="dec61-111">**Активные транзакции**</span><span class="sxs-lookup"><span data-stu-id="dec61-111">**Active Transactions**</span></span>|<span data-ttu-id="dec61-112">Количество активных транзакций в базе данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-112">Number of active transactions for the database.</span></span>|  
|<span data-ttu-id="dec61-113">**Пропускная способность резервного копирования и восстановления/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-113">**Backup/Restore Throughput/sec**</span></span>|<span data-ttu-id="dec61-114">Пропускная способность операций чтения и записи при резервном копировании или восстановлении базы данных, в секунду.</span><span class="sxs-lookup"><span data-stu-id="dec61-114">Read/write throughput for backup and restore operations of a database per second.</span></span> <span data-ttu-id="dec61-115">Например, можно оценить изменение скорости выполнения резервного копирования при добавлении параллельно используемых устройств резервного копирования или при переходе на более быстрые устройства.</span><span class="sxs-lookup"><span data-stu-id="dec61-115">For example, you can measure how the performance of the database backup operation changes when more backup devices are used in parallel or when faster devices are used.</span></span> <span data-ttu-id="dec61-116">Сведения о пропускной способности операций резервного копирования и восстановления баз данных позволяет определить скорость и состояние выполняемых операций резервного копирования и восстановления.</span><span class="sxs-lookup"><span data-stu-id="dec61-116">Throughput of a database backup or restore operation allows you to determine the progress and performance of your backup and restore operations.</span></span>|  
|<span data-ttu-id="dec61-117">**Массовое копирование строк/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-117">**Bulk Copy Rows/sec**</span></span>|<span data-ttu-id="dec61-118">Количество строк, скопированных за секунду при выполнении операции массового копирования.</span><span class="sxs-lookup"><span data-stu-id="dec61-118">Number of rows bulk copied per second.</span></span>|  
|<span data-ttu-id="dec61-119">**Пропускная способность массового копирования/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-119">**Bulk Copy Throughput/sec**</span></span>|<span data-ttu-id="dec61-120">Объем данных, скопированных при операции массового копирования в секунду (в килобайтах).</span><span class="sxs-lookup"><span data-stu-id="dec61-120">Amount of data bulk copied (in kilobytes) per second.</span></span>|  
|<span data-ttu-id="dec61-121">**Записи таблицы фиксации**</span><span class="sxs-lookup"><span data-stu-id="dec61-121">**Commit table entries**</span></span>|<span data-ttu-id="dec61-122">Размер находящейся в памяти части таблицы фиксации для базы данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-122">The size of the in-memory portion of the commit table for the database.</span></span> <span data-ttu-id="dec61-123">Дополнительные сведения см. в разделе [sys.dm_tran_commit_table (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/change-tracking-sys-dm-tran-commit-table).</span><span class="sxs-lookup"><span data-stu-id="dec61-123">For more information, see [sys.dm_tran_commit_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/change-tracking-sys-dm-tran-commit-table).</span></span>|  
|<span data-ttu-id="dec61-124">**Размер файлов данных (КБ)**</span><span class="sxs-lookup"><span data-stu-id="dec61-124">**Data File(s) Size (KB)**</span></span>|<span data-ttu-id="dec61-125">Совокупный размер (в килобайтах) всех файлов данных базы данных, включая любое автоматическое увеличение размера файлов данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-125">Cumulative size (in kilobytes) of all the data files in the database including any automatic growth.</span></span> <span data-ttu-id="dec61-126">Отслеживание этого счетчика может быть полезно для определения верного размера **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="dec61-126">Monitoring this counter is useful, for example, for determining the correct size of **tempdb**.</span></span>|  
|<span data-ttu-id="dec61-127">**Логический просмотр DBCC, байт/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-127">**DBCC Logical Scan Bytes/sec**</span></span>|<span data-ttu-id="dec61-128">Количество байтов, считанных за секунду операциями логического просмотра при выполнении команд консоли базы данных (DBCC).</span><span class="sxs-lookup"><span data-stu-id="dec61-128">Number of logical read scan bytes per second for database console commands (DBCC).</span></span>|  
|<span data-ttu-id="dec61-129">**Коэффициент попаданий в кэш журнала**</span><span class="sxs-lookup"><span data-stu-id="dec61-129">**Log Cache Hit Ratio**</span></span>|<span data-ttu-id="dec61-130">Процент операций чтения журнала, получивших данных из кэша журнала.</span><span class="sxs-lookup"><span data-stu-id="dec61-130">Percentage of log cache reads satisfied from the log cache.</span></span>|  
|<span data-ttu-id="dec61-131">**Чтений кэша журнала/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-131">**Log Cache Reads/sec**</span></span>|<span data-ttu-id="dec61-132">Количество операций чтения, выполненных за секунду из кэша менеджера журнала.</span><span class="sxs-lookup"><span data-stu-id="dec61-132">Reads performed per second through the log manager cache.</span></span>|  
|<span data-ttu-id="dec61-133">**Размер файлов журнала (КБ)**</span><span class="sxs-lookup"><span data-stu-id="dec61-133">**Log File(s) Size (KB)**</span></span>|<span data-ttu-id="dec61-134">Совокупный размер (в килобайтах) всех файлов журнала транзакций в базе данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-134">Cumulative size (in kilobytes) of all the transaction log files in the database.</span></span>|  
|<span data-ttu-id="dec61-135">**Используемый размер файлов журнала (КБ)**</span><span class="sxs-lookup"><span data-stu-id="dec61-135">**Log File(s) Used Size (KB)**</span></span>|<span data-ttu-id="dec61-136">Совокупный размер используемого пространства во всех файлах журнала базы данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-136">The cumulative used size of all the log files in the database.</span></span>|  
|<span data-ttu-id="dec61-137">**Время ожидания записи журнала на диск**</span><span class="sxs-lookup"><span data-stu-id="dec61-137">**Log Flush Wait Time**</span></span>|<span data-ttu-id="dec61-138">Совокупное время ожидания записи журнала на диск (в миллисекундах).</span><span class="sxs-lookup"><span data-stu-id="dec61-138">Total wait time (in milliseconds) to flush the log.</span></span> <span data-ttu-id="dec61-139">В базе данных-получателе в режиме AlwaysOn это значение указывает период ожидания для записи на диск записей журнала.</span><span class="sxs-lookup"><span data-stu-id="dec61-139">On an AlwaysOn secondary database, this value indicates the wait time for log records to be hardened to disk.</span></span>|  
|<span data-ttu-id="dec61-140">**Число ожиданий в секунду записи журнала на диск**</span><span class="sxs-lookup"><span data-stu-id="dec61-140">**Log Flush Waits/sec**</span></span>|<span data-ttu-id="dec61-141">Число операций фиксации в секунду, ожидающих записи журнала на диск.</span><span class="sxs-lookup"><span data-stu-id="dec61-141">Number of commits per second waiting for the log flush.</span></span>|  
|<span data-ttu-id="dec61-142">**Время записи журнала на диск (мс)**</span><span class="sxs-lookup"><span data-stu-id="dec61-142">**Log Flush Write Time (ms)**</span></span>|<span data-ttu-id="dec61-143">Время в миллисекундах для выполнения операций записи при сбросе журнала на диск, которые были выполнены в последнюю секунду.</span><span class="sxs-lookup"><span data-stu-id="dec61-143">Time in milliseconds for performing writes of log flushes that were completed in the last second.</span></span>|  
|<span data-ttu-id="dec61-144">**Записей журнала на диск в секунду**</span><span class="sxs-lookup"><span data-stu-id="dec61-144">**Log Flushes/sec**</span></span>|<span data-ttu-id="dec61-145">Число записей журнала на диск в секунду.</span><span class="sxs-lookup"><span data-stu-id="dec61-145">Number of log flushes per second.</span></span>|  
|<span data-ttu-id="dec61-146">**Увеличение журнала**</span><span class="sxs-lookup"><span data-stu-id="dec61-146">**Log Growths**</span></span>|<span data-ttu-id="dec61-147">Общее число выполнений операции расширения журнала транзакций базы данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-147">Total number of times the transaction log for the database has been expanded.</span></span>|  
|<span data-ttu-id="dec61-148">**Сжатие журнала**</span><span class="sxs-lookup"><span data-stu-id="dec61-148">**Log Shrinks**</span></span>|<span data-ttu-id="dec61-149">Общее число выполнений операции сжатия журнала транзакций базы данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-149">Total number of times the transaction log for the database has been shrunk.</span></span>|  
|<span data-ttu-id="dec61-150">**Неудачных обращений к кэшу пула журнала/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-150">**Log Pool Cache Misses/sec**</span></span>|<span data-ttu-id="dec61-151">Количество запросов, при выполнении которых блок журнала отсутствовал в пуле журналов.</span><span class="sxs-lookup"><span data-stu-id="dec61-151">Number of requests for which the log block was not available in the log pool.</span></span> <span data-ttu-id="dec61-152">*Пул журнала* — кэш в памяти для журналов транзакций.</span><span class="sxs-lookup"><span data-stu-id="dec61-152">The *log pool* is an in-memory cache of the transaction log.</span></span> <span data-ttu-id="dec61-153">Этот кэш используется для оптимизации чтения журнала для восстановления, репликации транзакций, отмены и [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dec61-153">This cache is used to optimize reading the log for recovery, transaction replication, rollback, and [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span>|  
|<span data-ttu-id="dec61-154">**Операций чтения диска пула журнала/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-154">**Log Pool Disk Reads/sec**</span></span>|<span data-ttu-id="dec61-155">Число операций чтения диска, которые выдал пул журнала для получения блоков журнала.</span><span class="sxs-lookup"><span data-stu-id="dec61-155">Number of disk reads that the log pool issued to fetch log blocks.</span></span>|  
|<span data-ttu-id="dec61-156">**Запросов пула журнала/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-156">**Log Pool Requests/sec**</span></span>|<span data-ttu-id="dec61-157">Количество запросов блока журнала, обрабатываемых пулом журнала.</span><span class="sxs-lookup"><span data-stu-id="dec61-157">The number of log-block requests processed by the log pool.</span></span>|  
|<span data-ttu-id="dec61-158">**Усечения журнала**</span><span class="sxs-lookup"><span data-stu-id="dec61-158">**Log Truncations**</span></span>|<span data-ttu-id="dec61-159">Количество раз, когда журнал транзакций был сжат.</span><span class="sxs-lookup"><span data-stu-id="dec61-159">The number of times the transaction log has been shrunk.</span></span>|  
|<span data-ttu-id="dec61-160">**Процент использования журнала**</span><span class="sxs-lookup"><span data-stu-id="dec61-160">**Percent Log Used**</span></span>|<span data-ttu-id="dec61-161">Процент используемого пространства журнала.</span><span class="sxs-lookup"><span data-stu-id="dec61-161">Percentage of space in the log that is in use.</span></span>|  
|<span data-ttu-id="dec61-162">**Скорость активных транзакций репликации**</span><span class="sxs-lookup"><span data-stu-id="dec61-162">**Repl. Pending Xacts**</span></span>|<span data-ttu-id="dec61-163">Число транзакций в журнале транзакций базы данных публикации, которые отмечены для репликации, но еще не доставлены в базу данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="dec61-163">Number of transactions in the transaction log of the publication database marked for replication, but not yet delivered to the distribution database.</span></span>|  
|<span data-ttu-id="dec61-164">**Скорость транзакций репликации**</span><span class="sxs-lookup"><span data-stu-id="dec61-164">**Repl. Trans. Rate**</span></span>|<span data-ttu-id="dec61-165">Число транзакций, читаемое за секунду из журнала транзакций базы данных публикации и помещаемое в базу данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="dec61-165">Number of transactions per second read out of the transaction log of the publication database and delivered to the distribution database.</span></span>|  
|<span data-ttu-id="dec61-166">**Передача сжатых данных, байт/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-166">**Shrink Data Movement Bytes/sec**</span></span>|<span data-ttu-id="dec61-167">Объем данных, перемещаемых за секунду операциями автосжатия или инструкциями DBCC SHRINKDATABASE или DBCC SHRINKFILE.</span><span class="sxs-lookup"><span data-stu-id="dec61-167">Amount of data being moved per second by autoshrink operations, or DBCC SHRINKDATABASE or DBCC SHRINKFILE statements.</span></span>|  
|<span data-ttu-id="dec61-168">**Отслеживаемых транзакций/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-168">**Tracked transactions/sec**</span></span>|<span data-ttu-id="dec61-169">Количество зафиксированных транзакций, записанных в таблицу фиксации для базы данных.</span><span class="sxs-lookup"><span data-stu-id="dec61-169">Number of committed transactions recorded in the commit table for the database.</span></span>|  
|<span data-ttu-id="dec61-170">**Транзакций/с**</span><span class="sxs-lookup"><span data-stu-id="dec61-170">**Transactions/sec**</span></span>|<span data-ttu-id="dec61-171">Количество начатых в базе данных за секунду транзакций.</span><span class="sxs-lookup"><span data-stu-id="dec61-171">Number of transactions started for the database per second.</span></span><br /><br /> <span data-ttu-id="dec61-172">**Транзакций в секунду** не учитывает транзакции только с XTP (транзакции, запущенные скомпилированной в собственном коде хранимой процедурой).</span><span class="sxs-lookup"><span data-stu-id="dec61-172">**Transactions/sec** does not count XTP-only transactions (transactions started by a natively compiled stored procedure)..</span></span>|  
|<span data-ttu-id="dec61-173">**Транзакций записи/сек**</span><span class="sxs-lookup"><span data-stu-id="dec61-173">**Write Transactions/sec**</span></span>|<span data-ttu-id="dec61-174">Число транзакций, которые производили запись в базу данных и были зафиксированы, за последнюю секунду.</span><span class="sxs-lookup"><span data-stu-id="dec61-174">Number of transactions that wrote to the database and committed, in the last second.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="dec61-175">См. также:</span><span class="sxs-lookup"><span data-stu-id="dec61-175">See Also</span></span>  
 <span data-ttu-id="dec61-176">[Наблюдение за использованием ресурсов (системный монитор)](monitor-resource-usage-system-monitor.md) </span><span class="sxs-lookup"><span data-stu-id="dec61-176">[Monitor Resource Usage &#40;System Monitor&#41;](monitor-resource-usage-system-monitor.md) </span></span>  
 [<span data-ttu-id="dec61-177">SQL Server, реплика базы данных</span><span class="sxs-lookup"><span data-stu-id="dec61-177">SQL Server, Database Replica</span></span>](sql-server-database-replica.md)  
  
  

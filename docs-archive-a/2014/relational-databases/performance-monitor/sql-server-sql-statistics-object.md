---
title: Объект статистики SQL (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:SQL Statistics
- SQL Statistics object
ms.assetid: da7dbb4b-f632-45a0-b1ab-c35cc2695c86
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 8aba118f93a9a4f38179e8e7c5156eecc24012ef
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87729394"
---
# <a name="sql-server-sql-statistics-object"></a>SQL Server, объект SQL Statistics
  Объект **SQLServer: статистика SQL** в Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обеспечивает работу счетчиков для наблюдения компиляции и типов запросов, отправляемых экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Наблюдение за числом компиляций и повторных компиляций запросов и числа пакетов, полученных экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , дает представление о том, как быстро [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет запросы пользователей и насколько эффективно их обрабатывает оптимизатор запросов.  
  
 Компиляция занимает в обработке запроса значительную часть времени. Чтобы сэкономить на стоимости компиляции, компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] сохраняет компилированный план запроса в кэше запросов. Целью кэширования является снижение числа компиляций путем сохранения уже откомпилированных запросов для дальнейшего повторного использования, избавляя от необходимости повторной компиляции аналогичных запросов, которые могут поступить позже. Однако каждый уникальный запрос должен быть скомпилирован хотя бы однажды. Компиляция запросов может быть вызвана следующими факторами:  
  
-   изменением схемы, включая базовые изменения (добавление в таблицу столбцов или индексов) или статистической схемой (вставка или удаление значительного числа строк в таблице);  
  
-   изменением среды (инструкцией SET). Изменениями параметров сеанса (например: повторную компиляцию запроса может вызвать предложение ANSI_PADDING или ANSI_NULLS).  
  
 Дополнительные сведения о простой и принудительной параметризации см. в статье [ALTER DATABASE (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql).  
  
 Это счетчики [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Статистика SQL**.  
  
|Счетчики SQL Server статистика SQL|Описание|  
|----------------------------------------|-----------------|  
|**Попыток автопараметризации/с**|Число попыток автоматической параметризации, выполненных за секунду. Общий итог должен быть равен сумме ошибочных, надежных и ненадежных автоматических параметризаций. Автоматическая параметризация возникает в том случае, когда экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] пытается параметризовать запрос [!INCLUDE[tsql](../../../includes/tsql-md.md)] , замещая некоторые из литералов параметрами, чтобы повторно использовать из кэша как можно больше похожих планов выполнения. Автоматическая параметризация в более поздних версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]называется «простой параметризацией». Этот счетчик не учитывает принудительные параметризации.|  
|**Запросов пакетов/с**|Число пакетов команд [!INCLUDE[tsql](../../../includes/tsql-md.md)] , полученных за секунду. На эту статистику влияют любые ограничения (ввод-вывод, число пользователей, размер кэша, сложность запросов и т. д.). Высокое число запросов пакетов свидетельствует о высокой пропускной способности.|  
|**Сбоев автопараметризации/с**|Число ошибочных попыток автоматической параметризации, выполненных за секунду. Это число обычно невелико. Автоматическая параметризация в более поздних версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]называется «простой параметризацией».|  
|**Вынужденные параметризации/с**|Число успешных принудительных параметризаций в секунду.|  
|**Число выполнений структурированных планов/сек**|Число выполнений плана в секунду, когда план запроса создается с помощью структуры плана.|  
|**Число выполнений неструктурированных планов/сек**|Число выполненных планов в секунду, когда не удается обработать структуру плана во время его создания. Структура плана не рассматривалась, а выполненный план создан путем обычной компиляции.|  
|**Безопасных автопараметризаций/с**|Число попыток надежных автоматических параметризаций в секунду. Надежность означает, что кэшированный план выполнения может быть совместно использован несколькими похожими инструкциями [!INCLUDE[tsql](../../../includes/tsql-md.md)] . [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет множество попыток автоматической параметризации; некоторые из них оказываются надежными, а остальные — ошибочными. Автоматическая параметризация в более поздних версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]называется «простой параметризацией». Этот счетчик не включает принудительные параметризации.|  
|**Скорость предупреждений SQL**|Число запросов «Внимание» в секунду. «Внимание» — это запрос, выдаваемый клиентом для завершения текущего выполняемого запроса.|  
|**Компиляций SQL/с**|Число компиляций SQL, выполненных за секунду. Указывает число раз, когда вводился путь компиляции кода. Включает повторные компиляции на уровне инструкции в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. После того как активность пользователя [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] стабилизировалась, это значение изменяется незначительно.|  
|**Повторных компиляций SQL/с**|Число повторных компиляций инструкций в секунду. Подсчитывает число повторных компиляций инструкций. Обычно следует стремиться к снижению этого значения.|  
|**Небезопасных автопараметризаций/с**|Число ненадежных попыток автоматической параметризации, выполненных за секунду. Например: если запрос обладает какими-либо характеристиками, препятствующими совместному использованию его плана из кэша, он определяется как ненадежный. В это число не входят принудительные параметризации.|  
  
## <a name="see-also"></a>См. также:  
 [SQL Server, объект Plan Cache](sql-server-plan-cache-object.md)   
 [Наблюдение за использованием ресурсов (системный монитор)](monitor-resource-usage-system-monitor.md)  
  
  

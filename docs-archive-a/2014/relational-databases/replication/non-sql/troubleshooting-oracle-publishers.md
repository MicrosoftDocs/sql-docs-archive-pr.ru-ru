---
title: Диагностика издателей Oracle | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Oracle publishing [SQL Server replication], troubleshooting
- troubleshooting [SQL Server replication], Oracle publishing
ms.assetid: be94f1c1-816b-4b1d-83f6-2fd6f5807ab7
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4097b2c185b6dde307cd9b295d3b5b32f5797649
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657639"
---
# <a name="troubleshooting-oracle-publishers"></a><span data-ttu-id="ad3f6-102">Диагностика издателей Oracle</span><span class="sxs-lookup"><span data-stu-id="ad3f6-102">Troubleshooting Oracle Publishers</span></span>
  <span data-ttu-id="ad3f6-103">В этой теме рассматривается ряд вопросов, которые могут возникнуть при настройке и использовании издателя Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-103">This topic lists a number of issues that might arise when configuring and using an Oracle Publisher.</span></span>  
  
## <a name="an-error-is-raised-regarding-oracle-client-and-networking-software"></a><span data-ttu-id="ad3f6-104">Ошибка, касающаяся клиентского и сетевого программного обеспечения Oracle</span><span class="sxs-lookup"><span data-stu-id="ad3f6-104">An Error Is Raised Regarding Oracle Client and Networking Software</span></span>  
 <span data-ttu-id="ad3f6-105">Учетной записи, под которой в распространителе выполняется [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], должны быть предоставлены разрешения на чтение и выполнение для каталога (и всех подкаталогов), в котором установлено клиентское сетевое программное обеспечение Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-105">The account under which [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs on the Distributor must be granted read and execute permissions for the directory (and all subdirectories) in which the Oracle client networking software is installed.</span></span> <span data-ttu-id="ad3f6-106">Если разрешения не предоставляются или клиентские компоненты Oracle не установлены должным образом, пользователь получает следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-106">If the permissions are not granted or the Oracle client components are not installed properly, you will receive the following error message:</span></span>  
  
 <span data-ttu-id="ad3f6-107">«Не удалось подключиться к серверу с помощью [поставщика Microsoft OLE DB для Oracle].</span><span class="sxs-lookup"><span data-stu-id="ad3f6-107">"Connection to server failed with [Microsoft OLE DB Provider for Oracle].</span></span> <span data-ttu-id="ad3f6-108">Клиентские и сетевые компоненты Oracle не найдены.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-108">Oracle client and networking components were not found.</span></span> <span data-ttu-id="ad3f6-109">Эти компоненты поставляются корпорацией Oracle и являются частью установочного пакета клиентского программного обеспечения Oracle 7.3.3 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-109">These components are supplied by Oracle Corporation and are part of the Oracle Version 7.3.3 or later client software installation.</span></span> <span data-ttu-id="ad3f6-110">Поставщик не может функционировать, пока эти компоненты не будут установлены».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-110">Provider is unable to function until these components are installed."</span></span>  
  
 <span data-ttu-id="ad3f6-111">Если на распространителе устанавливается подходящее клиентское программное обеспечение Oracle, то убедитесь в том, что [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] остановлен, а затем перезапустите его после завершения установки клиентского ПО.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-111">If an appropriate Oracle client has been installed at the Distributor, ensure that [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] was stopped and then restarted after the client installation completed.</span></span> <span data-ttu-id="ad3f6-112">Это необходимо [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] для распознавания клиентских компонентов.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-112">This is required in order for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to recognize the client components.</span></span>  
  
 <span data-ttu-id="ad3f6-113">Если проверено, что эти разрешения предоставлены и что компоненты установлены должным образом, но эта ошибка продолжает возникать, убедитесь в правильности значений настроек в разделе реестра HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSDTC\MTxOCI.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-113">If you have verified that permissions are granted and that components are installed correctly, but this error persists, verify that the registry settings at HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSDTC\MTxOCI are correct:</span></span>  
  
-   <span data-ttu-id="ad3f6-114">Для Oracle 10g правильными являются следующие значения настроек:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-114">For Oracle 10g, the correct settings are</span></span>  
  
    -   <span data-ttu-id="ad3f6-115">OracleOciLib = oci.dll</span><span class="sxs-lookup"><span data-stu-id="ad3f6-115">OracleOciLib = oci.dll</span></span>  
  
    -   <span data-ttu-id="ad3f6-116">OracleSqlLib = orasql10.dll</span><span class="sxs-lookup"><span data-stu-id="ad3f6-116">OracleSqlLib = orasql10.dll</span></span>  
  
    -   <span data-ttu-id="ad3f6-117">OracleXaLib = oraclient10.dll</span><span class="sxs-lookup"><span data-stu-id="ad3f6-117">OracleXaLib = oraclient10.dll</span></span>  
  
-   <span data-ttu-id="ad3f6-118">Для Oracle 9i правильными являются следующие значения настроек:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-118">For Oracle 9i, the correct settings are</span></span>  
  
    -   <span data-ttu-id="ad3f6-119">OracleOciLib = oci.dll</span><span class="sxs-lookup"><span data-stu-id="ad3f6-119">OracleOciLib = oci.dll</span></span>  
  
    -   <span data-ttu-id="ad3f6-120">OracleSqlLib = orasql9.dll</span><span class="sxs-lookup"><span data-stu-id="ad3f6-120">OracleSqlLib = orasql9.dll</span></span>  
  
    -   <span data-ttu-id="ad3f6-121">OracleXaLib = oraclient9.dll</span><span class="sxs-lookup"><span data-stu-id="ad3f6-121">OracleXaLib = oraclient9.dll</span></span>  
  
## <a name="the-sql-server-distributor-cannot-connect-to-the-oracle-database-instance"></a><span data-ttu-id="ad3f6-122">Распространителю SQL Server не удается подключиться к экземпляру базы данных Oracle</span><span class="sxs-lookup"><span data-stu-id="ad3f6-122">The SQL Server Distributor Cannot Connect to the Oracle Database Instance</span></span>  
 <span data-ttu-id="ad3f6-123">Если распространителю [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не удается подключиться к издателю Oracle, необходимо убедиться в следующем:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-123">If the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor cannot connect to the Oracle Publisher, ensure that:</span></span>  
  
-   <span data-ttu-id="ad3f6-124">Необходимое программное обеспечение Oracle установлено на распространителе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-124">The necessary Oracle software is installed on the Distributor.</span></span>  
  
-   <span data-ttu-id="ad3f6-125">База данных Oracle доступна в режиме в «сети» и к ней не удается подключиться при помощи такого средства, как SQL\*Plus.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-125">The Oracle database is online and you can connect to it using a tool like SQL\*Plus.</span></span>  
  
-   <span data-ttu-id="ad3f6-126">Имя входа, которое репликация использует для подключения к издателю Oracle, имеет достаточно разрешений.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-126">The login replication uses to connect to the Oracle Publisher has sufficient permissions.</span></span> <span data-ttu-id="ad3f6-127">Дополнительные сведения см. в статье [Настройка издателя Oracle](configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-127">For more information, see [Configure an Oracle Publisher](configure-an-oracle-publisher.md).</span></span>  
  
-   <span data-ttu-id="ad3f6-128">Имена TNS, определенные во время настройки издателя Oracle, приводятся в файле tnsnames.ora.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-128">The TNS names defined during configuration of the Oracle Publisher are listed in the tnsnames.ora file.</span></span>  
  
-   <span data-ttu-id="ad3f6-129">Используются правильные значения Oracle Home и пути.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-129">The correct Oracle Home and path are used.</span></span> <span data-ttu-id="ad3f6-130">Даже если есть только один набор исполняемых файлов Oracle, установленных на распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , проверьте, чтобы были правильно установлены переменные среды, относящиеся к Oracle Home.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-130">Even if you have only one set of Oracle binaries installed on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, ensure that the environment variables related to the Oracle Home are set properly.</span></span> <span data-ttu-id="ad3f6-131">При изменении значений переменных среды необходимо остановить и перезапустить [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , чтобы эти изменения вступили в действие.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-131">If you change environment variable values, you must stop and restart [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] for the change to take effect.</span></span>  
  
 <span data-ttu-id="ad3f6-132">Дополнительные сведения о настройке и проверке подключения см. в подразделе "Установка и настройка клиентского сетевого программного обеспечения Oracle на распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]" раздела [Настройка издателя Oracle](configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-132">For more information about configuring and testing connectivity, see "Installing and Configuring Oracle Client Networking Software on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor" in [Configure an Oracle Publisher](configure-an-oracle-publisher.md).</span></span>  
  
## <a name="the-oracle-publisher-is-associated-with-another-distributor"></a><span data-ttu-id="ad3f6-133">Издатель Oracle связан с другим распространителем</span><span class="sxs-lookup"><span data-stu-id="ad3f6-133">The Oracle Publisher Is Associated with Another Distributor</span></span>  
 <span data-ttu-id="ad3f6-134">Издатель Oracle может быть связан только с одним распространителем [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ad3f6-134">An Oracle Publisher can only be associated with one [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor.</span></span> <span data-ttu-id="ad3f6-135">Если с издателем Oracle связан иной распространитель, он должен быть удален перед использованием другого распространителя.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-135">If a different Distributor is associated with the Oracle Publisher, it must be dropped before another Distributor can be used.</span></span> <span data-ttu-id="ad3f6-136">Если вначале не удалить распространитель, выводится одно из следующих сообщений об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-136">If the Distributor is not dropped first, you will receive one of the following error messages:</span></span>  
  
-   <span data-ttu-id="ad3f6-137">«Экземпляр "\<*OraclePublisherName*>" сервера Oracle ранее использовал "\<*SQLServerDistributorName*>" в качестве распространителя.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-137">"Oracle server instance '\<*OraclePublisherName*>' has been previously configured to use '\<*SQLServerDistributorName*>' as its Distributor.</span></span> <span data-ttu-id="ad3f6-138">Чтобы использовать "\<*NewSQLServerDistributorName*>" в качестве его распространителя, необходимо удалить текущую конфигурацию репликации на экземпляре сервера Oracle, в результате чего будут удалены все публикации на этом экземпляре сервера».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-138">To begin using '\<*NewSQLServerDistributorName*>' as its Distributor, you must remove the current replication configuration on the Oracle server instance, which will delete all publications on that server instance."</span></span>  
  
-   <span data-ttu-id="ad3f6-139">«Сервер Oracle "\<*OracleServerName*>" уже определен в качестве издателя "\<*OraclePublisherName*>" на распространителе "\<*SQLServerDistributorName*>. *\<DistributionDatabaseName>* ".</span><span class="sxs-lookup"><span data-stu-id="ad3f6-139">"Oracle server '\<*OracleServerName*>' is already defined as publisher '\<*OraclePublisherName*>' on distributor '\<*SQLServerDistributorName*>.*\<DistributionDatabaseName>*'.</span></span> <span data-ttu-id="ad3f6-140">Для повторного создания удалите издатель или открытый синоним " *\<SynonymName>* "».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-140">Drop the publisher or drop the public synonym '*\<SynonymName>*' to recreate."</span></span>  
  
 <span data-ttu-id="ad3f6-141">При удалении издателя Oracle объекты репликации в базе данных Oracle автоматически очищаются.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-141">When an Oracle Publisher is dropped, the replication objects in the Oracle database are automatically cleaned up.</span></span> <span data-ttu-id="ad3f6-142">Однако в некоторых случаях необходима ручная очистка объектов репликации Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-142">However, manual cleanup of the Oracle replication objects is necessary in some cases.</span></span> <span data-ttu-id="ad3f6-143">Для ручной очистки объектов репликации Oracle, созданных при репликации, выполните следующее:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-143">To manually clean up Oracle replication objects created by replication:</span></span>  
  
1.  <span data-ttu-id="ad3f6-144">Подключитесь к издателю Oracle с разрешениями администратора базы данных.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-144">Connect to the Oracle publisher with DBA permissions.</span></span>  
  
2.  <span data-ttu-id="ad3f6-145">Выполните команду SQL `DROP PUBLIC SYNONYM MSSQLSERVERDISTRIBUTOR;`.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-145">Issue the SQL command `DROP PUBLIC SYNONYM MSSQLSERVERDISTRIBUTOR;`.</span></span>  
  
3.  <span data-ttu-id="ad3f6-146">Выполните команду SQL `DROP USER <replication_administrative_user_schema>``CASCADE;`.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-146">Issue the SQL command `DROP USER <replication_administrative_user_schema>``CASCADE;`.</span></span>  
  
## <a name="sql-server-error-21663-is-raised-regarding-the-lack-of-a-primary-key"></a><span data-ttu-id="ad3f6-147">Ошибка SQL Server 21663 возникает из-за отсутствия первичного ключа</span><span class="sxs-lookup"><span data-stu-id="ad3f6-147">SQL Server Error 21663 Is Raised Regarding the Lack of a Primary Key</span></span>  
 <span data-ttu-id="ad3f6-148">Статьи в публикациях транзакций должны иметь правильный первичный ключ.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-148">Articles in transactional publications must have a valid primary key.</span></span> <span data-ttu-id="ad3f6-149">Если они не имеют правильного первичного ключа, при попытке добавления статьи выдается следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-149">If they do not have a valid primary key, you will receive the following error message when you attempt to add an article:</span></span>  
  
 <span data-ttu-id="ad3f6-150">«Не найден правильный первичный ключ для исходной таблицы [\<*TableOwner*>].[\<*TableName*>]»</span><span class="sxs-lookup"><span data-stu-id="ad3f6-150">"No valid primary key found for source table [\<*TableOwner*>].[\<*TableName*>]"</span></span>  
  
 <span data-ttu-id="ad3f6-151">Сведения о требованиях для первичных ключей см. в подразделе «Уникальные индексы и ограничения» раздела [Design Considerations and Limitations for Oracle Publishers](design-considerations-and-limitations-for-oracle-publishers.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-151">For information about requirements for primary keys, see the section "Unique Indexes and Constraints" in the topic [Design Considerations and Limitations for Oracle Publishers](design-considerations-and-limitations-for-oracle-publishers.md).</span></span>  
  
## <a name="sql-server-error-21642-is-raised-regarding-a-duplicate-linked-server-login"></a><span data-ttu-id="ad3f6-152">Ошибка SQL Server 21642, связанная с повторяющимся именем входа связанного сервера</span><span class="sxs-lookup"><span data-stu-id="ad3f6-152">SQL Server Error 21642 Is Raised Regarding a Duplicate Linked Server Login</span></span>  
 <span data-ttu-id="ad3f6-153">При первоначальной настройке издателя Oracle создается запись связанного сервера для соединения издателя и распространителя.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-153">When an Oracle Publisher is initially configured, a linked server entry is created for the connection between the Publisher and the Distributor.</span></span> <span data-ttu-id="ad3f6-154">Связанный сервер имеет то же имя, что и служба Oracle TNS.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-154">The linked server has the same name as the Oracle TNS service name.</span></span> <span data-ttu-id="ad3f6-155">При попытке создать связанный сервер с тем же именем выводится следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-155">If you attempt to create a linked server with the same name, the following error message is shown:</span></span>  
  
 <span data-ttu-id="ad3f6-156">«Для разнородных издателей необходим связанный сервер.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-156">"Heterogeneous publishers require a linked server.</span></span> <span data-ttu-id="ad3f6-157">Связанный сервер с именем " *\<LinkedServerName>* " уже существует.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-157">A linked server named '*\<LinkedServerName>*' already exists.</span></span> <span data-ttu-id="ad3f6-158">Удалите связанный сервер или выберите другое имя издателя».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-158">Please remove linked server or choose a different publisher name."</span></span>  
  
 <span data-ttu-id="ad3f6-159">Эта ошибка может возникнуть при попытке непосредственно создать связанный сервер, или если ранее была удалена связь между издателем Oracle и распространителем [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , и теперь предпринимается попытка перенастроить издатель.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-159">This error can occur if you attempt to create the linked server directly or if you have previously dropped the relationship between the Oracle Publisher and the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, and you are now attempting to reconfigure it.</span></span> <span data-ttu-id="ad3f6-160">Если эта ошибка возникает при попытке перенастроить издатель, удалите связанный сервер с помощью [sp_dropserver (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-dropserver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-160">If you receive this error while attempting to reconfigure the Publisher, drop the linked server with [sp_dropserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dropserver-transact-sql).</span></span>  
  
 <span data-ttu-id="ad3f6-161">Если вам нужно подключиться к издателю Oracle через подключение связанного сервера, создайте другое имя службы TNS и используйте это имя при вызове процедуры [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-161">If you need to connect to the Oracle Publisher over a linked server connection, create another TNS service name, and then use this name when calling [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span></span> <span data-ttu-id="ad3f6-162">Сведения о создании имен службы TNS см. в документации Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-162">For information about creating TNS service names, see the Oracle documentation.</span></span>  
  
## <a name="sql-server-error-21617-is-raised"></a><span data-ttu-id="ad3f6-163">Ошибка SQL Server 21617</span><span class="sxs-lookup"><span data-stu-id="ad3f6-163">SQL Server Error 21617 Is Raised</span></span>  
 <span data-ttu-id="ad3f6-164">Публикация Oracle использует приложение Oracle SQL\*PLUS для загрузки пакета вспомогательного кода издателя в базу данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-164">Oracle publishing uses the Oracle application SQL\*PLUS to download the package of Publisher support code to the Oracle database.</span></span> <span data-ttu-id="ad3f6-165">Перед попыткой настроить издатель Oracle [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] проверяет, доступно ли приложение SQL\*PLUS по системному пути на распространителе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-165">Before attempting to configure the Oracle Publisher, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] verifies that SQL\*PLUS is accessible through the system path on the Distributor.</span></span> <span data-ttu-id="ad3f6-166">Если приложение SQL\*PLUS не может быть загружено, появляется следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-166">If SQL\*PLUS cannot be loaded, the following error message is shown:</span></span>  
  
 <span data-ttu-id="ad3f6-167">«Не удается запустить SQL\*PLUS.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-167">"Unable to run SQL\*PLUS.</span></span> <span data-ttu-id="ad3f6-168">Убедитесь, что на распространителе установлена текущая версия клиентской программы Oracle».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-168">Make certain that a current version of the Oracle client code is installed at the distributor."</span></span>  
  
 <span data-ttu-id="ad3f6-169">Попытайтесь найти SQL\*PLUS на распространителе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-169">Try to locate SQL\*PLUS on the Distributor.</span></span> <span data-ttu-id="ad3f6-170">Для установки клиента Oracle 10g имя этого исполняемого файла — sqlplus.exe.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-170">For an Oracle 10g client install, the name of this executable is sqlplus.exe.</span></span> <span data-ttu-id="ad3f6-171">Обычно данная программа устанавливается в каталог %ORACLE_HOME%/bin.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-171">It is typically installed in %ORACLE_HOME%/bin.</span></span> <span data-ttu-id="ad3f6-172">Чтобы убедиться, что путь SQL\*PLUS содержится в системном пути, проверьте значение системной переменной **Path**:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-172">To verify that the path of SQL\*PLUS appears in the system path, examine the value of the system variable **Path**:</span></span>  
  
1.  <span data-ttu-id="ad3f6-173">Щелкните правой кнопкой мыши **Мой компьютер**, затем выберите **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-173">Right-click **My Computer**, and then click **Properties**.</span></span>  
  
2.  <span data-ttu-id="ad3f6-174">Перейдите на вкладку **Дополнительно** , затем щелкните **Переменные среды**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-174">Click the **Advanced** tab, and then click **Environment variables**.</span></span>  
  
3.  <span data-ttu-id="ad3f6-175">В диалоговом окне **Переменные среды** , в списке **Системные переменные** выберите переменную **Path** и щелкните **Изменить**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-175">In the **Environment Variables** dialog box, in the **System variables** list, select the **Path** variable, and then click **Edit**.</span></span>  
  
4.  <span data-ttu-id="ad3f6-176">В диалоговом окне **Изменение системной переменной** выполните следующие действия: если в текстовом поле **Значение переменной** путь к папке, содержащей sqlplus.exe, отсутствует, измените строку, чтобы она содержала этот путь.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-176">In the **Edit System Variable** dialog box: if the path to the folder that contains sqlplus.exe is not present in the **Variable value** text box, edit the string to include it.</span></span>  
  
5.  <span data-ttu-id="ad3f6-177">Нажмите кнопку **OK** в каждом открытом диалоговом окне, чтобы выйти и сохранить изменения.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-177">Click **OK** on each open dialog box to exit and save changes.</span></span>  
  
 <span data-ttu-id="ad3f6-178">Если на распространителе не удается найти sqlplus.exe, установите на распространителе текущую версию клиентского программного обеспечения Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-178">If you cannot locate sqlplus.exe on the Distributor, install a current version of the Oracle client software at the Distributor.</span></span> <span data-ttu-id="ad3f6-179">Дополнительные сведения см. в статье [Настройка издателя Oracle](configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-179">For more information, see [Configure an Oracle Publisher](configure-an-oracle-publisher.md).</span></span>  
  
## <a name="sql-server-error-21620-is-raised"></a><span data-ttu-id="ad3f6-180">Ошибка SQL Server 21620</span><span class="sxs-lookup"><span data-stu-id="ad3f6-180">SQL Server Error 21620 Is Raised</span></span>  
 <span data-ttu-id="ad3f6-181">При соединении с базой данных Oracle, версия которой предшествует версии 8.1, для публикации Oracle необходимо, чтобы версия клиентского программного обеспечения Oracle, установленного на распространителе, была не ниже 9.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-181">If you are connecting to an Oracle database earlier than version 8.1, Oracle publishing requires that the Oracle client software installed on the Distributor be from version 9.</span></span> <span data-ttu-id="ad3f6-182">При соединении с базой данных Oracle 8.1 или более поздней версии рекомендуется, чтобы версия клиентского программного обеспечения Oracle была не ниже 10.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-182">If you are connecting to an Oracle database that is version 8.1 or later, we recommend that the Oracle client software be version 10 or later.</span></span>  
  
 <span data-ttu-id="ad3f6-183">Перед попыткой настройки издателя Oracle выполняется проверка того, что версия SQL\*PLUS, доступная по системному пути на распространителе, не ниже 9.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-183">Before attempting to configure the Oracle Publisher, Oracle publishing verifies that the version of SQL\*PLUS accessible through the system path on the Distributor is version 9 or later.</span></span> <span data-ttu-id="ad3f6-184">Если это не так, выводится следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-184">If it is not, the following error message is shown:</span></span>  
  
 <span data-ttu-id="ad3f6-185">«Версия SQL\*PLUS, доступная через переменную системного пути, в настоящее время недостаточна для поддержки публикации Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-185">"The version of SQL\*PLUS that is accessible through the system Path variable is not current enough to support Oracle publishing.</span></span> <span data-ttu-id="ad3f6-186">Убедитесь, что на распространителе установлена текущая версия клиентской программы Oracle».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-186">Make certain that a current version of the Oracle client code is installed at the distributor."</span></span>  
  
 <span data-ttu-id="ad3f6-187">Если на распространителе установлено несколько версий клиентского программного обеспечения Oracle, убедитесь, что самая последняя версия не ниже 9, и что переменная системного пути ссылается вначале на эту версию (ссылки на другие версии могут использоваться, если самая последняя версия располагается первой).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-187">If you have multiple versions of the Oracle client software installed on the Distributor, make sure that the most current version is at least version 9 and that the system path variable refers first to this version (references to other versions can appear as long as the most recent appears first).</span></span> <span data-ttu-id="ad3f6-188">Дополнительные сведения о редактировании переменной системного пути см. в приводимом выше разделе «Ошибка SQL Server 21617».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-188">For more information about editing the system path variable, see the section "SQL Server Error 21617 is Raised" earlier in this topic.</span></span>  
  
## <a name="sql-server-error-21624-or-error-21629-is-raised"></a><span data-ttu-id="ad3f6-189">Ошибка SQL Server 21624 или 21629</span><span class="sxs-lookup"><span data-stu-id="ad3f6-189">SQL Server Error 21624 or Error 21629 Is Raised</span></span>  
 <span data-ttu-id="ad3f6-190">Для 64-разрядных распространителей публикация Oracle использует поставщика Oracle OLEDB для Oracle (OraOLEDB.Oracle).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-190">For 64-bit Distributors, Oracle publishing uses the Oracle OLEDB Provider for Oracle (OraOLEDB.Oracle).</span></span> <span data-ttu-id="ad3f6-191">Убедитесь, что поставщик OLEDB для Oracle установлен и зарегистрирован на распространителе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-191">Make sure that the Oracle OLEDB provider is installed and registered on the Distributor.</span></span> <span data-ttu-id="ad3f6-192">Если поставщик не установлен и не зарегистрирован, появляется одно из следующих сообщений, или оба эти сообщения:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-192">If the provider is not installed and registered, one or both of the following error messages is shown:</span></span>  
  
-   <span data-ttu-id="ad3f6-193">«Не удается найти зарегистрированный поставщик OLEDB для Oracle (OraOLEDB.Oracle) на распространителе '%s'.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-193">"Unable to locate the registered Oracle OLEDB provider, OraOLEDB.Oracle, at distributor '%s'.</span></span> <span data-ttu-id="ad3f6-194">Убедитесь, что на распространителе установлена и зарегистрирована текущая версия поставщика OLEDB для Oracle».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-194">Make certain that a current version of the Oracle OLEDB provider is installed and registered at the distributor."</span></span>  
  
-   <span data-ttu-id="ad3f6-195">«Раздел реестра CLSID, указывающий, что поставщик OLEDB для Oracle (OraOLEDB.Oracle) был зарегистрирован, но отсутствует на распространителе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-195">"The CLSID registry key indicating that the Oracle OLEDB Provider for Oracle, OraOLEDB.Oracle, has been registered is not present at the distributor.</span></span> <span data-ttu-id="ad3f6-196">Убедитесь, что на распространителе установлен и зарегистрирован поставщик OLEDB для Oracle».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-196">Make certain that the Oracle OLEDB provider is installed and registered at the distributor."</span></span>  
  
 <span data-ttu-id="ad3f6-197">Если используется клиентское программное обеспечение Oracle версии 10g, поставщиком является OraOLEDB10.dll, для версии 9i — это OraOLEDB.dll.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-197">If you are using Oracle client software version 10g, the provider is OraOLEDB10.dll; for version 9i, it is OraOLEDB.dll.</span></span> <span data-ttu-id="ad3f6-198">Поставщик устанавливается в каталог %ORACLE_HOME%\BIN (например, в «C:\oracle\product\10.1.0\Client_1\bin»).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-198">The provider is installed in %ORACLE_HOME%\BIN (for example, C:\oracle\product\10.1.0\Client_1\bin).</span></span> <span data-ttu-id="ad3f6-199">Если обнаружено, что поставщик Oracle OLEDB не установлен на распространителе, установите его с установочного диска клиентского программного обеспечения Oracle, предоставляемого корпорацией Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-199">If you determine that the Oracle OLEDB provider is not installed on the Distributor, install it from the Oracle client software install disc provided by Oracle.</span></span> <span data-ttu-id="ad3f6-200">Дополнительные сведения см. в статье [Настройка издателя Oracle](configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-200">For more information, see [Configure an Oracle Publisher](configure-an-oracle-publisher.md).</span></span>  
  
 <span data-ttu-id="ad3f6-201">Если поставщик Oracle OLEDB установлен, убедитесь, что он зарегистрирован.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-201">If the Oracle OLEDB provider is installed, make sure that it is registered.</span></span> <span data-ttu-id="ad3f6-202">Для регистрации DLL-библиотеки поставщика выполните следующую команду из каталога, в котором установлена DLL-библиотека, а затем остановите и перезапустите экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="ad3f6-202">To register the provider DLL, execute the following command from the directory in which the DLL is installed, and then stop and restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance:</span></span>  
  
1.  <span data-ttu-id="ad3f6-203">`regsvr32 OraOLEDB10.dll` или `regsvr32 OraOLEDB.dll`.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-203">`regsvr32 OraOLEDB10.dll` or `regsvr32 OraOLEDB.dll`.</span></span>  
  
## <a name="sql-server-error-21626-or-error-21627-is-raised"></a><span data-ttu-id="ad3f6-204">Возникает ошибка SQL Server 21626 или 21627</span><span class="sxs-lookup"><span data-stu-id="ad3f6-204">SQL Server Error 21626 or Error 21627 Is Raised</span></span>  
 <span data-ttu-id="ad3f6-205">Чтобы убедиться, что издательская среда Oracle настроена верно, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] пытается подключиться к издателю Oracle с учетными данными, которые были указаны во время настройки.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-205">To verify that the Oracle publishing environment is configured properly, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] tries to connect to the Oracle Publisher with the login credentials you specified during configuration.</span></span> <span data-ttu-id="ad3f6-206">Если распространителю [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не удается подключиться к издателю Oracle, появляется одно из следующих сообщений:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-206">If the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor cannot connect to the Oracle Publisher, the following error message is shown:</span></span>  
  
-   <span data-ttu-id="ad3f6-207">«Невозможно подключиться к серверу базы данных Oracle "%s" с помощью поставщика OLEDB для Oracle (OraOLEDB.Oracle)».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-207">"Unable to connect to Oracle database server '%s' using the Oracle OLEDB provider OraOLEDB.Oracle."</span></span>  
  
 <span data-ttu-id="ad3f6-208">При появлении этих сообщений проверьте подключение к базе данных Oracle, непосредственно запустив SQL\*PLUS при помощи тех же имени входа и пароля, которые были указаны во время настройки издателя Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-208">If this error message is shown, verify connectivity to the Oracle database by running SQL\*PLUS directly using the same login and password specified during configuration of the Oracle Publisher.</span></span> <span data-ttu-id="ad3f6-209">Дополнительные сведения см. выше, в подразделе «Распространителю SQL Server не удается подключиться к экземпляру базы данных Oracle» этого раздела.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-209">For more information, see the section "The SQL Server Distributor Cannot Connect to the Oracle Database Instance" earlier in this topic.</span></span>  
  
## <a name="sql-server-error-21628-is-raised"></a><span data-ttu-id="ad3f6-210">Ошибка SQL Server 21628</span><span class="sxs-lookup"><span data-stu-id="ad3f6-210">SQL Server Error 21628 Is Raised</span></span>  
 <span data-ttu-id="ad3f6-211">Для 64-разрядных распространителей публикация Oracle использует поставщика Oracle OLEDB для Oracle (OraOLEDB.Oracle).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-211">For 64-bit Distributors, Oracle publishing uses the Oracle OLEDB Provider for Oracle (OraOLEDB.Oracle).</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="ad3f6-212">заносит в реестр запись, позволяющую поставщику Oracle выполнять процесс с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ad3f6-212">creates a registry entry to allow the Oracle provider to run in process with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ad3f6-213">При наличии проблем с чтением этой записи реестра или занесением данных в эту запись выводится следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-213">If there is a problem reading or writing this registry entry, the following error message is shown:</span></span>  
  
 <span data-ttu-id="ad3f6-214">«Не удалось обновить реестр распространителя "%s", чтобы позволить поставщику OLEDB для Oracle (OraOLEDB.Oracle) запускаться в процессе с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ad3f6-214">"Unable to update the registry of distributor '%s' to allow Oracle OLEDB provider OraOLEDB.Oracle to run in process with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ad3f6-215">Убедитесь, что пользователю с текущим именем входа разрешается вносить изменения в разделы реестра, принадлежащие [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-215">Make certain that current login is authorized to modify [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] owned registry keys."</span></span>  
  
 <span data-ttu-id="ad3f6-216">Для системы публикации Oracle необходимо, чтобы запись реестра существовала и была установлена в **1** для 64-разрядных распространителей.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-216">Oracle publishing requires the registry entry to exist and to be set to **1** for 64 bit Distributors.</span></span> <span data-ttu-id="ad3f6-217">Если запись не существует, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] будет пытаться создать ее.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-217">If the entry does not exist, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will attempt to create it.</span></span> <span data-ttu-id="ad3f6-218">Если запись существует, но установлена в **0**, установка не изменится, и настройка издателя Oracle завершится неудачей.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-218">If the entry exists, but is set to **0**, the setting will not be changed; the configuration of the Oracle Publisher will fail.</span></span>  
  
 <span data-ttu-id="ad3f6-219">Для просмотра и изменения установки реестра выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-219">To view and modify the registry setting:</span></span>  
  
1.  <span data-ttu-id="ad3f6-220">Нажмите кнопку **Пуск**, затем щелкните **Выполнить**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-220">Click **Start**, and then click **Run**.</span></span>  
  
2.  <span data-ttu-id="ad3f6-221">В диалоговом окне **Выполнить** введите **regedit**, затем нажмите кнопку **OK**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-221">In the **Run** dialog box, type **regedit**, and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="ad3f6-222">Перейдите к папке HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\\ *\<InstanceName>* \Providers.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-222">Navigate to HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\\*\<InstanceName>* \Providers.</span></span>  
  
     <span data-ttu-id="ad3f6-223">В папке для поставщиков (Providers) должна находиться папка с именем OraOLEDB.Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-223">Included under Providers should be a folder named OraOLEDB.Oracle.</span></span> <span data-ttu-id="ad3f6-224">В этой папке должна присутствовать DWORD-переменная с именем **AllowInProcess**, которой присвоено значение **1**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-224">Within this folder should be the DWORD value name **AllowInProcess**, with a value of **1**.</span></span>  
  
4.  <span data-ttu-id="ad3f6-225">Если обнаружено, что переменная **AllowInProcess** установлена в **0**, обновите запись реестра до **1**:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-225">If you determine that **AllowInProcess** is set to **0**, update the registry entry to **1**:</span></span>  
  
    1.  <span data-ttu-id="ad3f6-226">Щелкните правой кнопкой мыши запись, затем щелкните **Изменить**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-226">Right-click the entry, and then click **Modify**.</span></span>  
  
    2.  <span data-ttu-id="ad3f6-227">В диалоговом окне **Изменение строкового параметра** введите **1** в поле **Значение поля** .</span><span class="sxs-lookup"><span data-stu-id="ad3f6-227">In the **Edit String** dialog box, type **1** in the **Value data** field.</span></span>  
  
## <a name="sql-server-error-21684-is-raised"></a><span data-ttu-id="ad3f6-228">Возникает ошибка SQL Server 21684</span><span class="sxs-lookup"><span data-stu-id="ad3f6-228">SQL Server Error 21684 Is Raised</span></span>  
 <span data-ttu-id="ad3f6-229">Если административная учетная запись пользователя не имеет достаточных прав доступа, выводится следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-229">If the administrative user account does not have sufficient privileges, the following error message is shown:</span></span>  
  
 <span data-ttu-id="ad3f6-230">«Разрешений, связанных с именем входа администратора для издателя Oracle «%s», недостаточно».</span><span class="sxs-lookup"><span data-stu-id="ad3f6-230">"The permissions associated with the administrator login for Oracle publisher '%s' are not sufficient."</span></span>  
  
 <span data-ttu-id="ad3f6-231">Чтобы проверить разрешения, предоставленные пользователю, выполните следующий запрос: `SELECT * from session_privs`.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-231">To verify the permissions granted to the user, execute the following query: `SELECT * from session_privs`.</span></span> <span data-ttu-id="ad3f6-232">Результат выполнения должен быть аналогичен следующему:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-232">The output should be similar to the following:</span></span>  
  
 `PRIVILEGE`  
  
 `------------------`  
  
 `CREATE SESSION`  
  
 `CREATE TABLE`  
  
 `CREATE PUBLIC SYNONYM`  
  
 `DROP PUBLIC SYNONYM`  
  
 `CREATE VIEW`  
  
 `CREATE SEQUENCE`  
  
 `CREATE PROCEDURE`  
  
 `CREATE TRIGGER`  
  
## <a name="you-encounter-permissions-issues-for-the-replication-user-schema"></a><span data-ttu-id="ad3f6-233">Проблемы, связанные с разрешениями для пользовательской схемы репликации</span><span class="sxs-lookup"><span data-stu-id="ad3f6-233">You Encounter Permissions Issues for the Replication User Schema</span></span>  
 <span data-ttu-id="ad3f6-234">Пользовательская схема репликации должна иметь разрешения, описанные в подразделе "Создание пользовательской схемы вручную" раздела [Настройка издателя Oracle](configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-234">The replication user schema must have the permissions described in "Creating the User Schema Manually" in [Configure an Oracle Publisher](configure-an-oracle-publisher.md).</span></span>  
  
## <a name="oracle-error-ora-01000"></a><span data-ttu-id="ad3f6-235">Ошибка Oracle ORA-01000</span><span class="sxs-lookup"><span data-stu-id="ad3f6-235">Oracle Error ORA-01000</span></span>  
 <span data-ttu-id="ad3f6-236">Репликация использует курсоры в издателе Oracle в процессе добавления статей в публикацию.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-236">Replication uses cursors on the Oracle Publisher during the process of adding articles to a publication.</span></span> <span data-ttu-id="ad3f6-237">Во время этого процесса возможно превышение максимально допустимого количества курсоров, доступных на издателе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-237">It is possible to exceed the maximum number of cursors available on the Publisher during this process.</span></span> <span data-ttu-id="ad3f6-238">Если это происходит, возникает следующая ошибка:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-238">If this occurs, the following error is raised:</span></span>  
  
 <span data-ttu-id="ad3f6-239">«ORA-01000: превышение максимального числа открытых курсоров»</span><span class="sxs-lookup"><span data-stu-id="ad3f6-239">"ORA-01000: maximum open cursors exceeded"</span></span>  
  
 <span data-ttu-id="ad3f6-240">Для исключения этой проблемы необходимо убедиться, что для параметра **max_open_cursors** в базах данных Oracle установлено достаточно большое число (по меньшей мере, 1 000).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-240">To avoid this problem, ensure that the **max_open_cursors** setting in the Oracle databases is set to a sufficiently high number (at least 1000).</span></span> <span data-ttu-id="ad3f6-241">Дополнительные сведения об этой установке приводятся в документации Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-241">For more information about this setting, see the Oracle documentation.</span></span>  
  
## <a name="oracle-error-ora-01555"></a><span data-ttu-id="ad3f6-242">Ошибка Oracle ORA-01555</span><span class="sxs-lookup"><span data-stu-id="ad3f6-242">Oracle Error ORA-01555</span></span>  
 <span data-ttu-id="ad3f6-243">Следующая ошибка базы данных Oracle относится не к репликации моментального снимка, а к тому, как Oracle строит подходящие для чтения представления данных:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-243">The following Oracle database error is not related to snapshot replication; it is related to how Oracle constructs read-consistent views of data:</span></span>  
  
 <span data-ttu-id="ad3f6-244">"ORA-01555: слишком старый моментальный снимок"</span><span class="sxs-lookup"><span data-stu-id="ad3f6-244">"ORA-01555: Snapshot too old"</span></span>  
  
 <span data-ttu-id="ad3f6-245">При помощи объектов, называемых сегментами отката, Oracle создает пригодные для чтения представления данных на момент выдачи инструкции SQL.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-245">Using objects known as rollback segments, Oracle constructs read-consistent views of data as of the point in time a SQL statement is issued.</span></span> <span data-ttu-id="ad3f6-246">Ошибка «слишком старый моментальный снимок» может возникнуть, если данные отката переписываются другими, одновременно выполняющими сеансами.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-246">A "snapshot too old" error might occur when rollback information is overwritten by other concurrent sessions.</span></span> <span data-ttu-id="ad3f6-247">До версии Oracle 9i для уменьшения частоты появления этой ошибки рекомендовался метод увеличения размера или количества сегментов отката и назначения больших транзакций для определенных сегментов отката.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-247">Prior to Oracle 9i, the recommended method of reducing the frequency of this error was to increase the size and/or number of rollback segments, and to assign large transactions to a specific rollback segment.</span></span>  
  
 <span data-ttu-id="ad3f6-248">В Oracle 9i корпорация Oracle ввела концепцию табличного пространства UNDO, заменяющую сегмент отката.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-248">In Oracle 9i, Oracle introduced the UNDO tablespace concept, which replaces the rollback segment.</span></span> <span data-ttu-id="ad3f6-249">Для предотвращения ошибки «слишком старый моментальный снимок» в Oracle 9i рекомендуется следующее:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-249">To prevent the "snapshot too old" error in Oracle 9i, it is recommended that you:</span></span>  
  
-   <span data-ttu-id="ad3f6-250">Создайте табличное пространство UNDO с достаточным количеством свободного места.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-250">Create an UNDO tablespace with an appropriate amount of free space.</span></span>  
  
-   <span data-ttu-id="ad3f6-251">Установите гарантию хранения для табличного пространства (для версий Oracle 10G и выше).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-251">Set the retention guarantee on the tablespace (Oracle 10G and greater).</span></span>  
  
-   <span data-ttu-id="ad3f6-252">Настройте параметры инициализации Oracle UNDO_MANAGEMENT и UNDO_RETENTION.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-252">Configure the Oracle initialization parameters UNDO_MANAGEMENT and UNDO_RETENTION.</span></span>  
  
 <span data-ttu-id="ad3f6-253">Дополнительные сведения об исключении причин ошибки «слишком старый моментальный снимок» см. в документации Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-253">For further details about avoiding the "snapshot too old" error, consult the Oracle documentation.</span></span>  
  
## <a name="oracle-error-ora-22285"></a><span data-ttu-id="ad3f6-254">Ошибка Oracle ORA-22285</span><span class="sxs-lookup"><span data-stu-id="ad3f6-254">Oracle Error ORA-22285</span></span>  
 <span data-ttu-id="ad3f6-255">Если в таблице имеется столбец BFILE, данные для столбца хранятся в файловой системе.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-255">If a table includes a BFILE column, the data for the column is stored in the file system.</span></span> <span data-ttu-id="ad3f6-256">Административной учетной записи репликации должно быть предоставлено право доступа в каталог, в котором хранятся данные. С этой целью должно использоваться следующее синтаксическое выражение:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-256">The replication administrative user account must be granted access to the directory in which the data is stored using the following syntax:</span></span>  
  
 `GRANT READ ON DIRECTORY <directory_name> TO <replication_administrative_user_schema>`  
  
 <span data-ttu-id="ad3f6-257">Если право доступа не предоставлено, агент чтения журнала выводит следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-257">If access is not granted, the following error is raised by the Log Reader Agent:</span></span>  
  
 <span data-ttu-id="ad3f6-258">«ORA-22285: несуществующий каталог или файл для операции FILEOPEN»</span><span class="sxs-lookup"><span data-stu-id="ad3f6-258">"ORA-22285: non-existent directory or file for FILEOPEN operation"</span></span>  
  
## <a name="changes-are-made-that-require-reconfiguration-of-the-publisher"></a><span data-ttu-id="ad3f6-259">Выполнены изменения, требующие перенастройки издателя</span><span class="sxs-lookup"><span data-stu-id="ad3f6-259">Changes Are Made That Require Reconfiguration of the Publisher</span></span>  
 <span data-ttu-id="ad3f6-260">Для изменения таблиц метаданных репликации или процедур необходимо удалить и перенастроить издатель.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-260">Changes to replication metadata tables or procedures require that you drop and reconfigure the Publisher.</span></span> <span data-ttu-id="ad3f6-261">Чтобы перенастроить издатель, необходимо удалить издатель и настроить его вновь при помощи среды [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], Transact-SQL или объектов RMO.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-261">To reconfigure the Publisher, you must drop the Publisher and configure it again using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], Transact-SQL, or RMO.</span></span> <span data-ttu-id="ad3f6-262">Дополнительные сведения о настройке издателя см. в разделе [Настройка издателя Oracle](configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-262">For information about configuring the Publisher, see [Configure an Oracle Publisher](configure-an-oracle-publisher.md).</span></span>  
  
 <span data-ttu-id="ad3f6-263">**Удаление издателя Oracle (среда**SQL Server Management Studio **)**</span><span class="sxs-lookup"><span data-stu-id="ad3f6-263">**To drop an Oracle Publisher (** SQL Server Management Studio **)**</span></span>  
  
1.  <span data-ttu-id="ad3f6-264">Подключитесь к распространителю для издателя Oracle в среде [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] , а затем раскройте узел сервера.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-264">Connect to the Distributor for the Oracle Publisher in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] and expand the server node.</span></span>  
  
2.  <span data-ttu-id="ad3f6-265">Щелкните правой кнопкой мыши **Репликация**, затем щелкните **Свойства распространителя**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-265">Right-click **Replication**, and then click **Distributor Properties**.</span></span>  
  
3.  <span data-ttu-id="ad3f6-266">На странице **Издатели** диалогового окна **Свойства распространителя** снимите флажок для издателя Oracle.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-266">On the **Publishers** page of the **Distributor Properties** dialog box, clear the check box for the Oracle Publisher.</span></span>  
  
4.  <span data-ttu-id="ad3f6-267">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-267">Click **OK**.</span></span>  
  
 <span data-ttu-id="ad3f6-268">**Удаление издателя Oracle (Transact-SQL)**</span><span class="sxs-lookup"><span data-stu-id="ad3f6-268">**To drop an Oracle Publisher (Transact-SQL)**</span></span>  
  
-   <span data-ttu-id="ad3f6-269">Выполните **sp_dropdistpublisher**.</span><span class="sxs-lookup"><span data-stu-id="ad3f6-269">Execute **sp_dropdistpublisher**.</span></span> <span data-ttu-id="ad3f6-270">Дополнительные сведения см. в статье [sp_addlinkedserver (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-dropdistpublisher-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ad3f6-270">For more information, see [sp_dropdistpublisher &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dropdistpublisher-transact-sql).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ad3f6-271">См. также:</span><span class="sxs-lookup"><span data-stu-id="ad3f6-271">See Also</span></span>  
 <span data-ttu-id="ad3f6-272">[Настройка издателя Oracle](configure-an-oracle-publisher.md) </span><span class="sxs-lookup"><span data-stu-id="ad3f6-272">[Configure an Oracle Publisher](configure-an-oracle-publisher.md) </span></span>  
 [<span data-ttu-id="ad3f6-273">Обзор публикации Oracle</span><span class="sxs-lookup"><span data-stu-id="ad3f6-273">Oracle Publishing Overview</span></span>](oracle-publishing-overview.md)  
  
  

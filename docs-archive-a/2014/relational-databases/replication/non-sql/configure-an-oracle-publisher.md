---
title: Настройка издателя Oracle | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Oracle publishing [SQL Server replication], configuring
ms.assetid: 240c8416-c8e5-4346-8433-07e0f779099f
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4941a02deb770678f4efcf4d2dfc7b08243fff54
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733942"
---
# <a name="configure-an-oracle-publisher"></a><span data-ttu-id="0b2bc-102">Настройка издателя Oracle</span><span class="sxs-lookup"><span data-stu-id="0b2bc-102">Configure an Oracle Publisher</span></span>
  <span data-ttu-id="0b2bc-103">Публикации издателей Oracle создаются таким же способом, как и публикации моментальных снимков и публикации транзакций, но перед тем как создать публикацию от издателя Oracle, необходимо выполнить следующие шаги (в данном разделе подробно описаны шаги 1, 3 и 4):</span><span class="sxs-lookup"><span data-stu-id="0b2bc-103">Publications from Oracle Publishers are created in the same way typical snapshot and transactional publications are created, but prior to creating a publication from an Oracle Publisher, you must complete the following steps (steps one, three, and four are described in detail in this topic.):</span></span>  
  
1.  <span data-ttu-id="0b2bc-104">Используя предоставленный скрипт, создайте в базе данных Oracle административного пользователя для репликации.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-104">Create a replication administrative user within the Oracle database using the supplied script.</span></span>  
  
2.  <span data-ttu-id="0b2bc-105">На каждую из публикуемых таблиц предоставьте разрешение SELECT непосредственно (не через роль) пользователю с правами администратора Oracle, созданному на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-105">For the tables that you will publish, grant SELECT permission directly on each of them (not through a role) to the Oracle administrative user you created in step one.</span></span>  
  
3.  <span data-ttu-id="0b2bc-106">Установите на распространитель [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] клиентское ПО Oracle и поставщик OLE DB, а затем остановите и перезапустите экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0b2bc-106">Install the Oracle client software and OLE DB provider on the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, and then stop and restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="0b2bc-107">Если распространитель запущен на 64-разрядной платформе, необходимо использовать 64-разрядную версию поставщика OLE DB Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-107">If the Distributor is running on a 64 bit platform, you must use the 64 bit version of the Oracle OLE DB provider.</span></span>  
  
4.  <span data-ttu-id="0b2bc-108">Настройте базу данных Oracle как издатель на распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0b2bc-108">Configure the Oracle database as a Publisher at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor.</span></span>  
  
 <span data-ttu-id="0b2bc-109">Список объектов, которые могут реплицироваться из базы данных Oracle, приводится в статье [Рассмотрение структуры и ограничений издателей Oracle](design-considerations-and-limitations-for-oracle-publishers.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-109">For a list of objects that can be replicated from an Oracle database, see [Design Considerations and Limitations for Oracle Publishers](design-considerations-and-limitations-for-oracle-publishers.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0b2bc-110">Необходимо быть членом предопределенной роли сервера **sysadmin** , чтобы включить издатель или распространитель и создать публикацию или подписку Oracle из публикации Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-110">You must be a member of the **sysadmin** fixed server role to enable a Publisher or Distributor and to create an Oracle publication or a subscription from an Oracle publication.</span></span>  
  
## <a name="creating-the-replication-administrative-user-schema-within-the-oracle-database"></a><span data-ttu-id="0b2bc-111">Создание схемы администратора репликации в базе данных Oracle</span><span class="sxs-lookup"><span data-stu-id="0b2bc-111">Creating the Replication Administrative User Schema within the Oracle Database</span></span>  
 <span data-ttu-id="0b2bc-112">Агенты репликации подключаются к базе данных Oracle и выполняют операции в контексте созданной пользовательской схемы.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-112">Replication agents connect to the Oracle database and perform operations in the context of a user schema that you must create.</span></span> <span data-ttu-id="0b2bc-113">Этой схеме должны быть предоставлены некоторые разрешения, перечисленные далее.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-113">This schema must be granted a number of permissions, which are listed in the next section.</span></span> <span data-ttu-id="0b2bc-114">Данная схема является владельцем всех объектов, созданных в процессе репликации [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на издателе Oracle, за исключением открытого синонима **MSSQLSERVERDISTRIBUTOR**.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-114">This schema owns all objects created by the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication process on the Oracle Publisher, with the exception of a public synonym, **MSSQLSERVERDISTRIBUTOR**.</span></span> <span data-ttu-id="0b2bc-115">Дополнительные сведения об объектах, создаваемых в базе данных Oracle, см. в разделе [Objects Created on the Oracle Publisher](objects-created-on-the-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-115">For more information about the objects created in the Oracle database, see [Objects Created on the Oracle Publisher](objects-created-on-the-oracle-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0b2bc-116">При удалении открытого синонима **MSSQLSERVERDISTRIBUTOR** и пользователя сконфигурированной репликации Oracle с параметром **CASCADE** из издателя Oracle удаляются все объекты репликации.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-116">Dropping the **MSSQLSERVERDISTRIBUTOR** public synonym and the configured Oracle replication user with the **CASCADE** option removes all replication objects from the Oracle Publisher.</span></span>  
  
 <span data-ttu-id="0b2bc-117">Для помощи в настройке пользовательской схемы репликации предоставляется образец скрипта.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-117">A sample script has been provided to aid in the setup of the Oracle replication user schema.</span></span> <span data-ttu-id="0b2bc-118">После установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] скрипт можно найти в следующем каталоге: *\<drive>* :\\\Program Files\Microsoft SQL Server\\ *\<InstanceName>* \MSSQL\Install\oracleadmin.sql.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-118">The script is available in the following directory after installation of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]: *\<drive>*:\\\Program Files\Microsoft SQL Server\\*\<InstanceName>* \MSSQL\Install\oracleadmin.sql.</span></span> <span data-ttu-id="0b2bc-119">Он также содержится в разделе [Script to Grant Oracle Permissions](script-to-grant-oracle-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-119">It is also included in the topic [Script to Grant Oracle Permissions](script-to-grant-oracle-permissions.md).</span></span>  
  
 <span data-ttu-id="0b2bc-120">Подключитесь к базе данных Oracle под учетной записью с правами доступа администратора базы данных (DBA) и выполните скрипт.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-120">Connect to the Oracle database using an account with DBA privileges and execute the script.</span></span> <span data-ttu-id="0b2bc-121">Данный скрипт запрашивает имя пользователя и пароль для схемы администратора репликации, а также табличное пространство по умолчанию, в котором будут создаваться объекты (табличное пространство уже должно существовать в базе данных Oracle).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-121">This script prompts for the user and password for the replication administrative user schema as well as the default tablespace in which to create the objects (the tablespace must already exist in the Oracle database).</span></span> <span data-ttu-id="0b2bc-122">Сведения об указании других табличных пространств для объектов см. в статье [Управление табличными пространствами Oracle](manage-oracle-tablespaces.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-122">For information about specifying other tablespaces for objects, see [Manage Oracle Tablespaces](manage-oracle-tablespaces.md).</span></span> <span data-ttu-id="0b2bc-123">Выберите любое имя пользователя и надежный пароль, запишите их, так как позднее при настройке базы данных Oracle как издателя запрашиваются это имя и пароль.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-123">Choose any user name and strong password, but make note of both because you will be prompted for this information later when you configure the Oracle database as a Publisher.</span></span> <span data-ttu-id="0b2bc-124">Рекомендуется использовать схему только для объектов, которые требуются для репликации. Не создавайте таблиц, которые будут публиковаться в этой схеме.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-124">It is recommended that the schema be used only for objects required by replication; do not create tables to be published in this schema.</span></span>  
  
### <a name="creating-the-user-schema-manually"></a><span data-ttu-id="0b2bc-125">Создание пользовательской схемы вручную</span><span class="sxs-lookup"><span data-stu-id="0b2bc-125">Creating the User Schema Manually</span></span>  
 <span data-ttu-id="0b2bc-126">При создании схемы администратора репликации необходимо предоставить схеме следующие разрешения, непосредственно или через роль базы данных:</span><span class="sxs-lookup"><span data-stu-id="0b2bc-126">If you create the replication administrative user schema manually, you must grant the schema the following permissions, either directly or through a database role.</span></span>  
  
-   <span data-ttu-id="0b2bc-127">CREATE PUBLIC SYNONYM and DROP PUBLIC SYNONYM</span><span class="sxs-lookup"><span data-stu-id="0b2bc-127">CREATE PUBLIC SYNONYM and DROP PUBLIC SYNONYM</span></span>  
  
-   <span data-ttu-id="0b2bc-128">CREATE PROCEDURE</span><span class="sxs-lookup"><span data-stu-id="0b2bc-128">CREATE PROCEDURE</span></span>  
  
-   <span data-ttu-id="0b2bc-129">CREATE SEQUENCE</span><span class="sxs-lookup"><span data-stu-id="0b2bc-129">CREATE SEQUENCE</span></span>  
  
-   <span data-ttu-id="0b2bc-130">CREATE SESSION</span><span class="sxs-lookup"><span data-stu-id="0b2bc-130">CREATE SESSION</span></span>  
  
 <span data-ttu-id="0b2bc-131">Необходимо также предоставить пользователю непосредственно (не через роль) следующие разрешения:</span><span class="sxs-lookup"><span data-stu-id="0b2bc-131">You must also grant the following permissions to the user directly (not through a role):</span></span>  
  
-   <span data-ttu-id="0b2bc-132">CREATE ANY TRIGGER.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-132">CREATE ANY TRIGGER.</span></span> <span data-ttu-id="0b2bc-133">Это требуется, только если одновременно выполняется репликация моментальных снимков и транзакций.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-133">This is required only both snapshot and transactional replication.</span></span>  
  
-   <span data-ttu-id="0b2bc-134">CREATE TABLE</span><span class="sxs-lookup"><span data-stu-id="0b2bc-134">CREATE TABLE</span></span>  
  
-   <span data-ttu-id="0b2bc-135">CREATE VIEW</span><span class="sxs-lookup"><span data-stu-id="0b2bc-135">CREATE VIEW</span></span>  
  
## <a name="installing-and-configuring-oracle-client-networking-software-on-the-sql-server-distributor"></a><span data-ttu-id="0b2bc-136">Установка и настройка клиентского сетевого ПО Oracle на распространителе SQL Server</span><span class="sxs-lookup"><span data-stu-id="0b2bc-136">Installing and Configuring Oracle Client Networking Software on the SQL Server Distributor</span></span>  
 <span data-ttu-id="0b2bc-137">На распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] необходимо установить и настроить клиентское сетевое ПО Oracle и поставщик OLE DB Oracle, чтобы распространитель мог подключаться к издателю Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-137">You must install and configure Oracle client networking software and the Oracle OLE DB provider on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, so that the Distributor can make connections to the Oracle Publisher.</span></span> <span data-ttu-id="0b2bc-138">После установки ПО задайте для папок установки соответствующие разрешения, а затем остановите и перезапустите экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , чтобы обеспечить обновление всех параметров (разрешения описаны ниже в разделе «Установка разрешений для каталогов»).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-138">After installing the software, set the appropriate permissions on the folders in which the software is installed, and then stop and restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to ensure that all settings are updated (permissions are described later, in the section "Setting Directory Permissions").</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0b2bc-139">Необходимо использовать клиентское сетевое ПО Oracle последней доступной версии.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-139">The Oracle client networking software must be the most recent version available.</span></span> <span data-ttu-id="0b2bc-140">Oracle рекомендует пользователям установить самую новую версию клиентского программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-140">Oracle recommends that users install the most recent versions of client software.</span></span> <span data-ttu-id="0b2bc-141">Клиентское программное обеспечение часто бывает новее, чем программное обеспечение баз данных.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-141">The client software is therefore often a more recent version than the database software.</span></span>  
  
 <span data-ttu-id="0b2bc-142">Наиболее простой способ установки и настройки клиентского сетевого ПО заключается в использовании универсального установщика Oracle и программы Net Configuration Assistant, расположенных на компакт-диске с клиентским ПО Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-142">The most straightforward way to install and configure the client networking software is to use the Oracle Universal Installer and Net Configuration Assistant on the Oracle Client disk.</span></span>  
  
 <span data-ttu-id="0b2bc-143">В универсальном установщике Oracle необходимо ввести следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="0b2bc-143">In the Oracle Universal Installer, you will supply the following information:</span></span>  
  
|<span data-ttu-id="0b2bc-144">Сведения</span><span class="sxs-lookup"><span data-stu-id="0b2bc-144">Information</span></span>|<span data-ttu-id="0b2bc-145">Описание</span><span class="sxs-lookup"><span data-stu-id="0b2bc-145">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="0b2bc-146">Oracle Home</span><span class="sxs-lookup"><span data-stu-id="0b2bc-146">Oracle Home</span></span>|<span data-ttu-id="0b2bc-147">Это путь к каталогу, в который устанавливается программное обеспечение Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-147">This is the path to the install directory for the Oracle software.</span></span> <span data-ttu-id="0b2bc-148">Примите значение по умолчанию (C:\oracle\ora90 или похожее) или задайте другой путь.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-148">Accept the default (C:\oracle\ora90 or similar) or enter another path.</span></span> <span data-ttu-id="0b2bc-149">Дополнительные сведения о каталоге Oracle Home см. в подразделе «Рассмотрение Oracle Home» далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-149">For more information about the Oracle Home, see the section "Considerations for Oracle Home" later in this topic.</span></span>|  
|<span data-ttu-id="0b2bc-150">Имя каталога Oracle Home</span><span class="sxs-lookup"><span data-stu-id="0b2bc-150">Oracle home name</span></span>|<span data-ttu-id="0b2bc-151">Псевдоним для пути к каталогу Oracle Home.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-151">An alias for the Oracle home path.</span></span>|  
|<span data-ttu-id="0b2bc-152">Тип установки</span><span class="sxs-lookup"><span data-stu-id="0b2bc-152">Installation type</span></span>|<span data-ttu-id="0b2bc-153">В Oracle 10g выберите параметр установки **Administrator** .</span><span class="sxs-lookup"><span data-stu-id="0b2bc-153">In Oracle 10g, select the **Administrator** installation option.</span></span>|  
  
 <span data-ttu-id="0b2bc-154">После того как установка Oracle завершена, для настройки сетевых подключений используйте компонент Net Configuration Assistant.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-154">After the Oracle Universal Installer is complete, use the Net Configuration Assistant to configure network connectivity.</span></span> <span data-ttu-id="0b2bc-155">Для настройки сетевых подключений необходимо ввести сведения в четырех разделах.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-155">You must supply four pieces of information to configure network connectivity.</span></span> <span data-ttu-id="0b2bc-156">Администратор базы данных Oracle настраивает сеть, когда устанавливает базу данных и прослушиватель, поэтому он должен быть способен предоставить эти сведения, если они отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-156">The Oracle database administrator configures the network configuration when setting up the database and listener and should be able to provide this information if you do not have it.</span></span> <span data-ttu-id="0b2bc-157">Необходимо выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="0b2bc-157">You must do the following:</span></span>  
  
|<span data-ttu-id="0b2bc-158">Действие</span><span class="sxs-lookup"><span data-stu-id="0b2bc-158">Action</span></span>|<span data-ttu-id="0b2bc-159">Описание</span><span class="sxs-lookup"><span data-stu-id="0b2bc-159">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="0b2bc-160">Идентификация базы данных</span><span class="sxs-lookup"><span data-stu-id="0b2bc-160">Identify the database</span></span>|<span data-ttu-id="0b2bc-161">Существует два способа идентификации базы данных.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-161">There are two methods for identifying the database.</span></span> <span data-ttu-id="0b2bc-162">Первый способ использует компонент Oracle System Identifier (SID), который доступен во всех версиях Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-162">The first method uses the Oracle System Identifier (SID) and is available in every Oracle release.</span></span> <span data-ttu-id="0b2bc-163">Второй метод использует компонент Service Name, доступный в версиях Oracle, начиная с 8.0.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-163">The second method uses the Service Name, which is available starting with Oracle release 8.0.</span></span> <span data-ttu-id="0b2bc-164">Оба метода используют значение, которое конфигурируется при создании базы данных, и важно, чтобы конфигурация сетевого клиента использовала тот же метод именования, что и администратор при конфигурации прослушивателя базы данных.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-164">Both methods use a value that is configured when the database is created and it is important that the client networking configuration use the same naming method that the administrator used when configuring the listener for the database.</span></span>|  
|<span data-ttu-id="0b2bc-165">Идентификация сетевого псевдонима базы данных</span><span class="sxs-lookup"><span data-stu-id="0b2bc-165">Identify a network alias for the database</span></span>|<span data-ttu-id="0b2bc-166">Необходимо указать сетевой псевдоним, который будет использоваться для доступа к базе данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-166">You must specify a network alias, which is used to access the Oracle database.</span></span> <span data-ttu-id="0b2bc-167">Этот же псевдоним следует использовать при идентификации базы данных Oracle в качестве издателя на распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0b2bc-167">You also supply this alias when you identify the Oracle database as a Publisher at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor.</span></span> <span data-ttu-id="0b2bc-168">Сетевой псевдоним — это, по существу, указатель на удаленный SID или имя службы, сконфигурированное при создании базы данных. Это относится к нескольким названиям в различных версиях и продуктах Oracle, включая Net Service Name и TNS Alias.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-168">The network alias is essentially a pointer to the remote SID or Service Name that was configured when the database was created; it has been referred to by several names in different Oracle releases and products, including Net Service Name and TNS Alias.</span></span> <span data-ttu-id="0b2bc-169">SQL\*Plus запрашивает этот псевдоним как параметр «Host String» при входе.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-169">SQL\*Plus prompts for this alias as the "Host String" parameter when you log in.</span></span>|  
|<span data-ttu-id="0b2bc-170">Выберите сетевой протокол.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-170">Select the network protocol</span></span>|<span data-ttu-id="0b2bc-171">Выберите соответствующие поддерживаемые протоколы.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-171">Select the appropriate protocols you would like to support.</span></span> <span data-ttu-id="0b2bc-172">Большинство приложений использует протокол TCP.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-172">Most applications use TCP.</span></span>|  
|<span data-ttu-id="0b2bc-173">Задайте сведения об узле для идентификации прослушивателя базы данных</span><span class="sxs-lookup"><span data-stu-id="0b2bc-173">Specify the host information to identify the database listener</span></span>|<span data-ttu-id="0b2bc-174">Узел — это имя или DNS-псевдоним компьютера, на котором запущен прослушиватель Oracle. Обычно это тот же компьютер, на котором расположена база данных.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-174">The host is the name or DNS alias of the computer on which the Oracle listener is running, which is typically the same computer on which the database resides.</span></span> <span data-ttu-id="0b2bc-175">Для некоторых протоколов, возможно, нужно будет указать дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-175">For some protocols, you must provide additional information.</span></span> <span data-ttu-id="0b2bc-176">Например если выбрать протокол ТСР, нужно будет указать порт, который слушается прослушивателем для запросов на подключение к целевой базе данных.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-176">For example, if you select TCP, you must supply the port on which the listener is listening for connection requests to the target database.</span></span> <span data-ttu-id="0b2bc-177">По умолчанию для протокола TCP используется порт 1521.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-177">The default TCP configuration uses port 1521.</span></span>|  
  
### <a name="setting-directory-permissions"></a><span data-ttu-id="0b2bc-178">Установка разрешений для каталогов</span><span class="sxs-lookup"><span data-stu-id="0b2bc-178">Setting Directory Permissions</span></span>  
 <span data-ttu-id="0b2bc-179">Учетной записи, под которой выполняется служба [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на распространителе, должны быть предоставлены разрешения на чтение и выполнение для каталога (и всех подкаталогов), в котором установлено клиентское сетевое ПО Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-179">The account under which the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service on the Distributor runs must be granted read and execute permissions for the directory (and all subdirectories) in which the Oracle client networking software is installed.</span></span>  
  
### <a name="testing-connectivity-between-the-sql-server-distributor-and-the-oracle-publisher"></a><span data-ttu-id="0b2bc-180">Проверка соединения между распространителем SQL Server и издателем Oracle</span><span class="sxs-lookup"><span data-stu-id="0b2bc-180">Testing Connectivity Between the SQL Server Distributor and the Oracle Publisher</span></span>  
 <span data-ttu-id="0b2bc-181">Перед завершением программы Net Configuration Assistant есть возможность проверить подключения к издателю Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-181">Near the end of the Net Configuration Assistant there might be an option to test the connection to the Oracle Publisher.</span></span> <span data-ttu-id="0b2bc-182">До начала проверки соединения убедитесь в том, что экземпляр базы данных Oracle находится в режиме «в сети» и запущен прослушиватель Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-182">Before you test the connection, ensure that the Oracle database instance is online and that the Oracle Listener is running.</span></span> <span data-ttu-id="0b2bc-183">Если проверка не удалась, свяжитесь с администратором Oracle, ответственным за базу данных, к которой была предпринята попытка подключиться.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-183">If the test is unsuccessful, contact the Oracle DBA responsible for the database to which you are trying to connect.</span></span>  
  
 <span data-ttu-id="0b2bc-184">После успешного подключения к издателю Oracle попробуйте подключиться к базе данных под учетной записью и паролем, связанным с созданной схемой администратора репликации.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-184">After you have made a successful connection to the Oracle Publisher, attempt to log in to the database using the account and password associated with the replication administrative user schema you created.</span></span> <span data-ttu-id="0b2bc-185">Необходимо выполнить следующие действия при использовании той же учетной записи Windows, которую использует служба [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="0b2bc-185">The following must be performed while running under the same Windows account that the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service uses:</span></span>  
  
1.  <span data-ttu-id="0b2bc-186">Нажмите кнопку **Пуск**, затем щелкните **Выполнить**.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-186">Click **Start**, and then click **Run**.</span></span>  
  
2.  <span data-ttu-id="0b2bc-187">Введите `cmd` и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-187">Type `cmd` and click **OK**.</span></span>  
  
3.  <span data-ttu-id="0b2bc-188">В командной строке введите:</span><span class="sxs-lookup"><span data-stu-id="0b2bc-188">At the command prompt, type:</span></span>  
  
     `sqlplus <UserSchemaLogin>/<UserSchemaPassword>@<NetServiceName>`  
  
     <span data-ttu-id="0b2bc-189">Например: `sqlplus replication/$tr0ngPasswerd@Oracle90Server`</span><span class="sxs-lookup"><span data-stu-id="0b2bc-189">For example: `sqlplus replication/$tr0ngPasswerd@Oracle90Server`</span></span>  
  
4.  <span data-ttu-id="0b2bc-190">Если настройка сети прошла удачно, будет выполнен вход и появится окно сеанса `SQL` .</span><span class="sxs-lookup"><span data-stu-id="0b2bc-190">If the networking configuration was successful, the login will succeed and you will see a `SQL` prompt.</span></span>  
  
5.  <span data-ttu-id="0b2bc-191">Если при подключении к базе данных Oracle возникли проблемы, см. раздел «Распространителю [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не удается подключиться к экземпляру базы данных Oracle» в [Troubleshooting Oracle Publishers](troubleshooting-oracle-publishers.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-191">If you experience problems connecting to the Oracle database, see the section "The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor cannot connect to the Oracle database instance" in [Troubleshooting Oracle Publishers](troubleshooting-oracle-publishers.md).</span></span>  
  
### <a name="considerations-for-oracle-home"></a><span data-ttu-id="0b2bc-192">Рассмотрение Oracle Home</span><span class="sxs-lookup"><span data-stu-id="0b2bc-192">Considerations for Oracle Home</span></span>  
 <span data-ttu-id="0b2bc-193">Oracle поддерживает параллельную установку двоичных файлов приложений, но только один набор двоичных файлов может использоваться для репликации в текущий момент.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-193">Oracle supports side-by-side installation of application binaries, but only one set of binaries can be used by replication at a given time.</span></span> <span data-ttu-id="0b2bc-194">Каждый набор двоичных файлов связан с Oracle Home; двоичные файлы находятся в каталоге %ORACLE_HOME%\bin.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-194">Each set of binaries is associated with an Oracle Home; the binaries are in the directory %ORACLE_HOME%\bin.</span></span> <span data-ttu-id="0b2bc-195">Когда репликация выполняет подключение к издателю Oracle, необходимо убедиться в том, что используется правильный набор двоичных файлов (а именно, последняя версия клиентского сетевого ПО).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-195">You must ensure that the correct set of binaries (specifically the latest version of the client networking software) is used when replication makes connections to the Oracle Publisher.</span></span>  
  
 <span data-ttu-id="0b2bc-196">Войдите на распространитель под учетными записями, используемыми службой [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] и службой агентов [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , установите соответствующие переменные среды.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-196">Log into the Distributor with the accounts used by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service and the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service and set the appropriate environment variables.</span></span> <span data-ttu-id="0b2bc-197">Переменная %ORACLE_HOME% должна указывать на точку установки, заданную при установке сетевого клиентского программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-197">The %ORACLE_HOME% variable should be set to refer to the installation point you specified when you installed the client networking software.</span></span> <span data-ttu-id="0b2bc-198">Переменная %PATH% должна включать каталог %ORACLE_HOME% \bin в качестве первой записи, относящейся к Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-198">The %PATH% must include the %ORACLE_HOME% \bin directory as the first Oracle entry that is encountered.</span></span> <span data-ttu-id="0b2bc-199">Сведения о настройке переменных среды см. в документации по операционной системе Windows.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-199">For information about setting environment variables, see the Windows documentation.</span></span>  
  
## <a name="configuring-the-oracle-database-as-a-publisher-at-the-sql-server-distributor"></a><span data-ttu-id="0b2bc-200">Настройка базы данных Oracle как издателя на распространителе SQL Server</span><span class="sxs-lookup"><span data-stu-id="0b2bc-200">Configuring the Oracle Database as a Publisher at the SQL Server Distributor</span></span>  
 <span data-ttu-id="0b2bc-201">Издатели Oracle всегда используют удаленный распространитель. Необходимо настроить экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , чтобы он работал как распространитель для издателя Oracle (издатель Oracle может использовать только один распределитель, но отдельный распространитель может обслуживать несколько издателей Oracle).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-201">Oracle Publishers always use a remote Distributor; you must configure an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to act as a Distributor for your Oracle Publisher (an Oracle Publisher can only use one Distributor, but a single Distributor can service more than one Oracle Publisher).</span></span> <span data-ttu-id="0b2bc-202">После настройки распространителя определите экземпляр базы данных Oracle как издатель на распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с помощью среды [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], Transact-SQL или объектов RMO.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-202">After a Distributor is configured, identify the Oracle database instance as a Publisher at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor through [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], Transact-SQL, or Replication Management Objects (RMO).</span></span> <span data-ttu-id="0b2bc-203">Дополнительные сведения о настройке распространителя см. в [этой статье](../configure-distribution.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-203">For more information about configuring a Distributor, see [Configure Distribution](../configure-distribution.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0b2bc-204">Издатель Oracle не может иметь то же имя, что и его распространитель [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , или имя любого из издателей [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , использующих тот же распространитель.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-204">An Oracle Publisher cannot have the same name as its [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor or the same name as any of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Publishers using the same Distributor.</span></span>  
  
 <span data-ttu-id="0b2bc-205">При идентификации баз данных Oracle в качестве издателя необходимо выбрать параметр публикации Oracle: Complete или Oracle Gateway.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-205">When you identify the Oracle database as a Publisher, you must choose an Oracle publishing option: Complete or Oracle Gateway.</span></span> <span data-ttu-id="0b2bc-206">После идентификации издателя изменить данный параметр без удаления и перенастройки издателя невозможно.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-206">After a Publisher is identified, this option cannot be changed without dropping and reconfiguring the Publisher.</span></span> <span data-ttu-id="0b2bc-207">Параметр «Complete» предназначен для обеспечения публикаций моментальными снимками и публикаций транзакций полным набором поддерживаемых функций, необходимых для публикаций Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-207">The Complete option is designed to provide snapshot and transactional publications with the complete set of supported features for Oracle publishing.</span></span> <span data-ttu-id="0b2bc-208">Параметр «Oracle Gateway» обеспечивает оптимизацию производительности для случаев, когда шлюзом между системами выступает репликация.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-208">The Oracle Gateway option provides specific design optimizations to improve performance for cases where replication serves as a gateway between systems.</span></span>  
  
 <span data-ttu-id="0b2bc-209">После идентификации издателя Oracle на распространителе [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] репликация создает связанный сервер с таким же именем, как и служба TNS базы данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-209">After the Oracle Publisher is identified at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, replication creates a linked server with the same name as the TNS service name of the Oracle database.</span></span> <span data-ttu-id="0b2bc-210">Этот связанный сервер может использоваться только репликацией.</span><span class="sxs-lookup"><span data-stu-id="0b2bc-210">This linked server can be used only by replication.</span></span> <span data-ttu-id="0b2bc-211">Если вам нужно подключиться к издателю Oracle через подключение связанного сервера, создайте другое имя службы TNS и используйте это имя при вызове процедуры [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-211">If you need to connect to the Oracle Publisher over a linked server connection, create another TNS service name, and then use this name when calling [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span></span>  
  
 <span data-ttu-id="0b2bc-212">Чтобы настроить издатель Oracle и создать публикацию, см. раздел [Create a Publication from an Oracle Database](../publish/create-a-publication-from-an-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="0b2bc-212">To configure an Oracle Publisher and create a publication, see [Create a Publication from an Oracle Database](../publish/create-a-publication-from-an-oracle-database.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0b2bc-213">См. также:</span><span class="sxs-lookup"><span data-stu-id="0b2bc-213">See Also</span></span>  
 <span data-ttu-id="0b2bc-214">[Administrative Considerations for Oracle Publishers](administrative-considerations-for-oracle-publishers.md)  (Вопросы управления издателями Oracle)</span><span class="sxs-lookup"><span data-stu-id="0b2bc-214">[Administrative Considerations for Oracle Publishers](administrative-considerations-for-oracle-publishers.md) </span></span>  
 <span data-ttu-id="0b2bc-215">[Data Type Mapping for Oracle Publishers](data-type-mapping-for-oracle-publishers.md) </span><span class="sxs-lookup"><span data-stu-id="0b2bc-215">[Data Type Mapping for Oracle Publishers](data-type-mapping-for-oracle-publishers.md) </span></span>  
 <span data-ttu-id="0b2bc-216">[Глоссарий терминов по публикации Oracle](glossary-of-terms-for-oracle-publishing.md) </span><span class="sxs-lookup"><span data-stu-id="0b2bc-216">[Glossary of Terms for Oracle Publishing](glossary-of-terms-for-oracle-publishing.md) </span></span>  
 [<span data-ttu-id="0b2bc-217">Обзор публикации Oracle</span><span class="sxs-lookup"><span data-stu-id="0b2bc-217">Oracle Publishing Overview</span></span>](oracle-publishing-overview.md)  
  
  

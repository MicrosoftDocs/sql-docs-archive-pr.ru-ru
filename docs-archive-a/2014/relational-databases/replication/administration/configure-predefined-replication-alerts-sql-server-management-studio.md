---
title: Настройка стандартных предупреждений репликации (среда SQL Server Management Studio) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- alerts [SQL Server replication]
- predefined replication alerts [SQL Server replication]
ms.assetid: c0414147-7ffe-4f9a-908c-71c1b5201584
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: aa78a08757cc7bbe809c5e3a1808c9632b76763a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750795"
---
# <a name="configure-predefined-replication-alerts-sql-server-management-studio"></a><span data-ttu-id="7bde3-102">Настройка стандартных предупреждений репликации (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="7bde3-102">Configure Predefined Replication Alerts (SQL Server Management Studio)</span></span>
  <span data-ttu-id="7bde3-103">Репликация предоставляет следующие предварительно установленные предупреждения, которые могут быть настроены для реакции на события репликации:</span><span class="sxs-lookup"><span data-stu-id="7bde3-103">Replication offers the following predefined alerts, which can be configured to respond to replication events:</span></span>  
  
-   <span data-ttu-id="7bde3-104">**Репликация: успех агента**</span><span class="sxs-lookup"><span data-stu-id="7bde3-104">**Replication: agent success**</span></span>    
-   <span data-ttu-id="7bde3-105">**Репликация: неудача агента**</span><span class="sxs-lookup"><span data-stu-id="7bde3-105">**Replication: agent failure**</span></span>    
-   <span data-ttu-id="7bde3-106">**Репликация: повторная попытка агента**</span><span class="sxs-lookup"><span data-stu-id="7bde3-106">**Replication: agent retry**</span></span>    
-   <span data-ttu-id="7bde3-107">**Репликация: истекшая подписка удалена**</span><span class="sxs-lookup"><span data-stu-id="7bde3-107">**Replication: expired subscription dropped**</span></span>    
-   <span data-ttu-id="7bde3-108">**Репликация: подписка повторно инициализирована после неудачной проверки**</span><span class="sxs-lookup"><span data-stu-id="7bde3-108">**Replication: Subscription reinitialized after validation failure**</span></span>    
-   <span data-ttu-id="7bde3-109">**Репликация: подписчик не прошел проверку данных**</span><span class="sxs-lookup"><span data-stu-id="7bde3-109">**Replication: Subscriber has failed data validation**</span></span>    
-   <span data-ttu-id="7bde3-110">**Репликация: подписчик прошел проверку данных**</span><span class="sxs-lookup"><span data-stu-id="7bde3-110">**Replication: Subscriber has passed data validation**</span></span>    
-   <span data-ttu-id="7bde3-111">**Репликация: нестандартное завершение работы агента**</span><span class="sxs-lookup"><span data-stu-id="7bde3-111">**Replication: agent custom shutdown**</span></span>  
  
 <span data-ttu-id="7bde3-112">Настройте эти предупреждения в папке **Предупреждения** среды [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] или на вкладке **Предупреждения** монитора репликации.</span><span class="sxs-lookup"><span data-stu-id="7bde3-112">Configure these alerts from the **Alerts** folder in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or the **Warnings** tab in Replication Monitor.</span></span> <span data-ttu-id="7bde3-113">Дополнительные сведения о доступе к этой вкладке см. в разделе [Просмотр сведений и выполнение задач с помощью монитора репликации](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="7bde3-113">For more information about accessing this tab, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
 <span data-ttu-id="7bde3-114">Наряду с этими предупреждениями монитор репликации предоставляет набор предупреждений и оповещений, относящихся к состоянию и производительности.</span><span class="sxs-lookup"><span data-stu-id="7bde3-114">In addition to these alerts, Replication Monitor provides a set of warnings and alerts related to status and performance.</span></span> <span data-ttu-id="7bde3-115">Дополнительные сведения см. [в разделе Установка пороговых значений и предупреждений в](../monitor/set-thresholds-and-warnings-in-replication-monitor.md) инфраструктуре предупреждений монитора репликации.</span><span class="sxs-lookup"><span data-stu-id="7bde3-115">For more information, see [Set Thresholds and Warnings in Replication Monitor](../monitor/set-thresholds-and-warnings-in-replication-monitor.md) alerts infrastructure.</span></span> <span data-ttu-id="7bde3-116">Дополнительные сведения см. в статье [Создание пользовательского события](../../../ssms/agent/create-a-user-defined-event.md).</span><span class="sxs-lookup"><span data-stu-id="7bde3-116">For more information, see [Create a User-Defined Event](../../../ssms/agent/create-a-user-defined-event.md).</span></span>  
  
### <a name="to-configure-a-predefined-replication-alert-in-management-studio"></a><span data-ttu-id="7bde3-117">Настройка предварительно определенного предупреждения репликации в Management Studio</span><span class="sxs-lookup"><span data-stu-id="7bde3-117">To configure a predefined replication alert in Management Studio</span></span>  
  
1.  <span data-ttu-id="7bde3-118">Подключитесь к распространителю в [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)]и разверните узел сервера.</span><span class="sxs-lookup"><span data-stu-id="7bde3-118">Connect to the Distributor in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="7bde3-119">Раскройте папку **Агент SQL Server** , затем раскройте папку **Предупреждения** .</span><span class="sxs-lookup"><span data-stu-id="7bde3-119">Expand the **SQL Server Agent** folder, and then expand the **Alerts** folder.</span></span>    
3.  <span data-ttu-id="7bde3-120">Щелкните правой кнопкой мыши предупреждение репликации, затем щелкните **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-120">Right-click a replication alert, and then click **Properties**.</span></span>    
4.  <span data-ttu-id="7bde3-121">Задайте следующие параметры в диалоговом окне **\<AlertName> свойств предупреждения**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-121">Set options in the **\<AlertName> alert properties** dialog box:</span></span>    
    -   <span data-ttu-id="7bde3-122">На странице **Общие** щелкните **Включить**, укажите базу данных, к которой нужно применить данное предупреждение.</span><span class="sxs-lookup"><span data-stu-id="7bde3-122">On the **General** page, click **Enable**; specify which database the alert should apply to.</span></span>    
    -   <span data-ttu-id="7bde3-123">На странице **Ответ** укажите, надо ли отправить оповещение по электронной почте и/или запустить задание.</span><span class="sxs-lookup"><span data-stu-id="7bde3-123">On the **Response** page, specify whether an e-mail should be sent and/or a job should be executed.</span></span>  
  
         <span data-ttu-id="7bde3-124">Если появилось предупреждение **Репликация: ошибка проверки данных подписчиком**, можно указать ответное задание, которое предусмотрено в репликации для этого предупреждения. Выберите **Выполнить задание** и нажмите кнопку обзора ( **…** ). В диалоговом окне **Найти задание** щелкните **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-124">If the alert is **Replication: Subscriber has failed data validation**, you can specify the response job that replication provides for this alert: Select **Execute job**, and then click the browse button (**...**). In the **Locate Job** dialog box, click **Browse**.</span></span> <span data-ttu-id="7bde3-125">В диалоговом окне **Поиск объектов** установите флажок **Повторная инициализация подписок, имеющих сбои при выполнении проверки данных**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-125">In the **Browse for Objects** dialog box, select **Reinitialize subscriptions having data validation failures**.</span></span> <span data-ttu-id="7bde3-126">В обоих окнах нажмите **ОК** .</span><span class="sxs-lookup"><span data-stu-id="7bde3-126">Click **OK** in both open dialog boxes.</span></span> <span data-ttu-id="7bde3-127">Во время выполнения задание осуществляет удаленный вызов хранимой процедуры, которая повторно инициализирует подписку.</span><span class="sxs-lookup"><span data-stu-id="7bde3-127">When the job executes, it uses a remote procedure call (RPC) to a stored procedure that reinitializes the subscription.</span></span> <span data-ttu-id="7bde3-128">Если издатель использует удаленный распространитель, необходимо указать на издателе имя входа удаленного сервера, чтобы сделать возможным удаленный вызов процедур с распространителя на издатель.</span><span class="sxs-lookup"><span data-stu-id="7bde3-128">If the Publisher uses a remote Distributor, you must define a remote server login at the Publisher, so that the RPC from the Distributor to the Publisher can be made.</span></span>   
    -   <span data-ttu-id="7bde3-129">На странице **Параметры** измените текст ответа.</span><span class="sxs-lookup"><span data-stu-id="7bde3-129">On the **Options** page, customize the text of the response.</span></span>    
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
### <a name="to-configure-an-alert-for-a-threshold-in-replication-monitor"></a><span data-ttu-id="7bde3-130">Настройка предупреждения для порогового значения в мониторе репликации</span><span class="sxs-lookup"><span data-stu-id="7bde3-130">To configure an alert for a threshold in Replication Monitor</span></span>  
  
1.  <span data-ttu-id="7bde3-131">На вкладке **Предупреждения** щелкните **Настройка предупреждений**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-131">On the **Warnings** tab click **Configure Alerts**.</span></span>    
2.  <span data-ttu-id="7bde3-132">В диалоговом окне **Настройка предупреждений репликации** выберите необходимое предупреждение, а затем щелкните **Настроить**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-132">In the **Configure Replication Alerts** dialog box, select an alert, and then click **Configure**.</span></span>    
3.  <span data-ttu-id="7bde3-133">Задайте следующие параметры в диалоговом окне **\<AlertName> свойств предупреждения**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-133">Set options in the **\<AlertName> alert properties** dialog box:</span></span>    
    -   <span data-ttu-id="7bde3-134">На странице **Общие** щелкните **Включить**, укажите базу данных, к которой нужно применить данное предупреждение.</span><span class="sxs-lookup"><span data-stu-id="7bde3-134">On the **General** page, click **Enable**; specify which database the alert should apply to.</span></span>    
    -   <span data-ttu-id="7bde3-135">На странице **Ответ** укажите, надо ли отправить оповещение по электронной почте и/или запустить задание.</span><span class="sxs-lookup"><span data-stu-id="7bde3-135">On the **Response** page, specify whether an e-mail should be sent and/or a job should be executed.</span></span>    
         <span data-ttu-id="7bde3-136">Если появилось предупреждение **Репликация: ошибка проверки данных подписчиком**, можно указать ответное задание, которое предусмотрено в репликации для этого предупреждения. Выберите **Выполнить задание** и нажмите кнопку обзора ( **…** ). В диалоговом окне **Найти задание** щелкните **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-136">If the alert is **Replication: Subscriber has failed data validation**, you can specify the response job that replication provides for this alert: Select **Execute job**, and then click the browse button (**...**). In the **Locate Job** dialog box, click **Browse**.</span></span> <span data-ttu-id="7bde3-137">В диалоговом окне **Поиск объектов** установите флажок **Повторная инициализация подписок, имеющих сбои при выполнении проверки данных**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-137">In the **Browse for Objects** dialog box, select **Reinitialize subscriptions having data validation failures**.</span></span> <span data-ttu-id="7bde3-138">В обоих окнах нажмите **ОК** .</span><span class="sxs-lookup"><span data-stu-id="7bde3-138">Click **OK** in both open dialog boxes.</span></span> <span data-ttu-id="7bde3-139">Во время выполнения задание осуществляет удаленный вызов хранимой процедуры, которая повторно инициализирует подписку.</span><span class="sxs-lookup"><span data-stu-id="7bde3-139">When the job executes, it uses a remote procedure call (RPC) to a stored procedure that reinitializes the subscription.</span></span> <span data-ttu-id="7bde3-140">Если издатель использует удаленный распространитель, необходимо указать на издателе имя входа удаленного сервера, чтобы сделать возможным удаленный вызов процедур с распространителя на издатель.</span><span class="sxs-lookup"><span data-stu-id="7bde3-140">If the Publisher uses a remote Distributor, you must define a remote server login at the Publisher, so that the RPC from the Distributor to the Publisher can be made.</span></span>   
    -   <span data-ttu-id="7bde3-141">На странице **Параметры** измените текст ответа.</span><span class="sxs-lookup"><span data-stu-id="7bde3-141">On the **Options** page, customize the text of the response.</span></span>    
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]    
5.  <span data-ttu-id="7bde3-142">Щелкните **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="7bde3-142">Click **Close**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7bde3-143">См. также:</span><span class="sxs-lookup"><span data-stu-id="7bde3-143">See Also</span></span>  
 [<span data-ttu-id="7bde3-144">Использование предупреждений для событий агента репликации</span><span class="sxs-lookup"><span data-stu-id="7bde3-144">Use Alerts for Replication Agent Events</span></span>](../agents/use-alerts-for-replication-agent-events.md)  
  
  

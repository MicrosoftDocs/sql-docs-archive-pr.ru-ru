---
title: Рекомендации по администрированию репликации | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- administering replication, best practices
- replication [SQL Server], administering
ms.assetid: 850e8a87-b34c-4934-afb5-a1104f118ba8
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 16652561fa873c5d8a33d8826372837744543e70
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87736254"
---
# <a name="best-practices-for-replication-administration"></a><span data-ttu-id="45028-102">Рекомендации по администрированию репликации</span><span class="sxs-lookup"><span data-stu-id="45028-102">Best Practices for Replication Administration</span></span>
  <span data-ttu-id="45028-103">После настройки репликации важно разобраться, как следует управлять топологией репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-103">After you have configured replication, it is important to understand how to administer a replication topology.</span></span> <span data-ttu-id="45028-104">В этом разделе предоставляются основные рекомендации по ряду вопросов со ссылками на дополнительные источники информации по рассматриваемым темам.</span><span class="sxs-lookup"><span data-stu-id="45028-104">This topic provides basic best practice guidance in a number of areas with links to more information for each area.</span></span> <span data-ttu-id="45028-105">Помимо рекомендаций, описываемых в этом разделе, ознакомьтесь с часто встречающимися вопросами и проблемами, описанными в следующем источнике информации: [Вопросы, часто задаваемые администраторам репликации](frequently-asked-questions-for-replication-administrators.md).</span><span class="sxs-lookup"><span data-stu-id="45028-105">In addition to following the best practice guidance presented in this topic, consider reading through the frequently asked questions topic to acquaint yourself with common questions and issues: [Frequently Asked Questions for Replication Administrators](frequently-asked-questions-for-replication-administrators.md).</span></span>  
  
 <span data-ttu-id="45028-106">Рекомендации удобно разбить на две группы:</span><span class="sxs-lookup"><span data-stu-id="45028-106">It is useful to divide the best practice guidance into two areas:</span></span>  
  
-   <span data-ttu-id="45028-107">Приводимые ниже сведения охватывают рекомендации, которые следует использовать для всех топологий репликации:</span><span class="sxs-lookup"><span data-stu-id="45028-107">The following information covers best practices that should be implemented for all replication topologies:</span></span>  
  
    -   <span data-ttu-id="45028-108">Разработайте и проверьте стратегию резервного копирования и восстановления.</span><span class="sxs-lookup"><span data-stu-id="45028-108">Develop and test a backup and restore strategy.</span></span>  
  
    -   <span data-ttu-id="45028-109">Создайте скрипт для топологии репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-109">Script the replication topology.</span></span>  
  
    -   <span data-ttu-id="45028-110">Создайте пороговые значения и предупреждения.</span><span class="sxs-lookup"><span data-stu-id="45028-110">Create thresholds and alerts.</span></span>  
  
    -   <span data-ttu-id="45028-111">Ведите наблюдение за топологией репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-111">Monitor the replication topology.</span></span>  
  
    -   <span data-ttu-id="45028-112">Установите исходные уровни производительности и настройте репликацию при необходимости.</span><span class="sxs-lookup"><span data-stu-id="45028-112">Establish performance baselines and tune replication if necessary.</span></span>  
  
-   <span data-ttu-id="45028-113">Приводимые ниже сведения охватывают рекомендации, которые следует рассмотреть, но не обязательно применять в топологии:</span><span class="sxs-lookup"><span data-stu-id="45028-113">The following information covers best practices that should be considered, but might not be required for your topology:</span></span>  
  
    -   <span data-ttu-id="45028-114">Периодически проверяйте данные.</span><span class="sxs-lookup"><span data-stu-id="45028-114">Validate data periodically.</span></span>  
  
    -   <span data-ttu-id="45028-115">Настройте параметры агента с помощью профилей.</span><span class="sxs-lookup"><span data-stu-id="45028-115">Adjust agent parameters through profiles.</span></span>  
  
    -   <span data-ttu-id="45028-116">Настройте сроки хранения публикации и распространителя.</span><span class="sxs-lookup"><span data-stu-id="45028-116">Adjust publication and distribution retention periods.</span></span>  
  
    -   <span data-ttu-id="45028-117">Разберитесь в том, как следует изменить свойства статьи и публикации при изменении требований приложения.</span><span class="sxs-lookup"><span data-stu-id="45028-117">Understand how to change article and publication properties if application requirements change.</span></span>  
  
    -   <span data-ttu-id="45028-118">Разберитесь в том, как следует выполнить изменения схемы при изменении требований приложения.</span><span class="sxs-lookup"><span data-stu-id="45028-118">Understand how to make schema changes if application requirements change.</span></span>  
  
## <a name="develop-and-test-a-backup-and-restore-strategy"></a><span data-ttu-id="45028-119">Создание и тестирование резервной копии и стратегия восстановления</span><span class="sxs-lookup"><span data-stu-id="45028-119">Develop and test a backup and restore strategy</span></span>  
 <span data-ttu-id="45028-120">Резервное копирование всех баз данных должно производиться на регулярной основе, с периодической проверкой возможности восстановления этих резервных копий, с проверкой на предмет различия реплицированных копий.</span><span class="sxs-lookup"><span data-stu-id="45028-120">All databases should be backed up on a regular basis, and the ability to restore those backups should be tested periodically; replicated databases are no different.</span></span> <span data-ttu-id="45028-121">Необходимо выполнять резервное копирование следующих баз данных:</span><span class="sxs-lookup"><span data-stu-id="45028-121">The following databases should be backed up regularly:</span></span>  
  
-   <span data-ttu-id="45028-122">Базы данных публикации</span><span class="sxs-lookup"><span data-stu-id="45028-122">Publication database</span></span>  
  
-   <span data-ttu-id="45028-123">Базы данных распространителя</span><span class="sxs-lookup"><span data-stu-id="45028-123">Distribution database</span></span>  
  
-   <span data-ttu-id="45028-124">Баз данных подписки</span><span class="sxs-lookup"><span data-stu-id="45028-124">Subscription databases</span></span>  
  
-   <span data-ttu-id="45028-125">Баз данных**msdb** и **master** на издателе, распространителе и на всех подписчиках</span><span class="sxs-lookup"><span data-stu-id="45028-125">**msdb** database and **master** database at the Publisher, Distributor, and all Subscribers</span></span>  
  
 <span data-ttu-id="45028-126">Реплицированные базы данных требуют особого внимания к резервному копированию и восстановлению данных.</span><span class="sxs-lookup"><span data-stu-id="45028-126">Replicated databases require special attention with regards to backing up and restoring data.</span></span> <span data-ttu-id="45028-127">Дополнительные сведения см. в разделе [Резервное копирование и восстановление реплицируемых баз данных](back-up-and-restore-replicated-databases.md).</span><span class="sxs-lookup"><span data-stu-id="45028-127">For more information, see [Back Up and Restore Replicated Databases](back-up-and-restore-replicated-databases.md).</span></span>  
  
## <a name="script-the-replication-topology"></a><span data-ttu-id="45028-128">Создание скрипта для топологии репликации</span><span class="sxs-lookup"><span data-stu-id="45028-128">Script the replication topology</span></span>  
 <span data-ttu-id="45028-129">Все компоненты репликации в топологии должны использоваться в скриптах как часть плана аварийного восстановления, а скрипты могут также использоваться для автоматизации повторяющихся задач.</span><span class="sxs-lookup"><span data-stu-id="45028-129">All replication components in a topology should be scripted as part of a disaster recovery plan, and scripts can also be used to automate repetitive tasks.</span></span> <span data-ttu-id="45028-130">Скрипт содержит системные хранимые процедуры [!INCLUDE[tsql](../../../includes/tsql-md.md)] , необходимые для реализации содержащихся в скрипте компонентов репликации, например публикации или подписки.</span><span class="sxs-lookup"><span data-stu-id="45028-130">A script contains the [!INCLUDE[tsql](../../../includes/tsql-md.md)] system stored procedures necessary to implement the replication component(s) scripted, such as a publication or subscription.</span></span> <span data-ttu-id="45028-131">Скрипты могут быть созданы с помощью мастера (например, мастера создания публикаций) или в [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] после создания компонента.</span><span class="sxs-lookup"><span data-stu-id="45028-131">Scripts can be created in a wizard (such as the New Publication Wizard) or in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] after you create a component.</span></span> <span data-ttu-id="45028-132">Скрипт можно просмотреть, изменить и запустить с помощью [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] или **sqlcmd**.</span><span class="sxs-lookup"><span data-stu-id="45028-132">You can view, modify, and run the script using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or **sqlcmd**.</span></span> <span data-ttu-id="45028-133">Скрипты могут сохраняться с файлами резервных копий для использования в случае, если необходимо перенастроить топологию репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-133">Scripts can be stored with backup files to be used in case a replication topology must be reconfigured.</span></span> <span data-ttu-id="45028-134">Дополнительные сведения см. в разделе [Scripting Replication](../scripting-replication.md).</span><span class="sxs-lookup"><span data-stu-id="45028-134">For more information, see [Scripting Replication](../scripting-replication.md).</span></span>  
  
 <span data-ttu-id="45028-135">Необходимо заново создать сценарий компонента, если изменились какие-либо свойства.</span><span class="sxs-lookup"><span data-stu-id="45028-135">A component should be rescripted if any property changes are made.</span></span> <span data-ttu-id="45028-136">Если с репликацией транзакций используются специальные хранимые процедуры, копия каждой процедуры должна сохраняться со скриптами. Если процедура изменяется, ее копия должна обновляться (процедуры обычно обновляются в связи с изменениями схемы или изменениями требований приложения).</span><span class="sxs-lookup"><span data-stu-id="45028-136">If you use custom stored procedures with transactional replication, a copy of each procedure should be stored with the scripts; the copy should be updated if the procedure changes (procedures are typically updated due to schema changes or changing application requirements).</span></span> <span data-ttu-id="45028-137">Дополнительные сведения о хранимых процедурах см. в статье [Указание способа распространения изменений для статей транзакций](../transactional/transactional-articles-specify-how-changes-are-propagated.md).</span><span class="sxs-lookup"><span data-stu-id="45028-137">For more information about custom procedures, see [Specify How Changes Are Propagated for Transactional Articles](../transactional/transactional-articles-specify-how-changes-are-propagated.md).</span></span>  
  
## <a name="establish-performance-baselines-and-tune-replication-if-necessary"></a><span data-ttu-id="45028-138">Установка исходных уровней производительности и настройка репликации при необходимости</span><span class="sxs-lookup"><span data-stu-id="45028-138">Establish performance baselines and tune replication if necessary</span></span>  
 <span data-ttu-id="45028-139">Перед настройкой репликации рекомендуется ознакомиться с факторами, влияющими на производительность репликации:</span><span class="sxs-lookup"><span data-stu-id="45028-139">Before replication is configured, it is recommended to familiarize yourself with the factors that affect replication performance:</span></span>  
  
-   <span data-ttu-id="45028-140">серверное и сетевое аппаратное обеспечение;</span><span class="sxs-lookup"><span data-stu-id="45028-140">Server and network hardware</span></span>  
  
-   <span data-ttu-id="45028-141">структура базы данных;</span><span class="sxs-lookup"><span data-stu-id="45028-141">Database design</span></span>  
  
-   <span data-ttu-id="45028-142">конфигурация распространителя;</span><span class="sxs-lookup"><span data-stu-id="45028-142">Distributor configuration</span></span>  
  
-   <span data-ttu-id="45028-143">структура и параметры публикации;</span><span class="sxs-lookup"><span data-stu-id="45028-143">Publication design and options</span></span>  
  
-   <span data-ttu-id="45028-144">структура фильтра и его использование;</span><span class="sxs-lookup"><span data-stu-id="45028-144">Filter design and use</span></span>  
  
-   <span data-ttu-id="45028-145">Параметры подписки</span><span class="sxs-lookup"><span data-stu-id="45028-145">Subscription options</span></span>  
  
-   <span data-ttu-id="45028-146">Параметры моментального снимка</span><span class="sxs-lookup"><span data-stu-id="45028-146">Snapshot options</span></span>  
  
-   <span data-ttu-id="45028-147">Параметры агента</span><span class="sxs-lookup"><span data-stu-id="45028-147">Agent parameters</span></span>  
  
-   <span data-ttu-id="45028-148">Обслуживание</span><span class="sxs-lookup"><span data-stu-id="45028-148">Maintenance</span></span>  
  
 <span data-ttu-id="45028-149">После настройки репликации рекомендуется сформулировать исходный уровень производительности, который позволит определить поведение репликации под рабочей нагрузкой, характерной для приложений и топологии.</span><span class="sxs-lookup"><span data-stu-id="45028-149">After replication is configured, it is recommended to develop a performance baseline, which will allow you to determine how replication behaves with a workload that is typical for your applications and topology.</span></span> <span data-ttu-id="45028-150">Используйте монитор репликации и системный монитор для определения типичных значений для следующих пяти измерений производительности репликации:</span><span class="sxs-lookup"><span data-stu-id="45028-150">Use Replication Monitor and System Monitor to determine typical numbers for the following five dimensions of replication performance:</span></span>  
  
-   <span data-ttu-id="45028-151">Задержка: время, затрачиваемое на распространение изменения данных между узлами в топологии репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-151">Latency: the amount of time it takes for a data change to be propagated between nodes in a replication topology.</span></span>  
  
-   <span data-ttu-id="45028-152">Пропускная способность: величина активности репликации (измеряемая в командах, доставленных за период времени), поддерживаемой системой.</span><span class="sxs-lookup"><span data-stu-id="45028-152">Throughput: the amount of replication activity (measured in commands delivered over a period of time) a system can sustain over time.</span></span>  
  
-   <span data-ttu-id="45028-153">Параллелизм: число процессов репликации, которые могут выполняться системой одновременно.</span><span class="sxs-lookup"><span data-stu-id="45028-153">Concurrency: the number of replication processes that can operate on a system simultaneously.</span></span>  
  
-   <span data-ttu-id="45028-154">Длительность синхронизации: время, затрачиваемое на выполнение заданной синхронизации.</span><span class="sxs-lookup"><span data-stu-id="45028-154">Duration of synchronization: how long it takes a given synchronization to complete.</span></span>  
  
-   <span data-ttu-id="45028-155">Потребление ресурсов: оборудование и сетевые ресурсы, используемые для обработки репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-155">Resource consumption: hardware and network resources used as a result of replication processing.</span></span>  
  
 <span data-ttu-id="45028-156">Задержка и пропускная способность наиболее полно характеризуют репликацию транзакций, поскольку для систем, основанных на репликации транзакций, обычно требуется малая задержка и высокая пропускная способность.</span><span class="sxs-lookup"><span data-stu-id="45028-156">Latency and throughput are most relevant to transactional replication, because systems built on transactional replication generally require low latency and high throughput.</span></span> <span data-ttu-id="45028-157">Параллелизм и длительность синхронизации наиболее точно характеризуют репликацию слиянием, поскольку системы, основанные на репликации слиянием, часто имеют большое число подписчиков, а издатель может иметь значительное число параллельно выполняющихся синхронизаций с этими подписчиками.</span><span class="sxs-lookup"><span data-stu-id="45028-157">Concurrency and duration of synchronization are most relevant to merge replication, because systems built on merge replication often have a large number of Subscribers, and a Publisher can have a significant number of concurrent synchronizations with these Subscribers.</span></span>  
  
 <span data-ttu-id="45028-158">После установки исходных значений установите значения порогов в мониторе репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-158">After you have established baseline numbers, set thresholds in Replication Monitor.</span></span> <span data-ttu-id="45028-159">Дополнительные сведения см. в статьях [Настройка пороговых значений и предупреждений в мониторе репликации](../monitor/set-thresholds-and-warnings-in-replication-monitor.md). и [Использование предупреждений для событий агента репликации](../agents/use-alerts-for-replication-agent-events.md).</span><span class="sxs-lookup"><span data-stu-id="45028-159">For more information, see [Set Thresholds and Warnings in Replication Monitor](../monitor/set-thresholds-and-warnings-in-replication-monitor.md) and [Use Alerts for Replication Agent Events](../agents/use-alerts-for-replication-agent-events.md).</span></span> <span data-ttu-id="45028-160">В случае проблемы с производительностью рекомендуется прочитать советы по повышению производительности в разделах, перечисленных выше, и произвести такие изменения, которые позволят устранить возникшие проблемы.</span><span class="sxs-lookup"><span data-stu-id="45028-160">If you encounter a performance problem, it is recommended to read through the suggestions in the enhancing performance topics listed above and to apply changes in areas that affect the issues you are encountering.</span></span>  
  
## <a name="create-thresholds-and-alerts"></a><span data-ttu-id="45028-161">Создание пороговых значений и предупреждений</span><span class="sxs-lookup"><span data-stu-id="45028-161">Create thresholds and alerts</span></span>  
 <span data-ttu-id="45028-162">Монитор репликации позволяет установить определенное количество пороговых значений, относящихся к состоянию и производительности.</span><span class="sxs-lookup"><span data-stu-id="45028-162">Replication Monitor allows you to set a number of thresholds related to status and performance.</span></span> <span data-ttu-id="45028-163">Рекомендуется установить пороговые значения, соответствующие применяемой топологии. При достижении порогового значения отображается предупреждение, и, дополнительно, предупреждение может посылаться на учетную запись электронной почты, пейджер или другое устройство.</span><span class="sxs-lookup"><span data-stu-id="45028-163">It is recommended to set the appropriate thresholds for your topology; if a threshold is reached, a warning is displayed, and, optionally, an alert can be sent to an e-mail account, a pager, or other device.</span></span> <span data-ttu-id="45028-164">Дополнительные сведения см. в статье [Set Thresholds and Warnings in Replication Monitor](../monitor/set-thresholds-and-warnings-in-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="45028-164">For more information, see [Set Thresholds and Warnings in Replication Monitor](../monitor/set-thresholds-and-warnings-in-replication-monitor.md).</span></span>  
  
 <span data-ttu-id="45028-165">Помимо предупреждений, которые могут быть связаны с наблюдаемыми пороговыми значениями, репликация предоставляет ряд предопределенных предупреждений, выводимых в ответ на действия агента репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-165">In addition to the alerts that can be associated with monitoring thresholds, replication provides a number of predefined alerts that respond to replication agent actions.</span></span> <span data-ttu-id="45028-166">Эти предупреждения могут использоваться администратором для получения сведений о состоянии топологии репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-166">These alerts can be used by an administrator to stay informed about the state of the replication topology.</span></span> <span data-ttu-id="45028-167">Рекомендуется ознакомиться с разделом, в котором описываются предупреждения, и использовать предупреждения, отвечающие потребностям администрирования (при необходимости можно создать дополнительные предупреждения).</span><span class="sxs-lookup"><span data-stu-id="45028-167">It is recommended to read through the topic describing the alerts and to use any that fit your administration needs (it is also possible to create additional alerts if necessary).</span></span> <span data-ttu-id="45028-168">Дополнительные сведения см. в статье [Использование предупреждений для событий агента репликации](../agents/use-alerts-for-replication-agent-events.md).</span><span class="sxs-lookup"><span data-stu-id="45028-168">For more information, see [Use Alerts for Replication Agent Events](../agents/use-alerts-for-replication-agent-events.md).</span></span>  
  
## <a name="monitor-the-replication-topology"></a><span data-ttu-id="45028-169">Наблюдение за топологией репликации</span><span class="sxs-lookup"><span data-stu-id="45028-169">Monitor the replication topology</span></span>  
 <span data-ttu-id="45028-170">После установки топологии репликации и настройки пороговых значений и предупреждений рекомендуется регулярно наблюдать за репликацией.</span><span class="sxs-lookup"><span data-stu-id="45028-170">After the replication topology is in place and thresholds and alerts have been configured, it is recommended to regularly monitor replication.</span></span> <span data-ttu-id="45028-171">Наблюдение за топологией репликации является важным аспектом развертывания репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-171">Monitoring a replication topology is an important aspect of deploying replication.</span></span> <span data-ttu-id="45028-172">Так как активность репликации является распределенной, важно отслеживать активность и состояние всех компьютеров, участвующих в репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-172">Because replication activity is distributed, it is essential to track activity and status across all computers involved in replication.</span></span> <span data-ttu-id="45028-173">Для наблюдения за репликацией можно использовать следующие средства:</span><span class="sxs-lookup"><span data-stu-id="45028-173">The following tools can be used to monitor replication:</span></span>  
  
-   <span data-ttu-id="45028-174">Монитор репликации является самым важным инструментом наблюдения за репликацией, позволяющим отслеживать исправность топологии репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-174">Replication Monitor is the most important tool for monitoring replication, allowing you to monitor the overall health of a replication topology.</span></span> <span data-ttu-id="45028-175">Дополнительные сведения см. в разделе [Monitoring Replication](../monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="45028-175">For more information, see [Monitoring Replication](../monitoring-replication.md).</span></span>  
  
-   [!INCLUDE[tsql](../../../includes/tsql-md.md)] <span data-ttu-id="45028-176">и объекты RMO предоставляют интерфейсы для наблюдения за репликацией.</span><span class="sxs-lookup"><span data-stu-id="45028-176">and Replication Management Objects (RMO) provide interfaces for monitoring replication.</span></span> <span data-ttu-id="45028-177">Дополнительные сведения см. в разделе [Monitoring Replication](../monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="45028-177">For more information, see [Monitoring Replication](../monitoring-replication.md).</span></span>  
  
-   <span data-ttu-id="45028-178">Системный монитор также может быть полезным для наблюдения за производительностью репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-178">System Monitor can also be useful for monitoring replication performance.</span></span> <span data-ttu-id="45028-179">Дополнительные сведения см. в статье [Monitoring Replication with System Monitor](../monitor/monitoring-replication-with-system-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="45028-179">For more information, see [Monitoring Replication with System Monitor](../monitor/monitoring-replication-with-system-monitor.md).</span></span>  
  
## <a name="validate-data-periodically"></a><span data-ttu-id="45028-180">Периодическая проверка данных</span><span class="sxs-lookup"><span data-stu-id="45028-180">Validate data periodically</span></span>  
 <span data-ttu-id="45028-181">Проверка не запрашивается самой репликацией, однако рекомендуется периодически выполнять проверку для репликации транзакций и репликации слиянием.</span><span class="sxs-lookup"><span data-stu-id="45028-181">Validation is not required by replication, but it is recommended to run validation periodically for transactional replication and merge replication.</span></span> <span data-ttu-id="45028-182">Проверка позволяет убедиться в том, что данные на подписчике совпадают с данными на издателе.</span><span class="sxs-lookup"><span data-stu-id="45028-182">Validation allows you to verify that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="45028-183">Успешная проверка показывает, что на момент проведения проверки все изменения с издателя были успешно реплицированы на подписчик (и с подписчика на издатель, если обновления поддерживаются на подписчике) и что обе базы данных находятся в синхронизированном состоянии.</span><span class="sxs-lookup"><span data-stu-id="45028-183">Successful validation indicates that at that point in time all changes from the Publisher have been replicated to the Subscriber (and from the Subscriber to the Publisher if updates are supported at the Subscriber) and that the two databases are in sync.</span></span>  
  
 <span data-ttu-id="45028-184">Рекомендуется проводить проверку данных согласно расписанию резервного копирования базы данных публикации.</span><span class="sxs-lookup"><span data-stu-id="45028-184">It is recommended that validation be performed according to the backup schedule of the publication database.</span></span> <span data-ttu-id="45028-185">Например, если полное резервное копирование базы данных публикации проводится раз в неделю, то проверка данных могла бы выполняться раз в неделю после завершения резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="45028-185">For example, if the publication database has a full backup once per week, validation could be run once per week after the backup completes.</span></span> <span data-ttu-id="45028-186">Дополнительные сведения см. в статье [Проверка реплицированных данных](../validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="45028-186">For more information, see [Validate Replicated Data](../validate-data-at-the-subscriber.md).</span></span>  
  
## <a name="use-agent-profiles-to-change-agent-parameters-if-necessary"></a><span data-ttu-id="45028-187">Использование профилей агента для изменения его параметров в случае необходимости</span><span class="sxs-lookup"><span data-stu-id="45028-187">Use agent profiles to change agent parameters if necessary</span></span>  
 <span data-ttu-id="45028-188">Профили агента обеспечивают удобный способ установки параметров агента репликации.</span><span class="sxs-lookup"><span data-stu-id="45028-188">Agent profiles provide a convenient method of setting replication agent parameters.</span></span> <span data-ttu-id="45028-189">Параметры могут также указываться в командной строке агента, но обычно целесообразнее использовать предопределенный профиль агента или создать новый профиль, если надо изменить значение какого-либо параметра.</span><span class="sxs-lookup"><span data-stu-id="45028-189">Parameters can also be specified on the agent command line, but it is typically more appropriate to use a predefined agent profile or to create a new profile if you need to change the value of a parameter.</span></span> <span data-ttu-id="45028-190">Например, если используется репликация слиянием и подписчик переходит с широкополосного подключения на коммутируемое подключение, рассмотрите возможность использования профиля **slow link** агента слияния. Этот профиль содержит ряд параметров, которые лучше подходят для менее скоростного канала связи.</span><span class="sxs-lookup"><span data-stu-id="45028-190">For example, if you are using merge replication and a Subscriber moves from a broadband connection to a dialup connection, consider using the **slow link** profile for the Merge Agent; this profile uses a set of parameters that are better suited to the slower communications link.</span></span> <span data-ttu-id="45028-191">Дополнительные сведения см. в статье [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="45028-191">For more information, see [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span></span>  
  
## <a name="adjust-publication-and-distribution-retention-periods-if-necessary"></a><span data-ttu-id="45028-192">Настройка при необходимости сроков хранения публикации и распространителя</span><span class="sxs-lookup"><span data-stu-id="45028-192">Adjust publication and distribution retention periods if necessary</span></span>  
 <span data-ttu-id="45028-193">Репликация транзакций и репликация слиянием используют сроки хранения для определения, соответственно, времени хранения транзакций в базе данных распространителя и частоты синхронизации подписок.</span><span class="sxs-lookup"><span data-stu-id="45028-193">Transactional replication and merge replication use retention periods to determine, respectively, how long transactions are stored in the distribution database, and how frequently a subscription must synchronize.</span></span> <span data-ttu-id="45028-194">Рекомендуется сначала использовать настройки по умолчанию, но выполнять наблюдение за топологией для определения необходимости дополнительной корректировки параметров.</span><span class="sxs-lookup"><span data-stu-id="45028-194">It is recommended to use the default settings initially, but to monitor your topology to determine if the settings require adjustment.</span></span> <span data-ttu-id="45028-195">Например, в случае репликации слиянием срок хранения публикации (равный по умолчанию 14 дням) определяет срок хранения метаданных в системных таблицах.</span><span class="sxs-lookup"><span data-stu-id="45028-195">For example, in the case of merge replication, the publication retention period (which defaults to 14 days) determines how long metadata is stored in system tables.</span></span> <span data-ttu-id="45028-196">Если подписки всегда синхронизируются в течение пяти дней, рассмотрите возможность изменения параметра в сторону уменьшения, что приведет к уменьшению объема метаданных и, возможно, обеспечит более высокую производительность.</span><span class="sxs-lookup"><span data-stu-id="45028-196">If subscriptions always synchronize within five days, consider adjusting the setting to a lower number, which will reduce metadata and possibly provide better performance.</span></span> <span data-ttu-id="45028-197">Дополнительные сведения см. в разделе [Subscription Expiration and Deactivation](../subscription-expiration-and-deactivation.md).</span><span class="sxs-lookup"><span data-stu-id="45028-197">For more information, see [Subscription Expiration and Deactivation](../subscription-expiration-and-deactivation.md).</span></span>  
  
## <a name="understand-how-to-modify-publications-if-application-requirements-change"></a><span data-ttu-id="45028-198">Порядок изменения публикаций в случае изменения требований приложения</span><span class="sxs-lookup"><span data-stu-id="45028-198">Understand how to modify publications if application requirements change</span></span>  
 <span data-ttu-id="45028-199">После создания публикации может возникнуть необходимость в добавлении или исключении статей либо в изменении свойств публикации или статьи.</span><span class="sxs-lookup"><span data-stu-id="45028-199">After you have created a publication, it might be necessary to add or drop articles, or change publication and article properties.</span></span> <span data-ttu-id="45028-200">После создания публикации разрешается большинство изменений, но в некоторых случаях необходимо создать для публикации новый моментальный снимок и/или повторно инициализировать подписки на эту публикацию.</span><span class="sxs-lookup"><span data-stu-id="45028-200">Most changes are allowed after a publication is created, but in some cases, it is necessary to generate a new snapshot for a publication and/or reinitialize subscriptions to the publication.</span></span> <span data-ttu-id="45028-201">Дополнительные сведения см. в статьях [Изменение свойств публикации и статьи](../publish/change-publication-and-article-properties.md) и [Добавление и удаление статей в существующих публикациях](../publish/add-articles-to-and-drop-articles-from-existing-publications.md).</span><span class="sxs-lookup"><span data-stu-id="45028-201">For more information, see [Change Publication and Article Properties](../publish/change-publication-and-article-properties.md) and [Add Articles to and Drop Articles from Existing Publications](../publish/add-articles-to-and-drop-articles-from-existing-publications.md).</span></span>  
  
## <a name="understand-how-to-make-schema-changes-if-application-requirements-change"></a><span data-ttu-id="45028-202">Внесение изменений схемы в случае изменения требований приложения</span><span class="sxs-lookup"><span data-stu-id="45028-202">Understand how to make schema changes if application requirements change</span></span>  
 <span data-ttu-id="45028-203">Во многих случаях изменения схемы требуются уже после запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="45028-203">In many cases, schema changes are required after an application is in production.</span></span> <span data-ttu-id="45028-204">В топологии репликации эти изменения часто должны быть распространены на все подписчики.</span><span class="sxs-lookup"><span data-stu-id="45028-204">In a replication topology, these changes must often be propagated to all Subscribers.</span></span> <span data-ttu-id="45028-205">Репликация поддерживает широкий диапазон изменений схем для опубликованных объектов.</span><span class="sxs-lookup"><span data-stu-id="45028-205">Replication supports a wide range of schema changes to published objects.</span></span> <span data-ttu-id="45028-206">При внесении любого из следующих изменений схемы в соответствующий опубликованный объект на издателе [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] это изменение распространяется по умолчанию на все подписчики [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="45028-206">When you make any of the following schema changes on the appropriate published object at a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Publisher, that change is propagated by default to all [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Subscribers:</span></span>  
  
-   <span data-ttu-id="45028-207">ALTER TABLE</span><span class="sxs-lookup"><span data-stu-id="45028-207">ALTER TABLE</span></span>  
  
-   <span data-ttu-id="45028-208">ALTER VIEW</span><span class="sxs-lookup"><span data-stu-id="45028-208">ALTER VIEW</span></span>  
  
-   <span data-ttu-id="45028-209">ALTER PROCEDURE</span><span class="sxs-lookup"><span data-stu-id="45028-209">ALTER PROCEDURE</span></span>  
  
-   <span data-ttu-id="45028-210">ALTER FUNCTION</span><span class="sxs-lookup"><span data-stu-id="45028-210">ALTER FUNCTION</span></span>  
  
-   <span data-ttu-id="45028-211">ALTER TRIGGER</span><span class="sxs-lookup"><span data-stu-id="45028-211">ALTER TRIGGER</span></span>  
  
 <span data-ttu-id="45028-212">Дополнительные сведения см. в статье [Внесение изменений в схемы баз данных публикации](../publish/make-schema-changes-on-publication-databases.md).</span><span class="sxs-lookup"><span data-stu-id="45028-212">For more information, see [Make Schema Changes on Publication Databases](../publish/make-schema-changes-on-publication-databases.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="45028-213">См. также:</span><span class="sxs-lookup"><span data-stu-id="45028-213">See Also</span></span>  
 [<span data-ttu-id="45028-214">Вопросы и ответы об администрировании репликации</span><span class="sxs-lookup"><span data-stu-id="45028-214">Replication Administration FAQ</span></span>](frequently-asked-questions-for-replication-administrators.md)  
  
  

---
title: Инициализация нового узла (одноранговая репликация) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.p2pwizard.init.f1
ms.assetid: 050c00e1-78bd-4d9c-affe-40e22feb4d94
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 26658fdfbcf0d3d3a88bedbace4102cda6cee9c2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666503"
---
# <a name="new-peer-initialization-peer-to-peer-replication"></a><span data-ttu-id="fd426-102">Инициализация нового узла (одноранговая репликация)</span><span class="sxs-lookup"><span data-stu-id="fd426-102">New Peer Initialization (Peer-to-Peer Replication)</span></span>
  <span data-ttu-id="fd426-103">Для указания метода инициализации одноранговых баз данных служит страница **Инициализация нового узла** .</span><span class="sxs-lookup"><span data-stu-id="fd426-103">Use the **New Peer Initialization** page to specify how peer databases were initialized.</span></span> <span data-ttu-id="fd426-104">(Перед завершением работы мастера необходимо инициализировать узлы.) Одноранговые узлы инициализируются вручную или с помощью функции " **инициализировать с помощью резервного копирования** ", предоставляемой репликацией транзакций.</span><span class="sxs-lookup"><span data-stu-id="fd426-104">(Peers must be initialized before you complete this wizard.) Peers are initialized manually or by using the **initialize with backup** functionality that is provided by transactional replication.</span></span> <span data-ttu-id="fd426-105">(Одноранговая репликация транзакций не поддерживает инициализацию одноранговых узлов с помощью моментального снимка.) Если разные узлы должны быть инициализированы с помощью различных методов, необходимо добавить одноранговые узлы отдельно, запустив мастер несколько раз.</span><span class="sxs-lookup"><span data-stu-id="fd426-105">(Peer-to-peer transactional replication does not support initializing peers by using a snapshot.) If different peers have to be initialized using different methods, you must add the peers separately by running the wizard multiple times.</span></span>  
  
## <a name="options"></a><span data-ttu-id="fd426-106">Варианты</span><span class="sxs-lookup"><span data-stu-id="fd426-106">Options</span></span>  
 <span data-ttu-id="fd426-107">**Укажите способ инициализации новых одноранговых баз данных**</span><span class="sxs-lookup"><span data-stu-id="fd426-107">**Specify how the new peer database(s) was initialized**</span></span>  
 <span data-ttu-id="fd426-108">Схема и данные для всех опубликованных объектов должны присутствовать на каждом узле.</span><span class="sxs-lookup"><span data-stu-id="fd426-108">The schema and data for all published objects must be present at each peer.</span></span> <span data-ttu-id="fd426-109">Выберите один из следующих вариантов.</span><span class="sxs-lookup"><span data-stu-id="fd426-109">Select one of the following options:</span></span>  
  
-   <span data-ttu-id="fd426-110">Выберите первый вариант, если схема для опубликованных объектов была создана вручную или восстановлена резервная копия, а данные в первой базе данных публикации не изменялись со времени резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="fd426-110">Select the first option if you have manually created the schema for published objects or you have restored a backup, and no data changes have been made at the first publication database since the backup was taken.</span></span> <span data-ttu-id="fd426-111">При создании схемы вручную необходимо обеспечить присутствие всех необходимых данных на каждом узле.</span><span class="sxs-lookup"><span data-stu-id="fd426-111">If you created the schema manually, you must ensure that all required data is present at each peer.</span></span> <span data-ttu-id="fd426-112">Этот режим соответствует значению **только поддержка репликации** для свойства подписки **sync_type**.</span><span class="sxs-lookup"><span data-stu-id="fd426-112">This option corresponds to a value of **replication support only** for the subscription property **sync_type**.</span></span>  
  
-   <span data-ttu-id="fd426-113">Выберите второй вариант, если была восстановлена резервная копия и данные в первой базе данных публикации изменились со времени резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="fd426-113">Select the second option if you have restored a backup, and data changes have been made at the first publication database since the backup was taken.</span></span> <span data-ttu-id="fd426-114">Теперь репликация должна доставить из первой базы данных публикации те изменения, которые не были включены в резервную копию.</span><span class="sxs-lookup"><span data-stu-id="fd426-114">Replication must now deliver changes from the first publication database that were not included in the backup.</span></span> <span data-ttu-id="fd426-115">Этот режим соответствует значению **инициализации при помощи резервной копии** для свойства подписки **sync_type**.</span><span class="sxs-lookup"><span data-stu-id="fd426-115">This option corresponds to a value of **initialize with backup** for the subscription property **sync_type**.</span></span>  
  
     <span data-ttu-id="fd426-116">Если публикация разрешена для одноранговой репликации, то свойство публикации **allow_initialize_from_backup** получает значение.</span><span class="sxs-lookup"><span data-stu-id="fd426-116">When a publication is enabled for peer-to-peer replication, the **allow_initialize_from_backup** publication property is set.</span></span> <span data-ttu-id="fd426-117">Репликация немедленно начинает отслеживать изменения в первой базе данных публикации.</span><span class="sxs-lookup"><span data-stu-id="fd426-117">Replication immediately starts to track changes in the first publication database.</span></span> <span data-ttu-id="fd426-118">Поэтому эти изменения можно доставить в восстановленную базу данных на одном или нескольких узлах при выборе **инициализации при помощи резервной копии** .</span><span class="sxs-lookup"><span data-stu-id="fd426-118">Therefore, these changes can be delivered to a restored database at one or more peers if the **initialize with backup** option is selected.</span></span> <span data-ttu-id="fd426-119">Нажмите кнопку **Обзор** для поиска используемой резервной копии, и репликация прочитает регистрационный номер транзакции в журнале (LSN) из этой резервной копии.</span><span class="sxs-lookup"><span data-stu-id="fd426-119">Click the **Browse** button to locate the backup used, and replication will read the log sequence number (LSN) from the backup.</span></span> <span data-ttu-id="fd426-120">Все изменения в первой базе данных публикации с большими номерами LSN будут перенесены на каждый узел.</span><span class="sxs-lookup"><span data-stu-id="fd426-120">All changes in the first publication database that have a higher LSN will be delivered to each peer.</span></span>  
  
     <span data-ttu-id="fd426-121">Этот параметр может быть недоступен, если создается или добавляется топология, включающая [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd426-121">This option might not be available if you are creating or adding to a topology that includes [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="fd426-122">В следующей таблице показано, доступен ли этот параметр при добавлении узла к существующей топологии.</span><span class="sxs-lookup"><span data-stu-id="fd426-122">The following table shows whether the option is available when you are adding a node to an existing topology.</span></span>  
  
    |<span data-ttu-id="fd426-123">Новый узел</span><span class="sxs-lookup"><span data-stu-id="fd426-123">New node</span></span>|<span data-ttu-id="fd426-124">Первый узел</span><span class="sxs-lookup"><span data-stu-id="fd426-124">First node</span></span>|<span data-ttu-id="fd426-125">Дополнительные узлы</span><span class="sxs-lookup"><span data-stu-id="fd426-125">Additional nodes</span></span>|<span data-ttu-id="fd426-126">Параметр</span><span class="sxs-lookup"><span data-stu-id="fd426-126">Option</span></span>|  
    |--------------|----------------|----------------------|------------|  
    |[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|<span data-ttu-id="fd426-127">Выключено</span><span class="sxs-lookup"><span data-stu-id="fd426-127">Disabled</span></span>|  
    |[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|<span data-ttu-id="fd426-128">Нет</span><span class="sxs-lookup"><span data-stu-id="fd426-128">None</span></span>|<span data-ttu-id="fd426-129">Выключено</span><span class="sxs-lookup"><span data-stu-id="fd426-129">Disabled</span></span>|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|<span data-ttu-id="fd426-130">Выключено</span><span class="sxs-lookup"><span data-stu-id="fd426-130">Disabled</span></span>|  
    |[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|<span data-ttu-id="fd426-131">Нет</span><span class="sxs-lookup"><span data-stu-id="fd426-131">None</span></span>|<span data-ttu-id="fd426-132">Активировано</span><span class="sxs-lookup"><span data-stu-id="fd426-132">Enabled</span></span>|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|<span data-ttu-id="fd426-133">Нет</span><span class="sxs-lookup"><span data-stu-id="fd426-133">None</span></span>|<span data-ttu-id="fd426-134">Активировано</span><span class="sxs-lookup"><span data-stu-id="fd426-134">Enabled</span></span>|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|<span data-ttu-id="fd426-135">Активировано</span><span class="sxs-lookup"><span data-stu-id="fd426-135">Enabled</span></span>|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|<span data-ttu-id="fd426-136">Нет</span><span class="sxs-lookup"><span data-stu-id="fd426-136">None</span></span>|<span data-ttu-id="fd426-137">Активировано</span><span class="sxs-lookup"><span data-stu-id="fd426-137">Enabled</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="fd426-138">См. также:</span><span class="sxs-lookup"><span data-stu-id="fd426-138">See Also</span></span>  
 <span data-ttu-id="fd426-139">[Администрирование одноранговой топологии (программирование репликации на языке Transact-SQL)](administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md) </span><span class="sxs-lookup"><span data-stu-id="fd426-139">[Administer a Peer-to-Peer Topology &#40;Replication Transact-SQL Programming&#41;](administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md) </span></span>  
 [<span data-ttu-id="fd426-140">Peer-to-Peer Transactional Replication</span><span class="sxs-lookup"><span data-stu-id="fd426-140">Peer-to-Peer Transactional Replication</span></span>](transactional/peer-to-peer-transactional-replication.md)  
  
  

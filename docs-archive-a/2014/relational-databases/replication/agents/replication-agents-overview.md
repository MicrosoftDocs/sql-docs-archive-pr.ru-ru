---
title: Обзор агентов репликации | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Distribution Agent
- agents [SQL Server replication]
- Queue Reader Agent, about Queue Reader Agent
- Queue Reader Agent
- Merge Agent, about Merge Agent
- Log Reader Agent, about Log Reader Agent
- replication [SQL Server], agents and profiles
- Log Reader Agent
- Distribution Agent, about Distribution Agent
- agents [SQL Server replication], about agents
- Merge Agent
- Snapshot Agent, about Snapshot Agent
- Snapshot Agent
ms.assetid: a35ecd7d-f130-483c-87e3-ddc8927bb91b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 9eea7f24fe9350aeb815a5af9dd4e2e1c0dce607
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657668"
---
# <a name="replication-agents-overview"></a><span data-ttu-id="1aea6-102">Обзор агентов репликации</span><span class="sxs-lookup"><span data-stu-id="1aea6-102">Replication Agents Overview</span></span>
  <span data-ttu-id="1aea6-103">Репликация использует ряд отдельных программ, называемых агентами, для выполнения задач, связанных с отслеживанием изменений и распространением данных.</span><span class="sxs-lookup"><span data-stu-id="1aea6-103">Replication uses a number of standalone programs, called agents, to carry out the tasks associated with tracking changes and distributing data.</span></span> <span data-ttu-id="1aea6-104">По умолчанию агенты репликации выполняются как задания, запланированные агентом [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , причем для выполнения заданий агент [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] должен быть запущен.</span><span class="sxs-lookup"><span data-stu-id="1aea6-104">By default, replication agents run as jobs scheduled under [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent must be running for the jobs to run.</span></span> <span data-ttu-id="1aea6-105">Агенты репликации могут запускаться из командной строки или приложениями, которые используют объекты RMO (Replication Management Objects).</span><span class="sxs-lookup"><span data-stu-id="1aea6-105">Replication agents can also be run from the command line and by applications that use Replication Management Objects (RMO).</span></span> <span data-ttu-id="1aea6-106">Агенты репликации управляются из монитора репликации [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] и из [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1aea6-106">Replication agents can be administered from [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Monitor and [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span>  
  
## <a name="sql-server-agent"></a><span data-ttu-id="1aea6-107">Агент SQL Server</span><span class="sxs-lookup"><span data-stu-id="1aea6-107">SQL Server Agent</span></span>  
 <span data-ttu-id="1aea6-108">Агент[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] служит для размещения и планирования работы агентов, используемых в репликации, а также предоставляет простой способ запуска агентов репликации.</span><span class="sxs-lookup"><span data-stu-id="1aea6-108">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent hosts and schedules the agents used in replication and provides an easy way to run replication agents.</span></span> <span data-ttu-id="1aea6-109">Агент[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] также управляет операциями за пределами репликации и осуществляет наблюдение за выполняемыми операциями.</span><span class="sxs-lookup"><span data-stu-id="1aea6-109">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent also controls and monitors operations outside of replication.</span></span> <span data-ttu-id="1aea6-110">Дополнительные сведения см. в статье [Configure SQL Server Agent](../../../ssms/agent/sql-server-agent.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-110">For more information, see [Configure SQL Server Agent](../../../ssms/agent/sql-server-agent.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="1aea6-111">Служба агента [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] по умолчанию отключается при установке [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , если только во время установки не будет явно выбран режим автоматического запуска.</span><span class="sxs-lookup"><span data-stu-id="1aea6-111">By default, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service is disabled when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed unless you explicitly choose to autostart the service during installation.</span></span> <span data-ttu-id="1aea6-112">Дополнительные сведения о запуске службы агента [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] см. в разделе [Start, Stop, or Pause the SQL Server Agent Service](../../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-112">For more information about starting the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service, see [Start, Stop, or Pause the SQL Server Agent Service](../../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span></span>  
  
## <a name="snapshot-agent"></a><span data-ttu-id="1aea6-113">агент моментальных снимков</span><span class="sxs-lookup"><span data-stu-id="1aea6-113">Snapshot Agent</span></span>  
 <span data-ttu-id="1aea6-114">Агент моментальных снимков используется, как правило, со всеми типами репликаций.</span><span class="sxs-lookup"><span data-stu-id="1aea6-114">The Snapshot Agent is typically used with all types of replication.</span></span> <span data-ttu-id="1aea6-115">Он готовит схему и файлы исходных данных опубликованных таблиц и другие объекты, хранит файлы моментальных снимков и записывает сведения о синхронизации в базе данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="1aea6-115">It prepares schema and initial data files of published tables and other objects, stores the snapshot files, and records information about synchronization in the distribution database.</span></span> <span data-ttu-id="1aea6-116">Агент моментальных снимков выполняется на распространителе.</span><span class="sxs-lookup"><span data-stu-id="1aea6-116">The Snapshot Agent runs at the Distributor.</span></span> <span data-ttu-id="1aea6-117">Дополнительные сведения см. в статье [Replication Snapshot Agent](replication-snapshot-agent.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-117">For more information, see [Replication Snapshot Agent](replication-snapshot-agent.md).</span></span>  
  
## <a name="log-reader-agent"></a><span data-ttu-id="1aea6-118">Агент чтения журнала.</span><span class="sxs-lookup"><span data-stu-id="1aea6-118">Log Reader Agent</span></span>  
 <span data-ttu-id="1aea6-119">Агент чтения журнала используется с репликацией транзакций.</span><span class="sxs-lookup"><span data-stu-id="1aea6-119">The Log Reader Agent is used with transactional replication.</span></span> <span data-ttu-id="1aea6-120">Он перемещает транзакции, помеченные для репликации, из журнала транзакций на издатель в базу данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="1aea6-120">It moves transactions marked for replication from the transaction log on the Publisher to the distribution database.</span></span> <span data-ttu-id="1aea6-121">Каждая база данных, публикуемая с использованием репликации транзакций, имеет свой собственный агент чтения журнала, который выполняется на распространителе и подключен к издателю (распространитель может находиться на том же компьютере, что и издатель).</span><span class="sxs-lookup"><span data-stu-id="1aea6-121">Each database published using transactional replication has its own Log Reader Agent that runs on the Distributor and connects to the Publisher (the Distributor can be on the same computer as the Publisher).</span></span> <span data-ttu-id="1aea6-122">Дополнительные сведения см. в статье [Replication Log Reader Agent](replication-log-reader-agent.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-122">For more information, see [Replication Log Reader Agent](replication-log-reader-agent.md).</span></span>  
  
## <a name="distribution-agent"></a><span data-ttu-id="1aea6-123">Агент распространителя</span><span class="sxs-lookup"><span data-stu-id="1aea6-123">Distribution Agent</span></span>  
 <span data-ttu-id="1aea6-124">Агент распространителя используется с репликацией моментальных снимков и репликацией транзакций.</span><span class="sxs-lookup"><span data-stu-id="1aea6-124">The Distribution Agent is used with snapshot replication and transactional replication.</span></span> <span data-ttu-id="1aea6-125">Он применяет исходный моментальный снимок к подписчику и перемещает транзакции, удерживаемые в базе данных распространителя, на подписчики.</span><span class="sxs-lookup"><span data-stu-id="1aea6-125">It applies the initial snapshot to the Subscriber and moves transactions held in the distribution database to Subscribers.</span></span> <span data-ttu-id="1aea6-126">Агент распространителя выполняется либо на распространителе для принудительных подписок, либо на подписчике для подписок по запросу.</span><span class="sxs-lookup"><span data-stu-id="1aea6-126">The Distribution Agent runs at either the Distributor for push subscriptions or at the Subscriber for pull subscriptions.</span></span> <span data-ttu-id="1aea6-127">Дополнительные сведения см. в статье [Replication Distribution Agent](replication-distribution-agent.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-127">For more information, see [Replication Distribution Agent](replication-distribution-agent.md).</span></span>  
  
## <a name="merge-agent"></a><span data-ttu-id="1aea6-128">Агент слияния.</span><span class="sxs-lookup"><span data-stu-id="1aea6-128">Merge Agent</span></span>  
 <span data-ttu-id="1aea6-129">Агент слияния используется с репликацией слияния.</span><span class="sxs-lookup"><span data-stu-id="1aea6-129">The Merge Agent is used with merge replication.</span></span> <span data-ttu-id="1aea6-130">Он применяет к подписчику исходный моментальный снимок, а также перемещает и согласовывает возникающие дополнительные изменения данных.</span><span class="sxs-lookup"><span data-stu-id="1aea6-130">It applies the initial snapshot to the Subscriber and moves and reconciles incremental data changes that occur.</span></span> <span data-ttu-id="1aea6-131">Каждая подписка на публикацию слиянием имеет свой собственный агент слияния, который подключается как к издателю, так и к подписчику и обновляет и тот, и другой.</span><span class="sxs-lookup"><span data-stu-id="1aea6-131">Each merge subscription has its own Merge Agent that connects to both the Publisher and the Subscriber and updates both.</span></span> <span data-ttu-id="1aea6-132">Агент слияния выполняется либо на распространителе для принудительных подписок, либо на подписчике для подписок по запросу.</span><span class="sxs-lookup"><span data-stu-id="1aea6-132">The Merge Agent runs at either the Distributor for push subscriptions or the Subscriber for pull subscriptions.</span></span> <span data-ttu-id="1aea6-133">По умолчанию агент слияния передает изменения с подписчика издателю, затем загружает изменения с издателя в подписчик.</span><span class="sxs-lookup"><span data-stu-id="1aea6-133">By default, the Merge Agent uploads changes from the Subscriber to the Publisher and then downloads changes from the Publisher to the Subscriber.</span></span> <span data-ttu-id="1aea6-134">Дополнительные сведения см. в статье [Replication Merge Agent](replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-134">For more information, see [Replication Merge Agent](replication-merge-agent.md).</span></span>  
  
## <a name="queue-reader-agent"></a><span data-ttu-id="1aea6-135">Агент чтения очереди.</span><span class="sxs-lookup"><span data-stu-id="1aea6-135">Queue Reader Agent</span></span>  
 <span data-ttu-id="1aea6-136">Агент чтения очереди используется для репликации транзакций с параметром обновления посредством очередей.</span><span class="sxs-lookup"><span data-stu-id="1aea6-136">The Queue Reader Agent is used with transactional replication with the queued updating option.</span></span> <span data-ttu-id="1aea6-137">Агент выполняется на распространителе и перемещает изменения, сделанные на подписчике, обратно в издатель.</span><span class="sxs-lookup"><span data-stu-id="1aea6-137">The agent runs at the Distributor and moves changes made at the Subscriber back to the Publisher.</span></span> <span data-ttu-id="1aea6-138">В отличие от агента распространителя и агента слияния существует только один экземпляр агента чтения очереди, который обслуживает все издатели и публикации для некоторой заданной базы данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="1aea6-138">Unlike the Distribution Agent and the Merge Agent, only one instance of the Queue Reader Agent exists to service all Publishers and publications for a given distribution database.</span></span> <span data-ttu-id="1aea6-139">Дополнительные сведения об агенте чтения очереди см. в разделе [Replication Queue Reader Agent](replication-queue-reader-agent.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-139">For more information about the Queue Reader Agent, see [Replication Queue Reader Agent](replication-queue-reader-agent.md).</span></span> <span data-ttu-id="1aea6-140">Дополнительные сведения об обновляемых подписках см. в разделе [Updatable Subscriptions for Transactional Replication](../transactional/updatable-subscriptions-for-transactional-replication.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-140">For more information about updatable subscriptions, see [Updatable Subscriptions for Transactional Replication](../transactional/updatable-subscriptions-for-transactional-replication.md).</span></span>  
  
## <a name="replication-maintenance-jobs"></a><span data-ttu-id="1aea6-141">Задания обслуживания репликации</span><span class="sxs-lookup"><span data-stu-id="1aea6-141">Replication Maintenance Jobs</span></span>  
 <span data-ttu-id="1aea6-142">Репликация имеет ряд заданий обслуживания, которые исполняют запланированное и выполняемое по запросу обслуживание.</span><span class="sxs-lookup"><span data-stu-id="1aea6-142">Replication has a number of maintenance jobs that perform scheduled and on-demand maintenance.</span></span> <span data-ttu-id="1aea6-143">Дополнительные сведения см. в статье [Администрирование агента репликации](replication-agent-administration.md).</span><span class="sxs-lookup"><span data-stu-id="1aea6-143">For more information, see [Replication Agent Administration](replication-agent-administration.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1aea6-144">См. также:</span><span class="sxs-lookup"><span data-stu-id="1aea6-144">See Also</span></span>  
 <span data-ttu-id="1aea6-145">[Запуск и остановка агента репликации (среда SQL Server Management Studio)](start-and-stop-a-replication-agent-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="1aea6-145">[Start and Stop a Replication Agent &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="1aea6-146">[Запуск задания по обслуживанию репликаций (среда SQL Server Management Studio)](../administration/run-replication-maintenance-jobs-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="1aea6-146">[Run Replication Maintenance Jobs &#40;SQL Server Management Studio&#41;](../administration/run-replication-maintenance-jobs-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="1aea6-147">[Основные понятия исполняемых файлов агента репликации](../concepts/replication-agent-executables-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="1aea6-147">[Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md) </span></span>  
 [<span data-ttu-id="1aea6-148">Администрирование агента репликации</span><span class="sxs-lookup"><span data-stu-id="1aea6-148">Replication Agent Administration</span></span>](replication-agent-administration.md)  
  
  

---
title: Фильтрация строк таблицы | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.filtertablerows.f1
ms.assetid: 005f5c71-0401-490e-8823-adc54a2e9675
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 9adeb2501adfd37658ddf05aa9956d6c3922bb80
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655610"
---
# <a name="filter-table-rows"></a><span data-ttu-id="42652-102">Фильтрация строк таблицы</span><span class="sxs-lookup"><span data-stu-id="42652-102">Filter Table Rows</span></span>
  <span data-ttu-id="42652-103">Страница **Фильтрация строк таблицы** позволяет следующее.</span><span class="sxs-lookup"><span data-stu-id="42652-103">The **Filter Table Rows** page allows you to:</span></span>  
  
-   <span data-ttu-id="42652-104">Применить статические фильтры строк к статьям таблиц в моментальном снимке, в публикациях транзакций и в публикациях слиянием.</span><span class="sxs-lookup"><span data-stu-id="42652-104">Apply static row filters to table articles in snapshot, transactional, and merge publications.</span></span>  
  
-   <span data-ttu-id="42652-105">Применить параметризованные фильтры строк к статьям таблиц в публикациях слиянием.</span><span class="sxs-lookup"><span data-stu-id="42652-105">Apply parameterized row filters to table articles in merge publications.</span></span>  
  
-   <span data-ttu-id="42652-106">Использовать фильтры соединения для расширения фильтрации статей объединенных таблиц на относящиеся к ним статьи таблиц.</span><span class="sxs-lookup"><span data-stu-id="42652-106">Use join filters to extend filters on merge table articles to related table articles.</span></span>  
  
 <span data-ttu-id="42652-107">Дополнительные сведения о вариантах фильтрации см. в статье [Фильтрация опубликованных данных](publish/filter-published-data.md).</span><span class="sxs-lookup"><span data-stu-id="42652-107">For more information about filtering options, see [Filter Published Data](publish/filter-published-data.md).</span></span> <span data-ttu-id="42652-108">Фильтрацию можно изменить на странице **Фильтрация строк** диалогового окна **Свойства публикации** .</span><span class="sxs-lookup"><span data-stu-id="42652-108">Filtering can be changed in the **Filter Rows** page of the **Publication Properties** dialog box.</span></span>  
  
 <span data-ttu-id="42652-109">Для максимальной производительности приложения и снижения объема внешнего хранилища, а также для ограничения доступа к некоторым данным для отдельных подписчиков следует публиковать только необходимые данные.</span><span class="sxs-lookup"><span data-stu-id="42652-109">To maximize application performance and reduce the amount of remote storage required, or to restrict the availability of certain data to specific Subscribers, you should publish only the data required.</span></span> <span data-ttu-id="42652-110">Публикация может содержать как отфильтрованные, так и нефильтрованные таблицы.</span><span class="sxs-lookup"><span data-stu-id="42652-110">Your publication can include both unfiltered and filtered tables.</span></span> <span data-ttu-id="42652-111">Например, можно включить полную (нефильтрованную) таблицу со сведениями о продукции компании и использовать фильтры строк для получения отфильтрованной таблицы заказчиков из определенного региона.</span><span class="sxs-lookup"><span data-stu-id="42652-111">For example, you could include the complete (unfiltered) table of company products and use row filters to provide a filtered table of customers for a specific region.</span></span> <span data-ttu-id="42652-112">С помощью фильтрации опубликованных данных можно достичь следующих целей:</span><span class="sxs-lookup"><span data-stu-id="42652-112">By filtering published data, you can:</span></span>  
  
-   <span data-ttu-id="42652-113">Минимизировать объем данных, передаваемых по сети.</span><span class="sxs-lookup"><span data-stu-id="42652-113">Minimize the amount of data sent over the network.</span></span>  
  
-   <span data-ttu-id="42652-114">Снизить необходимый подписчику объем для хранения.</span><span class="sxs-lookup"><span data-stu-id="42652-114">Reduce the amount of storage space required at the Subscriber.</span></span>  
  
-   <span data-ttu-id="42652-115">Настраивать публикации и приложения на основе индивидуальных требований подписчиков.</span><span class="sxs-lookup"><span data-stu-id="42652-115">Customize publications and applications based on individual Subscriber requirements.</span></span>  
  
-   <span data-ttu-id="42652-116">Избежать конфликтов или уменьшить их количество, если подписчики обновляют данные, так как различным подписчикам можно отправить различные секции данных (то есть два подписчика не будут обновлять одни и те же значения данных).</span><span class="sxs-lookup"><span data-stu-id="42652-116">Avoid or reduce conflicts if Subscribers are updating data, because different data partitions can be sent to different Subscribers (no two Subscribers will be updating the same data values).</span></span>  
  
-   <span data-ttu-id="42652-117">Избежать передачи конфиденциальных данных.</span><span class="sxs-lookup"><span data-stu-id="42652-117">Avoid transmitting sensitive data.</span></span> <span data-ttu-id="42652-118">Фильтры строк и фильтры столбцов могут быть использованы для ограничения доступа подписчика к данным.</span><span class="sxs-lookup"><span data-stu-id="42652-118">Row filters and column filters can be used to restrict a Subscriber's access to data.</span></span> <span data-ttu-id="42652-119">При репликации слиянием может возникать проблема безопасности, если используется параметризованный фильтр, содержащий HOST_NAME().</span><span class="sxs-lookup"><span data-stu-id="42652-119">For merge replication, there are security considerations if you use a parameterized filter that includes HOST_NAME().</span></span> <span data-ttu-id="42652-120">Дополнительные сведения см. в подразделе «Фильтрация с использованием HOST_NAME()» раздела [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="42652-120">For more information, see the section "Filtering with HOST_NAME()" in [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="42652-121">Фильтр не должен включать столбец `rowguidcol`, который используется в процессе репликации для идентификации строк.</span><span class="sxs-lookup"><span data-stu-id="42652-121">A filter must not include the `rowguidcol` used by replication to identify rows.</span></span> <span data-ttu-id="42652-122">По умолчанию этот столбец добавляется в момент настройки репликации слиянием и называется **rowguid**.</span><span class="sxs-lookup"><span data-stu-id="42652-122">By default this is the column added at the time you set up merge replication and is named **rowguid**.</span></span>  
  
## <a name="options"></a><span data-ttu-id="42652-123">Параметры</span><span class="sxs-lookup"><span data-stu-id="42652-123">Options</span></span>  
 <span data-ttu-id="42652-124">**Отфильтрованные таблицы**</span><span class="sxs-lookup"><span data-stu-id="42652-124">**Filtered Tables**</span></span>  
 <span data-ttu-id="42652-125">Панель заполняется фильтрами по мере того, как они добавляются к статьям таблиц в публикации.</span><span class="sxs-lookup"><span data-stu-id="42652-125">This pane is populated with filters as you add them to table articles in the publication.</span></span> <span data-ttu-id="42652-126">Таблицы с фильтрами строк показаны в этой панели как узлы высшего уровня.</span><span class="sxs-lookup"><span data-stu-id="42652-126">Tables with row filters are shown as top-level nodes in the pane.</span></span> <span data-ttu-id="42652-127">Для публикаций слиянием таблицы, фильтрация которых была расширена с помощью фильтра соединения, показаны на панели как дочерние узлы.</span><span class="sxs-lookup"><span data-stu-id="42652-127">For merge publications, tables to which filtering has been extended through a join filter are shown as child nodes.</span></span>  
  
 <span data-ttu-id="42652-128">**Добавление**</span><span class="sxs-lookup"><span data-stu-id="42652-128">**Add**</span></span>  
 <span data-ttu-id="42652-129">Нажмите **Добавить** , чтобы открыть диалоговое окно фильтрации статей таблицы.</span><span class="sxs-lookup"><span data-stu-id="42652-129">Click **Add** to launch a dialog box that enables you to filter table articles.</span></span> <span data-ttu-id="42652-130">Нажмите **Добавить** для вызова диалогового окна моментального снимка или публикации транзакций.</span><span class="sxs-lookup"><span data-stu-id="42652-130">Clicking **Add** for a snapshot or transactional publication launches a dialog box immediately.</span></span> <span data-ttu-id="42652-131">Нажмите **Добавить** для публикации слиянием, чтобы вывести три варианта выбора: **Добавить фильтр**; **Добавить соединение для расширения выбранного фильтра**; **Автоматически создать фильтры**.</span><span class="sxs-lookup"><span data-stu-id="42652-131">Clicking **Add** for a merge publication displays three choices: **Add Filter**; **Add Join to Extend the Selected Filter**; **Automatically Generate Filters**.</span></span>  
  
-   <span data-ttu-id="42652-132">Выбрать **Добавить фильтр** для запуска диалогового окна **Добавить фильтр** .</span><span class="sxs-lookup"><span data-stu-id="42652-132">Select **Add Filter** to launch the **Add Filter** dialog box.</span></span> <span data-ttu-id="42652-133">Это диалоговое окно позволяет применять фильтры строк к статье таблицы.</span><span class="sxs-lookup"><span data-stu-id="42652-133">This dialog box allows you to apply row filters to a table article.</span></span> <span data-ttu-id="42652-134">В диалоговом окне **Добавить фильтр** можно, например, указать, что таблица с данными о клиентах должна содержать данные только о французских клиентах при репликации подписчикам.</span><span class="sxs-lookup"><span data-stu-id="42652-134">In the **Add Filter** dialog box, you could, for example, specify that a table with customer data should only contain data on French customers when it is replicated to Subscribers.</span></span>  
  
-   <span data-ttu-id="42652-135">Выберите пункт **Добавить соединение для расширения выбранного фильтра** для перехода в диалоговое окно **Добавление соединения** .</span><span class="sxs-lookup"><span data-stu-id="42652-135">Select **Add Join to Extend the Selected Filter** to launch the **Add Join** dialog box.</span></span> <span data-ttu-id="42652-136">Диалоговое окно **Добавление соединения** позволяет расширить фильтр строк таким образом, чтобы он фильтровал данные в таблицах, связанных с таблицей с фильтром строк.</span><span class="sxs-lookup"><span data-stu-id="42652-136">The **Add Join** dialog box allows you to extend a row filter so that it filters data in tables related to the table with the row filter.</span></span> <span data-ttu-id="42652-137">Например, если фильтр таблицы заказчиков установлен таким образом, что таблица содержит данные только о французских заказчиках, а также есть связанная с ней таблица клиентских заказов, то можно задать соединение между этими двумя таблицами, чтобы таблица заказов содержала только заказы от французских заказчиков.</span><span class="sxs-lookup"><span data-stu-id="42652-137">For example, if a customer table is filtered so that it only contains data on French customers and there is a related table for customer orders, you can define a join between the two tables so that the orders table only includes orders from French customers.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="42652-138">Этот параметр доступен, только если сначала выбрать базовую таблицу соединения на панели фильтров.</span><span class="sxs-lookup"><span data-stu-id="42652-138">This option is available only if you first select the base table of the join in the filter pane.</span></span>  
  
-   <span data-ttu-id="42652-139">Выберите **Автоматически создать фильтры** для запуска диалогового окна **Создать фильтры** .</span><span class="sxs-lookup"><span data-stu-id="42652-139">Select **Automatically Generate Filters** to launch the **Generate Filters** dialog box.</span></span> <span data-ttu-id="42652-140">Это диалоговое окно позволяет указать в публикации слиянием фильтр строк для одной таблицы, который репликация автоматически распространяет на другие таблицы, связанные через внешние ключи.</span><span class="sxs-lookup"><span data-stu-id="42652-140">This dialog box allows you to define a row filter on one table in a merge publication that replication automatically extends to other tables that are related through foreign key relationships.</span></span> <span data-ttu-id="42652-141">Например, публикация может содержать три таблицы: таблицу клиентов, таблицу заказов (с внешним ключом к таблице клиентов), таблицу сведений о заказах (с внешним ключом к таблице заказов).</span><span class="sxs-lookup"><span data-stu-id="42652-141">For example, a publication could include three tables: a customer table, an orders table (with a foreign key to the customer table), and an order details table (with a foreign key to the orders table).</span></span> <span data-ttu-id="42652-142">Определите фильтр строк для таблицы о клиентах, и репликация распространит его на остальные таблицы.</span><span class="sxs-lookup"><span data-stu-id="42652-142">Define a row filter on the customer table, and replication will extend it to the other tables.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="42652-143">Когда фильтры создаются автоматически репликацией, все существующие фильтры публикации удаляются.</span><span class="sxs-lookup"><span data-stu-id="42652-143">When filters are automatically generated by replication, any existing filters on the publication are deleted.</span></span> <span data-ttu-id="42652-144">Для включения автоматически созданных фильтров и фильтров, созданных вручную, сначала создайте фильтры.</span><span class="sxs-lookup"><span data-stu-id="42652-144">To include both filters generated automatically and ones specified manually, generate filters first.</span></span> <span data-ttu-id="42652-145">Для каждой публикации можно указать только один набор автоматически созданных фильтров.</span><span class="sxs-lookup"><span data-stu-id="42652-145">You can only specify one set of automatically generated filters for each publication.</span></span>  
  
 <span data-ttu-id="42652-146">**Edit** (Изменение)</span><span class="sxs-lookup"><span data-stu-id="42652-146">**Edit**</span></span>  
 <span data-ttu-id="42652-147">Выберите фильтр строк или фильтр соединения на панели фильтров и нажмите кнопку **Изменить** для запуска диалогового окна **Изменение фильтра** или **Изменение соединения** .</span><span class="sxs-lookup"><span data-stu-id="42652-147">Select a row filter or join filter in the filter pane and click **Edit** to launch the **Edit Filter** or **Edit Join** dialog box.</span></span>  
  
 <span data-ttu-id="42652-148">**Удаление**</span><span class="sxs-lookup"><span data-stu-id="42652-148">**Delete**</span></span>  
 <span data-ttu-id="42652-149">Выберите фильтр строк или фильтр соединения на панели фильтров и нажмите кнопку **Удалить** для его удаления.</span><span class="sxs-lookup"><span data-stu-id="42652-149">Select a row filter or join filter in the filter pane and click **Delete** to delete the filter.</span></span>  
  
 <span data-ttu-id="42652-150">**Найти таблицу**</span><span class="sxs-lookup"><span data-stu-id="42652-150">**Find Table**</span></span>  
 <span data-ttu-id="42652-151">Публикации слиянием только с фильтрами соединения.</span><span class="sxs-lookup"><span data-stu-id="42652-151">Merge publications with join filters only.</span></span> <span data-ttu-id="42652-152">Нажмите **Найти таблицу** для поиска таблицы в сложном дереве фильтров.</span><span class="sxs-lookup"><span data-stu-id="42652-152">Click **Find Table** to find a table in a complex filter tree.</span></span> <span data-ttu-id="42652-153">В базе данных со сложными связями таблица может быть соединена с несколькими таблицами, поэтому она может отображаться несколько раз в дереве фильтров.</span><span class="sxs-lookup"><span data-stu-id="42652-153">In a database with complex relationships, a table can be joined to multiple tables, and therefore can appear in more than one place in the filter tree.</span></span>  
  
 <span data-ttu-id="42652-154">Реальная таблица показана только в одном месте дерева, в других местах она представлена ярлыком.</span><span class="sxs-lookup"><span data-stu-id="42652-154">The actual table appears in only one place in the tree, and in other places, the table is represented by a shortcut.</span></span> <span data-ttu-id="42652-155">Ярлык таблицы является только ссылкой на нее, и дочерние узлы таблицы не отображаются.</span><span class="sxs-lookup"><span data-stu-id="42652-155">A shortcut to a table is only a reference to the table; it does not show the child nodes of the table.</span></span> <span data-ttu-id="42652-156">Узел ярлыка помечен с помощью стрелки, при развертывании узла будет отображен текст **Чтобы вывести таблицу для\<tablename>, нажмите кнопку «Поиск таблицы»** .</span><span class="sxs-lookup"><span data-stu-id="42652-156">A shortcut node is marked with a shortcut arrow, and expanding that node shows the text **Click Find Table to see table for \<tablename>**.</span></span>  
  
 <span data-ttu-id="42652-157">Выберите узел ярлыка в этой панели и щелкните **Найти таблицу**.</span><span class="sxs-lookup"><span data-stu-id="42652-157">Select a shortcut node in the pane and click **Find Table**.</span></span> <span data-ttu-id="42652-158">Панель развернется, и данная таблица будет выделена.</span><span class="sxs-lookup"><span data-stu-id="42652-158">The pane is expanded and the table is highlighted.</span></span> <span data-ttu-id="42652-159">Если нажать кнопку **Найти таблицу** без указания ссылки на узел, открывается диалоговое окно **Найти таблицу** .</span><span class="sxs-lookup"><span data-stu-id="42652-159">If you click **Find Table** without a shortcut node selected, a **Find Table** dialog box is launched.</span></span>  
  
 <span data-ttu-id="42652-160">**Filter**</span><span class="sxs-lookup"><span data-stu-id="42652-160">**Filter**</span></span>  
 <span data-ttu-id="42652-161">Содержит определение на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] для фильтра, выбранного на панели фильтров.</span><span class="sxs-lookup"><span data-stu-id="42652-161">Contains the [!INCLUDE[tsql](../../includes/tsql-md.md)] definition for the filter selected in the filter pane.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="42652-162">См. также:</span><span class="sxs-lookup"><span data-stu-id="42652-162">See Also</span></span>  
 <span data-ttu-id="42652-163">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="42652-163">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="42652-164">[Просмотр и изменение свойств публикации](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="42652-164">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="42652-165">[Фильтрация опубликованных данных](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="42652-165">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="42652-166">[Join Filters](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="42652-166">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="42652-167">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="42652-167">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="42652-168">Публикация данных и объектов базы данных</span><span class="sxs-lookup"><span data-stu-id="42652-168">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  

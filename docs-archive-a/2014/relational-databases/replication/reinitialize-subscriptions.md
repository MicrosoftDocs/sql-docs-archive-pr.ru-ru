---
title: Повторная инициализация подписки| Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- initializing subscriptions [SQL Server replication], reinitializing
- subscriptions [SQL Server replication], reinitializing
- reinitializing subscriptions
ms.assetid: fb13712b-e7ad-4f1f-b605-4554bad0cb60
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6bf9c68f66a32d1a5ddcf08b845396f815385e83
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750660"
---
# <a name="reinitialize-subscriptions"></a><span data-ttu-id="552b6-102">Повторная инициализация подписок</span><span class="sxs-lookup"><span data-stu-id="552b6-102">Reinitialize Subscriptions</span></span>
  <span data-ttu-id="552b6-103">Повторная инициализация подписки влечет за собой применение нового моментального снимка одной или нескольких статей к одному или нескольким подписчикам: репликация транзакций и репликация моментальных снимков позволяют повторно инициализировать отдельные статьи; репликация слиянием требует, чтобы повторно были инициализированы все статьи.</span><span class="sxs-lookup"><span data-stu-id="552b6-103">Reinitializing a subscription involves applying a new snapshot of one or more articles to one or more Subscribers: transactional and snapshot replication allow individual articles to be reinitialized; merge replication requires all articles to be reinitialized.</span></span> <span data-ttu-id="552b6-104">Узлы в одноранговой топологии репликации транзакций не могут быть инициализированы повторно.</span><span class="sxs-lookup"><span data-stu-id="552b6-104">Nodes in a peer-to-peer transactional replication topology cannot be reinitialized.</span></span> <span data-ttu-id="552b6-105">Если нужно убедиться в том, что узел имеет новую копию данных, восстановите резервную копию на этом узле.</span><span class="sxs-lookup"><span data-stu-id="552b6-105">If you need to ensure a node has a new copy of the data, restore a backup at the node.</span></span> <span data-ttu-id="552b6-106">Повторная инициализация выполняется по одной из двух причин.</span><span class="sxs-lookup"><span data-stu-id="552b6-106">Reinitialization occurs for one of two reasons:</span></span>  
  
-   <span data-ttu-id="552b6-107">Подписка явно помечена для повторной инициализации.</span><span class="sxs-lookup"><span data-stu-id="552b6-107">You explicitly mark a subscription for reinitialization.</span></span>  
  
-   <span data-ttu-id="552b6-108">Выполняется действие, например изменение свойств, требующее повторной инициализации.</span><span class="sxs-lookup"><span data-stu-id="552b6-108">You perform an action, such as a property change, that requires a reinitialization.</span></span> <span data-ttu-id="552b6-109">Дополнительные сведения о действиях, после которых нужно выполнять повторную инициализацию, см. в статье [Изменение свойств публикации и статьи](publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="552b6-109">For more information about actions that require reinitialization, see [Change Publication and Article Properties](publish/change-publication-and-article-properties.md).</span></span>  
  
 <span data-ttu-id="552b6-110">В обоих случаях последний моментальный снимок применяется к подписчику при следующем запуске агента слияния или агента распространителя.</span><span class="sxs-lookup"><span data-stu-id="552b6-110">In both cases, the most recent snapshot is applied to the Subscriber the next time the Distribution Agent or the Merge Agent runs.</span></span> <span data-ttu-id="552b6-111">При репликации транзакций и репликации слиянием, когда происходит повторная инициализация, любые изменения, внесенные на подписчике, но еще не синхронизированные с издателем, переопределяются посредством применения нового моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="552b6-111">For snapshot and transactional replication, when reinitialization occurs, any changes made at the Subscriber, but not yet synchronized with the Publisher, are overwritten by the application of the new snapshot.</span></span>  
  
 <span data-ttu-id="552b6-112">Для репликации слиянием можно выбрать передачу всех изменений данных с подписчика до применения моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="552b6-112">For merge replication, you can choose to have all the data changes uploaded from the Subscriber before the snapshot is applied.</span></span> <span data-ttu-id="552b6-113">Любые отложенные изменения схемы с издателя применяются на подписчике, а затем любые обновления, сделанные на подписчике с момента последней синхронизации, распространяются на издатель до повторного применения моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="552b6-113">Any pending schema changes from the Publisher are applied at the Subscriber, and then any updates that have been made at the Subscriber since the last synchronization are propagated to the Publisher before the snapshot is reapplied.</span></span> <span data-ttu-id="552b6-114">Это поведение управляется свойствами **upload_first** и **automatic_reinitialization_policy** . Дополнительные сведения см. в разделе [Reinitialize a Subscription](reinitialize-a-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="552b6-114">This behavior is controlled by the **upload_first** and **automatic_reinitialization_policy** properties; for more information, see [Reinitialize a Subscription](reinitialize-a-subscription.md).</span></span> <span data-ttu-id="552b6-115">Если пометить подписку для повторной инициализации с помощью среды SQL Server Management Studio или монитора репликации, в диалоговом окне **Повторная инициализация подписок** можно будет указать, что необходимо сначала передать изменения.</span><span class="sxs-lookup"><span data-stu-id="552b6-115">If you mark a subscription for reinitialization using SQL Server Management Studio or Replication Monitor, you are given an option in the **Reinitialize Subscription(s)** dialog box to upload changes first.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="552b6-116">Если добавить, удалить или изменить параметризованный фильтр в публикации слиянием, ожидающие обработки изменения на подписчике невозможно будет передать на издатель во время повторной инициализации.</span><span class="sxs-lookup"><span data-stu-id="552b6-116">If you add, drop, or change a parameterized filter in a merge publication, pending changes at the Subscriber cannot be uploaded to the Publisher during reinitialization.</span></span> <span data-ttu-id="552b6-117">Если нужно передать изменения, ожидающие обработки, то перед изменением фильтра необходимо синхронизировать все подписки.</span><span class="sxs-lookup"><span data-stu-id="552b6-117">If you want to upload pending changes, synchronize all subscriptions before changing the filter.</span></span>  
  
 <span data-ttu-id="552b6-118">Если при создании подписки к подписчику исходный моментальный снимок не применялся, а затем подписка была помечена для повторной инициализации, то моментальный снимок неприменим.</span><span class="sxs-lookup"><span data-stu-id="552b6-118">If, you specified that no initial snapshot was to be applied to the Subscriber when you created the subscription, and you then mark the subscription for reinitialization, a snapshot is not applied.</span></span> <span data-ttu-id="552b6-119">Дополнительные сведения см. в статье [Инициализация подписки на публикацию транзакций без моментального снимка](initialize-a-transactional-subscription-without-a-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="552b6-119">For more information, see [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md).</span></span>  
  
 <span data-ttu-id="552b6-120">**Повторная инициализация подписки**</span><span class="sxs-lookup"><span data-stu-id="552b6-120">**To reinitialize a subscription**</span></span>  
  
 <span data-ttu-id="552b6-121">Чтобы повторно инициализировать все статьи в подписке, используйте среду [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], хранимые процедуры или объекты RMO.</span><span class="sxs-lookup"><span data-stu-id="552b6-121">To reinitialize all articles in a subscription, use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], stored procedures or Replication Management Objects (RMO).</span></span> <span data-ttu-id="552b6-122">Чтобы повторно инициализировать отдельные статьи в моментальном снимке и в публикациях транзакций, следует использовать хранимые процедуры.</span><span class="sxs-lookup"><span data-stu-id="552b6-122">To reinitialize individual articles in snapshot and transactional publications, you must use stored procedures.</span></span> <span data-ttu-id="552b6-123">Дополнительные сведения см. в статье [Reinitialize a Subscription](reinitialize-a-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="552b6-123">For more information, see [Reinitialize a Subscription](reinitialize-a-subscription.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="552b6-124">См. также:</span><span class="sxs-lookup"><span data-stu-id="552b6-124">See Also</span></span>  
 <span data-ttu-id="552b6-125">[Инициализация подписки](initialize-a-subscription.md) </span><span class="sxs-lookup"><span data-stu-id="552b6-125">[Initialize a Subscription](initialize-a-subscription.md) </span></span>  
 [<span data-ttu-id="552b6-126">Окончание срока действия и отключение подписки</span><span class="sxs-lookup"><span data-stu-id="552b6-126">Subscription Expiration and Deactivation</span></span>](subscription-expiration-and-deactivation.md)  
  
  

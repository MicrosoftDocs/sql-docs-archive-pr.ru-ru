---
title: Просмотр и изменение параметров безопасности репликации | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- modifying replication security settings
- replication [SQL Server], security
- security [SQL Server replication], viewing settings
- viewing replication security settings
- security [SQL Server replication], modifying settings
ms.assetid: 67d79532-1482-4de1-ac9f-4a23d162c85e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8da4a6e8093c6f04e06b68448660e4096e9e5c22
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668768"
---
# <a name="view-and-modify-replication-security-settings"></a><span data-ttu-id="39a1d-102">Просмотр и изменение параметров безопасности репликации</span><span class="sxs-lookup"><span data-stu-id="39a1d-102">View and Modify Replication Security Settings</span></span>
  <span data-ttu-id="39a1d-103">В данном разделе описывается процесс просмотра и изменения параметров безопасности репликации в [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] при помощи среды [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]или объектов RMO.</span><span class="sxs-lookup"><span data-stu-id="39a1d-103">This topic describes how to view and modify replication security settings in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span> <span data-ttu-id="39a1d-104">Например, может потребоваться изменение подключения агента чтения журнала к издателю для использования проверки подлинности SQL Server вместо встроенной проверки подлинности Windows, или может потребоваться изменение учетных данных для запуска задания агента при изменении пароля учетной записи Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-104">For example, you might want to change the connection of the Log Reader Agent to the Publisher from SQL Server Authentication to Windows Integrated Authentication, or you might need to change the credentials used to run an agent job when the Windows account password has changed.</span></span> <span data-ttu-id="39a1d-105">Дополнительные сведения о разрешениях, необходимых каждому агенту, см. в разделе [Модель безопасности агента репликации](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-105">For information about the permissions required by each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="39a1d-106">**В этом разделе**</span><span class="sxs-lookup"><span data-stu-id="39a1d-106">**In This Topic**</span></span>  
  
-   <span data-ttu-id="39a1d-107">**Перед началом работы**</span><span class="sxs-lookup"><span data-stu-id="39a1d-107">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="39a1d-108">Ограничения</span><span class="sxs-lookup"><span data-stu-id="39a1d-108">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="39a1d-109">Безопасность</span><span class="sxs-lookup"><span data-stu-id="39a1d-109">Security</span></span>](#Security)  
  
-   <span data-ttu-id="39a1d-110">**Для просмотра и изменения параметров безопасности репликации используется:**</span><span class="sxs-lookup"><span data-stu-id="39a1d-110">**To view and modify replication security settings, using:**</span></span>  
  
     [<span data-ttu-id="39a1d-111">Среда SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="39a1d-111">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="39a1d-112">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="39a1d-112">Transact-SQL</span></span>](#TsqlProcedure)  
  
     [<span data-ttu-id="39a1d-113">объекты RMO;</span><span class="sxs-lookup"><span data-stu-id="39a1d-113">Replication Management Objects (RMO)</span></span>](#RMOProcedure)  
  
-   <span data-ttu-id="39a1d-114">**Дальнейшие действия.**  [После изменения параметров безопасности репликации](#FollowUp)</span><span class="sxs-lookup"><span data-stu-id="39a1d-114">**Follow Up:**  [After you modify replication security settings](#FollowUp)</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="39a1d-115">Перед началом</span><span class="sxs-lookup"><span data-stu-id="39a1d-115">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="39a1d-116">Ограничения</span><span class="sxs-lookup"><span data-stu-id="39a1d-116">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="39a1d-117">Какие именно хранимые процедуры для этого применяются, зависит от типа агента и соединения с сервером.</span><span class="sxs-lookup"><span data-stu-id="39a1d-117">The stored procedures that you use will depend on the type of agent and the type of server connection.</span></span>  
  
-   <span data-ttu-id="39a1d-118">Используемые классы и свойства RMO зависят от типа агента и типа соединения с сервером.</span><span class="sxs-lookup"><span data-stu-id="39a1d-118">The RMO classes and properties you use depend on the type of agent and the type of server connection.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="39a1d-119">безопасность</span><span class="sxs-lookup"><span data-stu-id="39a1d-119">Security</span></span>  
 <span data-ttu-id="39a1d-120">В целях безопасности пароли, возвращаемые хранимыми процедурами репликации в результирующих наборах, будут замаскированы.</span><span class="sxs-lookup"><span data-stu-id="39a1d-120">For security reasons, the actual values of passwords are masked in result sets returned by replication stored procedures.</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="39a1d-121">Permissions</span><span class="sxs-lookup"><span data-stu-id="39a1d-121">Permissions</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="39a1d-122">Использование среды SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="39a1d-122">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="39a1d-123">Просмотр и изменение настроек безопасности осуществляется в следующих диалоговых окнах:</span><span class="sxs-lookup"><span data-stu-id="39a1d-123">View and modify security settings in the following dialog boxes:</span></span>  
  
1.  <span data-ttu-id="39a1d-124">В диалоговом окне **Обновление паролей репликации** , которое доступно из папки **Репликация** в среде [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="39a1d-124">The **Update Replication Passwords** dialog box, which is available from the **Replication** folder of [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="39a1d-125">При изменении пароля для учетной записи [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] или учетной записи Windows на сервере в топологии репликации, нужно использовать это диалоговое окно, а не обновлять пароль для каждого агента, использующего эту учетную запись.</span><span class="sxs-lookup"><span data-stu-id="39a1d-125">If you change the password for a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account or Windows account on a server in a replication topology, use this dialog box rather than updating the password for each agent that uses the account.</span></span> <span data-ttu-id="39a1d-126">Если агенты на нескольких серверах используют одну и ту же учетную запись, то нужно подключиться к каждому из этих серверов и изменить пароль.</span><span class="sxs-lookup"><span data-stu-id="39a1d-126">If agents on more than one server use the same account, you must connect to each server and change the password.</span></span> <span data-ttu-id="39a1d-127">Обновление пароля осуществляется везде, где его использует репликация.</span><span class="sxs-lookup"><span data-stu-id="39a1d-127">The password is updated in all of the places that replication uses the password.</span></span> <span data-ttu-id="39a1d-128">В других местах, например на связанных серверах, обновление пароля не происходит.</span><span class="sxs-lookup"><span data-stu-id="39a1d-128">The password is not updated in other places, such as linked servers.</span></span>  
  
2.  <span data-ttu-id="39a1d-129">Страница **Безопасность агентов** диалогового окна **Свойства публикации — \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-129">The **Agent Security** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="39a1d-130">Дополнительные сведения о доступе к этому диалоговому окну см. в разделе [Просмотр и изменение свойств публикации](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-130">For more information about accessing this dialog box, see [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
3.  <span data-ttu-id="39a1d-131">Диалоговое окно **Свойства подписки — \<Subscription>** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-131">The **Subscription Properties - \<Subscription>** dialog box.</span></span> <span data-ttu-id="39a1d-132">Дополнительные сведения о доступе к этому диалоговому окну см. в разделах [Просмотр и изменение свойств принудительной подписки](../view-and-modify-push-subscription-properties.md) и [Просмотр и изменение свойств подписки по запросу](../view-and-modify-pull-subscription-properties.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-132">For more information about accessing this dialog box, see [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) and [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span></span>  
  
4.  <span data-ttu-id="39a1d-133">Диалоговые окна **Свойства распространителя — \<Distributor>** и **Свойства базы данных распространителя — \<Database>** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-133">The **Distributor Properties - \<Distributor>** and **Distribution Database Properties - \<Database>** dialog boxes.</span></span> <span data-ttu-id="39a1d-134">Дополнительные сведения о доступе к этим диалоговым окнам см. в разделе [Просмотр и изменение свойств издателя и распространителя](../view-and-modify-distributor-and-publisher-properties.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-134">For more information about accessing these dialog boxes, see [View and Modify Distributor and Publisher Properties](../view-and-modify-distributor-and-publisher-properties.md).</span></span>  
  
5.  <span data-ttu-id="39a1d-135">Диалоговое окно **Свойства издателя — \<Publisher>** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-135">The **Publisher Properties - \<Publisher>** dialog box.</span></span> <span data-ttu-id="39a1d-136">Дополнительные сведения о доступе к этому диалоговому окну см. в разделе [Просмотр и изменение свойств издателя и распространителя](../view-and-modify-distributor-and-publisher-properties.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-136">For more information about accessing this dialog box, [View and Modify Distributor and Publisher Properties](../view-and-modify-distributor-and-publisher-properties.md).</span></span>  
  
#### <a name="to-change-the-password-for-an-account-used-by-one-or-more-agents"></a><span data-ttu-id="39a1d-137">Изменение пароля для учетной записи, используемой одним или несколькими агентами</span><span class="sxs-lookup"><span data-stu-id="39a1d-137">To change the password for an account used by one or more agents</span></span>  
  
1.  <span data-ttu-id="39a1d-138">Если учетная запись является учетной записью SQL Server, то это диалоговое окно также изменит пароль для учетной записи SQL Server.</span><span class="sxs-lookup"><span data-stu-id="39a1d-138">If the account is a SQL Server account, this dialog box will also change the password for the SQL Server account.</span></span> <span data-ttu-id="39a1d-139">Если учетная запись является учетной записью Windows, то нужно вначале изменить пароль в Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-139">If the account is a Windows account, change the password in Windows first.</span></span> <span data-ttu-id="39a1d-140">Дополнительные сведения см. в документации по Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-140">For more information, see the Windows documentation.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-141">После изменения пароля репликации необходимо остановить и перезапустить каждый агент, пользующийся этим паролем, прежде чем изменение вступит в силу для этого агента.</span><span class="sxs-lookup"><span data-stu-id="39a1d-141">After changing a replication password, you must stop and restart each agent that uses the password before the change takes effect for that agent.</span></span>  
  
2.  <span data-ttu-id="39a1d-142">Подключитесь к серверу в среде [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], а затем раскройте узел сервера.</span><span class="sxs-lookup"><span data-stu-id="39a1d-142">Connect to the server in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>  
  
3.  <span data-ttu-id="39a1d-143">Щелкните правой кнопкой мыши папку **Репликация** , а затем щелкните **Обновить пароли репликации**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-143">Right-click the **Replication** folder, and then click **Update Replication Passwords**.</span></span>  
  
4.  <span data-ttu-id="39a1d-144">В диалоговом окне **Обновление паролей репликации** укажите учетную запись и новый пароль.</span><span class="sxs-lookup"><span data-stu-id="39a1d-144">In the **Update Replication Passwords** dialog box, specify the account and the new password.</span></span>  
  
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-security-settings-for-the-snapshot-agent"></a><span data-ttu-id="39a1d-145">Изменение настроек безопасности для агента моментальных снимков</span><span class="sxs-lookup"><span data-stu-id="39a1d-145">To change security settings for the Snapshot Agent</span></span>  
  
1.  <span data-ttu-id="39a1d-146">На странице **Безопасность агентов** диалогового окна **Свойства публикации — \<Publication>** нажмите кнопку **Настройки безопасности** рядом с текстовым полем **Агент моментальных снимков**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-146">On the **Agent Security** page of the **Publication Properties - \<Publication>** dialog box, click the **Security Settings** button next to the **Snapshot Agent** text box.</span></span>  
  
2.  <span data-ttu-id="39a1d-147">В диалоговом окне **Безопасность агента моментальных снимков** укажите учетную запись, под которой должен запускаться агент:</span><span class="sxs-lookup"><span data-stu-id="39a1d-147">In the **Snapshot Agent Security** dialog box, specify the account under which the agent should run:</span></span>  
  
    -   <span data-ttu-id="39a1d-148">Введите новую учетную запись Windows в текстовое поле **Учетная запись агента** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-148">Enter a new Windows account in the **Agent account** text box.</span></span>  
  
    -   <span data-ttu-id="39a1d-149">Введите новый надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-149">Enter a new strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
3.  <span data-ttu-id="39a1d-150">Укажите контекст, в условиях которого агент должен подключаться с распространителя к издателю.</span><span class="sxs-lookup"><span data-stu-id="39a1d-150">Specify the context under which the agent should connect from the Distributor to the Publisher.</span></span> <span data-ttu-id="39a1d-151">Если вы выбрали **С использованием следующего имени входа SQL Server**, то вы также должны задать имя входа:</span><span class="sxs-lookup"><span data-stu-id="39a1d-151">If you select **Using the following SQL Server login**, you must also specify the login:</span></span>  
  
    -   <span data-ttu-id="39a1d-152">Введите имя входа в текстовое поле **Имя входа** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-152">Enter a login in the **Login** text box</span></span>  
  
    -   <span data-ttu-id="39a1d-153">Введите новый надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-153">Enter a new strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-154">Если издатель является издателем Oracle, то в диалоговом окне **Свойства распространителя —\<Distributor>** задается контекст соединения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-154">If the Publisher is an Oracle Publisher, the connection context is specified in the **Distributor Properties - \<Distributor>** dialog box.</span></span> <span data-ttu-id="39a1d-155">Процедура изменения контекста приведена ниже.</span><span class="sxs-lookup"><span data-stu-id="39a1d-155">See below for the procedure to change the context.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-security-settings-for-the-log-reader-agent"></a><span data-ttu-id="39a1d-156">Изменение настроек безопасности для агента чтения журнала</span><span class="sxs-lookup"><span data-stu-id="39a1d-156">To change security settings for the Log Reader Agent</span></span>  
  
1.  <span data-ttu-id="39a1d-157">На странице **Безопасность агентов** диалогового окна **Свойства публикации — \<Publication>** нажмите кнопку **Настройки безопасности** рядом с текстовым полем **Агент чтения журнала**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-157">On the **Agent Security** page of the **Publication Properties - \<Publication>** dialog box, click the **Security Settings** button next to the **Log Reader Agent** text box.</span></span>  
  
2.  <span data-ttu-id="39a1d-158">В диалоговом окне **Безопасность агента чтения журнала** задайте учетную запись, под которой должен запускаться агент:</span><span class="sxs-lookup"><span data-stu-id="39a1d-158">In the **Log Reader Agent Security** dialog box, specify the account under which the agent should run:</span></span>  
  
    -   <span data-ttu-id="39a1d-159">Введите новую учетную запись Windows в текстовое поле **Учетная запись агента** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-159">Enter a new Windows account in the **Agent account** text box</span></span>  
  
    -   <span data-ttu-id="39a1d-160">Введите новый надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-160">Enter a new strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
3.  <span data-ttu-id="39a1d-161">Укажите контекст, в условиях которого агент должен подключаться с распространителя к издателю.</span><span class="sxs-lookup"><span data-stu-id="39a1d-161">Specify the context under which the agent should connect from the Distributor to the Publisher.</span></span> <span data-ttu-id="39a1d-162">Если вы выбрали **С использованием следующего имени входа SQL Server**, то вы также должны задать имя входа:</span><span class="sxs-lookup"><span data-stu-id="39a1d-162">If you select **Using the following SQL Server login**, you must also specify the login:</span></span>  
  
    -   <span data-ttu-id="39a1d-163">Введите имя входа в текстовое поле **Имя входа** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-163">Enter a login in the **Login** text box</span></span>  
  
    -   <span data-ttu-id="39a1d-164">Введите новый надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-164">Enter a new strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-165">Если издатель является издателем Oracle, то в диалоговом окне **Свойства распространителя —\<Distributor>** задается контекст соединения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-165">If the Publisher is an Oracle Publisher, the connection context is specified in the **Distributor Properties - \<Distributor>** dialog box.</span></span> <span data-ttu-id="39a1d-166">Измените контекст с использованием следующей процедуры.</span><span class="sxs-lookup"><span data-stu-id="39a1d-166">Change the context using the next procedure.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-167">Для каждой публикуемой базы данных существует только один агент чтения журнала.</span><span class="sxs-lookup"><span data-stu-id="39a1d-167">There is one Log Reader Agent for each published database.</span></span> <span data-ttu-id="39a1d-168">Изменение настроек безопасности для этого агента в одной публикации влияет на настройки всех публикаций в базе данных публикации.</span><span class="sxs-lookup"><span data-stu-id="39a1d-168">Changing the security settings for the agent on one publication affects the settings for all publications in the publication database.</span></span>  
  
#### <a name="to-change-the-context-under-which-the-snapshot-agent-and-log-reader-agent-for-an-oracle-publication-make-connections-to-the-publisher"></a><span data-ttu-id="39a1d-169">Изменение контекста, под которым агент моментальных снимков и агент чтения журнала для публикации Oracle осуществляют соединения с издателем</span><span class="sxs-lookup"><span data-stu-id="39a1d-169">To change the context under which the Snapshot Agent and Log Reader Agent for an Oracle publication make connections to the Publisher</span></span>  
  
1.  <span data-ttu-id="39a1d-170">На странице **Издатели** диалогового окна **Свойства распространителя — \<Distributor>** нажмите кнопку свойств ( **...** ) рядом с издателем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-170">On the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box, click the properties button (**...**) next to a Publisher.</span></span>  
  
2.  <span data-ttu-id="39a1d-171">В разделе **Соединение агента с издателем** задайте имя входа и пароль, используемые настроенной вами схемой административного пользователя репликации.</span><span class="sxs-lookup"><span data-stu-id="39a1d-171">In the **Agent Connection to the Publisher** section, specify the login and password used by the replication administrative user schema you configured.</span></span> <span data-ttu-id="39a1d-172">Дополнительные сведения см. в статье [Настройка издателя Oracle](../non-sql/configure-an-oracle-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-172">For more information, see [Configure an Oracle Publisher](../non-sql/configure-an-oracle-publisher.md).</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-security-settings-for-the-distribution-agent-for-a-push-subscription"></a><span data-ttu-id="39a1d-173">Изменение настроек безопасности агента распространителя для принудительной подписки</span><span class="sxs-lookup"><span data-stu-id="39a1d-173">To change security settings for the Distribution Agent for a push subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-174">В диалоговом окне **Свойства подписки —\<Subscription>** на издателе можно внести следующие изменения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-174">In the **Subscription Properties - \<Subscription>** dialog box at the Publisher, you can make the following changes:</span></span>  
  
    -   <span data-ttu-id="39a1d-175">Чтобы изменить учетную запись, от имени которой агент распространителя запускается и устанавливает соединение с распространителем, щелкните строку **Учетная запись процесса агента**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-175">To change the account under which the Distribution Agent runs and makes connections to the Distributor, click the **Agent process account** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-176">Задайте учетную запись и пароль в диалоговом окне **Безопасность агента распространителя** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-176">Specify an account and password in the **Distribution Agent Security** dialog box.</span></span>  
  
    -   <span data-ttu-id="39a1d-177">Чтобы изменить контекст, в котором агент распространителя подключается к подписчику, щелкните строку **Соединение с подписчиком**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-177">To change the context under which the Distribution Agent connects to the Subscriber, click the **Subscriber Connection** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-178">Задайте контекст в диалоговом окне **Ввод сведений о соединении** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-178">Specify the context in the **Enter Connection Information** dialog box.</span></span>  
  
         <span data-ttu-id="39a1d-179">При использовании подписок, обновляемых посредством очередей, заданный здесь контекст используется также агентом чтения очереди для подключений к подписчику.</span><span class="sxs-lookup"><span data-stu-id="39a1d-179">If you use queued updating subscriptions, the Queue Reader Agent also uses the context specified here for connections to the Subscriber.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-security-settings-for-the-distribution-agent-for-a-pull-subscription"></a><span data-ttu-id="39a1d-180">Изменение настроек безопасности агента распространителя для подписки по запросу</span><span class="sxs-lookup"><span data-stu-id="39a1d-180">To change security settings for the Distribution Agent for a pull subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-181">В диалоговом окне **Свойства подписки —\<Subscription>** на подписчике можно внести следующие изменения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-181">In the **Subscription Properties - \<Subscription>** dialog box at the Subscriber, you can make the following changes:</span></span>  
  
    -   <span data-ttu-id="39a1d-182">Чтобы изменить учетную запись, от имени которой агент распространителя запускается и устанавливает соединения с подписчиком, щелкните строку **Учетная запись процесса агента**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-182">To change the account under which the Distribution Agent runs and makes connections to the Subscriber, click the **Agent process account** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-183">Задайте учетную запись и пароль в диалоговом окне **Безопасность агента распространителя** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-183">Specify an account and password in the **Distribution Agent Security** dialog box.</span></span>  
  
         <span data-ttu-id="39a1d-184">При использовании подписок, обновляемых посредством очередей, заданный здесь контекст используется также агентом чтения очереди для подключений к подписчику.</span><span class="sxs-lookup"><span data-stu-id="39a1d-184">If you use queued updating subscriptions, the Queue Reader Agent also uses the context specified here for connections to the Subscriber.</span></span>  
  
    -   <span data-ttu-id="39a1d-185">Чтобы изменить контекст, в котором агент распространителя соединяется с распространителем, щелкните строку **Соединение с распространителем**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-185">To change the context under which the Distribution Agent connects to the Distributor, click the **Distributor Connection** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-186">Задайте контекст в диалоговом окне **Ввод сведений о соединении** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-186">Specify the context in the **Enter Connection Information** dialog box.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-security-settings-for-the-merge-agent-for-a-push-subscription"></a><span data-ttu-id="39a1d-187">Изменение настроек безопасности агента слияния для принудительной подписки</span><span class="sxs-lookup"><span data-stu-id="39a1d-187">To change security settings for the Merge Agent for a push subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-188">В диалоговом окне **Свойства подписки —\<Subscription>** на издателе можно внести следующие изменения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-188">In the **Subscription Properties - \<Subscription>** dialog box at the Publisher, you can make the following changes:</span></span>  
  
    -   <span data-ttu-id="39a1d-189">Чтобы изменить учетную запись, от имени которой агент слияния запускается и устанавливает соединения с издателем и распространителем, щелкните строку **Учетная запись процесса агента**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-189">To change the account under which the Merge Agent runs and makes connections to the Publisher and Distributor, click the **Agent process account** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-190">Задайте учетную запись и пароль в диалоговом окне **Безопасность агента слияния** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-190">Specify an account and password in the **Merge Agent Security** dialog box.</span></span>  
  
    -   <span data-ttu-id="39a1d-191">Чтобы изменить контекст, в котором агент слияния соединяется с подписчиком, щелкните строку **Соединение с подписчиком**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-191">To change the context under which the Merge Agent connects to the Subscriber, click the **Subscriber Connection** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-192">Задайте контекст в диалоговом окне **Ввод сведений о соединении** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-192">Specify the context in the **Enter Connection Information** dialog box.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-security-settings-for-the-merge-agent-for-a-pull-subscription"></a><span data-ttu-id="39a1d-193">Изменение настроек безопасности агента слияния для подписки по запросу</span><span class="sxs-lookup"><span data-stu-id="39a1d-193">To change security settings for the Merge Agent for a pull subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-194">В диалоговом окне **Свойства подписки —\<Subscription>** на подписчике можно внести следующие изменения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-194">In the **Subscription Properties - \<Subscription>** dialog box at the Subscriber, you can make the following changes:</span></span>  
  
    -   <span data-ttu-id="39a1d-195">Чтобы изменить учетную запись, от имени которой агент слияния запускается и устанавливает соединения с подписчиком, щелкните строку **Учетная запись процесса агента**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-195">To change the account under which the Merge Agent runs and makes connections to the Subscriber, click the **Agent process account** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-196">Задайте учетную запись и пароль в диалоговом окне **Безопасность агента слияния** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-196">Specify an account and password in the **Merge Agent Security** dialog box.</span></span>  
  
    -   <span data-ttu-id="39a1d-197">Чтобы изменить контекст, в котором агент слияния подключается к издателю и распространителю, щелкните строку **Соединение с издателем**, а затем нажмите кнопку свойств ( **...** ) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-197">To change the context under which the Merge Agent connects to the Publisher and Distributor, click the **Publisher Connection** row, and then click the properties (**...**) button in the row.</span></span> <span data-ttu-id="39a1d-198">Задайте контекст в диалоговом окне **Ввод сведений о соединении** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-198">Specify the context in the **Enter Connection Information** dialog box.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-change-the-account-under-which-the-queue-reader-agent-runs"></a><span data-ttu-id="39a1d-199">Изменение учетной записи, под которой запускается агент чтения очереди</span><span class="sxs-lookup"><span data-stu-id="39a1d-199">To change the account under which the Queue Reader Agent runs</span></span>  
  
1.  <span data-ttu-id="39a1d-200">На странице **Общие** диалогового окна **Свойства распространителя — \<Distributor>** нажмите кнопку свойств ( **...** ) возле базы данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-200">On the **General** page of the **Distributor Properties - \<Distributor>** dialog box, click the properties (**...**) button next to the distribution database.</span></span>  
  
2.  <span data-ttu-id="39a1d-201">В диалоговом окне **Свойства базы данных распространителя —\<Database>** нажмите кнопку **Настройки безопасности** рядом с текстовым полем **Учетная запись процесса агента**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-201">In the **Distribution Database Properties - \<Database>** dialog box, click the **Security Settings** button next to the **Agent process account** text box.</span></span>  
  
3.  <span data-ttu-id="39a1d-202">В диалоговом окне **Безопасность агента чтения очереди** задайте учетную запись, под которой агент запускается и устанавливает соединение с распространителем:</span><span class="sxs-lookup"><span data-stu-id="39a1d-202">In the **Queue Reader Agent Security** dialog box, specify the account under which the agent runs and makes connections to the Distributor:</span></span>  
  
    -   <span data-ttu-id="39a1d-203">Введите новую учетную запись Windows в текстовое поле **Учетная запись процесса**</span><span class="sxs-lookup"><span data-stu-id="39a1d-203">Enter a new Windows account in the **Process account** text box</span></span>  
  
    -   <span data-ttu-id="39a1d-204">Введите новый надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-204">Enter a new strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-205">Для каждой базы распространителя существует только один агент чтения очереди.</span><span class="sxs-lookup"><span data-stu-id="39a1d-205">There is one Queue Reader Agent for each distribution database.</span></span> <span data-ttu-id="39a1d-206">Изменение настроек безопасности агента оказывает влияние на параметры всех публикаций на всех издателях, использующих эту базу данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-206">Changing the security settings for the agent affects the settings for all publications at all Publishers that use this distribution database.</span></span>  
  
#### <a name="to-change-the-context-under-which-the-queue-reader-agent-makes-connections-to-the-publisher"></a><span data-ttu-id="39a1d-207">Изменение контекста, под которым агент чтения очереди устанавливает соединения с издателем</span><span class="sxs-lookup"><span data-stu-id="39a1d-207">To change the context under which the Queue Reader Agent makes connections to the Publisher</span></span>  
  
1.  <span data-ttu-id="39a1d-208">На странице **Издатели** диалогового окна **Свойства распространителя — \<Distributor>** нажмите кнопку свойств ( **...** ) рядом с издателем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-208">On the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box, click the properties button (**...**) next to the Publisher.</span></span>  
  
2.  <span data-ttu-id="39a1d-209">В разделе **Соединение агента с издателем** задайте значение **Выполнять олицетворение учетной записи процесса агента** или **Проверка подлинности SQL Server** для параметра **Режим соединения агента** .</span><span class="sxs-lookup"><span data-stu-id="39a1d-209">In the **Agent Connection to the Publisher** section, specify a value of **Impersonate the agent process account** or **SQL Server Authentication** for the **Agent Connection Mode** option.</span></span> <span data-ttu-id="39a1d-210">Если вы задали **Проверка подлинности SQL Server**, то также введите значения для **Имя входа** и **Пароль**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-210">If you specify **SQL Server Authentication**, also enter values for **Login** and **Password**.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-211">Для каждой базы распространителя существует только один агент чтения очереди.</span><span class="sxs-lookup"><span data-stu-id="39a1d-211">There is one Queue Reader Agent for each distribution database.</span></span> <span data-ttu-id="39a1d-212">Изменение настроек безопасности агента оказывает влияние на параметры всех публикаций на всех издателях, использующих эту базу данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-212">Changing the security settings for the agent affects the settings for all publications at all Publishers that use this distribution database.</span></span>  
  
#### <a name="to-change-the-context-under-which-the-queue-reader-agent-makes-connections-to-the-subscriber"></a><span data-ttu-id="39a1d-213">Изменение контекста, под которым агент чтения очереди устанавливает соединения с подписчиком</span><span class="sxs-lookup"><span data-stu-id="39a1d-213">To change the context under which the Queue Reader Agent makes connections to the Subscriber</span></span>  
  
-   <span data-ttu-id="39a1d-214">Агент чтения очереди использует тот же контекст соединения, который используется агентом распространителя для подписки.</span><span class="sxs-lookup"><span data-stu-id="39a1d-214">The Queue Reader Agent uses the same connection context as the Distribution Agent for the subscription.</span></span> <span data-ttu-id="39a1d-215">Дополнительные сведения см. выше в описании процедуры для агента распространителя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-215">For more information, see the procedures above for the Distribution Agent.</span></span>  
  
#### <a name="to-change-security-settings-for-an-immediate-updating-pull-subscription"></a><span data-ttu-id="39a1d-216">Изменение настроек безопасности для подписки по запросу, обновляемой немедленно</span><span class="sxs-lookup"><span data-stu-id="39a1d-216">To change security settings for an immediate updating pull subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-217">В диалоговом окне **свойства \<Subscription> подписки —** на подписчике щелкните строку **соединение с издателем** , а затем нажмите кнопку свойств (**...**) в строке.</span><span class="sxs-lookup"><span data-stu-id="39a1d-217">In the **Subscription Properties - \<Subscription>** dialog box at the Subscriber, click the **Publisher Connection** row, and then click the properties (**...**) button in the row.</span></span>  
  
2.  <span data-ttu-id="39a1d-218">В диалоговом окне **Ввод сведений о соединении** выберите один из следующих параметров:</span><span class="sxs-lookup"><span data-stu-id="39a1d-218">In the **Enter Connection Information** dialog box, select one of the following options:</span></span>  
  
    -   <span data-ttu-id="39a1d-219">**Использовать имя входа со связанного или удаленного сервера**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-219">**Use a login from a linked or remote server**.</span></span> <span data-ttu-id="39a1d-220">Выберите этот параметр, если вы определили удаленный сервер или связанный сервер между подписчиком и издателем с помощью [sp_addserver (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-addserver-transact-sql),[sp_addlinkedserver (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql), [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] или другого метода.</span><span class="sxs-lookup"><span data-stu-id="39a1d-220">Select this option if you have defined a remote server or linked server between the Subscriber and the Publisher using [sp_addserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addserver-transact-sql), [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql), [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], or another method.</span></span>  
  
    -   <span data-ttu-id="39a1d-221">**Использовать проверку подлинности SQL Server со следующим именем входа и паролем**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-221">**Use SQL Server Authentication with the following login and password**.</span></span> <span data-ttu-id="39a1d-222">Выберите этот параметр, если вы не определили удаленный сервер или связанный сервер между подписчиком и издателем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-222">Select this option if you have not defined a remote server or linked server between the Subscriber and the Publisher.</span></span> <span data-ttu-id="39a1d-223">Репликация создаст связанный сервер.</span><span class="sxs-lookup"><span data-stu-id="39a1d-223">Replication will create a linked server for you.</span></span> <span data-ttu-id="39a1d-224">Указанная учетная запись уже должна существовать на издателе.</span><span class="sxs-lookup"><span data-stu-id="39a1d-224">The account you specify must already exist at the Publisher.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
> [!NOTE]  
>  <span data-ttu-id="39a1d-225">Данная процедура изменяет метод, используемый триггерами репликации для соединения между подписчиком и издателем при внесении изменений на подписчике.</span><span class="sxs-lookup"><span data-stu-id="39a1d-225">This procedure changes the method that replication triggers use to connect from the Subscriber to the Publisher when changes are made at the Subscriber.</span></span> <span data-ttu-id="39a1d-226">Также можно изменить настройки, связанные с агентом распространителя, для подписки, обновляемой немедленно.</span><span class="sxs-lookup"><span data-stu-id="39a1d-226">You can also change settings associated with the Distribution Agent for an immediate updating subscription.</span></span> <span data-ttu-id="39a1d-227">Дополнительные сведения см. в описании процедуры, приведенном выше в данном разделе.</span><span class="sxs-lookup"><span data-stu-id="39a1d-227">For more information, see the procedures earlier in this topic.</span></span>  
>   
>  <span data-ttu-id="39a1d-228">Данная процедура применяется только к подпискам по запросу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-228">This procedure applies only to pull subscriptions.</span></span> <span data-ttu-id="39a1d-229">Для принудительных подписок нужно использовать хранимую процедуру [sp_link_publication (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="39a1d-229">For push subscriptions, use the stored procedure [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span></span>  
  
#### <a name="to-change-the-password-for-the-administrative-connection-from-the-publisher-to-the-distributor"></a><span data-ttu-id="39a1d-230">Изменение пароля для административного соединения между издателем и распространителем</span><span class="sxs-lookup"><span data-stu-id="39a1d-230">To change the password for the administrative connection from the Publisher to the Distributor</span></span>  
  
1.  <span data-ttu-id="39a1d-231">На странице **Издатели** диалогового окна **Свойства распространителя — \<Distributor>** введите надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-231">On the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box, enter a strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
3.  <span data-ttu-id="39a1d-232">На странице **Общие** диалогового окна **Свойства издателя — \<Publisher>** введите надежный пароль в текстовые поля **Пароль** и **Подтверждение пароля**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-232">On the **General** page of the **Publisher Properties - \<Publisher>** dialog box, enter a strong password in the **Password** and **Confirm Password** text boxes.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="39a1d-233">Использование Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="39a1d-233">Using Transact-SQL</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="39a1d-234">При выполнении всех следующих процедур, если это возможно, предлагайте пользователю вводить учетные данные безопасности во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-234">In all of the following procedures, when possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="39a1d-235">При хранении учетных данных в файле скрипта необходимо защитить этот файл во избежание несанкционированного доступа.</span><span class="sxs-lookup"><span data-stu-id="39a1d-235">If you store credentials in a script file, you must secure the file to prevent unauthorized access.</span></span>  
  
#### <a name="to-change-all-instances-of-a-stored-password-at-a-replication-server"></a><span data-ttu-id="39a1d-236">Изменение всех экземпляров сохраненного пароля на сервере репликации</span><span class="sxs-lookup"><span data-stu-id="39a1d-236">To change all instances of a stored password at a replication server</span></span>  
  
1.  <span data-ttu-id="39a1d-237">На сервере базы данных master в топологии репликации выполните хранимую процедуру [sp_changereplicationserverpasswords](/sql/relational-databases/system-stored-procedures/sp-changereplicationserverpasswords-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="39a1d-237">At a server in a replication topology on the master database, execute [sp_changereplicationserverpasswords](/sql/relational-databases/system-stored-procedures/sp-changereplicationserverpasswords-transact-sql).</span></span> <span data-ttu-id="39a1d-238">Укажите [!INCLUDE[msCoName](../../../includes/msconame-md.md)] учетную запись Windows или [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] имя входа, чей пароль изменяется для \*\* \@ имени входа\*\* , и новый пароль для учетной записи или имя входа для \*\* \@ пароля\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-238">Specify the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows account or [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login whose password is being changed for **\@login** and new password for the account or login for **\@password**.</span></span> <span data-ttu-id="39a1d-239">В результате выполнения этой операции производится изменение всех экземпляров пароля, используемого всеми агентами сервера для соединения с другими серверами топологии.</span><span class="sxs-lookup"><span data-stu-id="39a1d-239">This changes every instance of the password used by all agents on the server when connecting to other servers in the topology.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-240">Чтобы изменить имя входа и пароль для подключения к определенному серверу в топологии (например, распространителю или подписчику), укажите сервер в качестве имени \*\* \@ сервера\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-240">To only change the login and password for a connection to a particular server in the topology (such as the Distributor or Subscriber), specify this server's name for **\@server**.</span></span>  
  
2.  <span data-ttu-id="39a1d-241">Повторите шаг 1 на каждом из серверов в топологии репликации, где необходимо изменить пароль.</span><span class="sxs-lookup"><span data-stu-id="39a1d-241">Repeat step 1 at every server in the replication topology where the password must be updated.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-242">После изменения пароля репликации необходимо остановить и перезапустить каждый агент, пользующийся этим паролем, прежде чем изменение вступит в силу для этого агента.</span><span class="sxs-lookup"><span data-stu-id="39a1d-242">After changing a replication password, you must stop and restart each agent that uses the password before the change takes effect for that agent.</span></span>  
  
#### <a name="to-change-security-settings-for-the-snapshot-agent"></a><span data-ttu-id="39a1d-243">Изменение настроек безопасности для агента моментальных снимков</span><span class="sxs-lookup"><span data-stu-id="39a1d-243">To change security settings for the Snapshot Agent</span></span>  
  
1.  <span data-ttu-id="39a1d-244">На издателе выполните [sp_helppublication_snapshot](/sql/relational-databases/system-stored-procedures/sp-helppublication-snapshot-transact-sql), указав \*\* \@ publication\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-244">At the Publisher, execute [sp_helppublication_snapshot](/sql/relational-databases/system-stored-procedures/sp-helppublication-snapshot-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="39a1d-245">Она возвращает текущие параметры безопасности агента моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="39a1d-245">This returns the current security settings for the Snapshot Agent.</span></span>  
  
2.  <span data-ttu-id="39a1d-246">На издателе выполните [sp_changepublication_snapshot](/sql/relational-databases/system-stored-procedures/sp-changepublication-snapshot-transact-sql), указав \*\* \@ публикацию\*\* и одну или несколько следующих параметров безопасности для изменения:</span><span class="sxs-lookup"><span data-stu-id="39a1d-246">At the Publisher, execute [sp_changepublication_snapshot](/sql/relational-databases/system-stored-procedures/sp-changepublication-snapshot-transact-sql), specifying **\@publication** and one or more of the following security settings to change:</span></span>  
  
    -   <span data-ttu-id="39a1d-247">Чтобы изменить учетную запись Windows, от имени которой запускается агент, или просто пароль для этой учетной записи, укажите \*\* \@ job_login\*\* и \*\* \@ job_password\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-247">To change the Windows account under which the agent runs or just password for this account, specify **\@job_login** and **\@job_password**.</span></span>  
  
    -   <span data-ttu-id="39a1d-248">Чтобы изменить режим безопасности, используемый при соединении с издателем, укажите значение **1** или **0** для \*\* \@ publisher_security_mode\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-248">To change the security mode used when connecting to the Publisher, specify a value of **1** or **0** for **\@publisher_security_mode**.</span></span>  
  
    -   <span data-ttu-id="39a1d-249">При изменении режима безопасности, используемого при соединении с издателем от **1** до **0** или при изменении [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] имени входа, используемого для этого соединения, укажите \*\* \@ publisher_login\*\* и \*\* \@ publisher_password\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-249">When changing the security mode used when connecting to the Publisher from **1** to **0** or when changing a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login used for this connection, specify **\@publisher_login** and **\@publisher_password**.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="39a1d-250">Если издатель настраивается с удаленным распространителем, то значения, передаваемые для всех аргументов, включая *job_login* и *job_password*, передаются распространителю в формате обычного (незашифрованного) текста.</span><span class="sxs-lookup"><span data-stu-id="39a1d-250">When configuring a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="39a1d-251">Прежде чем выполнять эту хранимую процедуру, необходимо зашифровать соединение между издателем и его удаленным распространителем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-251">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="39a1d-252">Дополнительные сведения см. в разделе [Включение шифрования соединений в компоненте Database Engine (диспетчер конфигураций SQL Server)](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-252">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
#### <a name="to-change-security-settings-for-the-log-reader-agent"></a><span data-ttu-id="39a1d-253">Изменение настроек безопасности для агента чтения журнала</span><span class="sxs-lookup"><span data-stu-id="39a1d-253">To change security settings for the Log Reader Agent</span></span>  
  
1.  <span data-ttu-id="39a1d-254">На издателе выполните [sp_helplogreader_agent](/sql/relational-databases/system-stored-procedures/sp-helplogreader-agent-transact-sql), указав \*\* \@ Издатель\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-254">At the Publisher, execute [sp_helplogreader_agent](/sql/relational-databases/system-stored-procedures/sp-helplogreader-agent-transact-sql), specifying **\@publisher**.</span></span> <span data-ttu-id="39a1d-255">Она возвращает текущие параметры безопасности агента чтения журнала.</span><span class="sxs-lookup"><span data-stu-id="39a1d-255">This returns the current security settings for the Log Reader Agent.</span></span>  
  
2.  <span data-ttu-id="39a1d-256">На издателе выполните [sp_changelogreader_agent](/sql/relational-databases/system-stored-procedures/sp-changelogreader-agent-transact-sql), указав \*\* \@ публикацию\*\* и одну или несколько следующих параметров безопасности для изменения:</span><span class="sxs-lookup"><span data-stu-id="39a1d-256">At the Publisher, execute [sp_changelogreader_agent](/sql/relational-databases/system-stored-procedures/sp-changelogreader-agent-transact-sql), specifying **\@publication** and one or more of the following security settings to change:</span></span>  
  
    -   <span data-ttu-id="39a1d-257">Чтобы изменить учетную запись Windows, от имени которой запускается агент, или просто пароль для этой учетной записи, укажите \*\* \@ job_login\*\* и \*\* \@ job_password\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-257">To change the Windows account under which the agent runs or just password for this account, specify **\@job_login** and **\@job_password**.</span></span>  
  
    -   <span data-ttu-id="39a1d-258">Чтобы изменить режим безопасности, используемый при соединении с издателем, укажите значение **1** или **0** для \*\* \@ publisher_security_mode\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-258">To change the security mode used when connecting to the Publisher, specify a value of **1** or **0** for **\@publisher_security_mode**.</span></span>  
  
    -   <span data-ttu-id="39a1d-259">При изменении режима безопасности, используемого при соединении с издателем от **1** до **0** или при изменении [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] имени входа, используемого для этого соединения, укажите \*\* \@ publisher_login\*\* и \*\* \@ publisher_password\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-259">When changing the security mode used when connecting to the Publisher from **1** to **0** or when changing a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login used for this connection, specify **\@publisher_login** and **\@publisher_password**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-260">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-260">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="39a1d-261">Если издатель настраивается с удаленным распространителем, то значения, передаваемые для всех аргументов, включая *job_login* и *job_password*, передаются распространителю в формате обычного (незашифрованного) текста.</span><span class="sxs-lookup"><span data-stu-id="39a1d-261">When configuring a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="39a1d-262">Прежде чем выполнять эту хранимую процедуру, необходимо зашифровать соединение между издателем и его удаленным распространителем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-262">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="39a1d-263">Дополнительные сведения см. в разделе [Включение шифрования соединений в компоненте Database Engine (диспетчер конфигураций SQL Server)](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-263">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
#### <a name="to-change-security-settings-for-the-distribution-agent-for-a-push-subscription"></a><span data-ttu-id="39a1d-264">Изменение настроек безопасности агента распространителя для принудительной подписки</span><span class="sxs-lookup"><span data-stu-id="39a1d-264">To change security settings for the Distribution Agent for a push subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-265">На издателе в базе данных публикации выполните [sp_helpsubscription](/sql/relational-databases/system-stored-procedures/sp-helpsubscription-transact-sql), указав \*\* \@ публикацию\*\* и \*\* \@ подписчика\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-265">At the Publisher on the publication database, execute [sp_helpsubscription](/sql/relational-databases/system-stored-procedures/sp-helpsubscription-transact-sql), specifying **\@publication** and **\@subscriber**.</span></span> <span data-ttu-id="39a1d-266">Она возвращает свойства подписки, включая параметры безопасности агента распространителя на распространителе.</span><span class="sxs-lookup"><span data-stu-id="39a1d-266">This returns subscription properties, including security settings for the Distribution Agent running at the Distributor.</span></span>  
  
2.  <span data-ttu-id="39a1d-267">На издателе в базе данных публикации выполните [sp_changesubscription](/sql/relational-databases/system-stored-procedures/sp-changesubscription-transact-sql), указав \*\* \@ публикацию**, \*\* \@ подписчик**, \*\* \@ subscriber_db**, значение **ALL** для \*\* \@ статьи**, имя свойства безопасности для \*\* \@ Свойства**и новое значение свойства для \*\* \@ value**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-267">At the Publisher on the publication database, execute [sp_changesubscription](/sql/relational-databases/system-stored-procedures/sp-changesubscription-transact-sql), specifying **\@publication**, **\@subscriber**, **\@subscriber_db**, a value of **all** for **\@article**, the name of the security property for **\@property**, and the new value of the property for **\@value**.</span></span>  
  
3.  <span data-ttu-id="39a1d-268">Повторите шаг 2 для каждого из следующих свойств безопасности, которые подвергаются изменениям.</span><span class="sxs-lookup"><span data-stu-id="39a1d-268">Repeat step 2 for each of the following security properties being changed:</span></span>  
  
    -   <span data-ttu-id="39a1d-269">Чтобы изменить учетную запись Windows, под которой запускается агент, или только пароль для этой учетной записи, укажите значение **distrib_job_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-269">To change the Windows account under which the agent runs or just the password for this account, specify a value of **distrib_job_password** for **\@property** and a new password for **\@value**.</span></span> <span data-ttu-id="39a1d-270">При изменении самой учетной записи повторите шаг 2, указав значение **distrib_job_login** для \*\* \@ Свойства\*\* , а для новой учетной записи Windows — \*\* \@ значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-270">When changing the account itself, repeat step 2 specifying a value of **distrib_job_login** for **\@property** and the new Windows account for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-271">Чтобы изменить режим безопасности, используемый при соединении с подписчиком, укажите значение **subscriber_security_mode** для \*\* \@ Свойства\*\* и значение **1** (встроенная проверка подлинности Windows) или **0** (проверка подлинности SQL Server) для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-271">To change the security mode used when connecting to the Subscriber, specify a value of **subscriber_security_mode** for **\@property** and a value of **1** (Windows Integrated Authentication) or **0** (SQL Server Authentication) for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-272">При изменении режима безопасности подписчика на SQL Serverную проверку подлинности или при изменении данных входа для SQL Server проверки подлинности укажите значение **subscriber_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-272">When changing the Subscriber security mode to SQL Server Authentication, or if changing login information for SQL Server Authentication, specify a value of **subscriber_password** for **\@property** and the new password for **\@value**.</span></span> <span data-ttu-id="39a1d-273">Повторите шаг 2, указав значение **subscriber_login** для \*\* \@ Свойства\*\* и новое имя входа для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-273">Repeat step 2, specifying a value of **subscriber_login** for **\@property** and the new login for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-274">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-274">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="39a1d-275">При настройке издателя с удаленным распространителем значения, передаваемые для всех аргументов, включая **distrib_job_login** и **distrib_job_password**, передаются распространителю в виде обычного текста.</span><span class="sxs-lookup"><span data-stu-id="39a1d-275">When configuring a Publisher with a remote Distributor, the values supplied for all properties, including **distrib_job_login** and **distrib_job_password**, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="39a1d-276">Прежде чем выполнять эту хранимую процедуру, необходимо зашифровать соединение между издателем и его удаленным распространителем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-276">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="39a1d-277">Дополнительные сведения см. в разделе [Включение шифрования соединений в компоненте Database Engine (диспетчер конфигураций SQL Server)](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-277">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
#### <a name="to-change-security-settings-for-the-distribution-agent-for-a-pull-subscription"></a><span data-ttu-id="39a1d-278">Изменение настроек безопасности агента распространителя для подписки по запросу</span><span class="sxs-lookup"><span data-stu-id="39a1d-278">To change security settings for the Distribution Agent for a pull subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-279">На подписчике выполните [sp_helppullsubscription](/sql/relational-databases/system-stored-procedures/sp-helppullsubscription-transact-sql), указав \*\* \@ publication\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-279">At the Subscriber, execute [sp_helppullsubscription](/sql/relational-databases/system-stored-procedures/sp-helppullsubscription-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="39a1d-280">Она возвращает список свойств подписки, включая параметры безопасности агента распространителя на подписчике.</span><span class="sxs-lookup"><span data-stu-id="39a1d-280">This returns subscription properties, including security settings for the Distribution Agent running at the Subscriber.</span></span>  
  
2.  <span data-ttu-id="39a1d-281">На подписчике в базе данных подписки выполните [sp_change_subscription_properties](/sql/relational-databases/system-stored-procedures/sp-change-subscription-properties-transact-sql), указав \*\* \@ Publisher**, \*\* \@ publisher_db**, \*\* \@ publication**, имя свойства безопасности для \*\* \@ Свойства**и новое значение свойства для \*\* \@ value\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-281">At the Subscriber on the subscription database, execute [sp_change_subscription_properties](/sql/relational-databases/system-stored-procedures/sp-change-subscription-properties-transact-sql), specifying **\@publisher**, **\@publisher_db**, **\@publication**, the name of the security property for **\@property**, and the new value of the property for **\@value**.</span></span>  
  
3.  <span data-ttu-id="39a1d-282">Повторите шаг 2 для каждого из следующих свойств безопасности, которые подвергаются изменениям.</span><span class="sxs-lookup"><span data-stu-id="39a1d-282">Repeat step 2 for each of the following security properties being changed:</span></span>  
  
    -   <span data-ttu-id="39a1d-283">Чтобы изменить учетную запись Windows, под которой запускается агент, или только пароль для этой учетной записи, укажите значение **distrib_job_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-283">To change the Windows account under which the agent runs or just the password for this account, specify a value of **distrib_job_password** for **\@property** and a new password for **\@value**.</span></span> <span data-ttu-id="39a1d-284">При изменении самой учетной записи повторите шаг 2, указав значение **distrib_job_login** для \*\* \@ Свойства\*\* , а для новой учетной записи Windows — \*\* \@ значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-284">When changing the account itself, repeat step 2 specifying a value of **distrib_job_login** for **\@property** and the new Windows account for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-285">Чтобы изменить режим безопасности, используемый при соединении с распространителем, укажите значение **distributor_security_mode** для \*\* \@ Свойства\*\* и значение **1** (встроенная проверка подлинности Windows) или **0** (проверка подлинности SQL Server \*\* \@ ).\*\*</span><span class="sxs-lookup"><span data-stu-id="39a1d-285">To change the security mode used when connecting to the Distributor, specify a value of **distributor_security_mode** for **\@property** and a value of **1** (Windows Integrated Authentication) or **0** (SQL Server Authentication) for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-286">При изменении режима безопасности распространителя на SQL Server проверку подлинности или при изменении данных входа для SQL Server проверки подлинности укажите значение **distributor_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-286">When changing the Distributor security mode to SQL Server Authentication or if changing login information for SQL Server Authentication, specify a value of **distributor_password** for **\@property** and the new password for **\@value**.</span></span> <span data-ttu-id="39a1d-287">Повторите шаг 2, указав значение **distributor_login** для \*\* \@ Свойства\*\* и новое имя входа для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-287">Repeat step 2, specifying a value of **distributor_login** for **\@property** and the new login for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-288">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-288">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span>  
  
#### <a name="to-change-security-settings-for-the-merge-agent-for-a-push-subscription"></a><span data-ttu-id="39a1d-289">Изменение настроек безопасности агента слияния для принудительной подписки</span><span class="sxs-lookup"><span data-stu-id="39a1d-289">To change security settings for the Merge Agent for a push subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-290">На издателе в базе данных публикации выполните [sp_helpmergesubscription](/sql/relational-databases/system-stored-procedures/sp-helpmergesubscription-transact-sql), указав \*\* \@ публикацию**, \*\* \@ подписчик**и \*\* \@ subscriber_db\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-290">At the Publisher on the publication database, execute [sp_helpmergesubscription](/sql/relational-databases/system-stored-procedures/sp-helpmergesubscription-transact-sql), specifying **\@publication**, **\@subscriber**, and **\@subscriber_db**.</span></span> <span data-ttu-id="39a1d-291">Она возвращает свойства подписки, включая параметры безопасности агента слияния на распространителе.</span><span class="sxs-lookup"><span data-stu-id="39a1d-291">This returns subscription properties, including security settings for the Merge Agent running at the Distributor.</span></span>  
  
2.  <span data-ttu-id="39a1d-292">На издателе в базе данных публикации выполните [sp_changemergesubscription](/sql/relational-databases/system-stored-procedures/sp-changemergesubscription-transact-sql), указав \*\* \@ публикацию**, \*\* \@ подписчик**, \*\* \@ subscriber_db**, имя свойства безопасности для \*\* \@ Свойства**и новое значение свойства в поле \*\* \@ значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-292">At the Publisher on the publication database, execute [sp_changemergesubscription](/sql/relational-databases/system-stored-procedures/sp-changemergesubscription-transact-sql), specifying **\@publication**, **\@subscriber**, **\@subscriber_db**, the name of the security property for **\@property**, and the new value of the property for **\@value**.</span></span>  
  
3.  <span data-ttu-id="39a1d-293">Повторите шаг 2 для каждого из следующих свойств безопасности, которые подвергаются изменениям.</span><span class="sxs-lookup"><span data-stu-id="39a1d-293">Repeat step 2 for each of the following security properties being changed:</span></span>  
  
    -   <span data-ttu-id="39a1d-294">Чтобы изменить учетную запись Windows, под которой запускается агент, или только пароль для этой учетной записи, укажите значение **merge_job_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-294">To change the Windows account under which the agent runs, or just the password for this account, specify a value of **merge_job_password** for **\@property** and a new password for **\@value**.</span></span> <span data-ttu-id="39a1d-295">При изменении самой учетной записи повторите шаг 2, указав значение **merge_job_login** для \*\* \@ Свойства\*\* , а для новой учетной записи Windows — \*\* \@ значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-295">When changing the account itself, repeat step 2 specifying a value of **merge_job_login** for **\@property** and the new Windows account for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-296">Чтобы изменить режим безопасности, используемый при соединении с подписчиком, укажите значение **subscriber_security_mode** для \*\* \@ Свойства\*\* и значение **1** (встроенная проверка подлинности Windows) или **0** (проверка подлинности SQL Server) для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-296">To change the security mode used when connecting to the Subscriber, specify a value of **subscriber_security_mode** for **\@property** and a value of **1** (Windows Integrated Authentication) or **0** (SQL Server Authentication) for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-297">При изменении режима безопасности подписчика на SQL Serverную проверку подлинности или при изменении данных входа для SQL Server проверки подлинности укажите значение **subscriber_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-297">When changing the Subscriber security mode to SQL Server Authentication, or if changing login information for SQL Server Authentication, specify a value of **subscriber_password** for **\@property** and the new password for **\@value**.</span></span> <span data-ttu-id="39a1d-298">Повторите шаг 2, указав значение **subscriber_login** для \*\* \@ Свойства\*\* и новое имя входа для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-298">Repeat step 2, specifying a value of **subscriber_login** for **\@property** and the new login for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-299">Чтобы изменить режим безопасности, используемый при соединении с издателем, укажите значение **publisher_security_mode** для \*\* \@ Свойства\*\* и значение **1** (встроенная проверка подлинности Windows) или **0** (проверка подлинности SQL Server \*\* \@ ).\*\*</span><span class="sxs-lookup"><span data-stu-id="39a1d-299">To change the security mode used when connecting to the Publisher, specify a value of **publisher_security_mode** for **\@property** and a value of **1** (Windows Integrated Authentication) or **0** (SQL Server Authentication) for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-300">При изменении режима безопасности издателя на SQL Server проверку подлинности или при изменении данных входа для SQL Server проверки подлинности укажите значение **publisher_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-300">When changing the Publisher security mode to SQL Server Authentication, or if changing login information for SQL Server Authentication, specify a value of **publisher_password** for **\@property** and the new password for **\@value**.</span></span> <span data-ttu-id="39a1d-301">Повторите шаг 2, указав значение **publisher_login** для \*\* \@ Свойства\*\* и новое имя входа для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-301">Repeat step 2, specifying a value of **publisher_login** for **\@property** and the new login for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-302">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-302">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="39a1d-303">При настройке издателя для работы с удаленным распространителем все передаваемые значения свойств, включая **merge_job_login** и **merge_job_password**, передаются распространителю в виде обычного текста.</span><span class="sxs-lookup"><span data-stu-id="39a1d-303">When configuring a Publisher with a remote Distributor, the values supplied for all properties, including **merge_job_login** and **merge_job_password**, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="39a1d-304">Прежде чем выполнять эту хранимую процедуру, необходимо зашифровать соединение между издателем и его удаленным распространителем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-304">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="39a1d-305">Дополнительные сведения см. в разделе [Включение шифрования соединений в компоненте Database Engine (диспетчер конфигураций SQL Server)](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-305">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
#### <a name="to-change-security-settings-for-the-merge-agent-for-a-pull-subscription"></a><span data-ttu-id="39a1d-306">Изменение настроек безопасности агента слияния для подписки по запросу</span><span class="sxs-lookup"><span data-stu-id="39a1d-306">To change security settings for the Merge Agent for a pull subscription</span></span>  
  
1.  <span data-ttu-id="39a1d-307">На подписчике выполните [sp_helpmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-helpmergepullsubscription-transact-sql), указав \*\* \@ publication\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-307">At the Subscriber, execute [sp_helpmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-helpmergepullsubscription-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="39a1d-308">Она возвращает свойства подписки, включая параметры безопасности агента слияния на подписчике.</span><span class="sxs-lookup"><span data-stu-id="39a1d-308">This returns subscription properties, including security settings for the Merge Agent running at the Subscriber.</span></span>  
  
2.  <span data-ttu-id="39a1d-309">На подписчике в базе данных подписки выполните [sp_change_subscription_properties](/sql/relational-databases/system-stored-procedures/sp-change-subscription-properties-transact-sql), указав \*\* \@ Publisher**, \*\* \@ publisher_db**, \*\* \@ publication**, имя свойства безопасности для \*\* \@ Свойства**и новое значение свойства для \*\* \@ value\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-309">At the Subscriber on the subscription database, execute [sp_change_subscription_properties](/sql/relational-databases/system-stored-procedures/sp-change-subscription-properties-transact-sql), specifying **\@publisher**, **\@publisher_db**, **\@publication**, the name of the security property for **\@property**, and the new value of the property for **\@value**.</span></span>  
  
3.  <span data-ttu-id="39a1d-310">Повторите шаг 2 для каждого из следующих свойств безопасности, которые подвергаются изменениям.</span><span class="sxs-lookup"><span data-stu-id="39a1d-310">Repeat step 2 for each of the following security properties being changed:</span></span>  
  
    -   <span data-ttu-id="39a1d-311">Чтобы изменить учетную запись Windows, под которой запускается агент, или только пароль для этой учетной записи, укажите значение **merge_job_password** для \*\* \@ Свойства\*\* и новый пароль в поле \*\* \@ значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-311">To change the Windows account under which the agent runs or just the password for this account, specify a value of **merge_job_password** for **\@property** and new password for **\@value**.</span></span> <span data-ttu-id="39a1d-312">При изменении самой учетной записи повторите шаг 2, указав значение **merge_job_login** для \*\* \@ Свойства\*\* , а для новой учетной записи Windows — \*\* \@ значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-312">When changing the account itself, repeat Step 2 specifying a value of **merge_job_login** for **\@property** and the new Windows account for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-313">Чтобы изменить режим безопасности, используемый при соединении с распространителем, укажите значение **distributor_security_mode** для \*\* \@ Свойства\*\* и значение **1** (встроенная проверка подлинности Windows) или **0** (проверка подлинности SQL Server \*\* \@ ).\*\*</span><span class="sxs-lookup"><span data-stu-id="39a1d-313">To change the security mode used when connecting to the Distributor, specify a value of **distributor_security_mode** for **\@property** and a value of **1** (Windows Integrated Authentication) or **0** (SQL Server Authentication) for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-314">При изменении режима безопасности распространителя на SQL Server проверку подлинности или при изменении данных входа для SQL Server проверки подлинности укажите значение **distributor_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-314">When changing the Distributor security mode to SQL Server Authentication or if changing login information for SQL Server Authentication, specify a value of **distributor_password** for **\@property** and the new password for **\@value**.</span></span> <span data-ttu-id="39a1d-315">Повторите шаг 2, указав значение **distributor_login** для \*\* \@ Свойства\*\* и новое имя входа для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-315">Repeat step 2, specifying a value of **distributor_login** for **\@property** and the new login for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-316">Чтобы изменить режим безопасности, используемый при соединении с издателем, укажите значение **publisher_security_mode** для \*\* \@ Свойства\*\* и значение **1** (встроенная проверка подлинности Windows) или **0** (проверка подлинности SQL Server \*\* \@ ).\*\*</span><span class="sxs-lookup"><span data-stu-id="39a1d-316">To change the security mode used when connecting to the Publisher, specify a value of **publisher_security_mode** for **\@property** and a value of **1** (Windows Integrated Authentication) or **0** (SQL Server Authentication) for **\@value**.</span></span>  
  
    -   <span data-ttu-id="39a1d-317">При изменении режима безопасности издателя на SQL Server проверку подлинности или при изменении данных входа для SQL Server проверки подлинности укажите значение **publisher_password** для \*\* \@ Свойства\*\* и новый пароль для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-317">When changing the Publisher security mode to SQL Server Authentication or if changing login information for SQL Server Authentication, specify a value of **publisher_password** for **\@property** and the new password for **\@value**.</span></span> <span data-ttu-id="39a1d-318">Повторите шаг 2, указав значение **publisher_login** для \*\* \@ Свойства\*\* и новое имя входа для \*\* \@ параметра значение\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-318">Repeat step 2, specifying a value of **publisher_login** for **\@property** and the new login for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-319">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-319">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span>  
  
#### <a name="to-change-security-settings-for-the-snapshot-agent-to-generate-a-filtered-snapshot-for-a-subscriber"></a><span data-ttu-id="39a1d-320">Изменение параметров безопасности агента моментальных снимков для создания моментального снимка с фильтрацией для подписчика</span><span class="sxs-lookup"><span data-stu-id="39a1d-320">To change security settings for the Snapshot Agent to generate a filtered snapshot for a Subscriber</span></span>  
  
1.  <span data-ttu-id="39a1d-321">На издателе выполните [sp_helpdynamicsnapshot_job](/sql/relational-databases/system-stored-procedures/sp-helpdynamicsnapshot-job-transact-sql), указав \*\* \@ publication\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-321">At the Publisher, execute [sp_helpdynamicsnapshot_job](/sql/relational-databases/system-stored-procedures/sp-helpdynamicsnapshot-job-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="39a1d-322">В результирующем наборе запомните значение параметра **job_name** , соответствующее которому задание будет изменять секцию подписчика.</span><span class="sxs-lookup"><span data-stu-id="39a1d-322">In the result set, note the value of **job_name** for the Subscriber's partition to change.</span></span>  
  
2.  <span data-ttu-id="39a1d-323">На издателе выполните [sp_changedynamicsnapshot_job](/sql/relational-databases/system-stored-procedures/sp-changedynamicsnapshot-job-transact-sql), указав \*\* \@ публикацию**, значение, полученное на шаге 1 для \*\* \@ dynamic_snapshot_jobname**, и новый пароль для \*\* \@ Job_password\*\* или имя входа и пароль для учетной записи Windows, под которой агент выполняется для \*\* \@ job_login\*\* и \*\* \@ job_password\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-323">At the Publisher, execute [sp_changedynamicsnapshot_job](/sql/relational-databases/system-stored-procedures/sp-changedynamicsnapshot-job-transact-sql), specifying **\@publication**, the value obtained from step 1 for **\@dynamic_snapshot_jobname**, and a new password for **\@job_password** or login and password for the Windows account under which the agent runs for **\@job_login** and **\@job_password**.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="39a1d-324">Если издатель настраивается с удаленным распространителем, то значения, передаваемые для всех аргументов, включая *job_login* и *job_password*, передаются распространителю в формате обычного (незашифрованного) текста.</span><span class="sxs-lookup"><span data-stu-id="39a1d-324">When configuring a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="39a1d-325">Прежде чем выполнять эту хранимую процедуру, необходимо зашифровать соединение между издателем и его удаленным распространителем.</span><span class="sxs-lookup"><span data-stu-id="39a1d-325">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="39a1d-326">Дополнительные сведения см. в разделе [Включение шифрования соединений в компоненте Database Engine (диспетчер конфигураций SQL Server)](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="39a1d-326">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
#### <a name="to-change-security-settings-for-the-queue-reader-agent"></a><span data-ttu-id="39a1d-327">Изменение параметров безопасности для агента чтения очереди</span><span class="sxs-lookup"><span data-stu-id="39a1d-327">To change security settings for the Queue Reader Agent</span></span>  
  
1.  <span data-ttu-id="39a1d-328">На распространителе выполните хранимую процедуру [sp_helpqreader_agent](/sql/relational-databases/system-stored-procedures/sp-helpqreader-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="39a1d-328">At the Distributor, execute [sp_helpqreader_agent](/sql/relational-databases/system-stored-procedures/sp-helpqreader-agent-transact-sql).</span></span> <span data-ttu-id="39a1d-329">Она возвращает текущую учетную запись Windows, от которой запускается агент чтения очереди.</span><span class="sxs-lookup"><span data-stu-id="39a1d-329">This returns the current Windows account under which the Queue Reader Agent runs.</span></span>  
  
    -   <span data-ttu-id="39a1d-330">На распространителе выполните [sp_changeqreader_agent](/sql/relational-databases/system-stored-procedures/sp-changeqreader-agent-transact-sql), указав параметры учетной записи Windows для \*\* \@ job_login\*\* и \*\* \@ job_passwsord\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-330">At the Distributor, execute [sp_changeqreader_agent](/sql/relational-databases/system-stored-procedures/sp-changeqreader-agent-transact-sql), specifying the Windows account settings for **\@job_login** and **\@job_passwsord**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="39a1d-331">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-331">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span> <span data-ttu-id="39a1d-332">Для каждой базы распространителя существует только один агент чтения очереди.</span><span class="sxs-lookup"><span data-stu-id="39a1d-332">There is one Queue Reader Agent for each distribution database.</span></span> <span data-ttu-id="39a1d-333">Изменение настроек безопасности агента оказывает влияние на параметры всех публикаций на всех издателях, использующих эту базу данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-333">Changing the security settings for the agent affects the settings for all publications at all Publishers that use this distribution database.</span></span>  
  
2.  <span data-ttu-id="39a1d-334">Агент чтения очереди подключается к подписчику с тем же контекстом соединения, который используется агентом распространителя для подписки.</span><span class="sxs-lookup"><span data-stu-id="39a1d-334">The Queue Reader Agent makes connections to the Subscriber using the same connection context as the Distribution Agent for the subscription.</span></span>  
  
#### <a name="to-change-security-mode-used-by-an-immediate-updating-subscriber-when-connecting-to-the-publisher"></a><span data-ttu-id="39a1d-335">Смена текущего режима безопасности, используемого при немедленном обновлении подписчика при соединении с издателем</span><span class="sxs-lookup"><span data-stu-id="39a1d-335">To change security mode used by an immediate updating Subscriber when connecting to the Publisher</span></span>  
  
1.  <span data-ttu-id="39a1d-336">В базе данных подписки на подписчике выполните процедуру [sp_link_publication](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="39a1d-336">At the Subscriber on the subscription database, execute [sp_link_publication](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span></span> <span data-ttu-id="39a1d-337">Укажите \*\* \@ издателя**, \*\* \@ публикацию**, имя базы данных публикации для \*\* \@ publisher_db**и одно из следующих значений для \*\* \@ security_mode**.</span><span class="sxs-lookup"><span data-stu-id="39a1d-337">Specify **\@publisher**, **\@publication**, the name of the publication database for **\@publisher_db**, and one of the following values for **\@security_mode**:</span></span>  
  
    -   <span data-ttu-id="39a1d-338">**0** — использовать проверку подлинности SQL Server при выполнении обновлений на издателе.</span><span class="sxs-lookup"><span data-stu-id="39a1d-338">**0** to use SQL Server Authentication when making updates at the Publisher.</span></span> <span data-ttu-id="39a1d-339">При выборе этого параметра необходимо указать допустимое имя входа на издателе для \*\* \@ имени входа\*\* и \*\* \@ пароля\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-339">This option requires you to specify a valid login at the Publisher for **\@login** and **\@password**.</span></span>  
  
    -   <span data-ttu-id="39a1d-340">**1** — при соединении с издателем использовать контекст безопасности пользователя, вносящего изменения на подписчике.</span><span class="sxs-lookup"><span data-stu-id="39a1d-340">**1** to use the security context of the user making changes at the Subscriber when connecting to the Publisher.</span></span> <span data-ttu-id="39a1d-341">Связанные с этим режимом безопасности ограничения см. в разделе [sp_link_publication](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="39a1d-341">See [sp_link_publication](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql) for restrictions related to this security mode.</span></span>  
  
    -   <span data-ttu-id="39a1d-342">**2** — использовать существующее определенное пользователем имя входа на связанный сервер, созданное с помощью процедуры [sp_addlinkedserver (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="39a1d-342">**2** to use an existing, user-defined linked server login created using [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span></span>  
  
#### <a name="to-change-the-password-for-a-remote-distributor"></a><span data-ttu-id="39a1d-343">Смена пароля для удаленного распространителя</span><span class="sxs-lookup"><span data-stu-id="39a1d-343">To change the password for a remote Distributor</span></span>  
  
1.  <span data-ttu-id="39a1d-344">На распространителе в базе данных распространителя выполните [sp_changedistributor_password](/sql/relational-databases/system-stored-procedures/sp-changedistributor-password-transact-sql), указав новый пароль для этого имени входа в поле \*\* \@ пароль\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-344">At the Distributor on the distribution database, execute [sp_changedistributor_password](/sql/relational-databases/system-stored-procedures/sp-changedistributor-password-transact-sql), specifying the new password for this login for **\@password**.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="39a1d-345">Напрямую менять пароль для имени входа **distributor_admin** не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="39a1d-345">Do not change the password for **distributor_admin** directly.</span></span>  
  
2.  <span data-ttu-id="39a1d-346">На каждом издателе, использующем этот удаленный распространитель, выполните [sp_changedistributor_password](/sql/relational-databases/system-stored-procedures/sp-changedistributor-password-transact-sql), указав пароль из шага 1 для \*\* \@ пароля\*\*.</span><span class="sxs-lookup"><span data-stu-id="39a1d-346">At every Publisher that uses this remote Distributor, execute [sp_changedistributor_password](/sql/relational-databases/system-stored-procedures/sp-changedistributor-password-transact-sql), specifying the password from step 1 for **\@password**.</span></span>  
  
##  <a name="using-replication-management-objects-rmo"></a><a name="RMOProcedure"></a> <span data-ttu-id="39a1d-347">При помощи объектов RMO</span><span class="sxs-lookup"><span data-stu-id="39a1d-347">Using Replication Management Objects (RMO)</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="39a1d-348">По возможности предлагайте пользователям вводить учетные данные системы безопасности во время выполнения приложения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-348">When possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="39a1d-349">Если необходимо хранить учетные данные, используйте [службы шифрования](https://go.microsoft.com/fwlink/?LinkId=34733) , предоставляемые платформой [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="39a1d-349">If you must store credentials, use the [cryptographic services](https://go.microsoft.com/fwlink/?LinkId=34733) provided by the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows .NET Framework.</span></span>  
  
#### <a name="to-change-all-instances-of-a-password-stored-on-a-replication-server"></a><span data-ttu-id="39a1d-350">Изменение всех экземпляров пароля, хранящихся на сервере репликации</span><span class="sxs-lookup"><span data-stu-id="39a1d-350">To change all instances of a password stored on a replication server</span></span>  
  
1.  <span data-ttu-id="39a1d-351">Создайте соединение с сервером репликации с помощью класса <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-351">Create a connection to the replication server by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="39a1d-352">Создайте экземпляр класса <xref:Microsoft.SqlServer.Replication.ReplicationServer> , используя соединение, созданное на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="39a1d-352">Create an instance of the <xref:Microsoft.SqlServer.Replication.ReplicationServer> class by using the connection from step 1.</span></span>  
  
3.  <span data-ttu-id="39a1d-353">Вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationServer.ChangeReplicationServerPasswords%2A> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-353">Call the <xref:Microsoft.SqlServer.Replication.ReplicationServer.ChangeReplicationServerPasswords%2A> method.</span></span> <span data-ttu-id="39a1d-354">Укажите значения следующих параметров.</span><span class="sxs-lookup"><span data-stu-id="39a1d-354">Specify the following parameters:</span></span>  
  
    -   <span data-ttu-id="39a1d-355">*security_mode* — значение типа <xref:Microsoft.SqlServer.Replication.ReplicationSecurityMode> , указывающее тип проверки подлинности, для которой изменяются все экземпляры пароля.</span><span class="sxs-lookup"><span data-stu-id="39a1d-355">*security_mode* - a <xref:Microsoft.SqlServer.Replication.ReplicationSecurityMode> value that specifies the type of authentication for which all instances of the password are being changed.</span></span>  
  
    -   <span data-ttu-id="39a1d-356">*login* — имя входа, для которого меняются все экземпляры пароля.</span><span class="sxs-lookup"><span data-stu-id="39a1d-356">*login* - the login for which all instances of the password are being changed.</span></span>  
  
    -   <span data-ttu-id="39a1d-357">*password* — новое значение пароля.</span><span class="sxs-lookup"><span data-stu-id="39a1d-357">*password* - the new password value.</span></span>  
  
        > [!IMPORTANT]  
        >  <span data-ttu-id="39a1d-358">По возможности предлагайте пользователям вводить учетные данные системы безопасности во время выполнения приложения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-358">When possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="39a1d-359">Если необходимо хранить учетные данные, используйте [службы шифрования](https://go.microsoft.com/fwlink/?LinkId=34733) , предоставляемые платформой Windows .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="39a1d-359">If you must store credentials, use the [cryptographic services](https://go.microsoft.com/fwlink/?LinkId=34733) provided by the Windows .NET Framework.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="39a1d-360">Только члены предопределенной роли сервера `sysadmin` могут вызвать этот метод.</span><span class="sxs-lookup"><span data-stu-id="39a1d-360">Only a member of the `sysadmin` fixed server role can call this method.</span></span>  
  
4.  <span data-ttu-id="39a1d-361">Повторите шаги 1 — 3 для каждого сервера в топологии репликации, на котором необходимо обновить пароли.</span><span class="sxs-lookup"><span data-stu-id="39a1d-361">Repeat steps 1-3 at every server in the replication topology where the password must be updated.</span></span>  
  
#### <a name="to-change-security-settings-for-the-distribution-agent-for-a-push-subscription-to-a-transactional-publication"></a><span data-ttu-id="39a1d-362">Изменение параметров безопасности агента распространителя для принудительной подписки на публикацию транзакций</span><span class="sxs-lookup"><span data-stu-id="39a1d-362">To change security settings for the Distribution Agent for a push subscription to a transactional publication</span></span>  
  
1.  <span data-ttu-id="39a1d-363">Создайте соединение с издателем с помощью класса <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-363">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="39a1d-364">Создайте экземпляр класса <xref:Microsoft.SqlServer.Replication.TransSubscription>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-364">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransSubscription> class.</span></span>  
  
3.  <span data-ttu-id="39a1d-365">Установите для подписки свойства <xref:Microsoft.SqlServer.Replication.Subscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberName%2A>и <xref:Microsoft.SqlServer.Replication.Subscription.SubscriptionDBName%2A> , а в качестве значения для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> укажите соединение, созданное на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="39a1d-365">Set the <xref:Microsoft.SqlServer.Replication.Subscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberName%2A>, and <xref:Microsoft.SqlServer.Replication.Subscription.SubscriptionDBName%2A> properties for the subscription, and set the connection from step 1 for the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property.</span></span>  
  
4.  <span data-ttu-id="39a1d-366">Чтобы получить свойства объекта, вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-366">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="39a1d-367">Если этот метод возвращает значение `false`, то либо на шаге 3 были неверно определены свойства подписки, либо подписка не существует.</span><span class="sxs-lookup"><span data-stu-id="39a1d-367">If this method returns `false`, either the subscription properties in step 3 were defined incorrectly or the subscription does not exist.</span></span>  
  
5.  <span data-ttu-id="39a1d-368">В экземпляре <xref:Microsoft.SqlServer.Replication.TransSubscription>задайте одно или несколько из следующих свойств безопасности.</span><span class="sxs-lookup"><span data-stu-id="39a1d-368">Set one or more of the following security properties on the instance of <xref:Microsoft.SqlServer.Replication.TransSubscription>:</span></span>  
  
    -   <span data-ttu-id="39a1d-369">Чтобы изменить учетные данные для учетной записи Windows, с которой запускается агент, установите поля <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> и <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> свойства <xref:Microsoft.SqlServer.Replication.Subscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-369">To change the credentials for the Windows account under which the agent runs, set the <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> fields of <xref:Microsoft.SqlServer.Replication.Subscription.SynchronizationAgentProcessSecurity%2A>.</span></span>  
  
    -   <span data-ttu-id="39a1d-370">Чтобы при соединении агента с подписчиком использовать встроенную проверку подлинности Windows, установите в поле <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> свойства <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="39a1d-370">To specify Windows Integrated Authentication as the type of authentication that the agent uses when it connects to the Subscriber, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> property to `true`.</span></span>  
  
    -   <span data-ttu-id="39a1d-371">Чтобы указать проверку подлинности SQL Server в качестве типа проверки подлинности, используемой агентом при соединении с подписчиком, установите <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> поле <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> свойства в значение `false` и укажите учетные данные входа подписчика для <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> полей и.</span><span class="sxs-lookup"><span data-stu-id="39a1d-371">To specify SQL Server Authentication as the type of authentication that the agent uses when it connects to the Subscriber, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> property to `false`, and specify the Subscriber login credentials for the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> fields.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="39a1d-372">Агент всегда соединяется с распространителем с учетными данными Windows, указанными в свойстве <xref:Microsoft.SqlServer.Replication.Subscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-372">The agent connection to the Distributor is always made using the Windows credentials specified by <xref:Microsoft.SqlServer.Replication.Subscription.SynchronizationAgentProcessSecurity%2A>.</span></span> <span data-ttu-id="39a1d-373">Эта учетная запись также используется для установления удаленных соединений с проверкой подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-373">This account is also used to make remote connections using Windows Authentication.</span></span>  
  
6.  <span data-ttu-id="39a1d-374">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `true`, то для фиксирования изменений на сервере необходимо вызвать метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> (необязательно).</span><span class="sxs-lookup"><span data-stu-id="39a1d-374">(Optional) If you specified a value of `true` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A>, call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> method to commit changes on the server.</span></span> <span data-ttu-id="39a1d-375">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `false` (по умолчанию), изменения будут отправлены на сервер немедленно.</span><span class="sxs-lookup"><span data-stu-id="39a1d-375">If you specified a value of `false` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> (the default), changes are sent to the server immediately.</span></span>  
  
#### <a name="to-change-security-settings-for-the-distribution-agent-for-a-pull-subscription-to-a-transactional-publication"></a><span data-ttu-id="39a1d-376">Изменение параметров безопасности агента распространителя для подписки по запросу на публикацию транзакций</span><span class="sxs-lookup"><span data-stu-id="39a1d-376">To change security settings for the Distribution Agent for a pull subscription to a transactional publication</span></span>  
  
1.  <span data-ttu-id="39a1d-377">Создайте соединение с подписчиком с помощью класса <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-377">Create a connection to the Subscriber by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="39a1d-378">Создайте экземпляр класса <xref:Microsoft.SqlServer.Replication.TransPullSubscription>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-378">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPullSubscription> class.</span></span>  
  
3.  <span data-ttu-id="39a1d-379">Установите для подписки свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherName%2A>и <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationDBName%2A> , а в качестве значения для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> укажите соединение, созданное на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="39a1d-379">Set the <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherName%2A>, and <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationDBName%2A> properties for the subscription, and set the connection from step 1 for the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property.</span></span>  
  
4.  <span data-ttu-id="39a1d-380">Чтобы получить свойства объекта, вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-380">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="39a1d-381">Если этот метод возвращает значение `false`, то либо на шаге 3 были неверно определены свойства подписки, либо подписка не существует.</span><span class="sxs-lookup"><span data-stu-id="39a1d-381">If this method returns `false`, either the subscription properties in step 3 were defined incorrectly or the subscription does not exist.</span></span>  
  
5.  <span data-ttu-id="39a1d-382">В экземпляре <xref:Microsoft.SqlServer.Replication.TransPullSubscription>задайте одно или несколько из следующих свойств безопасности.</span><span class="sxs-lookup"><span data-stu-id="39a1d-382">Set one or more of the following security properties on the instance of <xref:Microsoft.SqlServer.Replication.TransPullSubscription>:</span></span>  
  
    -   <span data-ttu-id="39a1d-383">Чтобы изменить учетные данные для учетной записи Windows, с которой запускается агент, установите поля <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> и <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-383">To change the credentials for the Windows account under which the agent runs, set the <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> fields of <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span></span>  
  
    -   <span data-ttu-id="39a1d-384">Чтобы при соединении агента с распространителем использовать встроенную проверку подлинности Windows, установите в поле <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="39a1d-384">To specify Windows Integrated Authentication as the type of authentication that the agent uses when it connects to the Distributor, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> property to `true`.</span></span>  
  
    -   <span data-ttu-id="39a1d-385">Чтобы указать проверку подлинности SQL Server в качестве типа проверки подлинности, используемой агентом при соединении с распространителем, установите <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> поле <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> свойства в значение `false` и укажите учетные данные входа распространителя для <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> полей и.</span><span class="sxs-lookup"><span data-stu-id="39a1d-385">To specify SQL Server Authentication as the type of authentication that the agent uses when it connects to the Distributor, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> property to `false`, and specify the Distributor login credentials for the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> fields.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="39a1d-386">Агент всегда соединяется с подписчиком с учетными данными Windows, указанными в <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-386">The agent connection to the Subscriber is always made using the Windows credentials specified by <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span></span> <span data-ttu-id="39a1d-387">Эта учетная запись также используется для установления удаленных соединений с проверкой подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-387">This account is also used to make remote connections using Windows Authentication.</span></span>  
  
6.  <span data-ttu-id="39a1d-388">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `true`, то для фиксирования изменений на сервере необходимо вызвать метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> (необязательно).</span><span class="sxs-lookup"><span data-stu-id="39a1d-388">(Optional) If you specified a value of `true` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A>, call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> method to commit changes on the server.</span></span> <span data-ttu-id="39a1d-389">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `false` (по умолчанию), изменения будут отправлены на сервер немедленно.</span><span class="sxs-lookup"><span data-stu-id="39a1d-389">If you specified a value of `false` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> (the default), changes are sent to the server immediately.</span></span>  
  
#### <a name="to-change-security-settings-for-the-merge-agent-for-a-pull-subscription-to-a-merge-publication"></a><span data-ttu-id="39a1d-390">Изменение параметров безопасности агента слияния для подписки по запросу на публикацию слиянием</span><span class="sxs-lookup"><span data-stu-id="39a1d-390">To change security settings for the Merge Agent for a pull subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="39a1d-391">Создайте соединение с подписчиком с помощью класса <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-391">Create a connection to the Subscriber by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="39a1d-392">Создайте экземпляр класса <xref:Microsoft.SqlServer.Replication.MergePullSubscription>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-392">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePullSubscription> class.</span></span>  
  
3.  <span data-ttu-id="39a1d-393">Установите для подписки свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherName%2A>и <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationDBName%2A> , а в качестве значения для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> укажите соединение, созданное на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="39a1d-393">Set the <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherName%2A>, and <xref:Microsoft.SqlServer.Replication.PullSubscription.PublicationDBName%2A> properties for the subscription, and set the connection from step 1 for the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property.</span></span>  
  
4.  <span data-ttu-id="39a1d-394">Чтобы получить свойства объекта, вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-394">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="39a1d-395">Если этот метод возвращает значение `false`, то либо на шаге 3 были неверно определены свойства подписки, либо подписка не существует.</span><span class="sxs-lookup"><span data-stu-id="39a1d-395">If this method returns `false`, either the subscription properties in step 3 were defined incorrectly or the subscription does not exist.</span></span>  
  
5.  <span data-ttu-id="39a1d-396">В экземпляре <xref:Microsoft.SqlServer.Replication.MergePullSubscription>задайте одно или несколько из следующих свойств безопасности.</span><span class="sxs-lookup"><span data-stu-id="39a1d-396">Set one or more of the following security properties on the instance of <xref:Microsoft.SqlServer.Replication.MergePullSubscription>:</span></span>  
  
    -   <span data-ttu-id="39a1d-397">Чтобы изменить учетные данные для учетной записи Windows, с которой запускается агент, установите поля <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> и <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-397">To change the credentials for the Windows account under which the agent runs, set the <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> fields of <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span></span>  
  
    -   <span data-ttu-id="39a1d-398">Чтобы при соединении агента с распространителем использовать встроенную проверку подлинности Windows, установите в поле <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="39a1d-398">To specify Windows Integrated Authentication as the type of authentication that the agent uses when it connects to the Distributor, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> property to `true`.</span></span>  
  
    -   <span data-ttu-id="39a1d-399">Чтобы указать проверку подлинности SQL Server в качестве типа проверки подлинности, используемой агентом при соединении с распространителем, установите <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> поле <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> свойства в значение `false` и укажите учетные данные входа распространителя для <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> полей и.</span><span class="sxs-lookup"><span data-stu-id="39a1d-399">To specify SQL Server Authentication as the type of authentication that the agent uses when it connects to the Distributor, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.PullSubscription.DistributorSecurity%2A> property to `false`, and specify the Distributor login credentials for the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> fields.</span></span>  
  
    -   <span data-ttu-id="39a1d-400">Чтобы при соединении агента с издателем использовать встроенную проверку подлинности Windows, установите в поле <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherSecurity%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="39a1d-400">To specify Windows Integrated Authentication as the type of authentication that the agent uses when it connects to the Publisher, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherSecurity%2A> property to `true`.</span></span>  
  
    -   <span data-ttu-id="39a1d-401">Чтобы указать проверку подлинности SQL Server в качестве типа проверки подлинности, используемой агентом при соединении с издателем, установите <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> поле <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherSecurity%2A> свойства в значение `false` и укажите учетные данные входа издателя для <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> полей и.</span><span class="sxs-lookup"><span data-stu-id="39a1d-401">To specify SQL Server Authentication as the type of authentication that the agent uses when it connects to the Publisher, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.PullSubscription.PublisherSecurity%2A> property to `false`, and specify the Publisher login credentials for the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> fields.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="39a1d-402">Агент всегда соединяется с подписчиком с учетными данными Windows, указанными в <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-402">The agent connection to the Subscriber is always made using the Windows credentials specified by <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span></span> <span data-ttu-id="39a1d-403">Эта учетная запись также используется для установления удаленных соединений с проверкой подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-403">This account is also used to make remote connections using Windows Authentication.</span></span>  
  
6.  <span data-ttu-id="39a1d-404">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `true`, то для фиксирования изменений на сервере необходимо вызвать метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> (необязательно).</span><span class="sxs-lookup"><span data-stu-id="39a1d-404">(Optional) If you specified a value of `true` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A>, call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> method to commit changes on the server.</span></span> <span data-ttu-id="39a1d-405">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `false` (по умолчанию), изменения будут отправлены на сервер немедленно.</span><span class="sxs-lookup"><span data-stu-id="39a1d-405">If you specified a value of `false` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> (the default), changes are sent to the server immediately.</span></span>  
  
#### <a name="to-change-security-settings-for-the-merge-agent-for-a-push-subscription-to-a-merge-publication"></a><span data-ttu-id="39a1d-406">Изменение параметров безопасности агента слияния для принудительной подписки на публикацию слиянием</span><span class="sxs-lookup"><span data-stu-id="39a1d-406">To change security settings for the Merge Agent for a push subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="39a1d-407">Создайте соединение с издателем с помощью класса <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-407">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="39a1d-408">Создайте экземпляр класса <xref:Microsoft.SqlServer.Replication.MergeSubscription>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-408">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergeSubscription> class.</span></span>  
  
3.  <span data-ttu-id="39a1d-409">Установите для подписки свойства <xref:Microsoft.SqlServer.Replication.Subscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberName%2A>и <xref:Microsoft.SqlServer.Replication.Subscription.SubscriptionDBName%2A> , а в качестве значения для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> укажите соединение, созданное на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="39a1d-409">Set the <xref:Microsoft.SqlServer.Replication.Subscription.PublicationName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.DatabaseName%2A>, <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberName%2A>, and <xref:Microsoft.SqlServer.Replication.Subscription.SubscriptionDBName%2A> properties for the subscription, and set the connection from step 1 for the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property.</span></span>  
  
4.  <span data-ttu-id="39a1d-410">Чтобы получить свойства объекта, вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-410">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="39a1d-411">Если этот метод возвращает значение `false`, то либо на шаге 3 были неверно определены свойства подписки, либо подписка не существует.</span><span class="sxs-lookup"><span data-stu-id="39a1d-411">If this method returns `false`, either the subscription properties in step 3 were defined incorrectly or the subscription does not exist.</span></span>  
  
5.  <span data-ttu-id="39a1d-412">В экземпляре <xref:Microsoft.SqlServer.Replication.MergeSubscription>задайте одно или несколько из следующих свойств безопасности.</span><span class="sxs-lookup"><span data-stu-id="39a1d-412">Set one or more of the following security properties on the instance of <xref:Microsoft.SqlServer.Replication.MergeSubscription>:</span></span>  
  
    -   <span data-ttu-id="39a1d-413">Чтобы изменить учетные данные для учетной записи Windows, с которой запускается агент, установите поля <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> и <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> свойства <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-413">To change the credentials for the Windows account under which the agent runs, set the <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> fields of <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span></span>  
  
    -   <span data-ttu-id="39a1d-414">Чтобы при соединении агента с подписчиком использовать встроенную проверку подлинности Windows, установите в поле <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> свойства <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="39a1d-414">To specify Windows Integrated Authentication as the type of authentication that the agent uses when it connects to the Subscriber, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> property to `true`.</span></span>  
  
    -   <span data-ttu-id="39a1d-415">Чтобы указать проверку подлинности SQL Server в качестве типа проверки подлинности, используемой агентом при соединении с подписчиком, установите <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> поле <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> свойства в значение `false` и укажите учетные данные входа подписчика для <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> полей и.</span><span class="sxs-lookup"><span data-stu-id="39a1d-415">To specify SQL Server Authentication as the type of authentication that the agent uses when it connects to the Subscriber, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.Subscription.SubscriberSecurity%2A> property to `false`, and specify the Subscriber login credentials for the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> fields.</span></span>  
  
    -   <span data-ttu-id="39a1d-416">Чтобы при соединении агента с издателем использовать встроенную проверку подлинности Windows, установите в поле <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> свойства <xref:Microsoft.SqlServer.Replication.MergeSubscription.PublisherSecurity%2A> значение `true`.</span><span class="sxs-lookup"><span data-stu-id="39a1d-416">To specify Windows Integrated Authentication as the type of authentication that the agent uses when it connects to the Publisher, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.MergeSubscription.PublisherSecurity%2A> property to `true`.</span></span>  
  
    -   <span data-ttu-id="39a1d-417">Чтобы указать проверку подлинности SQL Server в качестве типа проверки подлинности, используемой агентом при соединении с издателем, установите <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> поле <xref:Microsoft.SqlServer.Replication.MergeSubscription.PublisherSecurity%2A> свойства в значение `false` и укажите учетные данные входа издателя для <xref:Microsoft.SqlServer.Replication.PublisherConnectionSecurityContext.SqlStandardLogin%2A> <xref:Microsoft.SqlServer.Replication.PublisherConnectionSecurityContext.SqlStandardPassword%2A> полей и.</span><span class="sxs-lookup"><span data-stu-id="39a1d-417">To specify SQL Server Authentication as the type of authentication that the agent uses when it connects to the Publisher, set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.WindowsAuthentication%2A> field of the <xref:Microsoft.SqlServer.Replication.MergeSubscription.PublisherSecurity%2A> property to `false`, and specify the Publisher login credentials for the <xref:Microsoft.SqlServer.Replication.PublisherConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.PublisherConnectionSecurityContext.SqlStandardPassword%2A> fields.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="39a1d-418">Агент всегда соединяется с распространителем с учетными данными Windows, указанными в свойстве <xref:Microsoft.SqlServer.Replication.Subscription.SynchronizationAgentProcessSecurity%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-418">The agent connection to the Distributor is always made using the Windows credentials specified by <xref:Microsoft.SqlServer.Replication.Subscription.SynchronizationAgentProcessSecurity%2A>.</span></span> <span data-ttu-id="39a1d-419">Эта учетная запись также используется для установления удаленных соединений с проверкой подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="39a1d-419">This account is also used to make remote connections using Windows Authentication.</span></span>  
  
6.  <span data-ttu-id="39a1d-420">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `true`, то для фиксирования изменений на сервере необходимо вызвать метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> (необязательно).</span><span class="sxs-lookup"><span data-stu-id="39a1d-420">(Optional) If you specified a value of `true` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A>, call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A> method to commit changes on the server.</span></span> <span data-ttu-id="39a1d-421">Если для свойства <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> указать значение `false` (по умолчанию), изменения будут отправлены на сервер немедленно.</span><span class="sxs-lookup"><span data-stu-id="39a1d-421">If you specified a value of `false` for <xref:Microsoft.SqlServer.Replication.ReplicationObject.CachePropertyChanges%2A> (the default), changes are sent to the server immediately.</span></span>  
  
#### <a name="to-change-the-login-information-used-by-an-immediate-updating-subscriber-when-it-connects-to-the-transactional-publisher"></a><span data-ttu-id="39a1d-422">Изменение сведений об имени входа, используемых немедленно обновляемым подписчиком при подключении к издателю транзакций</span><span class="sxs-lookup"><span data-stu-id="39a1d-422">To change the login information used by an immediate updating Subscriber when it connects to the transactional publisher</span></span>  
  
1.  <span data-ttu-id="39a1d-423">Создайте соединение с подписчиком с помощью класса <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-423">Create a connection to the Subscriber by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="39a1d-424">Создайте экземпляр класса <xref:Microsoft.SqlServer.Replication.ReplicationDatabase> для базы данных подписки.</span><span class="sxs-lookup"><span data-stu-id="39a1d-424">Create an instance of the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase> class for the subscription database.</span></span> <span data-ttu-id="39a1d-425">Укажите значения <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.Name%2A> и <xref:Microsoft.SqlServer.Management.Common.ServerConnection> из шага 1 в параметре <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A>.</span><span class="sxs-lookup"><span data-stu-id="39a1d-425">Specify <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.Name%2A> and the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> from step 1 for <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A>.</span></span>  
  
3.  <span data-ttu-id="39a1d-426">Чтобы получить свойства объекта, вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> .</span><span class="sxs-lookup"><span data-stu-id="39a1d-426">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="39a1d-427">Если этот метод возвращает значение `false`, значит, в шаге 2 были неправильно определены свойства базы данных либо база данных подписки не существует.</span><span class="sxs-lookup"><span data-stu-id="39a1d-427">If this method returns `false`, either the database properties in step 2 were defined incorrectly or the subscription database does not exist.</span></span>  
  
4.  <span data-ttu-id="39a1d-428">Вызовите метод <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LinkPublicationForUpdateableSubscription%2A> , передав следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="39a1d-428">Call the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LinkPublicationForUpdateableSubscription%2A> method, passing the following parameters:</span></span>  
  
    -   <span data-ttu-id="39a1d-429">*Publisher* — имя издателя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-429">*Publisher* - the name of the Publisher.</span></span>  
  
    -   <span data-ttu-id="39a1d-430">*PublisherDB* — имя базы данных публикации.</span><span class="sxs-lookup"><span data-stu-id="39a1d-430">*PublisherDB* - the name of the publication database.</span></span>  
  
    -   <span data-ttu-id="39a1d-431">*Publication* — имя публикации, на которую подписан немедленно обновляемый подписчик.</span><span class="sxs-lookup"><span data-stu-id="39a1d-431">*Publication* - the name of the publication to which the immediate updating Subscriber is subscribed.</span></span>  
  
    -   <span data-ttu-id="39a1d-432">*Distributor* — имя  распространителя.</span><span class="sxs-lookup"><span data-stu-id="39a1d-432">*Distributor* - the name of the Distributor.</span></span>  
  
    -   <span data-ttu-id="39a1d-433">*PublisherSecurity* - A <xref:Microsoft.SqlServer.Replication.PublisherConnectionSecurityContext> , указывающий тип режима безопасности, используемого немедленно обновляемым подписчиком при соединении с издателем, и учетные данные входа для этого соединения.</span><span class="sxs-lookup"><span data-stu-id="39a1d-433">*PublisherSecurity* - A <xref:Microsoft.SqlServer.Replication.PublisherConnectionSecurityContext> object that specifies the type of security mode used by the immediate updating Subscriber when connecting to the Publisher and login credentials for the connection.</span></span>  
  
###  <a name="example-rmo"></a><a name="PShellExample"></a> <span data-ttu-id="39a1d-434">Пример (объекты RMO)</span><span class="sxs-lookup"><span data-stu-id="39a1d-434">Example (RMO)</span></span>  
 <span data-ttu-id="39a1d-435">В этом примере проверяется указанное значение имени входа и изменяются все пароли для указанного имени входа в Windows или имени входа в SQL Server, хранимые репликацией на сервере.</span><span class="sxs-lookup"><span data-stu-id="39a1d-435">This example checks the supplied login value and changes all passwords for the supplied Windows login or SQL Server login stored by replication on the server.</span></span>  
  
 [!code-csharp[HowTo#rmo_ChangeServerPasswords](../../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_changeserverpasswords)]  
  
 [!code-vb[HowTo#rmo_vb_ChangeServerPasswords](../../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_changeserverpasswords)]  
  
##  <a name="follow-up-after-you-modify-replication-security-settings"></a><a name="FollowUp"></a> <span data-ttu-id="39a1d-436">Дальнейшие действия. После изменения параметров безопасности репликации</span><span class="sxs-lookup"><span data-stu-id="39a1d-436">Follow Up: After you modify replication security settings</span></span>  
 <span data-ttu-id="39a1d-437">После изменения имени входа и пароля агента необходимо остановить и повторно запустить агент, чтобы изменения вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="39a1d-437">After changing an agent login or password, you must stop and restart the agent before the change takes effect.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="39a1d-438">См. также:</span><span class="sxs-lookup"><span data-stu-id="39a1d-438">See Also</span></span>  
 <span data-ttu-id="39a1d-439">[Replication Management Objects Concepts](../concepts/replication-management-objects-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="39a1d-439">[Replication Management Objects Concepts](../concepts/replication-management-objects-concepts.md) </span></span>  
 <span data-ttu-id="39a1d-440">[Обновление скриптов репликации (программирование репликации на языке Transact-SQL)](../administration/upgrade-replication-scripts-replication-transact-sql-programming.md) </span><span class="sxs-lookup"><span data-stu-id="39a1d-440">[Upgrade Replication Scripts &#40;Replication Transact-SQL Programming&#41;](../administration/upgrade-replication-scripts-replication-transact-sql-programming.md) </span></span>  
 <span data-ttu-id="39a1d-441">[Управление именами для входа и паролями при репликации](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) </span><span class="sxs-lookup"><span data-stu-id="39a1d-441">[Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) </span></span>  
 <span data-ttu-id="39a1d-442">[Replication Agent Security Model](replication-agent-security-model.md)  (Модель безопасности агента репликации)</span><span class="sxs-lookup"><span data-stu-id="39a1d-442">[Replication Agent Security Model](replication-agent-security-model.md) </span></span>  
 <span data-ttu-id="39a1d-443">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="39a1d-443">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 <span data-ttu-id="39a1d-444">[Безопасность Репликация SQL Server](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="39a1d-444">[SQL Server Replication Security](view-and-modify-replication-security-settings.md) </span></span>  
 [<span data-ttu-id="39a1d-445">Replication System Stored Procedures Concepts</span><span class="sxs-lookup"><span data-stu-id="39a1d-445">Replication System Stored Procedures Concepts</span></span>](../concepts/replication-system-stored-procedures-concepts.md)  
  
  

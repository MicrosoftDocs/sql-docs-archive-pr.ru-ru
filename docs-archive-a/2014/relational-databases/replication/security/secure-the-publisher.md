---
title: Организация безопасности издателя | Документация Майкрософт
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- logins [SQL Server replication], publication access list
- publications [SQL Server replication], publication access lists
- publication access list (PAL)
- PAL (publication access list)
- Publishers [SQL Server replication], security
- publications [SQL Server replication], security
ms.assetid: 4513a18d-dd6e-407a-b009-49dc9432ec7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: dca3f704c43a97c2c34921007341b9bd613676ea
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666492"
---
# <a name="secure-the-publisher"></a>Организация безопасности издателя
  К издателю подключаются следующие агенты репликации:  
  
-   Агент чтения журнала.  
  
-   агент моментальных снимков  
  
-   Агент чтения очереди.  
  
-   Агент слияния.  
  
 Рекомендуется выделить для этих агентов соответствующе имена входа, придерживаясь принципа предоставления минимально необходимых прав, и обеспечить надежное хранение их паролей. Сведения о разрешениях, необходимых для каждого из перечисленных агентов, см. в разделе [Replication Agent Security Model](replication-agent-security-model.md).  
  
 Помимо надлежащего управления именами входа и паролями, следует понимать роль, которую играет список доступа к публикации (PAL). Он позволяет именам входа производить доступ к данным публикации, ограничивая при этом нерегламентированный доступ к базе данных издателя.  
  
## <a name="publication-access-list"></a>Список доступа к публикации  
 Список доступа к публикации представляет собой первичный механизм защиты публикаций на издателе. Он работает так же, как и список управления доступом [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows. При создании публикации репликация создает список доступа для этой публикации. Список доступа к публикации может быть сконфигурирован таким образом, что будет содержать список имен входа и групп, которым предоставлен доступ к публикации. Когда агент подключается к издателю или распространителю и запрашивает доступ к публикации, данные проверки подлинности из списка доступа к публикации сравниваются с именем входа издателя, который предоставлен этим агентом. Этот процесс обеспечивает дополнительную защиту издателя, так как имена входа издателя и распространителя не могут использоваться клиентскими средствами для внесения изменений непосредственно на издателе.  
  
> [!NOTE]  
>  Репликация создает для каждой публикации роль на издателе для ввода в действие списка доступа к публикации. Для репликации слиянием эта роль имеет имя вида **Msmerge_** _\<PublicationID>_ , а для репликации транзакций и репликации моментальных снимков — вида **MSReplPAL_** _\<PublicationDatabaseID>_ **_** _\<PublicationID>_ .  
  
 По умолчанию в список доступа к публикации включаются члены предопределенной роли сервера **sysadmin** (существующие на момент создания публикации) и имя входа, использованное для ее создания. По умолчанию все имена входа, являющиеся членами предопределенной роли сервера **sysadmin** или предопределенной роли базы данных **db_owner** в базе данных публикации, могут подписываться на публикацию, даже если они отсутствуют в списке доступа к ней.  
  
 При работе со списком доступа к публикации следует учитывать следующие моменты:  
  
-   Перед добавлением имени входа в список доступа к публикации имени входа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] необходимо связать его с пользователем базы данных публикации.  
  
-   Следуйте принципу наименьших необходимых прав доступа, предоставляя именам входа из списка доступа к публикации только те разрешения, которые им необходимы для выполнения задач репликации. Не добавляйте имена входа в какие-либо предопределенные роли базы данных или роли сервера, ненужные для репликации. Дополнительные сведения о необходимых разрешениях см. в разделах [Replication Agent Security Model](replication-agent-security-model.md) и [Replication Security Best Practices](replication-security-best-practices.md).  
  
-   Если используется удаленный распространитель, то учетные записи в списке доступа к публикации должны быть доступны как на издателе, так и на распространителе. Это должны быть либо учетные записи домена, либо локальные учетные записи, определенные на обоих серверах. Связанные с обоими именами входа пароли также должны совпадать.  
  
-   Если список доступа к публикации содержит учетные записи Windows и домен использует службу Active Directory, то учетная запись, под которой выполняется [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , должна иметь разрешения на чтение в каталогах Active Directory. Если имеются проблемы с учетными записями Windows, убедитесь в том, что учетная запись, под которой выполняется [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , имеет достаточные разрешения. Дополнительные сведения см. в документации по Windows.  
  
 Управление списками доступа к публикации описано в статье [Управление именами входа в списке доступа к публикации](manage-logins-in-the-publication-access-list.md).  
  
## <a name="snapshot-agent"></a>агент моментальных снимков  
 Для каждой публикации существует один агент моментальных снимков. Дополнительные сведения см. в разделе [Create a Publication](../publish/create-a-publication.md).  
  
## <a name="ftp-snapshot-delivery"></a>Доставка моментальных снимков по FTP  
 Если указать, что моментальные снимки должны быть доступны через общий FTP-ресурс, а не через общий UNC-ресурс, при настройке доступа по FTP необходимо будет указать имя входа и пароль. Дополнительные сведения см. в статье [Доставка моментального снимка через FTP](../publish/deliver-a-snapshot-through-ftp.md).  
  
## <a name="log-reader-agent"></a>Агент чтения журнала.  
 У каждой базы данных, опубликованной для репликации транзакций, может быть только один агент чтения журнала. Дополнительные сведения см. в разделе [Create a Publication](../publish/create-a-publication.md).  
  
## <a name="queue-reader-agent"></a>Агент чтения очереди.  
 Для всех издателей и публикаций (допускающих подписки, обновляемые посредством очередей), связанных с определенным распространителем, существует один агент чтения очереди. Дополнительные сведения см. в статье [Включение обновляемых подписок для публикации транзакций](../publish/enable-updating-subscriptions-for-transactional-publications.md).  
  
## <a name="see-also"></a>См. также:  
 [Включение шифрования соединений в ядре СУБД (диспетчер конфигурации SQL Server)](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md)   
 [Replication Security Best Practices](replication-security-best-practices.md)   
 [Безопасность Репликация SQL Server](view-and-modify-replication-security-settings.md)  
  
  

---
title: Изменение параметров инициализации моментальных снимков для репликации SQL | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- snapshot replication [SQL Server], options
- snapshots [SQL Server replication], options
ms.assetid: 759fab42-66c7-4541-a7a3-bb6fb868493c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 946d9035730512a626e710b1140a1ba01290908a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732562"
---
# <a name="modify-snapshot-initialization-options-for-sql-replication"></a><span data-ttu-id="6002e-102">Изменение параметров инициализации моментальных снимков для репликации SQL</span><span class="sxs-lookup"><span data-stu-id="6002e-102">Modify Snapshot Initialization Options for SQL Replication</span></span>

<span data-ttu-id="6002e-103">В этой статье описывается, как изменить ряд параметров при [инициализации подписки с помощью моментального снимка](initialize-a-subscription-with-a-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-103">This article discusses how to modify a number of options when [initializing a subscription with a snapshot](initialize-a-subscription-with-a-snapshot.md).</span></span>

## <a name="snapshot-format"></a><span data-ttu-id="6002e-104">Формат моментальных снимков</span><span class="sxs-lookup"><span data-stu-id="6002e-104">Snapshot Format</span></span>
  <span data-ttu-id="6002e-105">Укажите формат моментального снимка на странице **Моментальный снимок** диалогового окна **Свойства публикации — \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="6002e-105">Specify snapshot format on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="6002e-106">Дополнительные сведения о доступе к этому диалоговому окну см. в разделе [Просмотр и изменение свойств публикации](publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-106">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  

1.  <span data-ttu-id="6002e-107">На странице **Моментальный снимок** диалогового окна **Свойства публикации — \<Publication>** выберите вариант **Собственный SQL Server — все подписчики должны быть серверами SQL Server** или **Символьный — необходим в том случае, если на стороне издателя или подписчика не используется SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="6002e-107">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box, select **Native SQL Server - all Subscribers must be servers running SQL Server** or **Character - required if a Publisher or Subscriber is not running SQL Server**.</span></span> 

    > [!NOTE]  
    >  <span data-ttu-id="6002e-108">Рекомендуется выбирать собственный формат всегда, кроме тех случаев, когда публикация должна поддерживать подписки на базу данных [!INCLUDE[ssEW](../../../includes/ssew-md.md)] или базу данных, отличную от базы данных[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6002e-108">It is recommended to select the native format unless this publication must support subscriptions to a [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database or a non-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database.</span></span>    
1.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  

## <a name="snapshot-folder-locations"></a><span data-ttu-id="6002e-109">Расположение папки моментальных снимков</span><span class="sxs-lookup"><span data-stu-id="6002e-109">Snapshot folder locations</span></span>

### <a name="default-snapshot-location"></a><span data-ttu-id="6002e-110">Расположение моментального снимка по умолчанию</span><span class="sxs-lookup"><span data-stu-id="6002e-110">Default snapshot location</span></span>
<span data-ttu-id="6002e-111">Укажите расположение моментальных снимков по умолчанию (SQL Server Management Studio) укажите расположение моментальных снимков по умолчанию на странице **папки моментальных снимков** мастера настройки распространителя.</span><span class="sxs-lookup"><span data-stu-id="6002e-111">Specify the Default Snapshot Location (SQL Server Management Studio) Specify the default snapshot location on the **Snapshot Folder** page of the Configure Distribution Wizard.</span></span> <span data-ttu-id="6002e-112">Дополнительные сведения см. в статье [Настройка публикации и распространения](configure-publishing-and-distribution.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-112">For more information about using this wizard, see [Configure Publishing and Distribution](configure-publishing-and-distribution.md).</span></span> <span data-ttu-id="6002e-113">При создании публикации на сервере, не настроенном в качестве распространителя, задайте местоположение моментальных снимков по умолчанию на странице **Папка моментальных снимков** мастера создания публикаций.</span><span class="sxs-lookup"><span data-stu-id="6002e-113">If you create a publication on a server that is not configured as a Distributor, specify a default snapshot location on the **Snapshot Folder** page of the New Publication Wizard.</span></span> <span data-ttu-id="6002e-114">Дополнительные сведения об использовании мастера см. в статье [Создание публикации](publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-114">For more information about using this wizard, see [Create a Publication](publish/create-a-publication.md).</span></span>  
  
 <span data-ttu-id="6002e-115">В диалоговом окне **Свойства распространителя — \<Distributor>** на странице **Издатели** измените расположение моментальных снимков по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6002e-115">Modify the default snapshot location on the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box.</span></span> <span data-ttu-id="6002e-116">Дополнительные сведения см. в статье [Просмотр и изменение свойств издателя и распространителя](view-and-modify-distributor-and-publisher-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-116">For more information, see [View and Modify Distributor and Publisher Properties](view-and-modify-distributor-and-publisher-properties.md).</span></span> <span data-ttu-id="6002e-117">Установите папку моментальных снимков для каждой публикации в диалоговом окне **Свойства публикации — \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="6002e-117">Set the snapshot folder for each publication in the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="6002e-118">Дополнительные сведения см. в статье [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-118">For more information, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="modify-the-default-snapshot-location"></a><span data-ttu-id="6002e-119">Изменение местоположения моментальных снимков по умолчанию</span><span class="sxs-lookup"><span data-stu-id="6002e-119">Modify the default snapshot location</span></span>  
  
1.  <span data-ttu-id="6002e-120">В диалоговом окне **Свойства распространителя — \<Distributor>** на странице **Издатели** нажмите кнопку свойств ( **...** ) рядом с издателем, для которого нужно изменить расположение моментальных снимков по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6002e-120">On the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box, click the properties button (**...**) for the Publisher for which you want to change the default snapshot location.</span></span>    
2.  <span data-ttu-id="6002e-121">В диалоговом окне **Свойства издателя — \<Publisher>** введите значение для свойства **Папка моментальных снимков по умолчанию**.</span><span class="sxs-lookup"><span data-stu-id="6002e-121">In the **Publisher Properties - \<Publisher>** dialog box, enter a value for the **Default Snapshot Folder** property.</span></span>

    > [!NOTE]  
    >  <span data-ttu-id="6002e-122">Агент моментальных снимков должен иметь разрешения на запись в указанный каталог, а агент распространителя или агент слияния должен иметь разрешения на чтение из этого каталога.</span><span class="sxs-lookup"><span data-stu-id="6002e-122">The Snapshot Agent must have write permissions for the directory you specify, and the Distribution Agent or Merge Agent must have read permissions.</span></span> <span data-ttu-id="6002e-123">Если используются подписки по запросу, необходимо указать UNC-путь общего каталога, например \\\computername\snapshot.</span><span class="sxs-lookup"><span data-stu-id="6002e-123">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\snapshot.</span></span> <span data-ttu-id="6002e-124">Дополнительные сведения см. в статье [Организация безопасности папки моментальных снимков](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-124">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>    
1.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  

### <a name="alternate-snapshot-location"></a><span data-ttu-id="6002e-125">Альтернативное расположение моментального снимка</span><span class="sxs-lookup"><span data-stu-id="6002e-125">Alternate snapshot location</span></span>
  <span data-ttu-id="6002e-126">Укажите альтернативное расположение моментального снимка на странице **моментальный снимок** диалогового окна \*\* \<Publication> Свойства публикации —\*\* .</span><span class="sxs-lookup"><span data-stu-id="6002e-126">Specify an alternate snapshot location on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="6002e-127">Дополнительные сведения о доступе к этому диалоговому окну см. в разделе [Просмотр и изменение свойств публикации](publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-127">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span> 

  
#### <a name="specify-an-alternate-snapshot-location"></a><span data-ttu-id="6002e-128">Укажите альтернативное расположение моментального снимка</span><span class="sxs-lookup"><span data-stu-id="6002e-128">Specify an alternate snapshot location</span></span>  
  
1.  <span data-ttu-id="6002e-129">На странице **Моментальный снимок** диалогового окна **Свойства публикации — \<Publication>** сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="6002e-129">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box:</span></span>    
    1.  <span data-ttu-id="6002e-130">Выберите **Поместить файлы в следующую папку**, затем нажмите кнопку **Обзор** , чтобы перейти в каталог, или введите путь к каталогу, в который должны сохраняться файлы моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="6002e-130">Select **Put files in the following folder**, and then click **Browse** to navigate to a directory, or enter the path to the directory in which the snapshot files should be stored.</span></span>    

        > [!NOTE]  
        >  <span data-ttu-id="6002e-131">Агент моментальных снимков должен иметь разрешения на запись в указанный каталог, а агент распространителя или агент слияния должен иметь разрешения на чтение из этого каталога.</span><span class="sxs-lookup"><span data-stu-id="6002e-131">The Snapshot Agent must have write permissions for the directory you specify, and the Distribution Agent or Merge Agent must have read permissions.</span></span> <span data-ttu-id="6002e-132">Если используются подписки по запросу, необходимо указать UNC-путь общего каталога, например \\\computername\snapshot.</span><span class="sxs-lookup"><span data-stu-id="6002e-132">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\snapshot.</span></span> <span data-ttu-id="6002e-133">Дополнительные сведения см. в статье [Организация безопасности папки моментальных снимков](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-133">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>    
    <span data-ttu-id="6002e-134">а.</span><span class="sxs-lookup"><span data-stu-id="6002e-134">a.</span></span>  <span data-ttu-id="6002e-135">Снимите флажок **Поместить файлы в папку по умолчанию** , если не требуется, чтобы файлы были помещены в оба расположения.</span><span class="sxs-lookup"><span data-stu-id="6002e-135">Clear **Put files in the default folder** unless you require snapshot files to be written to both locations.</span></span>    
     <span data-ttu-id="6002e-136">Для сжатия файлов моментальных снимков выберите **Сжать файлы моментальных снимков в этом расположении**.</span><span class="sxs-lookup"><span data-stu-id="6002e-136">To compress the snapshot files, select **Compress snapshot files in this location**.</span></span> <span data-ttu-id="6002e-137">Сжатие обычно используется для узкополосных подключений и для альтернативных расположений моментальных снимков на сменных носителях, таких, как компакт-диски.</span><span class="sxs-lookup"><span data-stu-id="6002e-137">Compression is typically used for low bandwidth connections and alternate snapshot locations on removable media, such as a CD-ROM.</span></span>    
1.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]   


## <a name="compress-snapshot-files"></a><span data-ttu-id="6002e-138">Сжатие файлов моментальных снимков</span><span class="sxs-lookup"><span data-stu-id="6002e-138">Compress snapshot files</span></span>
<span data-ttu-id="6002e-139">Укажите, что файлы следует сжимать, на странице **моментальный снимок** диалогового окна \*\* \<Publication> Свойства публикации —\*\* .</span><span class="sxs-lookup"><span data-stu-id="6002e-139">Specify that files should be compressed on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="6002e-140">Дополнительные сведения о доступе к этому диалоговому окну см. в разделе [Просмотр и изменение свойств публикации](publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-140">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  
  
1.  <span data-ttu-id="6002e-141">На странице **Моментальный снимок** диалогового окна **Свойства публикации — \<Publication>** сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="6002e-141">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box:</span></span>  
  
    1.  <span data-ttu-id="6002e-142">Выберите **Поместить файлы в следующую папку**, затем нажмите кнопку **Обзор** , чтобы перейти в каталог, или введите путь к каталогу, в который должны сохраняться файлы моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="6002e-142">Select **Put files in the following folder**, and then click **Browse** to navigate to a directory, or enter the path to the directory in which the snapshot files should be stored.</span></span>    
        > [!NOTE]  
        >  <span data-ttu-id="6002e-143">Агент моментальных снимков должен иметь разрешения на запись в указанный каталог, а агент распространителя или агент слияния должен иметь разрешения на чтение из этого каталога.</span><span class="sxs-lookup"><span data-stu-id="6002e-143">The Snapshot Agent must have write permissions for the directory you specify, and the Distribution Agent or Merge Agent must have read permissions.</span></span> <span data-ttu-id="6002e-144">Если используются подписки по запросу, необходимо указать UNC-путь общего каталога, например \\\computername\snapshot.</span><span class="sxs-lookup"><span data-stu-id="6002e-144">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\snapshot.</span></span> <span data-ttu-id="6002e-145">Дополнительные сведения см. в статье [Организация безопасности папки моментальных снимков](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-145">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md)</span></span>  
  
    2.  <span data-ttu-id="6002e-146">Снимите флажок **Поместить файлы в папку по умолчанию** , если не требуется, чтобы файлы были помещены в оба расположения.</span><span class="sxs-lookup"><span data-stu-id="6002e-146">Clear **Put files in the default folder** unless you require snapshot files to be written to both locations.</span></span>    
        > [!NOTE]  
        >  <span data-ttu-id="6002e-147">Если данный флажок установлен, файлы, хранящиеся в папке по умолчанию, не сжимаются.</span><span class="sxs-lookup"><span data-stu-id="6002e-147">If this check box is selected, the files stored in the default folder are not compressed.</span></span> <span data-ttu-id="6002e-148">Сжатые файлы можно хранить только в альтернативной папке, указанной на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="6002e-148">Compressed files can only be stored in the alternate location specified in the previous step.</span></span>    
2.  <span data-ttu-id="6002e-149">Выберите **Выполнять сжатие файлов моментальных снимков в этой папке**.</span><span class="sxs-lookup"><span data-stu-id="6002e-149">Select **Compress snapshot files in this folder**.</span></span>    
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  

## <a name="execute-scripts-before-and-after-snapshot-is-applied"></a><span data-ttu-id="6002e-150">Выполнение скриптов до и после применения моментального снимка</span><span class="sxs-lookup"><span data-stu-id="6002e-150">Execute scripts before and after snapshot is applied</span></span>

 <span data-ttu-id="6002e-151">Можно указать скрипты для выполнения на подписчике до и после применения моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="6002e-151">You can specify scripts to execute at the Subscriber before or after the snapshot is applied.</span></span> <span data-ttu-id="6002e-152">Скрипты могут использоваться по различным причинам, таким как создание учетных имен и схем (владельцы объекта) на каждом подписчике.</span><span class="sxs-lookup"><span data-stu-id="6002e-152">Scripts can be used for a variety of reasons, such as creating logins and schemas (object owners) at each Subscriber.</span></span>  
  
 <span data-ttu-id="6002e-153">Вы указываете размещение файла для каждого скрипта, и агент моментальных снимков копирует файлы скриптов в текущую папку моментальных снимков при каждой обработке моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="6002e-153">You specify a file location for each script, and the Snapshot Agent copies the script files to the current snapshot folder each time snapshot processing occurs.</span></span> <span data-ttu-id="6002e-154">При применении моментального снимка агент распространителя или агент слияния запускает скрипт, предшествующий моментальному снимку, перед любым из скриптов реплицируемых объектов.</span><span class="sxs-lookup"><span data-stu-id="6002e-154">The Distribution Agent or the Merge Agent runs the pre-snapshot script before any of the replicated object scripts when applying a snapshot.</span></span> <span data-ttu-id="6002e-155">Агент распространителя или агент слияния запускает скрипт, следующий за моментальным снимком, после применения всех других скриптов реплицируемых объектов и применения данных.</span><span class="sxs-lookup"><span data-stu-id="6002e-155">The Distribution Agent or the Merge Agent runs the post-snapshot script after all the other replicated object scripts and data have been applied.</span></span> <span data-ttu-id="6002e-156">После того как применение моментального снимка завершено и файлы скриптов успешно выполнены, файлы скриптов удаляются из рабочего каталога на подписчике.</span><span class="sxs-lookup"><span data-stu-id="6002e-156">After the snapshot application is complete and script files run successfully, the script files are removed from the working directory on the Subscriber.</span></span>  
  
 <span data-ttu-id="6002e-157">Скрипт запускается при помощи служебной программы **sqlcmd** .</span><span class="sxs-lookup"><span data-stu-id="6002e-157">The script is run by launching the **sqlcmd** utility.</span></span> <span data-ttu-id="6002e-158">До развертывания скрипта запустите его с помощью **sqlcmd** , чтобы убедиться, что он выполняется должным образом.</span><span class="sxs-lookup"><span data-stu-id="6002e-158">Before deploying a script, run it with **sqlcmd** to ensure it executes as expected.</span></span> <span data-ttu-id="6002e-159">Содержимое скриптов, которые выполняются до и после применения моментального снимка, должно быть повторяемым.</span><span class="sxs-lookup"><span data-stu-id="6002e-159">The contents of scripts that are executed before and after the snapshot is applied must be repeatable.</span></span> <span data-ttu-id="6002e-160">Например, если вы создаете таблицу в скрипте, необходимо сначала проверить ее существование и предпринять соответствующее действие, если таблица существует.</span><span class="sxs-lookup"><span data-stu-id="6002e-160">For example, if you create a table in the script, you should first check for its existence and take appropriate action if it exists.</span></span> <span data-ttu-id="6002e-161">Скрипт должен быть повторяемым, потому что, если необходимо повторно инициализировать подписку, для которой уже был применен скрипт, скрипт будет применен повторно, когда новый моментальный снимок будет применяться в процессе повторной инициализации.</span><span class="sxs-lookup"><span data-stu-id="6002e-161">The script must be repeatable because if you need to reinitialize a subscription for which the script has already been applied, the script will be applied again when the new snapshot is applied during reinitialization.</span></span>  
  
 <span data-ttu-id="6002e-162">При сжатии файла моментального снимка (посредством его помещения в CAB-файл [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) скрипты так же сжимаются и помещаются в CAB-файл.</span><span class="sxs-lookup"><span data-stu-id="6002e-162">If you are compressing the snapshot file (by putting it in [!INCLUDE[msCoName](../../includes/msconame-md.md)] CAB file format), the scripts are also compressed and placed in the CAB file.</span></span> <span data-ttu-id="6002e-163">После того как сжатый файл моментального снимка передан подписчику и распакован в рабочий каталог на подписчике, выполняются все скрипты, помеченные как скрипты, предшествующие моментальному снимку.</span><span class="sxs-lookup"><span data-stu-id="6002e-163">After the compressed snapshot file is transferred to the Subscriber and decompressed to a working directory on the Subscriber, any script indicated as a pre-snapshot script is executed.</span></span> <span data-ttu-id="6002e-164">Аналогично любой скрипт, выполняющийся после моментального снимка, распаковывается и выполняется на подписчике как последний шаг в применении моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="6002e-164">Likewise, any post-snapshot script is decompressed and executed at the Subscriber as the last step in applying the snapshot.</span></span>  

### <a name="execute-a-script-before-or-after-a-snapshot-is-applied"></a><span data-ttu-id="6002e-165">Выполнение скрипта до или после применения моментального снимка</span><span class="sxs-lookup"><span data-stu-id="6002e-165">Execute a script before or after a snapshot is applied</span></span>  
 <span data-ttu-id="6002e-166">Укажите необязательный скрипт для выполнения до или после применения моментального снимка на странице **моментальный снимок** диалогового окна \*\* \<Publication> Свойства публикации —\*\* .</span><span class="sxs-lookup"><span data-stu-id="6002e-166">Specify an optional script to execute before or after the snapshot is applied on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="6002e-167">Дополнительные сведения о доступе к этому диалоговому окну см. в разделе [Просмотр и изменение свойств публикации](publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6002e-167">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  


1.  <span data-ttu-id="6002e-168">На странице **Моментальный снимок** диалогового окна **Свойства публикации — \<Publication>** сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="6002e-168">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box:</span></span>    
    -   <span data-ttu-id="6002e-169">Чтобы указать скрипт для выполнения до применения моментального снимка, щелкните **Обзор** для перехода к скрипту или введите путь к скрипту в текстовом поле **Перед применением моментального снимка выполнить этот скрипт** .</span><span class="sxs-lookup"><span data-stu-id="6002e-169">To specify a script to execute before the snapshot is applied, click **Browse** to navigate to the script, or enter a path to the script in the **Before applying the snapshot, execute this script** text box.</span></span> 
   
        > [!NOTE]  
        >  <span data-ttu-id="6002e-170">У агента распространителя или агента слияния должны быть разрешения на чтение в указанном каталоге.</span><span class="sxs-lookup"><span data-stu-id="6002e-170">The Distribution Agent or Merge Agent must have read permissions for the directory you specify.</span></span> <span data-ttu-id="6002e-171">Если используются подписки по запросу, следует указать общий каталог в формате UNC-пути, например \\\computername\scripts\myscript.sql.</span><span class="sxs-lookup"><span data-stu-id="6002e-171">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\scripts\myscript.sql.</span></span>    
    -   <span data-ttu-id="6002e-172">Чтобы указать скрипт для выполнения после применения моментального снимка, щелкните **Обзор** для перехода к скрипту или введите путь к скрипту в текстовом поле **После применения моментального снимка выполнить этот скрипт** .</span><span class="sxs-lookup"><span data-stu-id="6002e-172">To specify a script to execute after the snapshot is applied, click **Browse** to navigate to the script, or enter a UNC path to the script in the **After applying the snapshot, execute this script** text box.</span></span>    
2.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
  
  

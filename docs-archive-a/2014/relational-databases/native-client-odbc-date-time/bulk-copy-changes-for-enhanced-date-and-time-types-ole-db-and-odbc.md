---
title: Изменения при выполнении операции копирования для расширенных типов даты и времени (OLE DB и ODBC) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- ODBC, bulk copy operations
- bulk copy [ODBC], changes for date/time improvements
ms.assetid: c29e0f5e-9b3c-42b3-9856-755f4510832f
author: rothja
ms.author: jroth
ms.openlocfilehash: cbb9a03a5ef7a85be279d5b3a210fa24af61622f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664161"
---
# <a name="bulk-copy-changes-for-enhanced-date-and-time-types-ole-db-and-odbc"></a><span data-ttu-id="9e4d3-102">Изменения в функции массового копирования для работы с улучшенными типами даты и времени (OLE DB и ODBC)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-102">Bulk Copy Changes for Enhanced Date and Time Types (OLE DB and ODBC)</span></span>
  <span data-ttu-id="9e4d3-103">Описываются новые возможности даты-времени для поддержки операций массового копирования.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-103">This topic describes the date/time enhancements to support bulk copy functionality.</span></span> <span data-ttu-id="9e4d3-104">Приведенные в данном разделе сведения верны как для OLE DB, так и для ODBC в собственном клиенте [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9e4d3-104">The information in this topic is valid for both OLE DB and ODBC in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client.</span></span>  
  
## <a name="format-files"></a><span data-ttu-id="9e4d3-105">Файлы форматирования</span><span class="sxs-lookup"><span data-stu-id="9e4d3-105">Format Files</span></span>  
 <span data-ttu-id="9e4d3-106">При интерактивном построении файлов форматирования следующая таблица описывает вводные данные для задания типов даты-времени и соответствующих имен типов данных из файлов размещения.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-106">When building format files interactively, the following table describes the input used to specify date/time types and the corresponding host-file data type names.</span></span>  
  
|<span data-ttu-id="9e4d3-107">Тип файла хранилища</span><span class="sxs-lookup"><span data-stu-id="9e4d3-107">File storage type</span></span>|<span data-ttu-id="9e4d3-108">Тип данных файла</span><span class="sxs-lookup"><span data-stu-id="9e4d3-108">Host file data type</span></span>|<span data-ttu-id="9e4d3-109">Ответ на запрос: "введите тип файлового хранилища поля <field_name> [ \<default> ]:"</span><span class="sxs-lookup"><span data-stu-id="9e4d3-109">Response to the prompt: "Enter the file storage type of field <field_name> [\<default>]:"</span></span>|  
|-----------------------|-------------------------|-----------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="9e4d3-110">Datetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-110">Datetime</span></span>|<span data-ttu-id="9e4d3-111">SQLDATETIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-111">SQLDATETIME</span></span>|<span data-ttu-id="9e4d3-112">d</span><span class="sxs-lookup"><span data-stu-id="9e4d3-112">d</span></span>|  
|<span data-ttu-id="9e4d3-113">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-113">Smalldatetime</span></span>|<span data-ttu-id="9e4d3-114">SQLDATETIM4</span><span class="sxs-lookup"><span data-stu-id="9e4d3-114">SQLDATETIM4</span></span>|<span data-ttu-id="9e4d3-115">D</span><span class="sxs-lookup"><span data-stu-id="9e4d3-115">D</span></span>|  
|<span data-ttu-id="9e4d3-116">Дата</span><span class="sxs-lookup"><span data-stu-id="9e4d3-116">Date</span></span>|<span data-ttu-id="9e4d3-117">SQLDATE</span><span class="sxs-lookup"><span data-stu-id="9e4d3-117">SQLDATE</span></span>|<span data-ttu-id="9e4d3-118">de</span><span class="sxs-lookup"><span data-stu-id="9e4d3-118">de</span></span>|  
|<span data-ttu-id="9e4d3-119">Time</span><span class="sxs-lookup"><span data-stu-id="9e4d3-119">Time</span></span>|<span data-ttu-id="9e4d3-120">SQLTIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-120">SQLTIME</span></span>|<span data-ttu-id="9e4d3-121">te</span><span class="sxs-lookup"><span data-stu-id="9e4d3-121">te</span></span>|  
|<span data-ttu-id="9e4d3-122">Datetime2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-122">Datetime2</span></span>|<span data-ttu-id="9e4d3-123">SQLDATETIME2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-123">SQLDATETIME2</span></span>|<span data-ttu-id="9e4d3-124">d2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-124">d2</span></span>|  
|<span data-ttu-id="9e4d3-125">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="9e4d3-125">Datetimeoffset</span></span>|<span data-ttu-id="9e4d3-126">SQLDATETIMEOFFSET</span><span class="sxs-lookup"><span data-stu-id="9e4d3-126">SQLDATETIMEOFFSET</span></span>|<span data-ttu-id="9e4d3-127">do</span><span class="sxs-lookup"><span data-stu-id="9e4d3-127">do</span></span>|  
  
 <span data-ttu-id="9e4d3-128">XSD для XML-файла форматирования будет содержать следующие дополнительные данные:</span><span class="sxs-lookup"><span data-stu-id="9e4d3-128">The XML format file XSD will have the following additions:</span></span>  
  
```  
<xs:complexType name="SQLDATETIME2">  
    <xs:complexContent>  
        <xs:extension base="bl:Fixed"/>  
    </xs:complexContent>  
</xs:complexType>  
<xs:complexType name="SQLDATETIMEOFFSET">  
    <xs:complexContent>  
        <xs:extension base="bl:Fixed"/>  
    </xs:complexContent>  
</xs:complexType>  
<xs:complexType name="SQLDATE">  
    <xs:complexContent>  
        <xs:extension base="bl:Fixed"/>  
    </xs:complexContent>  
</xs:complexType>  
<xs:complexType name="SQLTIME">  
    <xs:complexContent>  
        <xs:extension base="bl:Fixed"/>  
    </xs:complexContent>  
</xs:complexType>  
```  
  
## <a name="character-data-files"></a><span data-ttu-id="9e4d3-129">Файлы символьных данных</span><span class="sxs-lookup"><span data-stu-id="9e4d3-129">Character Data Files</span></span>  
 <span data-ttu-id="9e4d3-130">В файлах символьных данных значения даты и времени представлены, как описано в подразделе "форматы данных: строки и литералы" статьи [Поддержка типов данных для](data-type-support-for-odbc-date-and-time-improvements.md) ODBC, а также улучшения даты и времени для [OLE DB](../native-client-ole-db-date-time/data-type-support-for-ole-db-date-and-time-improvements.md) для OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-130">In character data files, date and time values are represented as described in the "Data Formats: Strings and Literals" section of [Data Type Support for ODBC Date and Time Improvements](data-type-support-for-odbc-date-and-time-improvements.md) for ODBC, or of [Data Type Support for OLE DB Date and Time Improvements](../native-client-ole-db-date-time/data-type-support-for-ole-db-date-and-time-improvements.md) for OLE DB.</span></span>  
  
 <span data-ttu-id="9e4d3-131">В собственном файлахе данных значения даты и времени для четырех новых типов представлены в виде представлений TDS с масштабом 7 (поскольку это максимальное поддерживаемое [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и файлы данных bcp не хранят масштаб этих столбцов).</span><span class="sxs-lookup"><span data-stu-id="9e4d3-131">In native data fles, date and time values for the four new types are represented as their TDS representations with a scale of 7 (because this is the maximum supported by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and bcp data files do not store the scale of these columns).</span></span> <span data-ttu-id="9e4d3-132">Нет изменений в хранилище существующих `datetime` и типов, а также в `smalldatetime` представлениях потока табличных данных (TDS).</span><span class="sxs-lookup"><span data-stu-id="9e4d3-132">There is no change to the storage of the existing `datetime` and `smalldatetime` type or their tabular data stream (TDS) representations.</span></span>  
  
 <span data-ttu-id="9e4d3-133">Размеры типов OLE DB для различных типов хранения следующие:</span><span class="sxs-lookup"><span data-stu-id="9e4d3-133">The storage sizes for the different storage types are as follows for OLE DB:</span></span>  
  
|<span data-ttu-id="9e4d3-134">Тип файла хранилища</span><span class="sxs-lookup"><span data-stu-id="9e4d3-134">File storage type</span></span>|<span data-ttu-id="9e4d3-135">Объем памяти в байтах</span><span class="sxs-lookup"><span data-stu-id="9e4d3-135">Storage size in bytes</span></span>|  
|-----------------------|---------------------------|  
|<span data-ttu-id="9e4d3-136">DATETIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-136">datetime</span></span>|<span data-ttu-id="9e4d3-137">8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-137">8</span></span>|  
|<span data-ttu-id="9e4d3-138">smalldatetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-138">smalldatetime</span></span>|<span data-ttu-id="9e4d3-139">4</span><span class="sxs-lookup"><span data-stu-id="9e4d3-139">4</span></span>|  
|<span data-ttu-id="9e4d3-140">Дата</span><span class="sxs-lookup"><span data-stu-id="9e4d3-140">date</span></span>|<span data-ttu-id="9e4d3-141">3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-141">3</span></span>|  
|<span data-ttu-id="9e4d3-142">time</span><span class="sxs-lookup"><span data-stu-id="9e4d3-142">time</span></span>|<span data-ttu-id="9e4d3-143">6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-143">6</span></span>|  
|<span data-ttu-id="9e4d3-144">datetime2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-144">datetime2</span></span>|<span data-ttu-id="9e4d3-145">9</span><span class="sxs-lookup"><span data-stu-id="9e4d3-145">9</span></span>|  
|<span data-ttu-id="9e4d3-146">datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="9e4d3-146">datetimeoffset</span></span>|<span data-ttu-id="9e4d3-147">11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-147">11</span></span>|  
  
 <span data-ttu-id="9e4d3-148">Размеры для ODBC указаны ниже.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-148">The sizes are as follows for ODBC.</span></span> <span data-ttu-id="9e4d3-149">Следует заметить, что хранить данные о точности в любом из форматов и в файлах данных не обязательно, поскольку BCP.exe всегда запрашивает значение точности на сервере.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-149">Note that it is not necessary to store precision in either format or data files, because BCP.exe will always retrieve precision from the server.</span></span>  
  
|<span data-ttu-id="9e4d3-150">Тип файла хранилища</span><span class="sxs-lookup"><span data-stu-id="9e4d3-150">File storage type</span></span>|<span data-ttu-id="9e4d3-151">Объем памяти в байтах</span><span class="sxs-lookup"><span data-stu-id="9e4d3-151">Storage size in bytes</span></span>|<span data-ttu-id="9e4d3-152">Формат хранения</span><span class="sxs-lookup"><span data-stu-id="9e4d3-152">Storage format</span></span>|  
|-----------------------|---------------------------|--------------------|  
|<span data-ttu-id="9e4d3-153">datetime (d)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-153">datetime (d)</span></span>|<span data-ttu-id="9e4d3-154">8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-154">8</span></span>|<span data-ttu-id="9e4d3-155">TDS</span><span class="sxs-lookup"><span data-stu-id="9e4d3-155">TDS</span></span>|  
|<span data-ttu-id="9e4d3-156">smalldatetime (D)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-156">smalldatetime (D)</span></span>|<span data-ttu-id="9e4d3-157">4</span><span class="sxs-lookup"><span data-stu-id="9e4d3-157">4</span></span>|<span data-ttu-id="9e4d3-158">TDS</span><span class="sxs-lookup"><span data-stu-id="9e4d3-158">TDS</span></span>|  
|<span data-ttu-id="9e4d3-159">date (de)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-159">date (de)</span></span>|<span data-ttu-id="9e4d3-160">3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-160">3</span></span>|<span data-ttu-id="9e4d3-161">TDS</span><span class="sxs-lookup"><span data-stu-id="9e4d3-161">TDS</span></span>|  
|<span data-ttu-id="9e4d3-162">time (te)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-162">time (te)</span></span>|<span data-ttu-id="9e4d3-163">6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-163">6</span></span>|<span data-ttu-id="9e4d3-164">TDS</span><span class="sxs-lookup"><span data-stu-id="9e4d3-164">TDS</span></span>|  
|<span data-ttu-id="9e4d3-165">datetime2 (d2)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-165">datetime2 (d2)</span></span>|<span data-ttu-id="9e4d3-166">9</span><span class="sxs-lookup"><span data-stu-id="9e4d3-166">9</span></span>|<span data-ttu-id="9e4d3-167">TDS</span><span class="sxs-lookup"><span data-stu-id="9e4d3-167">TDS</span></span>|  
|<span data-ttu-id="9e4d3-168">datetimeoffset (do)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-168">datetimeoffset (do)</span></span>|<span data-ttu-id="9e4d3-169">11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-169">11</span></span>|<span data-ttu-id="9e4d3-170">TDS</span><span class="sxs-lookup"><span data-stu-id="9e4d3-170">TDS</span></span>|  
  
## <a name="bcp-types-in-sqlnclih"></a><span data-ttu-id="9e4d3-171">Типы BCP в sqlncli.h</span><span class="sxs-lookup"><span data-stu-id="9e4d3-171">BCP Types in sqlncli.h</span></span>  
 <span data-ttu-id="9e4d3-172">В файле sqlncli.h определены следующие типы, используемые в расширениях API-интерфейсов BCP для ODBC.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-172">The following types are defined in sqlncli.h to be used with the BCP API extensions to ODBC.</span></span> <span data-ttu-id="9e4d3-173">Эти типы передаются с помощью параметра *eUserDataType* IBCPSession::BCPColFmt в OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-173">These types are passed with the *eUserDataType* parameter of IBCPSession::BCPColFmt in OLE DB.</span></span>  
  
|<span data-ttu-id="9e4d3-174">Тип файла хранилища</span><span class="sxs-lookup"><span data-stu-id="9e4d3-174">File storage type</span></span>|<span data-ttu-id="9e4d3-175">Тип данных файла</span><span class="sxs-lookup"><span data-stu-id="9e4d3-175">Host file data type</span></span>|<span data-ttu-id="9e4d3-176">Введите в sqlncli. h для использования с IBCPSession:: BCPColFmt</span><span class="sxs-lookup"><span data-stu-id="9e4d3-176">Type in sqlncli.h for use with IBCPSession::BCPColFmt</span></span>|<span data-ttu-id="9e4d3-177">Значение</span><span class="sxs-lookup"><span data-stu-id="9e4d3-177">Value</span></span>|  
|-----------------------|-------------------------|-----------------------------------------------------------|-----------|  
|<span data-ttu-id="9e4d3-178">Datetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-178">Datetime</span></span>|<span data-ttu-id="9e4d3-179">SQLDATETIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-179">SQLDATETIME</span></span>|<span data-ttu-id="9e4d3-180">BCP_TYPE_SQLDATETIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-180">BCP_TYPE_SQLDATETIME</span></span>|<span data-ttu-id="9e4d3-181">0x3d</span><span class="sxs-lookup"><span data-stu-id="9e4d3-181">0x3d</span></span>|  
|<span data-ttu-id="9e4d3-182">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-182">Smalldatetime</span></span>|<span data-ttu-id="9e4d3-183">SQLDATETIM4</span><span class="sxs-lookup"><span data-stu-id="9e4d3-183">SQLDATETIM4</span></span>|<span data-ttu-id="9e4d3-184">BCP_TYPE_SQLDATETIME4</span><span class="sxs-lookup"><span data-stu-id="9e4d3-184">BCP_TYPE_SQLDATETIME4</span></span>|<span data-ttu-id="9e4d3-185">0x3a</span><span class="sxs-lookup"><span data-stu-id="9e4d3-185">0x3a</span></span>|  
|<span data-ttu-id="9e4d3-186">Дата</span><span class="sxs-lookup"><span data-stu-id="9e4d3-186">Date</span></span>|<span data-ttu-id="9e4d3-187">SQLDATE</span><span class="sxs-lookup"><span data-stu-id="9e4d3-187">SQLDATE</span></span>|<span data-ttu-id="9e4d3-188">BCP_TYPE_SQLDATE</span><span class="sxs-lookup"><span data-stu-id="9e4d3-188">BCP_TYPE_SQLDATE</span></span>|<span data-ttu-id="9e4d3-189">0x28</span><span class="sxs-lookup"><span data-stu-id="9e4d3-189">0x28</span></span>|  
|<span data-ttu-id="9e4d3-190">Time</span><span class="sxs-lookup"><span data-stu-id="9e4d3-190">Time</span></span>|<span data-ttu-id="9e4d3-191">SQLTIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-191">SQLTIME</span></span>|<span data-ttu-id="9e4d3-192">BCP_TYPE_SQLTIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-192">BCP_TYPE_SQLTIME</span></span>|<span data-ttu-id="9e4d3-193">0x29</span><span class="sxs-lookup"><span data-stu-id="9e4d3-193">0x29</span></span>|  
|<span data-ttu-id="9e4d3-194">Datetime2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-194">Datetime2</span></span>|<span data-ttu-id="9e4d3-195">SQLDATETIME2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-195">SQLDATETIME2</span></span>|<span data-ttu-id="9e4d3-196">BCP_TYPE_SQLDATETIME2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-196">BCP_TYPE_SQLDATETIME2</span></span>|<span data-ttu-id="9e4d3-197">0x2a</span><span class="sxs-lookup"><span data-stu-id="9e4d3-197">0x2a</span></span>|  
|<span data-ttu-id="9e4d3-198">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="9e4d3-198">Datetimeoffset</span></span>|<span data-ttu-id="9e4d3-199">SQLDATETIMEOFFSET</span><span class="sxs-lookup"><span data-stu-id="9e4d3-199">SQLDATETIMEOFFSET</span></span>|<span data-ttu-id="9e4d3-200">BCP_TYPE_SQLDATETIMEOFFSET</span><span class="sxs-lookup"><span data-stu-id="9e4d3-200">BCP_TYPE_SQLDATETIMEOFFSET</span></span>|<span data-ttu-id="9e4d3-201">0x2b</span><span class="sxs-lookup"><span data-stu-id="9e4d3-201">0x2b</span></span>|  
  
## <a name="bcp-data-type-conversions"></a><span data-ttu-id="9e4d3-202">Поддерживаемые преобразования типов данных BCP</span><span class="sxs-lookup"><span data-stu-id="9e4d3-202">BCP Data Type Conversions</span></span>  
 <span data-ttu-id="9e4d3-203">Сведения о преобразованиях приведены в следующих таблицах.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-203">The following tables provide conversion information.</span></span>  
  
 <span data-ttu-id="9e4d3-204">**Примечание для OLE DB**. Следующие преобразования выполняются через интерфейс IBCPSession.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-204">**OLE DB Note** The following conversions are performed by IBCPSession.</span></span> <span data-ttu-id="9e4d3-205">IRowsetFastLoad использует преобразования OLE DB, как определено в статье [Conversions Performed from Client to Server](../native-client-ole-db-date-time/conversions-performed-from-client-to-server.md) (Преобразования, выполняемые при передаче от клиента к серверу).</span><span class="sxs-lookup"><span data-stu-id="9e4d3-205">IRowsetFastLoad uses OLE DB conversions as defined in [Conversions Performed from Client to Server](../native-client-ole-db-date-time/conversions-performed-from-client-to-server.md).</span></span> <span data-ttu-id="9e4d3-206">Следует заметить, что значения даты-времени округляются до 1/300 секунды, а в значениях типа smalldatetime после выполнения клиентских преобразований, описанных ниже, значение секунд становится равным нулю.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-206">Note that datetime values are rounded to 1/300th of a second and smalldatetime values have seconds set to zero after client conversions described below have been performed.</span></span> <span data-ttu-id="9e4d3-207">Округление даты-времени распространяется на часы и минуты, но не на дату.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-207">Datetime rounding propagates through hours and minutes, but not the date.</span></span>  
  
|<span data-ttu-id="9e4d3-208">Кому --></span><span class="sxs-lookup"><span data-stu-id="9e4d3-208">To --></span></span><br /><br /> <span data-ttu-id="9e4d3-209">Исходный тип</span><span class="sxs-lookup"><span data-stu-id="9e4d3-209">From</span></span>|<span data-ttu-id="9e4d3-210">Дата</span><span class="sxs-lookup"><span data-stu-id="9e4d3-210">date</span></span>|<span data-ttu-id="9e4d3-211">time</span><span class="sxs-lookup"><span data-stu-id="9e4d3-211">time</span></span>|<span data-ttu-id="9e4d3-212">smalldatetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-212">smalldatetime</span></span>|<span data-ttu-id="9e4d3-213">DATETIME</span><span class="sxs-lookup"><span data-stu-id="9e4d3-213">datetime</span></span>|<span data-ttu-id="9e4d3-214">datetime2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-214">datetime2</span></span>|<span data-ttu-id="9e4d3-215">datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="9e4d3-215">datetimeoffset</span></span>|<span data-ttu-id="9e4d3-216">char</span><span class="sxs-lookup"><span data-stu-id="9e4d3-216">char</span></span>|<span data-ttu-id="9e4d3-217">wchar</span><span class="sxs-lookup"><span data-stu-id="9e4d3-217">wchar</span></span>|  
|------------------------|----------|----------|-------------------|--------------|---------------|--------------------|----------|-----------|  
|<span data-ttu-id="9e4d3-218">Дата</span><span class="sxs-lookup"><span data-stu-id="9e4d3-218">Date</span></span>|<span data-ttu-id="9e4d3-219">1</span><span class="sxs-lookup"><span data-stu-id="9e4d3-219">1</span></span>|-|<span data-ttu-id="9e4d3-220">1,6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-220">1,6</span></span>|<span data-ttu-id="9e4d3-221">1,6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-221">1,6</span></span>|<span data-ttu-id="9e4d3-222">1,6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-222">1,6</span></span>|<span data-ttu-id="9e4d3-223">1,5,6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-223">1,5,6</span></span>|<span data-ttu-id="9e4d3-224">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-224">1,3</span></span>|<span data-ttu-id="9e4d3-225">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-225">1,3</span></span>|  
|<span data-ttu-id="9e4d3-226">Time</span><span class="sxs-lookup"><span data-stu-id="9e4d3-226">Time</span></span>|<span data-ttu-id="9e4d3-227">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-227">N/A</span></span>|<span data-ttu-id="9e4d3-228">1,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-228">1,10</span></span>|<span data-ttu-id="9e4d3-229">1,7,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-229">1,7,10</span></span>|<span data-ttu-id="9e4d3-230">1,7,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-230">1,7,10</span></span>|<span data-ttu-id="9e4d3-231">1,7,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-231">1,7,10</span></span>|<span data-ttu-id="9e4d3-232">1,5,7,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-232">1,5,7,10</span></span>|<span data-ttu-id="9e4d3-233">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-233">1,3</span></span>|<span data-ttu-id="9e4d3-234">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-234">1,3</span></span>|  
|<span data-ttu-id="9e4d3-235">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-235">Smalldatetime</span></span>|<span data-ttu-id="9e4d3-236">1,2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-236">1,2</span></span>|<span data-ttu-id="9e4d3-237">1,4,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-237">1,4,10</span></span>|<span data-ttu-id="9e4d3-238">1</span><span class="sxs-lookup"><span data-stu-id="9e4d3-238">1</span></span>|<span data-ttu-id="9e4d3-239">1</span><span class="sxs-lookup"><span data-stu-id="9e4d3-239">1</span></span>|<span data-ttu-id="9e4d3-240">1,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-240">1,10</span></span>|<span data-ttu-id="9e4d3-241">1,5,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-241">1,5,10</span></span>|<span data-ttu-id="9e4d3-242">1,11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-242">1,11</span></span>|<span data-ttu-id="9e4d3-243">1,11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-243">1,11</span></span>|  
|<span data-ttu-id="9e4d3-244">Datetime</span><span class="sxs-lookup"><span data-stu-id="9e4d3-244">Datetime</span></span>|<span data-ttu-id="9e4d3-245">1,2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-245">1,2</span></span>|<span data-ttu-id="9e4d3-246">1,4,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-246">1,4,10</span></span>|<span data-ttu-id="9e4d3-247">1,12</span><span class="sxs-lookup"><span data-stu-id="9e4d3-247">1,12</span></span>|<span data-ttu-id="9e4d3-248">1</span><span class="sxs-lookup"><span data-stu-id="9e4d3-248">1</span></span>|<span data-ttu-id="9e4d3-249">1,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-249">1,10</span></span>|<span data-ttu-id="9e4d3-250">1,5,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-250">1,5,10</span></span>|<span data-ttu-id="9e4d3-251">1,11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-251">1,11</span></span>|<span data-ttu-id="9e4d3-252">1,11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-252">1,11</span></span>|  
|<span data-ttu-id="9e4d3-253">Datetime2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-253">Datetime2</span></span>|<span data-ttu-id="9e4d3-254">1,2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-254">1,2</span></span>|<span data-ttu-id="9e4d3-255">1,4,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-255">1,4,10</span></span>|<span data-ttu-id="9e4d3-256">1,10 (ODBC)1,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-256">1,10 (ODBC)1,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-257">1,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-257">1,10</span></span>|<span data-ttu-id="9e4d3-258">1,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-258">1,10</span></span>|<span data-ttu-id="9e4d3-259">1,5,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-259">1,5,10</span></span>|<span data-ttu-id="9e4d3-260">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-260">1,3</span></span>|<span data-ttu-id="9e4d3-261">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-261">1,3</span></span>|  
|<span data-ttu-id="9e4d3-262">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="9e4d3-262">Datetimeoffset</span></span>|<span data-ttu-id="9e4d3-263">1,2,8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-263">1,2,8</span></span>|<span data-ttu-id="9e4d3-264">1,4,8,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-264">1,4,8,10</span></span>|<span data-ttu-id="9e4d3-265">1,8,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-265">1,8,10</span></span>|<span data-ttu-id="9e4d3-266">1,8,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-266">1,8,10</span></span>|<span data-ttu-id="9e4d3-267">1,8,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-267">1,8,10</span></span>|<span data-ttu-id="9e4d3-268">1,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-268">1,10</span></span>|<span data-ttu-id="9e4d3-269">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-269">1,3</span></span>|<span data-ttu-id="9e4d3-270">1,3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-270">1,3</span></span>|  
|<span data-ttu-id="9e4d3-271">Char/wchar (date)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-271">Char/wchar (date)</span></span>|<span data-ttu-id="9e4d3-272">9</span><span class="sxs-lookup"><span data-stu-id="9e4d3-272">9</span></span>|-|<span data-ttu-id="9e4d3-273">9,6 (ODBC)9,6,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-273">9,6 (ODBC)9,6,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-274">9,6 (ODBC)9,6,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-274">9,6 (ODBC)9,6,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-275">9,6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-275">9,6</span></span>|<span data-ttu-id="9e4d3-276">9,5,6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-276">9,5,6</span></span>|<span data-ttu-id="9e4d3-277">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-277">N/A</span></span>|<span data-ttu-id="9e4d3-278">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-278">N/A</span></span>|  
|<span data-ttu-id="9e4d3-279">Char/wchar (time)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-279">Char/wchar (time)</span></span>|-|<span data-ttu-id="9e4d3-280">9,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-280">9,10</span></span>|<span data-ttu-id="9e4d3-281">9,7,10 (ODBC)9,7,10,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-281">9,7,10 (ODBC)9,7,10,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-282">9,7,10 (ODBC)9,7,10, 12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-282">9,7,10 (ODBC)9,7,10, 12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-283">9,7,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-283">9,7,10</span></span>|<span data-ttu-id="9e4d3-284">9,5,7,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-284">9,5,7,10</span></span>|<span data-ttu-id="9e4d3-285">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-285">N/A</span></span>|<span data-ttu-id="9e4d3-286">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-286">N/A</span></span>|  
|<span data-ttu-id="9e4d3-287">Char/wchar (datetime)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-287">Char/wchar (datetime)</span></span>|<span data-ttu-id="9e4d3-288">9,2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-288">9,2</span></span>|<span data-ttu-id="9e4d3-289">9,4,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-289">9,4,10</span></span>|<span data-ttu-id="9e4d3-290">9,10 (ODBC)9,10,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-290">9,10 (ODBC)9,10,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-291">9,10 (ODBC)9,10,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-291">9,10 (ODBC)9,10,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-292">9,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-292">9,10</span></span>|<span data-ttu-id="9e4d3-293">9,5,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-293">9,5,10</span></span>|<span data-ttu-id="9e4d3-294">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-294">N/A</span></span>|<span data-ttu-id="9e4d3-295">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-295">N/A</span></span>|  
|<span data-ttu-id="9e4d3-296">Char/wchar (datetimeoffset)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-296">Char/wchar (datetimeoffset)</span></span>|<span data-ttu-id="9e4d3-297">9,2,8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-297">9,2,8</span></span>|<span data-ttu-id="9e4d3-298">9,4,8,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-298">9,4,8,10</span></span>|<span data-ttu-id="9e4d3-299">9,8,10 (ODBC)9,8,10,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-299">9,8,10 (ODBC)9,8,10,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-300">9,8,10 (ODBC)9,8,10,12 (OLE DB)</span><span class="sxs-lookup"><span data-stu-id="9e4d3-300">9,8,10 (ODBC)9,8,10,12 (OLE DB)</span></span>|<span data-ttu-id="9e4d3-301">9,8,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-301">9,8,10</span></span>|<span data-ttu-id="9e4d3-302">9,10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-302">9,10</span></span>|<span data-ttu-id="9e4d3-303">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-303">N/A</span></span>|<span data-ttu-id="9e4d3-304">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-304">N/A</span></span>|  
  
#### <a name="key-to-symbols"></a><span data-ttu-id="9e4d3-305">Расшифровка символов</span><span class="sxs-lookup"><span data-stu-id="9e4d3-305">Key to Symbols</span></span>  
  
|<span data-ttu-id="9e4d3-306">Символ</span><span class="sxs-lookup"><span data-stu-id="9e4d3-306">Symbol</span></span>|<span data-ttu-id="9e4d3-307">Значение</span><span class="sxs-lookup"><span data-stu-id="9e4d3-307">Meaning</span></span>|  
|------------|-------------|  
|-|<span data-ttu-id="9e4d3-308">Преобразование не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-308">No conversion is supported.</span></span><br /><br /> <span data-ttu-id="9e4d3-309">Создается запись диагностики ODBC с кодом SQLSTATE 07006 и сообщением «Нарушение атрибута ограниченного типа данных».</span><span class="sxs-lookup"><span data-stu-id="9e4d3-309">An ODBC diagnostic record is generated with SQLSTATE 07006 and the message "Restricted data type attribute violation".</span></span>|  
|<span data-ttu-id="9e4d3-310">1</span><span class="sxs-lookup"><span data-stu-id="9e4d3-310">1</span></span>|<span data-ttu-id="9e4d3-311">Если переданы недопустимые данные, то создается запись диагностики ODBC с кодом SQLSTATE 22007 и сообщением «Недопустимый формат даты-времени».</span><span class="sxs-lookup"><span data-stu-id="9e4d3-311">If the data supplied is not valid, an ODBC  diagnostic record is generated with SQLSTATE 22007 and the message "Invalid datetime format".</span></span> <span data-ttu-id="9e4d3-312">Для значений типа datetimeoffset после преобразования в формате UTC временная часть должна находиться в пределах диапазона, даже если преобразование в формате UTC не требуется.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-312">For datetimeoffset values, the time portion must be within range after conversion to UTC, even if no conversion to UTC is requested.</span></span> <span data-ttu-id="9e4d3-313">Это требование вызвано тем, что поток табличных данных и сервер всегда нормализуют время в значениях типа datetimeoffset для времени в формате UTC.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-313">This is because TDS and the server always normalize the time in datetimeoffset values for UTC.</span></span> <span data-ttu-id="9e4d3-314">Поэтому клиент должен проверить, попадают ли в поддерживаемый диапазон компоненты времени после преобразования в UTC.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-314">So the client must check that time components are within the range supported after conversion to UTC.</span></span>|  
|<span data-ttu-id="9e4d3-315">2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-315">2</span></span>|<span data-ttu-id="9e4d3-316">Компонент времени не учитывается.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-316">The time component is ignored.</span></span>|  
|<span data-ttu-id="9e4d3-317">3</span><span class="sxs-lookup"><span data-stu-id="9e4d3-317">3</span></span>|<span data-ttu-id="9e4d3-318">Для ODBC, если происходит усечение с потерей данных, создается диагностическая запись с кодом SQLSTATE 22001 и строкой сообщения "String, с усеченным значением" число долей секунды (шкала) определяется по размеру целевого столбца в соответствии со следующей таблицей.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-318">For ODBC, If truncation with data loss occurs, a diagnostic record is generated with SQLSTATE 22001 and message 'String data, right truncated' The number of fractional seconds digits (the scale) is determined from the destination column's size according to the following table.</span></span> <span data-ttu-id="9e4d3-319">Для размеров столбцов, превышающих диапазон в таблице, подразумевается масштаб 7.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-319">For column sizes larger than the range in the table, a scale of 7 is implied.</span></span> <span data-ttu-id="9e4d3-320">Это преобразование позволяет передавать доли секунд с точностью до девяти значащих цифр — максимум, поддерживаемый ODBC.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-320">This conversion should allow for up to nine fractional second digits, the maximum allowed by ODBC.</span></span><br /><br /> <span data-ttu-id="9e4d3-321">**Тип:** DBTIME2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-321">**Type:** DBTIME2</span></span><br /><br /> <span data-ttu-id="9e4d3-322">**Подразумеваемый масштаб 0** 8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-322">**Implied scale 0** 8</span></span><br /><br /> <span data-ttu-id="9e4d3-323">**Подразумеваемый масштаб 1.. 7** 10, 16</span><span class="sxs-lookup"><span data-stu-id="9e4d3-323">**Implied scale 1..7** 10,16</span></span><br /><br /> <br /><br /> <span data-ttu-id="9e4d3-324">**Тип:** DBTIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="9e4d3-324">**Type:** DBTIMESTAMP</span></span><br /><br /> <span data-ttu-id="9e4d3-325">**Подразумеваемый масштаб 0:** 19</span><span class="sxs-lookup"><span data-stu-id="9e4d3-325">**Implied scale 0:** 19</span></span><br /><br /> <span data-ttu-id="9e4d3-326">**Подразумеваемый масштаб 1.. 7:** 21.. 27</span><span class="sxs-lookup"><span data-stu-id="9e4d3-326">**Implied scale 1..7:** 21..27</span></span><br /><br /> <br /><br /> <span data-ttu-id="9e4d3-327">**Тип:** DBTIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="9e4d3-327">**Type:** DBTIMESTAMPOFFSET</span></span><br /><br /> <span data-ttu-id="9e4d3-328">**Подразумеваемый масштаб 0:** 26</span><span class="sxs-lookup"><span data-stu-id="9e4d3-328">**Implied scale 0:** 26</span></span><br /><br /> <span data-ttu-id="9e4d3-329">**Подразумеваемый масштаб 1.. 7:** 28.. 34</span><span class="sxs-lookup"><span data-stu-id="9e4d3-329">**Implied scale 1..7:** 28..34</span></span><br /><br /> <span data-ttu-id="9e4d3-330">В OLE DB, если происходит усечение с потерей данных, выдается сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-330">For OLE DB, if truncation with data loss occurs, an error is posted.</span></span> <span data-ttu-id="9e4d3-331">Для типа datetime2 число разрядов для дробной секунды (масштаб) определяется размером целевого столбца согласно следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-331">For datetime2, the number of fractional seconds digits (the scale) is determined from the destination column's size according to the following table.</span></span> <span data-ttu-id="9e4d3-332">Для размеров столбцов, превышающих диапазон в таблице, подразумевается масштаб 9.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-332">For column sizes larger than the range in the table a scale of 9 is implied.</span></span> <span data-ttu-id="9e4d3-333">Это преобразование позволяет передавать доли секунд с точностью до девяти значащих цифр — максимум, поддерживаемый OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-333">This conversion should allow for up to nine fractional second digits, the maximum allowed by OLE DB.</span></span><br /><br /> <span data-ttu-id="9e4d3-334">**Тип:** DBTIME2</span><span class="sxs-lookup"><span data-stu-id="9e4d3-334">**Type:** DBTIME2</span></span><br /><br /> <span data-ttu-id="9e4d3-335">**Подразумеваемый масштаб 0** 8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-335">**Implied scale 0** 8</span></span><br /><br /> <span data-ttu-id="9e4d3-336">**Подразумеваемый масштаб 1..9** 1..9</span><span class="sxs-lookup"><span data-stu-id="9e4d3-336">**Implied scale 1..9** 1..9</span></span><br /><br /> <br /><br /> <span data-ttu-id="9e4d3-337">**Тип:** DBTIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="9e4d3-337">**Type:** DBTIMESTAMP</span></span><br /><br /> <span data-ttu-id="9e4d3-338">**Подразумеваемый масштаб 0:** 19</span><span class="sxs-lookup"><span data-stu-id="9e4d3-338">**Implied scale 0:** 19</span></span><br /><br /> <span data-ttu-id="9e4d3-339">**Подразумеваемый масштаб 1..9:** 21..29</span><span class="sxs-lookup"><span data-stu-id="9e4d3-339">**Implied scale 1..9:** 21..29</span></span><br /><br /> <br /><br /> <span data-ttu-id="9e4d3-340">**Тип:** DBTIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="9e4d3-340">**Type:** DBTIMESTAMPOFFSET</span></span><br /><br /> <span data-ttu-id="9e4d3-341">**Подразумеваемый масштаб 0:** 26</span><span class="sxs-lookup"><span data-stu-id="9e4d3-341">**Implied scale 0:** 26</span></span><br /><br /> <span data-ttu-id="9e4d3-342">**Подразумеваемый масштаб 1..9:** 28..36</span><span class="sxs-lookup"><span data-stu-id="9e4d3-342">**Implied scale 1..9:** 28..36</span></span>|  
|<span data-ttu-id="9e4d3-343">4</span><span class="sxs-lookup"><span data-stu-id="9e4d3-343">4</span></span>|<span data-ttu-id="9e4d3-344">Компонент даты не учитывается.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-344">The date component is ignored.</span></span>|  
|<span data-ttu-id="9e4d3-345">5</span><span class="sxs-lookup"><span data-stu-id="9e4d3-345">5</span></span>|<span data-ttu-id="9e4d3-346">Часовой пояс устанавливается в формате UTC (например, 00:00).</span><span class="sxs-lookup"><span data-stu-id="9e4d3-346">The timezone is set to UTC (for example, 00:00).</span></span>|  
|<span data-ttu-id="9e4d3-347">6</span><span class="sxs-lookup"><span data-stu-id="9e4d3-347">6</span></span>|<span data-ttu-id="9e4d3-348">Время установлено в нуль.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-348">The time is set to zero.</span></span>|  
|<span data-ttu-id="9e4d3-349">7</span><span class="sxs-lookup"><span data-stu-id="9e4d3-349">7</span></span>|<span data-ttu-id="9e4d3-350">Для даты задается значение 1900-01-01.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-350">The date is set to 1900-01-01.</span></span>|  
|<span data-ttu-id="9e4d3-351">8</span><span class="sxs-lookup"><span data-stu-id="9e4d3-351">8</span></span>|<span data-ttu-id="9e4d3-352">Сдвиг часового пояса не учитывается.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-352">The timezone offset is ignored.</span></span>|  
|<span data-ttu-id="9e4d3-353">9</span><span class="sxs-lookup"><span data-stu-id="9e4d3-353">9</span></span>|<span data-ttu-id="9e4d3-354">Строка проходит синтаксический анализ и преобразуется в значение типа date, datetime, datetimeoffset или time в зависимости от первого встреченного знака препинания и наличия остальных компонентов.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-354">The string is parsed and converted to a date, datetime, datetimeoffset, or time value, depending on the first punctuation character encountered and presence of remaining components.</span></span> <span data-ttu-id="9e4d3-355">Затем строка преобразуется в целевой тип согласно правилам, описанным в таблице, приведенной в конце раздела, для типа исходных данных, который выясняется в процессе анализа.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-355">The string is then converted to the target type, following the rules in the table at the end of this topic for the source type discovered by this process.</span></span> <span data-ttu-id="9e4d3-356">Если при синтаксическом анализе данных неизбежно возникает ошибка, любой из компонентов вышел за пределы допустимого диапазона или не существует преобразования из литерального типа в целевой тип, то в случае OLE DB выдается сообщение об ошибке, а в случае ODBC создается запись диагностики ODBC с кодом SQLSTATE 22018 и сообщением «Недопустимое значение символа для спецификации преобразования».</span><span class="sxs-lookup"><span data-stu-id="9e4d3-356">If the data supplied cannot be parsed without error, or if any component part is outside the range allowed, or if there is no conversion from the literal type to target type, an error is posted (OLE DB) or an ODBC diagnostic record is generated with SQLSTATE 22018 and the message "Invalid character value for cast specification".</span></span> <span data-ttu-id="9e4d3-357">Для параметров типа datetime и smalldatetime, если значение года выходит за пределы допустимого диапазона, в случае OLE DB выдается сообщение об ошибке, а в случае ODBC создается запись диагностики ODBC с кодом SQLSTATE 22007 и сообщением «Недопустимый формат даты-времени».</span><span class="sxs-lookup"><span data-stu-id="9e4d3-357">For datetime and smalldatetime parameters, if the year is outside the range these types support, an error is posted (OLE DB) or an ODBC diagnostic record is generated with SQLSATE 22007 and the message "Invalid datetime format".</span></span><br /><br /> <span data-ttu-id="9e4d3-358">Значение datetimeoffset после преобразования во времени в формате UTC должно находиться в пределах диапазона, даже если преобразование во времени в формате UTC не требуется.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-358">For datetimeoffset, the value must be within range after conversion to UTC, even if no conversion to UTC is requested.</span></span> <span data-ttu-id="9e4d3-359">Причина этого заключается в том, что поток табличных данных и сервер всегда нормализуют время в значениях datetimeoffset для времени в формате UTC, поэтому клиент должен проверять, что значение времени после преобразования во времени в формате UTC находится в пределах поддерживаемого диапазона.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-359">This is because TDS and the server always normalize the time in datetimeoffset values for UTC, so the client must verify that time components are within the range supported after conversion to UTC.</span></span> <span data-ttu-id="9e4d3-360">Если значение выходит за пределы допустимого диапазона времени в формате UTC, в случае OLE DB выдается сообщение об ошибке, а в случае ODBC создается запись диагностики ODBC с кодом SQLSTATE 22007 и сообщением «Недопустимый формат даты-времени».</span><span class="sxs-lookup"><span data-stu-id="9e4d3-360">If the value is not within the supported UTC range, an error is posted (OLE DB), or an ODBC diagnostic record is generated with SQLSTATE 22007 and the message "Invalid datetime format".</span></span>|  
|<span data-ttu-id="9e4d3-361">10</span><span class="sxs-lookup"><span data-stu-id="9e4d3-361">10</span></span>|<span data-ttu-id="9e4d3-362">Если в преобразовании с сервера на клиент происходит усечение с потерей данных, в случае OLE DB выдается сообщение об ошибке, а в случае ODBC создается запись диагностики ODBC с кодом SQLSTATE 22008 и сообщением «Недопустимый формат даты-времени».</span><span class="sxs-lookup"><span data-stu-id="9e4d3-362">If truncation with data loss occurs on a client to server conversion, an error is posted (OLE DB) or an ODBC diagnostic record is generated with SQLSTATE 22008 and the message "Datetime field overflow".</span></span> <span data-ttu-id="9e4d3-363">Эта ошибка также возникает в том случае, если значение выходит за пределы диапазона, который может быть представлен диапазоном времени в формате UTC, используемым сервером.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-363">This error also occurs if the value falls outside the range that can be represented by the UTC range used by the server.</span></span> <span data-ttu-id="9e4d3-364">Если в преобразовании с сервера на клиент происходит усечение секунд или долей секунд, выдается только предупреждение.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-364">If seconds or fractional seconds truncation occurs in a server to client conversion, there is only a warning.</span></span>|  
|<span data-ttu-id="9e4d3-365">11</span><span class="sxs-lookup"><span data-stu-id="9e4d3-365">11</span></span>|<span data-ttu-id="9e4d3-366">Если происходит усечение с потерей данных, создается запись диагностики.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-366">If truncation with data loss occurs, a diagnostic record is generated.</span></span><br /><br /> <span data-ttu-id="9e4d3-367">В преобразовании с сервера на клиент это предупреждение (ODBC SQLSTATE S1000).</span><span class="sxs-lookup"><span data-stu-id="9e4d3-367">On a server-to-client conversion, this is a warning (ODBC SQLSTATE S1000).</span></span><br /><br /> <span data-ttu-id="9e4d3-368">В преобразовании с клиента на сервер это ошибка (ODBC SQLSTATE 22001).</span><span class="sxs-lookup"><span data-stu-id="9e4d3-368">On a client-to-server conversion, this is an error (ODBC SQLSTATE 22001).</span></span>|  
|<span data-ttu-id="9e4d3-369">12</span><span class="sxs-lookup"><span data-stu-id="9e4d3-369">12</span></span>|<span data-ttu-id="9e4d3-370">Для секунд устанавливается значение 0, а доли секунды отбрасываются.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-370">Seconds are set to zero and fractional seconds are discarded.</span></span> <span data-ttu-id="9e4d3-371">Ошибка усечения невозможна.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-371">No truncation error is possible.</span></span>|  
|<span data-ttu-id="9e4d3-372">Недоступно</span><span class="sxs-lookup"><span data-stu-id="9e4d3-372">N/A</span></span>|<span data-ttu-id="9e4d3-373">Существующий способ работы [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] и более ранних версий сохранен.</span><span class="sxs-lookup"><span data-stu-id="9e4d3-373">Existing [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and earlier behavior is maintained.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="9e4d3-374">См. также:</span><span class="sxs-lookup"><span data-stu-id="9e4d3-374">See Also</span></span>  
 <span data-ttu-id="9e4d3-375">[Улучшения даты и времени &#40;ODBC&#41;](date-and-time-improvements-odbc.md) </span><span class="sxs-lookup"><span data-stu-id="9e4d3-375">[Date and Time Improvements &#40;ODBC&#41;](date-and-time-improvements-odbc.md) </span></span>  
 [<span data-ttu-id="9e4d3-376">Улучшения функций даты и времени &#40;OLE DB&#41;</span><span class="sxs-lookup"><span data-stu-id="9e4d3-376">Date and Time Improvements &#40;OLE DB&#41;</span></span>](../native-client-ole-db-date-time/date-and-time-improvements-ole-db.md)  
  
  

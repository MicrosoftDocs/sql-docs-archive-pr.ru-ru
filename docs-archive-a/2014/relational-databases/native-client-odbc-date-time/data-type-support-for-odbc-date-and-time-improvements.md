---
title: Поддержка типов данных для улучшений даты и времени ODBC | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- date/time [ODBC], data type support
- ODBC, date/time improvements
ms.assetid: 8e0d9ba2-3ec1-4680-86e3-b2590ba8e2e9
author: rothja
ms.author: jroth
ms.openlocfilehash: df0877a17ad8e2310db5c6e3ab4acd0c14d05611
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664159"
---
# <a name="data-type-support-for-odbc-date-and-time-improvements"></a><span data-ttu-id="fb15a-102">Поддержка типов данных для улучшений функций даты и времени ODBC</span><span class="sxs-lookup"><span data-stu-id="fb15a-102">Data Type Support for ODBC Date and Time Improvements</span></span>
  <span data-ttu-id="fb15a-103">Этот раздел содержит сведения о типах ODBC, поддерживающих типы данных даты и времени [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fb15a-103">This topic provides information about ODBC types that support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span>  
  
## <a name="data-type-mapping-in-parameters-and-resultsets"></a><span data-ttu-id="fb15a-104">Сопоставление типов данных в параметрах и результирующих наборах</span><span class="sxs-lookup"><span data-stu-id="fb15a-104">Data Type Mapping in Parameters and Resultsets</span></span>  
 <span data-ttu-id="fb15a-105">Кроме типов данных ODBC (SQL_TYPE_TIMESTAMP и SQL_TIMESTAMP), в ODBC-драйвер собственного клиента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] были добавлены два новых типа данных для представления новых типов серверов.</span><span class="sxs-lookup"><span data-stu-id="fb15a-105">In addition to the ODBC data types (SQL_TYPE_TIMESTAMP and SQL_TIMESTAMP), two new data types were added in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC to expose the new server types:</span></span>  
  
-   <span data-ttu-id="fb15a-106">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="fb15a-106">SQL_SS_TIME2</span></span>  
  
-   <span data-ttu-id="fb15a-107">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-107">SQL_SS_TIMESTAMPOFFSET</span></span>  
  
 <span data-ttu-id="fb15a-108">В следующей таблице показано полное сопоставление серверных типов данных.</span><span class="sxs-lookup"><span data-stu-id="fb15a-108">The following table shows the complete server-type mapping.</span></span> <span data-ttu-id="fb15a-109">Обратите внимание, что некоторые ячейки таблицы содержат по две записи. В таких случаях первая запись — это значение ODBC 3.0, а вторая — значение ODBC 2.0.</span><span class="sxs-lookup"><span data-stu-id="fb15a-109">Notice that some cells of the table contain two entries; in these cases, the first is the ODBC 3.0 value and the second is the ODBC 2.0 value.</span></span>  
  
|<span data-ttu-id="fb15a-110">Тип данных SQL Server</span><span class="sxs-lookup"><span data-stu-id="fb15a-110">SQL Server data type</span></span>|<span data-ttu-id="fb15a-111">Тип данных SQL</span><span class="sxs-lookup"><span data-stu-id="fb15a-111">SQL data type</span></span>|<span data-ttu-id="fb15a-112">Значение</span><span class="sxs-lookup"><span data-stu-id="fb15a-112">Value</span></span>|  
|--------------------------|-------------------|-----------|  
|<span data-ttu-id="fb15a-113">Datetime</span><span class="sxs-lookup"><span data-stu-id="fb15a-113">Datetime</span></span>|<span data-ttu-id="fb15a-114">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-114">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-115">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-115">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-116">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-116">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="fb15a-117">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-117">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="fb15a-118">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="fb15a-118">Smalldatetime</span></span>|<span data-ttu-id="fb15a-119">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-119">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-120">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-120">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-121">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-121">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="fb15a-122">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-122">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="fb15a-123">Дата</span><span class="sxs-lookup"><span data-stu-id="fb15a-123">Date</span></span>|<span data-ttu-id="fb15a-124">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-124">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="fb15a-125">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-125">SQL_DATE</span></span>|<span data-ttu-id="fb15a-126">91 (SQL. h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-126">91 (sql.h)</span></span><br /><br /> <span data-ttu-id="fb15a-127">9 (sqlext. h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-127">9 (sqlext.h)</span></span>|  
|<span data-ttu-id="fb15a-128">Time</span><span class="sxs-lookup"><span data-stu-id="fb15a-128">Time</span></span>|<span data-ttu-id="fb15a-129">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="fb15a-129">SQL_SS_TIME2</span></span>|<span data-ttu-id="fb15a-130">-154 (SQLNCLI. h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-130">-154 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="fb15a-131">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-131">DatetimeOFFSET</span></span>|<span data-ttu-id="fb15a-132">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-132">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="fb15a-133">-155 (SQLNCLI.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-133">-155 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="fb15a-134">Datetime2</span><span class="sxs-lookup"><span data-stu-id="fb15a-134">Datetime2</span></span>|<span data-ttu-id="fb15a-135">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-135">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-136">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-136">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-137">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-137">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="fb15a-138">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-138">11 (sqlext.h)</span></span>|  
  
 <span data-ttu-id="fb15a-139">В следующей таблице приведены соответствующие структуры и типы ODBC C.</span><span class="sxs-lookup"><span data-stu-id="fb15a-139">The following table lists the corresponding structures and ODBC C types.</span></span> <span data-ttu-id="fb15a-140">Поскольку ODBC не поддерживает типы C, определяемые драйвером, для представления данных time и datetimeoffset в виде двоичных структур используется тип SQL_C_BINARY.</span><span class="sxs-lookup"><span data-stu-id="fb15a-140">Because ODBC does not permit driver defined C types, SQL_C_BINARY is used for time and datetimeoffset as binary structures.</span></span>  
  
|<span data-ttu-id="fb15a-141">Тип данных SQL</span><span class="sxs-lookup"><span data-stu-id="fb15a-141">SQL data type</span></span>|<span data-ttu-id="fb15a-142">Организация памяти</span><span class="sxs-lookup"><span data-stu-id="fb15a-142">Memory layout</span></span>|<span data-ttu-id="fb15a-143">Тип данных C по умолчанию</span><span class="sxs-lookup"><span data-stu-id="fb15a-143">Default C data type</span></span>|<span data-ttu-id="fb15a-144">Значение (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-144">Value (sqlext.h)</span></span>|  
|-------------------|-------------------|-------------------------|------------------------|  
|<span data-ttu-id="fb15a-145">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-145">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-146">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-146">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-147">SQL_TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-147">SQL_TIMESTAMP_STRUCT</span></span><br /><br /> <span data-ttu-id="fb15a-148">TIMESTAMP_STRUCT;</span><span class="sxs-lookup"><span data-stu-id="fb15a-148">TIMESTAMP_STRUCT</span></span>|<span data-ttu-id="fb15a-149">SQL_C_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-149">SQL_C_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-150">SQL_C_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-150">SQL_C_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-151">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-151">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-152">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-152">SQL_TIMESTAMP</span></span>|  
|<span data-ttu-id="fb15a-153">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-153">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="fb15a-154">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-154">SQL_DATE</span></span>|<span data-ttu-id="fb15a-155">SQL_DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-155">SQL_DATE_STRUCT</span></span><br /><br /> <span data-ttu-id="fb15a-156">DATE_STRUCT;</span><span class="sxs-lookup"><span data-stu-id="fb15a-156">DATE_STRUCT</span></span>|<span data-ttu-id="fb15a-157">SQL_C_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-157">SQL_C_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="fb15a-158">SQL_C_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-158">SQL_C_DATE</span></span>|<span data-ttu-id="fb15a-159">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-159">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="fb15a-160">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-160">SQL_DATE</span></span>|  
|<span data-ttu-id="fb15a-161">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="fb15a-161">SQL_SS_TIME2</span></span>|<span data-ttu-id="fb15a-162">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-162">SQL_SS_TIME2_STRUCT</span></span>|<span data-ttu-id="fb15a-163">SQL_C_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="fb15a-163">SQL_C_SS_TIME2</span></span><br /><br /> <span data-ttu-id="fb15a-164">SQL_C_BINARY (ODBC 3.5 и ранее)</span><span class="sxs-lookup"><span data-stu-id="fb15a-164">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="fb15a-165">0x4000 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-165">0x4000 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="fb15a-166">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="fb15a-166">SQL_BINARY (-2)</span></span>|  
|<span data-ttu-id="fb15a-167">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-167">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="fb15a-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>|<span data-ttu-id="fb15a-169">SQL_C_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-169">SQL_C_SS_TIMESTAMPOFFSET</span></span><br /><br /> <span data-ttu-id="fb15a-170">SQL_C_BINARY (ODBC 3.5 и ранее)</span><span class="sxs-lookup"><span data-stu-id="fb15a-170">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="fb15a-171">0x4001 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="fb15a-171">0x4001 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="fb15a-172">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="fb15a-172">SQL_BINARY (-2)</span></span>|  
  
 <span data-ttu-id="fb15a-173">Если определена привязка SQL_C_BINARY, будет выполнена проверка выравнивания, и в случае неверного выравнивания будет выдана ошибка.</span><span class="sxs-lookup"><span data-stu-id="fb15a-173">When SQL_C_BINARY binding is specified, alignment checking will be performed and an error reported for incorrect alignment.</span></span> <span data-ttu-id="fb15a-174">Код SQLSTATE для этой ошибки равен IM016 с сообщением «Неверное выравнивание структуры».</span><span class="sxs-lookup"><span data-stu-id="fb15a-174">The SQLSTATE for this error will be IM016, with the message "Incorrect structure alignment".</span></span>  
  
## <a name="data-formats-strings-and-literals"></a><span data-ttu-id="fb15a-175">Форматы данных: строки и литералы</span><span class="sxs-lookup"><span data-stu-id="fb15a-175">Data Formats: Strings and Literals</span></span>  
 <span data-ttu-id="fb15a-176">В следующей таблице показано сопоставление типов данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и ODBC и строковых литералов ODBC.</span><span class="sxs-lookup"><span data-stu-id="fb15a-176">The following table shows the mappings between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data types, ODBC data types, and the ODBC string literals.</span></span>  
  
|<span data-ttu-id="fb15a-177">Тип данных SQL Server</span><span class="sxs-lookup"><span data-stu-id="fb15a-177">SQL Server data type</span></span>|<span data-ttu-id="fb15a-178">Тип данных ODBC</span><span class="sxs-lookup"><span data-stu-id="fb15a-178">ODBC data type</span></span>|<span data-ttu-id="fb15a-179">Формат строки для клиентских преобразований</span><span class="sxs-lookup"><span data-stu-id="fb15a-179">String format for client conversions</span></span>|  
|--------------------------|--------------------|------------------------------------------|  
|<span data-ttu-id="fb15a-180">Datetime</span><span class="sxs-lookup"><span data-stu-id="fb15a-180">Datetime</span></span>|<span data-ttu-id="fb15a-181">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-181">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-182">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-182">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-183">'гггг-мм-дд чч:мм:сс:[.999]'</span><span class="sxs-lookup"><span data-stu-id="fb15a-183">'yyyy-mm-dd hh:mm:ss[.999]'</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fb15a-184">для типа Datetime поддерживает значения долей секунды, состоящие из не более чем трех цифр.</span><span class="sxs-lookup"><span data-stu-id="fb15a-184">supports up to three fractional second digits for Datetime.</span></span>|  
|<span data-ttu-id="fb15a-185">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="fb15a-185">Smalldatetime</span></span>|<span data-ttu-id="fb15a-186">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-186">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-187">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-187">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-188">'yyyy-mm-dd hh:hh:ss'</span><span class="sxs-lookup"><span data-stu-id="fb15a-188">'yyyy-mm-dd hh:hh:ss'</span></span><br /><br /> <span data-ttu-id="fb15a-189">Точность этого типа данных составляет одну минуту.</span><span class="sxs-lookup"><span data-stu-id="fb15a-189">This data type has an accuracy of one minute.</span></span> <span data-ttu-id="fb15a-190">При выводе данных секунды будут равны нулю, а при вводе данных они округляются сервером.</span><span class="sxs-lookup"><span data-stu-id="fb15a-190">The seconds component will be zero on output and will be rounded by the server on input.</span></span>|  
|<span data-ttu-id="fb15a-191">Дата</span><span class="sxs-lookup"><span data-stu-id="fb15a-191">Date</span></span>|<span data-ttu-id="fb15a-192">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-192">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="fb15a-193">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="fb15a-193">SQL_DATE</span></span>|<span data-ttu-id="fb15a-194">'гггг-мм-дд'</span><span class="sxs-lookup"><span data-stu-id="fb15a-194">'yyyy-mm-dd'</span></span>|  
|<span data-ttu-id="fb15a-195">Time</span><span class="sxs-lookup"><span data-stu-id="fb15a-195">Time</span></span>|<span data-ttu-id="fb15a-196">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="fb15a-196">SQL_SS_TIME2</span></span>|<span data-ttu-id="fb15a-197">'чч:мм:сс[.9999999]'</span><span class="sxs-lookup"><span data-stu-id="fb15a-197">'hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="fb15a-198">Дополнительно можно указывать доли секунд до семи цифр.</span><span class="sxs-lookup"><span data-stu-id="fb15a-198">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="fb15a-199">Datetime2</span><span class="sxs-lookup"><span data-stu-id="fb15a-199">Datetime2</span></span>|<span data-ttu-id="fb15a-200">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-200">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="fb15a-201">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fb15a-201">SQL_TIMESTAMP</span></span>|<span data-ttu-id="fb15a-202">"гггг-мм-дд чч: мм: СС [. 9999999]"</span><span class="sxs-lookup"><span data-stu-id="fb15a-202">'yyyy-mm-dd hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="fb15a-203">Дополнительно можно указывать доли секунд до семи цифр.</span><span class="sxs-lookup"><span data-stu-id="fb15a-203">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="fb15a-204">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-204">DatetimeOFFSET</span></span>|<span data-ttu-id="fb15a-205">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="fb15a-205">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="fb15a-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span><span class="sxs-lookup"><span data-stu-id="fb15a-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span></span><br /><br /> <span data-ttu-id="fb15a-207">Дополнительно можно указывать доли секунд до семи цифр.</span><span class="sxs-lookup"><span data-stu-id="fb15a-207">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
  
 <span data-ttu-id="fb15a-208">В escape-последовательностях ODBC для литералов даты и времени изменений нет.</span><span class="sxs-lookup"><span data-stu-id="fb15a-208">There are no changes to the ODBC escape sequences for date/time literals.</span></span>  
  
 <span data-ttu-id="fb15a-209">Для обозначения долей секунды в результатах всегда используется точка (.), а не двоеточие (:).</span><span class="sxs-lookup"><span data-stu-id="fb15a-209">Fractional seconds in results always use a dot (.), rather than a colon (:).</span></span>  
  
 <span data-ttu-id="fb15a-210">Возвращаемые приложениям строковые значения всегда имеют одинаковую длину для заданного столбца.</span><span class="sxs-lookup"><span data-stu-id="fb15a-210">String values returned to applications are always the same length for a given column.</span></span> <span data-ttu-id="fb15a-211">Компонентам года, месяца, дня, часов, минут и секунд предшествуют ведущие нули для достижения максимальной длины, а в значениях datetime между датой и временем присутствует один пробел.</span><span class="sxs-lookup"><span data-stu-id="fb15a-211">Year, month, day, hour, minute, and second components are padded with leading zeros to their maximum width, and there is one space between date and time in datetime values.</span></span> <span data-ttu-id="fb15a-212">Также один пробел имеется между временем и сдвигом часового пояса в значении datetimeoffset.</span><span class="sxs-lookup"><span data-stu-id="fb15a-212">There is also one space between the time and timezone offset in a datetimeoffset value.</span></span> <span data-ttu-id="fb15a-213">Перед сдвигом часового пояса всегда стоит знак. Если сдвиг равен нулю, ставится плюс (+).</span><span class="sxs-lookup"><span data-stu-id="fb15a-213">A timezone offset is always preceded by a sign; when the offset is zero, this sign is a plus (+).</span></span> <span data-ttu-id="fb15a-214">Доли секунды при необходимости дополняются замыкающими нулями до заданной точности столбца.</span><span class="sxs-lookup"><span data-stu-id="fb15a-214">Fractional seconds are padded with trailing zeros if necessary, up to the defined precision for the column.</span></span> <span data-ttu-id="fb15a-215">В столбцах datetime для долей секунды предусмотрены три цифры.</span><span class="sxs-lookup"><span data-stu-id="fb15a-215">For datetime columns, there are three fractional seconds digits.</span></span> <span data-ttu-id="fb15a-216">В столбцах smalldatetime значение секунд всегда равно нулю, а цифр для долей секунд не предусмотрено.</span><span class="sxs-lookup"><span data-stu-id="fb15a-216">For smalldatetime columns, there are no fractional seconds' digits, and the seconds will always be zero.</span></span>  
  
 <span data-ttu-id="fb15a-217">Пустая строка не является допустимым литералом даты-времени, она не представляет значение NULL.</span><span class="sxs-lookup"><span data-stu-id="fb15a-217">An empty string is not a valid date/time literal and it does not represent a NULL value.</span></span> <span data-ttu-id="fb15a-218">Попытка преобразования пустой строки в значение даты-времени приведет к возникновению ошибки SQLState 22018 с сообщением «Недопустимое символьное значение для приведения».</span><span class="sxs-lookup"><span data-stu-id="fb15a-218">An attempt to convert an empty string to a date/time value will result in SQLState 22018 error and the message "Invalid character value for cast specification".</span></span>  
  
 <span data-ttu-id="fb15a-219">При преобразовании из строки параметры ожидаются в том же формате. Однако, если часы и минуты, представляющие часовой пояс, равны нулю, то перед элементом может стоять как плюс, так и минус, а для долей секунд разрешено использовать замыкающие нули, дополняющие значение до 9 цифр.</span><span class="sxs-lookup"><span data-stu-id="fb15a-219">Conversions from string parameters will expect strings in the same format, with the exceptions that the sign of a timezone with zero hours and zero minutes can be either plus or minus, and trailing zeros are allowed for fractional seconds up to a maximum of 9 digits.</span></span> <span data-ttu-id="fb15a-220">Время может завершаться десятичной запятой без указания цифр долей секунды.</span><span class="sxs-lookup"><span data-stu-id="fb15a-220">A time component can terminate with a decimal point and no fractional seconds digits.</span></span>  
  
 <span data-ttu-id="fb15a-221">В настоящее время драйвер допускает использование дополнительного пробела вокруг знаков препинания, а пробел между временем и часовым поясом является необязательным.</span><span class="sxs-lookup"><span data-stu-id="fb15a-221">Currently, the driver allows additional white space around punctuation characters and the space between time and timezone offset is optional.</span></span> <span data-ttu-id="fb15a-222">Однако, в следующих выпусках это может быть изменено. Приложениям не следует полагаться на текущее поведение драйвера.</span><span class="sxs-lookup"><span data-stu-id="fb15a-222">However, this might change in a future release; applications should not rely on the current behavior.</span></span>  
  
## <a name="data-formats-data-structures"></a><span data-ttu-id="fb15a-223">Форматы данных: структуры данных</span><span class="sxs-lookup"><span data-stu-id="fb15a-223">Data Formats: Data Structures</span></span>  
 <span data-ttu-id="fb15a-224">В описанных ниже структурах ODBC определяет следующие ограничения, накладываемые григорианским календарем.</span><span class="sxs-lookup"><span data-stu-id="fb15a-224">In the structures described below, ODBC specifies the following constraints, which are taken from the Gregorian calendar:</span></span>  
  
-   <span data-ttu-id="fb15a-225">Диапазон месяцев — от 1 до 12 включительно.</span><span class="sxs-lookup"><span data-stu-id="fb15a-225">Month range is 1 through 12.</span></span>  
  
-   <span data-ttu-id="fb15a-226">Диапазон поля даты — от 1 до количества дней в месяце включительно, он должен быть согласован с полями года и месяца с учетом високосного года.</span><span class="sxs-lookup"><span data-stu-id="fb15a-226">Day field range is 1 through the number of days in the month, and must be consistent with year and month fields, taking account of leap years.</span></span>  
  
-   <span data-ttu-id="fb15a-227">Диапазон часов — от 0 до 23 включительно.</span><span class="sxs-lookup"><span data-stu-id="fb15a-227">Hour range is 0 through 23.</span></span>  
  
-   <span data-ttu-id="fb15a-228">Диапазон минут — от 0 до 59 включительно.</span><span class="sxs-lookup"><span data-stu-id="fb15a-228">Minute range is 0 through 59.</span></span>  
  
-   <span data-ttu-id="fb15a-229">Диапазон секунд — от 0 до 61.9(...).</span><span class="sxs-lookup"><span data-stu-id="fb15a-229">Seconds range is 0 through 61.9(n).</span></span> <span data-ttu-id="fb15a-230">Это позволяет использовать до двух корректировочных секунд для синхронизации со звездным временем.</span><span class="sxs-lookup"><span data-stu-id="fb15a-230">This allows up to two leap seconds to maintain synchronization with sidereal time.</span></span>  
  
     <span data-ttu-id="fb15a-231">Следует иметь в виду, что [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не допускает использования корректировочных секунд, поэтому значения секунд больше 59 приведут к серверной ошибке.</span><span class="sxs-lookup"><span data-stu-id="fb15a-231">Note that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not allow leap seconds, so second values greater than 59 will cause a server error.</span></span>  
  
 <span data-ttu-id="fb15a-232">Реализация следующих существующих структур ODBC была изменена для поддержки новых типов данных времени и даты в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fb15a-232">Implementations for the following existing ODBC structs have been modified to support the new [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span> <span data-ttu-id="fb15a-233">При этом определения не изменились.</span><span class="sxs-lookup"><span data-stu-id="fb15a-233">The definitions, however, have not changed.</span></span>  
  
-   <span data-ttu-id="fb15a-234">DATE_STRUCT;</span><span class="sxs-lookup"><span data-stu-id="fb15a-234">DATE_STRUCT</span></span>  
  
-   <span data-ttu-id="fb15a-235">TIME_STRUCT;</span><span class="sxs-lookup"><span data-stu-id="fb15a-235">TIME_STRUCT</span></span>  
  
-   <span data-ttu-id="fb15a-236">TIMESTAMP_STRUCT;</span><span class="sxs-lookup"><span data-stu-id="fb15a-236">TIMESTAMP_STRUCT</span></span>  
  
 <span data-ttu-id="fb15a-237">Также добавлены две новых структуры.</span><span class="sxs-lookup"><span data-stu-id="fb15a-237">There are also two new structs:</span></span>  
  
-   <span data-ttu-id="fb15a-238">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-238">SQL_SS_TIME2_STRUCT</span></span>  
  
-   <span data-ttu-id="fb15a-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
### <a name="sql_ss_time2_struct"></a><span data-ttu-id="fb15a-240">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-240">SQL_SS_TIME2_STRUCT</span></span>  
 <span data-ttu-id="fb15a-241">Эта структура дополняется до 12 байт как в 32-разрядных, так и в 64-разрядных операционных системах.</span><span class="sxs-lookup"><span data-stu-id="fb15a-241">This struct is padded to 12 bytes on both 32-bit and 64-bit operating systems.</span></span>  
  
```  
typedef struct tagSS_TIME2_STRUCT {  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
} SQL_SS_TIME2_STRUCT;  
```  
  
### <a name="sql_ss_timestampoffset_struct"></a><span data-ttu-id="fb15a-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="fb15a-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
```  
typedef struct tagSS_TIMESTAMPOFFSET_STRUCT {  
   SQLSMALLINT year;  
   SQLUSMALLINT month;  
   SQLUSMALLINT day;  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
   SQLSMALLINT timezone_hour;  
   SQLSMALLINT timezone_minute;  
} SQL_SS_TIMESTAMPOFFSET_STRUCT;  
```  
  
 <span data-ttu-id="fb15a-243">Если значение `timezone_hour` отрицательно, значение `timezone_minute` также должно быть отрицательным или равным нулю.</span><span class="sxs-lookup"><span data-stu-id="fb15a-243">If the `timezone_hour` is negative, the `timezone_minute` must be negative or zero.</span></span> <span data-ttu-id="fb15a-244">Если значение `timezone_hour` положительно, значение `timezone_minute` должно быть положительным или равным нулю.</span><span class="sxs-lookup"><span data-stu-id="fb15a-244">If the `timezone_hour` is positive, the `timezone_minute` must be positive or zero.</span></span> <span data-ttu-id="fb15a-245">Если значение `timezone_hour` равно нулю, значение `timezone_minute` может быть любым в диапазоне от -59 до +59.</span><span class="sxs-lookup"><span data-stu-id="fb15a-245">If the `timezone_hour` is zero, the s`timezone_minute` may have any value in the range -59 through +59.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fb15a-246">См. также:</span><span class="sxs-lookup"><span data-stu-id="fb15a-246">See Also</span></span>  
 [<span data-ttu-id="fb15a-247">Улучшения даты и времени &#40;ODBC&#41;</span><span class="sxs-lookup"><span data-stu-id="fb15a-247">Date and Time Improvements &#40;ODBC&#41;</span></span>](date-and-time-improvements-odbc.md)  
  
  

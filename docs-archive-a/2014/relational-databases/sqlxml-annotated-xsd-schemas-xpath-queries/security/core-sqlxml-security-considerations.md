---
title: Вопросы безопасности основных SQLXML | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: reference
helpviewer_keywords:
- security [SQLXML], about security
ms.assetid: 330cd2ff-d5d5-4c8e-8f93-0869c977be94
author: rothja
ms.author: jroth
ms.openlocfilehash: eceaa28ff4d1a7b998a51b07df3b1076cf524e81
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669387"
---
# <a name="core-sqlxml-security-considerations"></a><span data-ttu-id="51bc0-102">Основные проблемы безопасности SQLXML</span><span class="sxs-lookup"><span data-stu-id="51bc0-102">Core SQLXML Security Considerations</span></span>
  <span data-ttu-id="51bc0-103">Далее приведены рекомендации по безопасности при использовании SQLXML для доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="51bc0-103">The following are security guidelines for using SQLXML for data access.</span></span>  
  
-   <span data-ttu-id="51bc0-104">Поставщик SQLXMLOLEDB имеет свойство `StreamFlags`, которое позволяет устанавливать флаги, указывающие, какие функции SQLXML следует включить или отключить для каждого конкретного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="51bc0-104">The SQLXMLOLEDB provider exposes a `StreamFlags` property which allows you to set flags indicating what SQLXML functionality should be enabled or disabled for each specific instance.</span></span> <span data-ttu-id="51bc0-105">При помощи этого свойства можно настраивать использование SQLXML, а также гарантировать, что работать будут только требуемые компоненты.</span><span class="sxs-lookup"><span data-stu-id="51bc0-105">You can use this property to customize your use of SQLXML and to make sure that only the components you want are enabled.</span></span> <span data-ttu-id="51bc0-106">Дополнительные сведения см. в разделе [SQLXMLOLEDB Provider &#40;SQLXML 4,0&#41;](../../../database-engine/dev-guide/sqlxmloledb-provider-sqlxml-4-0.md).</span><span class="sxs-lookup"><span data-stu-id="51bc0-106">For more information, see [SQLXMLOLEDB Provider &#40;SQLXML 4.0&#41;](../../../database-engine/dev-guide/sqlxmloledb-provider-sqlxml-4-0.md).</span></span>  
  
-   <span data-ttu-id="51bc0-107">Когда возникают и возвращаются ошибки SQLXML, они могут содержать такие сведения о схеме базы данных, как имена таблиц, имена столбцов или сведения о типе.</span><span class="sxs-lookup"><span data-stu-id="51bc0-107">When SQLXML errors occur and are returned, they can include information about the database schema such as table names, column names or type information.</span></span> <span data-ttu-id="51bc0-108">При обработке этих ошибок следует соблюдать осторожность с тем, чтобы сведения об установке [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не стали доступными пользователям, когда в этом нет необходимости.</span><span class="sxs-lookup"><span data-stu-id="51bc0-108">You should use care when handling these errors so that information about your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation is not easily discoverable by users where it is not intended or needed.</span></span>  
  
-   <span data-ttu-id="51bc0-109">SQLXML (при его использовании для выполнения запроса или отправки обновлений на [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) не устанавливает ограничений на объем данных, обмен которыми производится, и не выполняет каких-либо проверок размера полезных данных SQLXML перед их обработкой.</span><span class="sxs-lookup"><span data-stu-id="51bc0-109">When used to either query or send updates to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], SQLXML sets no limit on the amount of data that can be exchanged and does not do any checking on the size of data in a SQLXML payload before attempting to process it.</span></span> <span data-ttu-id="51bc0-110">При разработке приложения с использованием SQLXML следует самостоятельно позаботиться о наличии достаточного объема памяти в системе для обработки этих данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-110">When you develop your application using SQLXML, it is your responsibility to ensure there is enough memory on the system to process the data.</span></span> <span data-ttu-id="51bc0-111">Например, при запросе данных с сервера следует проверить, что на клиенте достаточно свободной памяти, чтобы принять их.</span><span class="sxs-lookup"><span data-stu-id="51bc0-111">For example, when querying data from the server, you should verify there is enough room in memory on the client to receive it.</span></span> <span data-ttu-id="51bc0-112">Точно так же при загрузке данных на сервер необходимо проверить наличие достаточного объема свободной памяти на сервере для их обработки, а также достаточного объема свободного дискового пространства на сервере для хранения данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-112">Likewise, if you are loading data to the server, you need to verify there is enough available memory on the server to process it and enough available disk storage space on the server to store the data.</span></span>  
  
-   <span data-ttu-id="51bc0-113">SQLXML динамически формирует запросы [!INCLUDE[tsql](../../../includes/tsql-md.md)] и команды обновления и отправляет их на [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] для выполнения.</span><span class="sxs-lookup"><span data-stu-id="51bc0-113">SQLXML dynamically generates [!INCLUDE[tsql](../../../includes/tsql-md.md)] queries and update commands and sends them to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] for execution.</span></span> <span data-ttu-id="51bc0-114">SQLXML выполняет запросы и обновляет сервер только таким образом.</span><span class="sxs-lookup"><span data-stu-id="51bc0-114">This is the only way in which SQLXML queries and updates the server.</span></span> <span data-ttu-id="51bc0-115">Результаты будут получены либо в виде потока (XML-данных), либо как набор строк.</span><span class="sxs-lookup"><span data-stu-id="51bc0-115">Results will be received either as a stream (of XML) or as a rowset.</span></span>  
  
-   <span data-ttu-id="51bc0-116">SQLXML (при получении результатов запроса) не предпринимает каких-либо действий, исходя из содержимого получаемых данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-116">When receiving query results, SQLXML takes no actions based on the content of the data that it receives.</span></span> <span data-ttu-id="51bc0-117">Никакой дополнительной обработки на основе типа или содержимого данных не производится.</span><span class="sxs-lookup"><span data-stu-id="51bc0-117">No additional processing is done based on the type or contents of the data.</span></span> <span data-ttu-id="51bc0-118">Данные никогда не рассматриваются как код, с помощью которого нужно выполнять действия.</span><span class="sxs-lookup"><span data-stu-id="51bc0-118">The data is never treated as code with which to execute actions.</span></span>  
  
-   <span data-ttu-id="51bc0-119">При выполнении шаблонов XML SQLXML переводит запросы XPath и DBObject, содержащиеся в отправленном шаблоне, в команды [!INCLUDE[tsql](../../../includes/tsql-md.md)], которые затем выполняются на [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="51bc0-119">When executing XML Templates, SQLXML translates the XPath and DBObject queries contained within the submitted template into [!INCLUDE[tsql](../../../includes/tsql-md.md)] commands that are then executed against [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="51bc0-120">Только эти команды всегда затрагивают существующие данные.</span><span class="sxs-lookup"><span data-stu-id="51bc0-120">These commands only ever affect existing data.</span></span> <span data-ttu-id="51bc0-121">Команды, сформированные SQLXML, никогда не изменяют структуру базы данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-121">Commands generated by SQLXML will never alter the structure of the database.</span></span> <span data-ttu-id="51bc0-122">Пользователь должен явным образом дать команду на изменение структуры базы данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-122">Users must issue explicit commands to alter the database structure.</span></span> <span data-ttu-id="51bc0-123">Для этого можно, например, включить их в блок `sql:query` шаблона.</span><span class="sxs-lookup"><span data-stu-id="51bc0-123">For example, by including them in a `sql:query` block of a template.</span></span>  
  
-   <span data-ttu-id="51bc0-124">При выполнении запросов DBObject и инструкций XPath над файлами сопоставлений SQLXML никак не меняет данные в базе данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-124">When executing DBObject queries and XPath statements over mapping files, SQLXML will not alter the data in the database in any way.</span></span>  
  
-   <span data-ttu-id="51bc0-125">SQLXML может внести изменение в форматирование определенных данных, исходя из различий между моделями данных XML и [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="51bc0-125">SQLXML may make formatting changes to the given data based on differences between the XML and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] data models.</span></span> <span data-ttu-id="51bc0-126">Например, различаются форматы задания времени.</span><span class="sxs-lookup"><span data-stu-id="51bc0-126">For example, the format for specifying a time is different.</span></span> <span data-ttu-id="51bc0-127">SQLXML попытается разрешить эти различия.</span><span class="sxs-lookup"><span data-stu-id="51bc0-127">SQLXML will attempt to resolve these differences.</span></span> <span data-ttu-id="51bc0-128">В результате некоторая часть данных о точности может быть потеряна.</span><span class="sxs-lookup"><span data-stu-id="51bc0-128">As a result, some precision information may be lost.</span></span>  
  
-   <span data-ttu-id="51bc0-129">SQLXML не ограничивает количество времени, которое требуется для обработки данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-129">SQLXML sets no limit on the amount of time it takes to process the data.</span></span> <span data-ttu-id="51bc0-130">Обработка будет выполняться до возникновения ошибки либо завершения обработки.</span><span class="sxs-lookup"><span data-stu-id="51bc0-130">Processing will continue until an error occurs or processing is complete.</span></span>  
  
-   <span data-ttu-id="51bc0-131">SQLXML не выполняет запись в файловую систему.</span><span class="sxs-lookup"><span data-stu-id="51bc0-131">SQLXML does not write to the file system.</span></span> <span data-ttu-id="51bc0-132">Если пользователям требуется сохранить данные, получаемые из базы данных, им придется выполнить сохранение в коде.</span><span class="sxs-lookup"><span data-stu-id="51bc0-132">If users wish to save the data they retrieve from the database, they must do this in their code.</span></span>  
  
-   <span data-ttu-id="51bc0-133">SQLXML позволяет пользователям выполнять любой SQL-запрос к базе данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-133">SQLXML allows users to execute any SQL query they like against the database.</span></span> <span data-ttu-id="51bc0-134">Эту функциональность не следует делать доступной для небезопасного или неуправляемого источника, поскольку по сути это является открытием базы данных для любых пользователей.</span><span class="sxs-lookup"><span data-stu-id="51bc0-134">This functionality should never be exposed to an unsecure or uncontrolled source, as this is essentially opening up the SQL database without provision to any users.</span></span>  
  
-   <span data-ttu-id="51bc0-135">При выполнении диаграмм обновления SQLXML переводит блоки `updg:sync` в команды DELETE, UPDATE и INSERT, выполняемые на экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="51bc0-135">When executing Updategrams, SQLXML translates the `updg:sync` blocks into DELETE, UPDATE, and INSERT commands against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="51bc0-136">Только эти команды всегда затрагивают существующие данные.</span><span class="sxs-lookup"><span data-stu-id="51bc0-136">These commands only ever affect existing data.</span></span> <span data-ttu-id="51bc0-137">Команды, сформированные SQLXML, никогда не изменяют базу данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-137">Commands generated by SQLXML will never alter the database.</span></span> <span data-ttu-id="51bc0-138">Пользователь должен явным образом дать команду на изменение структуры базы данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-138">Users must issue explicit commands to alter the database structure.</span></span> <span data-ttu-id="51bc0-139">Для этого можно, например, включить их в блок `sql:query` шаблона.</span><span class="sxs-lookup"><span data-stu-id="51bc0-139">For example, by including them in a `sql:query` block of a template.</span></span>  
  
-   <span data-ttu-id="51bc0-140">При выполнении дельты SQLXML переводит дельту в команды DELETE, UPDATE и INSERT, выполняемые на экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="51bc0-140">When executing DiffGrams, SQLXML translates the DiffGram into DELETE, UPDATE, and INSERT commands against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="51bc0-141">Только эти команды всегда затрагивают существующие данные.</span><span class="sxs-lookup"><span data-stu-id="51bc0-141">These commands only ever affect existing data.</span></span> <span data-ttu-id="51bc0-142">Команды, сформированные SQLXML, никогда не изменяют базу данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-142">Commands generated by SQLXML will never alter the database.</span></span> <span data-ttu-id="51bc0-143">Пользователь должен явным образом дать команду на изменение структуры базы данных.</span><span class="sxs-lookup"><span data-stu-id="51bc0-143">Users must issue explicit commands to alter the database structure.</span></span> <span data-ttu-id="51bc0-144">Для этого можно, например, включить их в блок `sql:query` шаблона.</span><span class="sxs-lookup"><span data-stu-id="51bc0-144">For example, by including them in a `sql:query` block of a template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="51bc0-145">См. также:</span><span class="sxs-lookup"><span data-stu-id="51bc0-145">See Also</span></span>  
 [<span data-ttu-id="51bc0-146">Проблемы безопасности SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="51bc0-146">SQLXML 4.0 Security Considerations</span></span>](sqlxml-4-0-security-considerations.md)  
  
  

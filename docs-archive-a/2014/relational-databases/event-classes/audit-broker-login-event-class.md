---
title: Класс событий Audit Broker Login | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Audit Broker Login event class
ms.assetid: af9b1153-2791-40ef-a95c-50923cd0cc97
author: stevestein
ms.author: sstein
ms.openlocfilehash: 200ef467f5c1fc64e4d5056cb60fc442ec998f77
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732677"
---
# <a name="audit-broker-login-event-class"></a><span data-ttu-id="7ae09-102">Audit Broker Login, класс событий</span><span class="sxs-lookup"><span data-stu-id="7ae09-102">Audit Broker Login Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="7ae09-103">создает событие **Audit Broker Login** для информирования о сообщениях аудита, связанных с механизмом обеспечения безопасности транспорта, реализованным в компоненте Service Broker.</span><span class="sxs-lookup"><span data-stu-id="7ae09-103">creates an **Audit Broker Login** event to report audit messages related to Service Broker transport security.</span></span>  
  
## <a name="audit-broker-login-event-class-data-columns"></a><span data-ttu-id="7ae09-104">Столбцы класса событий Audit Broker Login</span><span class="sxs-lookup"><span data-stu-id="7ae09-104">Audit Broker Login Event Class Data Columns</span></span>  
  
|<span data-ttu-id="7ae09-105">Столбец данных</span><span class="sxs-lookup"><span data-stu-id="7ae09-105">Data column</span></span>|<span data-ttu-id="7ae09-106">Тип</span><span class="sxs-lookup"><span data-stu-id="7ae09-106">Type</span></span>|<span data-ttu-id="7ae09-107">Описание</span><span class="sxs-lookup"><span data-stu-id="7ae09-107">Description</span></span>|<span data-ttu-id="7ae09-108">Номер столбца</span><span class="sxs-lookup"><span data-stu-id="7ae09-108">Column number</span></span>|<span data-ttu-id="7ae09-109">Фильтруемый</span><span class="sxs-lookup"><span data-stu-id="7ae09-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="7ae09-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-110">**ApplicationName**</span></span>|<span data-ttu-id="7ae09-111">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-111">**nvarchar**</span></span>|<span data-ttu-id="7ae09-112">Не используется в этом классе событий.</span><span class="sxs-lookup"><span data-stu-id="7ae09-112">Unused in this event class.</span></span>|<span data-ttu-id="7ae09-113">10</span><span class="sxs-lookup"><span data-stu-id="7ae09-113">10</span></span>|<span data-ttu-id="7ae09-114">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-114">Yes</span></span>|  
|<span data-ttu-id="7ae09-115">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="7ae09-115">**ClientProcessID**</span></span>|<span data-ttu-id="7ae09-116">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-116">**int**</span></span>|<span data-ttu-id="7ae09-117">Не используется в этом классе событий.</span><span class="sxs-lookup"><span data-stu-id="7ae09-117">Unused in this event class.</span></span>|<span data-ttu-id="7ae09-118">9</span><span class="sxs-lookup"><span data-stu-id="7ae09-118">9</span></span>|<span data-ttu-id="7ae09-119">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-119">Yes</span></span>|  
|<span data-ttu-id="7ae09-120">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="7ae09-120">**DatabaseID**</span></span>|<span data-ttu-id="7ae09-121">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-121">**int**</span></span>|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="7ae09-122">отображает имя базы данных, если столбец данных **ServerName** захвачен при трассировке и сервер доступен.</span><span class="sxs-lookup"><span data-stu-id="7ae09-122">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="7ae09-123">Определите значение для базы данных, используя функцию DB_ID.</span><span class="sxs-lookup"><span data-stu-id="7ae09-123">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="7ae09-124">3</span><span class="sxs-lookup"><span data-stu-id="7ae09-124">3</span></span>|<span data-ttu-id="7ae09-125">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-125">Yes</span></span>|  
|<span data-ttu-id="7ae09-126">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="7ae09-126">**EventClass**</span></span>|<span data-ttu-id="7ae09-127">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-127">**int**</span></span>|<span data-ttu-id="7ae09-128">Тип захваченного класса событий.</span><span class="sxs-lookup"><span data-stu-id="7ae09-128">The type of event class captured.</span></span> <span data-ttu-id="7ae09-129">В случае класса событий **Audit Broker Login** это значение всегда равно **159**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-129">Always **159** for **Audit Broker Login**.</span></span>|<span data-ttu-id="7ae09-130">27</span><span class="sxs-lookup"><span data-stu-id="7ae09-130">27</span></span>|<span data-ttu-id="7ae09-131">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-131">No</span></span>|  
|<span data-ttu-id="7ae09-132">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="7ae09-132">**EventSequence**</span></span>|<span data-ttu-id="7ae09-133">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-133">**int**</span></span>|<span data-ttu-id="7ae09-134">Порядковый номер этого события.</span><span class="sxs-lookup"><span data-stu-id="7ae09-134">Sequence number for this event.</span></span>|<span data-ttu-id="7ae09-135">51</span><span class="sxs-lookup"><span data-stu-id="7ae09-135">51</span></span>|<span data-ttu-id="7ae09-136">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-136">No</span></span>|  
|<span data-ttu-id="7ae09-137">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="7ae09-137">**EventSubClass**</span></span>|<span data-ttu-id="7ae09-138">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-138">**int**</span></span>|<span data-ttu-id="7ae09-139">Тип подкласса событий, предоставляющий дополнительные сведения о каждом классе события.</span><span class="sxs-lookup"><span data-stu-id="7ae09-139">The type of event subclass, providing further information about each event class.</span></span> <span data-ttu-id="7ae09-140">Приведенная ниже таблица содержит список подклассов для данного класса событий.</span><span class="sxs-lookup"><span data-stu-id="7ae09-140">The table below lists the event subclass values for this event.</span></span>|<span data-ttu-id="7ae09-141">21</span><span class="sxs-lookup"><span data-stu-id="7ae09-141">21</span></span>|<span data-ttu-id="7ae09-142">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-142">Yes</span></span>|  
|<span data-ttu-id="7ae09-143">**FileName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-143">**FileName**</span></span>|<span data-ttu-id="7ae09-144">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-144">**nvarchar**</span></span>|<span data-ttu-id="7ae09-145">Уровень проверки подлинности удаленного брокера.</span><span class="sxs-lookup"><span data-stu-id="7ae09-145">Remote broker authentication level.</span></span> <span data-ttu-id="7ae09-146">Поддерживаемый метод проверки подлинности конфигурируется на конечной точке удаленного брокера.</span><span class="sxs-lookup"><span data-stu-id="7ae09-146">Supported authentication method configured on the remote broker endpoint.</span></span> <span data-ttu-id="7ae09-147">Если доступен более чем один метод, принимающая (целевая) конечная точка определяет, какой метод использовать первым.</span><span class="sxs-lookup"><span data-stu-id="7ae09-147">When more than one method is available, the accepting (target) endpoint determines which method is tried first.</span></span> <span data-ttu-id="7ae09-148">Возможны следующие значения:</span><span class="sxs-lookup"><span data-stu-id="7ae09-148">Possible values are:</span></span><br /><br /> <span data-ttu-id="7ae09-149">**Нет**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-149">**None**.</span></span> <span data-ttu-id="7ae09-150">Не настроен ни один метод проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-150">No authentication method is configured.</span></span><br /><br /> <span data-ttu-id="7ae09-151">**NTLM**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-151">**NTLM**.</span></span> <span data-ttu-id="7ae09-152">Требуется проверка подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="7ae09-152">Requires NTLM authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-153">**KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-153">**KERBEROS**.</span></span> <span data-ttu-id="7ae09-154">Требуется проверка подлинности Kerberos.</span><span class="sxs-lookup"><span data-stu-id="7ae09-154">Requires Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-155">**NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-155">**NEGOTIATE**.</span></span> <span data-ttu-id="7ae09-156">Windows согласовывает метод проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-156">Windows negotiates the authentication method.</span></span><br /><br /> <span data-ttu-id="7ae09-157">**CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-157">**CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-158">Требуется сертификат, настроенный для конечной точки, который хранится в базе данных **master** .</span><span class="sxs-lookup"><span data-stu-id="7ae09-158">Requires the certificate configured for the endpoint, which is stored in the **master** database.</span></span><br /><br /> <span data-ttu-id="7ae09-159">**NTLM, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-159">**NTLM, CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-160">Допустимы проверка подлинности NTLM или сертификат SSL.</span><span class="sxs-lookup"><span data-stu-id="7ae09-160">Accepts NTLM or SSL certificate authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-161">**KERBEROS, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-161">**KERBEROS, CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-162">Допустимы проверка подлинности Kerberos или сертификат конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7ae09-162">Accepts Kerberos or the endpoint certificate authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-163">**NEGOTIATE, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-163">**NEGOTIATE, CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-164">Windows согласовывает метод проверки подлинности, или же для проверки подлинности может быть использован сертификат конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7ae09-164">Windows negotiates the authentication method or an endpoint certificate can be used for authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-165">**CERTIFICATE, NTLM**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-165">**CERTIFICATE, NTLM**.</span></span> <span data-ttu-id="7ae09-166">Допустимы сертификат конечной точки или проверка подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="7ae09-166">Accepts an endpoint certificate or NTLM for authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-167">**CERTIFICATE, KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-167">**CERTIFICATE, KERBEROS**.</span></span> <span data-ttu-id="7ae09-168">Допустимы сертификат конечной точки или проверка подлинности Kerberos.</span><span class="sxs-lookup"><span data-stu-id="7ae09-168">Accepts an endpoint certificate or Kerberos for authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-169">**CERTIFICATE, NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-169">**CERTIFICATE, NEGOTIATE**.</span></span> <span data-ttu-id="7ae09-170">Принимается сертификат конечной точки для проверки подлинности, или Windows согласовывает метод проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-170">Accepts an endpoint certificate for authentication or Windows negotiates the authentication method..</span></span>|<span data-ttu-id="7ae09-171">36</span><span class="sxs-lookup"><span data-stu-id="7ae09-171">36</span></span>|<span data-ttu-id="7ae09-172">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-172">No</span></span>|  
|<span data-ttu-id="7ae09-173">**HostName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-173">**HostName**</span></span>|<span data-ttu-id="7ae09-174">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-174">**nvarchar**</span></span>|<span data-ttu-id="7ae09-175">Не используется в этом классе событий.</span><span class="sxs-lookup"><span data-stu-id="7ae09-175">Unused in this event class.</span></span>|<span data-ttu-id="7ae09-176">8</span><span class="sxs-lookup"><span data-stu-id="7ae09-176">8</span></span>|<span data-ttu-id="7ae09-177">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-177">Yes</span></span>|  
|<span data-ttu-id="7ae09-178">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="7ae09-178">**IsSystem**</span></span>|<span data-ttu-id="7ae09-179">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-179">**int**</span></span>|<span data-ttu-id="7ae09-180">Указывает, произошло событие в системном или в пользовательском процессе.</span><span class="sxs-lookup"><span data-stu-id="7ae09-180">Indicates whether the event occurred on a system process or a user process.</span></span> <span data-ttu-id="7ae09-181">1 = системный, 0 = пользовательский.</span><span class="sxs-lookup"><span data-stu-id="7ae09-181">1 = system, 0 = user.</span></span>|<span data-ttu-id="7ae09-182">60</span><span class="sxs-lookup"><span data-stu-id="7ae09-182">60</span></span>|<span data-ttu-id="7ae09-183">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-183">No</span></span>|  
|<span data-ttu-id="7ae09-184">**LoginSid**</span><span class="sxs-lookup"><span data-stu-id="7ae09-184">**LoginSid**</span></span>|<span data-ttu-id="7ae09-185">**image**</span><span class="sxs-lookup"><span data-stu-id="7ae09-185">**image**</span></span>|<span data-ttu-id="7ae09-186">Идентификатор безопасности вошедшего в систему пользователя.</span><span class="sxs-lookup"><span data-stu-id="7ae09-186">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="7ae09-187">Значение идентификатора безопасности уникально для каждого имени входа на сервере.</span><span class="sxs-lookup"><span data-stu-id="7ae09-187">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="7ae09-188">41</span><span class="sxs-lookup"><span data-stu-id="7ae09-188">41</span></span>|<span data-ttu-id="7ae09-189">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-189">Yes</span></span>|  
|<span data-ttu-id="7ae09-190">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-190">**NTDomainName**</span></span>|<span data-ttu-id="7ae09-191">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-191">**nvarchar**</span></span>|<span data-ttu-id="7ae09-192">Домен Windows, к которому принадлежит пользователь.</span><span class="sxs-lookup"><span data-stu-id="7ae09-192">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="7ae09-193">7</span><span class="sxs-lookup"><span data-stu-id="7ae09-193">7</span></span>|<span data-ttu-id="7ae09-194">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-194">Yes</span></span>|  
|<span data-ttu-id="7ae09-195">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-195">**NTUserName**</span></span>|<span data-ttu-id="7ae09-196">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-196">**nvarchar**</span></span>|<span data-ttu-id="7ae09-197">Имя пользователя, которому принадлежит соединение, создавшее это событие.</span><span class="sxs-lookup"><span data-stu-id="7ae09-197">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="7ae09-198">6</span><span class="sxs-lookup"><span data-stu-id="7ae09-198">6</span></span>|<span data-ttu-id="7ae09-199">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-199">Yes</span></span>|  
|<span data-ttu-id="7ae09-200">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-200">**ObjectName**</span></span>|<span data-ttu-id="7ae09-201">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-201">**nvarchar**</span></span>|<span data-ttu-id="7ae09-202">Строка соединения, использованная для этого соединения.</span><span class="sxs-lookup"><span data-stu-id="7ae09-202">The connect string used for this connection.</span></span>|<span data-ttu-id="7ae09-203">34</span><span class="sxs-lookup"><span data-stu-id="7ae09-203">34</span></span>|<span data-ttu-id="7ae09-204">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-204">No</span></span>|  
|<span data-ttu-id="7ae09-205">**OwnerName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-205">**OwnerName**</span></span>|<span data-ttu-id="7ae09-206">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-206">**nvarchar**</span></span>|<span data-ttu-id="7ae09-207">Поддерживаемый метод проверки подлинности, настроенный на конечной точке удаленного брокера.</span><span class="sxs-lookup"><span data-stu-id="7ae09-207">Supported authentication method configured on the local broker endpoint.</span></span> <span data-ttu-id="7ae09-208">Если доступен более чем один метод, принимающая (целевая) конечная точка определяет, какой метод использовать первым.</span><span class="sxs-lookup"><span data-stu-id="7ae09-208">When more than one method is available, the accepting (target) endpoint determines which method is tried first.</span></span> <span data-ttu-id="7ae09-209">Возможны следующие значения:</span><span class="sxs-lookup"><span data-stu-id="7ae09-209">Possible values are:</span></span><br /><br /> <span data-ttu-id="7ae09-210">**Нет**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-210">**None**.</span></span> <span data-ttu-id="7ae09-211">Не настроен ни один метод проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-211">No authentication method is configured.</span></span><br /><br /> <span data-ttu-id="7ae09-212">**NTLM**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-212">**NTLM**.</span></span> <span data-ttu-id="7ae09-213">Требуется проверка подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="7ae09-213">Requires NTLM authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-214">**KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-214">**KERBEROS**.</span></span> <span data-ttu-id="7ae09-215">Требуется проверка подлинности Kerberos.</span><span class="sxs-lookup"><span data-stu-id="7ae09-215">Requires Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-216">**NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-216">**NEGOTIATE**.</span></span> <span data-ttu-id="7ae09-217">Windows согласовывает метод проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-217">Windows negotiates the authentication method.</span></span><br /><br /> <span data-ttu-id="7ae09-218">**CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-218">**CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-219">Требуется сертификат, настроенный для конечной точки, который хранится в базе данных **master** .</span><span class="sxs-lookup"><span data-stu-id="7ae09-219">Requires the certificate configured for the endpoint, which is stored in the **master** database.</span></span><br /><br /> <span data-ttu-id="7ae09-220">**NTLM, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-220">**NTLM, CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-221">Допустимы проверка подлинности NTLM или сертификат SSL.</span><span class="sxs-lookup"><span data-stu-id="7ae09-221">Accepts NTLM or SSL certificate authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-222">**KERBEROS, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-222">**KERBEROS, CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-223">Допустимы проверка подлинности Kerberos или сертификат конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7ae09-223">Accepts Kerberos or the endpoint certificate authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-224">**NEGOTIATE, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-224">**NEGOTIATE, CERTIFICATE**.</span></span> <span data-ttu-id="7ae09-225">Windows согласовывает метод проверки подлинности, или же для проверки подлинности может быть использован сертификат конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7ae09-225">Windows negotiates the authentication method or an endpoint certificate can be used for authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-226">**CERTIFICATE, NTLM**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-226">**CERTIFICATE, NTLM**.</span></span> <span data-ttu-id="7ae09-227">При проверке подлинности принимается сертификат конечной точки или метод NTLM.</span><span class="sxs-lookup"><span data-stu-id="7ae09-227">Accepts an endpoint certificate or for NTLM authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-228">**CERTIFICATE, KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-228">**CERTIFICATE, KERBEROS**.</span></span> <span data-ttu-id="7ae09-229">Допустимы сертификат конечной точки или проверка подлинности Kerberos.</span><span class="sxs-lookup"><span data-stu-id="7ae09-229">Accepts an endpoint certificate or Kerberos for authentication.</span></span><br /><br /> <span data-ttu-id="7ae09-230">**CERTIFICATE, NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-230">**CERTIFICATE, NEGOTIATE**.</span></span> <span data-ttu-id="7ae09-231">Принимается сертификат конечной точки для проверки подлинности, или Windows согласовывает метод проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-231">Accepts an endpoint certificate for authentication or Windows negotiates the authentication method..</span></span>|<span data-ttu-id="7ae09-232">37</span><span class="sxs-lookup"><span data-stu-id="7ae09-232">37</span></span>|<span data-ttu-id="7ae09-233">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-233">No</span></span>|  
|<span data-ttu-id="7ae09-234">**ProviderName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-234">**ProviderName**</span></span>|<span data-ttu-id="7ae09-235">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-235">**nvarchar**</span></span>|<span data-ttu-id="7ae09-236">Метод проверки подлинности, использованный для этого соединения.</span><span class="sxs-lookup"><span data-stu-id="7ae09-236">The authentication method used for this connection</span></span>|<span data-ttu-id="7ae09-237">46</span><span class="sxs-lookup"><span data-stu-id="7ae09-237">46</span></span>|<span data-ttu-id="7ae09-238">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-238">No</span></span>|  
|<span data-ttu-id="7ae09-239">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-239">**RoleName**</span></span>|<span data-ttu-id="7ae09-240">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-240">**nvarchar**</span></span>|<span data-ttu-id="7ae09-241">Роль соединения.</span><span class="sxs-lookup"><span data-stu-id="7ae09-241">The role of the connection.</span></span> <span data-ttu-id="7ae09-242">Это либо **initiator** , либо **target**.</span><span class="sxs-lookup"><span data-stu-id="7ae09-242">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="7ae09-243">38</span><span class="sxs-lookup"><span data-stu-id="7ae09-243">38</span></span>|<span data-ttu-id="7ae09-244">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-244">No</span></span>|  
|<span data-ttu-id="7ae09-245">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-245">**ServerName**</span></span>|<span data-ttu-id="7ae09-246">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-246">**nvarchar**</span></span>|<span data-ttu-id="7ae09-247">Имя экземпляра SQL Server, который отслеживается в настоящий момент.</span><span class="sxs-lookup"><span data-stu-id="7ae09-247">The name of the instance of SQL Server being traced.</span></span>|<span data-ttu-id="7ae09-248">26</span><span class="sxs-lookup"><span data-stu-id="7ae09-248">26</span></span>|<span data-ttu-id="7ae09-249">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-249">No</span></span>|  
|<span data-ttu-id="7ae09-250">**SPID**</span><span class="sxs-lookup"><span data-stu-id="7ae09-250">**SPID**</span></span>|<span data-ttu-id="7ae09-251">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-251">**int**</span></span>|<span data-ttu-id="7ae09-252">Идентификатор процесса сервера, который SQL Server присвоил процессу, связанному с клиентом.</span><span class="sxs-lookup"><span data-stu-id="7ae09-252">The server process ID assigned by SQL Server to the process associated with the client.</span></span>|<span data-ttu-id="7ae09-253">12</span><span class="sxs-lookup"><span data-stu-id="7ae09-253">12</span></span>|<span data-ttu-id="7ae09-254">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-254">Yes</span></span>|  
|<span data-ttu-id="7ae09-255">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="7ae09-255">**StartTime**</span></span>|<span data-ttu-id="7ae09-256">**datetime**</span><span class="sxs-lookup"><span data-stu-id="7ae09-256">**datetime**</span></span>|<span data-ttu-id="7ae09-257">Время начала события, если доступно.</span><span class="sxs-lookup"><span data-stu-id="7ae09-257">The time at which the event started, when available.</span></span>|<span data-ttu-id="7ae09-258">14</span><span class="sxs-lookup"><span data-stu-id="7ae09-258">14</span></span>|<span data-ttu-id="7ae09-259">Да</span><span class="sxs-lookup"><span data-stu-id="7ae09-259">Yes</span></span>|  
|<span data-ttu-id="7ae09-260">**Состояние**</span><span class="sxs-lookup"><span data-stu-id="7ae09-260">**State**</span></span>|<span data-ttu-id="7ae09-261">**int**</span><span class="sxs-lookup"><span data-stu-id="7ae09-261">**int**</span></span>|<span data-ttu-id="7ae09-262">Указывает место в исходном коде SQL Server, которое вызвало это событие.</span><span class="sxs-lookup"><span data-stu-id="7ae09-262">Indicates the location within the SQL Server source code that produced the event.</span></span> <span data-ttu-id="7ae09-263">Каждое место, которое может вызвать это событие, обозначается отдельным кодом состояния.</span><span class="sxs-lookup"><span data-stu-id="7ae09-263">Each location that may produce this event has a different state code.</span></span> <span data-ttu-id="7ae09-264">Сотрудник службы технической поддержки Microsoft может использовать этот код состояния для обнаружения участка, выполнение которого привело к событию.</span><span class="sxs-lookup"><span data-stu-id="7ae09-264">A Microsoft support engineer can use this state code to find where the event was produced.</span></span>|<span data-ttu-id="7ae09-265">30</span><span class="sxs-lookup"><span data-stu-id="7ae09-265">30</span></span>|<span data-ttu-id="7ae09-266">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-266">No</span></span>|  
|<span data-ttu-id="7ae09-267">**TargetUserName**</span><span class="sxs-lookup"><span data-stu-id="7ae09-267">**TargetUserName**</span></span>|<span data-ttu-id="7ae09-268">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="7ae09-268">**nvarchar**</span></span>|<span data-ttu-id="7ae09-269">Состояние входа.</span><span class="sxs-lookup"><span data-stu-id="7ae09-269">Login state.</span></span> <span data-ttu-id="7ae09-270">Одно из двух значений:</span><span class="sxs-lookup"><span data-stu-id="7ae09-270">One of:</span></span><br /><br /> <span data-ttu-id="7ae09-271">INITIAL</span><span class="sxs-lookup"><span data-stu-id="7ae09-271">INITIAL</span></span><br /><br /> <span data-ttu-id="7ae09-272">WAIT LOGIN NEGOTIATE</span><span class="sxs-lookup"><span data-stu-id="7ae09-272">WAIT LOGIN NEGOTIATE</span></span><br /><br /> <span data-ttu-id="7ae09-273">ONE ISC</span><span class="sxs-lookup"><span data-stu-id="7ae09-273">ONE ISC</span></span><br /><br /> <span data-ttu-id="7ae09-274">ONE ASC</span><span class="sxs-lookup"><span data-stu-id="7ae09-274">ONE ASC</span></span><br /><br /> <span data-ttu-id="7ae09-275">TWO ISC</span><span class="sxs-lookup"><span data-stu-id="7ae09-275">TWO ISC</span></span><br /><br /> <span data-ttu-id="7ae09-276">TWO ASC</span><span class="sxs-lookup"><span data-stu-id="7ae09-276">TWO ASC</span></span><br /><br /> <span data-ttu-id="7ae09-277">WAIT ISC Confirm</span><span class="sxs-lookup"><span data-stu-id="7ae09-277">WAIT ISC Confirm</span></span><br /><br /> <span data-ttu-id="7ae09-278">WAIT ASC Confirm</span><span class="sxs-lookup"><span data-stu-id="7ae09-278">WAIT ASC Confirm</span></span><br /><br /> <span data-ttu-id="7ae09-279">WAIT REJECT</span><span class="sxs-lookup"><span data-stu-id="7ae09-279">WAIT REJECT</span></span><br /><br /> <span data-ttu-id="7ae09-280">WAIT PRE-MASTER SECRET</span><span class="sxs-lookup"><span data-stu-id="7ae09-280">WAIT PRE-MASTER SECRET</span></span><br /><br /> <span data-ttu-id="7ae09-281">WAIT VALIDATION</span><span class="sxs-lookup"><span data-stu-id="7ae09-281">WAIT VALIDATION</span></span><br /><br /> <span data-ttu-id="7ae09-282">WAIT ARBITRATION</span><span class="sxs-lookup"><span data-stu-id="7ae09-282">WAIT ARBITRATION</span></span><br /><br /> <span data-ttu-id="7ae09-283">ONLINE</span><span class="sxs-lookup"><span data-stu-id="7ae09-283">ONLINE</span></span><br /><br /> <span data-ttu-id="7ae09-284">ошибка</span><span class="sxs-lookup"><span data-stu-id="7ae09-284">ERROR</span></span><br /><br /> <span data-ttu-id="7ae09-285">**Примечание** . ISC = инициировать контекст безопасности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-285">**Note** ISC = Initiate Security Context.</span></span> <span data-ttu-id="7ae09-286">ASC = Accept Security Context (принять контекст безопасности).</span><span class="sxs-lookup"><span data-stu-id="7ae09-286">ASC = Accept Security Context</span></span>|<span data-ttu-id="7ae09-287">39</span><span class="sxs-lookup"><span data-stu-id="7ae09-287">39</span></span>|<span data-ttu-id="7ae09-288">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-288">No</span></span>|  
|<span data-ttu-id="7ae09-289">**TransactionID**</span><span class="sxs-lookup"><span data-stu-id="7ae09-289">**TransactionID**</span></span>|<span data-ttu-id="7ae09-290">**bigint**</span><span class="sxs-lookup"><span data-stu-id="7ae09-290">**bigint**</span></span>|<span data-ttu-id="7ae09-291">Назначенный системой идентификатор транзакции.</span><span class="sxs-lookup"><span data-stu-id="7ae09-291">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="7ae09-292">4</span><span class="sxs-lookup"><span data-stu-id="7ae09-292">4</span></span>|<span data-ttu-id="7ae09-293">нет</span><span class="sxs-lookup"><span data-stu-id="7ae09-293">No</span></span>|  
  
 <span data-ttu-id="7ae09-294">Следующая таблица содержит список значений подклассов события для этого класса событий.</span><span class="sxs-lookup"><span data-stu-id="7ae09-294">The table below lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="7ae09-295">ID</span><span class="sxs-lookup"><span data-stu-id="7ae09-295">ID</span></span>|<span data-ttu-id="7ae09-296">Подкласс</span><span class="sxs-lookup"><span data-stu-id="7ae09-296">Subclass</span></span>|<span data-ttu-id="7ae09-297">Описание</span><span class="sxs-lookup"><span data-stu-id="7ae09-297">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="7ae09-298">1</span><span class="sxs-lookup"><span data-stu-id="7ae09-298">1</span></span>|<span data-ttu-id="7ae09-299">Успешный вход</span><span class="sxs-lookup"><span data-stu-id="7ae09-299">Login Success</span></span>|<span data-ttu-id="7ae09-300">Событие Login Success (успешный вход) извещает об успешном завершении соответствующего процесса регистрации брокера.</span><span class="sxs-lookup"><span data-stu-id="7ae09-300">A Login Success event reports that the adjacent broker login process has finished successfully.</span></span>|  
|<span data-ttu-id="7ae09-301">2</span><span class="sxs-lookup"><span data-stu-id="7ae09-301">2</span></span>|<span data-ttu-id="7ae09-302">Ошибка входного протокола</span><span class="sxs-lookup"><span data-stu-id="7ae09-302">Login Protocol Error</span></span>|<span data-ttu-id="7ae09-303">Событие Login Protocol Error (ошибка протокола входа) извещает о том, что брокер получил синтаксически правильное, но неправильное при текущем состоянии процесса регистрации сообщение.</span><span class="sxs-lookup"><span data-stu-id="7ae09-303">A Login Protocol Error event reports that the broker receives a message that is well-formed but not valid for the current state of the of the login process.</span></span> <span data-ttu-id="7ae09-304">Сообщение могло быть потеряно или отослано вне очереди.</span><span class="sxs-lookup"><span data-stu-id="7ae09-304">The message may have been lost or sent out-of-sequence.</span></span>|  
|<span data-ttu-id="7ae09-305">3</span><span class="sxs-lookup"><span data-stu-id="7ae09-305">3</span></span>|<span data-ttu-id="7ae09-306">Ошибка формата сообщения</span><span class="sxs-lookup"><span data-stu-id="7ae09-306">Message Format Error</span></span>|<span data-ttu-id="7ae09-307">Событие Message Format Error (ошибка формата сообщения) уведомляет о том, что брокер получил сообщение, не соответствующее ожидаемому формату.</span><span class="sxs-lookup"><span data-stu-id="7ae09-307">A Message Format Error event reports that the broker received a message that does not match the expected format.</span></span> <span data-ttu-id="7ae09-308">Возможно, сообщение было повреждено или программа, отличная от SQL Server, отправляет сообщения на порт, используемый компонентом Service Broker.</span><span class="sxs-lookup"><span data-stu-id="7ae09-308">The message may have been corrupted, or a program other than SQL Server may be sending messages to the port that Service Broker uses.</span></span>|  
|<span data-ttu-id="7ae09-309">4</span><span class="sxs-lookup"><span data-stu-id="7ae09-309">4</span></span>|<span data-ttu-id="7ae09-310">Ошибка согласования</span><span class="sxs-lookup"><span data-stu-id="7ae09-310">Negotiate Failure</span></span>|<span data-ttu-id="7ae09-311">Событие Negotiate Failure (ошибка согласования) извещает о том, что локальный и удаленный брокер поддерживают взаимоисключающие уровни проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7ae09-311">A Negotiate Failure event reports that the local broker and the remote broker support mutually exclusive levels of authentication.</span></span>|  
|<span data-ttu-id="7ae09-312">5</span><span class="sxs-lookup"><span data-stu-id="7ae09-312">5</span></span>|<span data-ttu-id="7ae09-313">Ошибка проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="7ae09-313">Authentication Failure</span></span>|<span data-ttu-id="7ae09-314">Событие Authentication Failure (ошибка проверки подлинности) извещает о том, что компонент Service Broker не может выполнить для соединения проверку подлинности из-за ошибки.</span><span class="sxs-lookup"><span data-stu-id="7ae09-314">An Authentication Failure event reports that Service Broker cannot perform authentication for the connection due to an error.</span></span> <span data-ttu-id="7ae09-315">При проверке подлинности Windows это событие свидетельствует о том, что компонент Service Broker не может использовать проверку подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="7ae09-315">For Windows Authentication, this event reports that Service Broker is unable to use Windows Authentication.</span></span> <span data-ttu-id="7ae09-316">В случае проверки подлинности на основе сертификатов это событие извещает о том, что компонент Service Broker не может получить доступ к сертификату.</span><span class="sxs-lookup"><span data-stu-id="7ae09-316">For certificate-based authentication, this event reports that Service Broker is unable to access the certificate.</span></span>|  
|<span data-ttu-id="7ae09-317">6</span><span class="sxs-lookup"><span data-stu-id="7ae09-317">6</span></span>|<span data-ttu-id="7ae09-318">"Authorization Failure" (Сбой авторизации)</span><span class="sxs-lookup"><span data-stu-id="7ae09-318">Authorization Failure</span></span>|<span data-ttu-id="7ae09-319">Событие Authorization Failure (ошибка авторизации) извещает о том, что компонент Service Broker отклонил авторизацию соединения.</span><span class="sxs-lookup"><span data-stu-id="7ae09-319">An Authorization Failure event reports that Service Broker denied authorization for the connection.</span></span> <span data-ttu-id="7ae09-320">Для проверки подлинности Windows это событие сообщает, что идентификатор защиты соединения не совпадает с пользователем базы данных.</span><span class="sxs-lookup"><span data-stu-id="7ae09-320">For Windows Authentication, this event reports that the security identifier for the connection does not match a database user.</span></span> <span data-ttu-id="7ae09-321">При проверке подлинности на основе сертификатов это событие свидетельствует о том, что открытый ключ, доставленный в сообщении, не соответствует сертификату в базе данных.</span><span class="sxs-lookup"><span data-stu-id="7ae09-321">For certificate-based authentication, this event reports that the public key delivered in the message does not correspond to a certificate in the database.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="7ae09-322">См. также:</span><span class="sxs-lookup"><span data-stu-id="7ae09-322">See Also</span></span>  
 <span data-ttu-id="7ae09-323">[CREATE ENDPOINT (Transact-SQL)](/sql/t-sql/statements/create-endpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="7ae09-323">[CREATE ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-endpoint-transact-sql) </span></span>  
 <span data-ttu-id="7ae09-324">[ALTER ENDPOINT (Transact-SQL)](/sql/t-sql/statements/alter-endpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="7ae09-324">[ALTER ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-endpoint-transact-sql) </span></span>  
 [<span data-ttu-id="7ae09-325">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="7ae09-325">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  

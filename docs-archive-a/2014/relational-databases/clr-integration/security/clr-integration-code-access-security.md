---
title: Безопасность доступа к коду для интеграции со средой CLR | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- UNSAFE assemblies
- permissions [CLR integration]
- common language runtime [SQL Server], security
- SAFE assemblies
- code access security [CLR integration]
- EXTERNAL_ACCESS assemblies
ms.assetid: 2111cfe0-d5e0-43b1-93c3-e994ac0e9729
author: rothja
ms.author: jroth
ms.openlocfilehash: 75b283da2760b39349351802a83caae04e546c06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658294"
---
# <a name="clr-integration-code-access-security"></a><span data-ttu-id="5984c-102">Управление доступом для кода на основе интеграции со средой CLR</span><span class="sxs-lookup"><span data-stu-id="5984c-102">CLR Integration Code Access Security</span></span>
  <span data-ttu-id="5984c-103">Среда CLR поддерживает модель безопасности, называемую управлением доступом для кода.</span><span class="sxs-lookup"><span data-stu-id="5984c-103">The common language runtime (CLR) supports a security model called code access security for managed code.</span></span> <span data-ttu-id="5984c-104">В этой модели разрешения предоставляются сборкам на основе идентификатора кода.</span><span class="sxs-lookup"><span data-stu-id="5984c-104">In this model, permissions are granted to assemblies based on the identity of the code.</span></span> <span data-ttu-id="5984c-105">Дополнительные сведения см. в разделе «Управление доступом для кода» справочной документации пакета средств разработки программного обеспечения .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5984c-105">For more information, see the "Code Access Security" section in the .NET Framework software development kit.</span></span>  
  
 <span data-ttu-id="5984c-106">Политика безопасности, которая регламентирует разрешения, предоставляемые сборкам, определяется в трех разных местах.</span><span class="sxs-lookup"><span data-stu-id="5984c-106">The security policy that determines the permissions granted to assemblies is defined in three different places:</span></span>  
  
-   <span data-ttu-id="5984c-107">Политика компьютера: Эта политика действует для всего управляемого кода, выполняемого на компьютере, на котором [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] установлен.</span><span class="sxs-lookup"><span data-stu-id="5984c-107">Machine policy: This is the policy in effect for all managed code running in the machine on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span>  
  
-   <span data-ttu-id="5984c-108">Политика пользователя. это политика, действующая для управляемого кода, размещенного в процессе.</span><span class="sxs-lookup"><span data-stu-id="5984c-108">User policy: This is the policy in effect for managed code hosted by a process.</span></span> <span data-ttu-id="5984c-109">Для [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] службы работает.</span><span class="sxs-lookup"><span data-stu-id="5984c-109">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is running.</span></span>  
  
-   <span data-ttu-id="5984c-110">Политика узла. Эта политика настраивается узлом среды CLR (в данном случае [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ), которая действует для управляемого кода, выполняемого на этом узле.</span><span class="sxs-lookup"><span data-stu-id="5984c-110">Host policy: This is the policy set up by the host of the CLR (in this case, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) that is in effect for managed code running in that host.</span></span>  
  
 <span data-ttu-id="5984c-111">Механизм управления доступом к коду, поддерживаемый средой CLR, основан на предположении, что в среде времени выполнения может размещаться код, доверенный полностью или частично.</span><span class="sxs-lookup"><span data-stu-id="5984c-111">The code access security mechanism supported by the CLR is based on the assumption that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="5984c-112">Ресурсы, защищенные с помощью управления доступом для кода CLR, обычно упаковываются управляемыми прикладными программными интерфейсами, которые рекуиресе соответствующее разрешение, прежде чем разрешить доступ к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="5984c-112">The resources that are protected by CLR code access security are typically wrapped by managed application programming interfaces that requirethe corresponding permission before allowing access to the resource.</span></span> <span data-ttu-id="5984c-113">Демандфор разрешение удовлетворяется только в том случае, если все вызывающие объекты (на уровне сборки) в стеке вызовов имеют соответствующее разрешение ресурса.</span><span class="sxs-lookup"><span data-stu-id="5984c-113">The demandfor the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="5984c-114">Набор разрешений управления доступом для кода, предоставляемый управляемому коду при выполнении внутри [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , предоставляет набор разрешений на сборку, загруженную в [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . в конечном итоге набор разрешений, предоставленный пользовательскому коду, может быть ограничен дополнительными политиками уровня пользователя и компьютера.</span><span class="sxs-lookup"><span data-stu-id="5984c-114">The set of code access security permissions that are granted to managed code when running inside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grants a set of permissions to an assembly loaded in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], the eventual set of permissions given to user code may be restricted further by the user and machine-level policies.</span></span>  
  
## <a name="sql-server-host-policy-level-permission-sets"></a><span data-ttu-id="5984c-115">Наборы разрешений на уровне политики узла SQL Server</span><span class="sxs-lookup"><span data-stu-id="5984c-115">SQL Server Host Policy Level Permission Sets</span></span>  
 <span data-ttu-id="5984c-116">Набор разрешений CAS, который предоставляется определяемым пользователем сборкам на уровне политики узла [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], определяется набором разрешений, заданным при создании сборки.</span><span class="sxs-lookup"><span data-stu-id="5984c-116">The set of code access security permissions granted to assemblies by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy level is determined by the permission set specified when creating the assembly.</span></span> <span data-ttu-id="5984c-117">Существует три набора разрешений: `SAFE` `EXTERNAL_ACCESS` и `UNSAFE` (задаются с помощью параметра **PERMISSION_SET** [создания сборки &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="5984c-117">There are three permission sets: `SAFE`, `EXTERNAL_ACCESS` and `UNSAFE` (specified using the **PERMISSION_SET** option of[CREATE ASSEMBLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="5984c-118">.</span><span class="sxs-lookup"><span data-stu-id="5984c-118">.</span></span> <span data-ttu-id="5984c-119">Эта политика не предназначена для домена приложения по умолчанию, который применяется при создании в [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] экземпляра среды CLR.</span><span class="sxs-lookup"><span data-stu-id="5984c-119">This policy is not meant for the default application domain that would be in effect when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates an instance of the CLR.</span></span>  
  
 <span data-ttu-id="5984c-120">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]Фикседполици для системных сборок и определяемой пользователем политики для пользовательских сборок.</span><span class="sxs-lookup"><span data-stu-id="5984c-120">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fixedpolicy for system assemblies and user-specified policy for user assemblies.</span></span>  
  
 <span data-ttu-id="5984c-121">Фиксированная политика для сборок CLR и системных сборок [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] предоставляет этим сборкам полное доверие.</span><span class="sxs-lookup"><span data-stu-id="5984c-121">The fixed policy for CLR assemblies and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] system assemblies grants them full trust.</span></span>  
  
 <span data-ttu-id="5984c-122">В основе пользовательской части политики сервера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] лежит указание владельцем сборки одного из трех сегментов разрешений для каждой сборки.</span><span class="sxs-lookup"><span data-stu-id="5984c-122">The user-specified portion of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly.</span></span> <span data-ttu-id="5984c-123">Дополнительные сведения о правах доступа, перечисленных ниже, см. в документации пакета SDK для платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5984c-123">For more information about the security permissions listed below, see the .NET Framework SDK.</span></span>  
  
### <a name="safe"></a><span data-ttu-id="5984c-124">SAFE</span><span class="sxs-lookup"><span data-stu-id="5984c-124">SAFE</span></span>  
 <span data-ttu-id="5984c-125">Разрешаются только внутренние вычисления и локальный доступ к данным.</span><span class="sxs-lookup"><span data-stu-id="5984c-125">Only internal computation and local data access are allowed.</span></span> <span data-ttu-id="5984c-126">Набор разрешений `SAFE` является наиболее ограниченным.</span><span class="sxs-lookup"><span data-stu-id="5984c-126">`SAFE` is the most restrictive permission set.</span></span> <span data-ttu-id="5984c-127">Код, выполняемый сборкой с разрешениями `SAFE`, не может получить доступ к внешним системным ресурсам, таким как файлы, сеть, переменные среды или реестр.</span><span class="sxs-lookup"><span data-stu-id="5984c-127">Code executed by an assembly with `SAFE` permissions cannot access external system resources such as files, the network, environment variables, or the registry.</span></span>  
  
 <span data-ttu-id="5984c-128">Сборки `SAFE` обладают следующими разрешениями и значениями свойств.</span><span class="sxs-lookup"><span data-stu-id="5984c-128">`SAFE` assemblies have the following permissions and values:</span></span>  
  
|<span data-ttu-id="5984c-129">Разрешение</span><span class="sxs-lookup"><span data-stu-id="5984c-129">Permission</span></span>|<span data-ttu-id="5984c-130">Значения и описание</span><span class="sxs-lookup"><span data-stu-id="5984c-130">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`SecurityPermission`|<span data-ttu-id="5984c-131">`Execution:` разрешение на выполнение управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="5984c-131">`Execution:` Permission to execute managed code.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="5984c-132">`Context connection = true`, `context connection = yes`. Можно использовать только контекстное соединение; в строке соединения можно задавать только значение «context connection=true» или «context connection=yes».</span><span class="sxs-lookup"><span data-stu-id="5984c-132">`Context connection = true`, `context connection = yes`: Only the context-connection can be used and the connection string can only specify a value of "context connection=true" or "context connection=yes".</span></span><br /><br /> <span data-ttu-id="5984c-133">**Алловбланкпассворд = false:**  Пустые пароли не допускаются.</span><span class="sxs-lookup"><span data-stu-id="5984c-133">**AllowBlankPassword = false:**  Blank passwords are not permitted.</span></span>|  
  
### <a name="external_access"></a><span data-ttu-id="5984c-134">EXTERNAL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="5984c-134">EXTERNAL_ACCESS</span></span>  
 <span data-ttu-id="5984c-135">Сборки EXTERNAL_ACCESS имеют те же разрешения `SAFE` , что и сборки, с дополнительной возможностью доступа к внешним системным ресурсам, таким как файлы, сети, переменные среды и реестр.</span><span class="sxs-lookup"><span data-stu-id="5984c-135">EXTERNAL_ACCESS assemblies have the same permissions as `SAFE` assemblies, with the additional ability to access external system resources such as files, networks, environmental variables, and the registry.</span></span>  
  
 <span data-ttu-id="5984c-136">Сборки `EXTERNAL_ACCESS` обладают также следующими разрешениями и значениями свойств.</span><span class="sxs-lookup"><span data-stu-id="5984c-136">`EXTERNAL_ACCESS` assemblies also have the following permissions and values:</span></span>  
  
|<span data-ttu-id="5984c-137">Разрешение</span><span class="sxs-lookup"><span data-stu-id="5984c-137">Permission</span></span>|<span data-ttu-id="5984c-138">Значения и описание</span><span class="sxs-lookup"><span data-stu-id="5984c-138">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`DistributedTransactionPermission`|<span data-ttu-id="5984c-139">`Unrestricted:`Распределенные транзакции разрешены.</span><span class="sxs-lookup"><span data-stu-id="5984c-139">`Unrestricted:` Distributed transactions are allowed.</span></span>|  
|`DNSPermission`|<span data-ttu-id="5984c-140">`Unrestricted:`Разрешение на запрос сведений с серверов доменных имен.</span><span class="sxs-lookup"><span data-stu-id="5984c-140">`Unrestricted:` Permission to request information from Domain Name Servers.</span></span>|  
|`EnvironmentPermission`|<span data-ttu-id="5984c-141">`Unrestricted:` разрешается полный доступ к системным и пользовательским переменным среды.</span><span class="sxs-lookup"><span data-stu-id="5984c-141">`Unrestricted:` Full access to system and user environment variables is allowed.</span></span>|  
|`EventLogPermission`|<span data-ttu-id="5984c-142">`Administer:` разрешаются следующие действия: создание источника события, чтение существующих журналов, удаление источников событий или журналов, формирование ответов на записи, очистка журнала событий, прослушивание событий и доступ к коллекции всех журналов событий.</span><span class="sxs-lookup"><span data-stu-id="5984c-142">`Administer:` The following actions are allowed: creating an event source, reading existing logs, deleting event sources or logs, responding to entries, clearing an event log, listening to events, and accessing a collection of all event logs.</span></span>|  
|`FileIOPermission`|<span data-ttu-id="5984c-143">`Unrestricted:` разрешен полный доступ к файлам и папкам.</span><span class="sxs-lookup"><span data-stu-id="5984c-143">`Unrestricted:` Full access to files and folders is allowed.</span></span>|  
|`KeyContainerPermission`|<span data-ttu-id="5984c-144">`Unrestricted:` разрешен полный доступ к ключевым контейнерам.</span><span class="sxs-lookup"><span data-stu-id="5984c-144">`Unrestricted:` Full access to key containers is allowed.</span></span>|  
|`NetworkInformationPermission`|<span data-ttu-id="5984c-145">`Access:` разрешено выполнять команду ping.</span><span class="sxs-lookup"><span data-stu-id="5984c-145">`Access:` Pinging is permitted.</span></span>|  
|`RegistryPermission`|<span data-ttu-id="5984c-146">Предоставляет право чтения разделов `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG` и `HKEY_USERS.`</span><span class="sxs-lookup"><span data-stu-id="5984c-146">Allows read rights to `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG`, and `HKEY_USERS.`</span></span>|  
|`SecurityPermission`|<span data-ttu-id="5984c-147">`Assertion:` способность подтверждать, что все объекты, вызывающие этот код, имеют нужные разрешения на эту операцию.</span><span class="sxs-lookup"><span data-stu-id="5984c-147">`Assertion:` Ability to assert that all the callers of this code have the requisite permission for the operation.</span></span><br /><br /> <span data-ttu-id="5984c-148">`ControlPrincipal:` способность манипулировать основным объектом.</span><span class="sxs-lookup"><span data-stu-id="5984c-148">`ControlPrincipal:` Ability to manipulate the principal object.</span></span><br /><br /> <span data-ttu-id="5984c-149">`Execution:` разрешение на выполнение управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="5984c-149">`Execution:` Permission to execute managed code.</span></span><br /><br /> <span data-ttu-id="5984c-150">`SerializationFormatter:` способность предоставлять услуги сериализации.</span><span class="sxs-lookup"><span data-stu-id="5984c-150">`SerializationFormatter:` Ability to provide serialization services.</span></span>|  
|<span data-ttu-id="5984c-151">**смтппермиссион**</span><span class="sxs-lookup"><span data-stu-id="5984c-151">**SmtpPermission**</span></span>|<span data-ttu-id="5984c-152">`Access:` разрешены исходящие соединения с портом сервера SMTP 25.</span><span class="sxs-lookup"><span data-stu-id="5984c-152">`Access:` Outbound connections to SMTP host port 25 are allowed.</span></span>|  
|`SocketPermission`|<span data-ttu-id="5984c-153">`Connect:` разрешены исходящие соединения для всех портов и протоколов по транспортному адресу.</span><span class="sxs-lookup"><span data-stu-id="5984c-153">`Connect:` Outbound connections (all ports, all protocols) on a transport address are allowed.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="5984c-154">`Unrestricted:` разрешен полный доступ к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="5984c-154">`Unrestricted:` Full access to the datasource is allowed.</span></span>|  
|`StorePermission`|<span data-ttu-id="5984c-155">`Unrestricted:` разрешен полный доступ к хранилищам сертификатов X.509.</span><span class="sxs-lookup"><span data-stu-id="5984c-155">`Unrestricted:` Full access to X.509 certificate stores is allowed.</span></span>|  
|`WebPermission`|<span data-ttu-id="5984c-156">`Connect:` разрешены исходящие соединения с веб-ресурсами.</span><span class="sxs-lookup"><span data-stu-id="5984c-156">`Connect:` Outbound connections to web resources are allowed.</span></span>|  
  
### <a name="unsafe"></a><span data-ttu-id="5984c-157">UNSAFE</span><span class="sxs-lookup"><span data-stu-id="5984c-157">UNSAFE</span></span>  
 <span data-ttu-id="5984c-158">Набор UNSAFE предоставляет сборкам неограниченный доступ к внутренним и внешним ресурсам [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5984c-158">UNSAFE allows assemblies unrestricted access to resources, both within and outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="5984c-159">Код, вызываемый на выполнение из сборки `UNSAFE`, может также вызывать неуправляемый код.</span><span class="sxs-lookup"><span data-stu-id="5984c-159">Code executing from within an `UNSAFE` assembly can also call unmanaged code.</span></span>  
  
 <span data-ttu-id="5984c-160">Сборки `UNSAFE` получают набор разрешений `FullTrust`.</span><span class="sxs-lookup"><span data-stu-id="5984c-160">`UNSAFE` assemblies are given `FullTrust`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="5984c-161">`SAFE` является рекомендованной установкой разрешений для сборок, которые выполняют задачи вычисления и управления данными без доступа к ресурсам вне [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5984c-161">`SAFE` is the recommended permission setting for assemblies that perform computation and data management tasks without accessing resources outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="5984c-162">`EXTERNAL_ACCESS`сборки по умолчанию выполняются в качестве [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] учетной записи службы. разрешение на выполнение должно предоставляться `EXTERNAL_ACCESS` только именам входа, доверенным для запуска от имени учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="5984c-162">`EXTERNAL_ACCESS` assemblies by default execute as the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account, permission to execute `EXTERNAL_ACCESS` should only be given to logins trusted to run as the service account.</span></span> <span data-ttu-id="5984c-163">С точки зрения безопасности сборки `EXTERNAL_ACCESS` и `UNSAFE` являются идентичными.</span><span class="sxs-lookup"><span data-stu-id="5984c-163">From a security perspective, `EXTERNAL_ACCESS` and `UNSAFE` assemblies are identical.</span></span> <span data-ttu-id="5984c-164">Но сборки `EXTERNAL_ACCESS` предоставляют различные средства защиты, обладающие надежностью и прочностью, которые не предусмотрены в сборках `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="5984c-164">However, `EXTERNAL_ACCESS` assemblies provide various reliability and robustness protections that are not in `UNSAFE` assemblies.</span></span> <span data-ttu-id="5984c-165">Указание `UNSAFE` позволяет коду в сборке выполнять недопустимые операции с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="5984c-165">Specifying `UNSAFE` allows the code in the assembly to perform illegal operations against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="5984c-166">Дополнительные сведения о создании сборок среды CLR в см [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . в разделе [Управление сборками интеграции со средой CLR](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="5984c-166">For more information about creating CLR assemblies in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Managing CLR Integration Assemblies](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span></span>  
  
## <a name="accessing-external-resources"></a><span data-ttu-id="5984c-167">Доступ к внешним ресурсам</span><span class="sxs-lookup"><span data-stu-id="5984c-167">Accessing External Resources</span></span>  
 <span data-ttu-id="5984c-168">Если сборка с определяемыми пользователем типами (UDT), хранимыми процедурами или конструкциями другого типа зарегистрирована с набором разрешений `SAFE`, то управляемый код, который выполняется в конструкции, не способен получить доступ к внешним ресурсам.</span><span class="sxs-lookup"><span data-stu-id="5984c-168">If a user-defined type (UDT), stored procedure, or other type of construct assembly is registered with the `SAFE` permission set, then managed code executing in the construct is unable to access external resources.</span></span> <span data-ttu-id="5984c-169">Но если задан набор разрешений `EXTERNAL_ACCESS` или `UNSAFE` и в управляемом коде предпринимается попытка получить доступ к внешним ресурсам, то в [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] применяются следующие правила.</span><span class="sxs-lookup"><span data-stu-id="5984c-169">However, if either the `EXTERNAL_ACCESS` or `UNSAFE` permission sets are specified, and managed code attempts to access external resources, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applies the following rules:</span></span>  
  
|<span data-ttu-id="5984c-170">If</span><span class="sxs-lookup"><span data-stu-id="5984c-170">If</span></span>|<span data-ttu-id="5984c-171">Следующее действие</span><span class="sxs-lookup"><span data-stu-id="5984c-171">Then</span></span>|  
|--------|----------|  
|<span data-ttu-id="5984c-172">Контекст выполнения соответствует имени входа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5984c-172">The execution context corresponds to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login.</span></span>|<span data-ttu-id="5984c-173">Попытки получить доступ к внешним ресурсам отклоняются, и активизируется исключение безопасности.</span><span class="sxs-lookup"><span data-stu-id="5984c-173">Attempts to access external resources are denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="5984c-174">Контекст выполнения соответствует имени входа Windows, и контекстом выполнения является первоначальный вызывающий объект.</span><span class="sxs-lookup"><span data-stu-id="5984c-174">The execution context corresponds to a Windows login and the execution context is the original caller.</span></span>|<span data-ttu-id="5984c-175">Доступ к внешнему ресурсу предоставляется в контексте безопасности учетной записи [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5984c-175">The external resource is accessed under the security context of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account.</span></span>|  
|<span data-ttu-id="5984c-176">Вызывающий объект не является первоначальным вызывающим объектом.</span><span class="sxs-lookup"><span data-stu-id="5984c-176">The caller is not the original caller.</span></span>|<span data-ttu-id="5984c-177">Доступ запрещается, и активизируется исключение безопасности.</span><span class="sxs-lookup"><span data-stu-id="5984c-177">Access is denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="5984c-178">Контекст выполнения соответствует имени входа Windows, контекст выполнения является исходным вызывающим объектом, а к вызывающему объекту применяется олицетворение.</span><span class="sxs-lookup"><span data-stu-id="5984c-178">The execution context corresponds to a Windows login and the execution context is the original caller and the caller has been impersonated.</span></span>|<span data-ttu-id="5984c-179">При доступе используется контекст безопасности вызывающего объекта, а не учетная запись службы.</span><span class="sxs-lookup"><span data-stu-id="5984c-179">Access uses the caller security context; not the service account.</span></span>|  
  
## <a name="permission-set-summary"></a><span data-ttu-id="5984c-180">Сводные данные о наборе разрешений</span><span class="sxs-lookup"><span data-stu-id="5984c-180">Permission Set Summary</span></span>  
 <span data-ttu-id="5984c-181">На следующей диаграмме показаны ограничения и разрешения, предоставленные наборам разрешений `SAFE`, `EXTERNAL_ACCESS` и `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="5984c-181">The following chart summarizes the restrictions and permissions granted to the `SAFE`, `EXTERNAL_ACCESS`, and `UNSAFE` permission sets.</span></span>  
  
|||||  
|-|-|-|-|  
||`SAFE`|`EXTERNAL_ACCESS`|`UNSAFE`|  
|`Code Access Security Permissions`|<span data-ttu-id="5984c-182">Только выполнение</span><span class="sxs-lookup"><span data-stu-id="5984c-182">Execute only</span></span>|<span data-ttu-id="5984c-183">Выполнение и доступ к внешним ресурсам</span><span class="sxs-lookup"><span data-stu-id="5984c-183">Execute + access to external resources</span></span>|<span data-ttu-id="5984c-184">Неограниченное (включая P/Invoke)</span><span class="sxs-lookup"><span data-stu-id="5984c-184">Unrestricted (including P/Invoke)</span></span>|  
|`Programming model restrictions`|<span data-ttu-id="5984c-185">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-185">Yes</span></span>|<span data-ttu-id="5984c-186">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-186">Yes</span></span>|<span data-ttu-id="5984c-187">Нет ограничений</span><span class="sxs-lookup"><span data-stu-id="5984c-187">No restrictions</span></span>|  
|`Verifiability requirement`|<span data-ttu-id="5984c-188">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-188">Yes</span></span>|<span data-ttu-id="5984c-189">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-189">Yes</span></span>|<span data-ttu-id="5984c-190">Нет</span><span class="sxs-lookup"><span data-stu-id="5984c-190">No</span></span>|  
|`Local data access`|<span data-ttu-id="5984c-191">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-191">Yes</span></span>|<span data-ttu-id="5984c-192">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-192">Yes</span></span>|<span data-ttu-id="5984c-193">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-193">Yes</span></span>|  
|`Ability to call native code`|<span data-ttu-id="5984c-194">Нет</span><span class="sxs-lookup"><span data-stu-id="5984c-194">No</span></span>|<span data-ttu-id="5984c-195">Нет</span><span class="sxs-lookup"><span data-stu-id="5984c-195">No</span></span>|<span data-ttu-id="5984c-196">Да</span><span class="sxs-lookup"><span data-stu-id="5984c-196">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="5984c-197">См. также:</span><span class="sxs-lookup"><span data-stu-id="5984c-197">See Also</span></span>  
 <span data-ttu-id="5984c-198">[Безопасность интеграции со средой CLR](clr-integration-security.md) </span><span class="sxs-lookup"><span data-stu-id="5984c-198">[CLR Integration Security](clr-integration-security.md) </span></span>  
 <span data-ttu-id="5984c-199">[Атрибуты защиты узла и программирование интеграции со средой CLR](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span><span class="sxs-lookup"><span data-stu-id="5984c-199">[Host Protection Attributes and CLR Integration Programming](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span></span>  
 <span data-ttu-id="5984c-200">[Ограничения модели программирования интеграции со средой CLR](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span><span class="sxs-lookup"><span data-stu-id="5984c-200">[CLR Integration Programming Model Restrictions](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span></span>  
 [<span data-ttu-id="5984c-201">Среда размещения CLR</span><span class="sxs-lookup"><span data-stu-id="5984c-201">CLR Hosted Environment</span></span>](../clr-integration-architecture-clr-hosted-environment.md)  
  
  

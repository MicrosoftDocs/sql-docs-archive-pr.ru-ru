---
title: Использование разреженных столбцов | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- sparse columns, described
- null columns
- sparse columns
ms.assetid: ea7ddb87-f50b-46b6-9f5a-acab222a2ede
author: stevestein
ms.author: sstein
ms.openlocfilehash: b3068ac7a3094605bb809ac84c63766b64fda486
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664082"
---
# <a name="use-sparse-columns"></a><span data-ttu-id="0d7b2-102">Использование разреженных столбцов</span><span class="sxs-lookup"><span data-stu-id="0d7b2-102">Use Sparse Columns</span></span>
  <span data-ttu-id="0d7b2-103">Разреженные столбцы — это обычные столбцы, имеющие оптимизированное хранилище для значений NULL.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-103">Sparse columns are ordinary columns that have an optimized storage for null values.</span></span> <span data-ttu-id="0d7b2-104">Разреженные столбцы уменьшают пространство, необходимое для хранения значений NULL, однако увеличивается стоимость получения значений, отличных от NULL.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-104">Sparse columns reduce the space requirements for null values at the cost of more overhead to retrieve nonnull values.</span></span> <span data-ttu-id="0d7b2-105">Разреженные столбцы следует использовать только в том случае, если экономится не менее чем от 20 до 40 процентов места.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-105">Consider using sparse columns when the space saved is at least 20 percent to 40 percent.</span></span> <span data-ttu-id="0d7b2-106">Наборы столбцов и разреженные столбцы определяются с помощью инструкций [CREATE TABLE](/sql/t-sql/statements/create-table-transact-sql) и [ALTER TABLE](/sql/t-sql/statements/alter-table-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="0d7b2-106">Sparse columns and column sets are defined by using the [CREATE TABLE](/sql/t-sql/statements/create-table-transact-sql) or [ALTER TABLE](/sql/t-sql/statements/alter-table-transact-sql) statements.</span></span>  
  
 <span data-ttu-id="0d7b2-107">Разреженные столбцы можно использовать совместно с наборами столбцов и фильтруемыми индексами.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-107">Sparse columns can be used with column sets and filtered indexes:</span></span>  
  
-   <span data-ttu-id="0d7b2-108">Наборы столбцов</span><span class="sxs-lookup"><span data-stu-id="0d7b2-108">Column sets</span></span>  
  
     <span data-ttu-id="0d7b2-109">Инструкции INSERT, UPDATE и DELETE могут ссылаться на разреженные столбцы по именам.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-109">INSERT, UPDATE, and DELETE statements can reference the sparse columns by name.</span></span> <span data-ttu-id="0d7b2-110">Также можно просматривать и работать со всеми разреженными столбцами таблицы, объединенными в один XML-столбец.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-110">However, you can also view and work with all the sparse columns of a table that are combined into a single XML column.</span></span> <span data-ttu-id="0d7b2-111">Такой столбец называется набором столбцов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-111">This column is called a column set.</span></span> <span data-ttu-id="0d7b2-112">Дополнительные сведения о наборах столбцов см. в разделе [Использование наборов столбцов](../tables/use-column-sets.md).</span><span class="sxs-lookup"><span data-stu-id="0d7b2-112">For more information about column sets, see [Use Column Sets](../tables/use-column-sets.md).</span></span>  
  
-   <span data-ttu-id="0d7b2-113">Отфильтрованные индексы</span><span class="sxs-lookup"><span data-stu-id="0d7b2-113">Filtered indexes</span></span>  
  
     <span data-ttu-id="0d7b2-114">Поскольку разреженные столбцы имеют много строк со значениями NULL, они особенно подходят для фильтруемых индексов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-114">Because sparse columns have many null-valued rows, they are especially appropriate for filtered indexes.</span></span> <span data-ttu-id="0d7b2-115">Фильтруемый индекс на основе разреженного столбца может индексировать только те строки, значения которых заполнены.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-115">A filtered index on a sparse column can index only the rows that have populated values.</span></span> <span data-ttu-id="0d7b2-116">Таким образом создается более компактный и эффективный индекс.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-116">This creates a smaller and more efficient index.</span></span> <span data-ttu-id="0d7b2-117">Дополнительные сведения см. в разделе [Create Filtered Indexes](../indexes/indexes.md).</span><span class="sxs-lookup"><span data-stu-id="0d7b2-117">For more information, see [Create Filtered Indexes](../indexes/indexes.md).</span></span>  
  
 <span data-ttu-id="0d7b2-118">Разреженные столбцы и фильтруемые индексы позволяют приложениям, таким как [!INCLUDE[winSPServ](../../includes/winspserv-md.md)], эффективно хранить и получать доступ к большому числу определяемых пользователем свойств с помощью [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0d7b2-118">Sparse columns and filtered indexes enable applications, such as [!INCLUDE[winSPServ](../../includes/winspserv-md.md)], to efficiently store and access a large number of user-defined properties by using [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="properties-of-sparse-columns"></a><span data-ttu-id="0d7b2-119">Свойства разреженных столбцов</span><span class="sxs-lookup"><span data-stu-id="0d7b2-119">Properties of Sparse Columns</span></span>  
 <span data-ttu-id="0d7b2-120">Разреженные столбцы имеют следующие характеристики.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-120">Sparse columns have the following characteristics:</span></span>  
  
-   <span data-ttu-id="0d7b2-121">Компонент [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] использует ключевое слово SPARSE в определении столбца, чтобы оптимизировать хранение значений в этом столбце.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-121">The [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] uses the SPARSE keyword in a column definition to optimize the storage of values in that column.</span></span> <span data-ttu-id="0d7b2-122">Следовательно, если в любой строке таблицы этот столбец содержит значение NULL, места для хранения этих значений не требуется.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-122">Therefore, when the column value is NULL for any row in the table, the values require no storage.</span></span>  
  
-   <span data-ttu-id="0d7b2-123">Представления каталога таблицы, имеющей разреженные столбцы, идентичны представлениям обычной таблицы.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-123">Catalog views for a table that has sparse columns are the same as for a typical table.</span></span> <span data-ttu-id="0d7b2-124">Представление каталога sys.columns содержит по строке для каждого столбца в таблице, включая набор столбцов, если он был определен.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-124">The sys.columns catalog view contains a row for each column in the table and includes a column set if one is defined.</span></span>  
  
-   <span data-ttu-id="0d7b2-125">Разреженные столбцы являются свойством слоя хранилища, а не логической таблицы.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-125">Sparse columns are a property of the storage layer, rather than the logical table.</span></span> <span data-ttu-id="0d7b2-126">Поэтому инструкция SELECT...INTO не копирует свойство разреженного столбца в новую таблицу.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-126">Therefore a SELECT...INTO statement does not copy over the sparse column property into a new table.</span></span>  
  
-   <span data-ttu-id="0d7b2-127">Функция COLUMNS_UPDATED возвращает значение типа `varbinary`, показывающее все столбцы, которые были обновлены в процессе DML-действия.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-127">The COLUMNS_UPDATED function returns a `varbinary` value to indicate all the columns that were updated during a DML action.</span></span> <span data-ttu-id="0d7b2-128">Функция COLUMNS_UPDATED возвращает следующие биты.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-128">The bits that are returned by the COLUMNS_UPDATED function are as follows:</span></span>  
  
    -   <span data-ttu-id="0d7b2-129">Если разреженный столбец был явно обновлен, соответствующий бит, представляющий этот столбец, и бит, представляющий набор столбцов, устанавливаются в 1.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-129">When a sparse column is explicitly updated, the corresponding bit for that sparse column is set to 1, and the bit for the column set is set to 1.</span></span>  
  
    -   <span data-ttu-id="0d7b2-130">Если набор столбцов был явно обновлен, бит, представляющий набор столбцов, и биты, представляющие все разреженные столбцы в таблице, устанавливаются в 1.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-130">When a column set is explicitly updated, the bit for the column set is set to 1, and the bits for all the sparse columns in that table are set to 1.</span></span>  
  
    -   <span data-ttu-id="0d7b2-131">При операциях вставки всем битам присваивается значение 1.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-131">For insert operations, all bits are set to 1.</span></span>  
  
     <span data-ttu-id="0d7b2-132">Дополнительные сведения о наборах столбцов см. в разделе [Использование наборов столбцов](../tables/use-column-sets.md).</span><span class="sxs-lookup"><span data-stu-id="0d7b2-132">For more information about columns sets, see [Use Column Sets](../tables/use-column-sets.md).</span></span>  
  
 <span data-ttu-id="0d7b2-133">Столбцы следующих типов данных не могут быть указаны как SPARSE.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-133">The following data types cannot be specified as SPARSE:</span></span>  
  
|||  
|-|-|  
|`geography`|`text`|  
|`geometry`|`timestamp`|  
|`image`|`user-defined data types`|  
|`ntext`||  
  
## <a name="estimated-space-savings-by-data-type"></a><span data-ttu-id="0d7b2-134">Предполагаемая экономия места по типам данных</span><span class="sxs-lookup"><span data-stu-id="0d7b2-134">Estimated Space Savings by Data Type</span></span>  
 <span data-ttu-id="0d7b2-135">Для хранения значений, отличных от NULL, в разреженных столбцах требуется больше места, чем для хранения идентичных данных, но не отмеченных, как SPARSE.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-135">Sparse columns require more storage space for nonnull values than the space required for identical data that is not marked SPARSE.</span></span> <span data-ttu-id="0d7b2-136">В следующих таблицах показано использование пространства для каждого типа данных.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-136">The following tables show the space usage for each data type.</span></span> <span data-ttu-id="0d7b2-137">Столбец **Процент значений NULL** показывает, какой процент данных должен содержать значения NULL для достижения общей экономии пространства в 40 процентов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-137">The **NULL Percentage** column indicates what percent of the data must be NULL for a net space savings of 40 percent.</span></span>  
  
 <span data-ttu-id="0d7b2-138">**Типы данных фиксированной длины**</span><span class="sxs-lookup"><span data-stu-id="0d7b2-138">**Fixed-Length Data Types**</span></span>  
  
|<span data-ttu-id="0d7b2-139">Тип данных</span><span class="sxs-lookup"><span data-stu-id="0d7b2-139">Data type</span></span>|<span data-ttu-id="0d7b2-140">Неразреженные байты</span><span class="sxs-lookup"><span data-stu-id="0d7b2-140">Nonsparse bytes</span></span>|<span data-ttu-id="0d7b2-141">Разреженные байты</span><span class="sxs-lookup"><span data-stu-id="0d7b2-141">Sparse bytes</span></span>|<span data-ttu-id="0d7b2-142">Процент значений NULL</span><span class="sxs-lookup"><span data-stu-id="0d7b2-142">NULL percentage</span></span>|  
|---------------|---------------------|------------------|---------------------|  
|`bit`|<span data-ttu-id="0d7b2-143">0.125</span><span class="sxs-lookup"><span data-stu-id="0d7b2-143">0.125</span></span>|<span data-ttu-id="0d7b2-144">5</span><span class="sxs-lookup"><span data-stu-id="0d7b2-144">5</span></span>|<span data-ttu-id="0d7b2-145">98%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-145">98%</span></span>|  
|`tinyint`|<span data-ttu-id="0d7b2-146">1</span><span class="sxs-lookup"><span data-stu-id="0d7b2-146">1</span></span>|<span data-ttu-id="0d7b2-147">5</span><span class="sxs-lookup"><span data-stu-id="0d7b2-147">5</span></span>|<span data-ttu-id="0d7b2-148">86%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-148">86%</span></span>|  
|`smallint`|<span data-ttu-id="0d7b2-149">2</span><span class="sxs-lookup"><span data-stu-id="0d7b2-149">2</span></span>|<span data-ttu-id="0d7b2-150">6</span><span class="sxs-lookup"><span data-stu-id="0d7b2-150">6</span></span>|<span data-ttu-id="0d7b2-151">76%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-151">76%</span></span>|  
|`int`|<span data-ttu-id="0d7b2-152">4</span><span class="sxs-lookup"><span data-stu-id="0d7b2-152">4</span></span>|<span data-ttu-id="0d7b2-153">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-153">8</span></span>|<span data-ttu-id="0d7b2-154">64%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-154">64%</span></span>|  
|`bigint`|<span data-ttu-id="0d7b2-155">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-155">8</span></span>|<span data-ttu-id="0d7b2-156">12</span><span class="sxs-lookup"><span data-stu-id="0d7b2-156">12</span></span>|<span data-ttu-id="0d7b2-157">52%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-157">52%</span></span>|  
|`real`|<span data-ttu-id="0d7b2-158">4</span><span class="sxs-lookup"><span data-stu-id="0d7b2-158">4</span></span>|<span data-ttu-id="0d7b2-159">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-159">8</span></span>|<span data-ttu-id="0d7b2-160">64%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-160">64%</span></span>|  
|`float`|<span data-ttu-id="0d7b2-161">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-161">8</span></span>|<span data-ttu-id="0d7b2-162">12</span><span class="sxs-lookup"><span data-stu-id="0d7b2-162">12</span></span>|<span data-ttu-id="0d7b2-163">52%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-163">52%</span></span>|  
|`smallmoney`|<span data-ttu-id="0d7b2-164">4</span><span class="sxs-lookup"><span data-stu-id="0d7b2-164">4</span></span>|<span data-ttu-id="0d7b2-165">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-165">8</span></span>|<span data-ttu-id="0d7b2-166">64%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-166">64%</span></span>|  
|`money`|<span data-ttu-id="0d7b2-167">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-167">8</span></span>|<span data-ttu-id="0d7b2-168">12</span><span class="sxs-lookup"><span data-stu-id="0d7b2-168">12</span></span>|<span data-ttu-id="0d7b2-169">52%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-169">52%</span></span>|  
|`smalldatetime`|<span data-ttu-id="0d7b2-170">4</span><span class="sxs-lookup"><span data-stu-id="0d7b2-170">4</span></span>|<span data-ttu-id="0d7b2-171">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-171">8</span></span>|<span data-ttu-id="0d7b2-172">64%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-172">64%</span></span>|  
|`datetime`|<span data-ttu-id="0d7b2-173">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-173">8</span></span>|<span data-ttu-id="0d7b2-174">12</span><span class="sxs-lookup"><span data-stu-id="0d7b2-174">12</span></span>|<span data-ttu-id="0d7b2-175">52%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-175">52%</span></span>|  
|`uniqueidentifier`|<span data-ttu-id="0d7b2-176">16</span><span class="sxs-lookup"><span data-stu-id="0d7b2-176">16</span></span>|<span data-ttu-id="0d7b2-177">20</span><span class="sxs-lookup"><span data-stu-id="0d7b2-177">20</span></span>|<span data-ttu-id="0d7b2-178">43%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-178">43%</span></span>|  
|`date`|<span data-ttu-id="0d7b2-179">3</span><span class="sxs-lookup"><span data-stu-id="0d7b2-179">3</span></span>|<span data-ttu-id="0d7b2-180">7</span><span class="sxs-lookup"><span data-stu-id="0d7b2-180">7</span></span>|<span data-ttu-id="0d7b2-181">69%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-181">69%</span></span>|  
  
 <span data-ttu-id="0d7b2-182">**Типы данных с точностью, зависящей от точности**</span><span class="sxs-lookup"><span data-stu-id="0d7b2-182">**Precision-Dependent-Length Data Types**</span></span>  
  
|<span data-ttu-id="0d7b2-183">Тип данных</span><span class="sxs-lookup"><span data-stu-id="0d7b2-183">Data type</span></span>|<span data-ttu-id="0d7b2-184">Неразреженные байты</span><span class="sxs-lookup"><span data-stu-id="0d7b2-184">Nonsparse bytes</span></span>|<span data-ttu-id="0d7b2-185">Разреженные байты</span><span class="sxs-lookup"><span data-stu-id="0d7b2-185">Sparse bytes</span></span>|<span data-ttu-id="0d7b2-186">Процент значений NULL</span><span class="sxs-lookup"><span data-stu-id="0d7b2-186">NULL percentage</span></span>|  
|---------------|---------------------|------------------|---------------------|  
|`datetime2(0)`|<span data-ttu-id="0d7b2-187">6</span><span class="sxs-lookup"><span data-stu-id="0d7b2-187">6</span></span>|<span data-ttu-id="0d7b2-188">10</span><span class="sxs-lookup"><span data-stu-id="0d7b2-188">10</span></span>|<span data-ttu-id="0d7b2-189">57%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-189">57%</span></span>|  
|`datetime2(7)`|<span data-ttu-id="0d7b2-190">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-190">8</span></span>|<span data-ttu-id="0d7b2-191">12</span><span class="sxs-lookup"><span data-stu-id="0d7b2-191">12</span></span>|<span data-ttu-id="0d7b2-192">52%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-192">52%</span></span>|  
|`time(0)`|<span data-ttu-id="0d7b2-193">3</span><span class="sxs-lookup"><span data-stu-id="0d7b2-193">3</span></span>|<span data-ttu-id="0d7b2-194">7</span><span class="sxs-lookup"><span data-stu-id="0d7b2-194">7</span></span>|<span data-ttu-id="0d7b2-195">69%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-195">69%</span></span>|  
|`time(7)`|<span data-ttu-id="0d7b2-196">5</span><span class="sxs-lookup"><span data-stu-id="0d7b2-196">5</span></span>|<span data-ttu-id="0d7b2-197">9</span><span class="sxs-lookup"><span data-stu-id="0d7b2-197">9</span></span>|<span data-ttu-id="0d7b2-198">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-198">60%</span></span>|  
|`datetimetoffset(0)`|<span data-ttu-id="0d7b2-199">8</span><span class="sxs-lookup"><span data-stu-id="0d7b2-199">8</span></span>|<span data-ttu-id="0d7b2-200">12</span><span class="sxs-lookup"><span data-stu-id="0d7b2-200">12</span></span>|<span data-ttu-id="0d7b2-201">52%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-201">52%</span></span>|  
|`datetimetoffset (7)`|<span data-ttu-id="0d7b2-202">10</span><span class="sxs-lookup"><span data-stu-id="0d7b2-202">10</span></span>|<span data-ttu-id="0d7b2-203">14</span><span class="sxs-lookup"><span data-stu-id="0d7b2-203">14</span></span>|<span data-ttu-id="0d7b2-204">49%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-204">49%</span></span>|  
|`decimal/numeric(1,s)`|<span data-ttu-id="0d7b2-205">5</span><span class="sxs-lookup"><span data-stu-id="0d7b2-205">5</span></span>|<span data-ttu-id="0d7b2-206">9</span><span class="sxs-lookup"><span data-stu-id="0d7b2-206">9</span></span>|<span data-ttu-id="0d7b2-207">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-207">60%</span></span>|  
|`decimal/numeric(38,s)`|<span data-ttu-id="0d7b2-208">17</span><span class="sxs-lookup"><span data-stu-id="0d7b2-208">17</span></span>|<span data-ttu-id="0d7b2-209">21</span><span class="sxs-lookup"><span data-stu-id="0d7b2-209">21</span></span>|<span data-ttu-id="0d7b2-210">42%</span><span class="sxs-lookup"><span data-stu-id="0d7b2-210">42%</span></span>|  
|`vardecimal(p,s)`|<span data-ttu-id="0d7b2-211">Используйте тип `decimal` в качестве консервативной оценки.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-211">Use the `decimal` type as a conservative estimate.</span></span>|||  
  
 <span data-ttu-id="0d7b2-212">**Типы данных, зависящие от данных длины**</span><span class="sxs-lookup"><span data-stu-id="0d7b2-212">**Data-Dependent-Length Data Types**</span></span>  
  
|<span data-ttu-id="0d7b2-213">Тип данных</span><span class="sxs-lookup"><span data-stu-id="0d7b2-213">Data type</span></span>|<span data-ttu-id="0d7b2-214">Неразреженные байты</span><span class="sxs-lookup"><span data-stu-id="0d7b2-214">Nonsparse bytes</span></span>|<span data-ttu-id="0d7b2-215">Разреженные байты</span><span class="sxs-lookup"><span data-stu-id="0d7b2-215">Sparse bytes</span></span>|<span data-ttu-id="0d7b2-216">Процент значений NULL</span><span class="sxs-lookup"><span data-stu-id="0d7b2-216">NULL percentage</span></span>|  
|---------------|---------------------|------------------|---------------------|  
|`sql_variant`|<span data-ttu-id="0d7b2-217">Зависит от базового типа данных</span><span class="sxs-lookup"><span data-stu-id="0d7b2-217">Varies with the underlying data type</span></span>|||  
|<span data-ttu-id="0d7b2-218">`varchar` или `char`</span><span class="sxs-lookup"><span data-stu-id="0d7b2-218">`varchar` or `char`</span></span>|<span data-ttu-id="0d7b2-219">2\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-219">2\*</span></span>|<span data-ttu-id="0d7b2-220">4\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-220">4\*</span></span>|<span data-ttu-id="0d7b2-221">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-221">60%</span></span>|  
|<span data-ttu-id="0d7b2-222">`nvarchar` или `nchar`</span><span class="sxs-lookup"><span data-stu-id="0d7b2-222">`nvarchar` or `nchar`</span></span>|<span data-ttu-id="0d7b2-223">2\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-223">2\*</span></span>|<span data-ttu-id="0d7b2-224">4\*+</span><span class="sxs-lookup"><span data-stu-id="0d7b2-224">4\*+</span></span>|<span data-ttu-id="0d7b2-225">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-225">60%</span></span>|  
|<span data-ttu-id="0d7b2-226">`varbinary` или `binary`</span><span class="sxs-lookup"><span data-stu-id="0d7b2-226">`varbinary` or `binary`</span></span>|<span data-ttu-id="0d7b2-227">2\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-227">2\*</span></span>|<span data-ttu-id="0d7b2-228">4\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-228">4\*</span></span>|<span data-ttu-id="0d7b2-229">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-229">60%</span></span>|  
|`xml`|<span data-ttu-id="0d7b2-230">2\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-230">2\*</span></span>|<span data-ttu-id="0d7b2-231">4\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-231">4\*</span></span>|<span data-ttu-id="0d7b2-232">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-232">60%</span></span>|  
|`hierarchyid`|<span data-ttu-id="0d7b2-233">2\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-233">2\*</span></span>|<span data-ttu-id="0d7b2-234">4\*</span><span class="sxs-lookup"><span data-stu-id="0d7b2-234">4\*</span></span>|<span data-ttu-id="0d7b2-235">60 %</span><span class="sxs-lookup"><span data-stu-id="0d7b2-235">60%</span></span>|  
  
 <span data-ttu-id="0d7b2-236">\*Длина равна средней длине данных, содержащихся в типе, плюс 2 или 4 байта.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-236">\*The length is equal to the average of the data that is contained in the type, plus 2 or 4 bytes.</span></span>  
  
## <a name="in-memory-overhead-required-for-updates-to-sparse-columns"></a><span data-ttu-id="0d7b2-237">Расход памяти при обновлении разреженных столбцов</span><span class="sxs-lookup"><span data-stu-id="0d7b2-237">In-Memory Overhead Required for Updates to Sparse Columns</span></span>  
 <span data-ttu-id="0d7b2-238">При проектировании таблиц с разреженными столбцами учитывайте, что при выполнении операции обновления строки требуется 2 дополнительных байта на каждый разреженный столбец, не имеющий значения NULL, в таблице.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-238">When designing tables with sparse columns, keep in mind that an additional 2 bytes of overhead are required for each non-null sparse column in the table when a row is being updated.</span></span> <span data-ttu-id="0d7b2-239">Из-за этого операция обновления может непредвиденно завершиться ошибкой 576 в том случае, если общий размер строки, включая дополнительную память, превысит 8019 байт и будут отсутствовать столбцы, которые можно будет разместить вне строки.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-239">As a result of this additional memory requirement, updates can fail unexpectedly with error 576 when the total row size, including this memory overhead, exceeds 8019, and no columns can be pushed off the row.</span></span>  
  
 <span data-ttu-id="0d7b2-240">Рассмотрим пример таблицы, которая содержит 600 разреженных столбцов типа bigint.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-240">Consider the example of a table that has 600 sparse columns of type bigint.</span></span> <span data-ttu-id="0d7b2-241">Если 571 столбец имеет значения, отличные от NULL, общий размер на диске составит 571 \* 12 = 6852 байта.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-241">If there are 571 non-null columns, then the total size on disk is 571 \* 12 = 6852 bytes.</span></span> <span data-ttu-id="0d7b2-242">После добавления дополнительных ресурсов строки и заголовка разреженного столбца размер увеличится до 6895 байт.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-242">After including additional row overhead and the sparse column header, this increases to around 6895 bytes.</span></span> <span data-ttu-id="0d7b2-243">Для страницы по-прежнему доступно на диске около 1124 байта.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-243">The page still has around 1124 bytes available on disk.</span></span> <span data-ttu-id="0d7b2-244">При этом создается впечатление, что дополнительные столбцы могут быть успешно обновлены.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-244">This can give the impression that additional columns can be updated successfully.</span></span> <span data-ttu-id="0d7b2-245">Но во время обновления появляется дополнительный расход памяти, который составляет 2\*(число разреженных столбцов со значением, отличным от NULL).</span><span class="sxs-lookup"><span data-stu-id="0d7b2-245">However, during the update, there is additional overhead in memory which is 2\*(number of non-null sparse columns).</span></span> <span data-ttu-id="0d7b2-246">В этом примере размер строки на диске увеличится приблизительно до 8037 байт, включая дополнительный расход (2 \* 571 = 1142 байта).</span><span class="sxs-lookup"><span data-stu-id="0d7b2-246">In this example, including the additional overhead - 2 \* 571 = 1142 bytes - increases the row size on disk to around 8037 bytes.</span></span> <span data-ttu-id="0d7b2-247">Это значение превышает максимально допустимый размер 8019 байт.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-247">This size exceeds the maximum allowed size of 8019 bytes.</span></span> <span data-ttu-id="0d7b2-248">Так как все столбцы содержат тип данных фиксированной длины, они не могут быть размещены вне строки.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-248">Since all the columns are fixed-length data types, they cannot be pushed off the row.</span></span> <span data-ttu-id="0d7b2-249">В результате этого операция обновления завершится ошибкой 576.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-249">As a result, the update fails with the 576 error.</span></span>  
  
## <a name="restrictions-for-using-sparse-columns"></a><span data-ttu-id="0d7b2-250">Ограничения на использование разреженных столбцов</span><span class="sxs-lookup"><span data-stu-id="0d7b2-250">Restrictions for Using Sparse Columns</span></span>  
 <span data-ttu-id="0d7b2-251">Разреженные столбцы могут иметь любой тип данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Они работают так же, как и другие столбцы, но со следующими ограничениями.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-251">Sparse columns can be of any [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data type and behave like any other column with the following restrictions:</span></span>  
  
-   <span data-ttu-id="0d7b2-252">Разреженный столбец должен допускать значения NULL и не может иметь свойств ROWGUIDCOL или IDENTITY.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-252">A sparse column must be nullable and cannot have the ROWGUIDCOL or IDENTITY properties.</span></span> <span data-ttu-id="0d7b2-253">Разреженный столбец не может иметь следующие типы данных: `text`, `ntext`, `image`, `timestamp`, определяемый пользователем тип данных, `geometry` или `geography`; также он не может иметь атрибут FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-253">A sparse column cannot be of the following data types: `text`, `ntext`, `image`, `timestamp`, user-defined data type, `geometry`, or `geography`; or have the FILESTREAM attribute.</span></span>  
  
-   <span data-ttu-id="0d7b2-254">Разреженный столбец не может иметь значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-254">A sparse column cannot have a default value.</span></span>  
  
-   <span data-ttu-id="0d7b2-255">Разреженный столбец не может быть привязан к правилу.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-255">A sparse column cannot be bound to a rule.</span></span>  
  
-   <span data-ttu-id="0d7b2-256">Хотя вычисляемый столбец и может содержать разреженный столбец, но сам вычисляемый столбец не может быть отмечен как SPARSE.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-256">Although a computed column can contain a sparse column, a computed column cannot be marked as SPARSE.</span></span>  
  
-   <span data-ttu-id="0d7b2-257">Разреженный столбец не может быть частью кластеризованного индекса или индекса уникального первичного ключа.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-257">A sparse column cannot be part of a clustered index or a unique primary key index.</span></span> <span data-ttu-id="0d7b2-258">Однако материализованные и нематериализованные вычисляемые столбцы, определенные для разреженных столбцов, могут быть частью кластеризованного ключа.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-258">However, both persisted and nonpersisted computed columns that are defined on sparse columns can be part of a clustered key.</span></span>  
  
-   <span data-ttu-id="0d7b2-259">Разреженный столбец не может быть использован в качестве ключа секции для кластеризованного индекса или кучи.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-259">A sparse column cannot be used as a partition key of a clustered index or heap.</span></span> <span data-ttu-id="0d7b2-260">Однако разреженный столбец может быть использован в качестве ключа секции для некластеризованного индекса.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-260">However, a sparse column can be used as the partition key of a nonclustered index.</span></span>  
  
-   <span data-ttu-id="0d7b2-261">Разреженный столбец не может быть частью определяемого пользователем табличного типа, используемого в переменных таблицы и в возвращающих табличное значение параметрах.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-261">A sparse column cannot be part of a user-defined table type, which are used in table variables and table-valued parameters.</span></span>  
  
-   <span data-ttu-id="0d7b2-262">Разреженные столбцы несовместимы со сжатием данных.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-262">Sparse columns are incompatible with data compression.</span></span> <span data-ttu-id="0d7b2-263">Поэтому разреженные столбцы нельзя добавить в сжатые таблицы, а таблицы с разреженными столбцами нельзя сжать.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-263">Therefore sparse columns cannot be added to compressed tables, nor can any tables containing sparse columns be compressed.</span></span>  
  
-   <span data-ttu-id="0d7b2-264">Преобразование столбца из разреженного в неразреженный (или наоборот) требует изменения формата хранения столбца.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-264">Changing a column from sparse to nonsparse or nonsparse to sparse requires changing the storage format of the column.</span></span> <span data-ttu-id="0d7b2-265">Компонент SQL Server Database Engine для выполнения данного изменения использует следующую процедуру.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-265">The SQL Server Database Engine uses the following procedure to accomplish this change:</span></span>  
  
    1.  <span data-ttu-id="0d7b2-266">В таблицу добавляется новый столбец с новым размером хранения и форматом.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-266">Adds a new column to the table in the new storage size and format.</span></span>  
  
    2.  <span data-ttu-id="0d7b2-267">Для каждой строки в таблице производится обновление и копирование значений, хранимых в старом столбце, в новый столбец.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-267">For each row in the table, updates and copies the value stored in the old column to the new column.</span></span>  
  
    3.  <span data-ttu-id="0d7b2-268">Из схемы таблицы удаляется старый столбец.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-268">Removes the old column from the table schema.</span></span>  
  
    4.  <span data-ttu-id="0d7b2-269">Перестраивает таблицу (если нет кластеризованного индекса) или перестраивает кластеризованный индекс для освобождения места, используемого старым столбцом.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-269">Rebuilds the table (if there is no clustered index) or rebuilds the clustered index to reclaim space used by the old column.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="0d7b2-270">Шаг 2 может завершиться неудачно, если размер данных в строке превышает максимально допустимый размер строки.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-270">Step 2 can fail when the size of the data in the row exceeds the maximum allowable row size.</span></span> <span data-ttu-id="0d7b2-271">Этот размер включает размер данных, хранимых в старом столбце, и обновленных данных, хранимых в новом столбце.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-271">This size includes the size of the data stored in the old column and the updated data stored in the new column.</span></span> <span data-ttu-id="0d7b2-272">Данное ограничение составляет 8 060 байт для таблиц, не содержащих разреженные столбцы, и 8 018 байт для таблиц, содержащих их.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-272">This limit is 8060 bytes for tables that do not contain any sparse columns or 8018 bytes for tables that contain sparse columns.</span></span> <span data-ttu-id="0d7b2-273">Данная ошибка может возникнуть, даже если все подходящие столбцы включают внестрочные данные.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-273">This error can occur even if all eligible columns have been pushed off-row.</span></span>  
  
-   <span data-ttu-id="0d7b2-274">При преобразовании неразреженного столбца в разреженный увеличится место, необходимое для хранения значений, отличных от NULL.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-274">When you change a non-sparse column to a sparse column, the sparse column will consume more space for non-null values.</span></span> <span data-ttu-id="0d7b2-275">Если строка имеет длину, близкую к максимальной, операция может завершиться неудачно.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-275">When a row is close to the maximum row size limit, the operation can fail.</span></span>  
  
## <a name="sql-server-technologies-that-support-sparse-columns"></a><span data-ttu-id="0d7b2-276">Технологии SQL Server, поддерживающие разреженные столбцы</span><span class="sxs-lookup"><span data-stu-id="0d7b2-276">SQL Server Technologies That Support Sparse Columns</span></span>  
 <span data-ttu-id="0d7b2-277">В этом разделе описывается поддержка разреженных столбцов в следующих технологиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0d7b2-277">This section describes how sparse columns are supported in the following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] technologies:</span></span>  
  
-   <span data-ttu-id="0d7b2-278">Репликация транзакций</span><span class="sxs-lookup"><span data-stu-id="0d7b2-278">Transactional replication</span></span>  
  
     <span data-ttu-id="0d7b2-279">Репликация транзакций поддерживает разреженные столбцы, однако не поддерживает наборы столбцов, которые могут быть использованы с разреженными столбцами.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-279">Transactional replication supports sparse columns, but it does not support column sets, which can be used with sparse columns.</span></span> <span data-ttu-id="0d7b2-280">Дополнительные сведения о наборах столбцов см. в разделе [Использование наборов столбцов](../tables/use-column-sets.md).</span><span class="sxs-lookup"><span data-stu-id="0d7b2-280">For more information about column sets, see [Use Column Sets](../tables/use-column-sets.md).</span></span>  
  
     <span data-ttu-id="0d7b2-281">Репликация атрибута SPARSE определяется параметром схемы, задаваемым с помощью процедуры [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) либо с помощью диалогового окна **Свойства статьи** в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0d7b2-281">The replication of the SPARSE attribute is determined by a schema option that is specified by using [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) or by using the **Article Properties** dialog box in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="0d7b2-282">Более ранние версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не поддерживают разреженные столбцы.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-282">Earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] do not support sparse columns.</span></span> <span data-ttu-id="0d7b2-283">Если необходимо реплицировать данные в более раннюю версию, следует указать, что атрибут SPARSE не подлежит репликации.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-283">If you must replicate data to an earlier version, specify that the SPARSE attribute should not be replicated.</span></span>  
  
     <span data-ttu-id="0d7b2-284">В опубликованные таблицы нельзя добавлять новые разреженные столбцы или изменять свойство SPARSE существующих столбцов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-284">For tables that are published, you cannot add any new sparse columns to a table or change the sparse property of an existing column.</span></span> <span data-ttu-id="0d7b2-285">Если необходимо выполнить подобную операцию, следует удалить и повторно создать публикацию.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-285">If such an operation is required, drop and re-create the publication.</span></span>  
  
-   <span data-ttu-id="0d7b2-286">Репликация слиянием</span><span class="sxs-lookup"><span data-stu-id="0d7b2-286">Merge replication</span></span>  
  
     <span data-ttu-id="0d7b2-287">Репликация слиянием не поддерживает разреженные столбцы и наборы столбцов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-287">Merge replication does not support sparse columns or column sets.</span></span>  
  
-   <span data-ttu-id="0d7b2-288">Change tracking</span><span class="sxs-lookup"><span data-stu-id="0d7b2-288">Change tracking</span></span>  
  
     <span data-ttu-id="0d7b2-289">Отслеживание изменений поддерживает разреженные столбцы и наборы столбцов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-289">Change tracking supports sparse columns and column sets.</span></span> <span data-ttu-id="0d7b2-290">Если в таблице обновляется набор столбцов, система отслеживания изменений считает это обновлением целой строки.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-290">When a column set is updated in a table, change tracking treats this as an update to the whole row.</span></span> <span data-ttu-id="0d7b2-291">Более подробное отслеживание изменений для определения точного набора разреженных столбцов, который был изменен в ходе операции обновления набора столбцов, не осуществляется.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-291">No detailed change tracking is provided to obtain the exact set of sparse columns that are updated through the column set update operation.</span></span> <span data-ttu-id="0d7b2-292">Если разреженные столбцы обновляются явно с помощью инструкции DML, система отслеживания изменений обрабатывает их обычным образом и можно идентифицировать точный набор измененных столбцов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-292">If the sparse columns are updated explicitly through a DML statement, change tracking on them will work ordinarily and can identify the exact set of changed columns.</span></span>  
  
-   <span data-ttu-id="0d7b2-293">система отслеживания измененных данных</span><span class="sxs-lookup"><span data-stu-id="0d7b2-293">Change data capture</span></span>  
  
     <span data-ttu-id="0d7b2-294">Система отслеживания измененных данных поддерживает разреженные столбцы, но не поддерживает наборы столбцов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-294">Change data capture supports sparse columns, but it does not support column sets.</span></span>  
  
-   <span data-ttu-id="0d7b2-295">При копировании таблицы свойство разреженности столбца не сохраняется.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-295">The sparse property of a column is not preserved when the table is copied.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="0d7b2-296">Примеры</span><span class="sxs-lookup"><span data-stu-id="0d7b2-296">Examples</span></span>  
 <span data-ttu-id="0d7b2-297">В данном примере таблица документа содержит обычный набор со столбцами `DocID` и `Title`.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-297">In this example, a document table contains a common set that has the columns `DocID` and `Title`.</span></span> <span data-ttu-id="0d7b2-298">Производственной группе необходимы столбцы `ProductionSpecification` и `ProductionLocation` для всех рабочих документов.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-298">The Production group wants a `ProductionSpecification` and `ProductionLocation` column for all production documents.</span></span> <span data-ttu-id="0d7b2-299">Группе сбыта необходим столбец `MarketingSurveyGroup` для документов сбыта.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-299">The Marketing group wants a `MarketingSurveyGroup` column for marketing documents.</span></span> <span data-ttu-id="0d7b2-300">Код из этого примера создает таблицу, использующую разреженные столбцы, вставляет в таблицу две строки, затем выбирает из таблицы данные.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-300">The code in this example creates a table that uses sparse columns, inserts two rows into the table, and then selects data from the table.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0d7b2-301">Эта таблица насчитывает лишь пять столбцов, что упрощает ее отображение и чтение.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-301">This table has only five columns to make it easier to display and read.</span></span> <span data-ttu-id="0d7b2-302">При установленном параметре ANSI_NULL_DFLT_ON объявлять разреженные столбцы допускающими значения NULL необязательно.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-302">Declaring the sparse columns to be nullable is optional if the ANSI_NULL_DFLT_ON option is set.</span></span>  
  
```  
USE AdventureWorks2012;  
GO  
  
CREATE TABLE DocumentStore  
    (DocID int PRIMARY KEY,  
     Title varchar(200) NOT NULL,  
     ProductionSpecification varchar(20) SPARSE NULL,  
     ProductionLocation smallint SPARSE NULL,  
     MarketingSurveyGroup varchar(20) SPARSE NULL ) ;  
GO  
  
INSERT DocumentStore(DocID, Title, ProductionSpecification, ProductionLocation)  
VALUES (1, 'Tire Spec 1', 'AXZZ217', 27);  
GO  
  
INSERT DocumentStore(DocID, Title, MarketingSurveyGroup)  
VALUES (2, 'Survey 2142', 'Men 25 - 35');  
GO  
```  
  
 <span data-ttu-id="0d7b2-303">При выборе всех столбцов таблицы возвращается обычный результирующий набор.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-303">To select all the columns from the table returns an ordinary result set.</span></span>  
  
```  
SELECT * FROM DocumentStore ;  
```  
  
 [!INCLUDE[ssResult](../../includes/ssresult-md.md)]  
  
 `DocID  Title        ProductionSpecification  ProductionLocation  MarketingSurveyGroup`  
  
 `1      Tire Spec 1  AXZZ217                  27                  NULL`  
  
 `2      Survey 2142  NULL                     NULL                Men 25-35`  
  
 <span data-ttu-id="0d7b2-304">Поскольку производственному отделу не нужны маркетинговые данные, должен быть предоставлен список столбцов, содержащих только необходимые данные, как это показано в следующем запросе.</span><span class="sxs-lookup"><span data-stu-id="0d7b2-304">Because the Production department is not interested in the marketing data, they want to use a column list that returns only columns of interest, as shown in the following query.</span></span>  
  
```  
SELECT DocID, Title, ProductionSpecification, ProductionLocation   
FROM DocumentStore   
WHERE ProductionSpecification IS NOT NULL ;  
```  
  
 [!INCLUDE[ssResult](../../includes/ssresult-md.md)]  
  
 `DocID  Title        ProductionSpecification  ProductionLocation`  
  
 `1      Tire Spec 1  AXZZ217                  27`  
  
## <a name="see-also"></a><span data-ttu-id="0d7b2-305">См. также:</span><span class="sxs-lookup"><span data-stu-id="0d7b2-305">See Also</span></span>  
 <span data-ttu-id="0d7b2-306">[Использование наборов столбцов](../tables/use-column-sets.md) </span><span class="sxs-lookup"><span data-stu-id="0d7b2-306">[Use Column Sets](../tables/use-column-sets.md) </span></span>  
 <span data-ttu-id="0d7b2-307">[CREATE TABLE (Transact-SQL)](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0d7b2-307">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="0d7b2-308">[ALTER TABLE (Transact-SQL)](/sql/t-sql/statements/alter-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0d7b2-308">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span></span>  
 [<span data-ttu-id="0d7b2-309">sys.columns (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d7b2-309">sys.columns &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-columns-transact-sql)  
  
  

---
title: Сжатие данных | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- page compression [Database Engine]
- indexes [SQL Server], compressed
- compressed indexes [SQL Server]
- storage compression [Database Engine]
- tables [SQL Server], compressed
- storage [SQL Server], compressed
- compression [SQL Server]
- row compression [Database Engine]
- compression [SQL Server], about compressed tables and indexes
- data compression [Database Engine]
- compressed tables [SQL Server]
ms.assetid: 5f33e686-e115-4687-bd39-a00c48646513
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 48c4b11963d8e05ff7787ce9200329daf2e899ba
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667227"
---
# <a name="data-compression"></a><span data-ttu-id="160e2-102">Сжатие данных</span><span class="sxs-lookup"><span data-stu-id="160e2-102">Data Compression</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="160e2-103">поддерживает сжатие строк и страниц для таблиц и индексов rowstore, а также поддерживает columnstore и архивное сжатие columnstore для таблиц и индексов columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-103">supports row and page compression for rowstore tables and indexes, and supports columnstore and columnstore archival compression for columnstore tables and indexes.</span></span>  
  
 <span data-ttu-id="160e2-104">Для таблиц и индексов rowstore используйте функцию сжатия данных, чтобы уменьшить размер базы данных.</span><span class="sxs-lookup"><span data-stu-id="160e2-104">For rowstore tables and indexes, use the data compression feature to help reduce the size of the database.</span></span> <span data-ttu-id="160e2-105">Помимо экономии места, сжатие данных позволяет повысить производительность при рабочих нагрузках с интенсивным вводом-выводом, поскольку данные хранятся в меньшем количестве страниц и в запросах требуется считывать меньше страниц с диска.</span><span class="sxs-lookup"><span data-stu-id="160e2-105">In addition to saving space, data compression can help improve performance of I/O intensive workloads because the data is stored in fewer pages and queries need to read fewer pages from disk.</span></span> <span data-ttu-id="160e2-106">Однако для сжатия и распаковки данных при обмене данными с приложениями требуются дополнительные ресурсы ЦП на сервере баз данных.</span><span class="sxs-lookup"><span data-stu-id="160e2-106">However, extra CPU resources are required on the database server to compress and decompress the data, while data is exchanged with the application.</span></span> <span data-ttu-id="160e2-107">Можно настроить сжатие строк и страниц для следующих объектов баз данных:</span><span class="sxs-lookup"><span data-stu-id="160e2-107">You can configure row and page compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="160e2-108">Для полной таблицы, хранящейся в виде кучи.</span><span class="sxs-lookup"><span data-stu-id="160e2-108">A whole table that is stored as a heap.</span></span>  
  
-   <span data-ttu-id="160e2-109">Для полной таблицы, хранящейся в виде кластеризованного индекса.</span><span class="sxs-lookup"><span data-stu-id="160e2-109">A whole table that is stored as a clustered index.</span></span>  
  
-   <span data-ttu-id="160e2-110">Для полного некластеризованного индекса.</span><span class="sxs-lookup"><span data-stu-id="160e2-110">A whole nonclustered index.</span></span>  
  
-   <span data-ttu-id="160e2-111">Для полного некластеризованного представления.</span><span class="sxs-lookup"><span data-stu-id="160e2-111">A whole indexed view.</span></span>  
  
-   <span data-ttu-id="160e2-112">Для секционированных таблиц и индексов параметры сжатия можно задавать для каждой секции, и разные секции объекта могут иметь различные параметры.</span><span class="sxs-lookup"><span data-stu-id="160e2-112">For partitioned tables and indexes, you can configure the compression option for each partition, and the various partitions of an object do not have to have the same compression setting.</span></span>  
  
 <span data-ttu-id="160e2-113">Для таблиц и индексов columnstore все таблицы и индексы columnstore всегда используют сжатие columnstore, и этот режим не настраивается пользователем.</span><span class="sxs-lookup"><span data-stu-id="160e2-113">For columnstore tables and indexes, all columnstore tables and indexes always use columnstore compression and this is not user configurable.</span></span> <span data-ttu-id="160e2-114">Используйте архивное сжатие columnstore, чтобы еще больше сократить размер данных в случаях, когда можно предоставить дополнительное время и ресурсы ЦП для хранения и извлечения данных.</span><span class="sxs-lookup"><span data-stu-id="160e2-114">Use columnstore archival compression to further reduce the data size for situations when you can afford extra time and CPU resources to store and retrieve the data.</span></span>  <span data-ttu-id="160e2-115">Можно настроить архивное сжатие columnstore для следующих объектов базы данных:</span><span class="sxs-lookup"><span data-stu-id="160e2-115">You can configure columnstore archival compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="160e2-116">Вся таблица columnstore или весь кластеризованный индекс columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-116">A whole columnstore table or a whole clustered columnstore index.</span></span>  <span data-ttu-id="160e2-117">Таблица columnstore хранится в виде кластеризованного индекса columnstore, поэтому оба подхода приносят одинаковые результаты.</span><span class="sxs-lookup"><span data-stu-id="160e2-117">Since a columnstore table is stored as a clustered columnstore index, both approaches have the same results.</span></span>  
  
-   <span data-ttu-id="160e2-118">Весь некластеризованный индекс columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-118">A whole nonclustered columnstore index.</span></span>  
  
-   <span data-ttu-id="160e2-119">Для секционированных таблиц columnstore и индексов columnstore можно задать параметр архивного сжатия для каждой секции, и разным секциям не обязательно назначать одинаковый параметр архивного сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-119">For partitioned columnstore tables and columnstore indexes, you can configure the archival compression option for each partition, and the various partitions do not have to have the same archival compression setting.</span></span>  
  
## <a name="considerations-for-when-you-use-row-and-page-compression"></a><span data-ttu-id="160e2-120">Замечания по использованию сжатия строк и страниц</span><span class="sxs-lookup"><span data-stu-id="160e2-120">Considerations for When You Use Row and Page Compression</span></span>  
 <span data-ttu-id="160e2-121">При использовании сжатия строк и страниц следует учитывать следующее.</span><span class="sxs-lookup"><span data-stu-id="160e2-121">When you use row and page compression, be aware the following considerations:</span></span>  
  
-   <span data-ttu-id="160e2-122">Подробности сжатия данных могут меняться без предварительного уведомления в пакетах обновлений или в последующих версиях.</span><span class="sxs-lookup"><span data-stu-id="160e2-122">The details of data compression are subject to change without notice in service packs or subsequent releases.</span></span>  
  
-   <span data-ttu-id="160e2-123">Сжатие поддерживается не во всех выпусках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="160e2-123">Compression is not available in every edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="160e2-124">Дополнительные сведения см. [в разделе функции, поддерживаемые различными Выпусками SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="160e2-124">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="160e2-125">Для системных таблиц сжатие недоступно.</span><span class="sxs-lookup"><span data-stu-id="160e2-125">Compression is not available for system tables.</span></span>  
  
-   <span data-ttu-id="160e2-126">С помощью сжатия можно хранить больше строк в странице, максимальный размер строки таблицы или индекса при этом не изменяется.</span><span class="sxs-lookup"><span data-stu-id="160e2-126">Compression can allow more rows to be stored on a page, but does not change the maximum row size of a table or index.</span></span>  
  
-   <span data-ttu-id="160e2-127">Для таблицы нельзя включить сжатие, если сумма максимального размера строки и служебных данных сжатия превышает максимальный размер строки в 8060 байт.</span><span class="sxs-lookup"><span data-stu-id="160e2-127">A table cannot be enabled for compression when the maximum row size plus the compression overhead exceeds the maximum row size of 8060 bytes.</span></span> <span data-ttu-id="160e2-128">Например, таблица со столбцами C1 `char(8000)` и C2 `char(53)` не может быть сжата из-за дополнительных затрат на сжатие.</span><span class="sxs-lookup"><span data-stu-id="160e2-128">For example, a table that has the columns c1`char(8000)` and c2`char(53)` cannot be compressed because of the additional compression overhead.</span></span> <span data-ttu-id="160e2-129">При использовании формата хранения vardecimal выполняется проверка размера строки (когда формат включен).</span><span class="sxs-lookup"><span data-stu-id="160e2-129">When the vardecimal storage format is used, the row-size check is performed when the format is enabled.</span></span> <span data-ttu-id="160e2-130">При использовании сжатия строк и страниц проверка размера строки выполняется при первичном сжатии объекта, а также при всех последующих вставках и изменениях строк.</span><span class="sxs-lookup"><span data-stu-id="160e2-130">For row and page compression, the row-size check is performed when the object is initially compressed, and then checked as each row is inserted or modified.</span></span> <span data-ttu-id="160e2-131">При использовании сжатия обеспечивается выполнение следующих двух правил.</span><span class="sxs-lookup"><span data-stu-id="160e2-131">Compression enforces the following two rules:</span></span>  
  
    -   <span data-ttu-id="160e2-132">Обновление для типа с фиксированной длиной должно всегда завершаться успешно.</span><span class="sxs-lookup"><span data-stu-id="160e2-132">An update to a fixed-length type must always succeed.</span></span>  
  
    -   <span data-ttu-id="160e2-133">Отключение сжатия данных должно всегда выполняться успешно.</span><span class="sxs-lookup"><span data-stu-id="160e2-133">Disabling data compression must always succeed.</span></span> <span data-ttu-id="160e2-134">Даже если сжатая строка умещается на странице (что означает, что она имеет размер меньше 8060 байт), [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не допустит выполнения обновлений, которые не поместятся в строке без сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-134">Even if the compressed row fits on the page, which means that it is less than 8060 bytes; [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prevents updates that would not fit on the row when it is uncompressed.</span></span>  
  
-   <span data-ttu-id="160e2-135">Если указан список секций, для каждой отдельной секции можно установить тип сжатия ROW, PAGE или NONE.</span><span class="sxs-lookup"><span data-stu-id="160e2-135">When a list of partitions is specified, the compression type can be set to ROW, PAGE, or NONE on individual partitions.</span></span> <span data-ttu-id="160e2-136">Если список секций не был указан, для всех секций устанавливается свойство сжатия данных, указанное в инструкции.</span><span class="sxs-lookup"><span data-stu-id="160e2-136">If the list of partitions is not specified, all partitions are set with the data compression property that is specified in the statement.</span></span> <span data-ttu-id="160e2-137">При создании индекса или таблицы для свойства сжатия устанавливается значение NONE, если не было указано другое значение.</span><span class="sxs-lookup"><span data-stu-id="160e2-137">When a table or index is created, data compression is set to NONE unless otherwise specified.</span></span> <span data-ttu-id="160e2-138">При изменении таблицы сохраняется существующее сжатие, если не было указано иное.</span><span class="sxs-lookup"><span data-stu-id="160e2-138">When a table is modified, the existing compression is preserved unless otherwise specified.</span></span>  
  
-   <span data-ttu-id="160e2-139">При указании списка секций или секции, выходящей за пределы диапазона, будет сформирована ошибка.</span><span class="sxs-lookup"><span data-stu-id="160e2-139">If you specify a list of partitions or a partition that is out of range, an error will be generated.</span></span>  
  
-   <span data-ttu-id="160e2-140">Некластеризованные индексы не наследуют свойство сжатия таблицы.</span><span class="sxs-lookup"><span data-stu-id="160e2-140">Nonclustered indexes do not inherit the compression property of the table.</span></span> <span data-ttu-id="160e2-141">Чтобы сжать индексы, необходимо явно задать для них свойство сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-141">To compress indexes, you must explicitly set the compression property of the indexes.</span></span> <span data-ttu-id="160e2-142">По умолчанию при создании индексов для них устанавливается режим сжатия NONE.</span><span class="sxs-lookup"><span data-stu-id="160e2-142">By default, the compression setting for indexes will set to NONE when the index is created.</span></span>  
  
-   <span data-ttu-id="160e2-143">При создании кластеризованного индекса в куче кластеризованный индекс наследует состояние сжатия кучи, если не указано другое состояние сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-143">When a clustered index is created on a heap, the clustered index inherits the compression state of the heap unless an alternative compression state is specified.</span></span>  
  
-   <span data-ttu-id="160e2-144">Если для кучи было настроено сжатие уровня страницы, для страниц такое сжатие будет реализовываться только следующими методами.</span><span class="sxs-lookup"><span data-stu-id="160e2-144">When a heap is configured for page-level compression, pages receive page-level compression only in the following ways:</span></span>  
  
    -   <span data-ttu-id="160e2-145">Массовый импорт данных осуществляется со включенными массовыми оптимизациями.</span><span class="sxs-lookup"><span data-stu-id="160e2-145">Data is bulk imported with bulk optimizations enabled.</span></span>  
  
    -   <span data-ttu-id="160e2-146">Вставка данных с помощью синтаксиса INSERT INTO ... Синтаксис WITH (TABLOCK) и таблица не содержат некластеризованный индекс.</span><span class="sxs-lookup"><span data-stu-id="160e2-146">Data is inserted using INSERT INTO ... WITH (TABLOCK) syntax and the table does not have a nonclustered index.</span></span>  
  
    -   <span data-ttu-id="160e2-147">Перестройка таблицы с помощью инструкции ALTER TABLE ... REBUILD с параметром сжатия PAGE.</span><span class="sxs-lookup"><span data-stu-id="160e2-147">A table is rebuilt by executing the ALTER TABLE ... REBUILD statement with the PAGE compression option.</span></span>  
  
-   <span data-ttu-id="160e2-148">В новых страницах, размещенных в куче в процессе выполнения операций DML, сжатие страниц не будет использоваться до тех пор, пока куча не будет перестроена.</span><span class="sxs-lookup"><span data-stu-id="160e2-148">New pages allocated in a heap as part of DML operations will not use PAGE compression until the heap is rebuilt.</span></span> <span data-ttu-id="160e2-149">Перестройте кучу. Для этого удалите и повторно примените сжатие либо создайте и удалите кластеризованный индекс.</span><span class="sxs-lookup"><span data-stu-id="160e2-149">Rebuild the heap by removing and reapplying compression, or by creating and removing a clustered index.</span></span>  
  
-   <span data-ttu-id="160e2-150">Чтобы изменить параметры сжатия кучи, необходимо перестроить все некластеризованные индексы в таблице. Это обеспечивает наличие в них указателей на новые расположения в куче.</span><span class="sxs-lookup"><span data-stu-id="160e2-150">Changing the compression setting of a heap requires all nonclustered indexes on the table to be rebuilt so that they have pointers to the new row locations in the heap.</span></span>  
  
-   <span data-ttu-id="160e2-151">Включить или отключить сжатие типа ROW или PAGE можно в оперативном или режиме вне  сети.</span><span class="sxs-lookup"><span data-stu-id="160e2-151">You can enable or disable ROW or PAGE compression online or offline.</span></span> <span data-ttu-id="160e2-152">Включение сжатия для кучи является однопоточным для операции в сети.</span><span class="sxs-lookup"><span data-stu-id="160e2-152">Enabling compression on a heap is single threaded for an online operation.</span></span>  
  
-   <span data-ttu-id="160e2-153">Чтобы включить или отключить сжатие строки или страницы, необходимо столько же места на диске, как и для создания или перестройки индекса.</span><span class="sxs-lookup"><span data-stu-id="160e2-153">The disk space requirements for enabling or disabling row or page compression are the same as for creating or rebuilding an index.</span></span> <span data-ttu-id="160e2-154">Для секционированных данных объем пространства, необходимый для включения или отключения сжатия, можно сократить, выполняя включение или отключение сжатия последовательно для каждой секции.</span><span class="sxs-lookup"><span data-stu-id="160e2-154">For partitioned data, you can reduce the space that is required by enabling or disabling compression for one partition at a time.</span></span>  
  
-   <span data-ttu-id="160e2-155">Чтобы определить состояние сжатия секций в секционированной таблице, выполните запрос столбца data_compression из представления каталога sys.partitions.</span><span class="sxs-lookup"><span data-stu-id="160e2-155">To determine the compression state of partitions in a partitioned table, query the data_compression column of the sys.partitions catalog view.</span></span>  
  
-   <span data-ttu-id="160e2-156">При сжатии индексов страницы конечного уровня можно сжать как сжатием строк, так и сжатием страниц.</span><span class="sxs-lookup"><span data-stu-id="160e2-156">When you are compressing indexes, leaf-level pages can be compressed with both row and page compression.</span></span> <span data-ttu-id="160e2-157">Для страниц, расположенных не на конечном уровне, нельзя использовать сжатие страниц.</span><span class="sxs-lookup"><span data-stu-id="160e2-157">Non-leaf-level pages do not receive page compression.</span></span>  
  
-   <span data-ttu-id="160e2-158">Ввиду их размера, типы данных больших значений иногда хранятся отдельно от нормальных данных строк на страницах для особых целей.</span><span class="sxs-lookup"><span data-stu-id="160e2-158">Because of their size, large-value data types are sometimes stored separately from the normal row data on special purpose pages.</span></span> <span data-ttu-id="160e2-159">Сжатие данных недоступно для данных, хранящихся отдельно.</span><span class="sxs-lookup"><span data-stu-id="160e2-159">Data compression is not available for the data that is stored separately.</span></span>  
  
-   <span data-ttu-id="160e2-160">Таблицы, для которых в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] был реализован формат хранения vardecimal, сохранят эту настройку и после обновления.</span><span class="sxs-lookup"><span data-stu-id="160e2-160">Tables which implemented the vardecimal storage format in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] will retain that setting when upgraded.</span></span> <span data-ttu-id="160e2-161">К таблице, в которой присутствует формат хранения vardecimal, можно применить сжатие строк.</span><span class="sxs-lookup"><span data-stu-id="160e2-161">You can apply row compression to a table that has the vardecimal storage format.</span></span> <span data-ttu-id="160e2-162">Однако, поскольку сжатие строк является надмножеством формата хранения vardecimal, причин для сохранения данного формата нет.</span><span class="sxs-lookup"><span data-stu-id="160e2-162">However, because row compression is a superset of the vardecimal storage format, there is no reason to retain the vardecimal storage format.</span></span> <span data-ttu-id="160e2-163">Для десятичных значений не происходит никакого дополнительного сжатия при сочетании формата хранения vardecimal и сжатия строк.</span><span class="sxs-lookup"><span data-stu-id="160e2-163">Decimal values gain no additional compression when you combine the vardecimal storage format with row compression.</span></span> <span data-ttu-id="160e2-164">Сжатие страниц можно применить к таблице, в которой присутствует формат хранения vardecimal, однако для столбцов данного формата дополнительного сжатия, скорее всего, не произойдет.</span><span class="sxs-lookup"><span data-stu-id="160e2-164">You can apply page compression to a table that has the vardecimal storage format; however, the vardecimal storage format columns probably will not achieve additional compression.</span></span>  
  
    > [!NOTE]  
    >  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="160e2-165">поддерживает формат хранения vardecimal, однако сжатие на уровне строк достигает тех же целей, поэтому данный формат является устаревшим.</span><span class="sxs-lookup"><span data-stu-id="160e2-165">supports the vardecimal storage format; however, because row-level compression achieves the same goals, the vardecimal storage format is deprecated.</span></span> [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)]  
  
## <a name="using-columnstore-and-columnstore-archive-compression"></a><span data-ttu-id="160e2-166">Использование Columnstore и архивного сжатия Columnstore</span><span class="sxs-lookup"><span data-stu-id="160e2-166">Using Columnstore and Columnstore Archive Compression</span></span>  
  
||  
|-|  
|<span data-ttu-id="160e2-167">**Область применения**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (с[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] до [текущей версии](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span><span class="sxs-lookup"><span data-stu-id="160e2-167">**Applies to**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] through [current version](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span></span>|  
  
### <a name="basics"></a><span data-ttu-id="160e2-168">Основы</span><span class="sxs-lookup"><span data-stu-id="160e2-168">Basics</span></span>  
 <span data-ttu-id="160e2-169">Таблицы и индексы Columnstore всегда сохраняются со сжатием columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-169">Columnstore tables and indexes are always stored with columnstore compression.</span></span> <span data-ttu-id="160e2-170">Можно еще более уменьшить размер данных columnstore, настроив дополнительное сжатие, именуемое архивным сжатием.</span><span class="sxs-lookup"><span data-stu-id="160e2-170">You can further reduce the size of columnstore data by configuring an additional compression called archival compression.</span></span>  <span data-ttu-id="160e2-171">Чтобы выполнить архивное сжатие, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] применяет к данным алгоритм сжатия XPress корпорации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="160e2-171">To perform archival compression, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs the Microsoft XPRESS compression algorithm on the data.</span></span> <span data-ttu-id="160e2-172">Добавьте или удалите архивное сжатие, используя следующие типы сжатия данных.</span><span class="sxs-lookup"><span data-stu-id="160e2-172">Add or remove archival compression by using the following data compression types:</span></span>  
  
-   <span data-ttu-id="160e2-173">Используйте сжатие данных `COLUMNSTORE_ARCHIVE` для сжатия данных columnstore с помощью архивного сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-173">Use `COLUMNSTORE_ARCHIVE` data compression to compress columnstore data with archival compression.</span></span>  
  
-   <span data-ttu-id="160e2-174">Используйте сжатие данных **COLUMNSTORE** для распаковки архивного сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-174">Use **COLUMNSTORE** data compression to decompress archival compression.</span></span> <span data-ttu-id="160e2-175">Эти результирующие данные по-прежнему будут сжаты с использованием сжатия columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-175">This resulting data will continue to be compressed with columnstore compression.</span></span>  
  
 <span data-ttu-id="160e2-176">Чтобы добавить архивное сжатие, используйте команды [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) или [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) с параметром REBUILD и DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="160e2-176">To add archival compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="160e2-177">Примеры:</span><span class="sxs-lookup"><span data-stu-id="160e2-177">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE ON PARTITIONS (2,4)) ;  
  
```  
  
 <span data-ttu-id="160e2-178">Чтобы удалить архивное сжатие и восстановление данных для сжатия columnstилиe, используйте [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) или [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) с параметром REBUILD и DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="160e2-178">To remove archival compression and restore the data to columnstore compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="160e2-179">Примеры:</span><span class="sxs-lookup"><span data-stu-id="160e2-179">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (2,4) ) ;  
  
```  
  
 <span data-ttu-id="160e2-180">В следующем примере устанавливается сжатие данных columnstore в некоторых секциях и архивное сжатие columnstore в других секциях.</span><span class="sxs-lookup"><span data-stu-id="160e2-180">This next example sets the data compression to columnstore on some partitions, and to columnstore archival on other partitions.</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (  
    DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (4,5),  
    DATA COMPRESSION = COLUMNSTORE_ARCHIVE ON PARTITIONS (1,2,3)  
) ;  
```  
  
### <a name="performance"></a><span data-ttu-id="160e2-181">Производительность</span><span class="sxs-lookup"><span data-stu-id="160e2-181">Performance</span></span>  
 <span data-ttu-id="160e2-182">Сжатие индексов columnstore с использованием архивного сжатия приводит к увеличению времени обработки индекса по сравнению с индексами columnstore, к которым не применяется архивное сжатие.</span><span class="sxs-lookup"><span data-stu-id="160e2-182">Compressing columnstore indexes with archival compression will cause the index to perform slower than columnstore indexes that do not have the archival compression.</span></span>  <span data-ttu-id="160e2-183">Используйте архивное сжатие только при наличии дополнительного времени и ресурсов ЦП для сжатия и получения данных.</span><span class="sxs-lookup"><span data-stu-id="160e2-183">Use archival compression only when you can afford to use extra time and CPU resources to compress and retrieve the data.</span></span>  
  
 <span data-ttu-id="160e2-184">При снижении производительности удается уменьшить объем хранилища, что полезно для данных, доступ к которым выполняется нечасто.</span><span class="sxs-lookup"><span data-stu-id="160e2-184">The benefit of slower performance is reduced storage which is useful for data that is not frequently accessed.</span></span> <span data-ttu-id="160e2-185">Например, если имеется секция для данных за каждый месяц и основная часть активности пришлась на последние месяцы, то можно архивировать предыдущие месяцы, чтобы уменьшить требования к хранилищу.</span><span class="sxs-lookup"><span data-stu-id="160e2-185">For example, if you have a partition for each month of data, and most of your activity is for the most recent months, you could archive older months to reduce the storage requirements.</span></span>  
  
### <a name="metadata"></a><span data-ttu-id="160e2-186">Метаданные</span><span class="sxs-lookup"><span data-stu-id="160e2-186">Metadata</span></span>  
 <span data-ttu-id="160e2-187">Следующие системные представления содержат сведения о сжатии данных для кластеризованных индексов.</span><span class="sxs-lookup"><span data-stu-id="160e2-187">The following system views contain information about data compression for clustered indexes:</span></span>  
  
-   <span data-ttu-id="160e2-188">[sys. indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) — `type` столбцы и `type_desc` содержат кластеризованный индекс columnstore и некластеризованный Columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-188">[sys.indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) - The `type` and `type_desc` columns include CLUSTERED COLUMNSTORE and NONCLUSTERED COLUMNSTORE.</span></span>  
  
-   <span data-ttu-id="160e2-189">[sys. partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) — `data_compression` `data_compression_desc` столбцы и включают COLUMNSTORE и COLUMNSTORE_ARCHIVE.</span><span class="sxs-lookup"><span data-stu-id="160e2-189">[sys.partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) - The `data_compression` and `data_compression_desc` columns include COLUMNSTORE and COLUMNSTORE_ARCHIVE.</span></span>  
  
 <span data-ttu-id="160e2-190">Процедура [sp_estimate_data_compression_savings (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) не применяется к индексам columnstore.</span><span class="sxs-lookup"><span data-stu-id="160e2-190">The procedure [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) does not apply to columnstore indexes.</span></span>  
  
## <a name="how-compression-affects-partitioned-tables-and-indexes"></a><span data-ttu-id="160e2-191">Влияние сжатия на секционированные таблицы и индексы</span><span class="sxs-lookup"><span data-stu-id="160e2-191">How Compression Affects Partitioned Tables and Indexes</span></span>  
 <span data-ttu-id="160e2-192">При использовании сжатия данных в секционированных таблицах или индексах следует учитывать следующее.</span><span class="sxs-lookup"><span data-stu-id="160e2-192">When you use data compression with partitioned tables and indexes, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="160e2-193">При разбиении секций с помощью инструкции ALTER PARTITION обе секции наследуют атрибут сжатия данных исходной секции.</span><span class="sxs-lookup"><span data-stu-id="160e2-193">When partitions are split by using the ALTER PARTITION statement, both partitions inherit the data compression attribute of the original partition.</span></span>  
  
-   <span data-ttu-id="160e2-194">При слиянии двух секций результирующая секция унаследует атрибут сжатия данных секции назначения.</span><span class="sxs-lookup"><span data-stu-id="160e2-194">When two partitions are merged, the resultant partition inherits the data compression attribute of the destination partition.</span></span>  
  
-   <span data-ttu-id="160e2-195">Для переключения секции свойство сжатия данных секции должно совпадать со свойством сжатия таблицы.</span><span class="sxs-lookup"><span data-stu-id="160e2-195">To switch a partition, the data compression property of the partition must match the compression property of the table.</span></span>  
  
-   <span data-ttu-id="160e2-196">Существуют две вариации синтаксиса, которые можно использовать для изменения сжатия секционированной таблицы или индекса.</span><span class="sxs-lookup"><span data-stu-id="160e2-196">There are two syntax variations that you can use to modify the compression of a partitioned table or index:</span></span>  
  
    -   <span data-ttu-id="160e2-197">Следующий синтаксис перестраивает только упоминаемую секцию:</span><span class="sxs-lookup"><span data-stu-id="160e2-197">The following syntax rebuilds only the referenced partition:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  <option>)  
        ```  
  
    -   <span data-ttu-id="160e2-198">Следующий синтаксис перестраивает всю таблицу, используя существующий режим сжатия для всех неупоминаемых секций:</span><span class="sxs-lookup"><span data-stu-id="160e2-198">The following syntax rebuilds the whole table by using the existing compression setting for any partitions that are not referenced:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = ALL   
        WITH (DATA_COMPRESSION = PAGE ON PARTITIONS(<range>),  
        ... )  
        ```  
  
     <span data-ttu-id="160e2-199">Для секционированных индексов действуют те же принципы, но используется инструкция ALTER INDEX.</span><span class="sxs-lookup"><span data-stu-id="160e2-199">Partitioned indexes follow the same principle using ALTER INDEX.</span></span>  
  
-   <span data-ttu-id="160e2-200">При удалении кластеризованного индекса соответствующие секции кучи сохраняют настройки сжатия данных, если только не была изменена схема секционирования.</span><span class="sxs-lookup"><span data-stu-id="160e2-200">When a clustered index is dropped, the corresponding heap partitions retain their data compression setting unless the partitioning scheme is modified.</span></span> <span data-ttu-id="160e2-201">Если схема секционирования подверглась изменениям, все секции перестраиваются в распакованное состояние.</span><span class="sxs-lookup"><span data-stu-id="160e2-201">If the partitioning scheme is changed, all partitions are rebuilt to an uncompressed state.</span></span> <span data-ttu-id="160e2-202">Чтобы удалить кластеризованный индекс и изменить схему секционирования, необходимо выполнить следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="160e2-202">To drop a clustered index and change the partitioning scheme requires the following steps:</span></span>  
  
     1. <span data-ttu-id="160e2-203">Удалить кластеризованный индекс.</span><span class="sxs-lookup"><span data-stu-id="160e2-203">Drop the clustered index.</span></span>  
  
     2. <span data-ttu-id="160e2-204">Изменить таблицу с помощью параметра REBUILD ... инструкции ALTER TABLE ..., в котором указывается режим сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-204">Modify the table by using the ALTER TABLE ... REBUILD ... option that specifies the compression option.</span></span>  
  
     <span data-ttu-id="160e2-205">Удаление кластеризованного индекса в режиме вне сети происходит очень быстро, поскольку удаляются только верхние уровни кластеризованных индексов.</span><span class="sxs-lookup"><span data-stu-id="160e2-205">To drop a clustered index OFFLINE is a very fast operation, because only the upper levels of clustered indexes are removed.</span></span> <span data-ttu-id="160e2-206">При удалении кластеризованного индекса в режиме в сети [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должен перестроить кучу два раза — один для первого шага, один для второго.</span><span class="sxs-lookup"><span data-stu-id="160e2-206">When a clustered index is dropped ONLINE, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must rebuild the heap two times, once for step 1 and once for step 2.</span></span>  
  
## <a name="how-compression-affects-replication"></a><span data-ttu-id="160e2-207">Влияние сжатия на репликацию</span><span class="sxs-lookup"><span data-stu-id="160e2-207">How Compression Affects Replication</span></span>  
 <span data-ttu-id="160e2-208">При использовании сжатия данных с репликацией следует учитывать следующее.</span><span class="sxs-lookup"><span data-stu-id="160e2-208">When you are using data compression with replication, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="160e2-209">Если агент моментальных снимков формирует первичный скрипт схемы, в новой схеме для таблицы и ее индексов будет использован один и тот же режим сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-209">When the Snapshot Agent generates the initial schema script, the new schema will use the same compression settings for both the table and its indexes.</span></span> <span data-ttu-id="160e2-210">Сжатие нельзя включить только для таблицы, но не для индекса.</span><span class="sxs-lookup"><span data-stu-id="160e2-210">Compression cannot be enabled on just the table and not the index.</span></span>  
  
-   <span data-ttu-id="160e2-211">При репликации транзакций параметр схемы статьи определяет, какие из зависимых объектов или свойств должны быть добавлены в сценарий.</span><span class="sxs-lookup"><span data-stu-id="160e2-211">For transactional replication the article schema option determines what dependent objects and properties have to be scripted.</span></span> <span data-ttu-id="160e2-212">Дополнительные сведения см. в разделе [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="160e2-212">For more information, see [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span>  
  
     <span data-ttu-id="160e2-213">Агент распространителя не проверяет наличие подписчиков низкого уровня при применении скриптов.</span><span class="sxs-lookup"><span data-stu-id="160e2-213">The Distribution Agent does not check for down-level Subscribers when it applies scripts.</span></span> <span data-ttu-id="160e2-214">При выборе репликации сжатия создание таблицы у подписчиков низкого уровня завершится неудачно.</span><span class="sxs-lookup"><span data-stu-id="160e2-214">If the replication of compression is selected, creating the table on down-level Subscribers will fail.</span></span> <span data-ttu-id="160e2-215">При наличии смешанной топологии не следует включать репликацию сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-215">In the case of a mixed topology, do not enable the replication of compression.</span></span>  
  
-   <span data-ttu-id="160e2-216">Для репликации слиянием уровень совместимости публикаций переопределяет параметры схемы и определяет, какие из объектов схемы будут внесены в сценарий.</span><span class="sxs-lookup"><span data-stu-id="160e2-216">For merge replication, publication compatibility level overrides the schema options and determines the schema objects that will be scripted.</span></span>  
  
     <span data-ttu-id="160e2-217">При наличии смешанной топологии для уровня совместимости публикации следует установить значение версии подписчика низкого уровня, если поддержка новых параметров сжатия не является обязательной.</span><span class="sxs-lookup"><span data-stu-id="160e2-217">In the case of a mixed topology, if it is not required to support the new compression options, the publication compatibility level should be set to the down-level Subscriber version.</span></span> <span data-ttu-id="160e2-218">Если поддержка необходима, после создания таблиц их сжатие следует осуществить на подписчике.</span><span class="sxs-lookup"><span data-stu-id="160e2-218">If it is required, compress tables on the Subscriber after they have been created.</span></span>  
  
 <span data-ttu-id="160e2-219">В следующей таблице показываются настройки репликации, управляющие сжатием в процессе репликации.</span><span class="sxs-lookup"><span data-stu-id="160e2-219">The following table shows replication settings that control compression during replication.</span></span>  
  
|<span data-ttu-id="160e2-220">Намерение пользователя</span><span class="sxs-lookup"><span data-stu-id="160e2-220">User intent</span></span>|<span data-ttu-id="160e2-221">Выполнить репликацию схемы секционирования для таблицы или индекса</span><span class="sxs-lookup"><span data-stu-id="160e2-221">Replicate partition scheme for a table or index</span></span>|<span data-ttu-id="160e2-222">Выполнить репликацию настроек сжатия</span><span class="sxs-lookup"><span data-stu-id="160e2-222">Replicate compression settings</span></span>|<span data-ttu-id="160e2-223">Действия со сценариями</span><span class="sxs-lookup"><span data-stu-id="160e2-223">Scripting behavior</span></span>|  
|-----------------|-----------------------------------------------------|------------------------------------|------------------------|  
|<span data-ttu-id="160e2-224">Выполнить репликацию схемы секционирования и включить сжатие на подписчике для этой секции.</span><span class="sxs-lookup"><span data-stu-id="160e2-224">To replicate the partition scheme and enable compression on the Subscriber on the partition.</span></span>|<span data-ttu-id="160e2-225">True</span><span class="sxs-lookup"><span data-stu-id="160e2-225">True</span></span>|<span data-ttu-id="160e2-226">True</span><span class="sxs-lookup"><span data-stu-id="160e2-226">True</span></span>|<span data-ttu-id="160e2-227">Создать скрипты для схемы секционирования и для настроек сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-227">Scripts both the partition scheme and the compression settings.</span></span>|  
|<span data-ttu-id="160e2-228">Выполнить репликацию схемы секционирования, но не сжимать данные на подписчике.</span><span class="sxs-lookup"><span data-stu-id="160e2-228">To replicate the partition scheme but not compress the data on the Subscriber.</span></span>|<span data-ttu-id="160e2-229">Да</span><span class="sxs-lookup"><span data-stu-id="160e2-229">True</span></span>|<span data-ttu-id="160e2-230">Неверно</span><span class="sxs-lookup"><span data-stu-id="160e2-230">False</span></span>|<span data-ttu-id="160e2-231">Создать скрипт для схемы секционирования, но не создавать его для настроек сжатия секции.</span><span class="sxs-lookup"><span data-stu-id="160e2-231">Scripts out the partition scheme but not the compression settings for the partition.</span></span>|  
|<span data-ttu-id="160e2-232">Не выполнять репликацию схемы секционирования и не сжимать данные на подписчике.</span><span class="sxs-lookup"><span data-stu-id="160e2-232">To not replicate the partition scheme and not compress the data on the Subscriber.</span></span>|<span data-ttu-id="160e2-233">False</span><span class="sxs-lookup"><span data-stu-id="160e2-233">False</span></span>|<span data-ttu-id="160e2-234">False</span><span class="sxs-lookup"><span data-stu-id="160e2-234">False</span></span>|<span data-ttu-id="160e2-235">Не создавать скрипты для настроек секций или сжатия.</span><span class="sxs-lookup"><span data-stu-id="160e2-235">Does not script partition or compression settings.</span></span>|  
|<span data-ttu-id="160e2-236">Выполнить сжатие таблицы на подписчике при условии, что на издателе были сжаты все секции, но не выполнять репликацию схемы секционирования.</span><span class="sxs-lookup"><span data-stu-id="160e2-236">To compress the table on the Subscriber if all the partitions are compressed on the Publisher, but not replicate the partition scheme.</span></span>|<span data-ttu-id="160e2-237">Неверно</span><span class="sxs-lookup"><span data-stu-id="160e2-237">False</span></span>|<span data-ttu-id="160e2-238">True</span><span class="sxs-lookup"><span data-stu-id="160e2-238">True</span></span>|<span data-ttu-id="160e2-239">Проверить, что для всех секций включено сжатие.</span><span class="sxs-lookup"><span data-stu-id="160e2-239">Checks if all the partitions are enabled for compression.</span></span><br /><br /> <span data-ttu-id="160e2-240">Создать скрипт сжатия на уровне таблицы.</span><span class="sxs-lookup"><span data-stu-id="160e2-240">Scripts out compression at the table level.</span></span>|  
  
## <a name="how-compression-affects-other-sql-server-components"></a><span data-ttu-id="160e2-241">Влияние сжатия на другие компоненты SQL Server</span><span class="sxs-lookup"><span data-stu-id="160e2-241">How Compression Affects Other SQL Server Components</span></span>  
 <span data-ttu-id="160e2-242">Сжатие происходит в подсистеме хранилища, и данные предоставляются большинству других компонентов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в распакованном состоянии.</span><span class="sxs-lookup"><span data-stu-id="160e2-242">Compression occurs in the storage engine and the data is presented to most of the other components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in an uncompressed state.</span></span> <span data-ttu-id="160e2-243">Это ограничивает влияние сжатия на другие компоненты следующим.</span><span class="sxs-lookup"><span data-stu-id="160e2-243">This limits the effects of compression on the other components to the following:</span></span>  
  
-   <span data-ttu-id="160e2-244">Операции массового импорта и экспорта</span><span class="sxs-lookup"><span data-stu-id="160e2-244">Bulk import and export operations</span></span>  
  
     <span data-ttu-id="160e2-245">При экспорте данных, даже в собственном формате, данные выводятся в распакованном формате строк.</span><span class="sxs-lookup"><span data-stu-id="160e2-245">When data is exported, even in native format, the data is output in the uncompressed row format.</span></span> <span data-ttu-id="160e2-246">Поэтому размер экспортированного файла данных может значительно превысить размер исходных данных.</span><span class="sxs-lookup"><span data-stu-id="160e2-246">This can cause the size of exported data file to be significantly larger than the source data.</span></span>  
  
     <span data-ttu-id="160e2-247">При импорте данных, если для целевой таблицы было включено сжатие, данные будут преобразованы подсистемой хранилища в сжатый формат строк.</span><span class="sxs-lookup"><span data-stu-id="160e2-247">When data is imported, if the target table has been enabled for compression, the data is converted by the storage engine into compressed row format.</span></span> <span data-ttu-id="160e2-248">По сравнению с импортом данных в распакованную таблицу такой импорт может потребовать больше ресурсов ЦП.</span><span class="sxs-lookup"><span data-stu-id="160e2-248">This can cause increased CPU usage compared to when data is imported into an uncompressed table.</span></span>  
  
     <span data-ttu-id="160e2-249">Если массовый импорт данных производится в кучу с включенным сжатием страниц, то при вставке данных операция массового импорта попытается применить к ним сжатие страниц.</span><span class="sxs-lookup"><span data-stu-id="160e2-249">When data is bulk imported into a heap with page compression, the bulk import operation will try to compress the data with page compression when the data is inserted.</span></span>  
  
-   <span data-ttu-id="160e2-250">Сжатие не затрагивает резервное копирование и восстановление.</span><span class="sxs-lookup"><span data-stu-id="160e2-250">Compression does not affect backup and restore.</span></span>  
  
-   <span data-ttu-id="160e2-251">Сжатие не затрагивает доставку журналов.</span><span class="sxs-lookup"><span data-stu-id="160e2-251">Compression does not affect log shipping.</span></span>  
  
-   <span data-ttu-id="160e2-252">Сжатие данных несовместимо с разреженными столбцами.</span><span class="sxs-lookup"><span data-stu-id="160e2-252">Data compression is incompatible with sparse columns.</span></span> <span data-ttu-id="160e2-253">Поэтому таблицы, содержащие разреженные столбцы, нельзя сжать, а разреженные столбцы нельзя добавить в сжатую таблицу.</span><span class="sxs-lookup"><span data-stu-id="160e2-253">Therefore, tables containing sparse columns cannot be compressed nor can sparse columns be added to a compressed table.</span></span>  
  
-   <span data-ttu-id="160e2-254">Включение сжатия может вызвать изменение планов запросов, поскольку данные будут занимать при хранении другое число страниц с другим числом строк на страницу.</span><span class="sxs-lookup"><span data-stu-id="160e2-254">Enabling compression can cause query plans to change because the data is stored using a different number of pages and number of rows per page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="160e2-255">См. также:</span><span class="sxs-lookup"><span data-stu-id="160e2-255">See Also</span></span>  
 <span data-ttu-id="160e2-256">[Реализация сжатия строк](row-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="160e2-256">[Row Compression Implementation](row-compression-implementation.md) </span></span>  
 <span data-ttu-id="160e2-257">[Реализация сжатия страниц](page-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="160e2-257">[Page Compression Implementation](page-compression-implementation.md) </span></span>  
 <span data-ttu-id="160e2-258">[Реализация сжатия Юникода](unicode-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="160e2-258">[Unicode Compression Implementation](unicode-compression-implementation.md) </span></span>  
 <span data-ttu-id="160e2-259">[CREATE PARTITION SCHEME (Transact-SQL)](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="160e2-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span></span>  
 <span data-ttu-id="160e2-260">[CREATE PARTITION FUNCTION (Transact-SQL)](/sql/t-sql/statements/create-partition-function-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="160e2-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span></span>  
 <span data-ttu-id="160e2-261">[CREATE TABLE (Transact-SQL)](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="160e2-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="160e2-262">[ALTER TABLE (Transact-SQL)](/sql/t-sql/statements/alter-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="160e2-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span></span>  
 <span data-ttu-id="160e2-263">[CREATE INDEX (Transact-SQL)](/sql/t-sql/statements/create-index-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="160e2-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span></span>  
 [<span data-ttu-id="160e2-264">ALTER INDEX (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="160e2-264">ALTER INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-index-transact-sql)  
  
  

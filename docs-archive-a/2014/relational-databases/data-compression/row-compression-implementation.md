---
title: Реализация сжатия строк | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- compression [SQL Server], row
- row compression [Database Engine]
ms.assetid: dcd97ac1-1c85-4142-9594-9182e62f6832
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9fd2262ef7e892ef79366dbbf2ed7705a66978b9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667217"
---
# <a name="row-compression-implementation"></a><span data-ttu-id="d2edc-102">Row Compression Implementation</span><span class="sxs-lookup"><span data-stu-id="d2edc-102">Row Compression Implementation</span></span>
  <span data-ttu-id="d2edc-103">Этот раздел содержит описание того, как компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] реализует сжатие строки.</span><span class="sxs-lookup"><span data-stu-id="d2edc-103">This topic summarizes how [!INCLUDE[ssDE](../../includes/ssde-md.md)] implements row compression.</span></span> <span data-ttu-id="d2edc-104">В этой сводке представлены основные сведения, которые помогут при планировании объема хранения.</span><span class="sxs-lookup"><span data-stu-id="d2edc-104">This summary provides basic information to help you plan the storage space that you need for your data.</span></span>  
  
 <span data-ttu-id="d2edc-105">Включение сжатия изменяет только формат физического хранения данных, связанный с типом данных, но не с синтаксисом или семантикой.</span><span class="sxs-lookup"><span data-stu-id="d2edc-105">Enabling compression only changes the physical storage format of the data that is associated with a data type but not its syntax or semantics.</span></span> <span data-ttu-id="d2edc-106">Изменения приложения не требуются, если одна или более таблиц разрешены для сжатия.</span><span class="sxs-lookup"><span data-stu-id="d2edc-106">Application changes are not required when one or more tables are enabled for compression.</span></span> <span data-ttu-id="d2edc-107">Новый формат хранения записи содержит следующие основные изменения.</span><span class="sxs-lookup"><span data-stu-id="d2edc-107">The new record storage format has the following main changes:</span></span>  
  
-   <span data-ttu-id="d2edc-108">Он уменьшает нагрузку на метаданные, связанные с записью.</span><span class="sxs-lookup"><span data-stu-id="d2edc-108">It reduces the metadata overhead that is associated with the record.</span></span> <span data-ttu-id="d2edc-109">Эти метаданные являются носителями информации о столбцах, их длине и смещениях.</span><span class="sxs-lookup"><span data-stu-id="d2edc-109">This metadata is information about columns, their lengths and offsets.</span></span> <span data-ttu-id="d2edc-110">В некоторых случаях нагрузка на метаданные может быть больше, чем в старом формате хранения.</span><span class="sxs-lookup"><span data-stu-id="d2edc-110">In some cases, the metadata overhead might be larger than the old storage format.</span></span>  
  
-   <span data-ttu-id="d2edc-111">В нем используется переменная длина для числовых типов (например, `integer`, `decimal` и `float`) и для типов, основанных на числовых типах (например, `datetime` и `money`).</span><span class="sxs-lookup"><span data-stu-id="d2edc-111">It uses variable-length storage format for numeric types (for example `integer`, `decimal`, and `float`) and the types that are based on numeric (for example `datetime` and `money`).</span></span>  
  
-   <span data-ttu-id="d2edc-112">Он сохраняет фиксированные символьные строки, используя формат переменной длины, не сохраняя пустые символы.</span><span class="sxs-lookup"><span data-stu-id="d2edc-112">It stores fixed character strings by using variable-length format by not storing the blank characters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d2edc-113">Значения NULL и 0 всех типов данных оптимизированы и не занимают места.</span><span class="sxs-lookup"><span data-stu-id="d2edc-113">NULL and 0 values across all data types are optimized and take no bytes.</span></span>  
  
## <a name="how-row-compression-affects-storage"></a><span data-ttu-id="d2edc-114">Влияние сжатия строки на хранение</span><span class="sxs-lookup"><span data-stu-id="d2edc-114">How Row Compression Affects Storage</span></span>  
 <span data-ttu-id="d2edc-115">В следующей таблице описано, как сжатие строки влияет на существующие типы в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d2edc-115">The following table describes how row compression affects the existing types in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d2edc-116">В данной таблице не учитывается экономия, которую можно достичь, используя сжатие страниц.</span><span class="sxs-lookup"><span data-stu-id="d2edc-116">The table does not include the savings that can be achieved by using page compression.</span></span>  
  
|<span data-ttu-id="d2edc-117">Тип данных</span><span class="sxs-lookup"><span data-stu-id="d2edc-117">Data type</span></span>|<span data-ttu-id="d2edc-118">Изменилось ли хранение?</span><span class="sxs-lookup"><span data-stu-id="d2edc-118">Is storage affected?</span></span>|<span data-ttu-id="d2edc-119">Описание</span><span class="sxs-lookup"><span data-stu-id="d2edc-119">Description</span></span>|  
|---------------|--------------------------|-----------------|  
|`tinyint`|<span data-ttu-id="d2edc-120">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-120">No</span></span>|<span data-ttu-id="d2edc-121">1 байт является минимальным объемом хранения.</span><span class="sxs-lookup"><span data-stu-id="d2edc-121">1 byte is the minimum storage needed.</span></span>|  
|`smallint`|<span data-ttu-id="d2edc-122">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-122">Yes</span></span>|<span data-ttu-id="d2edc-123">Если значение соответствует 1 байту, то будет использован только 1 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-123">If the value fits in 1 byte, only 1 byte will be used.</span></span>|  
|`int`|<span data-ttu-id="d2edc-124">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-124">Yes</span></span>|<span data-ttu-id="d2edc-125">Использует минимально необходимое число байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-125">Uses only the bytes that are needed.</span></span> <span data-ttu-id="d2edc-126">Например, если значение может храниться в 1 байте, то для его хранения будет использоваться всего 1 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-126">For example, if a value can be stored in 1 byte, storage will take only 1 byte.</span></span>|  
|`bigint`|<span data-ttu-id="d2edc-127">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-127">Yes</span></span>|<span data-ttu-id="d2edc-128">Использует минимально необходимое число байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-128">Uses only the bytes that are needed.</span></span> <span data-ttu-id="d2edc-129">Например, если значение может храниться в 1 байте, то для его хранения будет использоваться всего 1 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-129">For example, if a value can be stored in 1 byte, storage will take only 1 byte.</span></span>|  
|`decimal`|<span data-ttu-id="d2edc-130">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-130">Yes</span></span>|<span data-ttu-id="d2edc-131">Тот же тип хранения, что и для формата vardecimal.</span><span class="sxs-lookup"><span data-stu-id="d2edc-131">This storage is exactly same as the vardecimal storage format.</span></span>|  
|`numeric`|<span data-ttu-id="d2edc-132">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-132">Yes</span></span>|<span data-ttu-id="d2edc-133">Тот же тип хранения, что и для формата vardecimal.</span><span class="sxs-lookup"><span data-stu-id="d2edc-133">This storage is exactly same as the vardecimal storage format.</span></span>|  
|`bit`|<span data-ttu-id="d2edc-134">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-134">Yes</span></span>|<span data-ttu-id="d2edc-135">Издержки на метаданные приводят это значение к 4 битам.</span><span class="sxs-lookup"><span data-stu-id="d2edc-135">The metadata overhead brings this to 4 bits.</span></span>|  
|`smallmoney`|<span data-ttu-id="d2edc-136">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-136">Yes</span></span>|<span data-ttu-id="d2edc-137">Использует целочисленное представление данных с помощью 4-битового целого числа.</span><span class="sxs-lookup"><span data-stu-id="d2edc-137">Uses the integer data representation by using a 4-byte integer.</span></span> <span data-ttu-id="d2edc-138">Значение валюты умножается на 10000, а полученное целочисленное значение сохраняется с удалением всех нолей после десятичной запятой.</span><span class="sxs-lookup"><span data-stu-id="d2edc-138">Currency value is multiplied by 10000 and the resulting integer value is stored by removing any digits after the decimal point.</span></span> <span data-ttu-id="d2edc-139">При хранении этого типа выполняется такая же оптимизация, что и для целочисленных типов.</span><span class="sxs-lookup"><span data-stu-id="d2edc-139">This type has a storage optimization similar to that for integer types.</span></span>|  
|`money`|<span data-ttu-id="d2edc-140">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-140">Yes</span></span>|<span data-ttu-id="d2edc-141">Использует целочисленное представление данных с помощью 8-битового целого числа.</span><span class="sxs-lookup"><span data-stu-id="d2edc-141">Uses the integer data representation by using an 8-byte integer.</span></span> <span data-ttu-id="d2edc-142">Значение валюты умножается на 10000, а полученное целочисленное значение сохраняется с удалением всех нолей после десятичной запятой.</span><span class="sxs-lookup"><span data-stu-id="d2edc-142">Currency value is multiplied by 10000 and the resulting integer value is stored by removing any digits after the decimal point.</span></span> <span data-ttu-id="d2edc-143">Данный тип имеет больший диапазон, чем `smallmoney`.</span><span class="sxs-lookup"><span data-stu-id="d2edc-143">This type has a larger range than `smallmoney`.</span></span> <span data-ttu-id="d2edc-144">При хранении этого типа выполняется такая же оптимизация, что и для целочисленных типов.</span><span class="sxs-lookup"><span data-stu-id="d2edc-144">This type has a storage optimization similar to that for integer types.</span></span>|  
|`float`|<span data-ttu-id="d2edc-145">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-145">Yes</span></span>|<span data-ttu-id="d2edc-146">Наименее значащие байты, содержащие нули, не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="d2edc-146">Least significant bytes with zeros are not stored.</span></span> <span data-ttu-id="d2edc-147">В большинстве случаев для недробных значений в мантиссе применяется сжатие `float`.</span><span class="sxs-lookup"><span data-stu-id="d2edc-147">`float` compression is applicable mostly for nonfractional values in mantissa.</span></span>|  
|`real`|<span data-ttu-id="d2edc-148">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-148">Yes</span></span>|<span data-ttu-id="d2edc-149">Наименее значащие байты, содержащие нули, не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="d2edc-149">Least significant bytes with zeros are not stored.</span></span> <span data-ttu-id="d2edc-150">В большинстве случаев для недробных значений в мантиссе применяется сжатие `real`.</span><span class="sxs-lookup"><span data-stu-id="d2edc-150">`real` compression is applicable mostly for nonfractional values in mantissa.</span></span>|  
|`smalldatetime`|<span data-ttu-id="d2edc-151">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-151">No</span></span>|<span data-ttu-id="d2edc-152">Использует целочисленное представление данных с использованием двухбайтных значений.</span><span class="sxs-lookup"><span data-stu-id="d2edc-152">Uses the integer data representation by using two 2-byte integers.</span></span> <span data-ttu-id="d2edc-153">Дата занимает 2 байта.</span><span class="sxs-lookup"><span data-stu-id="d2edc-153">The date takes 2 bytes.</span></span> <span data-ttu-id="d2edc-154">Время представляет собой количество дней, прошедших с 1/1/1901 г.</span><span class="sxs-lookup"><span data-stu-id="d2edc-154">It is the number of days since 1/1/1901.</span></span> <span data-ttu-id="d2edc-155">Начиная с 1902 г. необходимо 2 байта.</span><span class="sxs-lookup"><span data-stu-id="d2edc-155">This needs 2 bytes starting from 1902.</span></span> <span data-ttu-id="d2edc-156">Поэтому начиная с этой даты сэкономить место нельзя.</span><span class="sxs-lookup"><span data-stu-id="d2edc-156">Therefore, there is no savings after that point.</span></span><br /><br /> <span data-ttu-id="d2edc-157">Время представляет количество минут начиная с полуночи.</span><span class="sxs-lookup"><span data-stu-id="d2edc-157">The time is the number of minutes since midnight.</span></span> <span data-ttu-id="d2edc-158">Значения времени, находящиеся немного позже 4 часов утра, начинают использовать второй байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-158">Time values that are slightly past 4AM start to use the second byte.</span></span><br /><br /> <span data-ttu-id="d2edc-159">Если тип данных `smalldatetime` используется только для представления даты (обычно), время равно 0,0.</span><span class="sxs-lookup"><span data-stu-id="d2edc-159">If a `smalldatetime` is only used to represent a date (a common case), the time is 0.0.</span></span> <span data-ttu-id="d2edc-160">При сжатии экономится 2 байта с помощью хранения времени в наиболее значимом байтовом формате для сжатия строки.</span><span class="sxs-lookup"><span data-stu-id="d2edc-160">Compression saves 2 bytes by storing the time in most significant byte format for row compression.</span></span>|  
|`datetime`|<span data-ttu-id="d2edc-161">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-161">Yes</span></span>|<span data-ttu-id="d2edc-162">Использует целочисленное представление данных с использованием четырехбайтных значений.</span><span class="sxs-lookup"><span data-stu-id="d2edc-162">Uses the integer data representation by using two 4-byte integers.</span></span> <span data-ttu-id="d2edc-163">Целочисленное значение представляет количество дней, прошедших с 01.01.1900.</span><span class="sxs-lookup"><span data-stu-id="d2edc-163">The integer value represents the number of days with base date of 1/1/1900.</span></span> <span data-ttu-id="d2edc-164">Первые 2 байта могут представлять даты до 2079 г.</span><span class="sxs-lookup"><span data-stu-id="d2edc-164">The first 2 bytes can represent up to the year 2079.</span></span> <span data-ttu-id="d2edc-165">Сжатие может сэкономить 2 байта до этой даты.</span><span class="sxs-lookup"><span data-stu-id="d2edc-165">Compression can always save 2 bytes here until that point.</span></span> <span data-ttu-id="d2edc-166">Каждое целочисленное значение представляет собой 3,33 миллисекунды.</span><span class="sxs-lookup"><span data-stu-id="d2edc-166">Each integer value represents 3.33 milliseconds.</span></span> <span data-ttu-id="d2edc-167">Сжатие исчерпывает первые 2 байта в первые пять минут после 4:00, и становится необходимо четыре байта.</span><span class="sxs-lookup"><span data-stu-id="d2edc-167">Compression exhausts the first 2 bytes in first five minutes and needs the fourth byte after 4PM.</span></span> <span data-ttu-id="d2edc-168">Таким образом, сжатие может сэкономить только 1 байт после 4:00.</span><span class="sxs-lookup"><span data-stu-id="d2edc-168">Therefore, compression can save only 1 byte after 4PM.</span></span> <span data-ttu-id="d2edc-169">Если тип данных `datetime` сжат, как другие целые числа, сжатие экономит 2 байта в дате.</span><span class="sxs-lookup"><span data-stu-id="d2edc-169">When `datetime` is compressed like any other integer, compression saves 2 bytes in the date.</span></span>|  
|`date`|<span data-ttu-id="d2edc-170">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-170">No</span></span>|<span data-ttu-id="d2edc-171">Использует целочисленное представление данных с использованием трехбайтных значений.</span><span class="sxs-lookup"><span data-stu-id="d2edc-171">Uses the integer data representation by using 3 bytes.</span></span> <span data-ttu-id="d2edc-172">Это представляет дату начиная с 01.01.0001.</span><span class="sxs-lookup"><span data-stu-id="d2edc-172">This represents the date from 1/1/0001.</span></span> <span data-ttu-id="d2edc-173">Для современных дат сжатие строк использует все 3 байта.</span><span class="sxs-lookup"><span data-stu-id="d2edc-173">For contemporary dates, row compression uses all 3 bytes.</span></span> <span data-ttu-id="d2edc-174">При этом экономии не получается.</span><span class="sxs-lookup"><span data-stu-id="d2edc-174">This achieves no savings.</span></span>|  
|`time`|<span data-ttu-id="d2edc-175">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-175">No</span></span>|<span data-ttu-id="d2edc-176">Использует целочисленное представление данных длиной от 3 до 6 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-176">Uses the integer data representation by using 3 to 6 bytes.</span></span> <span data-ttu-id="d2edc-177">Имеются различные степени точности, от 0 до 9, которые могут использовать от 3 до 6 байтов.</span><span class="sxs-lookup"><span data-stu-id="d2edc-177">There are various precisions that start with 0 to 9 that can take 3 to 6 bytes.</span></span> <span data-ttu-id="d2edc-178">Обратите внимание, что хранение сжатой строки происходит без изменений.</span><span class="sxs-lookup"><span data-stu-id="d2edc-178">Note that there is no change in storage for row compression.</span></span> <span data-ttu-id="d2edc-179">В целом при сжатии типа данных `time` может ожидаться небольшая экономия.</span><span class="sxs-lookup"><span data-stu-id="d2edc-179">Overall, not much savings can be expected from compressing the `time` data type.</span></span> <span data-ttu-id="d2edc-180">Сжатое место используется следующим образом.</span><span class="sxs-lookup"><span data-stu-id="d2edc-180">Compressed space is used as follows:</span></span><br /><br /> <span data-ttu-id="d2edc-181">Точность = 0.</span><span class="sxs-lookup"><span data-stu-id="d2edc-181">Precision = 0.</span></span> <span data-ttu-id="d2edc-182">Байты = 3.</span><span class="sxs-lookup"><span data-stu-id="d2edc-182">Bytes = 3.</span></span> <span data-ttu-id="d2edc-183">Каждое целочисленное значение представляет собой одну секунду.</span><span class="sxs-lookup"><span data-stu-id="d2edc-183">Each integer value represents a second.</span></span> <span data-ttu-id="d2edc-184">Сжатие может представлять время до 18:00, используя 2 байта, потенциально экономя 1 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-184">Compression can represent time up to 6PM by using 2 bytes, potentially saving 1 byte.</span></span><br /><br /> <span data-ttu-id="d2edc-185">Точность = 1.</span><span class="sxs-lookup"><span data-stu-id="d2edc-185">Precision = 1.</span></span> <span data-ttu-id="d2edc-186">Байты = 3.</span><span class="sxs-lookup"><span data-stu-id="d2edc-186">Bytes = 3.</span></span> <span data-ttu-id="d2edc-187">Каждое целочисленное значение представляет собой 1/10 секунды.</span><span class="sxs-lookup"><span data-stu-id="d2edc-187">Each integer value represents 1/10 seconds.</span></span> <span data-ttu-id="d2edc-188">Сжатие использует третий байт до 2:00.</span><span class="sxs-lookup"><span data-stu-id="d2edc-188">Compression uses the third byte before 2AM.</span></span> <span data-ttu-id="d2edc-189">В результате возникает небольшая экономия.</span><span class="sxs-lookup"><span data-stu-id="d2edc-189">Results in little savings.</span></span><br /><br /> <span data-ttu-id="d2edc-190">Точность = 2.</span><span class="sxs-lookup"><span data-stu-id="d2edc-190">Precision = 2.</span></span> <span data-ttu-id="d2edc-191">Байты = 3.</span><span class="sxs-lookup"><span data-stu-id="d2edc-191">Bytes = 3.</span></span> <span data-ttu-id="d2edc-192">Подобно предыдущему случаю, экономия маловероятна.</span><span class="sxs-lookup"><span data-stu-id="d2edc-192">Similar to the previous case, it is unlikely to achieve savings.</span></span><br /><br /> <span data-ttu-id="d2edc-193">Точность = 3.</span><span class="sxs-lookup"><span data-stu-id="d2edc-193">Precision = 3.</span></span> <span data-ttu-id="d2edc-194">Байты = 4.</span><span class="sxs-lookup"><span data-stu-id="d2edc-194">Bytes = 4.</span></span> <span data-ttu-id="d2edc-195">Поскольку до 05:00 берутся первые 3 байта, возникает небольшая экономия.</span><span class="sxs-lookup"><span data-stu-id="d2edc-195">Because the first 3 bytes are taken by 5AM, achieves little savings.</span></span><br /><br /> <span data-ttu-id="d2edc-196">Точность = 4.</span><span class="sxs-lookup"><span data-stu-id="d2edc-196">Precision = 4.</span></span> <span data-ttu-id="d2edc-197">Байты = 4.</span><span class="sxs-lookup"><span data-stu-id="d2edc-197">Bytes = 4.</span></span> <span data-ttu-id="d2edc-198">Первые 3 байта берутся в первые 27 секунд.</span><span class="sxs-lookup"><span data-stu-id="d2edc-198">The first 3 bytes are taken in the first 27 seconds.</span></span> <span data-ttu-id="d2edc-199">Экономии не ожидается.</span><span class="sxs-lookup"><span data-stu-id="d2edc-199">No savings are expected.</span></span><br /><br /> <span data-ttu-id="d2edc-200">Точность = 5, байты = 5.</span><span class="sxs-lookup"><span data-stu-id="d2edc-200">Precision = 5, Bytes = 5.</span></span> <span data-ttu-id="d2edc-201">Пятый байт будет использован после 12:00.</span><span class="sxs-lookup"><span data-stu-id="d2edc-201">Fifth byte will be used after 12-noon.</span></span><br /><br /> <span data-ttu-id="d2edc-202">Точность = 6 и 7, байты = 5.</span><span class="sxs-lookup"><span data-stu-id="d2edc-202">Precision = 6 and 7, Bytes = 5.</span></span> <span data-ttu-id="d2edc-203">При этом экономии не получается.</span><span class="sxs-lookup"><span data-stu-id="d2edc-203">Achieves no savings.</span></span><br /><br /> <span data-ttu-id="d2edc-204">Точность = 8, байты = 6.</span><span class="sxs-lookup"><span data-stu-id="d2edc-204">Precision = 8, Bytes = 6.</span></span> <span data-ttu-id="d2edc-205">Шестой байт будет использован после 03:00.</span><span class="sxs-lookup"><span data-stu-id="d2edc-205">Sixth byte will be used after 3AM.</span></span>|  
|`datetime2`|<span data-ttu-id="d2edc-206">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-206">Yes</span></span>|<span data-ttu-id="d2edc-207">Использует целочисленное представление данных длиной от 6 до 9 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-207">Uses the integer data representation by using 6 to 9 bytes.</span></span> <span data-ttu-id="d2edc-208">Первые 4 байта представляют дату.</span><span class="sxs-lookup"><span data-stu-id="d2edc-208">The first 4 bytes represent the date.</span></span> <span data-ttu-id="d2edc-209">Количество байтов, берущихся для времени, будет зависеть от указанной точности времени.</span><span class="sxs-lookup"><span data-stu-id="d2edc-209">The bytes taken by the time will depend on the precision of the time that is specified.</span></span><br /><br /> <span data-ttu-id="d2edc-210">Это целочисленное значение обозначает количество дней, прошедших с 01.01.0001, и ограничено верхней границей 31.12.9999.</span><span class="sxs-lookup"><span data-stu-id="d2edc-210">The integer value represents the number of days since 1/1/0001 with an upper bound of 12/31/9999.</span></span> <span data-ttu-id="d2edc-211">При представлении даты в 2005 г. сжатие экономит 3 байта.</span><span class="sxs-lookup"><span data-stu-id="d2edc-211">To represent a date in year 2005, compression takes 3 bytes.</span></span><br /><br /> <span data-ttu-id="d2edc-212">Экономии при хранении времени не получается, так как оно занимает от 2 до 4 байт в зависимости от точности.</span><span class="sxs-lookup"><span data-stu-id="d2edc-212">There is no savings on time because it allows for 2 to 4 bytes for various time precisions.</span></span> <span data-ttu-id="d2edc-213">Таким образом, при точности в одну секунду сжатие использует для времени 2 байта, начиная использовать второй байт после 255 секунд.</span><span class="sxs-lookup"><span data-stu-id="d2edc-213">Therefore, for one-second time precision, compression uses 2 bytes for time, which takes the second byte after 255 seconds.</span></span>|  
|`datetimeoffset`|<span data-ttu-id="d2edc-214">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-214">Yes</span></span>|<span data-ttu-id="d2edc-215">Напоминает тип данных `datetime2`, за исключением того, что использует 2 байта часового пояса в формате (HH:MM).</span><span class="sxs-lookup"><span data-stu-id="d2edc-215">Resembles `datetime2`, except that there are 2 bytes of time zone of the format (HH:MM).</span></span><br /><br /> <span data-ttu-id="d2edc-216">Так же как и для типа `datetime2`, сжатие может сохранить 2 байта.</span><span class="sxs-lookup"><span data-stu-id="d2edc-216">Like `datetime2`, compression can save 2 bytes.</span></span><br /><br /> <span data-ttu-id="d2edc-217">Для значений часового пояса в большинстве случаев значение MM может быть равно 0.</span><span class="sxs-lookup"><span data-stu-id="d2edc-217">For time zone values, MM value might be 0 for most cases.</span></span> <span data-ttu-id="d2edc-218">Таким образом, сжатие может сохранить 1 байт.</span><span class="sxs-lookup"><span data-stu-id="d2edc-218">Therefore, compression can possibly save 1 byte.</span></span><br /><br /> <span data-ttu-id="d2edc-219">Изменений в хранении сжатой строки нет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-219">There are no changes in storage for row compression.</span></span>|  
|`char`|<span data-ttu-id="d2edc-220">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-220">Yes</span></span>|<span data-ttu-id="d2edc-221">Конечные символы заполнения удаляются.</span><span class="sxs-lookup"><span data-stu-id="d2edc-221">Trailing padding characters are removed.</span></span> <span data-ttu-id="d2edc-222">Обратите внимание, что компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] вставляет один и тот же символ заполнения, независимо от используемых параметров сортировки.</span><span class="sxs-lookup"><span data-stu-id="d2edc-222">Note that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] inserts the same padding character regardless of the collation that is used.</span></span>|  
|`varchar`|<span data-ttu-id="d2edc-223">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-223">No</span></span>|<span data-ttu-id="d2edc-224">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-224">No effect.</span></span>|  
|`text`|<span data-ttu-id="d2edc-225">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-225">No</span></span>|<span data-ttu-id="d2edc-226">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-226">No effect.</span></span>|  
|`nchar`|<span data-ttu-id="d2edc-227">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-227">Yes</span></span>|<span data-ttu-id="d2edc-228">Конечные символы заполнения удаляются.</span><span class="sxs-lookup"><span data-stu-id="d2edc-228">Trailing padding characters are removed.</span></span> <span data-ttu-id="d2edc-229">Обратите внимание, что компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] вставляет один и тот же символ заполнения, независимо от используемых параметров сортировки.</span><span class="sxs-lookup"><span data-stu-id="d2edc-229">Note that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] inserts the same padding character regardless of the collation that is used.</span></span>|  
|`nvarchar`|<span data-ttu-id="d2edc-230">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-230">No</span></span>|<span data-ttu-id="d2edc-231">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-231">No effect.</span></span>|  
|`ntext`|<span data-ttu-id="d2edc-232">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-232">No</span></span>|<span data-ttu-id="d2edc-233">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-233">No effect.</span></span>|  
|`binary`|<span data-ttu-id="d2edc-234">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-234">Yes</span></span>|<span data-ttu-id="d2edc-235">Замыкающие нули удаляются.</span><span class="sxs-lookup"><span data-stu-id="d2edc-235">Trailing zeros are removed.</span></span>|  
|`varbinary`|<span data-ttu-id="d2edc-236">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-236">No</span></span>|<span data-ttu-id="d2edc-237">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-237">No effect.</span></span>|  
|`image`|<span data-ttu-id="d2edc-238">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-238">No</span></span>|<span data-ttu-id="d2edc-239">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-239">No effect.</span></span>|  
|`cursor`|<span data-ttu-id="d2edc-240">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-240">No</span></span>|<span data-ttu-id="d2edc-241">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-241">No effect.</span></span>|  
|`timestamp` / `rowversion`|<span data-ttu-id="d2edc-242">Да</span><span class="sxs-lookup"><span data-stu-id="d2edc-242">Yes</span></span>|<span data-ttu-id="d2edc-243">Использует целочисленное представление данных с использованием восьмибайтных значений.</span><span class="sxs-lookup"><span data-stu-id="d2edc-243">Uses the integer data representation by using 8 bytes.</span></span> <span data-ttu-id="d2edc-244">Значение счетчика отметок времени поддерживается для каждой базы данных, и это значение начинается с 0.</span><span class="sxs-lookup"><span data-stu-id="d2edc-244">There is a timestamp counter that is maintained for each database, and its value starts from 0.</span></span> <span data-ttu-id="d2edc-245">Сжатие возможно и с другими целыми значениями.</span><span class="sxs-lookup"><span data-stu-id="d2edc-245">This can be compressed like any other integer value.</span></span>|  
|`sql_variant`|<span data-ttu-id="d2edc-246">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-246">No</span></span>|<span data-ttu-id="d2edc-247">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-247">No effect.</span></span>|  
|`uniqueidentifier`|<span data-ttu-id="d2edc-248">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-248">No</span></span>|<span data-ttu-id="d2edc-249">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-249">No effect.</span></span>|  
|`table`|<span data-ttu-id="d2edc-250">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-250">No</span></span>|<span data-ttu-id="d2edc-251">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-251">No effect.</span></span>|  
|`xml`|<span data-ttu-id="d2edc-252">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-252">No</span></span>|<span data-ttu-id="d2edc-253">Не влияет.</span><span class="sxs-lookup"><span data-stu-id="d2edc-253">No effect.</span></span>|  
|<span data-ttu-id="d2edc-254">Определяемые пользователем типы</span><span class="sxs-lookup"><span data-stu-id="d2edc-254">User-defined types</span></span>|<span data-ttu-id="d2edc-255">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-255">No</span></span>|<span data-ttu-id="d2edc-256">Имеет внутреннее представление `varbinary`.</span><span class="sxs-lookup"><span data-stu-id="d2edc-256">This is represented internally as `varbinary`.</span></span>|  
|<span data-ttu-id="d2edc-257">FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="d2edc-257">FILESTREAM</span></span>|<span data-ttu-id="d2edc-258">Нет</span><span class="sxs-lookup"><span data-stu-id="d2edc-258">No</span></span>|<span data-ttu-id="d2edc-259">Имеет внутреннее представление `varbinary`.</span><span class="sxs-lookup"><span data-stu-id="d2edc-259">This is represented internally as `varbinary`.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d2edc-260">См. также:</span><span class="sxs-lookup"><span data-stu-id="d2edc-260">See Also</span></span>  
 <span data-ttu-id="d2edc-261">[Сжатие данных](data-compression.md) </span><span class="sxs-lookup"><span data-stu-id="d2edc-261">[Data Compression](data-compression.md) </span></span>  
 [<span data-ttu-id="d2edc-262">Реализация сжатия страниц</span><span class="sxs-lookup"><span data-stu-id="d2edc-262">Page Compression Implementation</span></span>](page-compression-implementation.md)  
  
  

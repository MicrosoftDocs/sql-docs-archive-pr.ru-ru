---
title: Отслеживание изменений данных (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- CHANGE_TRACKING_CLEANUP_VERSION
- change_tracking_databases
- sys.change_tracking_databases
- WITH CHANGE_TRACKING_CONTEXT
- CHANGE_TRACKING_IS_COLUMN_IN_MASK
- sys.fn_change_tracking_dump_change_table
- fn_change_tracking_dump_change_table
- sys.fn_change_tracking_columns
- CHANGE_TRACKING_CURRENT_VERSION
- sys.change_tracking_tables
- fn_change_tracking_columns
- change_tracking_tables
- CHANGETABLE
helpviewer_keywords:
- change data capture [SQL Server], compared to change tracking
- change data capture vs. change tracking
- change data capture [SQL Server], data type behaviors
- Sync Services for ADO.NET
- change tracking [SQL Server], Sync Services for ADO.NET
- change tracking [SQL Server]
- change data capture [SQL Server], security
- change data capture [SQL Server], other SQL Server features and
ms.assetid: 7a34be46-15b4-4b6b-8497-cfd8f9f14234
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e9fb2a89aff63a69d7ad8df111d36f2b7ccafdd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665901"
---
# <a name="track-data-changes-sql-server"></a><span data-ttu-id="32a90-102">Отслеживание измененных данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-102">Track Data Changes (SQL Server)</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="32a90-103">предоставляет две функции отслеживания изменений в базе данных: [система отслеживания измененных данных](#Capture) и [отслеживание изменений](#Tracking).</span><span class="sxs-lookup"><span data-stu-id="32a90-103">provides two features that track changes to data in a database: [change data capture](#Capture) and [change tracking](#Tracking).</span></span> <span data-ttu-id="32a90-104">Эти функции позволяют приложениям обнаруживать изменения DML (операции вставки, обновления и удаления), произведенные в пользовательских таблицах базы данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-104">These features enable applications to determine the DML changes (insert, update, and delete operations) that were made to user tables in a database.</span></span> <span data-ttu-id="32a90-105">Отслеживание измененных данных и отслеживание изменений можно включить для одной и той же базы данных без каких-либо дополнительных действий.</span><span class="sxs-lookup"><span data-stu-id="32a90-105">Change data capture and change tracking can be enabled on the same database; no special considerations are required.</span></span> <span data-ttu-id="32a90-106">Сведения о выпусках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , поддерживающих отслеживание измененных данных и отслеживании изменений, см. в разделе [функции, поддерживаемые различными выпусками SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="32a90-106">For the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that support change data capture and change tracking, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
## <a name="benefits-of-using-change-data-capture-or-change-tracking"></a><span data-ttu-id="32a90-107">Преимущества использования отслеживания измененных данных или отслеживания изменений</span><span class="sxs-lookup"><span data-stu-id="32a90-107">Benefits of Using Change Data Capture or Change Tracking</span></span>  
 <span data-ttu-id="32a90-108">Возможность выполнять запросы к измененным данным в базе данных — важное условие для эффективной работы некоторых приложений.</span><span class="sxs-lookup"><span data-stu-id="32a90-108">The ability to query for data that has changed in a database is an important requirement for some applications to be efficient.</span></span> <span data-ttu-id="32a90-109">Обычно для определения изменений данных разработчикам приложений приходилось реализовывать в своих приложениях специальный метод отслеживания, использующий сочетание триггеров, столбцов отметок времени и дополнительных таблиц.</span><span class="sxs-lookup"><span data-stu-id="32a90-109">Typically, to determine data changes, application developers must implement a custom tracking method in their applications by using a combination of triggers, timestamp columns, and additional tables.</span></span> <span data-ttu-id="32a90-110">Создание таких приложений обычно связано с большими трудозатратами, требует обновлений схемы и часто вызывает серьезное снижение производительности.</span><span class="sxs-lookup"><span data-stu-id="32a90-110">Creating these applications usually involves a lot of work to implement, leads to schema updates, and often carries a high performance overhead.</span></span>  
  
 <span data-ttu-id="32a90-111">Использование функций отслеживания измененных данных или отслеживания изменений в приложениях для отслеживания изменений в базах данных, вместо разработки специализированного решения, имеет следующие преимущества.</span><span class="sxs-lookup"><span data-stu-id="32a90-111">Using change data capture or change tracking in applications to track changes in a database, instead of developing a custom solution, has the following benefits:</span></span>  
  
-   <span data-ttu-id="32a90-112">Сокращение времени проектирования.</span><span class="sxs-lookup"><span data-stu-id="32a90-112">There is reduced development time.</span></span> <span data-ttu-id="32a90-113">Поскольку функции реализованы в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], не нужно разрабатывать собственное решение.</span><span class="sxs-lookup"><span data-stu-id="32a90-113">Because functionality is available in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you do not have to develop a custom solution.</span></span>  
  
-   <span data-ttu-id="32a90-114">Изменения схемы не нужны.</span><span class="sxs-lookup"><span data-stu-id="32a90-114">Schema changes are not required.</span></span> <span data-ttu-id="32a90-115">Не требуется добавлять столбцы, триггеры или создавать дополнительные таблицы, в которых будут отслеживаться удаленные строки или храниться информация об отслеживании изменений, если столбцы невозможно добавить в пользовательские таблицы.</span><span class="sxs-lookup"><span data-stu-id="32a90-115">You do not have to add columns, add triggers, or create side table in which to track deleted rows or to store change tracking information if columns cannot be added to the user tables.</span></span>  
  
-   <span data-ttu-id="32a90-116">Имеется встроенный механизм очистки.</span><span class="sxs-lookup"><span data-stu-id="32a90-116">There is a built-in cleanup mechanism.</span></span> <span data-ttu-id="32a90-117">Очистка для отслеживания изменений выполняется автоматически в режиме в сети.</span><span class="sxs-lookup"><span data-stu-id="32a90-117">Cleanup for change tracking is performed automatically in the background.</span></span> <span data-ttu-id="32a90-118">Специальная очистка для данных, хранимых в побочной таблице, не требуется.</span><span class="sxs-lookup"><span data-stu-id="32a90-118">Custom cleanup for data that is stored in a side table is not required.</span></span>  
  
-   <span data-ttu-id="32a90-119">Для получения сведений об изменениях предоставляются функции.</span><span class="sxs-lookup"><span data-stu-id="32a90-119">Functions are provided to obtain change information.</span></span>  
  
-   <span data-ttu-id="32a90-120">Накладные затраты при операциях DML невелики.</span><span class="sxs-lookup"><span data-stu-id="32a90-120">There is low overhead to DML operations.</span></span> <span data-ttu-id="32a90-121">Синхронному отслеживанию изменений всегда сопутствуют некоторые затраты.</span><span class="sxs-lookup"><span data-stu-id="32a90-121">Synchronous change tracking will always have some overhead.</span></span> <span data-ttu-id="32a90-122">Однако отслеживание изменений может помочь снизить затраты.</span><span class="sxs-lookup"><span data-stu-id="32a90-122">However, using change tracking can help minimize the overhead.</span></span> <span data-ttu-id="32a90-123">Затраты часто оказываются меньше, чем при использовании альтернативных решений, особенно решений с использованием триггеров.</span><span class="sxs-lookup"><span data-stu-id="32a90-123">The overhead will frequently be less than that of using alternative solutions, especially solutions that require the use triggers.</span></span>  
  
-   <span data-ttu-id="32a90-124">Отслеживание изменений основано на зафиксированных транзакциях.</span><span class="sxs-lookup"><span data-stu-id="32a90-124">Change tracking is based on committed transactions.</span></span> <span data-ttu-id="32a90-125">Порядок изменений основан на времени фиксации транзакции.</span><span class="sxs-lookup"><span data-stu-id="32a90-125">The order of the changes is based on transaction commit time.</span></span> <span data-ttu-id="32a90-126">Это позволяет получить надежные результаты при наличии долго выполняемых и перекрывающихся транзакций.</span><span class="sxs-lookup"><span data-stu-id="32a90-126">This allows for reliable results to be obtained when there are long-running and overlapping transactions.</span></span> <span data-ttu-id="32a90-127">Пользовательские решения, в которых используются значения `timestamp`, должны проектироваться специально для обработки таких ситуаций.</span><span class="sxs-lookup"><span data-stu-id="32a90-127">Custom solutions that use `timestamp` values must be specifically designed to handle these scenarios.</span></span>  
  
-   <span data-ttu-id="32a90-128">Доступны стандартные средства, которые вы можете использовать для настройки и управления.</span><span class="sxs-lookup"><span data-stu-id="32a90-128">Standard tools are available that you can use to configure and manage.</span></span> [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="32a90-129">предоставляет стандартные инструкции DDL, среду [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], представления каталогов и разрешения безопасности.</span><span class="sxs-lookup"><span data-stu-id="32a90-129">provides standard DDL statements, [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], catalog views, and security permissions.</span></span>  
  
## <a name="feature-differences-between-change-data-capture-and-change-tracking"></a><span data-ttu-id="32a90-130">Отличие возможностей системы отслеживания измененных данных и системы отслеживания изменений</span><span class="sxs-lookup"><span data-stu-id="32a90-130">Feature Differences Between Change Data Capture and Change Tracking</span></span>  
 <span data-ttu-id="32a90-131">В следующей таблице приводится список отличий возможностей для системы отслеживания измененных данных и системы отслеживания изменений.</span><span class="sxs-lookup"><span data-stu-id="32a90-131">The following table lists the feature differences between change data capture and change tracking.</span></span> <span data-ttu-id="32a90-132">Система отслеживания измененных данных задействует асинхронный механизм отслеживания изменений в журнале транзакций, поэтому изменения доступны после выполнения операции DML.</span><span class="sxs-lookup"><span data-stu-id="32a90-132">The tracking mechanism in change data capture involves an asynchronous capture of changes from the transaction log so that changes are available after the DML operation.</span></span> <span data-ttu-id="32a90-133">В системе отслеживания изменений задействуется синхронное отслеживание изменений параллельно с операциями DML, поэтому данные изменений доступны немедленно.</span><span class="sxs-lookup"><span data-stu-id="32a90-133">In change tracking, the tracking mechanism involves synchronous tracking of changes in line with DML operations so that change information is available immediately.</span></span>  
  
|<span data-ttu-id="32a90-134">Признак</span><span class="sxs-lookup"><span data-stu-id="32a90-134">Feature</span></span>|<span data-ttu-id="32a90-135">система отслеживания измененных данных</span><span class="sxs-lookup"><span data-stu-id="32a90-135">Change data capture</span></span>|<span data-ttu-id="32a90-136">Change tracking</span><span class="sxs-lookup"><span data-stu-id="32a90-136">Change tracking</span></span>|  
|-------------|-------------------------|---------------------|  
|<span data-ttu-id="32a90-137">**Отслеживаемые изменения**</span><span class="sxs-lookup"><span data-stu-id="32a90-137">**Tracked changes**</span></span>|||  
|<span data-ttu-id="32a90-138">DML-изменения</span><span class="sxs-lookup"><span data-stu-id="32a90-138">DML changes</span></span>|<span data-ttu-id="32a90-139">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-139">Yes</span></span>|<span data-ttu-id="32a90-140">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-140">Yes</span></span>|  
|<span data-ttu-id="32a90-141">**Отслеживаемые данные**</span><span class="sxs-lookup"><span data-stu-id="32a90-141">**Tracked information**</span></span>|||  
|<span data-ttu-id="32a90-142">Данные журнала</span><span class="sxs-lookup"><span data-stu-id="32a90-142">Historical data</span></span>|<span data-ttu-id="32a90-143">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-143">Yes</span></span>|<span data-ttu-id="32a90-144">Нет</span><span class="sxs-lookup"><span data-stu-id="32a90-144">No</span></span>|  
|<span data-ttu-id="32a90-145">Изменение столбца</span><span class="sxs-lookup"><span data-stu-id="32a90-145">Whether column was changed</span></span>|<span data-ttu-id="32a90-146">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-146">Yes</span></span>|<span data-ttu-id="32a90-147">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-147">Yes</span></span>|  
|<span data-ttu-id="32a90-148">Тип DML</span><span class="sxs-lookup"><span data-stu-id="32a90-148">DML type</span></span>|<span data-ttu-id="32a90-149">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-149">Yes</span></span>|<span data-ttu-id="32a90-150">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-150">Yes</span></span>|  
  
##  <a name="change-data-capture"></a><a name="Capture"></a> <span data-ttu-id="32a90-151">Система отслеживания измененных данных</span><span class="sxs-lookup"><span data-stu-id="32a90-151">Change Data Capture</span></span>  
 <span data-ttu-id="32a90-152">Система отслеживания измененных данных регистрирует в журнале данные об изменении пользовательских таблиц, отслеживая как сам факт DML-изменений, так и фактически измененные данные.</span><span class="sxs-lookup"><span data-stu-id="32a90-152">Change data capture provides historical change information for a user table by capturing both the fact that DML changes were made and the actual data that was changed.</span></span> <span data-ttu-id="32a90-153">Изменения отслеживаются с помощью асинхронного процесса, который считывает журнал транзакций и слабо влияет на систему.</span><span class="sxs-lookup"><span data-stu-id="32a90-153">Changes are captured by using an asynchronous process that reads the transaction log and has a low impact on the system.</span></span>  
  
 <span data-ttu-id="32a90-154">Как показано на следующем рисунке, изменения в пользовательской таблице записываются в соответствующих таблицах изменений.</span><span class="sxs-lookup"><span data-stu-id="32a90-154">As shown in the following illustration, the changes that were made to user tables are captured in corresponding change tables.</span></span> <span data-ttu-id="32a90-155">Эти таблицы изменений обеспечивают журнальное представление изменений, распределенных во времени.</span><span class="sxs-lookup"><span data-stu-id="32a90-155">These change tables provide an historical view of the changes over time.</span></span> <span data-ttu-id="32a90-156">Функции [системы отслеживания измененных данных](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql), предоставляемые [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , обеспечивают простую систематическую обработку сведений об изменениях.</span><span class="sxs-lookup"><span data-stu-id="32a90-156">The [change data capture](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql)functions that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides enable the change data to be consumed easily and systematically.</span></span>  
  
 <span data-ttu-id="32a90-157">![Принципиальная схема отслеживания измененных данных](../../database-engine/media/cdcart1.gif "Принципиальная схема отслеживания измененных данных")</span><span class="sxs-lookup"><span data-stu-id="32a90-157">![Conceptual illustration of change data capture](../../database-engine/media/cdcart1.gif "Conceptual illustration of change data capture")</span></span>  
  
### <a name="security-model"></a><span data-ttu-id="32a90-158">Модель безопасности</span><span class="sxs-lookup"><span data-stu-id="32a90-158">Security Model</span></span>  
 <span data-ttu-id="32a90-159">В этом разделе описана модель безопасности системы отслеживания измененных данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-159">This section describes the change data capture security model.</span></span>  
  
 <span data-ttu-id="32a90-160">**Конфигурация и администрирование**</span><span class="sxs-lookup"><span data-stu-id="32a90-160">**Configuration and Administration**</span></span>  
 <span data-ttu-id="32a90-161">Чтобы включить или отключить систему отслеживания измененных данных для базы данных, вызывающий элемент [sys. sp_cdc_enable_db &#40;Transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-db-transact-sql) или [sys. sp_cdc_disable_db &#40;transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) должен быть членом предопределенной `sysadmin` роли сервера.</span><span class="sxs-lookup"><span data-stu-id="32a90-161">To either enable or disable change data capture for a database, the caller of [sys.sp_cdc_enable_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-db-transact-sql) or [sys.sp_cdc_disable_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) must be a member of the fixed server `sysadmin` role.</span></span> <span data-ttu-id="32a90-162">Включение и отключение отслеживания измененных данных на уровне таблицы требует от вызывающего объекта [sys. sp_cdc_enable_table &#40;Transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-table-transact-sql) и [sys. sp_cdc_disable_table &#40;transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-table-transact-sql) либо быть членом роли sysadmin, либо членом роли базы данных `database db_owner` .</span><span class="sxs-lookup"><span data-stu-id="32a90-162">Enabling and disabling change data capture at the table level requires the caller of [sys.sp_cdc_enable_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-table-transact-sql) and [sys.sp_cdc_disable_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-table-transact-sql) to either be a member of the sysadmin role or a member of the database `database db_owner` role.</span></span>  
  
 <span data-ttu-id="32a90-163">Использование хранимых процедур для администрирования заданий отслеживания измененных данных ограничено членами серверной роли `sysadmin` и членами роли `database db_owner`.</span><span class="sxs-lookup"><span data-stu-id="32a90-163">Use of the stored procedures to support the administration of change data capture jobs is restricted to members of the server `sysadmin` role and members of the `database db_owner` role.</span></span>  
  
 <span data-ttu-id="32a90-164">**Перечисление изменений и запросы метаданных**</span><span class="sxs-lookup"><span data-stu-id="32a90-164">**Change Enumeration and Metadata Queries**</span></span>  
 <span data-ttu-id="32a90-165">Чтобы получить доступ к информации об изменениях, связанной с экземпляром отслеживания, пользователю должен быть предоставлен доступ с правом выборки всех отслеживаемых столбцов в соответствующей исходной таблице.</span><span class="sxs-lookup"><span data-stu-id="32a90-165">To gain access to the change data that is associated with a capture instance, the user must be granted select access to all the captured columns of the associated source table.</span></span> <span data-ttu-id="32a90-166">Кроме того, если при создании экземпляра отслеживания задана шлюзовая роль, вызывающий также должен быть членом указанной шлюзовой роли.</span><span class="sxs-lookup"><span data-stu-id="32a90-166">In addition, if a gating role is specified when the capture instance is created, the caller must also be a member of the specified gating role.</span></span> <span data-ttu-id="32a90-167">Другие общие функции системы отслеживания измененных данных для доступа к метаданным имеются в распоряжении пользователей через роль public, хотя доступ к возвращенным метаданным обычно регулируется доступом с правом выборки к базовым исходным таблицам, а также членством во всех определенных шлюзовых ролях.</span><span class="sxs-lookup"><span data-stu-id="32a90-167">Other general change data capture functions for accessing metadata will be accessible to all database users through the public role, although access to the returned metadata will also typically be gated by using select access to the underlying source tables, and by membership in any defined gating roles.</span></span>  
  
 <span data-ttu-id="32a90-168">**DDL-операции в исходных таблицах с включенной системой отслеживания измененных данных**</span><span class="sxs-lookup"><span data-stu-id="32a90-168">**DDL Operations to Change Data Capture Enabled Source Tables**</span></span>  
 <span data-ttu-id="32a90-169">Если в таблице включена система отслеживания измененных данных, DDL-операции могут применяться только членом предопределенной роли сервера `sysadmin`, членом роли `database role db_owner` или `database role db_ddladmin`.</span><span class="sxs-lookup"><span data-stu-id="32a90-169">When a table is enabled for change data capture, DDL operations can only be applied to the table by a member of the fixed server role `sysadmin`, a member of the `database role db_owner`, or a member of the `database role db_ddladmin`.</span></span> <span data-ttu-id="32a90-170">Для пользователей, которым явно предоставлены права на выполнение DDL-операций в такой таблице, выводится сообщение об ошибке 22914, если они пытаются выполнить такие операции.</span><span class="sxs-lookup"><span data-stu-id="32a90-170">Users who have explicit grants to perform DDL operations on the table will receive error 22914 if they try these operation.</span></span>  
  
### <a name="data-type-considerations-for-change-data-capture"></a><span data-ttu-id="32a90-171">Вопросы типов данных в системе отслеживания измененных данных</span><span class="sxs-lookup"><span data-stu-id="32a90-171">Data Type Considerations for Change Data Capture</span></span>  
 <span data-ttu-id="32a90-172">Система отслеживания измененных данных поддерживает все базовые типы столбцов.</span><span class="sxs-lookup"><span data-stu-id="32a90-172">All base column types are supported by change data capture.</span></span> <span data-ttu-id="32a90-173">В следующей таблице описывается поведение и ограничения нескольких типов столбцов.</span><span class="sxs-lookup"><span data-stu-id="32a90-173">The following table lists the behavior and limitations for several column types.</span></span>  
  
|<span data-ttu-id="32a90-174">Тип столбца</span><span class="sxs-lookup"><span data-stu-id="32a90-174">Type of Column</span></span>|<span data-ttu-id="32a90-175">Изменения, отслеживаемые в таблицах изменений</span><span class="sxs-lookup"><span data-stu-id="32a90-175">Changes Captured in Change Tables</span></span>|<span data-ttu-id="32a90-176">Ограничения</span><span class="sxs-lookup"><span data-stu-id="32a90-176">Limitations</span></span>|  
|--------------------|---------------------------------------|-----------------|  
|<span data-ttu-id="32a90-177">Разреженные столбцы</span><span class="sxs-lookup"><span data-stu-id="32a90-177">Sparse Columns</span></span>|<span data-ttu-id="32a90-178">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-178">Yes</span></span>|<span data-ttu-id="32a90-179">Не поддерживает отслеживание изменений при использовании набора столбцов.</span><span class="sxs-lookup"><span data-stu-id="32a90-179">Does not support capturing changes when using a columnset.</span></span>|  
|<span data-ttu-id="32a90-180">Вычисляемые столбцы</span><span class="sxs-lookup"><span data-stu-id="32a90-180">Computed Columns</span></span>|<span data-ttu-id="32a90-181">Нет</span><span class="sxs-lookup"><span data-stu-id="32a90-181">No</span></span>|<span data-ttu-id="32a90-182">Изменения в вычисляемых столбцах не отслеживаются.</span><span class="sxs-lookup"><span data-stu-id="32a90-182">Changes to computed columns are not tracked.</span></span> <span data-ttu-id="32a90-183">Столбец появится в таблице изменений с подходящим типом, но в нем будет содержаться значение NULL.</span><span class="sxs-lookup"><span data-stu-id="32a90-183">The column will appear in the change table with the appropriate type, but will have a value of NULL.</span></span>|  
|<span data-ttu-id="32a90-184">XML</span><span class="sxs-lookup"><span data-stu-id="32a90-184">XML</span></span>|<span data-ttu-id="32a90-185">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-185">Yes</span></span>|<span data-ttu-id="32a90-186">Изменения в индивидуальных XML-элементах не отслеживаются.</span><span class="sxs-lookup"><span data-stu-id="32a90-186">Changes to individual XML elements are not tracked.</span></span>|  
|<span data-ttu-id="32a90-187">Отметка времени</span><span class="sxs-lookup"><span data-stu-id="32a90-187">Timestamp</span></span>|<span data-ttu-id="32a90-188">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-188">Yes</span></span>|<span data-ttu-id="32a90-189">Тип данных в таблице изменений будет преобразован в двоичный.</span><span class="sxs-lookup"><span data-stu-id="32a90-189">The data type in the change table is converted to binary.</span></span>|  
|<span data-ttu-id="32a90-190">Типы данных BLOB</span><span class="sxs-lookup"><span data-stu-id="32a90-190">BLOB data types</span></span>|<span data-ttu-id="32a90-191">Да</span><span class="sxs-lookup"><span data-stu-id="32a90-191">Yes</span></span>|<span data-ttu-id="32a90-192">Предыдущий снимок столбца BLOB будет сохранен только при изменении самого столбца.</span><span class="sxs-lookup"><span data-stu-id="32a90-192">The previous image of the BLOB column is stored only if the column itself is changed.</span></span>|  
  
### <a name="change-data-capture-and-other-sql-server-features"></a><span data-ttu-id="32a90-193">Система отслеживания измененных данных и другие функции SQL Server</span><span class="sxs-lookup"><span data-stu-id="32a90-193">Change Data Capture and Other SQL Server Features</span></span>  
 <span data-ttu-id="32a90-194">В данном разделе описывается взаимодействие следующих функций с системой отслеживания измененных данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-194">This section describes how the following features interact with change data capture:</span></span>  
  
-   <span data-ttu-id="32a90-195">Зеркальное отображение базы данных</span><span class="sxs-lookup"><span data-stu-id="32a90-195">Database mirroring</span></span>  
  
-   <span data-ttu-id="32a90-196">Репликация транзакций</span><span class="sxs-lookup"><span data-stu-id="32a90-196">Transactional replication</span></span>  
  
-   <span data-ttu-id="32a90-197">Восстановление или присоединение базы данных</span><span class="sxs-lookup"><span data-stu-id="32a90-197">Database restore or attach</span></span>  
  
#### <a name="database-mirroring"></a><span data-ttu-id="32a90-198">Зеркальное отображение базы данных</span><span class="sxs-lookup"><span data-stu-id="32a90-198">Database Mirroring</span></span>  
 <span data-ttu-id="32a90-199">Для базы данных, активированной для отслеживания измененных данных, можно установить зеркальное отображение.</span><span class="sxs-lookup"><span data-stu-id="32a90-199">A database that is enabled for change data capture can be mirrored.</span></span> <span data-ttu-id="32a90-200">Чтобы обеспечить автоматическое выполнение отслеживания и очистки на зеркальном сервере, выполните следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="32a90-200">To ensure that capture and cleanup happen automatically on the mirror, follow these steps:</span></span>  
  
1.  <span data-ttu-id="32a90-201">Убедитесь, что на зеркальном сервере запущен агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32a90-201">Ensure that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running on the mirror.</span></span>  
  
2.  <span data-ttu-id="32a90-202">Создайте задание отслеживания и задание очистки на зеркальном сервере после того, как был выполнен переход с основного сервера на зеркальный.</span><span class="sxs-lookup"><span data-stu-id="32a90-202">Create the capture job and cleanup job on the mirror after the principal has failed over to the mirror.</span></span> <span data-ttu-id="32a90-203">Для создания заданий используйте хранимую процедуру [sys.sp_cdc_add_job (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-add-job-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="32a90-203">To create the jobs, use the stored procedure [sys.sp_cdc_add_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-add-job-transact-sql).</span></span>  
  
 <span data-ttu-id="32a90-204">Дополнительные сведения о зеркальном отображении базы данных см. в разделе [Зеркальное отображение базы данных (SQL Server)](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="32a90-204">For more information about database mirroring, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>  
  
#### <a name="transactional-replication"></a><span data-ttu-id="32a90-205">репликация транзакций</span><span class="sxs-lookup"><span data-stu-id="32a90-205">Transactional Replication</span></span>  
 <span data-ttu-id="32a90-206">Система отслеживания измененных данных и репликация транзакций могут сосуществовать в одной базе данных, но если обе эти функции были включены, то заполнение таблиц изменений будет выполняться другим способом.</span><span class="sxs-lookup"><span data-stu-id="32a90-206">Change data capture and transactional replication can coexist in the same database, but population of the change tables is handled differently when both features are enabled.</span></span> <span data-ttu-id="32a90-207">Для считывания изменений из журнала транзакций система отслеживания измененных данных и репликация транзакций всегда используют одну и ту же процедуру [sp_replcmds](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="32a90-207">Change data capture and transactional replication always use the same procedure, [sp_replcmds](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql), to read changes from the transaction log.</span></span> <span data-ttu-id="32a90-208">Если система отслеживания измененных данных включена отдельно, то процедуру `sp_replcmds` вызывает задание агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32a90-208">When change data capture is enabled on its own, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job calls `sp_replcmds`.</span></span> <span data-ttu-id="32a90-209">Если обе функции включены в одной базе данных, агент чтения журнала вызывает `sp_replcmds` .</span><span class="sxs-lookup"><span data-stu-id="32a90-209">When both features are enabled on the same database, the Log Reader Agent calls `sp_replcmds`.</span></span> <span data-ttu-id="32a90-210">Агент заполняет как таблицы изменений, так и таблицы базы данных распространителя.</span><span class="sxs-lookup"><span data-stu-id="32a90-210">This agent populates both the change tables and the distribution database tables.</span></span> <span data-ttu-id="32a90-211">Дополнительные сведения см. в статье [Replication Log Reader Agent](../replication/agents/replication-log-reader-agent.md).</span><span class="sxs-lookup"><span data-stu-id="32a90-211">For more information, see [Replication Log Reader Agent](../replication/agents/replication-log-reader-agent.md).</span></span>  
  
 <span data-ttu-id="32a90-212">Рассмотрим случай, когда для базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] была включена система отслеживания измененных данных и две таблицы были включены для отслеживания.</span><span class="sxs-lookup"><span data-stu-id="32a90-212">Consider a scenario in which change data capture is enabled on the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database, and two tables are enabled for capture.</span></span> <span data-ttu-id="32a90-213">Для заполнения таблиц изменений задание отслеживания вызывает процедуру `sp_replcmds`.</span><span class="sxs-lookup"><span data-stu-id="32a90-213">To populate the change tables, the capture job calls `sp_replcmds`.</span></span> <span data-ttu-id="32a90-214">База данных активируется для репликации транзакций, после этого создается публикация.</span><span class="sxs-lookup"><span data-stu-id="32a90-214">The database is enabled for transactional replication, and a publication is created.</span></span> <span data-ttu-id="32a90-215">Для базы данных создается агент чтения журнала, задание отслеживания удаляется.</span><span class="sxs-lookup"><span data-stu-id="32a90-215">Now, the Log Reader Agent is created for the database and the capture job is deleted.</span></span> <span data-ttu-id="32a90-216">Агент чтения журнала продолжает просматривать журнал, начиная с последнего регистрационного номера транзакции, зафиксированного в таблице изменений.</span><span class="sxs-lookup"><span data-stu-id="32a90-216">The Log Reader Agent continues to scan the log from the last log sequence number that was committed to the change table.</span></span> <span data-ttu-id="32a90-217">Это обеспечивает согласованность данных в таблицах изменений.</span><span class="sxs-lookup"><span data-stu-id="32a90-217">This ensures data consistency in the change tables.</span></span> <span data-ttu-id="32a90-218">Если в данной базе данных будет отключена репликация транзакций, то агент чтения журнала будет удален, а задание отслеживания будет создано повторно.</span><span class="sxs-lookup"><span data-stu-id="32a90-218">If transactional replication is disabled in this database, the Log Reader Agent is removed and the capture job is re-created.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="32a90-219">Если для системы отслеживания измененных данных и репликации транзакций используется агент чтения журнала, то в базу данных распространителя в первую очередь записываются реплицированные изменения.</span><span class="sxs-lookup"><span data-stu-id="32a90-219">When the Log Reader Agent is used for both change data capture and transactional replication, replicated changes are first written to the distribution database.</span></span> <span data-ttu-id="32a90-220">Затем в таблицы изменений записываются отслеженные изменения.</span><span class="sxs-lookup"><span data-stu-id="32a90-220">Then, captured changes are written to the change tables.</span></span> <span data-ttu-id="32a90-221">Обе операции фиксируются одновременно.</span><span class="sxs-lookup"><span data-stu-id="32a90-221">Both operations are committed together.</span></span> <span data-ttu-id="32a90-222">Если при записи в базу данных распространителя возникла задержка, то перед появлением изменений в таблицах изменений пройдет такое же время.</span><span class="sxs-lookup"><span data-stu-id="32a90-222">If there is any latency in writing to the distribution database, there will be a corresponding latency before changes appear in the change tables.</span></span>  
  
#### <a name="restoring-or-attaching-a-database-enabled-for-change-data-capture"></a><span data-ttu-id="32a90-223">Восстановление или прикрепление базы данных, активированной для системы отслеживания измененных данных</span><span class="sxs-lookup"><span data-stu-id="32a90-223">Restoring or Attaching a Database Enabled for Change Data Capture</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="32a90-224">используется следующая логика.</span><span class="sxs-lookup"><span data-stu-id="32a90-224">uses the following logic to determine if change data capture remains enabled after a database is restored or attached:</span></span>  
  
-   <span data-ttu-id="32a90-225">Если база данных восстанавливается на том же сервере с таким же именем базы данных, то система отслеживания измененных данных останется активированной.</span><span class="sxs-lookup"><span data-stu-id="32a90-225">If a database is restored to the same server with the same database name, change data capture remains enabled.</span></span>  
  
-   <span data-ttu-id="32a90-226">Если база данных восстанавливается на другом сервере, то по умолчанию система отслеживания измененных данных будет отключена, а все связанные метаданные будут удалены.</span><span class="sxs-lookup"><span data-stu-id="32a90-226">If a database is restored to another server, by default change data capture is disabled and all related metadata is deleted.</span></span>  
  
     <span data-ttu-id="32a90-227">Для сохранения системы отслеживания измененных данных в активированном состоянии при восстановлении базы данных следует использовать параметр `KEEP_CDC`.</span><span class="sxs-lookup"><span data-stu-id="32a90-227">To retain change data capture, use the `KEEP_CDC` option when restoring the database.</span></span> <span data-ttu-id="32a90-228">Дополнительные сведения об этом параметре см. в разделе [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="32a90-228">For more information about this option, see [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
-   <span data-ttu-id="32a90-229">Если база данных отсоединяется и присоединяется к тому же или другому серверу, то система отслеживания измененных данных остается активированной.</span><span class="sxs-lookup"><span data-stu-id="32a90-229">If a database is detached and attached to the same server or another server, change data capture remains enabled.</span></span>  
  
-   <span data-ttu-id="32a90-230">Если база данных присоединяется или восстанавливается с параметром `KEEP_CDC` на любом выпуске, отличном от выпуска Enterprise, то эта операция будет заблокирована, поскольку для системы отслеживания измененных данных требуется выпуск [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise.</span><span class="sxs-lookup"><span data-stu-id="32a90-230">If a database is attached or restored with the `KEEP_CDC` option to any edition other than Enterprise, the operation is blocked because change data capture requires [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise.</span></span> <span data-ttu-id="32a90-231">Отображается сообщение об ошибке 932.</span><span class="sxs-lookup"><span data-stu-id="32a90-231">Error message 932 is displayed:</span></span>  
  
     `SQL Server cannot load database '%.*ls' because change data capture is enabled. The currently installed edition of SQL Server does not support change data capture. Either disable change data capture in the database by using a supported edition of SQL Server, or upgrade the instance to one that supports change data capture.`  
  
 <span data-ttu-id="32a90-232">Процедуру [sys.sp_cdc_disable_db](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) можно использовать для отключения отслеживания измененных данных в восстановленной или присоединенной базе данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-232">You can use [sys.sp_cdc_disable_db](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) to remove change data capture from a restored or attached database.</span></span>  
 

  ##  <a name="change-tracking"></a><a name="Tracking"></a> <span data-ttu-id="32a90-233">Отслеживание изменений</span><span class="sxs-lookup"><span data-stu-id="32a90-233">Change Tracking</span></span>  
 <span data-ttu-id="32a90-234">Система отслеживания изменений отслеживает факт изменения строк таблицы, но не отслеживает изменившиеся данные.</span><span class="sxs-lookup"><span data-stu-id="32a90-234">Change tracking captures the fact that rows in a table were changed, but does not capture the data that was changed.</span></span> <span data-ttu-id="32a90-235">Это позволяет приложениям определять изменившиеся строки, получая последние данные изменений непосредственно из пользовательских таблиц.</span><span class="sxs-lookup"><span data-stu-id="32a90-235">This enables applications to determine the rows that have changed with the latest row data being obtained directly from the user tables.</span></span> <span data-ttu-id="32a90-236">Поэтому журнал системы отслеживания изменений более ограничен по сравнению с системой отслеживания измененных данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-236">Therefore, change tracking is more limited in the historical questions it can answer compared to change data capture.</span></span> <span data-ttu-id="32a90-237">Однако приложениям, которые не нуждаются в данных предыстории, требуется меньше пространства хранения, поскольку не отслеживаются измененные данные.</span><span class="sxs-lookup"><span data-stu-id="32a90-237">However, for those applications that do not require the historical information, there is far less storage overhead because of the changed data not being captured.</span></span> <span data-ttu-id="32a90-238">Для отслеживания изменений используется синхронное средство отслеживания.</span><span class="sxs-lookup"><span data-stu-id="32a90-238">A synchronous tracking mechanism is used to track the changes.</span></span> <span data-ttu-id="32a90-239">Оно было разработано, чтобы снизить до минимума объем служебных данных для операций DML.</span><span class="sxs-lookup"><span data-stu-id="32a90-239">This has been designed to have minimal overhead to the DML operations.</span></span>  
  
 <span data-ttu-id="32a90-240">На следующем рисунке показан сценарий синхронизации, при котором оптимальным является отслеживание изменений.</span><span class="sxs-lookup"><span data-stu-id="32a90-240">The following illustration shows a synchronization scenario that would benefit by using change tracking.</span></span> <span data-ttu-id="32a90-241">В этом сценарии приложению требуются следующие данные: все строки таблицы, измененные с момента последней синхронизации, и только текущие данные строк.</span><span class="sxs-lookup"><span data-stu-id="32a90-241">In the scenario, an application requires the following information: all the rows in the table that were changed since in the last time that the table was synchronized, and only the current row data.</span></span> <span data-ttu-id="32a90-242">Поскольку для отслеживания изменений используется синхронный механизм, приложение может выполнить двустороннюю синхронизацию и уверенно определить возможные конфликты.</span><span class="sxs-lookup"><span data-stu-id="32a90-242">Because a synchronous mechanism is used to track the changes, an application can perform two-way synchronization and reliably detect any conflicts that might have occurred.</span></span>  
  
 <span data-ttu-id="32a90-243">![Принципиальная схема отслеживания измененных данных](../../database-engine/media/cdcart2.gif "Принципиальная схема отслеживания измененных данных")</span><span class="sxs-lookup"><span data-stu-id="32a90-243">![Conceptual illustration of change tracking](../../database-engine/media/cdcart2.gif "Conceptual illustration of change tracking")</span></span>  
  
### <a name="change-tracking-and-sync-services-for-adonet"></a><span data-ttu-id="32a90-244">Отслеживание изменений и службы Sync Services для ADO.NET</span><span class="sxs-lookup"><span data-stu-id="32a90-244">Change Tracking and Sync Services for ADO.NET</span></span>  
 [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)] <span data-ttu-id="32a90-245">обеспечивает синхронизацию между базами данных, предоставляя интуитивно понятный и гибкий интерфейс API, с помощью которого можно разрабатывать приложения для работы вне сети или совместной работы.</span><span class="sxs-lookup"><span data-stu-id="32a90-245">enables synchronization between databases, providing an intuitive and flexible API that enables you to build applications that target offline and collaboration scenarios.</span></span> [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)] <span data-ttu-id="32a90-246">предоставляет интерфейс API для синхронизации изменений, но фактически не отслеживает изменения в серверной или одноранговой базе данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-246">provides an API to synchronize changes, but it does not actually track changes in the server or peer database.</span></span> <span data-ttu-id="32a90-247">Можно создать нестандартную систему отслеживания изменений, однако обычно это сопряжено со значительным усложнением среды и повышенными затратами ресурсов.</span><span class="sxs-lookup"><span data-stu-id="32a90-247">You can create a custom change tracking system, but this typically introduces significant complexity and performance overhead.</span></span> <span data-ttu-id="32a90-248">Чтобы отслеживать изменения на сервере или в одноранговой базе данных, рекомендуется использовать входящую в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] систему отслеживания изменений, поскольку она легко настраивается и обладает высокой производительностью.</span><span class="sxs-lookup"><span data-stu-id="32a90-248">To track changes in a server or peer database, we recommend that you use change tracking in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] because it is easy to configure and provides high performance tracking.</span></span>  
  
 <span data-ttu-id="32a90-249">Дополнительные сведения об отслеживании изменений и [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)]см. по следующим ссылкам.</span><span class="sxs-lookup"><span data-stu-id="32a90-249">For more information about change tracking and [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)], use the following links:</span></span>  
  
-   [<span data-ttu-id="32a90-250">Об отслеживании изменений (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-250">About Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/about-change-tracking-sql-server.md)  
  
     <span data-ttu-id="32a90-251">Содержит описание отслеживания изменений данных, общие сведения о механизме отслеживания изменений и описывает взаимодействие отслеживания изменений с другими функциями компонента [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32a90-251">Describes change tracking, provides a high-level overview of how change tracking works, and describes how change tracking interacts with other [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] features.</span></span>  
  
-   [<span data-ttu-id="32a90-252">Центр разработчиков Microsoft Sync Framework</span><span class="sxs-lookup"><span data-stu-id="32a90-252">Microsoft Sync Framework Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=108054)  
  
     <span data-ttu-id="32a90-253">Содержит полную документацию по [!INCLUDE[ssSyncFrameLong](../../includes/sssyncframelong-md.md)] и [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32a90-253">Provides complete documentation for [!INCLUDE[ssSyncFrameLong](../../includes/sssyncframelong-md.md)] and [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)].</span></span> <span data-ttu-id="32a90-254">В документации по [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)]раздел "Как использовать отслеживание изменений SQL Server" содержит подробные сведения и примеры программного кода.</span><span class="sxs-lookup"><span data-stu-id="32a90-254">In the documentation for [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)], the topic "How to: Use SQL Server Change Tracking" contains detailed information and code examples.</span></span>  
  
  
## <a name="related-tasks-required"></a><span data-ttu-id="32a90-255">Связанные задачи (обязательно)</span><span class="sxs-lookup"><span data-stu-id="32a90-255">Related Tasks (required)</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="32a90-256">**Задача**</span><span class="sxs-lookup"><span data-stu-id="32a90-256">**Task**</span></span>|<span data-ttu-id="32a90-257">**Раздел**</span><span class="sxs-lookup"><span data-stu-id="32a90-257">**Topic**</span></span>|  
|<span data-ttu-id="32a90-258">Содержит общие сведения о системе отслеживания измененных данных.</span><span class="sxs-lookup"><span data-stu-id="32a90-258">Provides an overview of change data capture.</span></span>|[<span data-ttu-id="32a90-259">О фиксации измененных данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-259">About Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/about-change-data-capture-sql-server.md)|  
|<span data-ttu-id="32a90-260">Описывает, как включать и отключать отслеживание измененных данных для базы данных или таблицы.</span><span class="sxs-lookup"><span data-stu-id="32a90-260">Describes how to enable and disable change data capture on a database or table.</span></span>|[<span data-ttu-id="32a90-261">Включение и отключение отслеживания измененных данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-261">Enable and Disable Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/enable-and-disable-change-data-capture-sql-server.md)|  
|<span data-ttu-id="32a90-262">Описывает, как управлять мониторингом измененных данных и контролировать его.</span><span class="sxs-lookup"><span data-stu-id="32a90-262">Describes how to administer and monitor change data capture.</span></span>|[<span data-ttu-id="32a90-263">Администрирование и наблюдение за отслеживанием измененных данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-263">Administer and Monitor Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/administer-and-monitor-change-data-capture-sql-server.md)|  
|<span data-ttu-id="32a90-264">Описывает способы работы с информацией об изменениях, доступные потребителям отслеживания информации об изменениях.</span><span class="sxs-lookup"><span data-stu-id="32a90-264">Describes how to work with the change data that is available to change data capture consumers.</span></span> <span data-ttu-id="32a90-265">В этом разделе описываются проверка границ номеров LSN, функции запросов и сценарии функций запросов.</span><span class="sxs-lookup"><span data-stu-id="32a90-265">This topic covers validating LSN boundaries, the query functions, and query function scenarios.</span></span>|[<span data-ttu-id="32a90-266">Работа с информацией об изменениях (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-266">Work with Change Data &#40;SQL Server&#41;</span></span>](../track-changes/work-with-change-data-sql-server.md)|  
|<span data-ttu-id="32a90-267">Содержит общие сведения об отслеживании изменений.</span><span class="sxs-lookup"><span data-stu-id="32a90-267">Provides an overview of change tracking.</span></span>|[<span data-ttu-id="32a90-268">Об отслеживании изменений (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-268">About Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/about-change-tracking-sql-server.md)|  
|<span data-ttu-id="32a90-269">Описывает, как включать и отключать отслеживание изменений для базы данных или таблицы.</span><span class="sxs-lookup"><span data-stu-id="32a90-269">Describes how to enable and disable change tracking on a database or table.</span></span>|[<span data-ttu-id="32a90-270">Включение и отключение отслеживания изменений (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-270">Enable and Disable Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/enable-and-disable-change-tracking-sql-server.md)|  
|<span data-ttu-id="32a90-271">Описывает, как управлять отслеживанием изменений, настраивать безопасность и определять влияние использования отслеживания изменений на производительность и требуемый объем хранилища.</span><span class="sxs-lookup"><span data-stu-id="32a90-271">Describes how to manage change tracking, configure security, and determine the effects on storage and performance when change tracking is used.</span></span>|[<span data-ttu-id="32a90-272">Управление отслеживанием изменений (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-272">Manage Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/manage-change-tracking-sql-server.md)|  
|<span data-ttu-id="32a90-273">Описывает, как приложения, использующие отслеживание изменений, могут получать отслеженные изменения, применять эти изменения к другому хранилищу данных и обновлять базу данных-источник.</span><span class="sxs-lookup"><span data-stu-id="32a90-273">Describes how applications that use change tracking can obtain tracked changes, apply these changes to another data store, and update the source database.</span></span> <span data-ttu-id="32a90-274">В этом разделе также описывается роль, которую отслеживание изменений играет при отработке отказа, когда необходимо восстановить базу данных из резервной копии.</span><span class="sxs-lookup"><span data-stu-id="32a90-274">This topic also describes the role change tracking plays when a failover occurs and a database must be restored from a backup.</span></span>|[<span data-ttu-id="32a90-275">Работа с отслеживанием изменений (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32a90-275">Work with Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/work-with-change-tracking-sql-server.md)|  
  
## <a name="see-also"></a><span data-ttu-id="32a90-276">См. также:</span><span class="sxs-lookup"><span data-stu-id="32a90-276">See Also</span></span>  
 <span data-ttu-id="32a90-277">[Функции системы отслеживания измененных данных &#40;языке Transact-SQL&#41;](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="32a90-277">[Change Data Capture Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql) </span></span>  
 <span data-ttu-id="32a90-278">[Функции Отслеживание изменений &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="32a90-278">[Change Tracking Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql) </span></span>  
 <span data-ttu-id="32a90-279">[Хранимые процедуры системы отслеживания измененных данных &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/change-data-capture-stored-procedures-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="32a90-279">[Change Data Capture Stored Procedures &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/change-data-capture-stored-procedures-transact-sql) </span></span>  
 <span data-ttu-id="32a90-280">[Таблицы системы отслеживания измененных данных &#40;&#41;Transact-SQL](/sql/relational-databases/system-tables/change-data-capture-tables-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="32a90-280">[Change Data Capture Tables &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/change-data-capture-tables-transact-sql) </span></span>  
 [<span data-ttu-id="32a90-281">Динамические административные представления, связанные с системой отслеживания измененных данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="32a90-281">Change Data Capture Related Dynamic Management Views &#40;Transact-SQL&#41;</span></span>](../views/views.md)  
  
  

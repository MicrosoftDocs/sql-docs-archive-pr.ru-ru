---
title: MSSQLSERVER_605 | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- 605 (Database Engine error)
ms.assetid: d8d3a22e-1ff8-48a4-891f-4c8619437e24
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e196fba84af492b25e798629d3e808b1bf22857e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667101"
---
# <a name="mssqlserver_605"></a>MSSQLSERVER_605
    
## <a name="details"></a>Сведения  
  
|||  
|-|-|  
|Название продукта|SQL Server|  
|Идентификатор события|605|  
|Источник события|MSSQLSERVER|  
|Компонент|SQLEngine|  
|Символическое имя|WRONGPAGE|  
|Текст сообщения|Не удалось выбрать логическую страницу с идентификатором %S_PGID в базе данных %d. Она принадлежит единице распределения %I64d, а не %I64d.|  
  
## <a name="explanation"></a>Объяснение  
 Обычно эта ошибка свидетельствует о повреждении страниц или об ошибке при их выделении в указанной базе данных. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выявляет это при чтении страниц таблицы либо по указателям, либо через карту распределения индекса (IAM). Все относящиеся к таблице страницы должны принадлежать одной из единиц распределения, связанных с данной таблицей. Если идентификатор единицы распределения, содержащийся в заголовке страницы, не соответствует идентификатору единицы распределения, связанной с таблицей, возникает это исключение. Первый идентификатор единицы распределения, приведенный в сообщении об ошибке, содержится в заголовке страницы, а второй является идентификатором, связанным с таблицей.  
  
 **Ошибки повреждения данных**  
  
 Уровень серьезности 21 указывает на потенциальное повреждение данных. Его причиной может стать повреждение цепочки страниц, карты распределения индекса или неверная запись в представлении каталога [sys.objects](/sql/relational-databases/system-catalog-views/sys-objects-transact-sql) для этого объекта. Зачастую такие ошибки вызваны сбоем оборудования или драйвера дискового устройства.  
  
 **Нерегулярные ошибки**  
  
 Уровень серьезности 12 означает потенциальную нерегулярную ошибку. Такие ошибки возникают в кэше и не указывают на повреждение данных на диске. Нерегулярные ошибки 605 могут быть вызваны следующими причинами.  
  
-   Операционная система преждевременно извещает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] о завершении операции ввода-вывода. В таком случае будет выдано сообщение об ошибке, хотя реальное повреждение данных места не имело.  
  
 Запуск запроса с указанием оптимизатору NOLOCK или задание уровня изоляции транзакций READ UNCOMMITTED. Когда запрос с подсказкой NOLOCK или на уровне изоляции READ UNCOMMITTED пытается прочитать данные, которые перемещены или изменены другим пользователем, возникает ошибка 605. Чтобы убедиться, что имеет место нерегулярная ошибка 605, перезапустите запрос позже. Дополнительные сведения см. в статье базы знаний [235880](https://support.microsoft.com/kb/235880/en-us): "При выполнении запроса с указанием оптимизатору NOLOCK или при установке уровня изоляции транзакции в значение READ UNCOMMITTED в SQL Server получено сообщение об ошибке «Ошибка 605»".  
  
 Как правило, если эта ошибка возникла при доступе к данным, но последующие операции DBCC CHECKDB завершились успешно, то скорее всего ошибка 605 была нерегулярной.  
  
## <a name="user-action"></a>Действие пользователя  
 Если ошибка 605 появляется регулярно, это означает, что возникла серьезная проблема, которая должна быть решена путем выполнения следующих задач.  
  
1.  Выясните, какие таблицы связаны с указанными в сообщении единицами распределения, запустив следующий запрос. Замените `allocation_unit_id` указанными в сообщении об ошибке единицами распределения.  
  
     USE`database_name`;  
  
     GO  
  
     SELECT au.allocation_unit_id, OBJECT_NAME(p.object_id) AS table_name, fg.name AS filegroup_name,  
  
     au.type_desc AS allocation_type, au.data_pages, partition_number  
  
     FROM sys.allocation_units AS au  
  
     JOIN sys.partitions AS p ON au.container_id = p.partition_id  
  
     JOIN sys.filegroups AS fg ON fg.data_space_id = au.data_space_id  
  
     WHERE au.allocation_unit_id = `allocation_unit_id` OR au.allocation_unit_id = `allocation_unit_id`  
  
     ORDER BY au.allocation_unit_id;  
  
     GO  
  
2.  Выполните инструкцию DBCC CHECKTABLE без предложения REPAIR для таблицы, связанной со вторым идентификатором единицы распределения, указанным в сообщении об ошибке.  
  
3.  Выполните инструкцию DBCC CHECKDB без предложения REPAIR как можно скорее, чтобы выявить весь поврежденный экстент в базе данных.  
  
4.  Проверьте в журнале ошибок наличие других ошибок, которые обычно сопровождают ошибку 605 и выясните, не указывают ли они на какие-либо проблемы, связанные с системой или оборудованием. Исправьте все неполадки оборудования, обнаруженные в журналах.  
  
 Если проблема не связана с оборудованием, выполните одну из следующих задач.  
  
1.  Восстановите базу данных из безошибочной резервной копии. Восстановление страниц позволяет эффективно восстанавливать из резервных копий только поврежденные страницы.  
  
2.  Для исправления повреждения запустите инструкцию DBCC CHECKDB с предложением REPAIR согласно рекомендации операции DBCC CHECKDB, выполненной на шаге 3. Если в результате выполнения инструкции DBCC CHECKDB с одним из предложений REPAIR неполадка устранена не была, обратитесь к вашему основному поставщику услуг технической поддержки. Подготовьте к просмотру выходные данные инструкции DBCC CHECKDB.  
  
    > [!CAUTION]  
    >  Если достоверно неизвестно, к каким последствиям приведет выполнение инструкции DBCC CHECKDB с выбранным предложением REPAIR, перед выполнением этой инструкции обратитесь к вашему основному поставщику услуг технической поддержки.  
  
## <a name="see-also"></a>См. также:  
 [DBCC CHECKTABLE (Transact-SQL)](/sql/t-sql/database-console-commands/dbcc-checktable-transact-sql)  
  
  

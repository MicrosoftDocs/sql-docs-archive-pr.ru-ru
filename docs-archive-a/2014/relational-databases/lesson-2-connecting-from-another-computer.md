---
title: Урок 2. Соединение с другого компьютера | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
ms.assetid: fd4ddeb8-0cb6-441b-9704-03575c07020f
author: rothja
ms.author: jroth
ms.openlocfilehash: 26a8e1b34ad5dfb4ed7bf9e20c2cf64f87a9d354
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665337"
---
# <a name="lesson-2-connecting-from-another-computer"></a>Урок 2. Подключение с другого компьютера
  В целях повышения безопасности к компоненту [!INCLUDE[ssDE](../includes/ssde-md.md)] выпусков [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Developer Edition, Express Edition и Evaluation Edition нельзя получить доступ с другого компьютера при первоначальной установке. В этом занятии показано, как включить протоколы, настроить порты и брандмауэр Windows для соединения, используя другие компьютеры.  
  
 Это занятие содержит следующие задачи.  
  
-   [Включение протоколов](#protocols)  
  
-   [Настройка фиксированного порта](#port)  
  
-   [Открытие портов в брандмауэре](#firewall)  
  
-   [Соединение с компонентом Database Engine с другого компьютера](#otherComp)  
  
-   [Соединение с помощью службы обозревателя SQL Server](#browser)  
  
##  <a name="enabling-protocols"></a><a name="protocols"></a>Включение протоколов  
 Для повышения безопасности выпуски [!INCLUDE[ssExpress](../includes/ssexpress-md.md)]Developer и Evaluation устанавливаются с ограниченными возможностями подключения к сети. Соединяться с компонентом [!INCLUDE[ssDE](../includes/ssde-md.md)] можно с помощью средств, которые выполняются на том же компьютере, но не с других компьютеров. Если разработка будет выполняться на том же компьютере, где установлен компонент [!INCLUDE[ssDE](../includes/ssde-md.md)], то дополнительные протоколы включать не нужно. [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)] подключится к компоненту [!INCLUDE[ssDE](../includes/ssde-md.md)] с помощью протокола общей памяти. Этот протокол уже включен.  
  
 Если нужно соединяться с компонентом [!INCLUDE[ssDE](../includes/ssde-md.md)] с другого компьютера, следует включить какой-либо другой протокол, например TCP/IP.  
  
#### <a name="how-to-enable-tcpip-connections-from-another-computer"></a>Разрешение соединений по протоколу TCP/IP с других компьютеров  
  
1.  В меню **Пуск** последовательно выберите пункты **Все программы**, [!INCLUDE[ssCurrentUI](../includes/sscurrentui-md.md)], **Средства настройки**и щелкните **Диспетчер конфигурации SQL Server**.  
  
    > [!NOTE]  
    >  Могут быть доступны и 32-разрядные и 64-разрядные версии.  
  
2.  В **диспетчере конфигурации SQL Server** разверните раздел **Сетевая конфигурация SQL Server** и щелкните элемент **Протоколы для** _\<InstanceName>_ .  
  
     Экземпляр по умолчанию (неименованный экземпляр) указан в списке под именем **MSSQLSERVER**. Если был установлен именованный экземпляр, то в списке будет приведено заданное ему имя. [!INCLUDE[ssExpressEd11](../includes/ssexpressed11-md.md)] устанавливается как **SQLEXPRESS**, если это имя не было изменено при установке.  
  
3.  В списке протоколов щелкните правой кнопкой мыши протокол, который необходимо включить (**TCP/IP**), и выберите команду **Включить**.  
  
    > [!NOTE]  
    >  После внесения изменений в сетевые протоколы необходимо перезапустить службу [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] ; однако это выполняется в следующей задаче.  
  
##  <a name="configuring-a-fixed-port"></a><a name="port"></a>Настройка фиксированного порта  
 В целях повышения безопасности в таких системах, как Windows Server 2008, [!INCLUDE[wiprlhlong](../includes/wiprlhlong-md.md)]и Windows 7, включен брандмауэр Windows. При подключении к этому экземпляру из другого компьютера необходимо открыть порт соединения в брандмауэре. Экземпляр компонента [!INCLUDE[ssDE](../includes/ssde-md.md)] , запускаемый по умолчанию, прослушивает порт 1433, поэтому нет необходимости настраивать фиксированный порт. Однако именованные экземпляры, включая [!INCLUDE[ssExpress](../includes/ssexpress-md.md)] , принимают соединения через динамически назначаемые порты. Прежде чем появится возможность открыть порт в брандмауэре, необходимо предварительно настроить компонент [!INCLUDE[ssDE](../includes/ssde-md.md)] для прослушивания конкретного порта, известного как постоянный порт или статический порт; в противном случае компонент [!INCLUDE[ssDE](../includes/ssde-md.md)] может прослушивать другой порт после каждого запуска. Дополнительные сведения о брандмауэрах, настройках брандмауэра Windows по умолчанию и описание портов TCP, влияющих на ядро СУБД, службы Analysis Services, службы Reporting Services и службы Integration Services, см. в разделе [Настройка брандмауэра Windows для разрешения доступа к SQL Server](../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).  
  
> [!NOTE]  
>  Присваиванием номеров портов управляет администрация адресного пространства Интернет (IANA), а списки этих номеров находятся по адресу [http://www.iana.org](https://go.microsoft.com/fwlink/?LinkId=48844). Портам должны назначаться номера от 49152 до 65535.  
  
#### <a name="configure-sql-server-to-listen-on-a-specific-port"></a>Настройка SQL Server для подключения через определенный порт  
  
1.  В диспетчере конфигурации [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] раскройте узел **Сетевая конфигурация SQL Server**и щелкните экземпляр сервера, который надо настроить.  
  
2.  На правой панели дважды щелкните **TCP/IP**.  
  
3.  В диалоговом окне **Свойства TCP/IP** перейдите на вкладку **IP-адреса** .  
  
4.  Введите доступный номер порта в поле **TCP-порт** раздела **IPAll** . В этом руководстве мы будем использовать `49172` .  
  
5.  Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно, и кнопку **ОК** в предупреждении о необходимости перезагрузки службы.  
  
6.  На левой панели щелкните **Службы SQL Server**.  
  
7.  На правой панели щелкните экземпляр [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]правой кнопкой мыши и выберите пункт **Перезапустить**. При [!INCLUDE[ssDE](../includes/ssde-md.md)] перезапуске он будет прослушивать порт `49172` .  
  
##  <a name="opening-ports-in-the-firewall"></a><a name="firewall"></a>Открытие портов в брандмауэре  
 Системы брандмауэров предотвращают несанкционированный доступ к ресурсам компьютера. Для подключения к [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] с другого компьютера при включенном брандмауэре в брандмауэре необходимо открыть порт.  
  
> [!IMPORTANT]  
>  Открытие портов на брандмауэре может привести к незащищенности сервера от вредоносных атак. Поэтому для открытия портов требуется понимание работы систем брандмауэров. Дополнительные сведения см. в разделе [Security Considerations for a SQL Server Installation](../sql-server/install/security-considerations-for-a-sql-server-installation.md).  
  
 После настройки компонента [!INCLUDE[ssDE](../includes/ssde-md.md)] на использование фиксированного порта следуйте приведенным ниже инструкциям, чтобы открыть в брандмауэре Windows нужный порт. (Нет необходимости настраивать фиксированный порт для экземпляра по умолчанию, потому что он уже настроен на подключение к TCP-порту 1433.)  
  
#### <a name="to-open-a-port-in-the-windows-firewall-for-tcp-access-windows-7"></a>Открытие порта в брандмауэре Windows для доступа по TCP (Windows 7)  
  
1.  В меню **Пуск** выберите команду **Выполнить**, введите **WF.msc**и нажмите кнопку **ОК**.  
  
2.  На левой панели **Брандмауэр Windows в режиме повышенной безопасности**щелкните правой кнопкой мыши раздел **Правила для входящих подключений**и выберите на панели действий пункт **Создать правило** .  
  
3.  В диалоговом окне **Тип правила** выберите **Порт**и нажмите кнопку **Далее**.  
  
4.  В диалоговом окне **Протокол и порты** выберите протокол **TCP**. Выберите **Определенные локальные порты**и введите номер порта экземпляра компонента [!INCLUDE[ssDE](../includes/ssde-md.md)]. Для экземпляра по умолчанию введите 1433. Введите, если вы настраиваете `49172` именованный экземпляр и настроили фиксированный порт в предыдущей задаче. Щелкните **Далее**.  
  
5.  В диалоговом окне **Действие** выберите **Разрешить соединение**и нажмите кнопку **Далее**.  
  
6.  В диалоговом окне **Профиль** выберите профили, описывающие среду соединения компьютеров, который нужно подключить к компоненту [!INCLUDE[ssDE](../includes/ssde-md.md)], и нажмите кнопку **Далее**.  
  
7.  В диалоговом окне **Имя** введите имя и описание правила и нажмите кнопку **Готово**.  
  
 Дополнительные сведения о настройке брандмауэра, включая инструкции для [!INCLUDE[wiprlhlong](../includes/wiprlhlong-md.md)], см. в разделе [Настройка брандмауэра Windows для доступа к компоненту Database Engine](../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md). Дополнительные сведения о настройках брандмауэра Windows по умолчанию и описание портов TCP, влияющих на компонент Database Engine, службы Analysis Services, службы Reporting Services и службы Integration Services, см. в разделе [Настройка брандмауэра Windows для разрешения доступа к SQL Server](../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).  
  
##  <a name="connecting-to-the-database-engine-from-another-computer"></a><a name="otherComp"></a>Подключение к ядро СУБД с другого компьютера  
 После настройки компонента [!INCLUDE[ssDE](../includes/ssde-md.md)] на прослушивание определенного порта и открытия порта в брандмауэре можно подключиться к [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] с другого компьютера.  
  
 Если служба браузера [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] на сервере запущена и в брандмауэре открыт порт UDP 1434, то подключение можно установить, используя имя компьютера и имя экземпляра. В целях повышения безопасности в нашем примере не используется служба браузера [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .  
  
#### <a name="to-connect-to-the-database-engine-from-another-computer"></a>Соединение с ядром СУБД с другого компьютера  
  
1.  На втором компьютере, содержащем клиентские средства [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] , войдите под учетной записью, для которой разрешено подключение к [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], и откройте среду [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)].  
  
2.  В диалоговом окне **Соединение с сервером** выберите **Компонент Database Engine** в списке **Тип сервера** .  
  
3.  В поле **Имя сервера** введите **tcp:** , чтобы указать протокол, за которым должны следовать имя компьютера, запятая и номер порта. При подключении к экземпляру по умолчанию подразумевается номер порта 1433. Этот номер можно опустить, поэтому введите **tcp:** _<имя_компьютера>_ . В этом примере для именованного экземпляра введите **tcp:** _<имя_компьютера>_ **,49172**.  
  
    > [!NOTE]  
    >  Если не указать **tcp:** в поле **Имя сервера** , то клиент попытается использовать все включенные протоколы в порядке, указанном в конфигурации клиента.  
  
4.  В текстовом поле **Проверка подлинности** подтвердите **Проверка подлинности Window**, а затем нажмите **Соединить**.  
  
##  <a name="connecting-using-the-sql-server-browser-service"></a><a name="browser"></a>Подключение с помощью службы обозреватель SQL Server  
 Служба браузера [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] прослушивает входящие запросы на ресурсы [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] и предоставляет сведения об экземплярах [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] , установленных на компьютере. Когда служба браузера [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] запущена, пользователи могут подключаться к именованным экземплярам, указывая имя компьютера и имя экземпляра вместо номера порта. Поскольку служба браузера [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] принимает UDP-запросы без проверки подлинности, во время установки она включается не всегда. Описание службы и объяснение того, когда она включается, см. в разделе [Служба обозревателя SQL Server (компонент Database Engine и SSAS)](../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md).  
  
 Чтобы использовать браузер [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] , выполните те же шаги, что и ранее, чтобы открыть UDP-порт 1434 в брандмауэре.  
  
 На этом краткий учебник по базовым возможностям подключения связи заканчивается.  
  
## <a name="return-to-tutorials-portal"></a>Возвращение к порталу учебников  
 [Руководство. Начало работы с ядром СУБД](tutorial-getting-started-with-the-database-engine.md)  
  
  

---
title: SQL Server резервного копирования и восстановления с помощью службы хранилища BLOB-объектов Azure | Документация Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: 6a0c9b6a-cf71-4311-82f2-12c445f63935
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 943da9018e50e1f287858654d4639035f3aa4532
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667737"
---
# <a name="sql-server-backup-and-restore-with-azure-blob-storage-service"></a><span data-ttu-id="8c8a7-102">Резервное копирование и восстановление SQL Server с помощью службы хранилища BLOB-объектов Azure</span><span class="sxs-lookup"><span data-stu-id="8c8a7-102">SQL Server Backup and Restore with Azure Blob Storage Service</span></span>
  <span data-ttu-id="8c8a7-103">В этом разделе содержатся сведения о [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] резервном копировании и восстановлении из [службы хранилища BLOB-объектов Azure](https://www.windowsazure.com/develop/net/how-to-guides/blob-storage/).</span><span class="sxs-lookup"><span data-stu-id="8c8a7-103">This topic introduces [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups to and restoring from the [Azure Blob storage service](https://www.windowsazure.com/develop/net/how-to-guides/blob-storage/).</span></span> <span data-ttu-id="8c8a7-104">Кроме того, здесь приведены общие сведения о преимуществах использования службы BLOB-объектов Azure для хранения [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] резервных копий.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-104">It also provides a summary of the benefits of using the Azure Blob service to store [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups.</span></span>  
  
 <span data-ttu-id="8c8a7-105">SQL Server поддерживает хранение резервных копий в службе хранилища больших двоичных объектов Azure следующими способами.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-105">SQL Server supports storing backups to the Azure Blob storage service in the following ways:</span></span>  
  
-   <span data-ttu-id="8c8a7-106">**Управляйте своими резервными копиями в Azure:** Используя те же методы, которые используются для резервного копирования на диск и ЛЕНТу, теперь можно выполнить резервное копирование в службу хранилища Azure, указав URL-адрес в качестве места назначения резервной копии.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-106">**Manage your backups  to Azure:** Using the same methods used to backup to DISK and TAPE, you can now back up to Azure storage by Specifying URL as the backup destination.</span></span>  <span data-ttu-id="8c8a7-107">Эту функцию можно использовать для создания резервной копии вручную или настройки собственной стратегии резервного копирования для локального хранилища или других вариантов удаленного хранения.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-107">You can use this feature to manually backup or configure your own backup strategy like you would for a local storage or other off-site options.</span></span> <span data-ttu-id="8c8a7-108">Эта функция также называется **резервным копированием SQL Server по URL-адресу**.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-108">This feature is also referred to as **SQL Server Backup to URL**.</span></span> <span data-ttu-id="8c8a7-109">Дополнительные сведения см. в разделе [SQL Server Backup to URL](sql-server-backup-to-url.md).</span><span class="sxs-lookup"><span data-stu-id="8c8a7-109">For more information, see [SQL Server Backup to URL](sql-server-backup-to-url.md).</span></span> <span data-ttu-id="8c8a7-110">Эта функция доступна в SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным обновлением 2 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-110">This feature is available in SQL Server 2012 SP1 CU2 or later.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="8c8a7-111">Для SQL Server версий, предшествующих SQL Server 2014, можно использовать надстройку SQL Server средство резервного копирования в Azure для быстрого и простого создания резервных копий в службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-111">For SQL Server versions previous to SQL Server 2014, you can use the add-in SQL Server Backup to Azure Tool to quickly and easily create backups to Azure storage.</span></span> <span data-ttu-id="8c8a7-112">Дополнительные сведения см. в [центре загрузки](https://go.microsoft.com/fwlink/?LinkID=324399).</span><span class="sxs-lookup"><span data-stu-id="8c8a7-112">For more information, see [download center](https://go.microsoft.com/fwlink/?LinkID=324399).</span></span>  
  
-   <span data-ttu-id="8c8a7-113">**Разрешить SQL Server управлять резервным копированием в Azure:** Настройте SQL Server для управления стратегией резервного копирования и планирования резервного копирования для отдельной базы данных, нескольких баз данных или установки значений по умолчанию на уровне экземпляра.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-113">**Let SQL Server Manage backups to Azure:** Configure SQL Server to manage the backup strategy and schedule backups for a single database, or several databases, or set defaults at the instance level.</span></span> <span data-ttu-id="8c8a7-114">Эта функция называется **[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]** .</span><span class="sxs-lookup"><span data-stu-id="8c8a7-114">This feature is referred to as  **[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]**.</span></span> <span data-ttu-id="8c8a7-115">Дополнительные сведения см. [в статье SQL Server управляемое резервное копирование в Azure](sql-server-managed-backup-to-microsoft-azure.md).</span><span class="sxs-lookup"><span data-stu-id="8c8a7-115">For more information see [SQL Server Managed  Backup to Azure](sql-server-managed-backup-to-microsoft-azure.md).</span></span> <span data-ttu-id="8c8a7-116">Эта функция доступна в SQL Server 2014 и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-116">This feature is available in SQL Server 2014 or later.</span></span>  
  
## <a name="benefits-of-using-the-azure-blob-service-for-ssnoversion-backups"></a><span data-ttu-id="8c8a7-117">Преимущества использования службы BLOB-объектов Azure для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] резервного копирования</span><span class="sxs-lookup"><span data-stu-id="8c8a7-117">Benefits of Using the Azure Blob Service for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Backups</span></span>  
  
-   <span data-ttu-id="8c8a7-118">Гибкое, надежное и неограниченное хранилище без ограничений. хранение резервных копий в службе BLOB-объектов Azure может быть удобным, гибким и легким в доступе к удаленному сайту.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-118">Flexible, reliable, and limitless off-site storage: Storing your backups on Azure Blob service can be a convenient, flexible, and easy to access off-site option.</span></span> <span data-ttu-id="8c8a7-119">Для создания удаленного хранилища для резервных копий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] достаточно внести изменения в существующие скрипты и задания.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-119">Creating off-site storage for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups can be as easy as modifying your existing scripts/jobs.</span></span> <span data-ttu-id="8c8a7-120">Удаленное хранилище обычно должно быть расположено достаточно далеко от рабочей базы данных, чтобы одна авария не могла повлиять одновременно и на удаленную копию, и на рабочую базу данных.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-120">Off-site storage should typically be far enough from the production database location to prevent a single disaster that might impact both the off-site and production database locations.</span></span> <span data-ttu-id="8c8a7-121">Георепликация хранилища больших двоичных объектов обеспечивает дополнительный уровень защиты в случае аварии регионального масштаба.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-121">By choosing to geo replicate the Blob storage you have an extra layer of protection in the event of a disaster that could affect the whole region.</span></span> <span data-ttu-id="8c8a7-122">Кроме того, резервные копии доступны в любом месте и в любое время, а также к ним легко получить доступ для восстановления.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-122">In addition, backups are available from anywhere and at any time and can easily be accessed for restores.</span></span>  
  
-   <span data-ttu-id="8c8a7-123">Архив архивации. Служба хранилища BLOB-объектов Azure предлагает лучшую альтернативу часто используемому варианту ленты для архивации резервных копий.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-123">Backup Archive: The Azure Blob Storage service offers a better alternative to the often used tape option to archive backups.</span></span> <span data-ttu-id="8c8a7-124">Может потребоваться физически транспортировать накопители на магнитной ленте в удаленное помещение и принимать меры для защиты носителей.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-124">Tape storage might require physical transportation to an off-site facility and measures to protect the media.</span></span> <span data-ttu-id="8c8a7-125">Хранение резервных копий в хранилище BLOB-объектов Azure предоставляет возможность мгновенного и долговременного архивирования с высокой доступностью.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-125">Storing your backups in Azure Blob Storage provides an instant, highly available, and a durable archiving option.</span></span>  
  
-   <span data-ttu-id="8c8a7-126">Отсутствие дополнительных затрат на управление оборудованием. в службах Azure нет дополнительных издержек, связанными с управлением оборудованием.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-126">No overhead of hardware management:There is no overhead of hardware management with Azure services.</span></span> <span data-ttu-id="8c8a7-127">Службы Azure управляют оборудованием, обеспечивая при этом георепликацию для избыточности и защиту от сбоев оборудования.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-127">Azure services manage the hardware and provide geo-replication for redundancy and protection against hardware failures.</span></span>  
  
-   <span data-ttu-id="8c8a7-128">В настоящее время для экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , выполняющихся на виртуальной машине Azure, резервное копирование в службы хранилища BLOB-объектов Azure можно выполнить, создав подключенные диски.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-128">Currently for instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] running in an Azure Virtual Machine, backing up to Azure Blob storage services can be done by creating attached disks.</span></span> <span data-ttu-id="8c8a7-129">Однако существует ограничение на количество дисков, которые можно подключить к виртуальной машине Azure.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-129">However, there is a limit to the number of disks you can attach to an Azure Virtual Machine.</span></span> <span data-ttu-id="8c8a7-130">Для сверхбольших экземпляров данное ограничение составляет 16 дисков, а для небольших экземпляров это количество меньше.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-130">This limit is 16 disks for an extra large instance and fewer for smaller instances.</span></span> <span data-ttu-id="8c8a7-131">Включив прямую архивацию в хранилище BLOB-объектов Azure, можно обойти ограничение в 16 дисков.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-131">By enabling a direct backup to Azure Blob Storage, you can bypass the 16 disk limit.</span></span>  
  
     <span data-ttu-id="8c8a7-132">Кроме того, файл резервной копии, который теперь хранится в службе хранилища BLOB-объектов Azure, напрямую доступен либо локально [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , либо на другом компьютере [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , работающем на виртуальной машине Azure, без необходимости присоединения или отсоединения базы данных, а также загрузки и подключения виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-132">In addition, the backup file which now is stored in the Azure Blob storage service is directly available to either an on-premises [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or another [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] running in an Azure Virtual Machine, without the need for database attach/detach or downloading and attaching the VHD.</span></span>  
  
-   <span data-ttu-id="8c8a7-133">Удобная оплата. Оплата только тех услуг, которые используются.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-133">Cost Benefits: Pay only for the service that is used.</span></span> <span data-ttu-id="8c8a7-134">Может применяться в качестве экономически эффективного решения по удаленному резервному копированию и архивированию.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-134">Can be cost-effective as an off-site and backup archive option.</span></span> <span data-ttu-id="8c8a7-135">Дополнительные сведения и ссылки см. в разделе [вопросы выставления счетов в Azure](#Billing) .</span><span class="sxs-lookup"><span data-stu-id="8c8a7-135">See the [Azure Billing Considerations](#Billing) section for more information and links.</span></span>  
  
##  <a name="azure-billing-considerations"></a><a name="Billing"></a><span data-ttu-id="8c8a7-136">Рекомендации по выставлению счетов в Azure:</span><span class="sxs-lookup"><span data-stu-id="8c8a7-136">Azure Billing Considerations:</span></span>  
 <span data-ttu-id="8c8a7-137">Общие сведения о затратах на хранилище Azure позволяют прогнозировать затраты на создание и хранение резервных копий в Azure.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-137">Understanding Azure storage costs enables you to forecast the cost of creating and storing backups in Azure.</span></span>  
  
 <span data-ttu-id="8c8a7-138">[Калькулятор цен Azure](https://go.microsoft.com/fwlink/?LinkId=277060) поможет оценить ваши затраты.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-138">The [Azure pricing calculator](https://go.microsoft.com/fwlink/?LinkId=277060) can help estimate your costs.</span></span>  
  
 <span data-ttu-id="8c8a7-139">**Хранение.** Стоимость зависит от используемого пространства и высчитывается по градуированной шкале и уровню избыточности.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-139">**Storage:** Charges are based on the space used and are calculated on a graduated scale and the level of redundancy.</span></span> <span data-ttu-id="8c8a7-140">Дополнительные сведения и обновленную информацию см. в разделе **Управление данными** статьи [Расчет цен](https://go.microsoft.com/fwlink/?LinkId=277059) .</span><span class="sxs-lookup"><span data-stu-id="8c8a7-140">For more details, and up-to-date information, see the **Data Management** section of the [Pricing Details](https://go.microsoft.com/fwlink/?LinkId=277059) article.</span></span>  
  
 <span data-ttu-id="8c8a7-141">**Передача данных:** Передача входящих данных в Azure бесплатная.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-141">**Data Transfers:** Inbound data transfers to Azure are free.</span></span> <span data-ttu-id="8c8a7-142">Исходящие передачи оцениваются по пропускной способности, а их стоимость высчитывается по градуированной шкале, привязанной к региону.</span><span class="sxs-lookup"><span data-stu-id="8c8a7-142">Outbound transfers are charged for the bandwidth use and calculated based on a graduated region-specific scale.</span></span> <span data-ttu-id="8c8a7-143">Дополнительные сведения см. в разделе [Передача данных](https://go.microsoft.com/fwlink/?LinkId=277061) в статье «Расчет цен».</span><span class="sxs-lookup"><span data-stu-id="8c8a7-143">For more details, see the [Data Transfers](https://go.microsoft.com/fwlink/?LinkId=277061) section of the Pricing Details article.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8c8a7-144">См. также:</span><span class="sxs-lookup"><span data-stu-id="8c8a7-144">See Also</span></span>  
 <span data-ttu-id="8c8a7-145">[Резервное копирование SQL Server на URL-адрес — рекомендации и устранение неполадок](sql-server-backup-to-url-best-practices-and-troubleshooting.md) </span><span class="sxs-lookup"><span data-stu-id="8c8a7-145">[SQL Server Backup to URL Best Practices and Troubleshooting](sql-server-backup-to-url-best-practices-and-troubleshooting.md) </span></span>  
 <span data-ttu-id="8c8a7-146">[Резервное копирование и восстановление системных баз данных (SQL Server)](back-up-and-restore-of-system-databases-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="8c8a7-146">[Back Up and Restore of System Databases &#40;SQL Server&#41;](back-up-and-restore-of-system-databases-sql-server.md) </span></span>  
 <span data-ttu-id="8c8a7-147">[Учебник. SQL Server резервное копирование и восстановление в службе хранилища BLOB-объектов Azure](../tutorial-sql-server-backup-and-restore-to-azure-blob-storage-service.md) </span><span class="sxs-lookup"><span data-stu-id="8c8a7-147">[Tutorial: SQL Server Backup and Restore to Azure Blob Storage Service](../tutorial-sql-server-backup-and-restore-to-azure-blob-storage-service.md) </span></span>  
 [<span data-ttu-id="8c8a7-148">Резервное копирование в SQL Server по URL-адресу</span><span class="sxs-lookup"><span data-stu-id="8c8a7-148">SQL Server Backup to URL</span></span>](sql-server-backup-to-url.md)  
  

---
title: Общие сведения о резервном копировании (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- tables [SQL Server], backing up data
- backups [SQL Server]
- database backups [SQL Server]
- backup types [SQL Server]
- data backups [SQL Server]
- backing up tables [SQL Server]
- database restores [SQL Server], backups
- backing up [SQL Server], about backing up
- restoring [SQL Server], backup types
- backups [SQL Server], about
- backups [SQL Server], table-level backups unsupported
ms.assetid: 09a6e0c2-d8fd-453f-9aac-4ff24a97dc1f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 60fbd0341c4e29c6f98cc4d5fe5a2cfabc9b703f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668947"
---
# <a name="backup-overview-sql-server"></a>Backup Overview (SQL Server)
  В этом разделе представлены сведения о компоненте резервного копирования [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Резервное копирование базы данных в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имеет важное значение для защиты данных. Здесь представлено описание типов резервных копий и ограничений резервного копирования. В рамках данной темы также рассмотрены устройства резервного копирования и носители данных резервных копий в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 **В этом разделе.**  
  
-   [Компоненты и основные понятия](#TermsAndDefinitions)  
  
-   [Сжатие резервных копий](#BackupCompression)  
  
-   [Ограничения на операции резервного копирования в SQL Server](#Restrictions)  
  
-   [Связанные задачи](#RelatedTasks)  
  
##  <a name="components-and-concepts"></a><a name="TermsAndDefinitions"></a> Компоненты и основные понятия  
 создание резервных копий  
 Копирование данных или записей журнала из базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или журнала ее транзакций на устройство для резервного копирования, например на диск, на котором создается резервная копия данных или журнала.  
  
 резервная копия  
 Копия данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , используемая для восстановления данных после возникновения ошибки. Резервная копия данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создается на уровне базы данных для одного или нескольких файлов или групп файлов. Нельзя создать резервные копии на уровне таблиц. Кроме резервной копии данных модель полного восстановления требует создания резервной копии журнала транзакций.  
  
 [модель восстановления](recovery-models-sql-server.md)  
 Свойство базы данных, с помощью которого выполняется управление обслуживанием журналов транзакций в базе данных. Существует три модели восстановления: простая модель восстановления, модель полного восстановления и модель восстановления с неполным протоколированием. Модель восстановления базы данных определяет требования к резервному копированию и восстановлению.  
  
 [восстановление](restore-and-recovery-overview-sql-server.md)  
 Многоэтапный процесс, в ходе которого все данные и страницы журнала копируются из указанной резервной копии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в определенную базу данных, а затем выполняется накат всех фиксированных транзакций, записанных в резервной копии журнала, путем внесения новых данных на основе зарегистрированных изменений.  
  
 **Типы резервных копий**  
  
 [резервная копия, предназначенная только для копирования](copy-only-backups-sql-server.md)  
 Специальная резервная копия, независимая от обычной последовательности резервных копий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 резервное копирование данных  
 Резервная копия данных всей базы данных (резервная копия базы данных), части базы данных (частичная резервная копия) или набора файлов данных или файловых групп (резервная копия файлов).  
  
 [резервное копирование базы данных](full-database-backups-sql-server.md)  
 Резервная копия базы данных. Полные резервные копии базы данных отображают состояние всей базы данных на момент завершения резервного копирования. Разностные резервные копии базы данных содержат только изменения базы данных с момента последнего полного резервного копирования.  
  
 [разностная резервная копия](full-database-backups-sql-server.md)  
 Резервная копия, основанная на последнем полном резервировании частичной базы данных или набора файлов данных или групп файлов ( *базовая копия для разностного копирования*), которая содержит только добавочные данные, измененные по сравнению с базовой копией для разностного копирования.  
  
 Частичная разностная резервная копия, включающая только те экстенты данных, которые изменились в файловых группах с момента создания предыдущей частичной резервной копии, называется основой для разностной резервной копии.  
  
 полная резервная копия  
 Резервная копия, которая содержит все данные заданной базы данных или наборов файлов или файловых групп, а также журналов для обеспечения возможности последующего восстановления этих данных.  
  
 [резервная копия журналов](transaction-log-backups-sql-server.md)  
 Резервная копия журналов транзакций, включающая все записи журнала, не входившие в предыдущую резервную копию журналов. (модель полного восстановления)  
  
 [резервная копия файлов](full-file-backups-sql-server.md)  
 Резервная копия одного или нескольких файлов или файловых групп базы данных.  
  
 [частичная резервная копия](partial-backups-sql-server.md)  
 Содержит данные только из некоторых файловых групп базы данных, включая данные в первичной файловой группе, все файловые группы, доступные для чтения-записи, а также любые дополнительно указанные файлы, доступные только для чтения.  
  
 **Условия и определения носителей резервных копий**  
  
 [устройство резервного копирования](backup-devices-sql-server.md)  
 Диск или ленточное устройство, на которые записываются резервные копии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для последующего восстановления. Резервные копии SQL Server можно также записать в службу хранилища BLOB-объектов Azure, а формат **URL-адреса** используется, чтобы указать назначение и имя файла резервной копии. Дополнительные сведения см. в статье [Резервное копирование и восстановление SQL Server с помощью службы хранилищ больших двоичных объектов Windows Azure](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md).  
  
 [носитель данных резервной копии](media-sets-media-families-and-backup-sets-sql-server.md)  
 Один или несколько наборов дисков или ленточных устройств, на которые записывается резервная копия.  
  
 [резервный набор данных](media-sets-media-families-and-backup-sets-sql-server.md)  
 Содержимое резервной копии добавляется на набор носителей при успешной операции резервного копирования.  
  
 [семейство носителей](media-sets-media-families-and-backup-sets-sql-server.md)  
 Резервные копии, созданные на одном устройстве без зеркального отображения или на наборе устройств с зеркальным отображением в наборе носителей  
  
 [набор носителей](media-sets-media-families-and-backup-sets-sql-server.md)  
 Упорядоченный набор носителей данных резервной копии в виде определенного количества ленточных устройств или дисков, на которые может быть записана одна или несколько операций резервного копирования, с использованием фиксированного типа и номера устройств резервного копирования.  
  
 [зеркальный набор носителей](mirrored-backup-media-sets-sql-server.md)  
 Составные копии (зеркала) набора носителей данных резервных копий.  
  
##  <a name="backup-compression"></a><a name="BackupCompression"></a>Сжатие резервных копий  
 [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] и более поздние версии поддерживают сжатие резервных копий, а [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздние версии позволяют восстановить сжатые резервные копии. Дополнительные сведения см. в разделе [Сжатие резервных копий (SQL Server)](backup-compression-sql-server.md).  
  
##  <a name="restrictions-on-backup-operations-in-sql-server"></a><a name="Restrictions"></a>Ограничения для операций резервного копирования в SQL Server  
 Резервное копирование может выполняться, если база данных находится в режиме «в сети» и используется. Однако действуют следующие ограничения.  
  
### <a name="offline-data-cannot-be-backed-up"></a>Нельзя создать резервную копию данных, находящихся в режиме «вне сети»  
 Любая операция резервного копирования, которая явно или неявно ссылается на данные, находящиеся в режиме «вне сети», завершается неудачей. Ниже следуют некоторые наиболее распространенные примеры этого.  
  
-   Запрашивается создание полной резервной копии, но одна файловая группа в базе данных находится в режиме «вне сети». Операция завершается неудачно, так как в полное резервное копирование неявно включены все файловые группы.  
  
     Чтобы создать резервную копию этой базы данных, можно воспользоваться созданием резервных копий файлов (или файловых групп) и задать только те файловые группы, которые находятся в режиме «в сети».  
  
-   Запрашивается частичное резервное копирование, но файловые группы, доступные для чтения и записи, находятся в режиме «вне сети». Операция завершается неудачей, потому что для частичного резервного копирования запрашиваются все файловые группы, доступные для чтения и записи.  
  
-   Запрашивается резервное копирование заданных файлов, но один из файлов находится в режиме «в сети». Операция завершается неудачей. Чтобы создать резервную копию файлов, находящихся в режиме «в сети», устраните из списка файлы, находящиеся в режиме «вне сети», и повторите операцию.  
  
 Обычно резервное копирование журнала проходит успешно, даже если один или несколько файлов данных недоступны. Однако если какой-нибудь файл содержит массовые изменения, сделанные в модели восстановления с неполным протоколированием, то для успешного резервного копирования необходимо, чтобы все файлы находились в режиме «в сети».  
  
### <a name="concurrency-restrictions-during-backup"></a>Ограничения параллелизма во время резервного копирования  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] использует процесс резервного копирования в сети, что позволяет создавать резервную копию базы данных во время ее использования. Во время резервного копирования можно производить большинство операций. Например, во время создания резервной копии разрешены инструкции INSERT, UPDATE и DELETE. При попытке приступить к выполнению операции резервного копирования во время создания или удаления файла базы данных выполнение операции резервного копирования будет отложено до завершения создания или удаления либо до истечения времени ожидания.  
  
 Следующие операции запрещены во время создания резервной копии базы данных или журнала транзакций.  
  
-   Операции управления файлами, такие как инструкция ALTER DATABASE с параметром ADD FILE или с параметром REMOVE FILE.  
  
-   Операции сжатия базы данных или файла. Сюда же включены операции автоматического сжатия.  
  
-   При попытке создать или удалить файл базы данных во время выполнения операции резервного копирования, создание или удаление завершится неудачно.  
  
 Если операция резервного копирования перекрывается операцией сжатия или управления файлами, то возникает конфликт. Независимо от того, какая из конфликтующих операций начата первой, вторая операция ждет истечения времени ожидания первой (оно зависит от параметров сеанса). Если разблокировка происходит до истечения времени ожидания, работа второй операции продолжается. Если разблокировки за этот период не происходит, вторая операция заканчивается неудачно.  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> Связанные задачи  
 **Работа с устройствами резервного копирования и носителями резервных копий**  
  
-   [Определение логического устройства резервного копирования для дискового файла (SQL Server)](define-a-logical-backup-device-for-a-disk-file-sql-server.md)  
  
-   [Определение логического устройства резервного копирования для ленточного накопителя (SQL Server)](define-a-logical-backup-device-for-a-tape-drive-sql-server.md)  
  
-   [Указание в качестве назначения резервного копирования диска или ленты (SQL Server)](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
-   [Удаление устройства резервного копирования (SQL Server)](delete-a-backup-device-sql-server.md)  
  
-   [Назначение срока хранения резервной копии (SQL Server)](set-the-expiration-date-on-a-backup-sql-server.md)  
  
-   [Просмотр содержимого ленты или файла резервной копии (SQL Server)](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
-   [Просмотр файлов данных и журналов в резервном наборе данных (SQL Server)](view-the-data-and-log-files-in-a-backup-set-sql-server.md)  
  
-   [Просмотр свойств и содержимого логического устройства резервного копирования (SQL Server)](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   [Восстановление резервной копии с устройства (SQL Server)](restore-a-backup-from-a-device-sql-server.md)  
  
-   [Руководство. Резервное копирование и восстановление SQL Server с помощью службы хранилища BLOB-объектов Azure](../tutorial-sql-server-backup-and-restore-to-azure-blob-storage-service.md)  
  
 **Создание задания резервного копирования**  
  
> [!NOTE]  
>  Для создания частичной резервной копии или резервной копии только для копирования используется инструкция [!INCLUDE[tsql](../../includes/tsql-md.md)][BACKUP](/sql/t-sql/statements/backup-transact-sql) с параметром PARTIAL или COPY_ONLY.  
  
-   [Создание полной резервной копии базы данных (SQL Server)](create-a-full-database-backup-sql-server.md)  
  
-   [Создание резервной копии журнала транзакций (SQL Server)](back-up-a-transaction-log-sql-server.md)  
  
-   [Резервное копирование файлов и файловых групп (SQL Server)](back-up-files-and-filegroups-sql-server.md)  
  
-   [Создание разностной резервной копии базы данных (SQL Server)](create-a-differential-database-backup-sql-server.md)  
  
-   [Создание резервной копии журнала транзакций при повреждении базы данных (SQL Server)](back-up-the-transaction-log-when-the-database-is-damaged-sql-server.md)  
  
-   [Включение или отключение вычисления контрольных сумм резервных копий во время резервного копирования или восстановления (SQL Server)](enable-or-disable-backup-checksums-during-backup-or-restore-sql-server.md)  
  
-   [Определение, продолжает ли операция резервного копирования или восстановления работу после возникновения ошибки (SQL Server)](specify-if-backup-or-restore-continues-or-stops-after-error.md)  
  
-   [Использование регулятора ресурсов для ограничения загрузки ЦП при сжатии резервной копии (Transact-SQL)](use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md)  
  
-   [Руководство. Резервное копирование и восстановление SQL Server с помощью службы хранилища BLOB-объектов Azure](../tutorial-sql-server-backup-and-restore-to-azure-blob-storage-service.md)  
  
## <a name="see-also"></a>См. также:  
 [Резервное копирование и восстановление баз данных SQL Server](back-up-and-restore-of-sql-server-databases.md)   
 [Обзор процессов восстановления (SQL Server)](restore-and-recovery-overview-sql-server.md)   
 [Планы обслуживания](../maintenance-plans/maintenance-plans.md)   
 [Журнал транзакций (SQL Server)](../logs/the-transaction-log-sql-server.md)   
 [Модели восстановления (SQL Server)](recovery-models-sql-server.md)  
  
  

---
title: Устройства резервного копирования (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- tape backup devices, about tape backup devices
- backup devices [SQL Server]
- disk backup devices [SQL Server]
- database backups [SQL Server], backup devices
- logical devices [SQL Server]
- backup devices [SQL Server], about backup devices
- backing up [SQL Server], backup devices
- removable media [SQL Server]
- network shares [SQL Server]
- backups [SQL Server], backup devices
- tape backup devices
- physical devices [SQL Server]
- backing up databases [SQL Server], backup devices
- devices [SQL Server]
ms.assetid: 35a8e100-3ff2-4844-a5da-dd088c43cba4
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: a8abbba087679d263c00484764ecf445d6e5a006
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87752224"
---
# <a name="backup-devices-sql-server"></a><span data-ttu-id="0855a-102">Устройства резервного копирования (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-102">Backup Devices (SQL Server)</span></span>
  <span data-ttu-id="0855a-103">Во время выполнения операции резервного копирования базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создается резервная копия данных ( *резервная копия*), которая записывается на физическое устройство резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-103">During a backup operation on a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database, the backed up data (the *backup*) is written to a physical backup device.</span></span> <span data-ttu-id="0855a-104">Данное физическое устройство резервного копирования инициализируется при записи на него первой резервной копии в наборе носителей.</span><span class="sxs-lookup"><span data-stu-id="0855a-104">This physical backup device is initialized when the first backup in a media set is written to it.</span></span> <span data-ttu-id="0855a-105">Резервные копии на наборе из одного или нескольких устройств резервного копирования образуют отдельный набор носителей.</span><span class="sxs-lookup"><span data-stu-id="0855a-105">The backups on a set of one or more backup devices compose a single media set.</span></span>  
  
 <span data-ttu-id="0855a-106">**В этом разделе.**</span><span class="sxs-lookup"><span data-stu-id="0855a-106">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="0855a-107">Термины и определения</span><span class="sxs-lookup"><span data-stu-id="0855a-107">Terms and Definitions</span></span>](#TermsAndDefinitions)  
  
-   [<span data-ttu-id="0855a-108">Использование дисковых устройств резервного копирования</span><span class="sxs-lookup"><span data-stu-id="0855a-108">Using Disk Backup Devices</span></span>](#DiskBackups)  
  
-   [<span data-ttu-id="0855a-109">Использование ленточных устройств</span><span class="sxs-lookup"><span data-stu-id="0855a-109">Using Tape Devices</span></span>](#TapeDevices)  
  
-   [<span data-ttu-id="0855a-110">Использование логического устройства резервного копирования</span><span class="sxs-lookup"><span data-stu-id="0855a-110">Using a Logical Backup Device</span></span>](#LogicalBackupDevice)  
  
-   [<span data-ttu-id="0855a-111">Зеркальные наборы носителей резервных копий</span><span class="sxs-lookup"><span data-stu-id="0855a-111">Mirrored Backup Media Sets</span></span>](#MirroredMediaSets)  
  
-   [<span data-ttu-id="0855a-112">Архивация резервных копий SQL Server</span><span class="sxs-lookup"><span data-stu-id="0855a-112">Archiving SQL Server Backups</span></span>](#Archiving)  
  
-   [<span data-ttu-id="0855a-113">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="0855a-113">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="0855a-114">Термины и определения</span><span class="sxs-lookup"><span data-stu-id="0855a-114">Terms and Definitions</span></span>  
 <span data-ttu-id="0855a-115">диск для резервного копирования</span><span class="sxs-lookup"><span data-stu-id="0855a-115">backup disk</span></span>  
 <span data-ttu-id="0855a-116">Жесткий диск или другое дисковое устройство хранения, на котором содержится один или несколько файлов резервной копии.</span><span class="sxs-lookup"><span data-stu-id="0855a-116">A hard disk or other disk storage media that contains one or more backup files.</span></span> <span data-ttu-id="0855a-117">Файл резервной копии является обычным файлом операционной системы.</span><span class="sxs-lookup"><span data-stu-id="0855a-117">A backup file is a regular operating system file.</span></span>  
  
 <span data-ttu-id="0855a-118">набор носителей</span><span class="sxs-lookup"><span data-stu-id="0855a-118">media set</span></span>  
 <span data-ttu-id="0855a-119">Упорядоченный набор носителей резервного копирования, ленточных накопителей или дисковых файлов, которые используют определенный тип и количество устройств резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-119">An ordered collection of backup media, tapes or disk files, that uses a fixed type and number of backup devices.</span></span> <span data-ttu-id="0855a-120">Сведения о наборах носителей см. в разделе [Наборы носителей, семейства носителей и резервные наборы данных (SQL Server)](media-sets-media-families-and-backup-sets-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0855a-120">For more information about media sets, see [Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md).</span></span>  
  
 <span data-ttu-id="0855a-121">физическое устройство резервного копирования</span><span class="sxs-lookup"><span data-stu-id="0855a-121">physical backup device</span></span>  
 <span data-ttu-id="0855a-122">Ленточный накопитель или дисковый файл, предоставленный операционной системой.</span><span class="sxs-lookup"><span data-stu-id="0855a-122">Either a tape drive or a disk file that is provided by the operating system.</span></span> <span data-ttu-id="0855a-123">В резервном копировании может участвовать от 1 до 64 устройств.</span><span class="sxs-lookup"><span data-stu-id="0855a-123">A backup can be written to from 1 to 64 backup devices.</span></span> <span data-ttu-id="0855a-124">Если для резервного копирования требуется несколько устройств, все устройства должны быть одного типа (диск или ленточный накопитель).</span><span class="sxs-lookup"><span data-stu-id="0855a-124">If a backup requires multiple backup devices, the devices all must correspond to a single type of device (disk or tape).</span></span>  
  
 <span data-ttu-id="0855a-125">Кроме диска или магнитной ленты, резервное копирование SQL Server можно также выполнять в службу хранилища BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="0855a-125">SQL Server Backups can also be written to Azure Blob storage service in addition to disk or tape.</span></span>  
  
##  <a name="using-disk-backup-devices"></a><a name="DiskBackups"></a><span data-ttu-id="0855a-126">Использование дисковых устройств резервного копирования</span><span class="sxs-lookup"><span data-stu-id="0855a-126">Using Disk Backup Devices</span></span>  
 <span data-ttu-id="0855a-127">**В этом разделе.**</span><span class="sxs-lookup"><span data-stu-id="0855a-127">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="0855a-128">Указание файла резервной копии по его физическому имени (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-128">Specifying a Backup File by Using Its Physical Name (Transact-SQL)</span></span>](#BackupFileUsingPhysicalName)  
  
-   [<span data-ttu-id="0855a-129">Указание пути к файлу резервной копии диска</span><span class="sxs-lookup"><span data-stu-id="0855a-129">Specifying the Path of a Disk Backup File</span></span>](#BackupFileDiskPath)  
  
-   [<span data-ttu-id="0855a-130">Резервное копирование в файл, расположенный в общей сетевой папке</span><span class="sxs-lookup"><span data-stu-id="0855a-130">Backing Up to a File on a Network Share</span></span>](#NetworkShare)  
  
 <span data-ttu-id="0855a-131">Если дисковый файл будет заполнен во время добавления резервной копии к набору носителей операцией резервного копирования, то она завершится c ошибкой.</span><span class="sxs-lookup"><span data-stu-id="0855a-131">If a disk file fills while a backup operation is appending a backup to the media set, the backup operation fails.</span></span> <span data-ttu-id="0855a-132">Максимальный размер файла резервной копии определяется свободным местом, доступным на жестком диске, поэтому необходимый размер жесткого диска резервного копирования зависит от размера резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0855a-132">The maximum size of a backup file is determined by the free disk space available on the disk device; therefore, the appropriate size for a backup disk device depends on the size of your backups.</span></span>  
  
 <span data-ttu-id="0855a-133">В качестве дискового устройства резервного копирования может использоваться обычный жесткий диск, например диск с интерфейсом ATA.</span><span class="sxs-lookup"><span data-stu-id="0855a-133">A disk backup device could be a simple disk device, such as an ATA drive.</span></span> <span data-ttu-id="0855a-134">Кроме того, можно использовать жесткие диски с возможностью горячей замены, которые позволяют, не прерывая работу системы, заменять заполненный диск на пустой.</span><span class="sxs-lookup"><span data-stu-id="0855a-134">Alternatively, you could use a hot-swappable disk drive that would let you transparently replace a full disk on the drive with an empty disk.</span></span> <span data-ttu-id="0855a-135">Диск резервного копирования может быть как локальным диском сервера, так и удаленным диском, который является общим сетевым ресурсом.</span><span class="sxs-lookup"><span data-stu-id="0855a-135">A backup disk can be a local disk on the server or a remote disk that is a shared network resource.</span></span> <span data-ttu-id="0855a-136">Дополнительные сведения об использовании удаленных дисков см. в подразделе [Резервное копирование в файл, расположенный в общей сетевой папке](#NetworkShare), далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="0855a-136">For information about how to use a remote disk, see [Backing Up to a File on a Network Share](#NetworkShare), later in this topic.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="0855a-137">Средства управления являются достаточно гибкими при управлении дисковыми устройствами резервного копирования, так как автоматически создают имя с временной отметкой для дискового файла.</span><span class="sxs-lookup"><span data-stu-id="0855a-137">management tools are very flexible at handling disk backup devices because they automatically generate a time-stamped name on the disk file.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0855a-138">Резервные копии, базы данных и журналы рекомендуется хранить на разных дисках.</span><span class="sxs-lookup"><span data-stu-id="0855a-138">We recommend that a backup disk be a different disk than the database data and log disks.</span></span> <span data-ttu-id="0855a-139">Это является необходимым, чтобы можно было гарантировать возможность доступа к резервным копиям при сбое диска с базой данных или журналами.</span><span class="sxs-lookup"><span data-stu-id="0855a-139">This is necessary to make sure that you can access the backups if the data or log disk fails.</span></span>  
  
###  <a name="specifying-a-backup-file-by-using-its-physical-name-transact-sql"></a><a name="BackupFileUsingPhysicalName"></a><span data-ttu-id="0855a-140">Указание файла резервной копии с помощью его физического имени (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-140">Specifying a Backup File by Using Its Physical Name (Transact-SQL)</span></span>  
 <span data-ttu-id="0855a-141">Базовый синтаксис инструкции [BACKUP](/sql/t-sql/statements/backup-transact-sql) для указания файла резервного копирования с помощью его физического имени:</span><span class="sxs-lookup"><span data-stu-id="0855a-141">The basic [BACKUP](/sql/t-sql/statements/backup-transact-sql) syntax for specifying a backup file by using its physical device name is:</span></span>  
  
 <span data-ttu-id="0855a-142">BACKUP DATABASE *database_name*</span><span class="sxs-lookup"><span data-stu-id="0855a-142">BACKUP DATABASE *database_name*</span></span>  
  
 <span data-ttu-id="0855a-143">TO DISK **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="0855a-143">TO DISK **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
 <span data-ttu-id="0855a-144">Пример:</span><span class="sxs-lookup"><span data-stu-id="0855a-144">For example:</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak';  
GO  
```  
  
 <span data-ttu-id="0855a-145">Базовый синтаксис для указания физического жесткого диска в инструкции [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) :</span><span class="sxs-lookup"><span data-stu-id="0855a-145">To specify a physical disk device in a [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, the basic syntax is:</span></span>  
  
 <span data-ttu-id="0855a-146">RESTORE { DATABASE | LOG } *database_name*</span><span class="sxs-lookup"><span data-stu-id="0855a-146">RESTORE { DATABASE | LOG } *database_name*</span></span>  
  
 <span data-ttu-id="0855a-147">FROM DISK **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="0855a-147">FROM DISK **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
 <span data-ttu-id="0855a-148">Например,</span><span class="sxs-lookup"><span data-stu-id="0855a-148">For example,</span></span>  
  
```  
RESTORE DATABASE AdventureWorks2012   
   FROM DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak';   
```  
  
###  <a name="specifying-the-path-of-a-disk-backup-file"></a><a name="BackupFileDiskPath"></a><span data-ttu-id="0855a-149">Указание пути к файлу резервной копии диска</span><span class="sxs-lookup"><span data-stu-id="0855a-149">Specifying the Path of a Disk Backup File</span></span>  
 <span data-ttu-id="0855a-150">При указании файла резервного копирования следует ввести полный путь и имя файла.</span><span class="sxs-lookup"><span data-stu-id="0855a-150">When you are specifying a backup file, you should enter its full path and file name.</span></span> <span data-ttu-id="0855a-151">Если введено только имя файла или относительный путь для резервного копирования на диск, то файл резервной копии будет помещен в определенный по умолчанию каталог для резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0855a-151">If you specify only the file name or a relative path when you are backing up to a file, the backup file is put in the default backup directory.</span></span> <span data-ttu-id="0855a-152">Резервным каталогом по умолчанию является C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Backup, где *n* — номер экземпляра сервера.</span><span class="sxs-lookup"><span data-stu-id="0855a-152">The default backup directory is C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Backup, where *n* is the number of the server instance.</span></span> <span data-ttu-id="0855a-153">Поэтому для экземпляра сервера по умолчанию каталогом, использующимся по умолчанию для резервного копирования, является C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Backup.</span><span class="sxs-lookup"><span data-stu-id="0855a-153">Therefore, for the default server instance, the default backup directory is: C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Backup.</span></span>  
  
 <span data-ttu-id="0855a-154">Чтобы избежать неоднозначности, особенно в скриптах, рекомендуется явно указывать путь каталога резервного копирования в каждом предложении DISK.</span><span class="sxs-lookup"><span data-stu-id="0855a-154">To avoid ambiguity, especially in scripts, we recommend that you explicitly specify the path of the backup directory in every DISK clause.</span></span> <span data-ttu-id="0855a-155">Однако это менее важно при использовании редактора запросов.</span><span class="sxs-lookup"><span data-stu-id="0855a-155">However, this is less important when you are using Query Editor.</span></span> <span data-ttu-id="0855a-156">В этом случае, если вы уверены, что файл резервного копирования находится в определенном по умолчанию каталоге для резервных копий, можно опустить путь в предложении DISK.</span><span class="sxs-lookup"><span data-stu-id="0855a-156">In that case, if you are sure that the backup file resides in the default backup directory, you can omit the path from a DISK clause.</span></span> <span data-ttu-id="0855a-157">В следующем примере с помощью инструкции `BACKUP` создается резервная копия базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] в определенном по умолчанию каталоге резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0855a-157">For example, the following `BACKUP` statement backs up the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database to the default backup directory.</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO DISK = 'AdventureWorks2012.bak';  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="0855a-158">Расположение по умолчанию находится в разделе реестра **BackupDirectory** в ветке **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL.n\MSSQLServer**.</span><span class="sxs-lookup"><span data-stu-id="0855a-158">The default location is stored in the **BackupDirectory** registry key under **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL.n\MSSQLServer**.</span></span>  
  
###  <a name="backing-up-to-a-file-on-a-network-share"></a><a name="NetworkShare"></a><span data-ttu-id="0855a-159">Резервное копирование в файл в общей сетевой папке</span><span class="sxs-lookup"><span data-stu-id="0855a-159">Backing Up to a File on a Network Share</span></span>  
 <span data-ttu-id="0855a-160">Чтобы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] мог обращаться к удаленному дисковому файлу, учетная запись службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должна иметь доступ к общему сетевому ресурсу.</span><span class="sxs-lookup"><span data-stu-id="0855a-160">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to access a remote disk file, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account must have access to the network share.</span></span> <span data-ttu-id="0855a-161">Включая наличие разрешений на запись, необходимых для выполнения операций резервного копирования на общий сетевой ресурс, и разрешения на чтение с ресурса для выполнения операций восстановления.</span><span class="sxs-lookup"><span data-stu-id="0855a-161">This includes having the permissions needed for backup operations to write to the network share and for restore operations to read from it.</span></span> <span data-ttu-id="0855a-162">Уровень доступности сетевых дисков и разрешения зависят от контекста, в котором выполняется служба [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0855a-162">The availability of network drives and permissions depends on the context is which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service is running:</span></span>  
  
-   <span data-ttu-id="0855a-163">Чтобы создать резервную копию на сетевой диск, когда [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняется под учетной записью пользователя домена, в сеансе, в котором выполняется [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , общий диск должен быть подключен как сетевой диск.</span><span class="sxs-lookup"><span data-stu-id="0855a-163">To back up to a network drive when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in a domain user account, the shared drive must be mapped as a network drive in the session where [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="0855a-164">Если файл Sqlservr.exe запускается из командной строки, то [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] видит любые сетевые диски, подключенные в ходе сеанса.</span><span class="sxs-lookup"><span data-stu-id="0855a-164">If you start Sqlservr.exe from command line, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sees any network drives you have mapped in your login session.</span></span>  
  
-   <span data-ttu-id="0855a-165">Если файл Sqlservr.exe запускается как служба, то [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняется в отдельном сеансе, который не связан с пользовательским сеансом.</span><span class="sxs-lookup"><span data-stu-id="0855a-165">When you run Sqlservr.exe as a service, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs in a separate session that has no relation to your login session.</span></span> <span data-ttu-id="0855a-166">Сеанс службы может иметь собственные подключенные сетевые диски, но, как правило, они отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="0855a-166">The session in which a service runs can have its own mapped drives, although it usually does not.</span></span>  
  
-   <span data-ttu-id="0855a-167">Можно подключиться, используя учетную запись сетевой службы, если вместо пользователя домена указать учетную запись компьютера.</span><span class="sxs-lookup"><span data-stu-id="0855a-167">You can connect with the network service account by using the computer account instead of a domain user.</span></span> <span data-ttu-id="0855a-168">Чтобы разрешить выполнение резервного копирования с определенных компьютеров на общий диск, нужно предоставить доступ к учетным записям компьютеров.</span><span class="sxs-lookup"><span data-stu-id="0855a-168">To enable backups from specific computers to a shared drive, grant access to the computer accounts.</span></span> <span data-ttu-id="0855a-169">Пока процесс Sqlservr.exe имеет доступ на запись резервных копий, было бы неправильно предоставлять доступ пользователю, посылающему инструкцию BACKUP.</span><span class="sxs-lookup"><span data-stu-id="0855a-169">As long as the Sqlservr.exe process that is writing the backup has access, it is irrelevant whether the user sending the BACKUP command has access.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="0855a-170">Резервное копирование данных через сеть может быть причиной сетевых ошибок. Поэтому при использовании удаленного диска рекомендуется проверять операцию резервного копирования после ее завершения.</span><span class="sxs-lookup"><span data-stu-id="0855a-170">Backing up data over a network can be subject to network errors; therefore, we recommend that when you are using a remote disk you verify the backup operation after it finishes.</span></span> <span data-ttu-id="0855a-171">Дополнительные сведения см. в разделе [RESTORE VERIFYONLY (Transact-SQL)](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0855a-171">For more information, see [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span></span>  
  
#### <a name="specifying-a-universal-naming-convention-unc-name"></a><span data-ttu-id="0855a-172">Как указать имя в формате UNC</span><span class="sxs-lookup"><span data-stu-id="0855a-172">Specifying a Universal Naming Convention (UNC) Name</span></span>  
 <span data-ttu-id="0855a-173">Чтобы указать сетевой ресурс в инструкции резервного копирования или восстановления, для файла, расположенного на устройстве резервного копирования, необходимо использовать полностью заданное имя в формате UNC.</span><span class="sxs-lookup"><span data-stu-id="0855a-173">To specify a network share in a backup or restore command, you should use the fully qualified universal naming convention (UNC) name of the file for the backup device.</span></span> <span data-ttu-id="0855a-174">Имя в формате UNC имеет форму **\\\\** _Имя_системы_ **\\** _Имя_общего_ресурса_ **\\** _Путь_ **\\** _Имя_файла_.</span><span class="sxs-lookup"><span data-stu-id="0855a-174">A UNC name has the form **\\\\**_Systemname_**\\**_ShareName_**\\**_Path_**\\**_FileName_.</span></span>  
  
 <span data-ttu-id="0855a-175">Пример:</span><span class="sxs-lookup"><span data-stu-id="0855a-175">For example:</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO DISK = '\\BackupSystem\BackupDisk1\AW_backups\AdventureWorksData.Bak';  
GO  
```  
  
##  <a name="using-tape-devices"></a><a name="TapeDevices"></a><span data-ttu-id="0855a-176">Использование ленточных устройств</span><span class="sxs-lookup"><span data-stu-id="0855a-176">Using Tape Devices</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0855a-177">Поддержка ленточных устройств резервного копирования будет удалена в одной из будущих версий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0855a-177">Support for tape backup devices will be removed in a future version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="0855a-178">Избегайте использования этого компонента в новых разработках и запланируйте изменение существующих приложений, в которых он применяется.</span><span class="sxs-lookup"><span data-stu-id="0855a-178">Avoid using this feature in new development work, and plan to modify applications that currently use this feature.</span></span>  
  
 <span data-ttu-id="0855a-179">**В этом разделе.**</span><span class="sxs-lookup"><span data-stu-id="0855a-179">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="0855a-180">Указание ленты для резервного копирования по ее физическому имени (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-180">Specifying a Backup Tape by Using Its Physical Name (Transact-SQL)</span></span>](#BackupTapeUsingPhysicalName)  
  
-   [<span data-ttu-id="0855a-181">Параметры резервного копирования и восстановления на ленте (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-181">Tape-Specific BACKUP and RESTORE Options (Transact-SQL)</span></span>](#TapeOptions)  
  
-   [<span data-ttu-id="0855a-182">Управление открытыми лентами</span><span class="sxs-lookup"><span data-stu-id="0855a-182">Managing Open Tapes</span></span>](#OpenTapes)  
  
 <span data-ttu-id="0855a-183">Для резервного копирования данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на магнитную ленту необходим накопитель на магнитной ленте, поддерживаемый операционной системой [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="0855a-183">Backing up [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data to tape requires that the tape drive or drives be supported by the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows operating system.</span></span> <span data-ttu-id="0855a-184">Кроме того, для накопителя на магнитной ленте рекомендуется использовать только ту магнитную ленту, которая рекомендована производителем накопителя.</span><span class="sxs-lookup"><span data-stu-id="0855a-184">Additionally, for the given tape drive, we recommend that you use only tapes recommended by the drive manufacturer.</span></span> <span data-ttu-id="0855a-185">Дополнительные сведения об установке накопителя на магнитной ленте см. в документации по операционной системе Windows.</span><span class="sxs-lookup"><span data-stu-id="0855a-185">For more information about how to install a tape drive, see the documentation for the Windows operating system.</span></span>  
  
 <span data-ttu-id="0855a-186">Если при резервном копировании на магнитную ленту одна лента будет заполнена, то запись резервной копии может быть продолжена на другую ленту.</span><span class="sxs-lookup"><span data-stu-id="0855a-186">When a tape drive is used, a backup operation may fill one tape and continue onto another tape.</span></span> <span data-ttu-id="0855a-187">Каждая лента содержит заголовок носителя.</span><span class="sxs-lookup"><span data-stu-id="0855a-187">Each tape contains a media header.</span></span> <span data-ttu-id="0855a-188">Первый использованный носитель называется *исходной лентой*.</span><span class="sxs-lookup"><span data-stu-id="0855a-188">The first media used is called the *initial tape*.</span></span> <span data-ttu-id="0855a-189">Каждая последующая лента называется *дополнительная лента* и имеет номер носителя на один больше предыдущего.</span><span class="sxs-lookup"><span data-stu-id="0855a-189">Each successive tape is known as a *continuation tape* and has a media sequence number that is one higher than the previous tape.</span></span> <span data-ttu-id="0855a-190">Например, набор носителей, связанный с четырьмя ленточными накопителями, содержит, по меньшей мере, четыре исходных ленты (и, если база данных не умещается, то четыре серии дополнительных лент).</span><span class="sxs-lookup"><span data-stu-id="0855a-190">For example, a media set associated with four tape devices contains at least four initial tapes (and, if the database does not fit, four series of continuation tapes).</span></span> <span data-ttu-id="0855a-191">При наращивании набора резервного копирования нужно монтировать последнюю ленту в серию.</span><span class="sxs-lookup"><span data-stu-id="0855a-191">When appending a backup set, you must mount the last tape in the series.</span></span> <span data-ttu-id="0855a-192">Если последняя лента не смонтирована, то компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] просматривает ленты вплоть до конца смонтированной и требует сменить ленту.</span><span class="sxs-lookup"><span data-stu-id="0855a-192">If the last tape is not mounted, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] scans forward to the end of the mounted tape and then requires that you change the tape.</span></span> <span data-ttu-id="0855a-193">В этот момент смонтируйте последнюю ленту.</span><span class="sxs-lookup"><span data-stu-id="0855a-193">At that point, mount the last tape.</span></span>  
  
 <span data-ttu-id="0855a-194">Ленточные устройства резервного копирования используются аналогично дисковым, но со следующими исключениями.</span><span class="sxs-lookup"><span data-stu-id="0855a-194">Tape backup devices are used like disk devices, with the following exceptions:</span></span>  
  
-   <span data-ttu-id="0855a-195">Ленточное устройство должно быть физически подключено к компьютеру, на котором запущен экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0855a-195">The tape device must be connected physically to the computer that is running an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="0855a-196">Резервное копирование на удаленный ленточный накопитель не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="0855a-196">Backing up to remote tape devices is not supported.</span></span>  
  
-   <span data-ttu-id="0855a-197">Если ленточное устройство окажется переполненным до завершения резервного копирования, то [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предложит вставить новую ленту и продолжит операцию после ее загрузки.</span><span class="sxs-lookup"><span data-stu-id="0855a-197">If a tape backup device is filled during the backup operation, but more data still must be written, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prompts for a new tape and continues the backup operation after a new tape is loaded.</span></span>  
  
###  <a name="specifying-a-backup-tape-by-using-its-physical-name-transact-sql"></a><a name="BackupTapeUsingPhysicalName"></a><span data-ttu-id="0855a-198">Указание ленты резервного копирования с помощью ее физического имени (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-198">Specifying a Backup Tape by Using Its Physical Name (Transact-SQL)</span></span>  
 <span data-ttu-id="0855a-199">Базовый синтаксис инструкции [BACKUP](/sql/t-sql/statements/backup-transact-sql) для указания ленты резервного копирования с помощью физического имени накопителя на магнитной ленте:</span><span class="sxs-lookup"><span data-stu-id="0855a-199">The basic [BACKUP](/sql/t-sql/statements/backup-transact-sql) syntax for specifying a backup tape using the physical device name of the tape drive is:</span></span>  
  
 <span data-ttu-id="0855a-200">BACKUP { DATABASE | LOG } *database_name*</span><span class="sxs-lookup"><span data-stu-id="0855a-200">BACKUP { DATABASE | LOG } *database_name*</span></span>  
  
 <span data-ttu-id="0855a-201">TO TAPE **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="0855a-201">TO TAPE **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
 <span data-ttu-id="0855a-202">Пример:</span><span class="sxs-lookup"><span data-stu-id="0855a-202">For example:</span></span>  
  
```  
BACKUP LOG AdventureWorks2012   
   TO TAPE = '\\.\tape0';  
GO  
```  
  
 <span data-ttu-id="0855a-203">Базовый синтаксис для указания физического ленточного устройства в инструкции [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) :</span><span class="sxs-lookup"><span data-stu-id="0855a-203">To specify a physical tape device in a [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, the basic syntax is:</span></span>  
  
 <span data-ttu-id="0855a-204">RESTORE { DATABASE | LOG } *database_name*</span><span class="sxs-lookup"><span data-stu-id="0855a-204">RESTORE { DATABASE | LOG } *database_name*</span></span>  
  
 <span data-ttu-id="0855a-205">FROM TAPE **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="0855a-205">FROM TAPE **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
###  <a name="tape-specific-backup-and-restore-options-transact-sql"></a><a name="TapeOptions"></a><span data-ttu-id="0855a-206">Параметры резервного копирования и восстановления на ленте (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-206">Tape-Specific BACKUP and RESTORE Options (Transact-SQL)</span></span>  
 <span data-ttu-id="0855a-207">Чтобы упростить управление лентой, инструкция BACKUP предоставляет следующие параметры для ленточных устройств.</span><span class="sxs-lookup"><span data-stu-id="0855a-207">To facilitate tape management, the BACKUP statement provides the following tape-specific options:</span></span>  
  
-   <span data-ttu-id="0855a-208">{ NOUNLOAD | **UNLOAD** }</span><span class="sxs-lookup"><span data-stu-id="0855a-208">{ NOUNLOAD | **UNLOAD** }</span></span>  
  
     <span data-ttu-id="0855a-209">Предоставляет управление автоматической выгрузкой ленты из накопителя на магнитной ленте после завершения операций резервного копирования или восстановления.</span><span class="sxs-lookup"><span data-stu-id="0855a-209">You can control whether a backup tape is unloaded automatically from the tape drive after a backup or restore operation.</span></span> <span data-ttu-id="0855a-210">Параметр UNLOAD/NOUNLOAD является настройкой сеанса, он сохраняется в течение работы сеанса или пока не будет сброшен при указании другого значения.</span><span class="sxs-lookup"><span data-stu-id="0855a-210">UNLOAD/NOUNLOAD is a session setting that persists for the life of the session or until it is reset by specifying the alternative.</span></span>  
  
-   <span data-ttu-id="0855a-211">{ **REWIND** | NOREWIND }</span><span class="sxs-lookup"><span data-stu-id="0855a-211">{ **REWIND** | NOREWIND }</span></span>  
  
     <span data-ttu-id="0855a-212">С помощью этого параметра можно определить — оставит ли [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ленту открытой после операции резервного копирования или восстановления или освободит и перемотает после того, как она будет заполнена.</span><span class="sxs-lookup"><span data-stu-id="0855a-212">You can control whether [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] keeps the tape remains open after the backup or restore operation or releases and rewinds the tape after it fills.</span></span> <span data-ttu-id="0855a-213">Поведение по умолчанию — перемотка ленты (REWIND).</span><span class="sxs-lookup"><span data-stu-id="0855a-213">The default behavior is to rewind the tape (REWIND).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0855a-214">Дополнительные сведения о синтаксисе инструкции BACKUP и ее аргументах см. в разделе [BACKUP (Transact-SQL)](/sql/t-sql/statements/backup-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0855a-214">For more information about the BACKUP syntax and arguments, see [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span></span> <span data-ttu-id="0855a-215">Дополнительные сведения о синтаксисе RESTORE и его аргументах см. в разделах [RESTORE (Transact-SQL)](/sql/t-sql/statements/restore-statements-transact-sql) и [Аргументы RESTORE (Transact-SQL)](/sql/t-sql/statements/restore-statements-arguments-transact-sql) соответственно.</span><span class="sxs-lookup"><span data-stu-id="0855a-215">For more information about the RESTORE syntax and arguments, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) and [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql), respectively.</span></span>  
  
###  <a name="managing-open-tapes"></a><a name="OpenTapes"></a><span data-ttu-id="0855a-216">Управление открытыми лентами</span><span class="sxs-lookup"><span data-stu-id="0855a-216">Managing Open Tapes</span></span>  
 <span data-ttu-id="0855a-217">Для просмотра списка открытых ленточных устройств и состояния запросов на подключение запросите динамическое представление управления [sys.dm_io_backup_tapes](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="0855a-217">To view a list of open tape devices and the status of mount requests, query the [sys.dm_io_backup_tapes](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) dynamic management view.</span></span> <span data-ttu-id="0855a-218">Данное представление показывает все открытые ленты.</span><span class="sxs-lookup"><span data-stu-id="0855a-218">This view shows all the open tapes.</span></span> <span data-ttu-id="0855a-219">Сюда относятся все используемые ленты, которые временно простаивают в ожидании следующей операции BACKUP или RESTORE.</span><span class="sxs-lookup"><span data-stu-id="0855a-219">These include in-use tapes that are temporarily idle while they wait for the next BACKUP or RESTORE operation.</span></span>  
  
 <span data-ttu-id="0855a-220">Если лента была неумышленно оставлена открытой, то самый быстрый способ освободить ленту — использовать следующую команду: RESTORE REWINDONLY FROM TAPE **=** _backup_device_name_.</span><span class="sxs-lookup"><span data-stu-id="0855a-220">If a tape has been accidentally left open, the fastest way to release the tape is by using the following command: RESTORE REWINDONLY FROM TAPE **=**_backup_device_name_.</span></span> <span data-ttu-id="0855a-221">Дополнительные сведения см. в разделе [RESTORE REWINDONLY (Transact-SQL)](/sql/t-sql/statements/restore-statements-rewindonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0855a-221">For more information, see [RESTORE REWINDONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-rewindonly-transact-sql).</span></span>  
  
## <a name="using-the-azure-blob-storage-service"></a><span data-ttu-id="0855a-222">Использование службы хранилища BLOB-объектов Azure</span><span class="sxs-lookup"><span data-stu-id="0855a-222">Using the Azure Blob Storage Service</span></span>  
 <span data-ttu-id="0855a-223">Резервные копии SQL Server могут быть записаны в службу хранилища BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="0855a-223">SQL Server Backups can be written to the Azure Blob Storage Service.</span></span>  <span data-ttu-id="0855a-224">Дополнительные сведения об использовании службы хранилища BLOB-объектов Azure для резервного копирования см. в статье [SQL Server резервное копирование и восстановление с помощью службы хранилища BLOB-объектов Azure](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md).</span><span class="sxs-lookup"><span data-stu-id="0855a-224">For more information on how to use the Azure Blob storage service for your backups, see [SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md).</span></span>  
  
##  <a name="using-a-logical-backup-device"></a><a name="LogicalBackupDevice"></a><span data-ttu-id="0855a-225">Использование логического устройства резервного копирования</span><span class="sxs-lookup"><span data-stu-id="0855a-225">Using a Logical Backup Device</span></span>  
 <span data-ttu-id="0855a-226">*Логическое устройство резервного копирования* представляет собой необязательное, определяемое пользователем имя, которое указывает на конкретное физическое устройство резервного копирования (дисковый файл или ленточный накопитель).</span><span class="sxs-lookup"><span data-stu-id="0855a-226">A *logical backup device* is an optional, user-defined name that points to a specific physical backup device (a disk file or tape drive).</span></span> <span data-ttu-id="0855a-227">Логическое устройство резервного копирования позволяет использовать возможность косвенного обращения к соответствующему физическому устройству резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-227">A logical backup device lets you use indirection when referencing the corresponding physical backup device.</span></span>  
  
 <span data-ttu-id="0855a-228">Определение логического устройства резервного копирования включает в себя назначение логического имени физическому устройству.</span><span class="sxs-lookup"><span data-stu-id="0855a-228">Defining a logical backup device involves assigning a logical name to a physical device.</span></span> <span data-ttu-id="0855a-229">Например, логическое устройство AdventureWorksBackups можно определить таким образом, чтобы оно указывало на файл Z:\SQLServerBackups\AdventureWorks2012.bak или ленточный накопитель \\\\.\tape0.</span><span class="sxs-lookup"><span data-stu-id="0855a-229">For example, a logical device, AdventureWorksBackups, could be defined to point to the Z:\SQLServerBackups\AdventureWorks2012.bak file or the \\\\.\tape0 tape drive.</span></span> <span data-ttu-id="0855a-230">Затем в командах резервного копирования и восстановления в качестве устройства резервного копирования можно указывать AdventureWorksBackups вместо DISK = "Z:\SQLServerBackups\AdventureWorks2012.bak" или\\\\.\tape0.</span><span class="sxs-lookup"><span data-stu-id="0855a-230">Backup and restore commands can then specify AdventureWorksBackups as the backup device, instead of DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak' or TAPE = '\\\\.\tape0'.</span></span>  
  
 <span data-ttu-id="0855a-231">Каждое имя логического устройства должно быть уникальным в пространстве имен всех логических устройств резервного копирования на экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="0855a-231">The logical device name must be unique among all the logical backup devices on the server instance.</span></span> <span data-ttu-id="0855a-232">Чтобы просмотреть имена существующих логических устройств, запросите представление каталога [sys.backup_devices](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="0855a-232">To view the existing logical device names, query the [sys.backup_devices](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) catalog view.</span></span> <span data-ttu-id="0855a-233">Это представление отображает имя каждого логического устройства резервного копирования и описывает тип и имя физического файла или путь к соответствующему физическому устройству резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-233">This view displays the name of each logical backup device and describes the type and physical file name or path of the corresponding physical backup device.</span></span>  
  
 <span data-ttu-id="0855a-234">После того как определено логическое устройство резервного копирования в инструкциях BACKUP или RESTORE, можно указывать логическое устройство резервного копирования вместо использования физического имени устройства.</span><span class="sxs-lookup"><span data-stu-id="0855a-234">After a logical backup device is defined, in a BACKUP or RESTORE command, you can specify the logical backup device instead of the physical name of the device.</span></span> <span data-ttu-id="0855a-235">Например, следующая инструкция создает резервную копию базы данных `AdventureWorks2012` в логическое устройство резервного копирования `AdventureWorksBackups` .</span><span class="sxs-lookup"><span data-stu-id="0855a-235">For example, the following statement backs up the `AdventureWorks2012` database to the `AdventureWorksBackups` logical backup device.</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO AdventureWorksBackups;  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="0855a-236">В данных инструкциях BACKUP или RESTORE имя логического устройства резервного копирования и имя соответствующего физического устройства резервного копирования являются взаимозаменяемыми.</span><span class="sxs-lookup"><span data-stu-id="0855a-236">In a given BACKUP or RESTORE statement, the logical backup device name and the corresponding physical backup device name are interchangeable.</span></span>  
  
 <span data-ttu-id="0855a-237">Одним из преимуществ использования логического устройства резервного копирования является удобство по сравнению с использованием длинного полного пути.</span><span class="sxs-lookup"><span data-stu-id="0855a-237">One advantage of using a logical backup device is that it is simpler to use than a long path.</span></span> <span data-ttu-id="0855a-238">Использование логического устройства резервного копирования может быть полезным, если планируется запись набора резервных копий по одному и тому же пути или на один накопитель на магнитной ленте.</span><span class="sxs-lookup"><span data-stu-id="0855a-238">Using a logical backup device can help if you plan to write a series of backups to the same path or to a tape device.</span></span> <span data-ttu-id="0855a-239">Логические устройства резервного копирования особенно полезны для указания ленточных устройств резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-239">Logical backup devices are especially useful for identifying tape backup devices.</span></span>  
  
 <span data-ttu-id="0855a-240">Для использования особого логического устройства можно написать скрипт резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-240">A backup script can be written to use a particular logical backup device.</span></span> <span data-ttu-id="0855a-241">Это позволяет переключаться к новым физическим устройствам резервного копирования без обновления скрипта.</span><span class="sxs-lookup"><span data-stu-id="0855a-241">This lets you switch to a new physical backup devices without updating the script.</span></span> <span data-ttu-id="0855a-242">Переключение включает следующий процесс.</span><span class="sxs-lookup"><span data-stu-id="0855a-242">Switching involves the following process:</span></span>  
  
1.  <span data-ttu-id="0855a-243">Удаление исходного логического устройства резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-243">Dropping the original logical backup device.</span></span>  
  
2.  <span data-ttu-id="0855a-244">Определение нового логического устройства резервного копирования, имя которого совпадает с именем исходного логического устройства, но которое сопоставлено с другим физическим устройством резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-244">Defining a new logical backup device that uses the original logical device name but maps to a different physical backup device.</span></span> <span data-ttu-id="0855a-245">Логические устройства резервного копирования особенно полезны для указания ленточных устройств резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-245">Logical backup devices are especially useful for identifying tape backup devices.</span></span>  
  
##  <a name="mirrored-backup-media-sets"></a><a name="MirroredMediaSets"></a><span data-ttu-id="0855a-246">Зеркальные наборы носителей резервных копий</span><span class="sxs-lookup"><span data-stu-id="0855a-246">Mirrored Backup Media Sets</span></span>  
 <span data-ttu-id="0855a-247">Зеркальное отображение набора носителей резервных копий позволяет снизить воздействие сбоев в работе устройств резервного копирования на сохранность резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0855a-247">Mirroring of backup media sets reduces the effect of backup-device malfunctions.</span></span> <span data-ttu-id="0855a-248">Эти сбои имеют особо серьезное значение, поскольку резервные копии являются последней линией обороны перед потерей данных.</span><span class="sxs-lookup"><span data-stu-id="0855a-248">These malfunctions are especially serious because backups are the last line of defense against data loss.</span></span> <span data-ttu-id="0855a-249">По мере роста баз данных в объеме увеличивается вероятность того, что сбой в работе устройства резервного копирования или носителя сделает резервную копию невосстановимой.</span><span class="sxs-lookup"><span data-stu-id="0855a-249">As the sizes of databases grow, the probability increases that a failure of a backup device or media will make a backup nonrestorable.</span></span> <span data-ttu-id="0855a-250">Зеркальное отображение носителей резервных копий повышает надежность резервных копий за счет избыточности физических устройств резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-250">Mirroring backup media increases the reliability of backups by providing redundancy for the physical backup device.</span></span> <span data-ttu-id="0855a-251">Дополнительные сведения см. в подразделе [Зеркальные наборы носителей резервных копий (SQL Server)](mirrored-backup-media-sets-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0855a-251">For more information, see [Mirrored Backup Media Sets &#40;SQL Server&#41;](mirrored-backup-media-sets-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0855a-252">Зеркальные наборы носителей резервной копии поддерживаются только в выпуске [!INCLUDE[ssEnterpriseEd2005](../../includes/ssenterpriseed2005-md.md)] и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="0855a-252">Mirrored backup media sets are supported only in [!INCLUDE[ssEnterpriseEd2005](../../includes/ssenterpriseed2005-md.md)] and later versions.</span></span>  
  
##  <a name="archiving-sql-server-backups"></a><a name="Archiving"></a><span data-ttu-id="0855a-253">Архивация SQL Server резервных копий</span><span class="sxs-lookup"><span data-stu-id="0855a-253">Archiving SQL Server Backups</span></span>  
 <span data-ttu-id="0855a-254">Для архивации дисковых резервных копий рекомендуется пользоваться программой архивации файловой системы, а также хранить архивы вне вычислительной системы.</span><span class="sxs-lookup"><span data-stu-id="0855a-254">We recommend that you use a file system backup utility to archive the disk backups and that you store the archives off-site.</span></span> <span data-ttu-id="0855a-255">Использование жесткого диска дает возможность использовать сеть для записи заархивированных резервных копий на диск, расположенный вне вычислительной системы.</span><span class="sxs-lookup"><span data-stu-id="0855a-255">Using disk has the advantage that you use the network to write the archived backups onto an off-site disk.</span></span> <span data-ttu-id="0855a-256">Хранилище BLOB-объектов Azure можно использовать в качестве средства архивирования.</span><span class="sxs-lookup"><span data-stu-id="0855a-256">The Azure Blob storage service can be used as off-site archival option.</span></span>  <span data-ttu-id="0855a-257">Можно передать дисковые резервные копии либо непосредственно записать копии в службу хранилища BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="0855a-257">You can either upload your disk backups, or directly write the backups to the Azure Blob storage service.</span></span>  
  
 <span data-ttu-id="0855a-258">Другой распространенный подход к архивированию предусматривает запись резервных копий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на локальный диск для резервного копирования, архивацию копий на магнитную ленту и хранение ленты на другой площадке.</span><span class="sxs-lookup"><span data-stu-id="0855a-258">Another common archiving approach is to write [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups onto a local backup disk, archive them to tape, and then store the tapes off-site.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="0855a-259">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="0855a-259">Related Tasks</span></span>  
 <span data-ttu-id="0855a-260">**Указание логического устройства резервного копирования (среда SQL Server Management Studio)**</span><span class="sxs-lookup"><span data-stu-id="0855a-260">**To specify a disk device (SQL Server Management Studio)**</span></span>  
  
-   [<span data-ttu-id="0855a-261">Указание в качестве назначения резервного копирования диска или ленты (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-261">Specify a Disk or Tape As a Backup Destination &#40;SQL Server&#41;</span></span>](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
 <span data-ttu-id="0855a-262">**Указание ленточного устройства (среда SQL Server Management Studio)**</span><span class="sxs-lookup"><span data-stu-id="0855a-262">**To specify a tape device (SQL Server Management Studio)**</span></span>  
  
-   [<span data-ttu-id="0855a-263">Указание в качестве назначения резервного копирования диска или ленты (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-263">Specify a Disk or Tape As a Backup Destination &#40;SQL Server&#41;</span></span>](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
 <span data-ttu-id="0855a-264">**Определение логического устройства резервного копирования**</span><span class="sxs-lookup"><span data-stu-id="0855a-264">**To define a logical backup device**</span></span>  
  
-   [<span data-ttu-id="0855a-265">sp_addumpdevice (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-265">sp_addumpdevice &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-addumpdevice-transact-sql)  
  
-   [<span data-ttu-id="0855a-266">Определение логического устройства резервного копирования для дискового файла (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-266">Define a Logical Backup Device for a Disk File &#40;SQL Server&#41;</span></span>](define-a-logical-backup-device-for-a-disk-file-sql-server.md)  
  
-   [<span data-ttu-id="0855a-267">Определение логического устройства резервного копирования для ленточного накопителя (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-267">Define a Logical Backup Device for a Tape Drive &#40;SQL Server&#41;</span></span>](define-a-logical-backup-device-for-a-tape-drive-sql-server.md)  
  
-   <span data-ttu-id="0855a-268"><xref:Microsoft.SqlServer.Management.Smo.BackupDevice> (SMO)</span><span class="sxs-lookup"><span data-stu-id="0855a-268"><xref:Microsoft.SqlServer.Management.Smo.BackupDevice> (SMO)</span></span>  
  
 <span data-ttu-id="0855a-269">**Использование логического устройства резервного копирования**</span><span class="sxs-lookup"><span data-stu-id="0855a-269">**To use a logical backup device**</span></span>  
  
-   [<span data-ttu-id="0855a-270">Указание в качестве назначения резервного копирования диска или ленты (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-270">Specify a Disk or Tape As a Backup Destination &#40;SQL Server&#41;</span></span>](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
-   [<span data-ttu-id="0855a-271">Восстановление резервной копии с устройства (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-271">Restore a Backup from a Device &#40;SQL Server&#41;</span></span>](restore-a-backup-from-a-device-sql-server.md)  
  
-   [<span data-ttu-id="0855a-272">BACKUP (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-272">BACKUP &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/backup-transact-sql)  
  
-   [<span data-ttu-id="0855a-273">RESTORE (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-273">RESTORE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-transact-sql)  
  
 <span data-ttu-id="0855a-274">**Просмотр сведений об устройствах резервного копирования**</span><span class="sxs-lookup"><span data-stu-id="0855a-274">**To View Information About Backup Devices**</span></span>  
  
-   [<span data-ttu-id="0855a-275">Журнал и сведения о заголовке резервной копии (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-275">Backup History and Header Information &#40;SQL Server&#41;</span></span>](backup-history-and-header-information-sql-server.md)  
  
-   [<span data-ttu-id="0855a-276">Просмотр свойств и содержимого логического устройства резервного копирования (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-276">View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;</span></span>](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   [<span data-ttu-id="0855a-277">Просмотр содержимого ленты или файла резервной копии (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-277">View the Contents of a Backup Tape or File &#40;SQL Server&#41;</span></span>](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
 <span data-ttu-id="0855a-278">**Удаление логического устройства резервного копирования**</span><span class="sxs-lookup"><span data-stu-id="0855a-278">**To delete a logical backup device**</span></span>  
  
-   [<span data-ttu-id="0855a-279">sp_dropdevice (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0855a-279">sp_dropdevice &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dropdevice-transact-sql)  
  
-   [<span data-ttu-id="0855a-280">Удаление устройства резервного копирования (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-280">Delete a Backup Device &#40;SQL Server&#41;</span></span>](delete-a-backup-device-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="0855a-281">См. также:</span><span class="sxs-lookup"><span data-stu-id="0855a-281">See Also</span></span>  
 <span data-ttu-id="0855a-282">[SQL Server, объект Backup Device](../performance-monitor/sql-server-backup-device-object.md) </span><span class="sxs-lookup"><span data-stu-id="0855a-282">[SQL Server, Backup Device Object](../performance-monitor/sql-server-backup-device-object.md) </span></span>  
 <span data-ttu-id="0855a-283">[BACKUP (Transact-SQL)](/sql/t-sql/statements/backup-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0855a-283">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span></span>  
 <span data-ttu-id="0855a-284">[Планы обслуживания](../maintenance-plans/maintenance-plans.md) </span><span class="sxs-lookup"><span data-stu-id="0855a-284">[Maintenance Plans](../maintenance-plans/maintenance-plans.md) </span></span>  
 <span data-ttu-id="0855a-285">[Наборы носителей, семейства носителей и резервные наборы данных (SQL Server)](media-sets-media-families-and-backup-sets-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="0855a-285">[Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span></span>  
 <span data-ttu-id="0855a-286">[RESTORE (Transact-SQL)](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0855a-286">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 <span data-ttu-id="0855a-287">[RESTORE LABELONLY (Transact-SQL)](/sql/t-sql/statements/restore-statements-labelonly-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0855a-287">[RESTORE LABELONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-labelonly-transact-sql) </span></span>  
 <span data-ttu-id="0855a-288">[sys.backup_devices (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0855a-288">[sys.backup_devices &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) </span></span>  
 <span data-ttu-id="0855a-289">[sys.dm_io_backup_tapes (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0855a-289">[sys.dm_io_backup_tapes &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) </span></span>  
 [<span data-ttu-id="0855a-290">Зеркальные наборы носителей резервных копий (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0855a-290">Mirrored Backup Media Sets &#40;SQL Server&#41;</span></span>](mirrored-backup-media-sets-sql-server.md)  
  
  

---
title: Импорт файла BACPAC для создания новой пользовательской базы данных | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.importdac.progress.f1
- sql12.swb. importdac.settings.f1
- sql12.swb.importdac.storagebrowser.f1
- sql12.swb. importdac.summary.f1
- sql12.swb.importdac.results.f1
- sql12.swb. importdac.progress.f1
- sql12.swb.importdac.welcome.f1
- sql12.swb.importdac.settings.f1
- sql12.swb. importdac.results.f1
- sql12.swb.importdac.summary.f1
helpviewer_keywords:
- Data-tier application
- SQL Server DAC
- Migrate database
- DAC
ms.assetid: 736d8d9a-39f1-4bf8-b81f-2e56c134d12e
author: stevestein
ms.author: sstein
ms.openlocfilehash: 66e71453f38fe15f295fceaf63b5edba5ab5ff43
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666661"
---
# <a name="import-a-bacpac-file-to-create-a-new-user-database"></a>Импорт файла BACPAC для создания новой пользовательской базы данных
  Импортируйте файл приложения уровня данных (DAC) (файл BACPAC) для создания копии исходной базы данных с данными в новом экземпляре [!INCLUDE[ssDE](../../includes/ssde-md.md)] или компоненте [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)]. Операции экспорта-импорта могут быть совмещены для переноса приложения уровня данных или базы данных из одного экземпляра в другой или для создания логического резервного копирования, например создания находящейся на предприятии копии базы данных, развернутой в [!INCLUDE[ssSDS](../../includes/sssds-md.md)].  
  
## <a name="before-you-begin"></a>Перед началом  
 Процедура импорта создает новое приложение уровня данных в два этапа.  
  
1.  При импорте создается новое приложение уровня данных (DAC) и связанная с ним база данных, которая использует определение DAC, сохраненное в файле экспорта, точно так же при развертывании DAC создается новое приложение уровня данных из определения в файле пакета DAC.  
  
2.  Массовый импорт копирует данные из файла экспорта.  
  
 
## <a name="sql-server-utility"></a>Служебная программа SQL Server  
 При импорте приложения уровня данных в управляемый экземпляр компонента Database Engine импортированное приложение уровня данных будет включено в служебную программу SQL Server при следующей отправке набора элементов сбора программы из экземпляра в точке управления служебной программой. После этого приложение уровня данных появится в узле **Развернутые приложения уровня данных** в окне [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] **Проводник служебной программы**, а также на странице сведений **Развернутые приложения уровня данных**.  
  
## <a name="database-options-and-settings"></a>настройка параметров баз данных  
 По умолчанию база данных, создаваемая в процессе импорта, будет иметь все стандартные настройки инструкции CREATE DATABASE за исключением того, что параметры сортировки и уровень совместимости базы данных будут установлены в соответствии со значениями, заданными в приложении уровня данных. Экспортный файл приложения уровня данных использует значения этой исходной базы данных.  
  
 Некоторые параметры баз данных, например TRUSTWORTHY, DB_CHAINING и HONOR_BROKER_PRIORITY, нельзя изменять в рамках процедуры импорта. Физические свойства, например количество файловых групп или количество и размер файлов, нельзя изменять в рамках процедуры импорта. После завершения импорта вы можете настроить базу данных с помощью инструкции ALTER DATABASE, среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]или программы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell. Дополнительные сведения см. в статье [Databases](../databases/databases.md).  
  
## <a name="limitations-and-restrictions"></a>Ограничения  
 Импорт приложения уровня данных можно выполнить в среду [!INCLUDE[ssSDS](../../includes/sssds-md.md)]или в экземпляр компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] , запущенный в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с пакетом обновления 4 (SP4) или более поздней версии. После экспорта приложения уровня данных из более поздней версии приложение может содержать объекты, не поддерживаемые [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]. Невозможно развернуть данные приложения уровня данных для экземпляров [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].  
  
## <a name="prerequisites"></a>предварительные требования  
 Рекомендуется не выполнять импорт файла экспорта приложения уровня данных, полученного из неизвестных или ненадежных источников. В данных файлах может содержаться вредоносный код Transact-SQL, вызывающий выполнение непредусмотренных инструкций или появление ошибок из-за изменения схемы. Перед тем как использовать файл экспорта из неизвестного или ненадежного источника, распакуйте его и изучите код, например хранимые процедуры или другой пользовательский код. Дополнительные сведения о том, как выполнить эти проверки, см. в разделе [Validate a DAC Package](validate-a-dac-package.md).  
  
## <a name="security"></a>безопасность  
 Для повышения безопасности имена входа в SQL Server хранятся в файле экспорта приложения уровня данных без пароля. При импорте файла имя входа создается как отключенное имя входа с созданным паролем. Чтобы включить имена входа, войдите в систему под учетной записью, имеющей разрешение ALTER ANY LOGIN и с помощью команды ALTER LOGIN включите имя входа и присвойте ему новый пароль, который можно передать пользователю. Это не требуется для имен входа, использующих проверку подлинности Windows, поскольку SQL Server не управляет их паролями.  
  
## <a name="permissions"></a>Разрешения  
 Импорт DAC может проводиться только членами предопределенных ролей сервера **sysadmin** или **serveradmin** , либо именами для входа, которые находятся в предопределенной роли сервера **dbcreator** с разрешениями ALTER ANY LOGIN. Импорт приложения уровня данных также может быть запущен от имени учетной записи системного администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с именем **sa** . Для импорта приложения уровня данных с именами входа в [!INCLUDE[ssSDS](../../includes/sssds-md.md)] необходимо быть участником группы с ролью loginmanager или serveradmin. Для импорта приложения уровня данных без имен входа в [!INCLUDE[ssSDS](../../includes/sssds-md.md)] необходимо быть участником группы с ролью dbmanager или serveradmin.  
  
## <a name="using-the-import-data-tier-application-wizard"></a>Использование мастера импорта приложения уровня данных  
 **Для запуска мастера выполните следующие действия.**  
  
1.  Подключитесь к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]на предприятии или в службах [!INCLUDE[ssSDS](../../includes/sssds-md.md)].  
  
2.  В **обозревателе объектов**щелкните правой кнопкой мыши узел **Базы данных**, а затем выберите пункт меню **Импорт приложения уровня данных** для запуска мастера.  
  
3.  Выполните шаги в диалоговых окнах мастера.  
  
    -   [Вводная страница](#Introduction)  
  
    -   [Страница параметров импорта](#Import_settings)  
  
    -   [Страница параметров базы данных](#Database_settings)  
  
    -   [Страница «Сводка»](#Summary)  
  
    -   [Страница «Ход выполнения»](#Progress)  
  
    -   [Страница «Результаты»](#Results)  
  
###  <a name="introduction-page"></a><a name="Introduction"></a> Вводная страница  
 На этой странице описаны шаги мастера импорта приложения уровня данных.  
  
 **Параметры**  
  
-   **Больше не показывать эту страницу.** — установите этот флажок, чтобы предотвратить отображение страницы «Введение» в будущем.  
  
-   **Следующая** — переходит к странице **Параметры импорта**.  
  
-   **Отмена** — отмена операции и закрытие мастера.  
  
###  <a name="import-settings-page"></a><a name="Import_settings"></a> Страница параметров импорта  
 Эта страница служит для указания местоположения импортируемого файла BACPAC.  
  
-   **Импорт с локального диска** — нажмите кнопку **Обзор…** для навигации по локальному компьютеру либо укажите путь в соответствующем поле. Имя пути должно включать имя файла и расширение BACPAC.  
  
-   **Импорт из Azure** — импортирует BACPAC-файл из контейнера Azure. Чтобы проверить этот параметр, необходимо подключиться к контейнеру Azure. Обратите внимание, что для этого параметра также необходимо указать локальный каталог для временного файла. Временный файл будет создан в указанном месте и останется там после завершения операции.  
  
     При просмотре Azure можно будет переключаться между контейнерами внутри одной учетной записи. Необходимо указать один файл BACPAC для продолжения операции импорта. Обратите внимание, что столбцы вы можете отсортировать по **имени**, **размеру**или **дате изменения**.  
  
     Чтобы продолжить, укажите файл BACPAC для импорта и нажмите кнопку **Открыть**.  
  
###  <a name="database-settings-page"></a><a name="Database_settings"></a> Страница параметров базы данных  
 Эта страница используется для указания сведений для базы данных, которая будет создана.  
  
 **Для локального экземпляра SQL Server:**  
  
-   **Имя новой базы данных** — введите имя для импортированной базы данных.  
  
-   **Путь к файлу данных** — введите локальный каталог для файлов данных. Нажмите кнопку **Обзор…** для навигации по локальному компьютеру или укажите путь в соответствующем поле.  
  
-   **Путь к файлу журнала** — введите локальный каталог для файлов журнала. Нажмите кнопку **Обзор…** для навигации по локальному компьютеру или укажите путь в соответствующем поле.  
  
 Чтобы продолжить, нажмите кнопку **Далее**.  
  
 **Для базы данных SQL:**  
  
-   **Имя новой базы данных** — укажите имя импортированной базы данных.  
  
-   **Выпуск [!INCLUDE[ssSDS](../../includes/sssds-md.md)] ** — Укажите [!INCLUDE[ssSDS](../../includes/sssds-md.md)] Business или [!INCLUDE[ssSDS](../../includes/sssds-md.md)] Web. Дополнительные сведения о выпусках [!INCLUDE[ssSDS](../../includes/sssds-md.md)]см. на веб-сайте [SQL Database](https://www.windowsazure.com/home/tour/database/) .  
  
-   **Максимальный размер базы данных (ГБ)** — используйте раскрывающееся меню, чтобы указать максимальный размер базы данных.  
  
 Чтобы продолжить, нажмите кнопку **Далее**.  
  
### <a name="validation-page"></a>Страница «Проверка»  
 Используйте эту страницу для поиска любых проблем, блокирующих операцию. Для продолжения устраните критические препятствия, приводящие к блокированию, и нажмите кнопку **Повторная проверка** для обеспечения успешного завершения проверки.  
  
 Чтобы продолжить, нажмите кнопку **Далее**.  
  
###  <a name="summary-page"></a><a name="Summary"></a> Страница «Сводка»  
 Воспользуйтесь этой страницей для просмотра указанного источника и целевых параметров операции. Для завершения импорта с использованием заданных параметров нажмите кнопку **Готово**. Чтобы отменить операцию импорта и выйти из мастера, нажмите кнопку **Отмена**.  
  
###  <a name="progress-page"></a><a name="Progress"></a> Страница «Ход выполнения»  
 На этой странице отображается индикатор выполнения, который определяет состояние операции. Чтобы просмотреть подробности состояния, выберите параметр **Просмотр сведений** .  
  
 Чтобы продолжить, нажмите кнопку **Далее**.  
  
###  <a name="results-page"></a><a name="Results"></a>Страница «результаты»  
 На этой странице отображаются сведения об успешном или неуспешном выполнении операций импорта и создания базы данных по результатам каждого действия. Для каждого действия, в котором обнаружена ошибка, предусмотрена ссылка в столбце **Результат** . Щелкните эту ссылку, чтобы просмотреть отчет об ошибках, относящихся к данному действию.  
  
 Нажмите кнопку **Закрыть**, чтобы завершить работу мастера.  
  
## <a name="see-also"></a>См. также:  
 [Приложения уровня данных](data-tier-applications.md)   
 [Экспорт приложения уровня данных](export-a-data-tier-application.md)  
  

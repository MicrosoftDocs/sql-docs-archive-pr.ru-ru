---
title: Мониторинг приложений уровня данных | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- monitoring [SQL Server], data-tier applications
- monitoring server performance [SQL Server], DACs
- data-tier application [SQL Server], monitor
ms.assetid: d2765828-2385-4019-aef2-1de3ab7d1b26
author: stevestein
ms.author: sstein
ms.openlocfilehash: 100ad85847c131b71ea6eff93346f283f70aaec0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668903"
---
# <a name="monitor-data-tier-applications"></a><span data-ttu-id="26c52-102">Наблюдение за приложениями уровня данных</span><span class="sxs-lookup"><span data-stu-id="26c52-102">Monitor Data-tier Applications</span></span>
  <span data-ttu-id="26c52-103">Наблюдение за приложениями уровня данных (DAC) может осуществляться из **обозревателя программ** или **обозревателя объектов** в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] (SSMS) наряду с системными представлениями и таблицами.</span><span class="sxs-lookup"><span data-stu-id="26c52-103">A data-tier application (DAC) can be monitored from the **Utility Explorer** and **Object Explorer** in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] (SSMS), along with system views and tables.</span></span> <span data-ttu-id="26c52-104">Кроме того, для наблюдения за всеми объектами базы данных, содержащейся в DAC, могут применяться стандартные методы наблюдения за базой данных и компонентом [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="26c52-104">In addition, all objects in the database contained in the DAC can be monitored using standard database and [!INCLUDE[ssDE](../../includes/ssde-md.md)] monitoring techniques.</span></span>  
  
## <a name="before-you-begin"></a><span data-ttu-id="26c52-105">Перед началом</span><span class="sxs-lookup"><span data-stu-id="26c52-105">Before You Begin</span></span>  
 <span data-ttu-id="26c52-106">Если приложение уровня данных развертывается на управляемом экземпляре компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)], то сведения о развернутом приложении уровня данных будут включены в служебную программу SQL Server при следующей отправке набора элементов сбора программы из экземпляра в точку управления служебной программой.</span><span class="sxs-lookup"><span data-stu-id="26c52-106">If you deploy a DAC to a managed instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], information about the deployed DAC is incorporated into the SQL Server Utility the next time the utility collection set is sent from the instance to the utility control point.</span></span> <span data-ttu-id="26c52-107">После этого можно получать основные сведения о работоспособности приложения уровня данных с помощью [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] **проводника служебной программы**.</span><span class="sxs-lookup"><span data-stu-id="26c52-107">You can then view basic health information about the DAC by using the [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] **Utility Explorer**.</span></span>  
  
 <span data-ttu-id="26c52-108">В окне **Обозреватель объектов** среды SSMS отображаются основные данные о конфигурации каждого приложения уровня данных, развернутого на экземпляре компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)], независимо от того, управляется ли экземпляр служебной программой SQL Server.</span><span class="sxs-lookup"><span data-stu-id="26c52-108">The SSMS **Object Explorer** displays basic configuration information about each DAC deployed to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], regardless of whether the instance is managed in the SQL Server Utility.</span></span> <span data-ttu-id="26c52-109">Кроме того, можно наблюдать за базой данных, связанной с приложением уровня данных, с помощью тех же процедур, которые используются для мониторинга любой другой базы данных.</span><span class="sxs-lookup"><span data-stu-id="26c52-109">Also, the database associated with a deployed DAC can be monitored using the same procedures for monitoring any database.</span></span>  
  
## <a name="using-the-sql-server-utility"></a><span data-ttu-id="26c52-110">Использование служебной программы SQL Server</span><span class="sxs-lookup"><span data-stu-id="26c52-110">Using the SQL Server Utility</span></span>  
 <span data-ttu-id="26c52-111">На странице **Развернутые приложения уровня данных** в [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] **Utility Explorer** displays a dashboard that reports the resource utilization of all DACs that have been deployed to managed instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26c52-111">The **Deployed Data-tier Applications** detail page in the [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] **Utility Explorer** displays a dashboard that reports the resource utilization of all DACs that have been deployed to managed instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="26c52-112">В верхней панели этой страницы подробностей приведен список всех развернутых приложений DAC с визуальными индикаторами, показывающими, не находится ли потребление ими ресурсов ЦП и файловой системы за пределами политик, определенных для программы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="26c52-112">The top pane of the details page lists each deployed DAC with visual indicators showing whether their utilization of CPU and file resources are outside the policies defined for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span> <span data-ttu-id="26c52-113">После выбора в этом представлении в виде списка любого DAC отображаются дополнительные подробные сведения на вкладках на нижней панели страницы.</span><span class="sxs-lookup"><span data-stu-id="26c52-113">If you select any DAC in the list view, further details are displayed in tabs in the bottom pane of the page.</span></span> <span data-ttu-id="26c52-114">Дополнительные сведения о том, какие данные приведены на этой странице, см. в разделе [Подробные сведения о развернутом приложении уровня данных (служебная программа SQL Server)](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="26c52-114">For more information about the information presented on the details page, see [Deployed Data-tier Application Details &#40;SQL Server Utility&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md).</span></span>  
  
 <span data-ttu-id="26c52-115">После обращения к странице **Развернутые приложения уровня данных** для быстрого обнаружения всех приложений DAC, которые либо недостаточно, либо чрезмерно используют аппаратные ресурсы, можно перейти к планированию для разрешения возникших проблем.</span><span class="sxs-lookup"><span data-stu-id="26c52-115">After using the **Deployed Data-tier Applications** detail page to quickly identify any DACs that are either under-utilizing or stressing their hardware resource, you can make plans to address any problems.</span></span> <span data-ttu-id="26c52-116">Если свои текущие аппаратные ресурсы не полностью используют несколько DAC, то их можно консолидировать на одиночном сервере, освободив серверы для других целей.</span><span class="sxs-lookup"><span data-stu-id="26c52-116">Multiple DACs that are not fully utilizing their current hardware resources could be consolidated to a single server, freeing some of the servers for other uses.</span></span> <span data-ttu-id="26c52-117">Если какое-либо приложение DAC чрезмерно нагружает ресурсы на текущем сервере, можно либо переместить DAC на более мощный сервер, либо разместить дополнительные ресурсы на текущем сервере.</span><span class="sxs-lookup"><span data-stu-id="26c52-117">If a DAC is stressing the resources on its current server, the DAC can be moved to a larger server, or additional resources can be added to the current server.</span></span>  
  
 <span data-ttu-id="26c52-118">Минимальные и максимальные лимиты использования ресурсов регламентируются политиками наблюдения за приложениями, которые определены на странице подробных сведений **Администрирование программ** .</span><span class="sxs-lookup"><span data-stu-id="26c52-118">The minimum and maximum limits for resource usage are defined by application monitoring policies defined in the **Utility Administration** details page.</span></span> <span data-ttu-id="26c52-119">Администратор баз данных может настроить эти политики на соответствие лимитам, действующим в его организации.</span><span class="sxs-lookup"><span data-stu-id="26c52-119">Database administrators can tailor the policies to match the limits established by their organizations.</span></span> <span data-ttu-id="26c52-120">Например, одна компания может задать в качестве максимальной загрузки ЦП для DAC значение 75 %, а другая компания может определить этот максимум равным 80 %.</span><span class="sxs-lookup"><span data-stu-id="26c52-120">For example, one company might set 75% as the maximum CPU utilization for a DAC, while another company might set the maximum at 80%.</span></span> <span data-ttu-id="26c52-121">Дополнительные сведения об определении политик наблюдения за приложениями см. в разделе [Администрирование программ (служебная программа SQL Server)](../../database-engine/utility-administration-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="26c52-121">For more information about setting application monitoring policies, see [Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md).</span></span>  
  
 <span data-ttu-id="26c52-122">Чтобы просмотреть страницу подробных сведений **Развернутые приложения уровня данных** , выполните указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="26c52-122">To view the **Deployed Data-tier Applications** detail page:</span></span>  
  
1.  <span data-ttu-id="26c52-123">Выберите меню **Вид/Обозреватель программ** .</span><span class="sxs-lookup"><span data-stu-id="26c52-123">Select the **View/Utility Explorer** menu.</span></span>  
  
2.  <span data-ttu-id="26c52-124">Подключите **обозреватель программ** к точке управления служебной программой (UCP).</span><span class="sxs-lookup"><span data-stu-id="26c52-124">Connect the **Utility Explorer** to the utility control point (UCP).</span></span>  
  
3.  <span data-ttu-id="26c52-125">Выберите меню **Вид/Подробности обозревателя программ** .</span><span class="sxs-lookup"><span data-stu-id="26c52-125">Select the **View/Utility Explorer Details** menu.</span></span>  
  
4.  <span data-ttu-id="26c52-126">Выберите узел **Развернутые приложения уровня данных** в окне **Обозреватель программ**.</span><span class="sxs-lookup"><span data-stu-id="26c52-126">Select the **Deployed Data-tier Applications** node in the **Utility Explorer**.</span></span>  
  
 <span data-ttu-id="26c52-127">Данные на страницу подробных сведений **Развернутые приложения уровня данных** поступают из хранилища данных управления программой, где по умолчанию сбор данных осуществляется через каждые 15 минут.</span><span class="sxs-lookup"><span data-stu-id="26c52-127">The information in the **Deployed Data-tier Applications** detail page comes from the data in the utility management data warehouse, which defaults to collecting the data every 15 minutes.</span></span> <span data-ttu-id="26c52-128">Этот интервал также можно настроить на странице **Администрирование программ** .</span><span class="sxs-lookup"><span data-stu-id="26c52-128">The interval can also be tailored using the **Utility Administration** details page.</span></span>  
  
## <a name="using-object-explorer"></a><span data-ttu-id="26c52-129">Использование обозревателя объектов</span><span class="sxs-lookup"><span data-stu-id="26c52-129">Using Object Explorer</span></span>  
 <span data-ttu-id="26c52-130">В окне **Обозреватель объектов** среды SSMS отображаются основные данные о конфигурации каждого из DAC, развернутого на экземпляре компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26c52-130">The SSMS **Object Explorer** displays basic configuration information about each DAC deployed to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="26c52-131">К ним относятся и управляемые экземпляры, которые были развернуты в программе [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , и изолированные экземпляры, которые нельзя просмотреть в окне **Обозреватель программ**.</span><span class="sxs-lookup"><span data-stu-id="26c52-131">This includes both managed instances that have been enrolled in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, and stand-alone instances that cannot be viewed in the **Utility Explorer**.</span></span>  
  
 <span data-ttu-id="26c52-132">Просмотр подробных сведений о DAC, развернутом на экземпляре компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26c52-132">To view the details of a DAC deployed to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)]:</span></span>  
  
1.  <span data-ttu-id="26c52-133">Выберите меню **Вид/Обозреватель объектов** .</span><span class="sxs-lookup"><span data-stu-id="26c52-133">Select the **View/Object Explorer** menu.</span></span>  
  
2.  <span data-ttu-id="26c52-134">На панели обозревателя объектов подключитесь к экземпляру компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26c52-134">Connect to the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)]from the Object Explorer pane.</span></span>  
  
3.  <span data-ttu-id="26c52-135">Выберите меню **Вид/Подробности обозревателя объектов** .</span><span class="sxs-lookup"><span data-stu-id="26c52-135">Select the **View/Object Explorer Details** menu.</span></span>  
  
4.  <span data-ttu-id="26c52-136">Выберите на странице **Обозреватель объектов** узел сервера, который сопоставлен с этим экземпляром, а затем перейдите к узлу **Управление/Приложения уровня данных** .</span><span class="sxs-lookup"><span data-stu-id="26c52-136">Select the server node in **Object Explorer** that maps to the instance, and then navigate to the **Management\Data-tier Applications** node.</span></span>  
  
5.  <span data-ttu-id="26c52-137">Представление в виде списка в верхней панели страницы показывает каждый из DAC, развернутых на экземпляре компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26c52-137">The list view in the top pane of the details page lists each DAC deployed to the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="26c52-138">Выберите DAC, для которого необходимо показать данные на панели подробностей в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="26c52-138">Select a DAC to display the information in the detail pane at the bottom of the page.</span></span>  
  
 <span data-ttu-id="26c52-139">Контекстное меню узла **Приложения уровня данных** служит также для развертывания нового или удаления существующего приложения уровня данных.</span><span class="sxs-lookup"><span data-stu-id="26c52-139">The right-click menu of the **Data-tier Applications** node is also used to deploy a new DAC or delete an existing DAC.</span></span>  
  
## <a name="using-the-dac-system-views-and-tables"></a><span data-ttu-id="26c52-140">Использование системных представлений и таблиц DAC</span><span class="sxs-lookup"><span data-stu-id="26c52-140">Using the DAC System Views and Tables</span></span>  
 <span data-ttu-id="26c52-141">Данные об успешном или неуспешном выполнении всех операций управления DAC для экземпляра компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)]регистрируются в системной таблице msdb.dbo.sysdac_history_internal.</span><span class="sxs-lookup"><span data-stu-id="26c52-141">The msdb.dbo.sysdac_history_internal system table records the success or failure of all DAC management actions performed on an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="26c52-142">В таблицу вносятся данные о том, в какое время была выполнена каждая из операций и каким именем входа она была инициирована.</span><span class="sxs-lookup"><span data-stu-id="26c52-142">The table records the time each action occurred, and which login initiated the action.</span></span> <span data-ttu-id="26c52-143">Дополнительные сведения см. в разделе [sysdac_history_internal (Transact-SQL)](/sql/relational-databases/system-tables/data-tier-application-tables-sysdac-history-internal).</span><span class="sxs-lookup"><span data-stu-id="26c52-143">For more information, see [sysdac_history_internal &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/data-tier-application-tables-sysdac-history-internal).</span></span>  
  
 <span data-ttu-id="26c52-144">Системные представления DAC предоставляют доступ к базовым сведениям о каталоге.</span><span class="sxs-lookup"><span data-stu-id="26c52-144">The DAC system views report basic catalog information.</span></span> <span data-ttu-id="26c52-145">Дополнительные сведения см. в разделе [Представления приложения уровня данных (Transact-SQL)](/sql/relational-databases/system-catalog-views/data-tier-application-views-dbo-sysdac-instances).</span><span class="sxs-lookup"><span data-stu-id="26c52-145">For more information, see [Data-tier Application Views &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/data-tier-application-views-dbo-sysdac-instances).</span></span>  
  
## <a name="monitoring-dac-databases"></a><span data-ttu-id="26c52-146">Наблюдение за базами данных DAC</span><span class="sxs-lookup"><span data-stu-id="26c52-146">Monitoring DAC Databases</span></span>  
 <span data-ttu-id="26c52-147">После успешного развертывания DAC база данных, содержащаяся в DAC, функционирует так же, как и любая другая база данных.</span><span class="sxs-lookup"><span data-stu-id="26c52-147">After a DAC has been successfully deployed, the database contained in the DAC operates the same as any other database.</span></span> <span data-ttu-id="26c52-148">Для наблюдения за производительностью, журналом, событиями и использованием ресурсов этой базы данных применяются стандартные методы и средства компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="26c52-148">Use standard [!INCLUDE[ssDE](../../includes/ssde-md.md)] techniques and tools for monitoring the performance, log, events, and resource utilization of the database.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="26c52-149">См. также:</span><span class="sxs-lookup"><span data-stu-id="26c52-149">See Also</span></span>  
 <span data-ttu-id="26c52-150">[Приложения уровня данных](data-tier-applications.md) </span><span class="sxs-lookup"><span data-stu-id="26c52-150">[Data-tier Applications](data-tier-applications.md) </span></span>  
 [<span data-ttu-id="26c52-151">Развертывание приложения уровня данных</span><span class="sxs-lookup"><span data-stu-id="26c52-151">Deploy a Data-tier Application</span></span>](deploy-a-data-tier-application.md)  
  
  

---
title: Создание файла форматирования (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-movement
ms.topic: conceptual
helpviewer_keywords:
- format files [SQL Server], creating
ms.assetid: f680b4a0-630f-4052-9c79-d348c1076f7b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ca9c85bfcac3380ce13ba89fff6de0b5daadbece
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654272"
---
# <a name="create-a-format-file-sql-server"></a><span data-ttu-id="01cba-102">Создание файла форматирования (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="01cba-102">Create a Format File (SQL Server)</span></span>
  <span data-ttu-id="01cba-103">При массовом импорте в таблицу [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или массовом экспорте данных из таблицы вы можете воспользоваться файлом форматирования, который обеспечивает гибкую структуру записи файлов данных и практически не требует изменения для поддержки соответствия с другими форматами данных или для считывания данных из других программ.</span><span class="sxs-lookup"><span data-stu-id="01cba-103">When you bulk import into a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] table or bulk export data from a table, you can use a format file to a flexible system for writing data files that requires little or no editing to comply with other data formats or to read data files from other software programs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="01cba-104">поддерживает два типа файлов форматирования: файлы форматирования в формате, отличном от XML, и XML-файлы форматирования.</span><span class="sxs-lookup"><span data-stu-id="01cba-104">support two types of format file: non-XML format and XML format.</span></span> <span data-ttu-id="01cba-105">Файл форматирования не в формате XML поддерживается более ранними версиями [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="01cba-105">The non-XML format is the original format that is supported by earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="01cba-106">Как правило, XML-файлы и файлы форматирования в формате, отличном от XML взаимозаменяемы.</span><span class="sxs-lookup"><span data-stu-id="01cba-106">Generally, XML and non-XML format files are interchangeable.</span></span> <span data-ttu-id="01cba-107">Однако рекомендуется пользоваться XML-синтаксисом новых файлов форматирования, так как он обеспечивает ряд преимуществ перед файлами форматирования в формате, отличном от XML.</span><span class="sxs-lookup"><span data-stu-id="01cba-107">However, we recommend that you use the XML syntax for new format files because they provide several advantages over non-XML format files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="01cba-108">Версия служебной программы **bcp** (Bcp.exe), которая используется для чтения файла форматирования, должна соответствовать версии, используемой при создании этого файла форматирования, или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="01cba-108">The version of the **bcp** utility (Bcp.exe) used to read a format file must be the same as, or later than the version used to create the format file.</span></span> <span data-ttu-id="01cba-109">Например, программа [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp** может считать файл форматирования версии 10,0, который создается программой [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp**, но [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp** не может считать файл форматирования версии 11,0, который создается программой [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp**.</span><span class="sxs-lookup"><span data-stu-id="01cba-109">For example, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp** can read a version 10.0 format file, which is generated by [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp**, but [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp** cannot read a version 11.0 format file, which is generated by [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp**.</span></span>  
  
 <span data-ttu-id="01cba-110">В этом разделе описано применение программы [bcp](../../tools/bcp-utility.md) для создания файла форматирования для таблицы.</span><span class="sxs-lookup"><span data-stu-id="01cba-110">This topic describes how to use the [bcp utility](../../tools/bcp-utility.md) to create a format file for a particular table.</span></span> <span data-ttu-id="01cba-111">Файл форматирования основан на заданных параметрах типов данных ( **-n**, **-c**, **-w**или **-N**) и разделителях таблиц или представлений.</span><span class="sxs-lookup"><span data-stu-id="01cba-111">The format file is based on the data-type option specified (**-n**, **-c**, **-w**,or **-N**) and the table or view delimiters.</span></span>  
  
## <a name="creating-a-non-xml-format-file"></a><span data-ttu-id="01cba-112">Создание файла форматирования в формате, отличном от XML</span><span class="sxs-lookup"><span data-stu-id="01cba-112">Creating a Non-XML Format File</span></span>  
 <span data-ttu-id="01cba-113">Чтобы создать файл форматирования с помощью служебной программы **bcp** , укажите аргумент **format** , а вместо пути файла данных задайте значение **nul** .</span><span class="sxs-lookup"><span data-stu-id="01cba-113">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="01cba-114">Параметр **format** также требует наличия параметра **-f** , например:</span><span class="sxs-lookup"><span data-stu-id="01cba-114">The **format** option also requires the **-f** option, such as:</span></span>  
  
 <span data-ttu-id="01cba-115">**bcp** _таблица_или_представление_ **format** nul **-f**_имя_файла_формата_</span><span class="sxs-lookup"><span data-stu-id="01cba-115">**bcp** _table_or_view_ **format** nul **-f**_format_file_name_</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="01cba-116">Для файлов форматирования в формате, отличном от XML рекомендуется использовать расширение FMT, например MyTable.fmt.</span><span class="sxs-lookup"><span data-stu-id="01cba-116">To distinguish a non-XML format file, we recommend that you use .fmt as the file name extension, for example, MyTable.fmt.</span></span>  
  
 <span data-ttu-id="01cba-117">Сведения о структуре и полях файлов форматирования в формате, отличном от XML, см. в разделе [Файлы формата, отличные от XML (SQL Server)](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-117">For information about the structure and fields of non-XML format files, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="01cba-118">Примеры</span><span class="sxs-lookup"><span data-stu-id="01cba-118">Examples</span></span>  
 <span data-ttu-id="01cba-119">В этом разделе приведены следующие примеры, которые показывают, как пользоваться командами **bcp** для создания файлов форматирования в формате, отличном от XML:</span><span class="sxs-lookup"><span data-stu-id="01cba-119">This section contains the following examples that show how to use **bcp** commands to create a non-XML format file:</span></span>  
  
-   <span data-ttu-id="01cba-120">A.</span><span class="sxs-lookup"><span data-stu-id="01cba-120">A.</span></span> <span data-ttu-id="01cba-121">Создание файла форматирования в формате, отличном от XML для данных в собственном формате</span><span class="sxs-lookup"><span data-stu-id="01cba-121">Creating a non-XML format file for native data</span></span>  
  
-   <span data-ttu-id="01cba-122">Б.</span><span class="sxs-lookup"><span data-stu-id="01cba-122">B.</span></span> <span data-ttu-id="01cba-123">Создание файла форматирования в формате, отличном от XML для символьных данных</span><span class="sxs-lookup"><span data-stu-id="01cba-123">Creating a non-XML format file for character data</span></span>  
  
-   <span data-ttu-id="01cba-124">В.</span><span class="sxs-lookup"><span data-stu-id="01cba-124">C.</span></span> <span data-ttu-id="01cba-125">Создание файла форматирования в формате, отличном от XML для данных в собственном формате в кодировке Юникод</span><span class="sxs-lookup"><span data-stu-id="01cba-125">Creating a non-XML format file for Unicode native data</span></span>  
  
-   <span data-ttu-id="01cba-126">Г.</span><span class="sxs-lookup"><span data-stu-id="01cba-126">D.</span></span> <span data-ttu-id="01cba-127">Создание файла форматирования в формате, отличном от XML для символьных данных в кодировке Юникод</span><span class="sxs-lookup"><span data-stu-id="01cba-127">Creating a non-XML format file for Unicode character data</span></span>  
  
 <span data-ttu-id="01cba-128">В этом примере используется таблица `HumanResources.Department` в образце базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="01cba-128">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="01cba-129">Таблица `HumanResources.Department` содержит четыре столбца: `DepartmentID`, `Name`, `GroupName`и `ModifiedDate`.</span><span class="sxs-lookup"><span data-stu-id="01cba-129">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
#### <a name="a-creating-a-non-xml-format-file-for-native-data"></a><span data-ttu-id="01cba-130">A.</span><span class="sxs-lookup"><span data-stu-id="01cba-130">A.</span></span> <span data-ttu-id="01cba-131">Создание файла форматирования в формате, отличном от XML для данных в собственном формате</span><span class="sxs-lookup"><span data-stu-id="01cba-131">Creating a non-XML format file for native data</span></span>  
 <span data-ttu-id="01cba-132">В следующем примере создается XML-файл форматирования `Department-n.xml`для таблицы [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="01cba-132">The following example creates an XML format file, `Department-n.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="01cba-133">в котором используются собственные типы данных.</span><span class="sxs-lookup"><span data-stu-id="01cba-133">The format file uses native data types.</span></span> <span data-ttu-id="01cba-134">Содержимое созданного файла форматирования приведено после команды.</span><span class="sxs-lookup"><span data-stu-id="01cba-134">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="01cba-135">Команда **bcp** содержит следующие квалификаторы:</span><span class="sxs-lookup"><span data-stu-id="01cba-135">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="01cba-136">Квалификаторы</span><span class="sxs-lookup"><span data-stu-id="01cba-136">Qualifiers</span></span>|<span data-ttu-id="01cba-137">Описание</span><span class="sxs-lookup"><span data-stu-id="01cba-137">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="01cba-138">**formatnul-f** _формат_файла_</span><span class="sxs-lookup"><span data-stu-id="01cba-138">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="01cba-139">Задает файл форматирования в формате, отличном от XML.</span><span class="sxs-lookup"><span data-stu-id="01cba-139">Specifies the non-XML format file.</span></span>|  
|<span data-ttu-id="01cba-140">**-n**</span><span class="sxs-lookup"><span data-stu-id="01cba-140">**-n**</span></span>|<span data-ttu-id="01cba-141">Указывает собственные типы данных.</span><span class="sxs-lookup"><span data-stu-id="01cba-141">Specifies native data types.</span></span>|  
|<span data-ttu-id="01cba-142">**-T**</span><span class="sxs-lookup"><span data-stu-id="01cba-142">**-T**</span></span>|<span data-ttu-id="01cba-143">Указывает, что программа **bcp** устанавливает доверительное соединение с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием встроенной безопасности.</span><span class="sxs-lookup"><span data-stu-id="01cba-143">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="01cba-144">Если параметр **-T** не указан, для входа необходимо указать параметры **-U** и **-P** .</span><span class="sxs-lookup"><span data-stu-id="01cba-144">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="01cba-145">В командной строке Windows введите следующую команду `bcp` :</span><span class="sxs-lookup"><span data-stu-id="01cba-145">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -n -f Department-n.fmt  
```  
  
 <span data-ttu-id="01cba-146">Созданный файл форматирования `Department-n.fmt`содержит следующие данные:</span><span class="sxs-lookup"><span data-stu-id="01cba-146">The generated format file, `Department-n.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLSMALLINT   0       2       ""   1     DepartmentID                 ""  
2       SQLNCHAR      2       100     ""   2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLNCHAR      2       100     ""   3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLDATETIME   0       8       ""   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="01cba-147">Дополнительные сведения см в разделе [Файлы формата, отличные от XML (SQL Server)](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-147">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="b-creating-a-non-xml-format-file-for-character-data"></a><span data-ttu-id="01cba-148">Б.</span><span class="sxs-lookup"><span data-stu-id="01cba-148">B.</span></span> <span data-ttu-id="01cba-149">Создание файла форматирования в формате, отличном от XML для символьных данных</span><span class="sxs-lookup"><span data-stu-id="01cba-149">Creating a non-XML format file for character data</span></span>  
 <span data-ttu-id="01cba-150">В следующем примере создается XML-файл форматирования `Department.fmt`для таблицы [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="01cba-150">The following example creates an XML format file, `Department.fmt`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="01cba-151">Файл форматирования использует формат символьных данных и признак конца поля, отличный от установленного по умолчанию (`,`).</span><span class="sxs-lookup"><span data-stu-id="01cba-151">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="01cba-152">Содержимое созданного файла форматирования приведено после команды.</span><span class="sxs-lookup"><span data-stu-id="01cba-152">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="01cba-153">Команда **bcp** содержит следующие квалификаторы:</span><span class="sxs-lookup"><span data-stu-id="01cba-153">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="01cba-154">Квалификаторы</span><span class="sxs-lookup"><span data-stu-id="01cba-154">Qualifiers</span></span>|<span data-ttu-id="01cba-155">Описание</span><span class="sxs-lookup"><span data-stu-id="01cba-155">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="01cba-156">**formatnul-f** _формат_файла_</span><span class="sxs-lookup"><span data-stu-id="01cba-156">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="01cba-157">Задает файл форматирования в формате, отличном от XML.</span><span class="sxs-lookup"><span data-stu-id="01cba-157">Specifies a non-XML format file.</span></span>|  
|<span data-ttu-id="01cba-158">**-c**</span><span class="sxs-lookup"><span data-stu-id="01cba-158">**-c**</span></span>|<span data-ttu-id="01cba-159">Задает символьные данные.</span><span class="sxs-lookup"><span data-stu-id="01cba-159">Specifies character data.</span></span>|  
|<span data-ttu-id="01cba-160">**-T**</span><span class="sxs-lookup"><span data-stu-id="01cba-160">**-T**</span></span>|<span data-ttu-id="01cba-161">Указывает, что программа **bcp** устанавливает доверительное соединение с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием встроенной безопасности.</span><span class="sxs-lookup"><span data-stu-id="01cba-161">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="01cba-162">Если параметр **-T** не указан, для входа необходимо указать параметры **-U** и **-P** .</span><span class="sxs-lookup"><span data-stu-id="01cba-162">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="01cba-163">В командной строке Windows введите следующую команду `bcp` :</span><span class="sxs-lookup"><span data-stu-id="01cba-163">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -f Department-c.fmt -T  
```  
  
 <span data-ttu-id="01cba-164">Созданный файл форматирования `Department-c.fmt`содержит следующие данные:</span><span class="sxs-lookup"><span data-stu-id="01cba-164">The generated format file, `Department-c.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLCHAR       0       7       "\t"     1     DepartmentID                 ""  
2       SQLCHAR       0       100     "\t"     2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLCHAR       0       100     "\t"     3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLCHAR       0       24      "\r\n"   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="01cba-165">Дополнительные сведения см в разделе [Файлы формата, отличные от XML (SQL Server)](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-165">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="c-creating-a-non-xml-format-file-for-unicode-native-data"></a><span data-ttu-id="01cba-166">В.</span><span class="sxs-lookup"><span data-stu-id="01cba-166">C.</span></span> <span data-ttu-id="01cba-167">Создание файла форматирования в формате, отличном от XML для данных в собственном формате в кодировке Юникод</span><span class="sxs-lookup"><span data-stu-id="01cba-167">Creating a non-XML format file for Unicode native data</span></span>  
 <span data-ttu-id="01cba-168">Чтобы создать для таблицы `HumanResources.Department` файл форматирования в формате, отличном от XML для данных в собственном формате с кодировкой Юникод, используется следующая команда:</span><span class="sxs-lookup"><span data-stu-id="01cba-168">To create a non-XML format file for Unicode native data for the `HumanResources.Department` table, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -N -f Department-n.fmt  
```  
  
 <span data-ttu-id="01cba-169">Дополнительные сведения об использовании собственного формата данных Юникод см. в статье [Использование собственного формата Юникод для импорта или экспорта данных (SQL Server)](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-169">For more information about how to use Unicode native data, see [Use Unicode Native Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="d-creating-a-non-xml-format-file-for-unicode-character-data"></a><span data-ttu-id="01cba-170">Г.</span><span class="sxs-lookup"><span data-stu-id="01cba-170">D.</span></span> <span data-ttu-id="01cba-171">Создание файла форматирования в формате, отличном от XML для символьных данных в кодировке Юникод</span><span class="sxs-lookup"><span data-stu-id="01cba-171">Creating a non-XML format file For Unicode character data</span></span>  
 <span data-ttu-id="01cba-172">Чтобы создать для таблицы `HumanResources.Department` файл форматирования в формате, отличном от XML для символьных данных в кодировке Юникод, использующий признак конца по умолчанию, применяется следующая команда:</span><span class="sxs-lookup"><span data-stu-id="01cba-172">To create a non-XML format file for Unicode character data for the `HumanResources.Department` table that uses default terminators, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -w -f Department-w.fmt  
```  
  
 <span data-ttu-id="01cba-173">Дополнительные сведения об использовании символьного формата данных Юникод см. в статье [Использование символьного формата Юникод для импорта или экспорта данных (SQL Server)](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-173">For more information about how to use Unicode character data, see [Use Unicode Character Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="creating-an-xml-format-file"></a><span data-ttu-id="01cba-174">Создание XML-файла форматирования</span><span class="sxs-lookup"><span data-stu-id="01cba-174">Creating an XML Format File</span></span>  
 <span data-ttu-id="01cba-175">Чтобы создать файл форматирования с помощью служебной программы **bcp** , укажите аргумент **format** , а вместо пути файла данных задайте значение **nul** .</span><span class="sxs-lookup"><span data-stu-id="01cba-175">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="01cba-176">Параметр **format** всегда требует наличия параметра **-f** , а чтобы создать XML-файл форматирования, необходимо задать параметр **-x** , например:</span><span class="sxs-lookup"><span data-stu-id="01cba-176">The **format** option always requires the **-f** option, and to create an XML format file, you must also specify the **-x** option, such as:</span></span>  
  
 <span data-ttu-id="01cba-177">**bcp** _таблица_или_представление_ **format nul-f** _имя_файла_формата_ **-x**</span><span class="sxs-lookup"><span data-stu-id="01cba-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="01cba-178">Для XML-файлов форматирования рекомендуется использовать расширение XML, например MyTable.xml.</span><span class="sxs-lookup"><span data-stu-id="01cba-178">To distinguish an XML format file, we recommend that you use .xml as the file name extension, for example, MyTable.xml.</span></span>  
  
 <span data-ttu-id="01cba-179">Сведения о структуре и полях файлов форматирования в формате XML, см. в разделе [XML-файлы форматирования (SQL Server)](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-179">For information about the structure and fields of XML format files, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="01cba-180">Примеры</span><span class="sxs-lookup"><span data-stu-id="01cba-180">Examples</span></span>  
 <span data-ttu-id="01cba-181">В этом разделе содержатся следующие примеры использования команд **bcp** для создания XML-файлов форматирования.</span><span class="sxs-lookup"><span data-stu-id="01cba-181">This section contains the following examples that show how to use **bcp** commands to create an XML format file:</span></span>  
  
-   <span data-ttu-id="01cba-182">A.</span><span class="sxs-lookup"><span data-stu-id="01cba-182">A.</span></span> <span data-ttu-id="01cba-183">Создание XML-файла форматирования для символьных данных</span><span class="sxs-lookup"><span data-stu-id="01cba-183">Creating an XML format file for character data</span></span>  
  
-   <span data-ttu-id="01cba-184">Б.</span><span class="sxs-lookup"><span data-stu-id="01cba-184">B.</span></span> <span data-ttu-id="01cba-185">Создание XML-файла форматирования для данных в собственном формате</span><span class="sxs-lookup"><span data-stu-id="01cba-185">Creating an XML format file for native data</span></span>  
  
 <span data-ttu-id="01cba-186">В этом примере используется таблица `HumanResources.Department` в образце базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="01cba-186">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="01cba-187">Таблица `HumanResources.Department` содержит четыре столбца: `DepartmentID`, `Name`, `GroupName`и `ModifiedDate`.</span><span class="sxs-lookup"><span data-stu-id="01cba-187">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssSampleDBdesc](../../includes/sssampledbdesc-md.md)]  
  
#### <a name="a-creating-an-xml-format-file-for-character-data"></a><span data-ttu-id="01cba-188">A.</span><span class="sxs-lookup"><span data-stu-id="01cba-188">A.</span></span> <span data-ttu-id="01cba-189">Создание XML-файла форматирования для символьных данных</span><span class="sxs-lookup"><span data-stu-id="01cba-189">Creating an XML format file for character data</span></span>  
 <span data-ttu-id="01cba-190">В следующем примере создается XML-файл форматирования `Department.xml`для таблицы [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="01cba-190">The following example creates an XML format file, `Department.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="01cba-191">Файл форматирования использует формат символьных данных и признак конца поля, отличный от установленного по умолчанию (`,`).</span><span class="sxs-lookup"><span data-stu-id="01cba-191">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="01cba-192">Содержимое созданного файла форматирования приведено после команды.</span><span class="sxs-lookup"><span data-stu-id="01cba-192">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="01cba-193">Команда **bcp** содержит следующие квалификаторы:</span><span class="sxs-lookup"><span data-stu-id="01cba-193">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="01cba-194">Квалификаторы</span><span class="sxs-lookup"><span data-stu-id="01cba-194">Qualifiers</span></span>|<span data-ttu-id="01cba-195">Описание</span><span class="sxs-lookup"><span data-stu-id="01cba-195">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="01cba-196">**formatnul-f** _формат_файла_ **-x**</span><span class="sxs-lookup"><span data-stu-id="01cba-196">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="01cba-197">Задает XML-файл форматирования.</span><span class="sxs-lookup"><span data-stu-id="01cba-197">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="01cba-198">**-c**</span><span class="sxs-lookup"><span data-stu-id="01cba-198">**-c**</span></span>|<span data-ttu-id="01cba-199">Задает символьные данные.</span><span class="sxs-lookup"><span data-stu-id="01cba-199">Specifies character data.</span></span>|  
|<span data-ttu-id="01cba-200">**-t** `,`</span><span class="sxs-lookup"><span data-stu-id="01cba-200">**-t** `,`</span></span>|<span data-ttu-id="01cba-201">Задает запятую ( **,** ) в качестве признака конца поля.</span><span class="sxs-lookup"><span data-stu-id="01cba-201">Specifies a comma (**,**) as the field terminator.</span></span><br /><br /> <span data-ttu-id="01cba-202">Примечание. Если в файле данных используется признак конца поля по умолчанию (`\t`), то параметр **-t** не нужен.</span><span class="sxs-lookup"><span data-stu-id="01cba-202">Note: If the data file uses the default field terminator (`\t`), the **-t** switch is unnecessary.</span></span>|  
|<span data-ttu-id="01cba-203">**-T**</span><span class="sxs-lookup"><span data-stu-id="01cba-203">**-T**</span></span>|<span data-ttu-id="01cba-204">Указывает, что программа **bcp** устанавливает доверительное соединение с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием встроенной безопасности.</span><span class="sxs-lookup"><span data-stu-id="01cba-204">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="01cba-205">Если параметр **-T** не указан, для входа необходимо указать параметры **-U** и **-P** .</span><span class="sxs-lookup"><span data-stu-id="01cba-205">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="01cba-206">В командной строке Windows введите следующую команду `bcp` :</span><span class="sxs-lookup"><span data-stu-id="01cba-206">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -x -f Department-c..xml -t, -T  
```  
  
 <span data-ttu-id="01cba-207">Созданный файл форматирования `Department-c.xml`содержит следующие XML-элементы:</span><span class="sxs-lookup"><span data-stu-id="01cba-207">The generated format file, `Department-c.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="7"/>  
  <FIELD ID="2" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="CharTerm" TERMINATOR="\r\n" MAX_LENGTH="24"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="01cba-208">Сведения о синтаксисе файлов такого формата см. в статье [Файлы формата XML (SQL Server)](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-208">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="01cba-209">Дополнительные сведения о символьных данных см. в статье [Использование символьного формата для импорта и экспорта данных (SQL Server)](use-character-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-209">For information about character data, see [Use Character Format to Import or Export Data &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="b-creating-an-xml-format-file-for-native-data"></a><span data-ttu-id="01cba-210">Б.</span><span class="sxs-lookup"><span data-stu-id="01cba-210">B.</span></span> <span data-ttu-id="01cba-211">Создание XML-файла форматирования для данных в собственном формате</span><span class="sxs-lookup"><span data-stu-id="01cba-211">Creating an XML format file for native data</span></span>  
 <span data-ttu-id="01cba-212">В следующем примере создается XML-файл форматирования `Department-n.xml`для таблицы `HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="01cba-212">The following example creates an XML format file, `Department-n.xml`, for the `HumanResources.Department` table.</span></span> <span data-ttu-id="01cba-213">в котором используются собственные типы данных.</span><span class="sxs-lookup"><span data-stu-id="01cba-213">The format file uses native data types.</span></span> <span data-ttu-id="01cba-214">Содержимое созданного файла форматирования приведено после команды.</span><span class="sxs-lookup"><span data-stu-id="01cba-214">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="01cba-215">Команда **bcp** содержит следующие квалификаторы:</span><span class="sxs-lookup"><span data-stu-id="01cba-215">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="01cba-216">Квалификаторы</span><span class="sxs-lookup"><span data-stu-id="01cba-216">Qualifiers</span></span>|<span data-ttu-id="01cba-217">Описание</span><span class="sxs-lookup"><span data-stu-id="01cba-217">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="01cba-218">**formatnul-f** _формат_файла_ **-x**</span><span class="sxs-lookup"><span data-stu-id="01cba-218">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="01cba-219">Задает XML-файл форматирования.</span><span class="sxs-lookup"><span data-stu-id="01cba-219">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="01cba-220">**-n**</span><span class="sxs-lookup"><span data-stu-id="01cba-220">**-n**</span></span>|<span data-ttu-id="01cba-221">Указывает собственные типы данных.</span><span class="sxs-lookup"><span data-stu-id="01cba-221">Specifies native data types.</span></span>|  
|<span data-ttu-id="01cba-222">**-T**</span><span class="sxs-lookup"><span data-stu-id="01cba-222">**-T**</span></span>|<span data-ttu-id="01cba-223">Указывает, что программа **bcp** устанавливает доверительное соединение с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием встроенной безопасности.</span><span class="sxs-lookup"><span data-stu-id="01cba-223">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="01cba-224">Если параметр **-T** не указан, для входа необходимо указать параметры **-U** и **-P** .</span><span class="sxs-lookup"><span data-stu-id="01cba-224">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="01cba-225">В командной строке Windows введите следующую команду `bcp` :</span><span class="sxs-lookup"><span data-stu-id="01cba-225">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -x -f Department-n..xml -n -T  
```  
  
 <span data-ttu-id="01cba-226">Созданный файл форматирования `Department-n.xml`содержит следующие XML-элементы:</span><span class="sxs-lookup"><span data-stu-id="01cba-226">The generated format file, `Department-n.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="NativeFixed" LENGTH="2"/>  
  <FIELD ID="2" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="NativeFixed" LENGTH="8"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="01cba-227">Сведения о синтаксисе файлов такого формата см. в статье [Файлы формата XML (SQL Server)](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-227">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="01cba-228">Дополнительные сведения об использовании собственных данных см. в статье [Использование собственного формата для импорта и экспорта данных (SQL Server)](use-native-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01cba-228">For information about how to use native data, see [Use Native Format to Import or Export Data &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="mapping-data-fields-to-table-columns"></a><span data-ttu-id="01cba-229">Сопоставление полей данных со столбцами таблицы</span><span class="sxs-lookup"><span data-stu-id="01cba-229">Mapping Data Fields to Table Columns</span></span>  
 <span data-ttu-id="01cba-230">Созданный при помощи служебной программы **bcp**файл форматирования надлежащим образом отображает все столбцы таблицы.</span><span class="sxs-lookup"><span data-stu-id="01cba-230">As created by **bcp**, a format file describes all the table columns in order.</span></span> <span data-ttu-id="01cba-231">Его можно изменить, переставив или исключив некоторые из строк.</span><span class="sxs-lookup"><span data-stu-id="01cba-231">You can modify a format file to rearrange or omit table rows.</span></span> <span data-ttu-id="01cba-232">Это позволяет согласовать файл форматирования с файлом данных, если поля в нем не сопоставлены непосредственно со столбцами таблицы.</span><span class="sxs-lookup"><span data-stu-id="01cba-232">This lets you customize a format file to a data file whose fields do not map directly to the table columns.</span></span> <span data-ttu-id="01cba-233">Дополнительные сведения см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="01cba-233">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="01cba-234">Пропуск столбца таблицы с помощью файла форматирования (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="01cba-234">Use a Format File to Skip a Table Column &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-table-column-sql-server.md)  
  
-   [<span data-ttu-id="01cba-235">Использование файла форматирования для пропуска поля данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="01cba-235">Use a Format File to Skip a Data Field &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-data-field-sql-server.md)  
  
-   [<span data-ttu-id="01cba-236">Использование файла форматирования для сопоставления столбцов таблицы с полями файла данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="01cba-236">Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;</span></span>](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="01cba-237">См. также:</span><span class="sxs-lookup"><span data-stu-id="01cba-237">See Also</span></span>  
 <span data-ttu-id="01cba-238">[bcp Utility](../../tools/bcp-utility.md) </span><span class="sxs-lookup"><span data-stu-id="01cba-238">[bcp Utility](../../tools/bcp-utility.md) </span></span>  
 <span data-ttu-id="01cba-239">[Использование файла форматирования для сопоставления столбцов таблицы с полями файла данных (SQL Server)](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="01cba-239">[Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span></span>  
 <span data-ttu-id="01cba-240">[Пропуск столбца таблицы с помощью файла форматирования (SQL Server)](use-a-format-file-to-skip-a-table-column-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="01cba-240">[Use a Format File to Skip a Table Column &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span></span>  
 <span data-ttu-id="01cba-241">[Использование файла форматирования для пропуска поля данных (SQL Server)](use-a-format-file-to-skip-a-data-field-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="01cba-241">[Use a Format File to Skip a Data Field &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span></span>  
 <span data-ttu-id="01cba-242">[Файлы формата, отличные от XML (SQL Server)](xml-format-files-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="01cba-242">[Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span></span>  
 [<span data-ttu-id="01cba-243">XML-файлы форматирования (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="01cba-243">XML Format Files &#40;SQL Server&#41;</span></span>](xml-format-files-sql-server.md)  
  
  

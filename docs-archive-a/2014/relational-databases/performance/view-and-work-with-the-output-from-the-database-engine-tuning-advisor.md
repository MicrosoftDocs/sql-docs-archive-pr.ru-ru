---
title: Просмотр выходных данных помощника по настройке ядра СУБД и работа с ними | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
f1_keywords:
- sql12.dta.reports.f1
- sql12.dta.sessionmonitor.f1
- sql12.dta.recommendations.f1
- sql12.dta.applyrecommendations.f1
helpviewer_keywords:
- viewing logs
- recommendations [Database Engine Tuning Advisor]
- summary tuning information [SQL Server]
- Database Engine Tuning Advisor [SQL Server], recommendations
- Database Engine Tuning Advisor [SQL Server], logs
- Database Engine Tuning Advisor [SQL Server], viewing output
- Database Engine Tuning Advisor [SQL Server], reports
- logs [SQL Server], tuning
- reports [SQL Server], tuning
- viewing tuning output
ms.assetid: 47f9d9a7-80b0-416d-9d9a-9e265bc190dc
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 1b5ecf27d01f8492bdc4df55d0762daa3ec41e40
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87731553"
---
# <a name="view-and-work-with-the-output-from-the-database-engine-tuning-advisor"></a>Просмотр и работа с выходными данными помощника по настройке ядра СУБД
  Когда помощник по настройке ядра СУБД настраивает базы данных, он создает сводки, рекомендации, отчеты и журналы настройки. Выходные данные журналов настройки можно использовать, чтобы устранять неполадки в сеансах помощника по настройке ядра СУБД. Сводки, рекомендации и отчеты помогут решить, следует ли реализовать рекомендации по настройке либо продолжать ее до тех пор, пока не будет достигнуто повышение производительности выполнения запросов, необходимое для установки [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Информация об использовании помощника по настройке базы создания рабочих нагрузок и настройки базы данных см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
##  <a name="view-tuning-output"></a><a name="View"></a> Просмотр выходных данных по настройке  
 В следующих инструкциях представлены способы просмотра рекомендаций по настройке, сводок, отчетов и журналов настройки с помощью графического интерфейса пользователя помощника по настройке ядра СУБД. Дополнительные сведения о параметрах пользовательского интерфейса см. далее в подразделе [Описание пользовательского интерфейса](#UI) .  
  
 Графический пользовательский интерфейс можно также использовать для просмотра выходных данных настройки, созданных программой командной строки **dta** .  
  
> [!NOTE]  
>  Если в служебной программе командной строки **dta** с помощью аргумента **-ox** задана запись выходных данных в XML-файл, можно открыть и просмотреть выходной XML-файл, выбрав пункт **Открыть файл** в меню **Файл** в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]. Дополнительные сведения см. в разделе [Use SQL Server Management Studio](../../database-engine/use-sql-server-management-studio.md). Сведения о программе командной строки **dta** см. в разделе [dta, программа](../../tools/dta/dta-utility.md).  
  
#### <a name="to-view-tuning-recommendations-with-the-database-engine-tuning-advisor-gui"></a>Просмотр рекомендаций по настройке с помощью GUI помощника по настройке ядра СУБД  
  
1.  Настройте базу данных, используя графический пользовательский интерфейс помощника по настройке компонента Database Engine или программу командной строки **dta** . Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если нужно использовать существующий сеанс настройки, пропустите этот шаг и перейдите к шагу 2.  
  
2.  Запустите графический пользовательский интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если необходимо просмотреть рекомендации по настройке для существующего сеанса настройки, дважды щелкните имя сеанса в окне **Монитор сеансов**.  
  
     После завершения нового сеанса настройки или загрузки существующего сеанса выводится страница **Рекомендации** .  
  
3.  На странице **Рекомендации** щелкните **Рекомендации по секциям** и **Рекомендации по индексам** , чтобы вывести панели с результатами сеанса настройки. Если при установке параметров сеанса секционирование не задано, панель **Рекомендации по секциям** остается пустой.  
  
4.  На панели **Рекомендации по секциям** или **Рекомендации по индексам** , используя полосу прокрутки, просмотрите все сведения, отображенные в сетке.  
  
5.  Снимите флажок **Показать существующие объекты** в нижней части страницы **Рекомендации** . Это приводит к тому, что в сетке отображаются только те объекты базы данных, на которые ссылаются рекомендации. Используя горизонтальную полосу прокрутки, просмотрите самый правый столбец в сетке рекомендаций и щелкните элемент в столбце **Определение** , чтобы вывести копию скрипта [!INCLUDE[tsql](../../includes/tsql-md.md)] , который создает этот объект в базе данных.  
  
6.  Если нужно сохранить все скрипты [!INCLUDE[tsql](../../includes/tsql-md.md)] , создающие или удаляющие объекты базы данных в этой рекомендации, в один файл скрипта, выберите **Сохранить рекомендации** в меню **Действия** .  
  
#### <a name="to-view-the-tuning-summary-and-reports-with-the-database-engine-tuning-advisor-gui"></a>Просмотр сводок и отчетов по настройке с помощью GUI помощника по настройке ядра СУБД  
  
1.  Настройте базу данных, используя графический пользовательский интерфейс помощника по настройке компонента Database Engine или программу командной строки **dta** . Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если нужно использовать существующий сеанс настройки, пропустите этот шаг и перейдите к шагу 2.  
  
2.  Запустите графический пользовательский интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если нужно просмотреть сводные данные и отчеты по настройке для существующего сеанса настройки, дважды щелкните имя сеанса в окне **Монитор сеансов**.  
  
3.  После завершения нового сеанса настройки или загрузки существующего сеанса перейдите на вкладку **Рекомендации** .  
  
4.  На панели **Сводка по настройке** содержатся сведения о сеансе настройки. Особенно полезными для решения, нужно ли применять рекомендацию, могут оказаться сведения, представленные элементами **Ожидаемый процент улучшений** и **Место, занятое рекомендацией** .  
  
5.  На панели **Отчеты настройки** щелкните **Выбрать отчет** , чтобы просмотреть отчет о настройке.  
  
#### <a name="to-view-tuning-logs-with-the-database-engine-tuning-advisor-gui"></a>Просмотр журналов настройки с помощью GUI помощника по настройке ядра СУБД  
  
1.  Настройте базу данных, используя графический пользовательский интерфейс помощника по настройке компонента Database Engine или программу командной строки **dta** . При настройке рабочей нагрузки убедитесь, что установлен флажок **Сохранить журнал настройки** на вкладке **Общие** . Если нужно использовать существующий сеанс настройки, пропустите этот шаг и перейдите к шагу 2.  
  
2.  Запустите графический пользовательский интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если необходимо просмотреть сводные данные и отчеты по настройке для существующего сеанса настройки, дважды щелкните имя сеанса в окне **Монитор сеансов** .  
  
3.  После завершения нового сеанса настройки или загрузки существующего сеанса перейдите на вкладку **Выполнение** . На панели **Журнал настройки** отображается содержимое журнала. Журнал содержит сведения о событиях рабочей нагрузки, которые помощника по настройке ядра СУБД не смог проанализировать.  
  
     Если помощником по настройке ядра СУБД были проанализированы все события сеанса настройки, выводится сообщение, указывающее, что журнал настройки пустой. Если при первом запуске сеанса настройки на вкладке **Общие** не был установлен флажок **Сохранить журнал настройки** , то будет выведено соответствующее сообщение.  
  
##  <a name="implement-tuning-recommendations"></a><a name="Implement"></a> Реализация рекомендаций по настройке  
 Рекомендации помощника по настройке ядра СУБД можно реализовать вручную или автоматически в качестве компонента текущего сеанса. Для изучения результатов настройки перед их реализацией пользуйтесь графическим интерфейсом пользователя помощника по настройке ядра СУБД. Затем с помощью среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] вы можете вручную запустить скрипты [!INCLUDE[tsql](../../includes/tsql-md.md)] , сформированные помощником по настройке ядра СУБД в результате анализа рабочей нагрузки, чтобы реализовать его рекомендации. Если не нужно проверять результаты перед их реализацией, укажите параметр **-a** в программе командной строки **dta** . Этот параметр передает программе указание автоматически применить рекомендации по настройке после проведения анализа рабочей загрузки. Следующие процедуры иллюстрируют, как использовать оба интерфейса помощника по настройке ядра СУБД для реализации его рекомендаций.  
  
#### <a name="to-manually-implement-tuning-recommendations-with-the-database-engine-tuning-advisor-gui"></a>Реализация вручную рекомендаций по настройке с помощью интерфейса GUI помощника по настройке ядра СУБД  
  
1.  Настройте базу данных с помощью графического пользовательского интерфейса помощника по настройке ядра СУБД или программы командной строки **dta** . Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если нужно использовать существующий сеанс настройки, пропустите этот шаг и перейдите к шагу 2.  
  
2.  Запустите графический пользовательский интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если необходимо реализовать рекомендации по настройке для существующего сеанса настройки, откройте его, дважды щелкнув имя сеанса в **мониторе сеансов**.  
  
3.  После завершения нового сеанса настройки либо после загрузки средством существующего сеанса выберите пункт **Применить рекомендации** в меню **Действия** .  
  
4.  В диалоговом окне **Применение рекомендаций** выберите один из вариантов **Применить сейчас** или **Запланировать на более поздний срок**. В случае выбора варианта **Запланировать на более поздний срок**выберите нужные дату и время.  
  
5.  Нажмите кнопку **ОК** для применения рекомендаций.  
  
#### <a name="to-automatically-implement-tuning-recommendations-using-the-dta-command-prompt-utility"></a>Автоматическая реализация рекомендаций по настройке с помощью программы командной строки dta  
  
1.  Определите все компоненты (индексы, индексированные представления, секции) базы данных, которые помощник по настройке ядра СУБД должен проанализировать на предмет добавления, удаления или сохранения.  
  
     Придерживайтесь следующих рекомендаций перед началом настройки:  
  
    -   При использовании таблицы трассировки в качестве рабочей нагрузки эта таблица должна находиться на том же сервере, на котором работает помощник по настройке ядра СУБД. Если таблица трассировки создана на другом сервере, ее необходимо переместить на сервер, на котором работает помощник по настройке ядра СУБД.  
  
    -   Если сеанс настройки длится дольше запланированного времени, можно нажать клавиши CTRL+C для завершения сеанса настройки. Если нажать клавиши CTRL+C в этом случае, программа **dta** выдаст лучшие рекомендации на основе выполненной рабочей нагрузки, и вы не будете тратить время, которое средство уже затратило на настройку рабочей нагрузки.  
  
2.  В командной строке введите следующую команду:  
  
    ```  
    dta -E -D DatabaseName -if WorkloadFile -s SessionName -a  
    ```  
  
     где **-E** указывает, что в сеансе настройки используется доверительное соединение (вместо идентификатора входа и пароля); **-D** определяет имя базы данных, настройка которой выполняется, или список с разделителями запятыми, содержащий несколько баз данных, которые используются в рабочей нагрузке; **-if** указывает на имя и путь к файлу рабочей нагрузки; **-s** задает имя сеанса настройки; **-a** определяет, что программа командной строки **dta** должна автоматически применить рекомендации по настройке после анализа рабочей нагрузки без подтверждения пользователя. Дополнительные сведения об использовании программы командной строки **dta** для настройки баз данных см. в статье [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
3.  Нажмите клавишу ВВОД.  
  
##  <a name="perform-exploratory-analysis"></a><a name="Analysis"></a> выполнять исследовательский анализ  
 Возможность пользовательской конфигурации помощника по настройке ядра СУБД позволяет администраторам выполнять исследовательский анализ. Используя эту возможность, администраторы базы данных указывают помощнику по настройке ядра СУБД желаемую физическую структуру базы данных, после чего они могут оценить влияние этой структуры на производительность без ее выполнения. Пользовательская конфигурация поддерживается, как графическим интерфейсом пользователя (GUI) помощника по настройке ядра СУБД, так и программой командной строки. Однако программа командной строки обеспечивает наибольшую гибкость.  
  
 Используя графический интерфейс помощника по настройке ядра СУБД, можно оценить результаты выполнения поднабора рекомендации по настройке помощника по настройке ядра СУБД, но нельзя добавить предположительные физические структуры для оценки помощником по настройке ядра СУБД.  
  
 Следующие процедуры представляют использование возможности пользовательской конфигурации с обоими интерфейсами инструментальных средств.  
  
### <a name="using-database-engine-tuning-advisor-gui-to-evaluate-tuning-recommendations"></a>Использование графического интерфейса помощника по настройке ядра СУБД для оценки рекомендаций  
 В следующей процедуре описано, как оценивать рекомендации, которые были сформированы помощником по настройке ядра СУБД, в ситуации, когда графический интерфейс не позволяет указывать для оценки новые физические структуры.  
  
##### <a name="to-evaluate-tuning-recommendations-with-the-database-engine-tuning-advisor-gui"></a>Оценка рекомендации по настройке с помощью графического интерфейса помощника по настройке ядра СУБД  
  
1.  Используйте для настройки базы данных графический интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если необходимо оценить существующий сеанс настройки, дважды щелкните его в **мониторе сеансов**.  
  
2.  На вкладке **Рекомендации** очистите рекомендованные физические структуры, которые не нужно использовать.  
  
3.  В меню **Действия** выберите команду **Оценить рекомендации**. Будет создан новый сеанс настройки.  
  
4.  Введите новое **Имя сеанса**. Чтобы просмотреть конфигурацию физической структуры базы данных, оценка которой выполняется, выберите **Щелкните здесь, чтобы увидеть раздел конфигурации** в области **Описание** в нижней части окна помощника по настройке ядра СУБД.  
  
5.  На панели инструментов нажмите кнопку **Начать анализ** . После завершения работы помощника по настройке ядра СУБД результаты будут отображены на вкладке **Рекомендации** .  
  
### <a name="using-database-engine-tuning-advisor-gui-to-export-tuning-session-results-for-what-if-tuning-analysis"></a>Использование графического интерфейса помощника по настройке ядра СУБД, чтобы экспортировать результаты сеанса настройки для настройки методом «анализ гипотетических вариантов»  
 В приведенной ниже процедуре описано, как экспортировать результаты сеанса настройки помощника по настройке компонента Database Engine в XML-файл, который можно изменить, а затем настроить с помощью программы командной строки **dta** . Это позволяет выполнить анализ настройки для предположительных новых структур физического проектирования без несения издержек по их выполнению в базе данных перед тем как выяснить, обеспечивают ли они необходимые улучшения производительности. Использование графического интерфейса помощника по настройке компонента Database Engine для первичной настройки базы данных и последующего экспортирования результатов настройки в файл с расширением **XML** является хорошей возможностью для незнакомых с языком XML пользователей использовать гибкость XML-схемы помощника по настройке компонента Database Engine, чтобы выполнить анализ методом "гипотетических вариантов".  
  
##### <a name="to-export-tuning-session-results-from-the-database-engine-tuning-advisor-gui-for-what-if-analysis-with-the-dta-command-line-utility"></a>Экспорт результатов сеанса настройки из графического интерфейса помощника по настройке ядра СУБД для анализа методом «гипотетических вариантов» при помощи программы командной строки dta  
  
1.  Используйте для настройки базы данных графический интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md). Если необходимо оценить существующий сеанс настройки, дважды щелкните его в **мониторе сеансов**.  
  
2.  В меню **Файл** выберите пункт **Экспорт результатов сеанса** и сохраните его как XML-файл.  
  
3.  Откройте XML-файл, созданный на шаге 2, в любом редакторе XML, текстовом редакторе или в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]. Прокрутите файл вниз до элемента `Configuration`. Скопируйте и вставьте секцию элемента `Configuration` в шаблон входного XML-файла после элемента `TuningOptions`. Сохраните этот входной XML-файл.  
  
4.  В новом входном XML-файле, созданном на этапе 3, укажите любые необходимые параметры в элементе `TuningOptions`, измените сегмент элемента `Configuration` (добавьте или удалите физические структуры в соответствии со своим анализом), сохраните файл и сверьте его с XML-схемой помощника по настройке ядра СУБД. Дополнительные сведения см. в [Справочнике по входным файлам XML (помощник по настройке компонента Database Engine)](../../tools/dta/xml-input-file-reference-database-engine-tuning-advisor.md).  
  
5.  Этот XML-файл, созданный на шаге 4, используется в качестве входного для программы командной строки **dta** . О том, как работать с входными файлами XML-данных с помощью этой программы, см. в подразделе «Настройка базы данных с помощью программы dta» раздела [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
### <a name="using-the-user-specified-configuration-feature-with-the-dta-command-line-utility"></a>Использование пользовательской конфигурации с программой командной строки dta  
 Будучи опытным разработчиком на языке XML, можно создать входной XML-файл помощника по настройке ядра СУБД, в котором можно указать рабочую нагрузку и предположительную конфигурацию физических структур баз данных, таких как индексы, индексированные представления или секционирование. Затем с помощью программы командной строки **dta** можно выполнить анализ влияния этой гипотетической конфигурации на производительность запросов базы данных. В следующей процедуре представлено пошаговое описание этого процесса.  
  
##### <a name="to-use-the-user-specified-configuration-feature-with-the-dta-command-line-utility"></a>Использование пользовательской конфигурации с программой командной строки dta  
  
1.  Создайте рабочую нагрузку настройки. Дополнительные сведения о выполнении этой задачи см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
2.  Копируйте и вставьте [образец входного XML-файла с пользовательской конфигурацией (DTA)](../../tools/dta/xml-input-file-sample-with-user-specified-configuration-dta.md) в редактор XML или текстовый редактор. Используйте этот образец, чтобы создать входной XML-файл для сеанса настройки. Сведения о выполнении этой задачи в подразделе «Создание входных файлов XML-данных» раздела [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
3.  Измените элементы `TuningOptions` и `Configuration` в образце входного файла XML-данных. В элементе `TuningOptions` укажите, какие структуры физического проектирования необходимо рассмотреть помощнику по настройке ядра СУБД во время сеанса настройки. В элементе `Configuration` укажите физические структуры, соответствующие предположительной конфигурации физических структур баз данных, которые необходимо проанализировать помощнику по настройке ядра СУБД. Сведения о том, какие атрибуты и дочерние элементы можно использовать с `TuningOptions` `Configuration` родительскими элементами и, см. в разделе [Справочник по входным XML-файлам &#40;помощник по настройке ядра СУБД&#41;](../../tools/dta/xml-input-file-reference-database-engine-tuning-advisor.md).  
  
4.  Сохраните входной файл с расширением **XML** .  
  
5.  Проверьте входной XML-файл, сохраненный на этапе 4, на соответствие XML-схеме помощника по настройке ядра СУБД. При установке [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] эта схема была размещена в следующем месте:  
  
    ```  
    C:\Program Files\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd  
    ```  
  
     XML-схема помощника по настройке ядра СУБД также доступна на веб-сайте [https://schemas.microsoft.com/sqlserver/2004/07/dta](https://schemas.microsoft.com/sqlserver/2004/07/dta).  
  
6.  После создания рабочей нагрузки и входного XML-файла все готово для передачи входного файла в программу командной строки **dta** для анализа. Убедитесь, что имя выходного XML-файла для аргумента программы **-ox** указано. Будет создан выходной XML-файл с рекомендуемой конфигурацией, указанной в элементе `Configuration`. Если нужно снова запустить помощник по настройке ядра СУБД для проверки другой предположительной конфигурации, основанной на выходных данных, можно скопировать содержимое элемента `Configuration` из выходного файла и вставить его в новый или в первоначальный входной XML-файл. Сведения о том, как работать с входным XML-файлом в программе командной строки **dta** , см. в разделе о настройке базы данных с помощью программы командной строки dta статьи [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
     После завершения настройки просмотреть отчеты по ней можно в графическом интерфейсе помощника по настройке ядра СУБД или открыв выходной XML-файл для просмотра элементов `TuningSummary`, `Configuration` и рекомендаций помощника по настройке ядра СУБД. Сведения о просмотре результатов проведенного сеанса настройки содержатся в разделе [Просмотр выходных данных настройки](#View) выше в этом разделе. Также обратите внимание, что выходной XML-файл может содержать отчеты анализа помощника по настройке ядра СУБД.  
  
7.  Повторяйте этапы 6 и 7 до тех пор, пока не создадите предположительную конфигурацию, которая обеспечит необходимые улучшения производительности. Затем можно выполнить новую конфигурацию. Дополнительные сведения см. выше в подразделе [Применение рекомендаций по настройке](#Implement) .  
  
##  <a name="review-evaluate-and-clone-tuning-sessions"></a><a name="ReviewEvaluateClone"></a> Просмотр, оценка и клонирование сеансов настройки  
 Помощник по настройке ядра СУБД создает новый сеанс настройки каждый раз, когда начинается анализ влияния рабочей нагрузки на базу (базы) данных. С помощью **монитора сеансов** в графическом пользовательском интерфейсе помощника по настройке ядра СУБД вы можете просмотреть или перезагрузить все сеансы настройки, выполненные на данном экземпляре [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Возможность просмотра всех существующих сеансов настройки облегчает клонирование сеансов на основе существующих, изменение существующих рекомендаций по настройке и последующее использование помощника по настройке ядра СУБД для оценки измененного сеанса, а также выполнение настройки с регулярным интервалом для контроля физической структуры баз данных. Например, можно выполнять настройку базы данных по расписанию ежемесячно.  
  
 Перед началом просмотра сеанса настройки для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]необходимо создать сеансы настройки на экземпляре сервера, настроив рабочую нагрузку с использованием помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
### <a name="review-existing-tuning-sessions"></a>Просмотр существующих сеансов настройки  
 Выполните следующие действия, чтобы просмотреть существующие сеансы настройки на данном экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
##### <a name="to-review-existing-tuning-sessions"></a>Просмотр существующих сеансов настройки  
  
1.  Запустите графический пользовательский интерфейс помощника по настройке ядра СУБД. Дополнительные сведения см. в разделе [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md).  
  
2.  Все существующие сеансы настройки отображаются в верхней половине окна **Монитор сеансов** . Количество отображаемых сеансов зависит от того, сколько раз настраивались базы данных на этом экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Используйте полосы прокрутки, чтобы просмотреть все сеансы настройки.  
  
3.  При щелчке на имя сеанса настройки подробные сведения по этому сеансу отображаются в нижней половине окна **Монитор сеансов** .  
  
4.  При двойном щелчке на имя сеанса настройки сведения, содержащиеся в нем, загружаются в помощник по настройке ядра СУБД. После загрузки информации сеанса можно выбрать любую из вкладок, чтобы просмотреть сведения об этом сеансе настройки.  
  
### <a name="evaluate-existing-tuning-sessions-as-hypothetical-configurations"></a>Оценка существующих сеансов настройки как гипотетических конфигураций  
 Используйте следующие шаги, чтобы оценить существующий сеанс настройки. Оценка существующего сеанса настройки включает в себя просмотр и редактирование его рекомендаций и последующую повторную настройку. Предположим, было принято решение создавать только индексы по таблице **table1**, поэтому создание индексированных представлений и деление на секции удаляется из существующей рекомендации по настройке. Затем помощник по настройке ядра СУБД создает новый сеанс настройки и настраивает рабочую нагрузку для применяемых баз данных, используя измененные рекомендации в качестве гипотетической конфигурации. Это означает, что помощник по настройке ядра СУБД настраивает рабочую нагрузку для баз данных так, как если бы измененные рекомендации уже были применены; это позволяет осуществить анализ гипотетических вариантов в ограниченных масштабах. Масштабы анализа ограничены, поскольку в графическом интерфейсе помощника по настройке ядра СУБД можно выбрать только некоторое подмножество из существующей рекомендации. Чтобы выполнить полный анализ "что если", указав совершенно новую гипотетическую конфигурацию, не являющуюся подмножеством какого-либо из предыдущих сеансов настройки, нужно использовать входной XML-файл помощника по настройке компонента Database Engine для программы командной строки **dta** .  
  
##### <a name="to-evaluate-an-existing-tuning-session"></a>Оценка существующего сеанса настройки  
  
1.  После запуска помощника по настройке компонента Database Engine дважды щелкните сеанс настройки в верхней части **Монитора сеансов**, который загружает в помощник по настройке компонента Database Engine сведения о сеансе.  
  
2.  Выберите вкладку **Выполнение** , чтобы проверить журнал настройки, содержащий сведения об ошибках, связанных с любыми событиями в рабочей нагрузке, которые помощнику по настройке ядра СУБД не удалось настроить. Эти сведения могут помочь оценить эффективность рабочей нагрузки.  
  
3.  При желании просмотреть далее результаты настройки для этого сеанса, выберите вкладку **Отчеты** . На этой вкладке можно просмотреть отчет настройки или выбрать его из списка **Выбор отчета** .  
  
4.  Выберите вкладку **Рекомендации** , чтобы просмотреть рекомендации по настройке.  
  
5.  Если нет уверенности относительно применения каких-либо рекомендаций, снимите флажки возле них.  
  
6.  В меню **Действия** выберите команду **Оценить рекомендации**. Помощник по настройке ядра СУБД создаст новый сеанс настройки, в котором используется измененная рекомендация в качестве гипотетической конфигурации. Чтобы просмотреть гипотетическую конфигурацию в формате XML, щелкните надпись **Щелкните здесь, чтобы увидеть раздел конфигурации**.  
  
7.  На вкладке **Общие** введите **Имя сеанса**и убедитесь, что указана правильная **Рабочая нагрузка** .  
  
8.  На вкладке **Параметры настройки** можно указать время настройки или любой из **Дополнительных параметров**.  
  
9. На панели инструментов нажмите кнопку **Начать анализ** . Помощник по настройке ядра СУБД приступит к настройке баз данных с использованием гипотетической конфигурации. По окончании работы помощника по настройке ядра СУБД можно просмотреть результаты этого сеанса тем же образом, что и для любого другого сеанса.  
  
### <a name="clone-existing-tuning-sessions"></a>Клонирование существующих сеансов настройки  
 Можно создавать новые сеансы настройки на основе существующих сеансов, выбрав режим клонирования в помощнике по настройке ядра СУБД. При выборе режима клонирования новый сеанс настройки строится на основе существующего сеанса. Затем можно изменить параметры настройки для нового сеанса в соответствии с потребностями. При оценке существующего сеанса, как описано в предыдущей процедуре, помощник по настройке ядра СУБД также создает новый сеанс настройки, однако изменять параметры настройки нельзя.  
  
##### <a name="to-create-new-tuning-sessions-by-cloning-existing-sessions"></a>Создание новых сеансов настройки посредством клонирования существующих сеансов  
  
1.  После запуска помощника по настройке компонента Database Engine дважды щелкните сеанс настройки в верхней части **Монитора сеансов**, который загружает в помощник по настройке компонента Database Engine сведения о сеансе.  
  
2.  В меню **Действия** выберите пункт **Создать копию сеанса**.  
  
3.  На вкладке **Общие** введите **Имя сеанса**и убедитесь, что указана правильная **Рабочая нагрузка** .  
  
4.  На вкладке **Параметры настройки** можно указать время настройки, структуры физической структуры, которые помощнику по настройке ядра СУБД следует создать, и какие из рекомендаций следует отбросить.  
  
5.  Выберите **Дополнительные параметры** , если нужно установить предельный размер места для рекомендаций, указать максимальное число столбцов для каждого индекса, и определить, следует ли помощнику по настройке ядра СУБД сформировать рекомендации, которые могут быть применены к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , находящемуся в режиме «в сети».  
  
6.  Нажмите кнопку **Начать анализ** на панели инструментов, чтобы проанализировать влияние рабочей нагрузки, как и в случае с любым другим сеансом настройки. По окончании работы помощника по настройке ядра СУБД можно просмотреть результаты этого сеанса тем же образом, что и для любого другого сеанса.  
  
##  <a name="user-interface-descriptions"></a><a name="UI"></a> Описание пользовательского интерфейса  
  
### <a name="sessions-monitor"></a>Монитор сеансов  
 **Монитор сеансов** показывает сведения о сеансах, открытых в помощнике настройки ядра СУБД. Чтобы просмотреть сведения о сеансе в окне свойств, выберите имя сеанса в **мониторе сеансов**.  
  
### <a name="recommendations-tab"></a>Вкладка «Рекомендации»  
 Вкладка **Рекомендации** выводится по окончании анализа рабочей нагрузки помощником по настройке ядра СУБД. Эта сетка содержит рекомендации для каждого проанализированного объекта. Рекомендации по секциям (если есть) выводятся в верхней сетке, а рекомендации по индексам — в нижней. При отсутствии рекомендаций эти сетки не отображаются.  
  
 Столбец **Определение** содержит определение рекомендуемой секции или индекса в виде гиперссылки. Обычно этот столбец слишком узок для просмотра всего определения. Щелкните эту ссылку для вывода диалогового окна, содержащего полное определение и нажмите кнопку **Копировать в буфер обмена** .  
  
#### <a name="partition-recommendations"></a>Рекомендации по секциям  
 **Имя базы данных**  
 База данных, содержащая объекты, которые рекомендуется изменить.  
  
 **Рекомендация**  
 Действие, рекомендованное для повышения производительности. Возможные значения: Create и Drop.  
  
 **Цель рекомендации**  
 Функция секционирования или схема, на которые влияет рекомендация. Значок в данном столбце отражает рекомендации по удалению или добавлению пункта **Цель рекомендации** , а также то, является ли он функцией секционирования или схемы.  
  
 **Сведения**  
 Описание пункта **Цель рекомендации**. Допустимые значения включают диапазон для функции секционирования, а также пустое значение для схем секционирования.  
  
 **Количество секций**  
 Число секций, определенное рекомендуемыми функциями секционирования. Когда данная функция используется со схемой, а затем применяется к таблице, данные в этой таблице разделяются на это число секций.  
  
 **Определение**  
 Определение пункта **Цель рекомендации**. Щелкните столбец, чтобы открыть диалоговое окно «Предварительный просмотр скрипта SQL» со скриптом для рекомендованного действия.  
  
##### <a name="index-recommendations"></a>Рекомендации по индексам  
 **Имя базы данных**  
 База данных, содержащая объекты, которые рекомендуется изменить.  
  
 **Имени объекта**  
 Таблица, относящаяся к рекомендации.  
  
 **Рекомендация**  
 Действие, рекомендованное для повышения производительности. Возможные значения: Create и Drop.  
  
 **Цель рекомендации**  
 Индекс или представление, к которым относится рекомендация. Значок в данном столбце отражает рекомендации по удалению или добавлению пункта **Цель рекомендации**.  
  
 **Сведения**  
 Описание пункта **Цель рекомендации**. Возможные значения — кластеризованное, индексированное представление или пустое значение для некластеризованного индекса. Показывает также, является ли данный индекс уникальным.  
  
 **Схема секционирования**  
 В этом столбце указывается схема секционирования, если рекомендуется секционирование.  
  
 **Размер (КБ)**  
 Ожидаемый размер рекомендуемого нового объекта. Если значение в этом столбце отсутствует, щелкните **Размеры существующих объектов см. в разделе «Отчеты»** .  
  
 **Определение**  
 Определение пункта **Цель рекомендации**. Щелкните столбец, чтобы открыть диалоговое окно «Предварительный просмотр скрипта SQL» со скриптом для рекомендованного действия.  
  
 **Показать существующие объекты**  
 Выберите для просмотра всех существующих объектов в данной сетке, даже если для них нет рекомендаций помощника по настройке ядра СУБД.  
  
 **Размеры существующих объектов см. в разделе «Отчеты»**  
 Выберите для просмотра отчетов, содержащих размер существующих объектов в сетке рекомендаций.  
  
### <a name="actions-menuapply-recommendations-options"></a>Меню действий/Применить рекомендованные параметры  
 После того как рабочая нагрузка проанализирована и представлены рекомендации, в меню **Действия** выберите пункт **Применить рекомендации** , чтобы открыть диалоговое окно **Применение рекомендаций** .  
  
 **Применить сейчас**  
 В соответствии с рекомендациями создает скрипт и запускает его для применения рекомендаций.  
  
 **Запланировать на более поздний срок**  
 Создает в соответствии с рекомендациями скрипт и сохраняет действия в виде задания для агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 **Дата**  
 Указывает дату запуска задания агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для применения рекомендаций.  
  
 **Time**  
 Указывает время запуска задания агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для применения рекомендаций.  
  
### <a name="reports-tab-options"></a>Параметры вкладки отчетов  
 Вкладка **Отчеты** выводится по окончании анализа рабочей нагрузки помощником по настройке ядра СУБД.  
  
 **Сводка по настройке**  
 Выводит сводку рекомендаций помощника по настройке ядра СУБД.  
  
 **Дата**  
 Дата создания отчета помощником по настройке ядра СУБД.  
  
 **Time**  
 Время создания отчета помощником по настройке ядра СУБД.  
  
 **Server**  
 Целевой сервер для рабочей нагрузки помощника по настройке ядра СУБД.  
  
 **Настраиваемая база данных**  
 База данных, которой касаются рекомендации помощника по настройке ядра СУБД.  
  
 **Файл рабочей нагрузки**  
 Отображается, если рабочая нагрузка — это файл.  
  
 **Таблица рабочей нагрузки**  
 Отображается, если рабочая нагрузка — это таблица [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 **Рабочая нагрузка**  
 Отображается, если рабочая нагрузка была импортирована из редактора запросов в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].  
  
 **Максимальное время настройки**  
 Заданное максимальное время, доступное для анализа помощнику по настройке ядра СУБД.  
  
 **Длительность настройки**  
 Время, затраченное на анализ рабочей нагрузки помощником по настройке ядра СУБД.  
  
 **Ожидаемый процент улучшений**  
 Улучшение в процентах для данной рабочей нагрузки, ожидаемое при реализации всех рекомендаций помощника по настройке ядра СУБД.  
  
 **Максимальное место для рекомендаций (МБ)**  
 Максимальное место на диске, выделенное для рекомендаций. Это значение задается до выполнения анализа при помощи кнопки **Дополнительные параметры** на вкладке **Параметры настройки** .  
  
 **Используемое в настоящий момент место (MБ)**  
 Место на диске, используемое в данный момент индексами анализируемой базы данных.  
  
 **Место, занятое рекомендацией (MБ)**  
 Примерный размер места на диске, которое будет использоваться индексами при выполнении всех рекомендаций помощника по настройке ядра СУБД.  
  
 **Количество событий в рабочей нагрузке**  
 Число событий, содержащихся в рабочей нагрузке.  
  
 **Количество настроенных событий**  
 Число событий в рабочей нагрузке, которые были настроены. Если событие нельзя настроить, это отображается в журнале настройки, доступном на вкладке **Выполнение** .  
  
 **Количество настроенных инструкций**  
 Число инструкций в рабочей нагрузке, которые были настроены. Если инструкцию нельзя настроить, это отображается в журнале настройки, доступном на вкладке **Выполнение** .  
  
 **Процент инструкций SELECT в настроенном наборе**  
 Процент инструкций SELECT среди всех настроенных инструкций. Появляется, только если имеются настроенные инструкции SELECT.  
  
 **Процент инструкций UPDATE в настроенном наборе**  
 Процент инструкций UPDATE среди всех настроенных инструкций. Появляется, только если имеются настроенные инструкции UPDATE.  
  
 **Число индексов, рекомендуемых для [создания | удаления]**  
 Число индексов, рекомендуемых для создания или удаления из настраиваемой базы данных. Отображается, только если индексы входят в рекомендацию.  
  
 **Число индексов по представлениям, рекомендуемых для [создания | удаления]**  
 Число индексов по представлениям, рекомендуемых для создания или удаления из настраиваемой базы данных. Отображается, только если индексы по представлениям входят в рекомендацию.  
  
 **Рекомендованное количество создаваемых статистик**  
 Число статистик, рекомендуемых для создания в настраиваемой базе данных. Отображается, только если статистики рекомендованы.  
  
 **Select Report**  
 Просмотр данных выбранного отчета. Столбцы в данной сетке могут различаться для разных отчетов.  
  
## <a name="see-also"></a>См. также:  
 [Запуск и использование помощника по настройке ядра СУБД](database-engine-tuning-advisor.md)   
 [dta Utility](../../tools/dta/dta-utility.md)  
  
  

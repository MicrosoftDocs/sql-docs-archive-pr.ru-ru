---
title: Database Mail | Документация Майкрософт
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- architecture [SQL Server], Database Mail
- Database Mail [SQL Server], architecture
- Database Mail [SQL Server], components
ms.assetid: 9e4563dd-4799-4b32-a78a-048ea44a44c1
author: stevestein
ms.author: sstein
ms.openlocfilehash: 97a5a459fafd80956a2b8d31c27b86169c6fa850
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751139"
---
# <a name="database-mail"></a><span data-ttu-id="60bb7-102">Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-102">Database Mail</span></span>
  <span data-ttu-id="60bb7-103">Компонент Database Mail — это решение уровня предприятия для отправки сообщений электронной почты от компонента [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60bb7-103">Database Mail is an enterprise solution for sending e-mail messages from the [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="60bb7-104">Используя компонент Database Mail, приложения базы данных могут отправлять почтовые сообщения пользователям.</span><span class="sxs-lookup"><span data-stu-id="60bb7-104">Using Database Mail, your database applications can send e-mail messages to users.</span></span> <span data-ttu-id="60bb7-105">Сообщения могут содержать результаты запроса, а также могут включать файлы из любого сетевого ресурса.</span><span class="sxs-lookup"><span data-stu-id="60bb7-105">The messages can contain query results, and can also include files from any resource on your network.</span></span>  
  
 
  
##  <a name="benefits-of-using-database-mail"></a><a name="Benefits"></a> <span data-ttu-id="60bb7-106">Преимущества использования компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-106">Benefits of using Database Mail</span></span>  
 <span data-ttu-id="60bb7-107">Компонент Database Mail спроектирован для надежности, масштабируемости, безопасности и простой поддержки.</span><span class="sxs-lookup"><span data-stu-id="60bb7-107">Database Mail is designed for reliability, scalability, security, and supportability.</span></span>  
  
### <a name="reliability"></a><span data-ttu-id="60bb7-108">Надежность</span><span class="sxs-lookup"><span data-stu-id="60bb7-108">Reliability</span></span>  
  
-   <span data-ttu-id="60bb7-109">Для отправки почты компонент Database Mail использует простой протокол доставки сообщений (SMTP).</span><span class="sxs-lookup"><span data-stu-id="60bb7-109">Database Mail uses the standard Simple Mail Transfer Protocol (SMTP) to send mail.</span></span> <span data-ttu-id="60bb7-110">Можно использовать компонент Database Mail, не устанавливая клиент Extended MAPI на компьютер, на котором работает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60bb7-110">You can use Database Mail without installing an Extended MAPI client on the computer that runs [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="60bb7-111">Изоляция процесса.</span><span class="sxs-lookup"><span data-stu-id="60bb7-111">Process isolation.</span></span> <span data-ttu-id="60bb7-112">Чтобы свести к минимуму влияние на [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], компонент, доставляющий электронную почту, запускается в процессе, отдельном от [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60bb7-112">To minimize the impact on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the component that delivers e-mail runs outside of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], in a separate process.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="60bb7-113">продолжает помещать в очередь сообщения электронной почты, даже если внешний процесс остановится или в нем произойдет сбой.</span><span class="sxs-lookup"><span data-stu-id="60bb7-113">will continue to queue e-mail messages even if the external process stops or fails.</span></span> <span data-ttu-id="60bb7-114">Поставленные в очередь сообщения будут отосланы, как только внешний процесс или SMTP-сервер перейдет в состояние «в сети».</span><span class="sxs-lookup"><span data-stu-id="60bb7-114">The queued messages will be sent once the outside process or SMTP server comes online.</span></span>  
  
-   <span data-ttu-id="60bb7-115">Учетные записи отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="60bb7-115">Failover accounts.</span></span> <span data-ttu-id="60bb7-116">Профиль компонента Database Mail позволяет указать более одного SMTP-сервера.</span><span class="sxs-lookup"><span data-stu-id="60bb7-116">A Database Mail profile allows you to specify more than one SMTP server.</span></span> <span data-ttu-id="60bb7-117">Если SMTP-сервер будет недоступен, почта может быть доставлена другому SMTP-серверу.</span><span class="sxs-lookup"><span data-stu-id="60bb7-117">Should an SMTP server be unavailable, mail can still be delivered to another SMTP server.</span></span>  
  
-   <span data-ttu-id="60bb7-118">Поддержка кластера.</span><span class="sxs-lookup"><span data-stu-id="60bb7-118">Cluster support.</span></span> <span data-ttu-id="60bb7-119">Компонент Database Mail является ориентированным на кластеры и полностью поддерживается кластером.</span><span class="sxs-lookup"><span data-stu-id="60bb7-119">Database Mail is cluster-aware and is fully supported on a cluster.</span></span>  
  
### <a name="scalability"></a><span data-ttu-id="60bb7-120">Масштабируемость</span><span class="sxs-lookup"><span data-stu-id="60bb7-120">Scalability</span></span>  
  
-   <span data-ttu-id="60bb7-121">Фоновая доставка. Компонент Database Mail обеспечивает фоновую или асинхронную доставку.</span><span class="sxs-lookup"><span data-stu-id="60bb7-121">Background Delivery: Database Mail provides background, or asynchronous, delivery.</span></span> <span data-ttu-id="60bb7-122">При вызове процедуры **sp_send_dbmail** для отправки сообщения компонент Database Mail добавляет запрос в очередь компонента [!INCLUDE[ssSB](../../includes/sssb-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60bb7-122">When you call **sp_send_dbmail** to send a message, Database Mail adds a request to a [!INCLUDE[ssSB](../../includes/sssb-md.md)] queue.</span></span> <span data-ttu-id="60bb7-123">Хранимая процедура возвращается немедленно.</span><span class="sxs-lookup"><span data-stu-id="60bb7-123">The stored procedure returns immediately.</span></span> <span data-ttu-id="60bb7-124">Внешний компонент электронной почты получает запрос и доставляет электронную почту.</span><span class="sxs-lookup"><span data-stu-id="60bb7-124">The external e-mail component receives the request and delivers the e-mail.</span></span>  
  
-   <span data-ttu-id="60bb7-125">Множество профилей. Компонент Database Mail позволяет создавать множество профилей в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60bb7-125">Multiple profiles: Database Mail allows you to create multiple profiles within a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="60bb7-126">Дополнительно можно выбрать профиль, который будет использовать компонент Database Mail при отправке сообщения.</span><span class="sxs-lookup"><span data-stu-id="60bb7-126">Optionally, you can choose the profile that Database Mail uses when you send a message.</span></span>  
  
-   <span data-ttu-id="60bb7-127">Множество учетных записей. Каждый профиль может содержать множество учетных записей отработок отказов.</span><span class="sxs-lookup"><span data-stu-id="60bb7-127">Multiple accounts: Each profile can contain multiple failover accounts.</span></span> <span data-ttu-id="60bb7-128">Можно настроить различные профили с различными учетными записями для распределения электронной почты через несколько почтовых серверов.</span><span class="sxs-lookup"><span data-stu-id="60bb7-128">You can configure different profiles with different accounts to distribute e-mail across multiple e-mail servers.</span></span>  
  
-   <span data-ttu-id="60bb7-129">64-разрядная совместимость. Компонент Database Mail полностью поддерживается на 64-разрядных установках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60bb7-129">64-bit compatibility: Database Mail is fully supported on 64-bit installations of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="security"></a><span data-ttu-id="60bb7-130">Безопасность</span><span class="sxs-lookup"><span data-stu-id="60bb7-130">Security</span></span>  
  
-   <span data-ttu-id="60bb7-131">По умолчанию отключена. Для уменьшения контактной зоны [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]хранимые процедуры компонента Database Mail по умолчанию отключены.</span><span class="sxs-lookup"><span data-stu-id="60bb7-131">Off by default: To reduce the surface area of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Database Mail stored procedures are disabled by default.</span></span>  
  
-   <span data-ttu-id="60bb7-132">Безопасность почты. Для отправки почты с помощью компонента Database Mail необходимо быть членом роли **DatabaseMailUserRole** в базе данных **msdb** .</span><span class="sxs-lookup"><span data-stu-id="60bb7-132">Mail Security:To send Database Mail, you must be a member of the **DatabaseMailUserRole** database role in the **msdb** database.</span></span>  
  
-   <span data-ttu-id="60bb7-133">Безопасность профиля. Компонент Database Mail определяет безопасность для профилей почты.</span><span class="sxs-lookup"><span data-stu-id="60bb7-133">Profile security: Database Mail enforces security for mail profiles.</span></span> <span data-ttu-id="60bb7-134">Выбираются пользователи или группы базы данных **msdb** , которые имеют доступ к профилю компонента Database Mail.</span><span class="sxs-lookup"><span data-stu-id="60bb7-134">You choose the **msdb** database users or groups that have access to a Database Mail profile.</span></span> <span data-ttu-id="60bb7-135">Можно предоставить доступ или определенным пользователям, или всем пользователям в базе данных **msdb**.</span><span class="sxs-lookup"><span data-stu-id="60bb7-135">You can grant access to either specific users, or all users in **msdb**.</span></span> <span data-ttu-id="60bb7-136">Закрытый профиль ограничивает доступ к указанному списку пользователей.</span><span class="sxs-lookup"><span data-stu-id="60bb7-136">A private profile restricts access to a specified list of users.</span></span> <span data-ttu-id="60bb7-137">Открытый профиль доступен для всех пользователей в базе данных.</span><span class="sxs-lookup"><span data-stu-id="60bb7-137">A public profile is available to all users in a database.</span></span>  
  
-   <span data-ttu-id="60bb7-138">Регулятор размера вложения. Компонент Database Mail определяет настраиваемое ограничение на размер файла вложения.</span><span class="sxs-lookup"><span data-stu-id="60bb7-138">Attachment size governor: Database Mail enforces a configurable limit on the attachment file size.</span></span> <span data-ttu-id="60bb7-139">Это ограничение можно изменить с помощью хранимой процедуры [sysmail_configure_sp](/sql/relational-databases/system-stored-procedures/sysmail-configure-sp-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="60bb7-139">You can change this limit by using the [sysmail_configure_sp](/sql/relational-databases/system-stored-procedures/sysmail-configure-sp-transact-sql) stored procedure.</span></span>  
  
-   <span data-ttu-id="60bb7-140">Запрещенные расширения файлов. Компонент Database Mail поддерживает список запрещенных расширений файлов.</span><span class="sxs-lookup"><span data-stu-id="60bb7-140">Prohibited file extensions: Database Mail maintains a list of prohibited file extensions.</span></span> <span data-ttu-id="60bb7-141">Пользователи не могут прикреплять файлы с расширением, указанным в списке.</span><span class="sxs-lookup"><span data-stu-id="60bb7-141">Users cannot attach files with an extension that appears in the list.</span></span> <span data-ttu-id="60bb7-142">Этот список можно изменить с помощью хранимой процедуры sysmail_configure_sp.</span><span class="sxs-lookup"><span data-stu-id="60bb7-142">You can change this list by using sysmail_configure_sp.</span></span>  
  
-   <span data-ttu-id="60bb7-143">Компонент Database Mail запускается под управлением учетной записи, от имени которой выполняется служба компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Engine.</span><span class="sxs-lookup"><span data-stu-id="60bb7-143">Database Mail runs under the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Engine service account.</span></span> <span data-ttu-id="60bb7-144">Для присоединения к письму файла из папки учетная запись компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Engine должна иметь разрешения на доступ к папке, в которой содержится этот файл.</span><span class="sxs-lookup"><span data-stu-id="60bb7-144">To attach a file from a folder to an email, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] engine account should have permissions to access the folder with the file.</span></span>  
  
### <a name="supportability"></a><span data-ttu-id="60bb7-145">Возможности поддержки</span><span class="sxs-lookup"><span data-stu-id="60bb7-145">Supportability</span></span>  
  
-   <span data-ttu-id="60bb7-146">Интегрированная конфигурация. Компонент Database Mail позволяет использовать сведения учетных записей электронной почты в компоненте [!INCLUDE[ssDEnoversion](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="60bb7-146">Integrated configuration: Database Mail maintains the information for e-mail accounts within [!INCLUDE[ssDEnoversion](../../includes/tsql-md.md)].</span></span>  
  
-   <span data-ttu-id="60bb7-147">Ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="60bb7-147">Logging.</span></span> <span data-ttu-id="60bb7-148">Компонент Database Mail регистрирует активность электронной почты в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], в журнале событий приложений Microsoft Windows и в таблице базы данных **msdb** .</span><span class="sxs-lookup"><span data-stu-id="60bb7-148">Database Mail logs e-mail activity to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the Microsoft Windows application event log, and to tables in the **msdb** database.</span></span>  
  
-   <span data-ttu-id="60bb7-149">Аудит. Компонент Database Mail сохраняет копии отправленных сообщений и вложений в базе данных **msdb** .</span><span class="sxs-lookup"><span data-stu-id="60bb7-149">Auditing: Database Mail keeps copies of messages and attachments sent in the **msdb** database.</span></span> <span data-ttu-id="60bb7-150">Можно легко проводить аудит использования компонента Database Mail и просматривать сохраненные сообщения.</span><span class="sxs-lookup"><span data-stu-id="60bb7-150">You can easily audit Database Mail usage and review the retained messages.</span></span>  
  
-   <span data-ttu-id="60bb7-151">Поддержка HTML. Компонент Database Mail позволяет посылать электронную почту в формате HTML.</span><span class="sxs-lookup"><span data-stu-id="60bb7-151">Support for HTML: Database Mail allows you to send e-mail formatted as HTML.</span></span>  
  

  
##  <a name="database-mail-architecture"></a><a name="VisualElement"></a> <span data-ttu-id="60bb7-152">Архитектура Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-152">Database Mail Architecture</span></span>  
 <span data-ttu-id="60bb7-153">Компонент Database Mail спроектирован по принципу очереди на основе технологий компонента Service Broker.</span><span class="sxs-lookup"><span data-stu-id="60bb7-153">Database Mail is designed on a queued architecture that uses service broker technologies.</span></span> <span data-ttu-id="60bb7-154">Когда пользователь выполняет хранимую процедуру **sp_send_dbmail**, в почтовую очередь вставляется новый элемент и создается запись, содержащая сообщение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="60bb7-154">When users execute **sp_send_dbmail**, the stored procedure inserts an item into the mail queue and creates a record that contains the e-mail message.</span></span> <span data-ttu-id="60bb7-155">При вставке новой записи в почтовую очередь запускается внешний процесс компонента Database Mail (DatabaseMail.exe).</span><span class="sxs-lookup"><span data-stu-id="60bb7-155">Inserting the new entry in the mail queue starts the external Database Mail process (DatabaseMail.exe).</span></span> <span data-ttu-id="60bb7-156">Внешний процесс считывает данные электронной почты и отправляет сообщение электронной почты соответствующему серверу или серверам электронной почты.</span><span class="sxs-lookup"><span data-stu-id="60bb7-156">The external process reads the e-mail information and sends the e-mail message to the appropriate e-mail server or servers.</span></span> <span data-ttu-id="60bb7-157">Внешний процесс вставляет элемент в очередь состояния в соответствии с результатами операции отправки.</span><span class="sxs-lookup"><span data-stu-id="60bb7-157">The external process inserts an item in the Status queue for the outcome of the send operation.</span></span> <span data-ttu-id="60bb7-158">При вставке новой записи в очередь состояний запускается внутренняя хранимая процедура, которая выполняет обновление состояния электронного сообщения.</span><span class="sxs-lookup"><span data-stu-id="60bb7-158">Inserting the new entry in the status queue starts an internal stored procedure that updates the status of the e-mail message.</span></span> <span data-ttu-id="60bb7-159">Кроме сохранения отправленного (или неотправленного) сообщения электронной почты, компонент Database Mail также записывает в системные таблицы все вложения.</span><span class="sxs-lookup"><span data-stu-id="60bb7-159">Besides storing the sent, or unsent, e-mail message, Database Mail also records any e-mail attachments in the system tables.</span></span> <span data-ttu-id="60bb7-160">Представления компонента Database Mail содержат сведения о состоянии сообщений для диагностики и устранения неполадок в работе, а хранимые процедуры позволяют администрировать очередь компонента Database Mail.</span><span class="sxs-lookup"><span data-stu-id="60bb7-160">Database Mail views provide the status of messages for troubleshooting, and stored procedures allow for administration of the Database Mail queue.</span></span>  
  
 <span data-ttu-id="60bb7-161">![База данных msdb отправляет сообщения на почтовый SMTP-сервер](../../database-engine/media/databasemail.gif "База данных msdb отправляет сообщения на почтовый SMTP-сервер")</span><span class="sxs-lookup"><span data-stu-id="60bb7-161">![msdb sends messages to an SMTP mail server](../../database-engine/media/databasemail.gif "msdb sends messages to an SMTP mail server")</span></span>  
  

  
##  <a name="introduction-to-database-mail-components"></a><a name="ComponentsAndConcepts"></a> <span data-ttu-id="60bb7-162">Общие сведения о компонентах Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-162">Introduction to Database Mail Components</span></span>  
 <span data-ttu-id="60bb7-163">Компонент Database Mail состоит из следующих основных компонентов.</span><span class="sxs-lookup"><span data-stu-id="60bb7-163">Database Mail consists of the following main components:</span></span>  
  
-   <span data-ttu-id="60bb7-164">Компоненты настройки и безопасности</span><span class="sxs-lookup"><span data-stu-id="60bb7-164">Configuration and security components</span></span>  
  
     <span data-ttu-id="60bb7-165">Компонент Database Mail хранит сведения о конфигурации и безопасности в базе данных **msdb** .</span><span class="sxs-lookup"><span data-stu-id="60bb7-165">Database Mail stores configuration and security information in the **msdb** database.</span></span> <span data-ttu-id="60bb7-166">Объекты настройки и безопасности создают профили и учетные записи, используемые компонентом Database Mail.</span><span class="sxs-lookup"><span data-stu-id="60bb7-166">Configuration and security objects create profiles and accounts used by Database Mail.</span></span>  
  
-   <span data-ttu-id="60bb7-167">Компоненты обмена сообщениями</span><span class="sxs-lookup"><span data-stu-id="60bb7-167">Messaging components</span></span>  
  
     <span data-ttu-id="60bb7-168">База данных **msdb** выступает в качестве базы данных обслуживания почты и содержит объекты обмена сообщениями, которыми компонент Database Mail пользуется для отправки сообщений электронной почты.</span><span class="sxs-lookup"><span data-stu-id="60bb7-168">The **msdb** database acts as the mail-host database that holds the messaging objects that Database Mail uses to send e-mail.</span></span> <span data-ttu-id="60bb7-169">К ним относится хранимая процедура **sp_send_dbmail** и структуры данных, содержащие сведения о сообщениях.</span><span class="sxs-lookup"><span data-stu-id="60bb7-169">These objects include the **sp_send_dbmail** stored procedure and the data structures that hold information about messages.</span></span>  
  
-   <span data-ttu-id="60bb7-170">Исполняемый файл компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-170">Database Mail executable</span></span>  
  
     <span data-ttu-id="60bb7-171">Исполняемый файл компонента Database Mail является внешней программой, которая считывает из очереди в базе данных **msdb** и отправляет сообщения на серверы электронной почты.</span><span class="sxs-lookup"><span data-stu-id="60bb7-171">The Database Mail executable is an external program that reads from a queue in the **msdb** database and sends messages to e-mail servers.</span></span>  
  
-   <span data-ttu-id="60bb7-172">Компоненты протоколирования и контроля</span><span class="sxs-lookup"><span data-stu-id="60bb7-172">Logging and auditing components</span></span>  
  
     <span data-ttu-id="60bb7-173">Компонент Database Mail записывает данные протоколирования в базу данных **msdb** и в журнал событий приложений [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="60bb7-173">Database Mail records logging information in the **msdb** database and the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows application event log.</span></span>  
  
 <span data-ttu-id="60bb7-174">**Настройка агента на использование компонента Database Mail.**</span><span class="sxs-lookup"><span data-stu-id="60bb7-174">**Configuring Agent to use Database Mail:**</span></span>  
  
 <span data-ttu-id="60bb7-175">Агент SQL Server можно настроить использование компонента Database Mail.</span><span class="sxs-lookup"><span data-stu-id="60bb7-175">SQL Server Agent can be configured to use Database Mail.</span></span> <span data-ttu-id="60bb7-176">Это необходимо для рассылки уведомлений о предупреждениях и автоматических уведомлений о завершении заданий.</span><span class="sxs-lookup"><span data-stu-id="60bb7-176">This is required for alert notifications and automatic notification when a job completes.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="60bb7-177">На отдельных шагах заданий также могут пересылаться электронные сообщения, при этом настройка агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на использование компонента Database Mail не требуется.</span><span class="sxs-lookup"><span data-stu-id="60bb7-177">Individual job steps within a job can also send e-mail without configuring [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent to use Database Mail.</span></span> <span data-ttu-id="60bb7-178">Например, на шаге задания на языке [!INCLUDE[tsql](../../../includes/tsql-md.md)] компонент Database Mail может использоваться для пересылки результатов запроса списку получателей.</span><span class="sxs-lookup"><span data-stu-id="60bb7-178">For example, a [!INCLUDE[tsql](../../../includes/tsql-md.md)] job step can use Database Mail to send the results of a query to a list of recipients.</span></span>  
  
 <span data-ttu-id="60bb7-179">Агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может быть настроен на пересылку сообщений электронной почты заранее заданным операторам, если</span><span class="sxs-lookup"><span data-stu-id="60bb7-179">You can configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent to send e-mail messages to predefined operators when:</span></span>  
  
-   <span data-ttu-id="60bb7-180">Создается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="60bb7-180">An alert is triggered.</span></span> <span data-ttu-id="60bb7-181">Предупреждения могут быть настроены таким образом, чтобы при возникновении определенных событий по электронной почте посылались уведомления.</span><span class="sxs-lookup"><span data-stu-id="60bb7-181">Alerts can be configured to send e-mail notification of specific events that occur.</span></span> <span data-ttu-id="60bb7-182">Например, предупреждения могут быть настроены на уведомление оператора о возникновении в базе данных определенного события или о формировании в операционной системе условий, которые требуют немедленных действий.</span><span class="sxs-lookup"><span data-stu-id="60bb7-182">For example, alerts can be configured to notify an operator of a particular database event or operating system condition that may need immediate action.</span></span> <span data-ttu-id="60bb7-183">Дополнительные сведения о настройке предупреждений см. в разделе [Предупреждения](../../ssms/agent/alerts.md).</span><span class="sxs-lookup"><span data-stu-id="60bb7-183">For more information about configuring alerts, see [Alerts](../../ssms/agent/alerts.md).</span></span>  
  
-   <span data-ttu-id="60bb7-184">Запланированная задача, например резервное копирование базы данных или репликация, выполнена удачно или с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="60bb7-184">A scheduled task, such as a database backup or replication event, succeeds or fails.</span></span> <span data-ttu-id="60bb7-185">Например, почта агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может использоваться для уведомления операторов о возникновении ошибки во время обработки в конце месяца.</span><span class="sxs-lookup"><span data-stu-id="60bb7-185">For example, you can use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent Mail to notify operators if an error occurs during processing at the end of a month.</span></span>  
  
 
  
##  <a name="database-mail-component-topics"></a><a name="RelatedContent"></a> <span data-ttu-id="60bb7-186">Руководства по компоненту Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-186">Database Mail Component Topics</span></span>  
  
-   [<span data-ttu-id="60bb7-187">Объекты конфигурации компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-187">Database Mail Configuration Objects</span></span>](database-mail-configuration-objects.md)  
  
-   [<span data-ttu-id="60bb7-188">Объекты обмена сообщениями компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-188">Database Mail Messaging Objects</span></span>](database-mail-messaging-objects.md)  
  
-   [<span data-ttu-id="60bb7-189">Внешняя программа компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-189">Database Mail External Program</span></span>](database-mail-external-program.md)  
  
-   [<span data-ttu-id="60bb7-190">Ведение журнала и аудит компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-190">Database Mail Log and Audits</span></span>](database-mail-log-and-audits.md)  
  
-   [<span data-ttu-id="60bb7-191">Настройка почты агента SQL Server на использование компонента Database Mail</span><span class="sxs-lookup"><span data-stu-id="60bb7-191">Configure SQL Server Agent Mail to Use Database Mail</span></span>](configure-sql-server-agent-mail-to-use-database-mail.md)  
  

  
  

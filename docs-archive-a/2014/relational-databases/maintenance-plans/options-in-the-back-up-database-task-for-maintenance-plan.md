---
title: Задача "Резервное копирование базы данных" (план обслуживания) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql12.swb.maint.backup.f1
- sql12.swb.maint.maintplanproperties.logbackup.f1
helpviewer_keywords:
- Back Up Database Task dialog box
ms.assetid: ed1ef012-fa14-4ba5-bafe-d1527ba065b3
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 952730f09deeede360dff5e2bd83f8cdc8a20a67
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658236"
---
# <a name="back-up-database-task-maintenance-plan"></a>Задача «Резервное копирование базы данных» (план обслуживания)
  Используйте диалоговое окно **Задача «Резервное копирование базы данных»** , чтобы добавить задачу резервного копирования в план обслуживания. Резервное копирование баз данных важно на случай системного или аппаратного сбоя (или ошибок пользователя), которые приводят к повреждению базы данных, в таком случае база данных восстанавливается из резервной копии. Эта задача позволяет выполнять полное и разностное резервное копирование, резервное копирование файлов, файловых групп и журналов транзакций.  
  
 **Создание задачи резервного копирования базы данных**  
  
-   [Создание плана обслуживания](create-a-maintenance-plan.md)  
  
## <a name="options"></a>Параметры  
 **Соединение**  
 Выберите соединение с сервером, которое будет использоваться для выполнения этой задачи.  
  
 **Создать**  
 Создать новое соединение с сервером для его использования при выполнении этой задачи. Диалоговое окно **Создание соединения** описано ниже.  
  
 **Базы данных**  
 Укажите базы данных, для которых должна выполняться эта задача. При выборе этот раскрывающийся список содержит следующие пункты: **Все базы данных**, **Все системные базы данных**, **Все пользовательские базы данных**, **Определенные базы данных**.  
  
 **Все базы данных**  
 Создается план обслуживания, по которому задачи обслуживания выполняются для всех баз данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 **Все системные базы данных (master, msdb, model)**  
 Создается план обслуживания, по которому задачи обслуживания выполняются для всех системных баз данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Для баз данных, созданных пользователями, задачи обслуживания выполняться не будут.  
  
 **Все пользовательские базы данных (кроме master, model, msdb, tempdb)**  
 Создается план обслуживания, по которому задачи обслуживания выполняются для всех баз данных, созданных пользователем. Для системных баз данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] задачи обслуживания выполняться не будут.  
  
 **Следующие базы данных**  
 Создается план обслуживания, по которому задачи обслуживания должны выполняться только для указанных баз данных. Если выбран этот параметр, необходимо выбрать в списке хотя бы одну базу данных.  
  
 **Тип резервного копирования**  
 Отображает тип резервной копии, которая будет создана.  
  
 **Компонент резервного копирования**  
 Выберите **База данных** для создания резервной копии всей базы данных. Выберите **Файл и файловые группы** для создания резервной копии части базы данных. При выборе этого значения укажите имя файла или файловой группы. Если в окне **Базы данных** выбрано несколько баз данных, то в области **Компонент резервного копирования** выберите только **Базы данных**. Для резервного копирования файлов или файловых групп создайте задачу для каждой базы данных.  
  
 **Срок действия резервного набора данных истекает**  
 Укажите, когда резервный набор данных можно переписать другим резервным набором данных.  
  
 **Создать резервную копию на**  
 Создает резервную копию базы данных в файле или на ленте. Доступны только ленточные устройства, подключенные к компьютеру, на котором находится база данных.  
  
 **Создать резервную копию базы данных в одном или нескольких файлах**  
 Нажмите кнопку **Добавить** для открытия диалогового окна **Выбор места расположения резервной копии** и укажите одно или несколько мест на диске или ленточных устройств.  
  
 **Если файлы резервной копии существуют**  
 Выберите **Присоединить** , чтобы добавить эту резервную копию в конец файла. Выберите **Перезаписать**, чтобы удалить любые устаревшие резервные копии в файле и заменить их создаваемой новой резервной копией.  
  
 **Создать файл резервной копии для каждой базы данных**  
 Создавать файл резервной копии в расположении, указанном в соответствующем окне папки. Для каждой выбранной базы данных будет создан один файл.  
  
 **Создавать вложенный каталог для каждой базы данных**  
 Установите, чтобы поместить каждую базу данных в собственную вложенную папку.  
  
> [!IMPORTANT]  
>  Хотя планы обслуживания могут создавать вложенные каталоги, задачи обслуживания не могут их удалять. Это снижает вероятность того, что злоумышленник сможет удалить файлы с помощью задачи «Очистка после обслуживания».  
  
> [!IMPORTANT]  
>  Подкаталог наследует разрешения от родительского каталога. Ограничьте разрешения для предотвращения несанкционированного доступа.  
  
 **Папка**  
 Укажите папку, в которой будут автоматически создаваться файлы баз данных.  
  
 **Расширение файла резервной копии**  
 Укажите расширение, которое должно использоваться для файлов резервных копий. Значение по умолчанию — **BAK**.  
  
 **Проверять целостность резервной копии**  
 Проверка полноты резервного набора данных и читаемости всех томов.  
  
 **Создать резервную копию заключительного фрагмента журнала и оставить базу данных в состоянии восстановления**  
 Создайте резервную копию журналов в самом конце перед восстановлением базы данных. Дополнительные сведения см. в статье [Резервные копии заключительного фрагмента журнала (SQL Server)](../backup-restore/tail-log-backups-sql-server.md).  
  
 **Установка сжатия резервной копии**  
 В выпуске [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (или более поздней версии) выберите одно из следующих значений параметра [backup compression](../backup-restore/backup-compression-sql-server.md) :  
  
|||  
|-|-|  
|**Использовать параметр сервера по умолчанию**|Щелкните для использования настроек уровня сервера, установленных по умолчанию.<br /><br /> Значения по умолчанию устанавливаются в параметре конфигурации сервера **backup compression default** . Сведения о том, как просмотреть текущую настройку этого параметра, см. в разделе [Параметр конфигурации сервера "Просмотр или настройка параметра сжатия резервных копий по умолчанию"](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md).|  
|**Сжимать резервные копии**|Щелкните для сжатия резервной копии, независимо от уровня сервера по умолчанию.<br /><br /> **\*\* Важно! \*\*** По умолчанию сжатие существенно повышает загрузку ЦП. Дополнительная нагрузка на ЦП может помешать выполнению параллельных операций. Поэтому может потребоваться создать сжатые резервные копии с низким приоритетом в сеансе, для которого использование ЦП ограничивается [регулятором ресурсов](../resource-governor/resource-governor.md). Дополнительные сведения см. ниже в подразделе [Использование регулятора ресурсов для ограничения загрузки ЦП при сжатии резервной копии (Transact-SQL)](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md).|  
|**Не сжимать резервные копии**|Щелкните для создания резервной копии без сжатия, независимо от уровня сервера по умолчанию.|  
  
 **Просмотр T-SQL**  
 Просмотрите инструкции [!INCLUDE[tsql](../../includes/tsql-md.md)] , выполняемые для данной задачи по отношению к серверу, на основе выбранных параметров.  
  
> [!NOTE]  
>  Если количество затронутых объектов велико, построение этого отображения может занять значительное время.  
  
## <a name="new-connection-dialog-box"></a>Диалоговое окно «Создание соединения»  
 **Имя соединения**  
 Введите имя нового соединения.  
  
 **Выберите или введите имя сервера**  
 Выберите сервер для подключения при выполнении этой задачи.  
  
 **Обновить**  
 Обновите список доступных серверов.  
  
 **Введите данные для входа на сервер**  
 Укажите способ проверки подлинности на сервере.  
  
 **Использовать встроенную безопасность Windows**  
 Подключиться к экземпляру компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] c проверкой подлинности Windows.  
  
 **Использовать указанные имя пользователя и пароль**  
 Подключиться к экземпляру компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] с использованием проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Этот параметр недоступен.  
  
 **User name**  
 Укажите имя входа, используемое при проверке подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Этот параметр недоступен.  
  
 **Пароль**  
 Укажите используемый при проверке подлинности пароль. Этот параметр недоступен.  
  
## <a name="see-also"></a>См. также:  
 [BACKUP (Transact-SQL)](/sql/t-sql/statements/backup-transact-sql)  
  
  

---
title: Использование мастера планов обслуживания | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql12.ag.maintwiz.planprop.f1
- sql12.ag.maintwiz.task.f1
- sql12.ag.maintwiz.maintcleanup.f1
- sql12.ag.maintwiz.indexdefrag.f1
- sql12.ag.maintwiz.order.f1
- sql12.ag.maintwiz.histcleanup.f1
- sql12.ag.maintwiz.backuplog.f1
- sql12.ag.maintwiz.progress.f1
- sql12.ag.maintwiz.execagentjob.f1
- sql12.ag.maintwiz.integrity.f1
- sql12.ag.maintwiz.welcome.f1
- sql12.ag.maintwiz.backupdiff.f1
- sql12.ag.maintwiz.server.f1
- sql12.ag.maintwiz.summary.f1
- sql12.ag.maintwiz.backupfull.f1
- sql12.ag.maintwiz.report.f1
- sql12.ag.maintwiz.shrinkdb.f1
- sql12.ag.maintwiz.reindex.f1
- sql12.ag.maintwiz.updatestats.f1
helpviewer_keywords:
- Maintenance Plan Wizard
- Database Maintenance Plan Wizard
- Database Maintenance Plan Wizard, starting
ms.assetid: db65c726-9892-480c-873b-3af29afcee44
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: ac134bbd4c65da4700990b69b09134230e98903f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87656411"
---
# <a name="use-the-maintenance-plan-wizard"></a><span data-ttu-id="48f12-102">Использование мастера планов обслуживания</span><span class="sxs-lookup"><span data-stu-id="48f12-102">Use the Maintenance Plan Wizard</span></span>
  <span data-ttu-id="48f12-103">В этом разделе описывается создание плана обслуживания одного или нескольких серверов с помощью мастера планов обслуживания в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48f12-103">This topic describes how to create a single server or multiserver maintenance plan using the Maintenance Plan Wizard in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="48f12-104">Мастер планов обслуживания создает план обслуживания, который может регулярно выполняться агентом [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48f12-104">The Maintenance Plan Wizard creates a maintenance plan that [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent can run on a regular basis.</span></span> <span data-ttu-id="48f12-105">Это позволяет выполнять различные задачи администрирования базы данных, включая резервное копирование, проверки целостности базы данных или обновление статистики базы данных через указанные интервалы времени.</span><span class="sxs-lookup"><span data-stu-id="48f12-105">This allows you to perform various database administration tasks, including backups, database integrity checks, or database statistics updates, at specified intervals.</span></span>  
  
 <span data-ttu-id="48f12-106">**В этом разделе**</span><span class="sxs-lookup"><span data-stu-id="48f12-106">**In This Topic**</span></span>  
  
-   <span data-ttu-id="48f12-107">**Перед началом работы**</span><span class="sxs-lookup"><span data-stu-id="48f12-107">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="48f12-108">Ограничения</span><span class="sxs-lookup"><span data-stu-id="48f12-108">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="48f12-109">Безопасность</span><span class="sxs-lookup"><span data-stu-id="48f12-109">Security</span></span>](#Security)  
  
-   [<span data-ttu-id="48f12-110">Создание плана обслуживания с помощью мастера планов обслуживания в среде SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="48f12-110">Creating a maintenance plan using the Maintenance Plan Wizard in SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="48f12-111">Перед началом</span><span class="sxs-lookup"><span data-stu-id="48f12-111">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="48f12-112">Ограничения</span><span class="sxs-lookup"><span data-stu-id="48f12-112">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="48f12-113">Для создания многосерверного плана обслуживания необходимо настроить многосерверную среду, содержащую один главный сервер и один или несколько целевых серверов.</span><span class="sxs-lookup"><span data-stu-id="48f12-113">To create a multiserver maintenance plan, a multiserver environment containing one master server and one or more target servers must be configured.</span></span> <span data-ttu-id="48f12-114">План многосерверного обслуживания необходимо создать и хранить на главном сервере.</span><span class="sxs-lookup"><span data-stu-id="48f12-114">Multiserver maintenance plans must be created and maintained on the master server.</span></span> <span data-ttu-id="48f12-115">На целевых серверах эти планы можно просматривать, но нельзя хранить.</span><span class="sxs-lookup"><span data-stu-id="48f12-115">These plans can be viewed, but not maintained, on target servers.</span></span>  
  
-   <span data-ttu-id="48f12-116">Члены ролей **db_ssisadmin** и **dc_admin** могут повышать свои права доступа до **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="48f12-116">Members of the **db_ssisadmin** and **dc_admin** roles may be able to elevate their privileges to **sysadmin**.</span></span> <span data-ttu-id="48f12-117">Такое повышение прав доступа может происходить, поскольку эти роли могут изменять пакеты служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , а эти пакеты могут выполняться [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] при помощи контекста безопасности **sysadmin** агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48f12-117">This elevation of privilege can occur because these roles can modify [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages; these packages can be executed by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the **sysadmin** security context of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span></span> <span data-ttu-id="48f12-118">Чтобы предотвратить такое повышение прав доступа при выполнении планов обслуживания, наборов элементов сбора данных и других пакетов служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , настройте задания агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , запускающие пакеты, на использование учетной записи-посредника с ограниченными правами доступа или добавьте в роли **db_ssisadmin** и **dc_admin** только членов роли **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="48f12-118">To guard against this elevation of privilege when running maintenance plans, data collection sets, and other [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages, configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs that run packages to use a proxy account with limited privileges or only add **sysadmin** members to the **db_ssisadmin** and **dc_admin** roles.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="48f12-119">безопасность</span><span class="sxs-lookup"><span data-stu-id="48f12-119">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="48f12-120">Permissions</span><span class="sxs-lookup"><span data-stu-id="48f12-120">Permissions</span></span>  
 <span data-ttu-id="48f12-121">Для создания планов обслуживания и работы с ними пользователь должен быть членом предопределенной роли сервера **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="48f12-121">To create or manage maintenance plans, you must be a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="48f12-122">В обозревателе объектов узел **Планы обслуживания** отображается только для пользователей, являющихся членами предопределенной роли сервера **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="48f12-122">Object Explorer only displays the **Maintenance Plans** node for users who are members of the **sysadmin** fixed server role.</span></span>  
  
##  <a name="using-maintenance-plan-wizard"></a><a name="SSMSProcedure"></a><span data-ttu-id="48f12-123">Использование мастера планов обслуживания</span><span class="sxs-lookup"><span data-stu-id="48f12-123">Using Maintenance Plan Wizard</span></span>  
  
#### <a name="to-start-the-maintenance-plan-wizard"></a><span data-ttu-id="48f12-124">Запуск мастера планов обслуживания</span><span class="sxs-lookup"><span data-stu-id="48f12-124">To start the Maintenance Plan Wizard</span></span>  
  
1.  <span data-ttu-id="48f12-125">Разверните сервер, где нужно создать план управления.</span><span class="sxs-lookup"><span data-stu-id="48f12-125">Expand the server where you want to create your management plan.</span></span>  
  
2.  <span data-ttu-id="48f12-126">Разверните папку **Управление** .</span><span class="sxs-lookup"><span data-stu-id="48f12-126">Expand the **Management** folder.</span></span>  
  
3.  <span data-ttu-id="48f12-127">Щелкните правой кнопкой мыши папку **Планы обслуживания** и выберите пункт **Мастер планов обслуживания**.</span><span class="sxs-lookup"><span data-stu-id="48f12-127">Right-click the **Maintenance Plans** folder and select **Maintenance Plan Wizard**.</span></span>  
  
4.  <span data-ttu-id="48f12-128">На странице **Мастер планов обслуживания SQL Server** нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-128">On the **SQL Server Maintenance Plan Wizard** page, click **Next**.</span></span>  
  
5.  <span data-ttu-id="48f12-129">На странице **Выбор свойств плана** выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="48f12-129">On the **Select Plan Properties** page:</span></span>  
  
    1.  <span data-ttu-id="48f12-130">В поле **Имя** введите имя создаваемого плана обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-130">In the **Name** box, enter the name of the maintenance plan you are creating.</span></span>  
  
    2.  <span data-ttu-id="48f12-131">В поле **Описание** кратко опишите план обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-131">In the **Description** box, briefly describe your maintenance plan.</span></span>  
  
    3.  <span data-ttu-id="48f12-132">В списке **Выполнить от имени** укажите учетные данные, используемые агентом Microsoft SQL Server при выполнении плана обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-132">In the **Run as** list, specify the credential that Microsoft SQL Server Agent uses when executing the maintenance plan.</span></span>  
  
    4.  <span data-ttu-id="48f12-133">Выберите вариант **Отдельные расписания для каждой задачи** или **Единое расписание для всего плана или без расписания** , чтобы указать повторяющееся расписание плана обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-133">Select either **Separate schedules for each task** or **Single schedule for the entire plan or no schedule** to specify the recurring schedule of the maintenance plan.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="48f12-134">Если выбран вариант **Отдельные расписания для каждой задачи**, необходимо выполнить шаги, приведенные далее в пункте **Д**</span><span class="sxs-lookup"><span data-stu-id="48f12-134">If you select **Separate schedules for each task**, you will need to follow the steps in **e.**</span></span> <span data-ttu-id="48f12-135">, для каждой задачи в плане обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-135">below for each task in your maintenance plan.</span></span>  
  
    5.  <span data-ttu-id="48f12-136">Если выбран вариант **Единое расписание для всего плана или без расписания**, то нажмите кнопку **Изменить**в разделе **Расписание**.</span><span class="sxs-lookup"><span data-stu-id="48f12-136">If you selected **Single schedule for the entire plan or no schedule**, under **Schedule**, click **Change**.</span></span>  
  
        1.  <span data-ttu-id="48f12-137">В диалоговом окне **Создание расписания задания** в поле **Имя** введите имя расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-137">In the **New Job Schedule** dialog box, in the **Name** box, enter the job schedule's name.</span></span>  
  
        2.  <span data-ttu-id="48f12-138">В списке **Тип расписания** выберите тип расписания:</span><span class="sxs-lookup"><span data-stu-id="48f12-138">On the **Schedule type** list, select the type of schedule:</span></span>  
  
            -   <span data-ttu-id="48f12-139">**Запускать автоматически при запуске агента SQL Server**</span><span class="sxs-lookup"><span data-stu-id="48f12-139">**Start automatically when SQL Server Agent starts**</span></span>  
  
            -   <span data-ttu-id="48f12-140">**Запускать при бездействии процессоров**</span><span class="sxs-lookup"><span data-stu-id="48f12-140">**Start whenever the CPUs become idle**</span></span>  
  
            -   <span data-ttu-id="48f12-141">**Повторяющееся**.</span><span class="sxs-lookup"><span data-stu-id="48f12-141">**Recurring**.</span></span> <span data-ttu-id="48f12-142">Это параметр выбирается по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-142">This is the default selection.</span></span>  
  
            -   <span data-ttu-id="48f12-143">**Однократно**</span><span class="sxs-lookup"><span data-stu-id="48f12-143">**One time**</span></span>  
  
        3.  <span data-ttu-id="48f12-144">Установите или снимите флажок **Включен** , чтобы включить или отключить расписание.</span><span class="sxs-lookup"><span data-stu-id="48f12-144">Select or clear the **Enabled** check box to enable or disable the schedule.</span></span>  
  
        4.  <span data-ttu-id="48f12-145">При выборе **Повторяющееся**:</span><span class="sxs-lookup"><span data-stu-id="48f12-145">If you select **Recurring**:</span></span>  
  
            1.  <span data-ttu-id="48f12-146">В разделе **Частота**в списке **Выполняется** укажите частоту выполнения:</span><span class="sxs-lookup"><span data-stu-id="48f12-146">Under **Frequency**, on the **Occurs** list, specify the frequency of occurrence:</span></span>  
  
                -   <span data-ttu-id="48f12-147">При выборе **Ежедневно**в поле **Выполняется каждые** укажите частоту повторного выполнения расписания задания в днях.</span><span class="sxs-lookup"><span data-stu-id="48f12-147">If you select **Daily**, in the **Recurs every** box, enter how often the job schedule repeats in days.</span></span>  
  
                -   <span data-ttu-id="48f12-148">При выборе **Еженедельно**в поле **Выполняется каждые** укажите частоту повторного выполнения расписания задания в неделях.</span><span class="sxs-lookup"><span data-stu-id="48f12-148">If you select **Weekly**, in the **Recurs every** box, enter how often the job schedule repeats in weeks.</span></span> <span data-ttu-id="48f12-149">Выберите день или дни недели, в которые выполняется расписание задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-149">Select the day or days of the week on which the job schedule is run.</span></span>  
  
                -   <span data-ttu-id="48f12-150">При выборе **Ежемесячно**щелкните **День** или **Определенный**.</span><span class="sxs-lookup"><span data-stu-id="48f12-150">If you select **Monthly**, select either **Day** or **The**.</span></span>  
  
                    -   <span data-ttu-id="48f12-151">При выборе **День**введите дату месяца, в которую должно выполняться расписание задания, и укажите частоту повторного выполнения расписания задания в месяцах.</span><span class="sxs-lookup"><span data-stu-id="48f12-151">If you select **Day**, enter both the date of the month you want the job schedule to run and how often the job schedule repeats in months.</span></span> <span data-ttu-id="48f12-152">Например, если требуется, чтобы расписание задания выполнялось 15 числа каждого второго месяца, выберите **День** и введите в первом поле 15 и 2 — во втором поле.</span><span class="sxs-lookup"><span data-stu-id="48f12-152">For example, if you want the job schedule to run on the 15th day of the month every other month, select **Day** and enter "15" in the first box and "2" in the second box.</span></span> <span data-ttu-id="48f12-153">Обратите внимание, что число, введенное во втором поле, не должно превышать 99.</span><span class="sxs-lookup"><span data-stu-id="48f12-153">Please note that the largest number allowed in the second box is "99".</span></span>  
  
                    -   <span data-ttu-id="48f12-154">При выборе **Определенный**выберите определенный день недели в месяце, в котором должно выполняться расписание задания, и укажите частоту повторного выполнения расписания задания в месяцах.</span><span class="sxs-lookup"><span data-stu-id="48f12-154">If you select **The**, select the specific day of the week within the month that you want the job schedule to run and how often the job schedule repeats in months.</span></span> <span data-ttu-id="48f12-155">Например, если требуется, чтобы расписание задания выполнялось в последний день недели каждого второго месяца, выберите **День**, затем **последний** в первом списке и **рабочий день** во втором списке, а потом введите "2" во втором поле.</span><span class="sxs-lookup"><span data-stu-id="48f12-155">For example, if you want the job schedule to run on the last weekday of the month every other month, select **Day**, select **last** from the first list and **weekday** from the second list, and then enter "2" in the last box.</span></span> <span data-ttu-id="48f12-156">Также можно выбрать **первый**, **второй**, **третий** или **четвертый**, а также конкретные дни недели (например: воскресенье или среду) в первых двух списках.</span><span class="sxs-lookup"><span data-stu-id="48f12-156">You can also select **first**, **second**, **third**, or **fourth**, as well as specific weekdays (for example: Sunday or Wednesday) from the first two lists.</span></span> <span data-ttu-id="48f12-157">Обратите внимание, что число, введенное в последнем поле, не должно превышать 99.</span><span class="sxs-lookup"><span data-stu-id="48f12-157">Please note that the largest number allowed in the last box is "99".</span></span>  
  
            2.  <span data-ttu-id="48f12-158">В поле **Сколько раз в день**укажите частоту повторного выполнения расписания задания в день запуска расписания задания:</span><span class="sxs-lookup"><span data-stu-id="48f12-158">Under **Daily frequency**, specify how often the job schedule repeats on the day the job schedule runs:</span></span>  
  
                -   <span data-ttu-id="48f12-159">При выборе **Выполнять раз в**укажите определенное время дня для запуска расписания задания в поле **Выполнять раз в** .</span><span class="sxs-lookup"><span data-stu-id="48f12-159">If you select **Occurs once at**, enter the specific time of day when the job schedule should run in the **Occurs once at** box.</span></span> <span data-ttu-id="48f12-160">Укажите время дня: час, минуту и секунду.</span><span class="sxs-lookup"><span data-stu-id="48f12-160">Enter the hour, minute, and second of the day, as well as AM or PM.</span></span>  
  
                -   <span data-ttu-id="48f12-161">При выборе **Выполняется каждые**укажите частоту выполнения задания в выбранный день в поле **Частота**.</span><span class="sxs-lookup"><span data-stu-id="48f12-161">If you select **Occurs every**, specify how often the job schedule runs during the day chosen under **Frequency**.</span></span> <span data-ttu-id="48f12-162">Например, если требуется, чтобы расписание задания выполнялось каждые 2 часа в день запуска расписания задания, выберите **Выполняется кажд.** , введите "2" в первом поле, а затем выберите в списке **часы**.</span><span class="sxs-lookup"><span data-stu-id="48f12-162">For example, if you want the job schedule to repeat every 2 hours during the day that the job schedule is run, select **Occurs every**, enter "2" in the first box, and then select **hour(s)** from the list.</span></span> <span data-ttu-id="48f12-163">В этом списке также можно выбрать **минуты** и **секунды**.</span><span class="sxs-lookup"><span data-stu-id="48f12-163">From this list you can also select **minute(s)** and **second(s)**.</span></span> <span data-ttu-id="48f12-164">Обратите внимание, что число, введенное в первом поле, не должно превышать 100.</span><span class="sxs-lookup"><span data-stu-id="48f12-164">Please note that the largest number allowed in the first box is "100".</span></span>  
  
                     <span data-ttu-id="48f12-165">В поле **Начинать в** введите время для начала запуска расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-165">In the **Starting at** box, enter the time that the job schedule should start running.</span></span> <span data-ttu-id="48f12-166">В поле **Заканчивать в** введите время для завершения повторного выполнения расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-166">In the **Ending at** box, enter the time that the job schedule should stop repeating.</span></span> <span data-ttu-id="48f12-167">Укажите время дня: час, минуту и секунду.</span><span class="sxs-lookup"><span data-stu-id="48f12-167">Enter the hour, minute, and second of the day, as well as AM or PM.</span></span>  
  
            3.  <span data-ttu-id="48f12-168">В разделе **Длительность**, в области **Дата начала**введите дату начала запуска расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-168">Under **Duration**, in **Start date**, enter the date that you want the job schedule to start running.</span></span> <span data-ttu-id="48f12-169">Выберите **Дата окончания** или **Без даты окончания** , чтобы указать дату завершения выполнения расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-169">Select **End date** or **No end date** to indicate when the job schedule should stop running.</span></span> <span data-ttu-id="48f12-170">При выборе **Дата окончания**введите дату завершения запуска расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-170">If you select **End date**, enter the date that you want to job schedule to stop running.</span></span>  
  
        5.  <span data-ttu-id="48f12-171">При выборе значения **Однократно**в **Однократное выполнение**в поле **Дата** введите дату запуска расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-171">If you select **One Time**, under **One-time occurrence**, in the **Date** box, enter the date that the job schedule will be run.</span></span> <span data-ttu-id="48f12-172">В поле **Время** введите время запуска расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-172">In the **Time** box, enter the time that the job schedule will be run.</span></span> <span data-ttu-id="48f12-173">Укажите время дня: час, минуту и секунду.</span><span class="sxs-lookup"><span data-stu-id="48f12-173">Enter the hour, minute, and second of the day, as well as AM or PM.</span></span>  
  
        6.  <span data-ttu-id="48f12-174">В разделе **Сводка**в **Описание**проверьте правильность всех параметров расписания задания.</span><span class="sxs-lookup"><span data-stu-id="48f12-174">Under **Summary**, in **Description**, verify that all job schedule settings are correct.</span></span>  
  
        7.  <span data-ttu-id="48f12-175">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="48f12-175">Click **OK**.</span></span>  
  
    6.  <span data-ttu-id="48f12-176">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-176">Click **Next**.</span></span>  
  
6.  <span data-ttu-id="48f12-177">На странице **Выбор целевых серверов** выберите серверы, на которых необходимо запустить план обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-177">On the **Select Target Servers** page, select the servers where you want to run the maintenance plan.</span></span> <span data-ttu-id="48f12-178">Эта страница видна только на экземплярах [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , сконфигурированных как главный сервер.</span><span class="sxs-lookup"><span data-stu-id="48f12-178">This page is only visible on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instances that are configured as master servers.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="48f12-179">Чтобы создать многосерверный план обслуживания, необходимо настроить многосерверную среду, содержащую один главный сервер и один или несколько целевых серверов, при этом локальный сервер должен быть настроен в качестве главного.</span><span class="sxs-lookup"><span data-stu-id="48f12-179">To create a multiserver maintenance plan, a multiserver environment containing one master server and one or more target servers must be configured, and the local server should be configured as a master server.</span></span> <span data-ttu-id="48f12-180">В многосерверной среде на этой странице отображается **(локальный)** главный сервер и все соответствующие целевые серверы.</span><span class="sxs-lookup"><span data-stu-id="48f12-180">In multiserver environments, this page displays the **(local)** master server and all corresponding target servers.</span></span>  
  
7.  <span data-ttu-id="48f12-181">На странице **Выбор задач по обслуживанию** выберите одну или несколько задач обслуживания для добавления к плану.</span><span class="sxs-lookup"><span data-stu-id="48f12-181">On the **Select Maintenance Tasks** page, select one or more maintenance tasks to add to the plan.</span></span> <span data-ttu-id="48f12-182">После выбора всех необходимых задач нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-182">When you have selected all of the necessary tasks, click **Next**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="48f12-183">Выбранные здесь задачи определяют, параметры на каких страницах понадобится заполнить после страницы **Выбор порядка задач по обслуживанию**.</span><span class="sxs-lookup"><span data-stu-id="48f12-183">The tasks you select here will determine which pages you will need to complete after the **Select Maintenance Task Order** page below.</span></span>  
  
8.  <span data-ttu-id="48f12-184">На странице **Выбор порядка задач по обслуживанию** выберите задачу и измените ее порядок выполнения кнопками **Вверх...** и **Вниз...** .</span><span class="sxs-lookup"><span data-stu-id="48f12-184">On the **Select Maintenance Task Order** page, select a task and click either **Move Up...** or **Move Down...** to change its order of execution.</span></span> <span data-ttu-id="48f12-185">После определения порядка задач нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-185">When finished, or if you are satisfied with the current order of tasks, click **Next**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="48f12-186">Если выбран вариант **Отдельные расписания для каждой задачи** на странице **Выбор свойств плана**, то изменение порядка задач по обслуживанию невозможно.</span><span class="sxs-lookup"><span data-stu-id="48f12-186">If you selected **Separate schedules for each task** on the **Select Plan Properties** page above, you will not be able to change the order of the maintenance tasks on this page.</span></span>  
  
#### <a name="define-database-check-integrity-checkdb-tasks"></a><span data-ttu-id="48f12-187">Определение задач по проверке целостности базы данных (CHECKDB)</span><span class="sxs-lookup"><span data-stu-id="48f12-187">Define Database Check Integrity (CHECKDB) Tasks</span></span>  
  
1.  <span data-ttu-id="48f12-188">На странице **Определение задачи по проверке целостности базы данных** выберите базы данных, в которых будут проверяться размещение и структурная целостность пользовательских и системных таблиц и индексов.</span><span class="sxs-lookup"><span data-stu-id="48f12-188">On the **Define Database Check Integrity Task** page, choose the database or databases where the allocation and structural integrity of user and system tables and indexes will be checked.</span></span> <span data-ttu-id="48f12-189">Выполнение инструкции `DBCC CHECKDB`[!INCLUDE[tsql](../../includes/tsql-md.md)] в этой задаче гарантирует обнаружение всех проблем целостности с базой данных, что позволяет системному администратору или владельцу базы данных устранить проблемы позднее.</span><span class="sxs-lookup"><span data-stu-id="48f12-189">By running the `DBCC CHECKDB`[!INCLUDE[tsql](../../includes/tsql-md.md)] statement, this task ensures that any integrity problems with the database are reported, thereby allowing them to be addressed later by a system administrator or database owner.</span></span> <span data-ttu-id="48f12-190">Дополнительные сведения см. в разделе [DBCC CHECKDB (Transact-SQL).](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql)По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-190">For more information, see [DBCC CHECKDB &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql)When complete, click **Next**.</span></span>  
  
     <span data-ttu-id="48f12-191">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-191">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-192">Список**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-192">**Databases** list</span></span>  
     <span data-ttu-id="48f12-193">Укажите базы данных, для которых должна выполняться эта задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-193">Specify the databases affected by this task.</span></span>  
  
    -   <span data-ttu-id="48f12-194">**Все базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-194">**All databases**</span></span>  
  
         <span data-ttu-id="48f12-195">Создайте план обслуживания, который запускает эту задачу для всех баз данных [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], за исключением **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="48f12-195">Generate a maintenance plan that runs this task against all [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases except **tempdb**.</span></span>  
  
    -   <span data-ttu-id="48f12-196">**Системные базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-196">**System databases**</span></span>  
  
         <span data-ttu-id="48f12-197">Создайте план обслуживания, который запускает эту задачу для системных баз данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , за исключением **tempdb** и созданных пользователем баз.</span><span class="sxs-lookup"><span data-stu-id="48f12-197">Generate a maintenance plan that runs this task against [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system databases except **tempdb** and user-created databases.</span></span>  
  
    -   <span data-ttu-id="48f12-198">**Все пользовательские базы данных (кроме master, model, msdb, tempdb)**</span><span class="sxs-lookup"><span data-stu-id="48f12-198">**All user databases (excluding master, model, msdb, tempdb)**</span></span>  
  
         <span data-ttu-id="48f12-199">Создать план обслуживания, который производит запуск этой задачи по отношению ко всем базам данных, созданных пользователем.</span><span class="sxs-lookup"><span data-stu-id="48f12-199">Generate a maintenance plan that runs this task against all user-created databases.</span></span> <span data-ttu-id="48f12-200">Для системных баз данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] задачи обслуживания выполняться не будут.</span><span class="sxs-lookup"><span data-stu-id="48f12-200">No maintenance tasks are run against the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system databases.</span></span>  
  
    -   <span data-ttu-id="48f12-201">**Следующие базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-201">**These databases**</span></span>  
  
         <span data-ttu-id="48f12-202">Создать план обслуживания, который производит запуск этой задачи по отношению только к выбранным базам данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-202">Generate a maintenance plan that runs this task against only those databases that are selected.</span></span> <span data-ttu-id="48f12-203">Если выбран этот параметр, необходимо выбрать в списке хотя бы одну базу данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-203">At least one database in the list must be selected if this option is chosen.</span></span>  
  
     <span data-ttu-id="48f12-204">Флажок**Включить индексы**</span><span class="sxs-lookup"><span data-stu-id="48f12-204">**Include indexes** check box</span></span>  
     <span data-ttu-id="48f12-205">Проверка целостности всех страниц индекса, а также табличных страниц данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-205">Check the integrity of all the index pages as well as the table data pages.</span></span>  
  
#### <a name="define-database-shrink-tasks"></a><span data-ttu-id="48f12-206">Определение задач по сжатию базы данных</span><span class="sxs-lookup"><span data-stu-id="48f12-206">Define Database Shrink Tasks</span></span>  
  
1.  <span data-ttu-id="48f12-207">На странице **Определение задачи «Сжатие базы данных»** создайте задачу, которая уменьшает размер выбранных баз данных, используя инструкцию `DBCC SHRINKDATABASE` с параметром `NOTRUNCATE` или `TRUNCATEONLY` .</span><span class="sxs-lookup"><span data-stu-id="48f12-207">On the **Define Shrink Database Task** page, create a task that attempts to reduce the size of the selected databases by using the `DBCC SHRINKDATABASE` statement, with either the `NOTRUNCATE` or `TRUNCATEONLY` option.</span></span> <span data-ttu-id="48f12-208">Дополнительные сведения см. в разделе [DBCC SHRINKDATABASE (Transact-SQL)](/sql/t-sql/database-console-commands/dbcc-shrinkdatabase-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48f12-208">For more information, see [DBCC SHRINKDATABASE &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-shrinkdatabase-transact-sql).</span></span> <span data-ttu-id="48f12-209">После завершения нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-209">When complete, click **Next**.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="48f12-210">Данные, перемещаемые в процессе сжатия файла, могут быть разбросаны по любым доступным местам в файле.</span><span class="sxs-lookup"><span data-stu-id="48f12-210">Data that is moved to shrink a file can be scattered to any available location in the file.</span></span> <span data-ttu-id="48f12-211">Это вызывает фрагментацию индекса и может увеличить время выполнения запросов, выполняющих поиск в диапазоне индекса.</span><span class="sxs-lookup"><span data-stu-id="48f12-211">This causes index fragmentation and can slow the performance of queries that search a range of the index.</span></span> <span data-ttu-id="48f12-212">Чтобы устранить фрагментацию, предусмотрите возможность перестроения индексов файла после сжатия.</span><span class="sxs-lookup"><span data-stu-id="48f12-212">To eliminate the fragmentation, consider rebuilding the indexes on the file after shrinking.</span></span>  
  
     <span data-ttu-id="48f12-213">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-213">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-214">Список**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-214">**Databases** list</span></span>  
     <span data-ttu-id="48f12-215">Укажите базы данных, для которых должна выполняться эта задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-215">Specify the databases affected by this task.</span></span> <span data-ttu-id="48f12-216">Дополнительные сведения о параметрах, доступных в этом списке, см. выше в шаге 9.</span><span class="sxs-lookup"><span data-stu-id="48f12-216">See step 9, above, for more information on the available options on this list.</span></span>  
  
     <span data-ttu-id="48f12-217">Поле**Сжать базу данных при превышении ею размера**</span><span class="sxs-lookup"><span data-stu-id="48f12-217">**Shrink database when it grows beyond** box</span></span>  
     <span data-ttu-id="48f12-218">Укажите размер в мегабайтах, по достижении которого будет выполняться задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-218">Specify the size in megabytes that causes the task to execute.</span></span>  
  
     <span data-ttu-id="48f12-219">Поле**Объем свободного места после сжатия**</span><span class="sxs-lookup"><span data-stu-id="48f12-219">**Amount of free space to remain after shrink** box</span></span>  
     <span data-ttu-id="48f12-220">Сжатия останавливается, когда свободное место в файлах базы данных достигает этого объема (в процентах).</span><span class="sxs-lookup"><span data-stu-id="48f12-220">Stop shrinking when free space in database files reaches this size (as a percentage).</span></span>  
  
     <span data-ttu-id="48f12-221">**Удерживать свободное место в файлах базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-221">**Retain freed space in database files**</span></span>  
     <span data-ttu-id="48f12-222">База данных сжимается до состояния непрерывных страниц, но страницы не освобождаются, и файлы базы данных не сжимаются.</span><span class="sxs-lookup"><span data-stu-id="48f12-222">The database is condensed to contiguous pages but the pages are not deallocated, and the database files do not shrink.</span></span> <span data-ttu-id="48f12-223">С помощью этого параметра можно предусмотреть ситуацию, когда в будущем ожидается повторное увеличение базы данных, и поэтому не нужно перераспределять пространство.</span><span class="sxs-lookup"><span data-stu-id="48f12-223">Use this option if you expect the database to expand again, and you do not want to reallocate space.</span></span> <span data-ttu-id="48f12-224">Этот параметр не позволяет достичь максимальной степени сжатия файлов базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-224">With this option, the database files do not shrink as much as possible.</span></span> <span data-ttu-id="48f12-225">В этом случае используется параметр NOTRUNCATE.</span><span class="sxs-lookup"><span data-stu-id="48f12-225">This uses the NOTRUNCATE option.</span></span>  
  
     <span data-ttu-id="48f12-226">**Возвращать освободившееся место в операционную систему**</span><span class="sxs-lookup"><span data-stu-id="48f12-226">**Return freed space to operating system**</span></span>  
     <span data-ttu-id="48f12-227">База данных сжимается до состояния непрерывных страниц, и страницы возвращаются обратно в операционную систему, где они могут использоваться другими программами.</span><span class="sxs-lookup"><span data-stu-id="48f12-227">The database is condensed to contiguous pages and the pages are released back to the operating system for use by other programs.</span></span> <span data-ttu-id="48f12-228">Файлы этой базы данных максимально сжимаются.</span><span class="sxs-lookup"><span data-stu-id="48f12-228">This database files shrink as much as possible.</span></span> <span data-ttu-id="48f12-229">В этом случае используется параметр TRUNCATEONLY.</span><span class="sxs-lookup"><span data-stu-id="48f12-229">This uses the TRUNCATEONLY option.</span></span> <span data-ttu-id="48f12-230">Это параметр по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-230">This is the default option.</span></span>  
  
#### <a name="define-the-index-tasks"></a><span data-ttu-id="48f12-231">Определение задач индекса</span><span class="sxs-lookup"><span data-stu-id="48f12-231">Define the Index Tasks</span></span>  
  
1.  <span data-ttu-id="48f12-232">На странице **Определение задачи «Реорганизация индекса»** выберите серверы, на которые будут перемещаться страницы индекса для более эффективного порядка поиска.</span><span class="sxs-lookup"><span data-stu-id="48f12-232">On the **Define Reorganize Index Task** page, select the server or servers where you'll be moving index pages into a more efficient search order.</span></span> <span data-ttu-id="48f12-233">Эта задача использует инструкцию `ALTER INDEX ... REORGANIZE`.</span><span class="sxs-lookup"><span data-stu-id="48f12-233">This task uses the `ALTER INDEX ... REORGANIZE` statement.</span></span> <span data-ttu-id="48f12-234">Дополнительные сведения см. в разделе [ALTER INDEX (Transact-SQL)](/sql/t-sql/statements/alter-index-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48f12-234">For more information, see [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql).</span></span> <span data-ttu-id="48f12-235">После завершения нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-235">When complete, click **Next**.</span></span>  
  
     <span data-ttu-id="48f12-236">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-236">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-237">Список**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-237">**Databases** list</span></span>  
     <span data-ttu-id="48f12-238">Укажите базы данных, для которых должна выполняться эта задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-238">Specify the databases affected by this task.</span></span> <span data-ttu-id="48f12-239">Дополнительные сведения о параметрах, доступных в этом списке, см. выше в шаге 9.</span><span class="sxs-lookup"><span data-stu-id="48f12-239">See step 9, above, for more information on the available options on this list.</span></span>  
  
     <span data-ttu-id="48f12-240">Список**Объект**</span><span class="sxs-lookup"><span data-stu-id="48f12-240">**Object** list</span></span>  
     <span data-ttu-id="48f12-241">В списке **Выбор** можно отображать только таблицы, только представления или таблицы и представления.</span><span class="sxs-lookup"><span data-stu-id="48f12-241">Limit the **Selection** list to display tables, views, or both.</span></span> <span data-ttu-id="48f12-242">Этот список доступен, если в списке **База данных** выше выбрана только одна база данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-242">This list is only available if a single database is chosen from the **Databases** list above.</span></span>  
  
     <span data-ttu-id="48f12-243">Список**Выбор**</span><span class="sxs-lookup"><span data-stu-id="48f12-243">**Selection** list</span></span>  
     <span data-ttu-id="48f12-244">Укажите таблицы или индексы, которые должны обрабатываться этой задачей.</span><span class="sxs-lookup"><span data-stu-id="48f12-244">Specify the tables or indexes affected by this task.</span></span> <span data-ttu-id="48f12-245">Недоступно, если в диалоговом окне «Объект» выбран тип **Таблицы и представления** .</span><span class="sxs-lookup"><span data-stu-id="48f12-245">Not available when **Tables and Views** is selected in the Object box.</span></span>  
  
     <span data-ttu-id="48f12-246">Флажок**Сжимать большие объекты**</span><span class="sxs-lookup"><span data-stu-id="48f12-246">**Compact large objects** check box</span></span>  
     <span data-ttu-id="48f12-247">По возможности освобождается пространство для таблиц и представлений.</span><span class="sxs-lookup"><span data-stu-id="48f12-247">Deallocate space for tables and views when possible.</span></span> <span data-ttu-id="48f12-248">Этот параметр использует инструкцию `ALTER INDEX ... LOB_COMPACTION = ON`.</span><span class="sxs-lookup"><span data-stu-id="48f12-248">This option uses `ALTER INDEX ... LOB_COMPACTION = ON`.</span></span>  
  
2.  <span data-ttu-id="48f12-249">На странице **Определение задачи "Перестроение индекса"** выберите базы данных, в которых будут повторно создаваться несколько индексов.</span><span class="sxs-lookup"><span data-stu-id="48f12-249">On the **Define Rebuild Index Task** page, select the database or databases where you'll be re-creating multiple indexes.</span></span> <span data-ttu-id="48f12-250">Эта задача использует инструкцию `ALTER INDEX ... REBUILD PARTITION`.</span><span class="sxs-lookup"><span data-stu-id="48f12-250">This task uses the `ALTER INDEX ... REBUILD PARTITION` statement.</span></span> <span data-ttu-id="48f12-251">Дополнительные сведения см. в разделе [ALTER INDEX (Transact-SQL)](/sql/t-sql/statements/alter-index-transact-sql). После завершения нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-251">For more information, see [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql).) When complete, click **Next**.</span></span>  
  
     <span data-ttu-id="48f12-252">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-252">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-253">Список**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-253">**Databases** list</span></span>  
     <span data-ttu-id="48f12-254">Укажите базы данных, для которых должна выполняться эта задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-254">Specify the databases affected by this task.</span></span> <span data-ttu-id="48f12-255">Дополнительные сведения о параметрах, доступных в этом списке, см. выше в шаге 9.</span><span class="sxs-lookup"><span data-stu-id="48f12-255">See step 9, above, for more information on the available options on this list.</span></span>  
  
     <span data-ttu-id="48f12-256">Список**Объект**</span><span class="sxs-lookup"><span data-stu-id="48f12-256">**Object** list</span></span>  
     <span data-ttu-id="48f12-257">В списке **Выбор** можно отображать только таблицы, только представления или таблицы и представления.</span><span class="sxs-lookup"><span data-stu-id="48f12-257">Limit the **Selection** list to display tables, views, or both.</span></span> <span data-ttu-id="48f12-258">Этот список доступен, если в списке **База данных** выше выбрана только одна база данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-258">This list is only available if a single database is chosen from the **Databases** list above.</span></span>  
  
     <span data-ttu-id="48f12-259">Список**Выбор**</span><span class="sxs-lookup"><span data-stu-id="48f12-259">**Selection** list</span></span>  
     <span data-ttu-id="48f12-260">Укажите таблицы или индексы, которые должны обрабатываться этой задачей.</span><span class="sxs-lookup"><span data-stu-id="48f12-260">Specify the tables or indexes affected by this task.</span></span> <span data-ttu-id="48f12-261">Недоступно, если в диалоговом окне «Объект» выбран тип **Таблицы и представления** .</span><span class="sxs-lookup"><span data-stu-id="48f12-261">Not available when **Tables and Views** is selected in the Object box.</span></span>  
  
     <span data-ttu-id="48f12-262">Область**Параметры свободного места**</span><span class="sxs-lookup"><span data-stu-id="48f12-262">**Free space options** area</span></span>  
     <span data-ttu-id="48f12-263">Представляет параметры для применения коэффициента заполнения к индексам и таблицам.</span><span class="sxs-lookup"><span data-stu-id="48f12-263">Presents options for applying fill factor to indexes and tables.</span></span>  
  
     <span data-ttu-id="48f12-264">**Свободное пространство по умолчанию на странице**</span><span class="sxs-lookup"><span data-stu-id="48f12-264">**Default free space per page**</span></span>  
     <span data-ttu-id="48f12-265">Реорганизует страницы с использованием объема свободного места по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-265">Reorganizes the pages with the default amount of free space.</span></span> <span data-ttu-id="48f12-266">Индексы таблиц в базе данных будут удалены и созданы повторно с коэффициентом заполнения, указанным при создании индексов.</span><span class="sxs-lookup"><span data-stu-id="48f12-266">This will drop the indexes on the tables in the database and re-create them with the fill factor that was specified when the indexes were created.</span></span> <span data-ttu-id="48f12-267">Это параметр по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-267">This is the default option.</span></span>  
  
     <span data-ttu-id="48f12-268">Поле**Изменить долю свободного места на странице**</span><span class="sxs-lookup"><span data-stu-id="48f12-268">**Change free space per page to** box</span></span>  
     <span data-ttu-id="48f12-269">Удалите индексы таблиц в базе данных и создайте их повторно с новым, автоматически вычисляемым коэффициентом заполнения, резервирующим указанный объем свободного пространства на страницах индекса.</span><span class="sxs-lookup"><span data-stu-id="48f12-269">Drop the indexes on the tables in the database and re-create them with a new, automatically calculated fill factor, thereby reserving the specified amount of free space on the index pages.</span></span> <span data-ttu-id="48f12-270">Чем выше процентное значение, тем больше свободного места резервируется на страницах индекса и тем больше будет размер индекса.</span><span class="sxs-lookup"><span data-stu-id="48f12-270">The higher the percentage, the more free space is reserved on the index pages, and the larger the index grows.</span></span> <span data-ttu-id="48f12-271">Допустимые значения: от 0 до 100.</span><span class="sxs-lookup"><span data-stu-id="48f12-271">Valid values are from 0 through 100.</span></span> <span data-ttu-id="48f12-272">Используется параметр `FILLFACTOR` .</span><span class="sxs-lookup"><span data-stu-id="48f12-272">Uses the `FILLFACTOR` option.</span></span>  
  
     <span data-ttu-id="48f12-273">Область**Дополнительные параметры**</span><span class="sxs-lookup"><span data-stu-id="48f12-273">**Advanced options** area</span></span>  
     <span data-ttu-id="48f12-274">Представляет дополнительные параметры для сортировки индексов и повторного индексирования.</span><span class="sxs-lookup"><span data-stu-id="48f12-274">Presents additional options for sorting indexes and reindexing.</span></span>  
  
     <span data-ttu-id="48f12-275">Флажок**Сортировать результаты в tempdb**</span><span class="sxs-lookup"><span data-stu-id="48f12-275">**Sort results in tempdb** check box</span></span>  
     <span data-ttu-id="48f12-276">Использует параметр `SORT_IN_TEMPDB` , определяющий место временного хранения промежуточных результатов сортировки, сформированных при создании индекса.</span><span class="sxs-lookup"><span data-stu-id="48f12-276">Uses the `SORT_IN_TEMPDB` option which determines where the intermediate sort results, generated during index creation, are temporarily stored.</span></span> <span data-ttu-id="48f12-277">Если операция сортировки не требуется или сортировка может быть выполнена в памяти, параметр `SORT_IN_TEMPDB` не обрабатывается.</span><span class="sxs-lookup"><span data-stu-id="48f12-277">If a sort operation is not required, or if the sort can be performed in memory, the `SORT_IN_TEMPDB` option is ignored.</span></span>  
  
     <span data-ttu-id="48f12-278">Флажок**Сохранять индекс в режиме "в сети" в процессе переиндексирования**</span><span class="sxs-lookup"><span data-stu-id="48f12-278">**Keep index online while reindexing** check box</span></span>  
     <span data-ttu-id="48f12-279">Использует параметр `ONLINE` , который дает пользователям возможность получать доступ к базовой таблице или данным кластеризованного индекса, а также к любым, связанным с ними некластеризованным индексам при операциях с индексами.</span><span class="sxs-lookup"><span data-stu-id="48f12-279">Uses the `ONLINE` option which allows users to access the underlying table or clustered index data and any associated nonclustered indexes during index operations.</span></span> <span data-ttu-id="48f12-280">При выборе этого параметра активируются другие параметры для перестроения индексов, которые не допускают перестроения в режиме "в сети": **Не перестраивать индексы** и **Перестроение индекса в автономном режиме**.</span><span class="sxs-lookup"><span data-stu-id="48f12-280">Selecting this option activates additional options for rebuilding indexes that do not allow for online rebuilds: **Do not rebuild indexes** and **Rebuild indexes offline**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="48f12-281">Операции с индексами в сети доступны не во всех выпусках [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48f12-281">Online index operations are not available in every edition of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="48f12-282">Дополнительные сведения см. [в разделе функции, поддерживаемые различными Выпусками SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="48f12-282">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
#### <a name="define-the-update-statistics-task"></a><span data-ttu-id="48f12-283">Определение задачи «Обновление статистики»</span><span class="sxs-lookup"><span data-stu-id="48f12-283">Define the Update Statistics Task</span></span>  
  
1.  <span data-ttu-id="48f12-284">На странице **Определение задачи «Обновление статистики»** определите базы данных, в которых будет обновляться статистика индекса и таблицы.</span><span class="sxs-lookup"><span data-stu-id="48f12-284">On the **Define Update Statistics Task** page, define the database or databases on which table and index statistics will be updated.</span></span> <span data-ttu-id="48f12-285">Эта задача использует инструкцию `UPDATE STATISTICS`.</span><span class="sxs-lookup"><span data-stu-id="48f12-285">This task uses the `UPDATE STATISTICS` statement.</span></span> <span data-ttu-id="48f12-286">Дополнительные сведения см. в разделе [UPDATE STATISTICS (Transact-SQL)](/sql/t-sql/statements/update-statistics-transact-sql). По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-286">For more information, see [UPDATE STATISTICS &#40;Transact-SQL&#41;](/sql/t-sql/statements/update-statistics-transact-sql) When finished, click **Next**</span></span>  
  
     <span data-ttu-id="48f12-287">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-287">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-288">Список**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-288">**Databases** list</span></span>  
     <span data-ttu-id="48f12-289">Укажите базы данных, для которых должна выполняться эта задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-289">Specify the databases affected by this task.</span></span> <span data-ttu-id="48f12-290">Дополнительные сведения о параметрах, доступных в этом списке, см. выше в шаге 9.</span><span class="sxs-lookup"><span data-stu-id="48f12-290">See step 9, above, for more information on the available options on this list.</span></span>  
  
     <span data-ttu-id="48f12-291">Список**Объект**</span><span class="sxs-lookup"><span data-stu-id="48f12-291">**Object** list</span></span>  
     <span data-ttu-id="48f12-292">В списке **Выбор** можно отображать только таблицы, только представления или таблицы и представления.</span><span class="sxs-lookup"><span data-stu-id="48f12-292">Limit the **Selection** list to display tables, views, or both.</span></span> <span data-ttu-id="48f12-293">Этот список доступен, если в списке **База данных** выше выбрана только одна база данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-293">This list is only available if a single database is chosen from the **Databases** list above.</span></span>  
  
     <span data-ttu-id="48f12-294">Список**Выбор**</span><span class="sxs-lookup"><span data-stu-id="48f12-294">**Selection** list</span></span>  
     <span data-ttu-id="48f12-295">Укажите таблицы или индексы, которые должны обрабатываться этой задачей.</span><span class="sxs-lookup"><span data-stu-id="48f12-295">Specify the tables or indexes affected by this task.</span></span> <span data-ttu-id="48f12-296">Недоступно, если в диалоговом окне «Объект» выбран тип **Таблицы и представления** .</span><span class="sxs-lookup"><span data-stu-id="48f12-296">Not available when **Tables and Views** is selected in the Object box.</span></span>  
  
     <span data-ttu-id="48f12-297">**Вся собранная статистика**</span><span class="sxs-lookup"><span data-stu-id="48f12-297">**All existing statistics**</span></span>  
     <span data-ttu-id="48f12-298">Обновить статистику столбцов и статистику индексов.</span><span class="sxs-lookup"><span data-stu-id="48f12-298">Update statistics for both columns and indexes.</span></span>  
  
     <span data-ttu-id="48f12-299">**Только статистика по столбцам**</span><span class="sxs-lookup"><span data-stu-id="48f12-299">**Column statistics only**</span></span>  
     <span data-ttu-id="48f12-300">Обновить только статистику столбцов.</span><span class="sxs-lookup"><span data-stu-id="48f12-300">Only update column statistics.</span></span> <span data-ttu-id="48f12-301">Используется параметр `WITH COLUMNS` .</span><span class="sxs-lookup"><span data-stu-id="48f12-301">Uses the `WITH COLUMNS` option.</span></span>  
  
     <span data-ttu-id="48f12-302">**Только статистика индексов**</span><span class="sxs-lookup"><span data-stu-id="48f12-302">**Index statistics only**</span></span>  
     <span data-ttu-id="48f12-303">Обновить только статистику индексов.</span><span class="sxs-lookup"><span data-stu-id="48f12-303">Only update index statistics.</span></span> <span data-ttu-id="48f12-304">Используется параметр `WITH INDEX` .</span><span class="sxs-lookup"><span data-stu-id="48f12-304">Uses the `WITH INDEX` option.</span></span>  
  
     <span data-ttu-id="48f12-305">**Тип просмотра**</span><span class="sxs-lookup"><span data-stu-id="48f12-305">**Scan type**</span></span>  
     <span data-ttu-id="48f12-306">Тип просмотра, который используется для сбора обновленной статистики.</span><span class="sxs-lookup"><span data-stu-id="48f12-306">Type of scan used to gather updated statistics.</span></span>  
  
     <span data-ttu-id="48f12-307">**Полный просмотр**</span><span class="sxs-lookup"><span data-stu-id="48f12-307">**Full scan**</span></span>  
     <span data-ttu-id="48f12-308">Считывает все строки в таблице или представлении для сбора статистики.</span><span class="sxs-lookup"><span data-stu-id="48f12-308">Read all rows in the table or view to gather the statistics.</span></span>  
  
     <span data-ttu-id="48f12-309">**Пример**</span><span class="sxs-lookup"><span data-stu-id="48f12-309">**Sample by**</span></span>  
     <span data-ttu-id="48f12-310">Укажите процент таблицы или индексированного представления либо количество строк для выборки, если статистика собирается для больших таблиц или представлений.</span><span class="sxs-lookup"><span data-stu-id="48f12-310">Specify the percentage of the table or indexed view, or the number of rows to sample when collecting statistics for larger tables or views.</span></span>  
  
#### <a name="define-the-history-cleanup-task"></a><span data-ttu-id="48f12-311">Определение задачи «Очистка журнала»</span><span class="sxs-lookup"><span data-stu-id="48f12-311">Define the History Cleanup Task</span></span>  
  
1.  <span data-ttu-id="48f12-312">На странице **Определение задачи «Очистка журнала»** определите базы данных, в которых нужно удалить журнал задач.</span><span class="sxs-lookup"><span data-stu-id="48f12-312">On the **Define History Cleanup Task** page, define the database or databases where you want to discard old task history.</span></span> <span data-ttu-id="48f12-313">Эта задача использует инструкции `EXEC sp_purge_jobhistory`, `EXEC sp_maintplan_delete_log`и `EXEC sp_delete_backuphistory` для удаления сведений журнала из таблиц **msdb** .</span><span class="sxs-lookup"><span data-stu-id="48f12-313">This task uses the `EXEC sp_purge_jobhistory`, `EXEC sp_maintplan_delete_log`, and `EXEC sp_delete_backuphistory` statements to remove history information from the **msdb** tables.</span></span> <span data-ttu-id="48f12-314">По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-314">When finished, click **Next**.</span></span>  
  
     <span data-ttu-id="48f12-315">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-315">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-316">**Выберите данные журнала для удаления**</span><span class="sxs-lookup"><span data-stu-id="48f12-316">**Select the historical data to delete**</span></span>  
     <span data-ttu-id="48f12-317">Выберите тип удаляемых данных задачи</span><span class="sxs-lookup"><span data-stu-id="48f12-317">Chose the type of task data to delete/</span></span>  
  
     <span data-ttu-id="48f12-318">**Журнал резервного копирования и восстановления**</span><span class="sxs-lookup"><span data-stu-id="48f12-318">**Backup and restore history**</span></span>  
     <span data-ttu-id="48f12-319">Хранение записей о том, когда были созданы последние резервные копии, может помочь [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в создании плана восстановления, когда потребуется восстановить базу данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-319">Retaining records of when recent backups were created can help [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] create a recovery plan when you want to restore a database.</span></span> <span data-ttu-id="48f12-320">Срок хранения должен как минимум соответствовать частоте полных резервных копирований базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-320">The retention period should be at least the frequency of full database backups.</span></span>  
  
     <span data-ttu-id="48f12-321">**Журнал заданий агента SQL Server**</span><span class="sxs-lookup"><span data-stu-id="48f12-321">**SQL Server Agent Job history**</span></span>  
     <span data-ttu-id="48f12-322">Этот журнал может помочь устранить ошибки, возникшие при выполнении заданий, или определить, почему были выполнены операции с базой данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-322">This history can help you troubleshoot failed jobs, or determine why database actions occurred.</span></span>  
  
     <span data-ttu-id="48f12-323">**Журнал плана обслуживания**</span><span class="sxs-lookup"><span data-stu-id="48f12-323">**Maintenance Plan history**</span></span>  
     <span data-ttu-id="48f12-324">Этот журнал может помочь устранить ошибки, возникшие при выполнении заданий плана обслуживания, или определить, почему были выполнены операции с базой данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-324">This history can help you troubleshoot failed maintenance plan jobs, or determine why database actions occurred.</span></span>  
  
     <span data-ttu-id="48f12-325">**Удалить из журнала записи старше**</span><span class="sxs-lookup"><span data-stu-id="48f12-325">**Remove historical data older than**</span></span>  
     <span data-ttu-id="48f12-326">Укажите возраст элементов, которые следует удалить.</span><span class="sxs-lookup"><span data-stu-id="48f12-326">Specify age of items that you want to delete.</span></span> <span data-ttu-id="48f12-327">Можно указать срок в **ч**, **дн.** , **нед.** (по умолчанию), **мес.** или **годах**.</span><span class="sxs-lookup"><span data-stu-id="48f12-327">You can specify **Hour(s)**, **Day(s)**, **Week(s)** (the default), **Month(s)**, or **Year(s)**</span></span>  
  
#### <a name="define-the-execute-agent-job-task"></a><span data-ttu-id="48f12-328">Определение задачи «Выполнение задания агента»</span><span class="sxs-lookup"><span data-stu-id="48f12-328">Define the Execute Agent Job Task</span></span>  
  
1.  <span data-ttu-id="48f12-329">На странице **Определение задачи «Выполнение задания агента»** в разделе **Доступные задания агента SQL Server**выберите задания для выполнения.</span><span class="sxs-lookup"><span data-stu-id="48f12-329">On the **Define Execute Agent Job Task** page, under **Available SQL Server Agent jobs**, choose the job or jobs to run.</span></span> <span data-ttu-id="48f12-330">Этот параметр не будет доступен, если нет заданий агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="48f12-330">This option will not be available if you have no SQL Agent jobs.</span></span> <span data-ttu-id="48f12-331">Эта задача использует инструкцию `EXEC sp_start_job`.</span><span class="sxs-lookup"><span data-stu-id="48f12-331">This task uses the `EXEC sp_start_job` statement.</span></span> <span data-ttu-id="48f12-332">Дополнительные сведения см. в разделе [sp_start_job (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql). По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-332">For more information, see [sp_start_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql)When finished, click **Next**.</span></span>  
  
#### <a name="define-backup-tasks"></a><span data-ttu-id="48f12-333">Определение задач резервного копирования</span><span class="sxs-lookup"><span data-stu-id="48f12-333">Define Backup Tasks</span></span>  
  
1.  <span data-ttu-id="48f12-334">На странице **Определение задачи "Резервное копирование базы данных (полное)"** выберите базы данных, для которых создается полная резервная копия.</span><span class="sxs-lookup"><span data-stu-id="48f12-334">On the **Define Backup Database (Full) Task** page, select the database or databases on which to run a full backup.</span></span> <span data-ttu-id="48f12-335">Эта задача использует инструкцию `BACKUP DATABASE`.</span><span class="sxs-lookup"><span data-stu-id="48f12-335">This task uses the `BACKUP DATABASE` statement.</span></span> <span data-ttu-id="48f12-336">Дополнительные сведения см. в разделе [BACKUP (Transact-SQL)](/sql/t-sql/statements/backup-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48f12-336">For more information, see [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span></span> <span data-ttu-id="48f12-337">По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-337">When finished, click **Next**.</span></span>  
  
     <span data-ttu-id="48f12-338">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-338">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-339">Список**Тип резервного копирования**</span><span class="sxs-lookup"><span data-stu-id="48f12-339">**Backup type** list</span></span>  
     <span data-ttu-id="48f12-340">Отображает тип выполняемой резервной копии.</span><span class="sxs-lookup"><span data-stu-id="48f12-340">Displays the type of backup to be performed.</span></span> <span data-ttu-id="48f12-341">Доступно только для чтения.</span><span class="sxs-lookup"><span data-stu-id="48f12-341">This is read-only.</span></span>  
  
     <span data-ttu-id="48f12-342">Список**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-342">**Databases** list</span></span>  
     <span data-ttu-id="48f12-343">Укажите базы данных, для которых должна выполняться эта задача.</span><span class="sxs-lookup"><span data-stu-id="48f12-343">Specify the databases affected by this task.</span></span> <span data-ttu-id="48f12-344">Дополнительные сведения о параметрах, доступных в этом списке, см. выше в шаге 9.</span><span class="sxs-lookup"><span data-stu-id="48f12-344">See step 9, above, for more information on the available options on this list.</span></span>  
  
     <span data-ttu-id="48f12-345">**Компонент резервного копирования**</span><span class="sxs-lookup"><span data-stu-id="48f12-345">**Backup component**</span></span>  
     <span data-ttu-id="48f12-346">Выберите **База данных** для создания резервной копии всей базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-346">Select **Database** to back up the entire database.</span></span> <span data-ttu-id="48f12-347">Выберите **Файл и файловые группы** для создания резервной копии части базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-347">Select **File and filegroups** to back up only a portion of the database.</span></span> <span data-ttu-id="48f12-348">При выборе этого значения укажите имя файла или файловой группы.</span><span class="sxs-lookup"><span data-stu-id="48f12-348">If selected, provide the file or filegroup name.</span></span> <span data-ttu-id="48f12-349">Если в окне **Базы данных** выбрано несколько баз данных, то в области **Компонент резервного копирования** выберите только **Базы данных**.</span><span class="sxs-lookup"><span data-stu-id="48f12-349">When multiple databases are selected in the **Databases** box, only specify **Databases** for the **Backup components**.</span></span> <span data-ttu-id="48f12-350">Для резервного копирования файлов или файловых групп создайте задачу для каждой базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-350">To perform file or filegroup backups, create a task for each database.</span></span> <span data-ttu-id="48f12-351">Эти параметры доступны, если в списке **База данных** выше выбрана только одна база данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-351">These options are only available if a single database is chosen from the **Databases** list above.</span></span>  
  
     <span data-ttu-id="48f12-352">Флажок**Срок действия резервного набора данных истекает**</span><span class="sxs-lookup"><span data-stu-id="48f12-352">**Backup set will expire** check box</span></span>  
     <span data-ttu-id="48f12-353">Указывает время, по истечении которого резервный набор данных для этой резервной копии может быть перезаписан.</span><span class="sxs-lookup"><span data-stu-id="48f12-353">Specifies when the backup set for this backup can be overwritten.</span></span> <span data-ttu-id="48f12-354">Выберите параметр **После** и введите число дней до истечения срока действия или выберите параметр **Вкл** и укажите дату истечения срока.</span><span class="sxs-lookup"><span data-stu-id="48f12-354">Select **After** and enter a number of days to expiration, or select **On** and enter a date of expiration.</span></span> <span data-ttu-id="48f12-355">Этот параметр будет отключен, если в качества назначения резервного копирования выбран параметр **URL-адрес** .</span><span class="sxs-lookup"><span data-stu-id="48f12-355">This option is disabled if **URL** is selected as the backup destination.</span></span>  
  
     <span data-ttu-id="48f12-356">**Создать резервную копию на**</span><span class="sxs-lookup"><span data-stu-id="48f12-356">**Back up to**</span></span>  
     <span data-ttu-id="48f12-357">Задает носитель, на котором создается резервная копия базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-357">Specifies the medium on which to back up the database.</span></span> <span data-ttu-id="48f12-358">Выберите **Диск**, **Лента**или **URL-адрес**.</span><span class="sxs-lookup"><span data-stu-id="48f12-358">Select **Disk**, **Tape**, or **URL**.</span></span> <span data-ttu-id="48f12-359">Доступны только ленточные устройства, подключенные к компьютеру, на котором находится база данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-359">Only tape devices attached to the computer containing the database are available.</span></span>  
  
     <span data-ttu-id="48f12-360">**Создание резервных копий баз данных в одном или нескольких файлах**</span><span class="sxs-lookup"><span data-stu-id="48f12-360">**Back up database(s) across one or more files**</span></span>  
     <span data-ttu-id="48f12-361">Нажмите кнопку **Добавить** , чтобы открыть диалоговое окно **Выбор места расположения резервной копии** .</span><span class="sxs-lookup"><span data-stu-id="48f12-361">Click **Add** to open the **Select Backup Destination** dialog box.</span></span> <span data-ttu-id="48f12-362">Этот параметр будет отключен, если в качества назначения резервного копирования выбран параметр «URL-адрес».</span><span class="sxs-lookup"><span data-stu-id="48f12-362">This option is disabled if you selected URL as the backup destination.</span></span>  
  
     <span data-ttu-id="48f12-363">Нажмите кнопку **Удалить** , чтобы удалить файл из поля.</span><span class="sxs-lookup"><span data-stu-id="48f12-363">Click **Remove** to remove a file from the box.</span></span>  
  
     <span data-ttu-id="48f12-364">Нажмите кнопку **Содержимое** , чтобы прочитать заголовок файла и отобразить текущее содержимое резервной копии файла.</span><span class="sxs-lookup"><span data-stu-id="48f12-364">Click **Contents** to read the file header and display the current backup contents of the file.</span></span>  
  
     <span data-ttu-id="48f12-365">Диалоговое окно**Выбор места расположения резервной копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-365">**Select Backup Destination** dialog box</span></span>  
     <span data-ttu-id="48f12-366">Выберите файл, ленточный накопитель или устройство резервного копирования в качестве назначения резервной копии.</span><span class="sxs-lookup"><span data-stu-id="48f12-366">Select the file, tape drive, or backup device for the backup destination.</span></span> <span data-ttu-id="48f12-367">Этот параметр будет отключен, если в качества назначения резервного копирования выбран параметр «URL-адрес».</span><span class="sxs-lookup"><span data-stu-id="48f12-367">This option is disabled if you selected URL as the backup destination.</span></span>  
  
     <span data-ttu-id="48f12-368">Список**Если файлы резервной копии существуют**</span><span class="sxs-lookup"><span data-stu-id="48f12-368">**If backup files exist** list</span></span>  
     <span data-ttu-id="48f12-369">Укажите, как обрабатывать существующие резервные копии.</span><span class="sxs-lookup"><span data-stu-id="48f12-369">Specify how to handle existing backups.</span></span> <span data-ttu-id="48f12-370">Выберите пункт **Добавить** для добавления новых резервных копий после уже существующих в файле или на ленте.</span><span class="sxs-lookup"><span data-stu-id="48f12-370">Select **Append** to add the new backups after any existing backups in the file or on the tape.</span></span> <span data-ttu-id="48f12-371">Выберите пункт **Перезаписать** , чтобы удалить старое содержимое из файла или с ленты и записать на его место новую резервную копию.</span><span class="sxs-lookup"><span data-stu-id="48f12-371">Select **Overwrite** to remove the old content of a file or tape, and replace it with this new backup.</span></span>  
  
     <span data-ttu-id="48f12-372">**Создать файл резервной копии для каждой базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-372">**Create a backup file for every database**</span></span>  
     <span data-ttu-id="48f12-373">Создавать файл резервной копии в расположении, указанном в соответствующем окне папки.</span><span class="sxs-lookup"><span data-stu-id="48f12-373">Create a backup file in the location specified in the folder box.</span></span> <span data-ttu-id="48f12-374">Создается один файл для каждой выбранной базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-374">One file is created for each database selected.</span></span> <span data-ttu-id="48f12-375">Этот параметр будет отключен, если в качества назначения резервного копирования выбран параметр «URL-адрес».</span><span class="sxs-lookup"><span data-stu-id="48f12-375">This option is disabled if you selected URL as the backup destination.</span></span>  
  
     <span data-ttu-id="48f12-376">Флажок**Создавать вложенный каталог для каждой базы данных**</span><span class="sxs-lookup"><span data-stu-id="48f12-376">**Create a sub-directory for each database** check box</span></span>  
     <span data-ttu-id="48f12-377">Создать внутри указанного каталога на диске отдельный вложенный каталог для резервной копии каждой базы данных, создаваемой как часть плана обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-377">Create a sub-directory under the specified disk directory that contains the database backup for each database being backed up as part of the maintenance plan.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="48f12-378">Этот вложенный каталог будет наследовать разрешения от родительского.</span><span class="sxs-lookup"><span data-stu-id="48f12-378">The sub-directory will inherit permissions from the parent directory.</span></span> <span data-ttu-id="48f12-379">Ограничьте разрешения для предотвращения несанкционированного доступа.</span><span class="sxs-lookup"><span data-stu-id="48f12-379">Restrict permissions to avoid unauthorized access.</span></span>  
  
     <span data-ttu-id="48f12-380">Поле**Папка**</span><span class="sxs-lookup"><span data-stu-id="48f12-380">**Folder** box</span></span>  
     <span data-ttu-id="48f12-381">Укажите папку, в которой будут автоматически создаваться файлы баз данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-381">Specify the folder to contain the automatically created database files.</span></span> <span data-ttu-id="48f12-382">Этот параметр будет отключен, если в качества назначения резервного копирования выбран параметр «URL-адрес».</span><span class="sxs-lookup"><span data-stu-id="48f12-382">This option is disabled if you selected URL as the backup destination.</span></span>  
  
     <span data-ttu-id="48f12-383">**Учетные данные SQL**</span><span class="sxs-lookup"><span data-stu-id="48f12-383">**SQL Credential**</span></span>  
     <span data-ttu-id="48f12-384">Учетные данные SQL, используемые для проверки подлинности в службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="48f12-384">Select a SQL Credential used to authenticate to Azure Storage.</span></span> <span data-ttu-id="48f12-385">Если у вас нет существующих учетных данных SQL, нажмите кнопку **Создать** , чтобы создать новые учетные данные SQL.</span><span class="sxs-lookup"><span data-stu-id="48f12-385">If you do not have an existing SQL Credential you can use, click the **Create** button to create a new SQL Credential.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="48f12-386">В диалоговом окне, которое открывается при нажатии кнопки **Создать** , необходимо ввести сертификат управления или профиль публикации подписки.</span><span class="sxs-lookup"><span data-stu-id="48f12-386">The dialog that opens when you click **Create** requires a management certificate or the publishing profile for the subscription.</span></span> <span data-ttu-id="48f12-387">Если у вас нет доступа к сертификату управления или профилю публикации, можно создать учетные данные SQL, указав имя учетной записи хранилища и сведения ключа доступа при помощи Transact-SQL или SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="48f12-387">If you do not have access to the management certificate or publishing profile, you can create a SQL Credential by specifying the storage account name and access key information using Transact-SQL or SQL Server Management Studio.</span></span> <span data-ttu-id="48f12-388">См. пример кода в разделе [Создание учетных данных](../security/authentication-access/create-a-credential.md#Credential) для создания учетных данных с помощью TRANSACT-SQL.</span><span class="sxs-lookup"><span data-stu-id="48f12-388">See the sample code in the [To create a credential](../security/authentication-access/create-a-credential.md#Credential) topic to create a credential using Transact-SQL.</span></span> <span data-ttu-id="48f12-389">Также можно в среде SQL Server Management Studio, из экземпляра компонента database engine, щелкнуть правой кнопкой мыши **Безопасность**и выбрать пункт **Создать**, а затем **Учетные данные**.</span><span class="sxs-lookup"><span data-stu-id="48f12-389">Alternatively, using SQL Server Management Studio, from the database engine instance, right click **Security**, select **New**, and select **Credential**.</span></span> <span data-ttu-id="48f12-390">Укажите имя учетной записи хранения в поле **Идентификатор** и ключ доступа в поле **Пароль** .</span><span class="sxs-lookup"><span data-stu-id="48f12-390">Specify the storage account name for **Identity** and the access key in the **Password** field.</span></span>  
  
     <span data-ttu-id="48f12-391">**Контейнер хранилища Azure**</span><span class="sxs-lookup"><span data-stu-id="48f12-391">**Azure storage container**</span></span>  
     <span data-ttu-id="48f12-392">Укажите имя контейнера службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="48f12-392">Specify the name of the Azure storage container</span></span>  
  
     <span data-ttu-id="48f12-393">**Префикс URL-адреса:**</span><span class="sxs-lookup"><span data-stu-id="48f12-393">**URL prefix:**</span></span>  
     <span data-ttu-id="48f12-394">Этот элемент создается автоматически на основе данных учетной записи хранения в учетных данных SQL и заданного имени контейнера Azure.</span><span class="sxs-lookup"><span data-stu-id="48f12-394">This is automatically generated based on the storage account information stored in the SQL Credential, and Azure storage container name you specified.</span></span> <span data-ttu-id="48f12-395">Мы рекомендуем не изменять данные в этом поле, если только не используется домен в формате, отличном от **\<storage account>.blob.core.windows.net**.</span><span class="sxs-lookup"><span data-stu-id="48f12-395">We recommend that you do not edit the information in this field unless you are using a domain that uses a format other than **\<storage account>.blob.core.windows.net**.</span></span>  
  
     <span data-ttu-id="48f12-396">Поле**Расширение файла резервной копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-396">**Backup file extension** box</span></span>  
     <span data-ttu-id="48f12-397">Укажите расширение, которое должно использоваться для файлов резервных копий.</span><span class="sxs-lookup"><span data-stu-id="48f12-397">Specify the extension to use for the backup files.</span></span> <span data-ttu-id="48f12-398">Значение по умолчанию — BAK.</span><span class="sxs-lookup"><span data-stu-id="48f12-398">The default is .bak.</span></span>  
  
     <span data-ttu-id="48f12-399">Флажок**Проверять целостность резервной копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-399">**Verify backup integrity** check box</span></span>  
     <span data-ttu-id="48f12-400">Проверка полноты резервного набора данных и читаемости всех томов.</span><span class="sxs-lookup"><span data-stu-id="48f12-400">Verify that the backup set is complete and that all volumes are readable.</span></span>  
  
     <span data-ttu-id="48f12-401">**Шифрование резервной копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-401">**Backup Encryption**</span></span>  
     <span data-ttu-id="48f12-402">Для создания шифрованной резервной копии установите флажок **Зашифровать файл резервной копии** .</span><span class="sxs-lookup"><span data-stu-id="48f12-402">To create an encrypted backup, check the **Encrypt backup** check box.</span></span> <span data-ttu-id="48f12-403">Выберите алгоритм шифрования для шага шифрования и выберите сертификат или асимметричный ключ из списка существующих сертификатов или асимметричных ключей.</span><span class="sxs-lookup"><span data-stu-id="48f12-403">Select an encryption algorithm to use for the encryption step, and provide a Certificate or Asymmetric key from a list of existing certificates or asymmetric keys.</span></span> <span data-ttu-id="48f12-404">Доступны следующие алгоритмы шифрования:</span><span class="sxs-lookup"><span data-stu-id="48f12-404">The available algorithms for encryption are:</span></span>  
  
    -   <span data-ttu-id="48f12-405">AES 128</span><span class="sxs-lookup"><span data-stu-id="48f12-405">AES 128</span></span>  
  
    -   <span data-ttu-id="48f12-406">AES 192</span><span class="sxs-lookup"><span data-stu-id="48f12-406">AES 192</span></span>  
  
    -   <span data-ttu-id="48f12-407">AES 256</span><span class="sxs-lookup"><span data-stu-id="48f12-407">AES 256</span></span>  
  
    -   <span data-ttu-id="48f12-408">Triple DES</span><span class="sxs-lookup"><span data-stu-id="48f12-408">Triple DES</span></span>  
  
     <span data-ttu-id="48f12-409">Параметр шифрования отключен, если вы решили присоединить резервную копию к существующему резервному набору данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-409">The encryption option is disabled if you selected to append to existing backup set.</span></span>  
  
     <span data-ttu-id="48f12-410">Рекомендуется регулярно создавать резервные копии сертификата или ключей и сохранять их в местоположении, отличном от местоположения шифруемой резервной копии.</span><span class="sxs-lookup"><span data-stu-id="48f12-410">It is recommended practice to back up your certificate or keys and store them in a different location than the backup you encrypted.</span></span>  
  
     <span data-ttu-id="48f12-411">Поддерживаются только ключи, относящиеся к расширенному управлению ключами.</span><span class="sxs-lookup"><span data-stu-id="48f12-411">Only keys residing in the Extensible Key Management (EKM) are supported.</span></span>  
  
     <span data-ttu-id="48f12-412">Список**Сжимать резервные копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-412">**Set backup compression**  list</span></span>  
     <span data-ttu-id="48f12-413">В выпуске [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (или более поздней версии) выберите одно из следующих значений [сжатия резервных копий](../backup-restore/backup-compression-sql-server.md) :</span><span class="sxs-lookup"><span data-stu-id="48f12-413">In [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (or later versions), select one the following [backup compression](../backup-restore/backup-compression-sql-server.md) values:</span></span>  
  
    |||  
    |-|-|  
    |<span data-ttu-id="48f12-414">**Использовать параметр сервера по умолчанию**</span><span class="sxs-lookup"><span data-stu-id="48f12-414">**Use the default server setting**</span></span>|<span data-ttu-id="48f12-415">Щелкните для использования настроек уровня сервера, установленных по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-415">Click to use the server-level default.</span></span> <span data-ttu-id="48f12-416">Значения по умолчанию устанавливаются в параметре конфигурации сервера **backup compression default** .</span><span class="sxs-lookup"><span data-stu-id="48f12-416">This default is set by the **backup compression default** server-configuration option.</span></span> <span data-ttu-id="48f12-417">Сведения о том, как просмотреть текущую настройку этого параметра, см. в разделе [Параметр конфигурации сервера "Просмотр или настройка параметра сжатия резервных копий по умолчанию"](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md).</span><span class="sxs-lookup"><span data-stu-id="48f12-417">For information about how to view the current setting of this option, see [View or Configure the backup compression default Server Configuration Option](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md).</span></span>|  
    |<span data-ttu-id="48f12-418">**Сжимать резервные копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-418">**Compress backup**</span></span>|<span data-ttu-id="48f12-419">Щелкните для сжатия резервной копии, независимо от уровня сервера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-419">Click to compress the backup, regardless of the server-level default.</span></span><br /><br /> <span data-ttu-id="48f12-420">**\*\* Важно! \*\*** По умолчанию сжатие существенно повышает загрузку ЦП. Дополнительная нагрузка на ЦП может помешать выполнению параллельных операций.</span><span class="sxs-lookup"><span data-stu-id="48f12-420">**\*\* Important \*\*** By default, compression significantly increases CPU usage, and the additional CPU consumed by the compression process might adversely affect concurrent operations.</span></span> <span data-ttu-id="48f12-421">Поэтому лучше создавать сжатые резервные копии с низким приоритетом в сеансах, доступ которых к ЦП ограничивается регулятором ресурсов.</span><span class="sxs-lookup"><span data-stu-id="48f12-421">Therefore, you might want to create low-priority compressed backups in a session whose CPU usage is limited by the Resource Governor.</span></span> <span data-ttu-id="48f12-422">Дополнительные сведения см. ниже в подразделе [Использование регулятора ресурсов для ограничения загрузки ЦП при сжатии резервной копии (Transact-SQL)](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="48f12-422">For more information, see [Use Resource Governor to Limit CPU Usage by Backup Compression &#40;Transact-SQL&#41;](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md).</span></span>|  
    |<span data-ttu-id="48f12-423">**Не сжимать резервные копии**</span><span class="sxs-lookup"><span data-stu-id="48f12-423">**Do not compress backup**</span></span>|<span data-ttu-id="48f12-424">Щелкните для создания резервной копии без сжатия, независимо от уровня сервера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="48f12-424">Click to create an uncompressed backup, regardless of the server-level default.</span></span>|  
  
2.  <span data-ttu-id="48f12-425">На странице **Определение задачи "Резервное копирование базы данных (разностное)"** выберите базы данных, для которых создается частичная резервная копия.</span><span class="sxs-lookup"><span data-stu-id="48f12-425">On the **Define Backup Database (Differential) Task** page, select the database or databases on which to run a partial backup.</span></span> <span data-ttu-id="48f12-426">Дополнительные сведения о параметрах, доступных на этой странице, см. выше в списке определений на шаге 16.</span><span class="sxs-lookup"><span data-stu-id="48f12-426">See the definition list in step 16, above, for more information about the available options on this page.</span></span> <span data-ttu-id="48f12-427">Эта задача использует инструкцию `BACKUP DATABASE ... WITH DIFFERENTIAL`.</span><span class="sxs-lookup"><span data-stu-id="48f12-427">This task uses the `BACKUP DATABASE ... WITH DIFFERENTIAL` statement.</span></span> <span data-ttu-id="48f12-428">Дополнительные сведения см. в разделе [BACKUP (Transact-SQL)](/sql/t-sql/statements/backup-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48f12-428">For more information, see [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span></span>  <span data-ttu-id="48f12-429">По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-429">When finished, click **Next**.</span></span>  
  
3.  <span data-ttu-id="48f12-430">На странице **Определение задачи "Резервное копирование базы данных (журнал транзакций)"** выберите базы данных, для которых создается резервная копия журнала транзакций.</span><span class="sxs-lookup"><span data-stu-id="48f12-430">On the **Define Backup Database (Transaction Log) Task** page, select the database or databases on which to run a backup for a transaction log.</span></span> <span data-ttu-id="48f12-431">Дополнительные сведения о параметрах, доступных на этой странице, см. выше в списке определений на шаге 16.</span><span class="sxs-lookup"><span data-stu-id="48f12-431">See the definition list in step 16, above, for more information about the available options on this page.</span></span> <span data-ttu-id="48f12-432">Эта задача использует инструкцию `BACKUP LOG`.</span><span class="sxs-lookup"><span data-stu-id="48f12-432">This task uses the `BACKUP LOG` statement.</span></span> <span data-ttu-id="48f12-433">Дополнительные сведения см. в разделе [BACKUP (Transact-SQL)](/sql/t-sql/statements/backup-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48f12-433">For more information, see [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span></span> <span data-ttu-id="48f12-434">По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-434">When finished, click **Next**.</span></span>  
  
#### <a name="define-maintenance-cleanup-tasks"></a><span data-ttu-id="48f12-435">Определение задач «Очистка после обслуживания»</span><span class="sxs-lookup"><span data-stu-id="48f12-435">Define Maintenance Cleanup Tasks</span></span>  
  
1.  <span data-ttu-id="48f12-436">На странице **Определение задачи «Очистка после обслуживания»** укажите типы файлов, которые удаляются в рамках плана обслуживания, в том числе текстовые отчеты, созданные планами обслуживания, и файлы резервных копий базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-436">On the **Define Maintenance Cleanup Task** page, specify the types of files to delete as part of the maintenance plan, including text reports created by maintenance plans and database backup files.</span></span> <span data-ttu-id="48f12-437">Эта задача использует инструкцию `EXEC xp_delete_file`.</span><span class="sxs-lookup"><span data-stu-id="48f12-437">This task uses the `EXEC xp_delete_file` statement.</span></span> <span data-ttu-id="48f12-438">По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-438">When finished, click **Next**.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="48f12-439">Эта задача автоматически не удаляет файлы во вложенных папках указанного каталога.</span><span class="sxs-lookup"><span data-stu-id="48f12-439">This task does not automatically delete files in the subfolders of the specified directory.</span></span> <span data-ttu-id="48f12-440">Это снижает вероятность злоумышленного проникновения с использованием задачи «Очистка после обслуживания» для удаления файлов.</span><span class="sxs-lookup"><span data-stu-id="48f12-440">This precaution reduces the possibility of a malicious attack that uses the Maintenance Cleanup task to delete files.</span></span> <span data-ttu-id="48f12-441">Если нужно удалять файлы во вложенных папках первого уровня, установите флажок **Включить вложенные папки первого уровня**.</span><span class="sxs-lookup"><span data-stu-id="48f12-441">If you want to delete files in first-level subfolders, you must select **Include first-level subfolders**.</span></span>  
  
     <span data-ttu-id="48f12-442">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-442">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-443">**Удалить файлы следующего типа**</span><span class="sxs-lookup"><span data-stu-id="48f12-443">**Delete files of the following type**</span></span>  
     <span data-ttu-id="48f12-444">Укажите тип файлов для удаления.</span><span class="sxs-lookup"><span data-stu-id="48f12-444">Specify the type of files to be deleted.</span></span>  
  
     <span data-ttu-id="48f12-445">**Файлы резервных копий**</span><span class="sxs-lookup"><span data-stu-id="48f12-445">**Backup files**</span></span>  
     <span data-ttu-id="48f12-446">Удаляет файлы резервной копии базы данных.</span><span class="sxs-lookup"><span data-stu-id="48f12-446">Delete database backup files.</span></span>  
  
     <span data-ttu-id="48f12-447">**Текстовые отчеты плана обслуживания**</span><span class="sxs-lookup"><span data-stu-id="48f12-447">**Maintenance Plan text reports**</span></span>  
     <span data-ttu-id="48f12-448">Удаляет текстовые отчеты предыдущих запусков планов обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-448">Delete text reports of previously run maintenance plans.</span></span>  
  
     <span data-ttu-id="48f12-449">**Размещение файла**</span><span class="sxs-lookup"><span data-stu-id="48f12-449">**File location**</span></span>  
     <span data-ttu-id="48f12-450">Укажите путь к удаляемым файлам.</span><span class="sxs-lookup"><span data-stu-id="48f12-450">Specify path to files to be deleted.</span></span>  
  
     <span data-ttu-id="48f12-451">**Удалить определенный файл**</span><span class="sxs-lookup"><span data-stu-id="48f12-451">**Delete specific file**</span></span>  
     <span data-ttu-id="48f12-452">Удаляет файл, указанный в текстовом поле **Имя файла** .</span><span class="sxs-lookup"><span data-stu-id="48f12-452">Delete the specific file provided in the **File name** text box.</span></span>  
  
     <span data-ttu-id="48f12-453">**Удалить из папки файлы с определенным расширением**</span><span class="sxs-lookup"><span data-stu-id="48f12-453">**Search folder and delete files based on an extension**</span></span>  
     <span data-ttu-id="48f12-454">Удаляет все файлы с определенным расширением в указанной папке.</span><span class="sxs-lookup"><span data-stu-id="48f12-454">Delete all files with the specified extension in the specified folder.</span></span> <span data-ttu-id="48f12-455">Позволяет удалить несколько файлов сразу, например все файлы резервных копий с расширением BAK в папке «Вторник».</span><span class="sxs-lookup"><span data-stu-id="48f12-455">Use this to delete multiple files at once, such as all backup files in the Tuesday folder with the .bak extension.</span></span>  
  
     <span data-ttu-id="48f12-456">Поле**Папка**</span><span class="sxs-lookup"><span data-stu-id="48f12-456">**Folder** box</span></span>  
     <span data-ttu-id="48f12-457">Путь к папке, содержащей удаляемые файлы, и ее имя.</span><span class="sxs-lookup"><span data-stu-id="48f12-457">Path and name of the folder containing the files to be deleted.</span></span>  
  
     <span data-ttu-id="48f12-458">Поле**Расширение файла**</span><span class="sxs-lookup"><span data-stu-id="48f12-458">**File extension** box</span></span>  
     <span data-ttu-id="48f12-459">Введите расширение удаляемых файлов.</span><span class="sxs-lookup"><span data-stu-id="48f12-459">Provide the file extension of the files to be deleted.</span></span> <span data-ttu-id="48f12-460">Для удаления сразу несколько файлов, например всех файлов резервных копий с расширением BAK из папки «Вторник», укажите BAK.</span><span class="sxs-lookup"><span data-stu-id="48f12-460">To delete multiple files at one time, like all backup files with the .bak extension in the Tuesday folder, specify .bak.</span></span>  
  
     <span data-ttu-id="48f12-461">Флажок**Включить вложенные папки первого уровня**</span><span class="sxs-lookup"><span data-stu-id="48f12-461">**Include first-level subfolders** check box</span></span>  
     <span data-ttu-id="48f12-462">Удаляет файлы с расширением, заданным в поле **Расширение файла** , из вложенных папок первого уровня относительно папки, заданной в поле **Папка**.</span><span class="sxs-lookup"><span data-stu-id="48f12-462">Delete files with the extension specified for **File extension** from first-level subfolders under the folder specified in **Folder**.</span></span>  
  
     <span data-ttu-id="48f12-463">Флажок**Удалить файлы на основе возраста во время выполнения задачи**</span><span class="sxs-lookup"><span data-stu-id="48f12-463">**Delete files based on the age of the file at task run time** check box</span></span>  
     <span data-ttu-id="48f12-464">Задайте минимальный возраст удаляемых файлов, указав числовое значение и единицу времени в поле **Удалить все файлы старше чем** .</span><span class="sxs-lookup"><span data-stu-id="48f12-464">Specify the minimum age of the files that you want to delete by providing a number, and unit of time in the **Delete files older than the following** box.</span></span>  
  
     <span data-ttu-id="48f12-465">**Удалить все файлы старше чем**</span><span class="sxs-lookup"><span data-stu-id="48f12-465">**Delete files older than the following**</span></span>  
     <span data-ttu-id="48f12-466">Задайте минимальный возраст удаляемых файлов, указав числовое значение и единицу времени (**час**, **день**, **неделя**, **месяц**или **год**).</span><span class="sxs-lookup"><span data-stu-id="48f12-466">Specify the minimum age of the files that you want to delete by providing a number, and unit of time (**Hour**, **Day**, **Week**, **Month**, or **Year**).</span></span> <span data-ttu-id="48f12-467">Файлы, старше указанного временного интервала, будут удалены.</span><span class="sxs-lookup"><span data-stu-id="48f12-467">Files older than the time frame specified will be deleted.</span></span>  
  
#### <a name="select-report-options"></a><span data-ttu-id="48f12-468">Выбор параметров отчета</span><span class="sxs-lookup"><span data-stu-id="48f12-468">Select Report Options</span></span>  
  
1.  <span data-ttu-id="48f12-469">На странице **Выбор параметров отчета** выберите параметры для сохранения или распространения отчета о действиях плана обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-469">On the **Select Report Options** page, select options for saving or distributing a report of the maintenance plan actions.</span></span> <span data-ttu-id="48f12-470">Эта задача использует инструкцию `EXEC sp_notify_operator`.</span><span class="sxs-lookup"><span data-stu-id="48f12-470">This task uses the `EXEC sp_notify_operator` statement.</span></span> <span data-ttu-id="48f12-471">Дополнительные сведения см. в разделе [sp_notify_operator (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-notify-operator-transact-sql). По завершении нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="48f12-471">For more information, see [sp_notify_operator &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-notify-operator-transact-sql).When finished, click **Next**.</span></span>  
  
     <span data-ttu-id="48f12-472">На этой странице доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-472">The following options are available on this page.</span></span>  
  
     <span data-ttu-id="48f12-473">Флажок**Записать отчет в текстовый файл**</span><span class="sxs-lookup"><span data-stu-id="48f12-473">**Write a report to a text file** check box</span></span>  
     <span data-ttu-id="48f12-474">Сохраните отчет в файл.</span><span class="sxs-lookup"><span data-stu-id="48f12-474">Save the report in a file.</span></span>  
  
     <span data-ttu-id="48f12-475">Поле**Расположение папки**</span><span class="sxs-lookup"><span data-stu-id="48f12-475">**Folder location** box</span></span>  
     <span data-ttu-id="48f12-476">Задайте местонахождения файла, который будет содержать отчет.</span><span class="sxs-lookup"><span data-stu-id="48f12-476">Specify the location of the file that will contain the report.</span></span>  
  
     <span data-ttu-id="48f12-477">Флажок**Отчет по электронной почте**</span><span class="sxs-lookup"><span data-stu-id="48f12-477">**E-mail report** check box</span></span>  
     <span data-ttu-id="48f12-478">Отправляет сообщение электронной почты, если задача завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="48f12-478">Send an e-mail when a task fails.</span></span> <span data-ttu-id="48f12-479">Для использования этой задачи необходимо включить и правильно настроить компонент Database Mail с MSDB в качестве базы данных обслуживания почты, а также использовать оператор агента [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с допустимым электронным адресом.</span><span class="sxs-lookup"><span data-stu-id="48f12-479">To use this task you must have Database Mail enabled and correctly configured with MSDB as a Mail Host Database, and have a [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent operator with a valid e-mail address.</span></span>  
  
     <span data-ttu-id="48f12-480">**Оператор агента**</span><span class="sxs-lookup"><span data-stu-id="48f12-480">**Agent operator**</span></span>  
     <span data-ttu-id="48f12-481">Указать получателя электронного письма.</span><span class="sxs-lookup"><span data-stu-id="48f12-481">Specify the recipient of the e-mail.</span></span>  
  
     <span data-ttu-id="48f12-482">**Профиль электронной почты**</span><span class="sxs-lookup"><span data-stu-id="48f12-482">**Mail profile**</span></span>  
     <span data-ttu-id="48f12-483">Задайте профиль, определяющий отправителя сообщения по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="48f12-483">Specify the profile that defines the sender of the e-mail.</span></span>  
  
#### <a name="complete-the-wizard"></a><span data-ttu-id="48f12-484">Завершение работы мастера</span><span class="sxs-lookup"><span data-stu-id="48f12-484">Complete the Wizard</span></span>  
  
1.  <span data-ttu-id="48f12-485">На странице **Завершение работы мастера** проверьте параметры, выбранные на предыдущих страницах, и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="48f12-485">On the **Complete the Wizard** page, verify the choices made on the previous pages, and click **Finish**.</span></span>  
  
2.  <span data-ttu-id="48f12-486">Страница **Ход работы мастера планов обслуживания** позволяет следить за сведениями о состоянии действий, выполняемых мастером планов обслуживания.</span><span class="sxs-lookup"><span data-stu-id="48f12-486">On the **Maintenance Wizard Progress** page, monitor status information about the actions of the Maintenance Plan Wizard.</span></span> <span data-ttu-id="48f12-487">В зависимости от действий, выбранных в мастере, страница выполнения может содержать одно или несколько действий.</span><span class="sxs-lookup"><span data-stu-id="48f12-487">Depending on the options that you selected in the wizard, the progress page might contain one or more actions.</span></span> <span data-ttu-id="48f12-488">В верхнем поле показано общее состояние мастера и число полученных им сообщений о состоянии, предупреждений и сообщений об ошибках.</span><span class="sxs-lookup"><span data-stu-id="48f12-488">The top box displays the overall status of the wizard and the number of status, error, and warning messages that the wizard has received.</span></span>  
  
     <span data-ttu-id="48f12-489">На странице **Ход работы мастера планов обслуживания** доступны следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="48f12-489">The following options are available on the **Maintenance Wizard Progress** page:</span></span>  
  
     <span data-ttu-id="48f12-490">**Сведения**</span><span class="sxs-lookup"><span data-stu-id="48f12-490">**Details**</span></span>  
     <span data-ttu-id="48f12-491">Сведения о событии, состоянии и любых сообщениях, которые возвращены в результате действий мастера.</span><span class="sxs-lookup"><span data-stu-id="48f12-491">Provides the action, status, and any messages that are returned from action taken by the wizard.</span></span>  
  
     <span data-ttu-id="48f12-492">**Действие**</span><span class="sxs-lookup"><span data-stu-id="48f12-492">**Action**</span></span>  
     <span data-ttu-id="48f12-493">Задает тип и имя каждого действия.</span><span class="sxs-lookup"><span data-stu-id="48f12-493">Specifies the type and name of each action.</span></span>  
  
     <span data-ttu-id="48f12-494">**Состояние**</span><span class="sxs-lookup"><span data-stu-id="48f12-494">**Status**</span></span>  
     <span data-ttu-id="48f12-495">Указывает, вернуло ли действие мастера в целом значение **Успешно** или **Ошибка**.</span><span class="sxs-lookup"><span data-stu-id="48f12-495">Indicates whether the wizard action as a whole returned the value of **Success** or **Failure**.</span></span>  
  
     <span data-ttu-id="48f12-496">**Сообщение**</span><span class="sxs-lookup"><span data-stu-id="48f12-496">**Message**</span></span>  
     <span data-ttu-id="48f12-497">Любые сообщения об ошибках или предупреждения от процесса.</span><span class="sxs-lookup"><span data-stu-id="48f12-497">Provides any error or warning messages that are returned from the process.</span></span>  
  
     <span data-ttu-id="48f12-498">**Отчет**</span><span class="sxs-lookup"><span data-stu-id="48f12-498">**Report**</span></span>  
     <span data-ttu-id="48f12-499">Создание отчета, содержащего результаты мастера создания секций.</span><span class="sxs-lookup"><span data-stu-id="48f12-499">Creates a report that contains the results of the Create Partition Wizard.</span></span> <span data-ttu-id="48f12-500">Доступные параметры: **Просмотреть отчет**, **Сохранить отчет в файл**, **Копировать отчет в буфер обмена**и **Отправить отчет по электронной почте**.</span><span class="sxs-lookup"><span data-stu-id="48f12-500">The options are **View Report**, **Save Report to File**, **Copy Report to Clipboard**, and **Send Report as Email**.</span></span>  
  
     <span data-ttu-id="48f12-501">**Просмотреть отчет**</span><span class="sxs-lookup"><span data-stu-id="48f12-501">**View Report**</span></span>  
     <span data-ttu-id="48f12-502">Открытие диалогового окна **Просмотр отчета** , которое содержит текстовый отчет о работе мастера создания секций.</span><span class="sxs-lookup"><span data-stu-id="48f12-502">Opens the **View Report** dialog box, which contains a text report of the progress of the Create Partition Wizard.</span></span>  
  
     <span data-ttu-id="48f12-503">**Сохранить отчет в файл**</span><span class="sxs-lookup"><span data-stu-id="48f12-503">**Save Report to File**</span></span>  
     <span data-ttu-id="48f12-504">Открытие диалогового окна **Сохранить отчет как** .</span><span class="sxs-lookup"><span data-stu-id="48f12-504">Opens the **Save Report As** dialog box.</span></span>  
  
     <span data-ttu-id="48f12-505">**Копировать отчет в буфер обмена**</span><span class="sxs-lookup"><span data-stu-id="48f12-505">**Copy Report to Clipboard**</span></span>  
     <span data-ttu-id="48f12-506">Копирование результатов отчета о работе мастера в буфер обмена.</span><span class="sxs-lookup"><span data-stu-id="48f12-506">Copies the results of the wizard's progress report to the Clipboard.</span></span>  
  
     <span data-ttu-id="48f12-507">**Отправить отчет по электронной почте**</span><span class="sxs-lookup"><span data-stu-id="48f12-507">**Send Report as Email**</span></span>  
     <span data-ttu-id="48f12-508">Копирование результатов отчета о состоянии мастера в сообщение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="48f12-508">Copies the results of the wizard's progress report into an email message.</span></span>  
  
  

---
title: Пул ресурсов регулятора ресурсов | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Resource Governor, resource pool
- resource pool [SQL Server], overview
- resource pool [SQL Server]
ms.assetid: 306b6278-e54f-42e6-b746-95a9315e0cbe
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 574d70f23541888ade1e9b827f52fed801c20205
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87731465"
---
# <a name="resource-governor-resource-pool"></a><span data-ttu-id="6d4d0-102">Пул ресурсов регулятора ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-102">Resource Governor Resource Pool</span></span>
  <span data-ttu-id="6d4d0-103">В регуляторе ресурсов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] пул ресурсов представляет подмножество физических ресурсов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6d4d0-103">In the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Resource Governor, a resource pool represents a subset of the physical resources of an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="6d4d0-104">Регулятор ресурсов позволяет задать ограничения на загрузку ЦП, физических средств ввода-вывода и использование памяти, которые доступны для входящих запросов приложений в пуле ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-104">Resource Governor enables you to specify limits on the amount of CPU, physical IO, and memory that incoming application requests can use within the resource pool.</span></span> <span data-ttu-id="6d4d0-105">Каждый пул ресурсов может содержать одну или несколько групп рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-105">Each resource pool can contain one or more workload groups.</span></span> <span data-ttu-id="6d4d0-106">После запуска сеанса классификатор регулятора ресурсов назначает этот сеанс группе рабочей нагрузки и этот сеанс должен функционировать с ресурсами, назначенными этой группе рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-106">When a session is started, the Resource Governor classifier assigns the session to a specific workload group, and the session must run using the resources assigned to the workload group.</span></span>  
  
## <a name="resource-pool-concepts"></a><span data-ttu-id="6d4d0-107">Понятия пула ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-107">Resource Pool Concepts</span></span>  
 <span data-ttu-id="6d4d0-108">Пул ресурсов (или пул) представляет физические ресурсы сервера.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-108">A resource pool, or pool, represents the physical resources of the server.</span></span> <span data-ttu-id="6d4d0-109">Пул можно считать виртуальным экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] внутри экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d4d0-109">You can think of a pool as a virtual [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance inside of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d4d0-110">Пул состоит из двух компонентов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-110">A pool has two parts.</span></span> <span data-ttu-id="6d4d0-111">Один из них не взаимодействует с другими пулами, что обеспечивает минимальное резервирование ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-111">One part does not overlap with other pools, which enables minimum resource reservation.</span></span> <span data-ttu-id="6d4d0-112">Другой компонент является общим с другими пулами, что поддерживает максимально возможное потребление ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-112">The other part is shared with other pools, which supports maximum possible resource consumption.</span></span> <span data-ttu-id="6d4d0-113">Ресурсы пула определяются указанием одного или нескольких следующих параметров для каждого ресурса (ЦП, память и физический ввод-вывод).</span><span class="sxs-lookup"><span data-stu-id="6d4d0-113">The pool resources are defined by specifying one or more of the following settings for each resource (CPU, memory, and physical IO):</span></span>  
  
-   <span data-ttu-id="6d4d0-114">**MIN_CPU_PERCENT и MAX_CPU_PERCENT**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-114">**MIN_CPU_PERCENT and MAX_CPU_PERCENT**</span></span>  
  
     <span data-ttu-id="6d4d0-115">Эти параметры — минимальная и максимальная гарантированная средняя пропускная способность ЦП для всех запросов в пуле ресурсов при возникновении состязания за ЦП.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-115">These settings are the minimum and maximum guaranteed average CPU bandwidth for all requests in the resource pool when there is CPU contention.</span></span> <span data-ttu-id="6d4d0-116">Можно использовать эти параметры для задания прогнозируемого использования ресурсов ЦП для нескольких рабочих нагрузок в зависимости от потребностей каждой рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-116">You can use these settings to establish predictable CPU resource usage for multiple workloads that is based on the needs of each workload.</span></span> <span data-ttu-id="6d4d0-117">Например, предположим, что отделы продаж и маркетинга компании пользуются одной и той же базой данных.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-117">For example, assume the Sales and Marketing departments in a company share the same database.</span></span> <span data-ttu-id="6d4d0-118">Отдел продаж использует рабочую нагрузку с высокой нагрузкой на ЦП и самыми важными запросами.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-118">The Sales department has a CPU-intensive workload with high-priority queries.</span></span> <span data-ttu-id="6d4d0-119">У отдела маркетинга рабочая нагрузка на ЦП также высока, но имеет более низкий приоритет.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-119">The Marketing department also has a CPU-intensive workload, but has lower-priority queries.</span></span> <span data-ttu-id="6d4d0-120">Создав отдельный пул ресурсов для каждого отдела, можно установить *минимальный* процент использования ЦП для пула ресурсов отдела продаж в значение 70, а *максимальный* процент использования ЦП для пула ресурсов отдела маркетинга — в значение 30.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-120">By creating a separate resource pool for each department, you can assign a *minimum* CPU percentage of 70 for the Sales resource pool and a *maximum* CPU percentage of 30 for the Marketing resource pool.</span></span> <span data-ttu-id="6d4d0-121">Это гарантирует, что рабочая нагрузка отдела продаж получит необходимые ей ресурсы ЦП, а рабочая нагрузка отдела маркетинга будет изолирована от требований к ЦП рабочей нагрузки отдела продаж.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-121">This ensures that the Sales workload receives the CPU resources it requires and the Marketing workload is isolated from the CPU demands of the Sales workload.</span></span> <span data-ttu-id="6d4d0-122">Обратите внимание, что максимальный процент использования ЦП — это уступающий максимум.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-122">Note that the maximum CPU percentage is an opportunistic maximum.</span></span> <span data-ttu-id="6d4d0-123">При наличии доступной производительности ЦП рабочая нагрузка использует ее до 100 процентов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-123">If there is available CPU capacity, the workload uses it up to 100 percent.</span></span> <span data-ttu-id="6d4d0-124">Максимальное значение применяется только при возникновении состязания за ресурсы ЦП.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-124">The maximum value only applies when there is contention for CPU resources.</span></span> <span data-ttu-id="6d4d0-125">В этом примере, если рабочая нагрузка отдела продаж отключена, рабочая нагрузка отдела маркетинга может использовать 100 процентов ЦП при необходимости.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-125">In this example, if the Sales workload is switched off, the Marketing workload can use 100 percent of the CPU if needed.</span></span>  
  
-   <span data-ttu-id="6d4d0-126">**CAP_CPU_PERCENT**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-126">**CAP_CPU_PERCENT**</span></span>  
  
     <span data-ttu-id="6d4d0-127">Эти параметры — жесткое ограничение на пропускную способность ЦП для всех запросов в пуле ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-127">This settings is a hard cap limit on the CPU bandwidth for all requests in the resource pool.</span></span> <span data-ttu-id="6d4d0-128">Рабочие нагрузки, связанные с этим пулом, могут использовать производительность ЦП выше значения MAX_CPU_PERCENT, если она доступна, но не превышать CAP_CPU_PERCENT.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-128">Workloads associated with the pool can use CPU capacity above the value of MAX_CPU_PERCENT if it is available, but not above the value of CAP_CPU_PERCENT.</span></span> <span data-ttu-id="6d4d0-129">В приведенном выше примере предположим, что с отдела маркетинга взимается плата за использование ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-129">Using the example above, lets assume that the Marketing department is being charged for their resource usage.</span></span> <span data-ttu-id="6d4d0-130">Они хотят иметь прогнозируемое выставление счетов и не хотят платить за более чем 30 процентов ЦП.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-130">They want predictable billing and do not want to pay for more than 30 percent of the CPU.</span></span> <span data-ttu-id="6d4d0-131">Это выполняется путем установки CAP_CPU_PERCENT в значение 30 для пула ресурсов отдела маркетинга.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-131">This can be accomplished by setting the CAP_CPU_PERCENT to 30 for the Marketing resource pool.</span></span>  
  
-   <span data-ttu-id="6d4d0-132">**MIN_MEMORY_PERCENT и MAX_MEMORY_PERCENT**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-132">**MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT**</span></span>  
  
     <span data-ttu-id="6d4d0-133">Эти параметры указывают минимальный и максимальный объемы памяти, резервируемые для данного пула ресурсов, который не подлежит использованию совместно с другими пулами ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-133">These settings are the minimum and maximum amount of memory reserved for the resource pool that can not be shared with other resource pools.</span></span> <span data-ttu-id="6d4d0-134">В данном случае подразумевается доступная для выполнения запросов память, а не память буферного пула (например, страниц данных и индексов).</span><span class="sxs-lookup"><span data-stu-id="6d4d0-134">The memory referenced here is query execution grant memory, not buffer pool memory (for example, data and index pages).</span></span> <span data-ttu-id="6d4d0-135">Установка минимального значения памяти для пула дает гарантию того, что указанный процент памяти будет доступен для всех запросов, которые могут выполняться в этом пуле ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-135">Setting a minimum memory value for a pool means that you are ensuring that the percentage of memory specified will be available for any requests that might run in this resource pool.</span></span> <span data-ttu-id="6d4d0-136">Это важное различие по сравнению с MIN_CPU_PERCENT, поскольку в этом случае память может оставаться в данном пуле ресурсов, даже если пул не имеет запросов в группах рабочей нагрузки, принадлежащих к нему.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-136">This is an important differentiator compared to MIN_CPU_PERCENT, because in this case memory may remain in the given resource pool even when the pool does not have any requests in the workload groups belonging to this pool.</span></span> <span data-ttu-id="6d4d0-137">Поэтому очень важно крайне внимательно использовать этот параметр, поскольку эта память будет недоступна для любого другого пула, даже если активных запросов нет.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-137">Therefore it is crucial that you be very careful when using this setting, because this memory will be unavailable for use by any other pool, even when there are no active requests.</span></span> <span data-ttu-id="6d4d0-138">Максимальное значение памяти для пула означает, что запросы, выполняемые в этом пуле, никогда не получат больше данной доли общей памяти.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-138">Setting a maximum memory value for a pool means that when requests are running in this pool, they will never get more than this percentage of overall memory.</span></span>  
  
-   <span data-ttu-id="6d4d0-139">**AFFINITY**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-139">**AFFINITY**</span></span>  
  
     <span data-ttu-id="6d4d0-140">Этот параметр позволяет привязать пул ресурсов к одному или нескольким планировщикам или узлам NUMA для еще большей изоляции ресурсов ЦП.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-140">This setting lets you affinitize a resource pool to one or more schedulers or NUMA nodes for greater isolation of CPU resources.</span></span> <span data-ttu-id="6d4d0-141">В вышеупомянутом сценарии с отделами продаж и маркетинга предположим, что отделу продаж требуется более изолированная среда и необходимо 100 процентов ядра ЦП постоянно.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-141">Using the Sales and Marketing scenario above, lets assume that the Sales department needs a more isolated environment and wants 100 percent of a CPU core at all times.</span></span> <span data-ttu-id="6d4d0-142">С помощью параметра AFFINITY рабочие нагрузки отделов продаж и маркетинга могут быть назначены на разные процессоры.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-142">By using the AFFINITY option the Sales and Marketing workloads can be scheduled on different CPUs.</span></span> <span data-ttu-id="6d4d0-143">Если параметр CAP_CPU_PERCENT для пула маркетинга остается на месте, рабочая нагрузка отдела маркетинга продолжает использовать не более 30 процентов одного ядра, а рабочая нагрузка отдела продаж использует 100 процентов другого ядра.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-143">Assuming the CAP_CPU_PERCENT on the Marketing pool is still in place, the Marketing workload continues to use a maximum of 30 percent of one core, while the Sales workload uses 100 percent of the other core.</span></span> <span data-ttu-id="6d4d0-144">Рабочие нагрузки отделов продаж и маркетинга фактически выполняются на 2 изолированных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-144">As far as the Sales and Marketing workloads are concerned, they are running on two isolated machines.</span></span>  
  
-   <span data-ttu-id="6d4d0-145">**MIN_IOPS_PER_VOLUME и MAX_IOPS_PER_VOLUME**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-145">**MIN_IOPS_PER_VOLUME and MAX_IOPS_PER_VOLUME**</span></span>  
  
     <span data-ttu-id="6d4d0-146">Эти параметры задают минимум и максимум физических операций ввода-вывода в секунду на том диска для пула ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-146">These settings are the minimum and maximum physical IO operations per second (IOPS) per disk volume for a resource pool.</span></span> <span data-ttu-id="6d4d0-147">Эти параметры можно использовать для управления физическими операциями ввода-вывода, предоставленными для пользовательских потоков для данного пула ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-147">You can use these settings to control the physical IOs issued for user threads for a given resource pool.</span></span> <span data-ttu-id="6d4d0-148">Например, отдел продаж создает несколько отчетов в конце месяца большими пакетами.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-148">For example, the Sales department generates several end-of-month reports in large batches.</span></span> <span data-ttu-id="6d4d0-149">Запросы в этих пакетах могут вызывать операции ввода-вывода, которые могут насытить дисковый объем и повлиять на производительность других рабочих нагрузок с более высоким приоритетом в базе данных.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-149">The queries in these batches can generate IOs that can saturate the disk volume and impact the performance of other higher priority workloads in the database.</span></span> <span data-ttu-id="6d4d0-150">Для изолирования этой рабочей нагрузки можно установить MIN_IOPS_PER_VOLUME в 20 и MAX_IOPS_PER_VOLUME в 100 для пула ресурсов отдела продаж, что задаст уровень ввода-вывода, предоставляемый рабочей нагрузке.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-150">To isolate this workload, the MIN_IOPS_PER_VOLUME is set to 20 and the MAX_IOPS_PER_VOLUME is set to 100 for the Sales department resource pool, which controls the level of IOs that can issued for the workload.</span></span>  
  
 <span data-ttu-id="6d4d0-151">При настройке процессора или памяти сумма значений MIN всех пулов не может превышать 100 % ресурсов сервера.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-151">When configuring CPU or Memory, the sum of MIN values across all pools cannot exceed 100 percent of the server resources.</span></span> <span data-ttu-id="6d4d0-152">Кроме того, при настройке ЦП и памяти значения MAX и END могут быть установлены в пределах от значения MIN до 100 включительно.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-152">In addition, when configuring CPU or Memory, MAX and CAP values can be set anywhere in the range between MIN and 100 percent inclusive.</span></span>  
  
 <span data-ttu-id="6d4d0-153">Если в пуле определено ненулевое значение MIN, то эффективное значение MAX других пулов переопределяется.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-153">If a pool has a nonzero MIN defined, the effective MAX value of other pools is readjusted.</span></span> <span data-ttu-id="6d4d0-154">Из 100 процентов вычитается минимальное настроенное значение MAX для пула и сумма значений MIN других пулов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-154">The minimum of the configured MAX value of a pool and the sum of the MIN values of other pools is subtracted from 100 percent.</span></span>  
  
 <span data-ttu-id="6d4d0-155">Некоторые основные понятия, описанные выше, проиллюстрированы в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-155">The following table illustrates a few of the preceding concepts.</span></span> <span data-ttu-id="6d4d0-156">В таблице показаны параметры внутреннего пула, пула по умолчанию и двух определяемых пользователем пулов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-156">The table shows the settings for the internal pool, the default pool, and two user-defined pools.</span></span> <span data-ttu-id="6d4d0-157">Приведенные ниже формулы используются для вычисления фактического значения MAX% и общего процентного показателя.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-157">The following formulas are used for calculating the effective MAX% and the shared %.</span></span>  
  
-   <span data-ttu-id="6d4d0-158">Min(X,Y) — это наименьшие значения X и Y.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-158">Min(X,Y) means the smaller value of X and Y.</span></span>  
  
-   <span data-ttu-id="6d4d0-159">Sum(X) — это сумма значений X всех пулов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-159">Sum(X) means the sum of value X across all pools.</span></span>  
  
-   <span data-ttu-id="6d4d0-160">Всего общих % = 100 - sum(MIN %).</span><span class="sxs-lookup"><span data-stu-id="6d4d0-160">Total shared % = 100 - sum(MIN %).</span></span>  
  
-   <span data-ttu-id="6d4d0-161">Фактическое значение MAX % = min(X,Y).</span><span class="sxs-lookup"><span data-stu-id="6d4d0-161">Effective MAX % = min(X,Y).</span></span>  
  
-   <span data-ttu-id="6d4d0-162">Общие % = фактическое значение MAX % - MIN %.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-162">Shared % = Effective MAX % - MIN %.</span></span>  
  
|<span data-ttu-id="6d4d0-163">Имя пула</span><span class="sxs-lookup"><span data-stu-id="6d4d0-163">Pool name</span></span>|<span data-ttu-id="6d4d0-164">Параметр MIN, %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-164">MIN % setting</span></span>|<span data-ttu-id="6d4d0-165">Параметр MAX, %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-165">MAX % setting</span></span>|<span data-ttu-id="6d4d0-166">Вычисляемое эффективное значение MAX, %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-166">Calculated effective MAX %</span></span>|<span data-ttu-id="6d4d0-167">Вычисляемый общий %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-167">Calculated shared %</span></span>|<span data-ttu-id="6d4d0-168">Комментарий</span><span class="sxs-lookup"><span data-stu-id="6d4d0-168">Comment</span></span>|  
|---------------|-------------------|-------------------|--------------------------------|-------------------------|-------------|  
|<span data-ttu-id="6d4d0-169">Внутренние</span><span class="sxs-lookup"><span data-stu-id="6d4d0-169">internal</span></span>|<span data-ttu-id="6d4d0-170">0</span><span class="sxs-lookup"><span data-stu-id="6d4d0-170">0</span></span>|<span data-ttu-id="6d4d0-171">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-171">100</span></span>|<span data-ttu-id="6d4d0-172">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-172">100</span></span>|<span data-ttu-id="6d4d0-173">0</span><span class="sxs-lookup"><span data-stu-id="6d4d0-173">0</span></span>|<span data-ttu-id="6d4d0-174">Фактическое значение MAX% и shared% неприменимы к внутреннему пулу.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-174">Effective MAX% and shared% are not applicable to the internal pool.</span></span>|  
|<span data-ttu-id="6d4d0-175">значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="6d4d0-175">default</span></span>|<span data-ttu-id="6d4d0-176">0</span><span class="sxs-lookup"><span data-stu-id="6d4d0-176">0</span></span>|<span data-ttu-id="6d4d0-177">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-177">100</span></span>|<span data-ttu-id="6d4d0-178">30</span><span class="sxs-lookup"><span data-stu-id="6d4d0-178">30</span></span>|<span data-ttu-id="6d4d0-179">30</span><span class="sxs-lookup"><span data-stu-id="6d4d0-179">30</span></span>|<span data-ttu-id="6d4d0-180">Эффективное значение MAX вычисляется следующим образом: min(100,100-(20+50)) = 30.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-180">The effective MAX value is calculated as: min(100,100-(20+50)) = 30.</span></span> <span data-ttu-id="6d4d0-181">Вычисляемый общий процентный показатель — это фактическое значение MAX - MIN = 30.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-181">The calculated shared % is effective MAX - MIN = 30.</span></span>|  
|<span data-ttu-id="6d4d0-182">Пул 1</span><span class="sxs-lookup"><span data-stu-id="6d4d0-182">Pool 1</span></span>|<span data-ttu-id="6d4d0-183">20</span><span class="sxs-lookup"><span data-stu-id="6d4d0-183">20</span></span>|<span data-ttu-id="6d4d0-184">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-184">100</span></span>|<span data-ttu-id="6d4d0-185">50</span><span class="sxs-lookup"><span data-stu-id="6d4d0-185">50</span></span>|<span data-ttu-id="6d4d0-186">30</span><span class="sxs-lookup"><span data-stu-id="6d4d0-186">30</span></span>|<span data-ttu-id="6d4d0-187">Эффективное значение MAX вычисляется так: min(100,100-50)=50.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-187">The effective MAX value is calculated as: min(100,100-50) = 50.</span></span> <span data-ttu-id="6d4d0-188">Вычисляемый общий процентный показатель — это фактическое значение MAX - MIN = 30.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-188">The calculated Shared % is Effective MAX - MIN = 30.</span></span>|  
|<span data-ttu-id="6d4d0-189">Пул 2</span><span class="sxs-lookup"><span data-stu-id="6d4d0-189">Pool 2</span></span>|<span data-ttu-id="6d4d0-190">50</span><span class="sxs-lookup"><span data-stu-id="6d4d0-190">50</span></span>|<span data-ttu-id="6d4d0-191">70</span><span class="sxs-lookup"><span data-stu-id="6d4d0-191">70</span></span>|<span data-ttu-id="6d4d0-192">70</span><span class="sxs-lookup"><span data-stu-id="6d4d0-192">70</span></span>|<span data-ttu-id="6d4d0-193">20</span><span class="sxs-lookup"><span data-stu-id="6d4d0-193">20</span></span>|<span data-ttu-id="6d4d0-194">Эффективное значение MAX вычисляется так: min(70,100-20)=70.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-194">The effective MAX value is calculated as: min(70,100-20) = 70.</span></span> <span data-ttu-id="6d4d0-195">Вычисляемый общий процентный показатель — это эффективное значение MAX-MIN=20.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-195">The calculated Shared % is Effective MAX - MIN = 20.</span></span>|  
  
 <span data-ttu-id="6d4d0-196">Пользуясь приведенной выше таблицей в качестве примера, можно далее проиллюстрировать изменения, которые вносятся при создании еще одного пула.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-196">Using the preceding table as an example we can further illustrate the adjustments that take place when another pool is created.</span></span> <span data-ttu-id="6d4d0-197">Этот пул — Пул 3, имеющий значение MIN %, равное 5.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-197">This pool is Pool 3 and has a MIN % setting of 5.</span></span>  
  
|<span data-ttu-id="6d4d0-198">Имя пула</span><span class="sxs-lookup"><span data-stu-id="6d4d0-198">Pool name</span></span>|<span data-ttu-id="6d4d0-199">Параметр MIN, %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-199">MIN % setting</span></span>|<span data-ttu-id="6d4d0-200">Параметр MAX, %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-200">MAX % setting</span></span>|<span data-ttu-id="6d4d0-201">Вычисляемое эффективное значение MAX, %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-201">Calculated effective MAX %</span></span>|<span data-ttu-id="6d4d0-202">Вычисляемый общий %</span><span class="sxs-lookup"><span data-stu-id="6d4d0-202">Calculated shared %</span></span>|<span data-ttu-id="6d4d0-203">Комментарий</span><span class="sxs-lookup"><span data-stu-id="6d4d0-203">Comment</span></span>|  
|---------------|-------------------|-------------------|--------------------------------|-------------------------|-------------|  
|<span data-ttu-id="6d4d0-204">Внутренние</span><span class="sxs-lookup"><span data-stu-id="6d4d0-204">internal</span></span>|<span data-ttu-id="6d4d0-205">0</span><span class="sxs-lookup"><span data-stu-id="6d4d0-205">0</span></span>|<span data-ttu-id="6d4d0-206">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-206">100</span></span>|<span data-ttu-id="6d4d0-207">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-207">100</span></span>|<span data-ttu-id="6d4d0-208">0</span><span class="sxs-lookup"><span data-stu-id="6d4d0-208">0</span></span>|<span data-ttu-id="6d4d0-209">Фактическое значение MAX% и shared% неприменимы к внутреннему пулу.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-209">Effective MAX % and shared % are not applicable to the internal pool.</span></span>|  
|<span data-ttu-id="6d4d0-210">значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="6d4d0-210">default</span></span>|<span data-ttu-id="6d4d0-211">0</span><span class="sxs-lookup"><span data-stu-id="6d4d0-211">0</span></span>|<span data-ttu-id="6d4d0-212">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-212">100</span></span>|<span data-ttu-id="6d4d0-213">25</span><span class="sxs-lookup"><span data-stu-id="6d4d0-213">25</span></span>|<span data-ttu-id="6d4d0-214">25</span><span class="sxs-lookup"><span data-stu-id="6d4d0-214">25</span></span>|<span data-ttu-id="6d4d0-215">Эффективное значение MAX вычисляется следующим образом: min(100,100-(20+50+5)) = 25.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-215">The effective MAX value is calculated as: min(100,100-(20+50+5)) = 25.</span></span> <span data-ttu-id="6d4d0-216">Вычисляемый общий процентный показатель — это фактическое значение MAX - MIN = 25.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-216">The calculated shared % is Effective MAX - MIN = 25.</span></span>|  
|<span data-ttu-id="6d4d0-217">Пул 1</span><span class="sxs-lookup"><span data-stu-id="6d4d0-217">Pool 1</span></span>|<span data-ttu-id="6d4d0-218">20</span><span class="sxs-lookup"><span data-stu-id="6d4d0-218">20</span></span>|<span data-ttu-id="6d4d0-219">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-219">100</span></span>|<span data-ttu-id="6d4d0-220">45</span><span class="sxs-lookup"><span data-stu-id="6d4d0-220">45</span></span>|<span data-ttu-id="6d4d0-221">25</span><span class="sxs-lookup"><span data-stu-id="6d4d0-221">25</span></span>|<span data-ttu-id="6d4d0-222">Эффективное значение MAX вычисляется так: min(100,100-55)=45.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-222">The effective MAX value is calculated as: min(100,100-55) = 45.</span></span> <span data-ttu-id="6d4d0-223">Вычисляемый общий процентный показатель — это фактическое значение MAX - MIN = 25.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-223">The calculated Shared % is Effective MAX - MIN = 25.</span></span>|  
|<span data-ttu-id="6d4d0-224">Пул 2</span><span class="sxs-lookup"><span data-stu-id="6d4d0-224">Pool 2</span></span>|<span data-ttu-id="6d4d0-225">50</span><span class="sxs-lookup"><span data-stu-id="6d4d0-225">50</span></span>|<span data-ttu-id="6d4d0-226">70</span><span class="sxs-lookup"><span data-stu-id="6d4d0-226">70</span></span>|<span data-ttu-id="6d4d0-227">70</span><span class="sxs-lookup"><span data-stu-id="6d4d0-227">70</span></span>|<span data-ttu-id="6d4d0-228">20</span><span class="sxs-lookup"><span data-stu-id="6d4d0-228">20</span></span>|<span data-ttu-id="6d4d0-229">Эффективное значение MAX вычисляется следующим образом: min(70,100-25) = 70.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-229">The effective MAX value is calculated as: min(70,100-25) = 70.</span></span> <span data-ttu-id="6d4d0-230">Вычисляемый общий процентный показатель — это эффективное значение MAX-MIN=20.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-230">The calculated Shared % is effective MAX - MIN = 20.</span></span>|  
|<span data-ttu-id="6d4d0-231">Пул 3</span><span class="sxs-lookup"><span data-stu-id="6d4d0-231">Pool 3</span></span>|<span data-ttu-id="6d4d0-232">5</span><span class="sxs-lookup"><span data-stu-id="6d4d0-232">5</span></span>|<span data-ttu-id="6d4d0-233">100</span><span class="sxs-lookup"><span data-stu-id="6d4d0-233">100</span></span>|<span data-ttu-id="6d4d0-234">30</span><span class="sxs-lookup"><span data-stu-id="6d4d0-234">30</span></span>|<span data-ttu-id="6d4d0-235">25</span><span class="sxs-lookup"><span data-stu-id="6d4d0-235">25</span></span>|<span data-ttu-id="6d4d0-236">Эффективное значение MAX вычисляется следующим образом: min(100,100-70) = 30.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-236">The effective MAX value is calculated as: min(100,100-70) = 30.</span></span> <span data-ttu-id="6d4d0-237">Вычисляемый общий процентный показатель — это фактическое значение MAX - MIN = 25.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-237">The calculated Shared % is effective MAX - MIN = 25.</span></span>|  
  
 <span data-ttu-id="6d4d0-238">Общая часть пула показывает, куда могут помещаться доступные ресурсы, если они есть.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-238">The shared part of the pool is used to indicate where available resources can go if resources are available.</span></span> <span data-ttu-id="6d4d0-239">Однако при потреблении ресурсов они помещаются в указанный пул и не являются общими.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-239">However, when resources are consumed they go to the specified pool and are not shared.</span></span> <span data-ttu-id="6d4d0-240">Это позволяет более рационально использовать ресурсы в тех случаях, когда отсутствуют запросы в данный пул, и ресурсы, соответствующие этому пулу, можно сделать доступными для остальных пулов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-240">This may improve resource utilization in cases where there are no requests in a given pool and the resources configured to the pool can be freed up for other pools.</span></span>  
  
 <span data-ttu-id="6d4d0-241">Ниже приведены особые случаи конфигурации пулов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-241">Some extreme cases of pool configuration are:</span></span>  
  
-   <span data-ttu-id="6d4d0-242">Во всех пулах заданы минимумы, которые в сумме дают 100% ресурсов сервера.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-242">All pools define minimums that in total represent 100 percent of the server resources.</span></span> <span data-ttu-id="6d4d0-243">В этом случае фактические максимумы равны минимумам.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-243">In this case the effective maximums are equal to minimums.</span></span> <span data-ttu-id="6d4d0-244">Это аналогично разделению ресурсов сервера на непересекающиеся области независимо от потребления ресурсов внутри любого пула.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-244">This is equivalent to dividing the server resources into non-overlapping pieces regardless of resources are consumed inside any given pool.</span></span>  
  
-   <span data-ttu-id="6d4d0-245">У всех пулов минимумы равны нулю.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-245">All pools have zero minimums.</span></span> <span data-ttu-id="6d4d0-246">Все пулы конкурируют за доступные ресурсы, и их окончательный размер основан на потреблении ресурсов в каждом пуле.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-246">All the pools compete for available resources and their final sizes are based on resource consumption in each pool.</span></span> <span data-ttu-id="6d4d0-247">В формировании окончательного размера пула также играют роль другие факторы, например политики.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-247">Other factors such as policies play a role in shaping the final pool size.</span></span>  
  
 <span data-ttu-id="6d4d0-248">В регуляторе ресурсов есть два стандартных пула ресурсов: внутренний пул и пул по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-248">Resource Governor predefines two resource pools, the internal pool and the default pool.</span></span>  
  
 <span data-ttu-id="6d4d0-249">**Внутренний пул**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-249">**Internal Pool**</span></span>  
  
 <span data-ttu-id="6d4d0-250">Внутренний пул представляет ресурсы, используемые самим [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d4d0-250">The internal pool represents the resources consumed by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] itself.</span></span> <span data-ttu-id="6d4d0-251">Этот пул всегда содержит только внутреннюю группу, и пул нельзя изменить никаким способом.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-251">This pool always contains only the internal group, and the pool is not alterable in any way.</span></span> <span data-ttu-id="6d4d0-252">Потребление ресурсов во внутреннем пуле не ограничивается.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-252">Resource consumption by the internal pool is not restricted.</span></span> <span data-ttu-id="6d4d0-253">Любая рабочая нагрузка в пуле рассматривается как критическая для работы сервера, и регулятор ресурсов позволяет внутреннему пулу передавать нагрузку на другие пулы, даже если это приводит к нарушению ограничений, заданных для этих пулов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-253">Any workloads in the pool are considered critical for server function, and Resource Governor allows the internal pool to pressure other pools even if it means the violation of limits set for the other pools.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6d4d0-254">Потребление ресурсов внутреннего пула и внутренней группы не вычитается из общего потребления ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-254">The internal pool and internal group resource usage is not subtracted from the overall resource usage.</span></span> <span data-ttu-id="6d4d0-255">Процентные показатели вычисляются на основе общего объема доступных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-255">Percentages are calculated from the overall resources available.</span></span>  
  
 <span data-ttu-id="6d4d0-256">**Пул по умолчанию**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-256">**Default Pool**</span></span>  
  
 <span data-ttu-id="6d4d0-257">Пул по умолчанию — это первый стандартный пользовательский пул.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-257">The default pool is the first predefined user pool.</span></span> <span data-ttu-id="6d4d0-258">До какой-либо настройки пул по умолчанию содержит только группу по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-258">Prior to any configuration the default pool only contains the default group.</span></span> <span data-ttu-id="6d4d0-259">Пул по умолчанию нельзя создать или удалить, но его можно изменить.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-259">The default pool cannot be created or dropped but it can be altered.</span></span> <span data-ttu-id="6d4d0-260">Пул по умолчанию может содержать определяемые пользователем группы в дополнение к группе по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-260">The default pool can contain user-defined groups in addition to the default group.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6d4d0-261">Группу по умолчанию можно изменить, но ее нельзя переместить за пределы пула по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-261">The default group is alterable but it cannot be moved out of the default pool.</span></span>  
  
 <span data-ttu-id="6d4d0-262">**Определяемые пользователем пулы ресурсов**</span><span class="sxs-lookup"><span data-stu-id="6d4d0-262">**User-Defined Resource Pools**</span></span>  
  
 <span data-ttu-id="6d4d0-263">Определяемые пользователем пулы ресурсов — это пулы ресурсов, создаваемые для конкретных рабочих нагрузок в вашей среде.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-263">User-defined resource pools are those that you create for specific workloads in your environment.</span></span> <span data-ttu-id="6d4d0-264">В регуляторе ресурсов предусмотрены инструкции DDL для создания, изменения и удаления пулов ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-264">Resource Governor provides DDL statements for creating, changing, and dropping resource pools.</span></span>  
  
## <a name="resource-pool-tasks"></a><span data-ttu-id="6d4d0-265">Задачи пула ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-265">Resource Pool Tasks</span></span>  
  
|<span data-ttu-id="6d4d0-266">Описание задачи</span><span class="sxs-lookup"><span data-stu-id="6d4d0-266">Task Description</span></span>|<span data-ttu-id="6d4d0-267">Раздел</span><span class="sxs-lookup"><span data-stu-id="6d4d0-267">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="6d4d0-268">Описывает процесс создания пула ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-268">Describes how to create a resource pool.</span></span>|[<span data-ttu-id="6d4d0-269">Создание пула ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-269">Create a Resource Pool</span></span>](create-a-resource-pool.md)|  
|<span data-ttu-id="6d4d0-270">Описывает, как изменить параметры пула ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-270">Describes how to change resource pool settings.</span></span>|[<span data-ttu-id="6d4d0-271">Изменение параметров пула ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-271">Change Resource Pool Settings</span></span>](change-resource-pool-settings.md)|  
|<span data-ttu-id="6d4d0-272">Описывает, как удалить пул ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6d4d0-272">Describes how to delete a resource pool.</span></span>|[<span data-ttu-id="6d4d0-273">Удаление пула ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-273">Delete a Resource Pool</span></span>](delete-a-resource-pool.md)|  
  
## <a name="see-also"></a><span data-ttu-id="6d4d0-274">См. также:</span><span class="sxs-lookup"><span data-stu-id="6d4d0-274">See Also</span></span>  
 <span data-ttu-id="6d4d0-275">[регулятор ресурсов](resource-governor.md) </span><span class="sxs-lookup"><span data-stu-id="6d4d0-275">[Resource Governor](resource-governor.md) </span></span>  
 <span data-ttu-id="6d4d0-276">[Группа рабочей нагрузки регулятора ресурсов](resource-governor-workload-group.md) </span><span class="sxs-lookup"><span data-stu-id="6d4d0-276">[Resource Governor Workload Group](resource-governor-workload-group.md) </span></span>  
 <span data-ttu-id="6d4d0-277">[Функция-классификатор регулятора ресурсов](resource-governor-classifier-function.md) </span><span class="sxs-lookup"><span data-stu-id="6d4d0-277">[Resource Governor Classifier Function](resource-governor-classifier-function.md) </span></span>  
 <span data-ttu-id="6d4d0-278">[Настройка регулятора ресурсов с помощью шаблона](configure-resource-governor-using-a-template.md) </span><span class="sxs-lookup"><span data-stu-id="6d4d0-278">[Configure Resource Governor Using a Template](configure-resource-governor-using-a-template.md) </span></span>  
 [<span data-ttu-id="6d4d0-279">Просмотр свойств регулятора ресурсов</span><span class="sxs-lookup"><span data-stu-id="6d4d0-279">View Resource Governor Properties</span></span>](view-resource-governor-properties.md)  
  
  

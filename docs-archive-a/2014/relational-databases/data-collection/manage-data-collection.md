---
title: Управление сбором данных | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- data collection [SQL Server]
- data collector [SQL Server], Transact-SQL
- data collector [SQL Server], SQL Server Management Studio
ms.assetid: bc137daa-9f37-4c01-9766-8b7350c75af8
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0a7d88923bc41939541bedeed2d40908e454e9c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657818"
---
# <a name="manage-data-collection"></a><span data-ttu-id="f6c86-102">Управление сбором данных</span><span class="sxs-lookup"><span data-stu-id="f6c86-102">Manage Data Collection</span></span>
  <span data-ttu-id="f6c86-103">Хранимые процедуры и функции среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] или [!INCLUDE[tsql](../../includes/tsql-md.md)] могут быть использованы для управления различными аспектами сбора данных (например, включать или отключать сбор данных, изменять конфигурацию набора сбора или просматривать данные в хранилище данных управления).</span><span class="sxs-lookup"><span data-stu-id="f6c86-103">You can use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)] stored procedures and functions to manage different aspects of data collection, such as enabling or disabling data collection, changing a collection set configuration, or viewing data in the management data warehouse.</span></span>  
  
## <a name="manage-data-collection-by-using-sql-server-management-studio"></a><span data-ttu-id="f6c86-104">Управление сбором данных с использованием среды SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="f6c86-104">Manage Data Collection by Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="f6c86-105">Следующие задачи, связанные со сборщиком данных, вы можете выполнять с помощью обозревателя объектов в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f6c86-105">You can perform the following data collector-related tasks by using Object Explorer in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span></span>  
  
-   [<span data-ttu-id="f6c86-106">Настройка хранилища данных управления (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="f6c86-106">Configure the Management Data Warehouse &#40;SQL Server Management Studio&#41;</span></span>](configure-the-management-data-warehouse-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="f6c86-107">Настройка свойств сборщика данных</span><span class="sxs-lookup"><span data-stu-id="f6c86-107">Configure Properties of a Data Collector</span></span>](configure-properties-of-a-data-collector.md)  
  
-   [<span data-ttu-id="f6c86-108">Включение или отключение сбор данных</span><span class="sxs-lookup"><span data-stu-id="f6c86-108">Enable or Disable Data Collection</span></span>](data-collection.md)  
  
-   [<span data-ttu-id="f6c86-109">Запуск или остановка набора элементов сбора</span><span class="sxs-lookup"><span data-stu-id="f6c86-109">Start or Stop a Collection Set</span></span>](start-or-stop-a-collection-set.md)  
  
-   [<span data-ttu-id="f6c86-110">Использование приложения SQL Server Profiler для создания набора элементов сбора трассировки SQL (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="f6c86-110">Use SQL Server Profiler to Create a SQL Trace Collection Set &#40;SQL Server Management Studio&#41;</span></span>](use-sql-server-profiler-to-create-a-sql-trace-collection-set.md)  
  
-   [<span data-ttu-id="f6c86-111">Просмотр журналов набора элементов сбора (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="f6c86-111">View Collection Set Logs &#40;SQL Server Management Studio&#41;</span></span>](view-collection-set-logs-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="f6c86-112">Просмотр и изменение расписаний набора элементов сбора (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="f6c86-112">View or Change Collection Set Schedules &#40;SQL Server Management Studio&#41;</span></span>](view-or-change-collection-set-schedules-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="f6c86-113">Просмотр отчета о наборе элементов сбора (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="f6c86-113">View a Collection Set Report &#40;SQL Server Management Studio&#41;</span></span>](view-a-collection-set-report-sql-server-management-studio.md)  
  
## <a name="manage-data-collection-by-using-transact-sql"></a><span data-ttu-id="f6c86-114">Управление сбором данных с помощью языка Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="f6c86-114">Manage Data Collection by Using Transact-SQL</span></span>  
 <span data-ttu-id="f6c86-115">Сборщик данных располагает большим набором хранимых процедур, который помогает выполнить любую задачу сборщика данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-115">The data collector provides an extensive collection of stored procedures that you can use to perform any data-collector related task.</span></span> <span data-ttu-id="f6c86-116">Например, [!INCLUDE[tsql](../../includes/tsql-md.md)]позволяет выполнять следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="f6c86-116">For example, by using [!INCLUDE[tsql](../../includes/tsql-md.md)], you can perform the following tasks:</span></span>  
  
-   [<span data-ttu-id="f6c86-117">Настройка параметров сбора данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-117">Configure Data Collection Parameters &#40;Transact-SQL&#41;</span></span>](configure-data-collection-parameters-transact-sql.md)  
  
-   [<span data-ttu-id="f6c86-118">Включение или отключение сбор данных</span><span class="sxs-lookup"><span data-stu-id="f6c86-118">Enable or Disable Data Collection</span></span>](data-collection.md)  
  
-   [<span data-ttu-id="f6c86-119">Запуск или остановка набора элементов сбора</span><span class="sxs-lookup"><span data-stu-id="f6c86-119">Start or Stop a Collection Set</span></span>](start-or-stop-a-collection-set.md)  
  
-   [<span data-ttu-id="f6c86-120">Создание пользовательского набора элементов сбора, использующего тип сборщика "Универсальный запрос T-SQL" (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-120">Create a Custom Collection Set That Uses the Generic T-SQL Query Collector Type &#40;Transact-SQL&#41;</span></span>](create-custom-collection-set-generic-t-sql-query-collector-type.md)  
  
-   [<span data-ttu-id="f6c86-121">Добавление элемента сбора в набор элементов сбора (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-121">Add a Collection Item to a Collection Set &#40;Transact-SQL&#41;</span></span>](add-a-collection-item-to-a-collection-set-transact-sql.md)  
  
 <span data-ttu-id="f6c86-122">Кроме того, предусмотрены функции и представления, использующиеся для получения данных конфигурации для базы данных msdb и хранилища данных управления, данных журнала выполнения и данных, записанных в хранилище данных управления.</span><span class="sxs-lookup"><span data-stu-id="f6c86-122">In addition, there are functions and views that you can use to get configuration data for the msdb and management data warehouse databases, execution log data, and data that is stored in the management data warehouse.</span></span>  
  
 <span data-ttu-id="f6c86-123">Существующие хранимые процедуры, функции и представления позволяют создавать собственные комплексные сценарии сбора данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-123">You can use the stored procedures, functions, and views that are provided to create your own end-to-end data collection scenarios.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f6c86-124">В отличие от обычных хранимых процедур, в хранимых процедурах сборщика данных используются жестко типизированные параметры и не поддерживается автоматическое преобразование типов данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-124">Unlike regular stored procedures, the data collector stored procedures use strictly typed parameters and do not support automatic data type conversion.</span></span> <span data-ttu-id="f6c86-125">Если эти параметры не вызываются вместе с правильными типами данных входных параметров, как указано в описании аргумента, хранимая процедура возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="f6c86-125">If these parameters are not called with the correct input parameter data types, as specified in the argument description, the stored procedure returns an error.</span></span>  
  
 <span data-ttu-id="f6c86-126">С помощью среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] можно создавать и выполнять представленные образцы кода.</span><span class="sxs-lookup"><span data-stu-id="f6c86-126">You can use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to create and execute the provided code samples.</span></span> <span data-ttu-id="f6c86-127">Дополнительные сведения см. в статье [Семантический поиск](../../ssms/object/object-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="f6c86-127">For more information, see [Object Explorer](../../ssms/object/object-explorer.md).</span></span> <span data-ttu-id="f6c86-128">В качестве альтернативы можно создать запрос в любом редакторе и сохранить его в текстовом файле с расширением SQL.</span><span class="sxs-lookup"><span data-stu-id="f6c86-128">As an alternative you can create the query in any editor and save it in a text file that has a .sql file name extension.</span></span> <span data-ttu-id="f6c86-129">Выполнить запрос из командной строки Windows можно с помощью программы `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="f6c86-129">You can execute the query from the Windows command prompt using the `sqlcmd` utility.</span></span> <span data-ttu-id="f6c86-130">Дополнительные сведения см. в статье [Программа sqlcmd](../scripting/sqlcmd-use-the-utility.md).</span><span class="sxs-lookup"><span data-stu-id="f6c86-130">For more information, see [Use the sqlcmd Utility](../scripting/sqlcmd-use-the-utility.md).</span></span>  
  
### <a name="stored-procedures-and-views"></a><span data-ttu-id="f6c86-131">Хранимые процедуры и представления</span><span class="sxs-lookup"><span data-stu-id="f6c86-131">Stored Procedures and Views</span></span>  
 <span data-ttu-id="f6c86-132">**Работа со сборщиком данных**</span><span class="sxs-lookup"><span data-stu-id="f6c86-132">**Working with the data collector**</span></span>  
  
 <span data-ttu-id="f6c86-133">В следующей таблице описаны хранимые процедуры, используемые при работе со сборщиком данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-133">The following table describes the stored procedures that you can use to work with the data collector.</span></span>  
  
|<span data-ttu-id="f6c86-134">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-134">Procedure name</span></span>|<span data-ttu-id="f6c86-135">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-135">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-136">sp_syscollector_enable_collector</span><span class="sxs-lookup"><span data-stu-id="f6c86-136">sp_syscollector_enable_collector</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-enable-collector-transact-sql)|<span data-ttu-id="f6c86-137">Включить сборщик данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-137">Enable the data collector.</span></span>|  
|[<span data-ttu-id="f6c86-138">sp_syscollector_disable_collector</span><span class="sxs-lookup"><span data-stu-id="f6c86-138">sp_syscollector_disable_collector</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-disable-collector-transact-sql)|<span data-ttu-id="f6c86-139">Выключить сборщик данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-139">Disable the data collector.</span></span>|  
  
 <span data-ttu-id="f6c86-140">**Работа с наборами сбора**</span><span class="sxs-lookup"><span data-stu-id="f6c86-140">**Working with collection sets**</span></span>  
  
 <span data-ttu-id="f6c86-141">В следующей таблице описаны хранимые процедуры, используемые при работе с наборами сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-141">The following table describes the stored procedures that you can use to work with collection sets.</span></span>  
  
|<span data-ttu-id="f6c86-142">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-142">Procedure name</span></span>|<span data-ttu-id="f6c86-143">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-143">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-144">sp_syscollector_run_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-144">sp_syscollector_run_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-run-collection-set-transact-sql)|<span data-ttu-id="f6c86-145">Запускает набор сбора по запросу.</span><span class="sxs-lookup"><span data-stu-id="f6c86-145">Run a collection set on demand.</span></span>|  
|[<span data-ttu-id="f6c86-146">sp_syscollector_start_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-146">sp_syscollector_start_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-start-collection-set-transact-sql)|<span data-ttu-id="f6c86-147">Запуск набора сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-147">Start a collection set.</span></span>|  
|[<span data-ttu-id="f6c86-148">sp_syscollector_stop_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-148">sp_syscollector_stop_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-stop-collection-set-transact-sql)|<span data-ttu-id="f6c86-149">Остановка набора сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-149">Stop a collection set.</span></span>|  
|[<span data-ttu-id="f6c86-150">sp_syscollector_create_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-150">sp_syscollector_create_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-create-collection-set-transact-sql)|<span data-ttu-id="f6c86-151">Создание набора сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-151">Create a collection set.</span></span>|  
|[<span data-ttu-id="f6c86-152">sp_syscollector_delete_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-152">sp_syscollector_delete_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-delete-collection-set-transact-sql)|<span data-ttu-id="f6c86-153">Удаление набора сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-153">Delete a collection set.</span></span>|  
|[<span data-ttu-id="f6c86-154">sp_syscollector_update_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-154">sp_syscollector_update_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-update-collection-set-transact-sql)|<span data-ttu-id="f6c86-155">Изменение конфигурации набора сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-155">Change a collection set configuration.</span></span>|  
|[<span data-ttu-id="f6c86-156">sp_syscollector_upload_collection_set (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-156">sp_syscollector_upload_collection_set &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-upload-collection-set-transact-sql)|<span data-ttu-id="f6c86-157">Передача данных набора сбора в хранилище управляющих данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-157">Upload collection set data to the management data warehouse.</span></span> <span data-ttu-id="f6c86-158">Фактически передача производится по требованию.</span><span class="sxs-lookup"><span data-stu-id="f6c86-158">This is effectively an on-demand upload.</span></span>|  
  
 <span data-ttu-id="f6c86-159">**Работа с элементами коллекции**</span><span class="sxs-lookup"><span data-stu-id="f6c86-159">**Working with collection items**</span></span>  
  
 <span data-ttu-id="f6c86-160">В следующей таблице описаны хранимые процедуры, используемые при работе с элементами сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-160">The following table describes the stored procedures that you can use to work with collection items.</span></span>  
  
|<span data-ttu-id="f6c86-161">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-161">Procedure name</span></span>|<span data-ttu-id="f6c86-162">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-162">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-163">sp_syscollector_create_collection_item (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-163">sp_syscollector_create_collection_item &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-create-collection-item-transact-sql)|<span data-ttu-id="f6c86-164">Создание элемента коллекции.</span><span class="sxs-lookup"><span data-stu-id="f6c86-164">Create a collection item.</span></span>|  
|[<span data-ttu-id="f6c86-165">sp_syscollector_delete_collection_item (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-165">sp_syscollector_delete_collection_item &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-delete-collection-item-transact-sql)|<span data-ttu-id="f6c86-166">Удаление элемента коллекции.</span><span class="sxs-lookup"><span data-stu-id="f6c86-166">Delete a collection item.</span></span>|  
|[<span data-ttu-id="f6c86-167">sp_syscollector_update_collection_item (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-167">sp_syscollector_update_collection_item &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-update-collection-item-transact-sql)|<span data-ttu-id="f6c86-168">Обновление элемента коллекции.</span><span class="sxs-lookup"><span data-stu-id="f6c86-168">Update a collection item.</span></span>|  
  
 <span data-ttu-id="f6c86-169">**Работа с типами сборщика**</span><span class="sxs-lookup"><span data-stu-id="f6c86-169">**Working with collector types**</span></span>  
  
 <span data-ttu-id="f6c86-170">В следующей таблице описаны хранимые процедуры, используемые при работе с типами сборщиков.</span><span class="sxs-lookup"><span data-stu-id="f6c86-170">The following table describes the stored procedures that you can use to work with collector types.</span></span>  
  
|<span data-ttu-id="f6c86-171">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-171">Procedure name</span></span>|<span data-ttu-id="f6c86-172">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-172">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-173">sp_syscollector_create_collector_type (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-173">sp_syscollector_create_collector_type &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-create-collector-type-transact-sql)|<span data-ttu-id="f6c86-174">Создание типа сборщика.</span><span class="sxs-lookup"><span data-stu-id="f6c86-174">Create a collector type.</span></span>|  
|[<span data-ttu-id="f6c86-175">sp_syscollector_update_collector_type (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-175">sp_syscollector_update_collector_type &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-update-collector-type-transact-sql)|<span data-ttu-id="f6c86-176">Обновление типа сборщика.</span><span class="sxs-lookup"><span data-stu-id="f6c86-176">Update a collector type.</span></span>|  
|[<span data-ttu-id="f6c86-177">sp_syscollector_delete_collector_type (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-177">sp_syscollector_delete_collector_type &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-delete-collector-type-transact-sql)|<span data-ttu-id="f6c86-178">Удаление типа сборщика.</span><span class="sxs-lookup"><span data-stu-id="f6c86-178">Delete a collector type.</span></span>|  
  
 <span data-ttu-id="f6c86-179">**Получение сведений о конфигурации**</span><span class="sxs-lookup"><span data-stu-id="f6c86-179">**Getting configuration information**</span></span>  
  
 <span data-ttu-id="f6c86-180">В следующей таблице описаны представления, используемые для получения сведений о конфигурации и данных журнала выполнения.</span><span class="sxs-lookup"><span data-stu-id="f6c86-180">The following table describes the views that you can use for getting configuration information and execution log data.</span></span>  
  
|<span data-ttu-id="f6c86-181">Имя представления</span><span class="sxs-lookup"><span data-stu-id="f6c86-181">View name</span></span>|<span data-ttu-id="f6c86-182">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-182">Description</span></span>|  
|---------------|-----------------|  
|[<span data-ttu-id="f6c86-183">syscollector_config_store (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-183">syscollector_config_store &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-config-store-transact-sql)|<span data-ttu-id="f6c86-184">Получение конфигурации сборщика данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-184">Get data collector configuration.</span></span>|  
|[<span data-ttu-id="f6c86-185">syscollector_collection_items (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-185">syscollector_collection_items &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-collection-items-transact-sql)|<span data-ttu-id="f6c86-186">Получение сведений об элементе коллекции.</span><span class="sxs-lookup"><span data-stu-id="f6c86-186">Get collection item information.</span></span>|  
|[<span data-ttu-id="f6c86-187">syscollector_collection_sets (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-187">syscollector_collection_sets &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-collection-sets-transact-sql)|<span data-ttu-id="f6c86-188">Получение сведений о наборе сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-188">Get collection set information.</span></span>|  
|[<span data-ttu-id="f6c86-189">syscollector_collector_types (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-189">syscollector_collector_types &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-collector-types-transact-sql)|<span data-ttu-id="f6c86-190">Получение сведений о типе сборщика.</span><span class="sxs-lookup"><span data-stu-id="f6c86-190">Get collector type information.</span></span>|  
|[<span data-ttu-id="f6c86-191">syscollector_execution_log (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-191">syscollector_execution_log &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-execution-log-transact-sql)|<span data-ttu-id="f6c86-192">Получение сведений о выполнении набора сбора и пакета.</span><span class="sxs-lookup"><span data-stu-id="f6c86-192">Get information about collection set and package execution.</span></span>|  
|[<span data-ttu-id="f6c86-193">syscollector_execution_stats (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-193">syscollector_execution_stats &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-execution-stats-transact-sql)|<span data-ttu-id="f6c86-194">Получение сведений о выполнении задачи.</span><span class="sxs-lookup"><span data-stu-id="f6c86-194">Get information about task execution.</span></span>|  
|[<span data-ttu-id="f6c86-195">syscollector_execution_log_full (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-195">syscollector_execution_log_full &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/syscollector-execution-log-full-transact-sql)|<span data-ttu-id="f6c86-196">Получение сведений о том, когда журнал выполнения заполнится.</span><span class="sxs-lookup"><span data-stu-id="f6c86-196">Get information when the execution log is full.</span></span>|  
  
 <span data-ttu-id="f6c86-197">**Настройка доступа к хранилищу управляющих данных**</span><span class="sxs-lookup"><span data-stu-id="f6c86-197">**Configuring access to the management data warehouse**</span></span>  
  
 <span data-ttu-id="f6c86-198">В следующей таблице описаны хранимые процедуры, используемые для настройки доступа к хранилищу данных управления.</span><span class="sxs-lookup"><span data-stu-id="f6c86-198">The following table describes the stored procedures that you can use to configure access to the management data warehouse.</span></span>  
  
|<span data-ttu-id="f6c86-199">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-199">Procedure name</span></span>|<span data-ttu-id="f6c86-200">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-200">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-201">sp_syscollector_set_warehouse_database_name (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-201">sp_syscollector_set_warehouse_database_name &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-set-warehouse-database-name-transact-sql)|<span data-ttu-id="f6c86-202">Укажите имя базы данных, определенное в строке соединения с хранилищем управляющих данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-202">Specify the database name defined in the connection string for the management data warehouse.</span></span>|  
|[<span data-ttu-id="f6c86-203">sp_syscollector_set_warehouse_instance_name (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-203">sp_syscollector_set_warehouse_instance_name &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-set-warehouse-instance-name-transact-sql)|<span data-ttu-id="f6c86-204">Укажите экземпляр, определенный в строке соединения с хранилищем управляющих данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-204">Specify the instance defined in the connection string for the management data warehouse.</span></span>|  
  
 <span data-ttu-id="f6c86-205">**Настройка хранилища управляющих данных**</span><span class="sxs-lookup"><span data-stu-id="f6c86-205">**Configuring the management data warehouse**</span></span>  
  
 <span data-ttu-id="f6c86-206">В следующей таблице описаны хранимые процедуры, используемые при работе с конфигурацией хранилища данных управления.</span><span class="sxs-lookup"><span data-stu-id="f6c86-206">The following table describes the stored procedures that you can use to work with the management data warehouse configuration.</span></span>  
  
|<span data-ttu-id="f6c86-207">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-207">Procedure name</span></span>|<span data-ttu-id="f6c86-208">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-208">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-209">core.sp_create_snapshot (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-209">core.sp_create_snapshot &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/core-sp-create-snapshot-transact-sql)|<span data-ttu-id="f6c86-210">Создание моментального снимка сбора в хранилище управляющих данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-210">Create a collection snapshot in the management data warehouse.</span></span>|  
|[<span data-ttu-id="f6c86-211">core.sp_update_data_source (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-211">core.sp_update_data_source &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/core-sp-update-data-source-transact-sql)|<span data-ttu-id="f6c86-212">Обновление источника данных для сбора данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-212">Update the data source for data collection.</span></span>|  
|[<span data-ttu-id="f6c86-213">core.sp_add_collector_type (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-213">core.sp_add_collector_type &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/core-sp-add-collector-type-transact-sql)|<span data-ttu-id="f6c86-214">Добавление типа сборщика в хранилище управляющих данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-214">Add a collector type to the management data warehouse.</span></span>|  
|[<span data-ttu-id="f6c86-215">core.sp_remove_collector_type (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-215">core.sp_remove_collector_type &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/core-sp-remove-collector-type-transact-sql)|<span data-ttu-id="f6c86-216">Удаление типа сборщика из хранилища управляющих данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-216">Remove a collector type from the management data warehouse.</span></span>|  
|[<span data-ttu-id="f6c86-217">core.sp_purge_data (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-217">core.sp_purge_data &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/core-sp-purge-data-transact-sql)|<span data-ttu-id="f6c86-218">Удаление данных из хранилища данных управления.</span><span class="sxs-lookup"><span data-stu-id="f6c86-218">Delete data from the management data warehouse.</span></span>|  
  
 <span data-ttu-id="f6c86-219">**Работа с пакетами передачи**</span><span class="sxs-lookup"><span data-stu-id="f6c86-219">**Working with upload packages**</span></span>  
  
 <span data-ttu-id="f6c86-220">В следующей таблице описаны хранимые процедуры, используемые при работе с пакетами передачи.</span><span class="sxs-lookup"><span data-stu-id="f6c86-220">The following table describes the stored procedures that you can use to work with upload packages.</span></span>  
  
|<span data-ttu-id="f6c86-221">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-221">Procedure name</span></span>|<span data-ttu-id="f6c86-222">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-222">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-223">sp_syscollector_set_cache_window (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-223">sp_syscollector_set_cache_window &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-set-cache-window-transact-sql)|<span data-ttu-id="f6c86-224">Настройка количества попыток передачи данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-224">Configure the number of data upload retries.</span></span>|  
|[<span data-ttu-id="f6c86-225">sp_syscollector_set_cache_directory (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-225">sp_syscollector_set_cache_directory &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-set-cache-directory-transact-sql)|<span data-ttu-id="f6c86-226">Указание временного хранилища данных между попытками передачи.</span><span class="sxs-lookup"><span data-stu-id="f6c86-226">Specify temporary storage for data between upload retries.</span></span>|  
  
 <span data-ttu-id="f6c86-227">**Работа с журналом выполнения сбора данных**</span><span class="sxs-lookup"><span data-stu-id="f6c86-227">**Working with the data collection execution log**</span></span>  
  
 <span data-ttu-id="f6c86-228">В следующей таблице описаны хранимые процедуры, используемые при работе с журналом выполнения сбора данных.</span><span class="sxs-lookup"><span data-stu-id="f6c86-228">The following table describes the stored procedures that you can use to work with the data collection execution log.</span></span>  
  
|<span data-ttu-id="f6c86-229">Имя процедуры</span><span class="sxs-lookup"><span data-stu-id="f6c86-229">Procedure name</span></span>|<span data-ttu-id="f6c86-230">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-230">Description</span></span>|  
|--------------------|-----------------|  
|[<span data-ttu-id="f6c86-231">sp_syscollector_delete_execution_log_tree (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-231">sp_syscollector_delete_execution_log_tree &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-syscollector-delete-execution-log-tree-transact-sql)|<span data-ttu-id="f6c86-232">Удаление записей о наборах сбора из журнала выполнения.</span><span class="sxs-lookup"><span data-stu-id="f6c86-232">Delete collection set entries from the execution log.</span></span>|  
  
### <a name="functions"></a><span data-ttu-id="f6c86-233">Функции</span><span class="sxs-lookup"><span data-stu-id="f6c86-233">Functions</span></span>  
 <span data-ttu-id="f6c86-234">В следующей таблице описаны функции, используемые для получения сведений о выполнении и трассировке.</span><span class="sxs-lookup"><span data-stu-id="f6c86-234">The following table describes the functions that you can use to obtain execution and trace information.</span></span>  
  
|<span data-ttu-id="f6c86-235">Имя функции</span><span class="sxs-lookup"><span data-stu-id="f6c86-235">Function name</span></span>|<span data-ttu-id="f6c86-236">Описание</span><span class="sxs-lookup"><span data-stu-id="f6c86-236">Description</span></span>|  
|-------------------|-----------------|  
|[<span data-ttu-id="f6c86-237">fn_syscollector_get_execution_details (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-237">fn_syscollector_get_execution_details &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/fn-syscollector-get-execution-details-transact-sql)|<span data-ttu-id="f6c86-238">Получение данных журнала выполнения служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] для определенного пакета.</span><span class="sxs-lookup"><span data-stu-id="f6c86-238">Get [!INCLUDE[ssIS](../../includes/ssis-md.md)] execution log data for a specific package.</span></span>|  
|[<span data-ttu-id="f6c86-239">fn_syscollector_get_execution_stats (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-239">fn_syscollector_get_execution_stats &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/fn-syscollector-get-execution-stats-transact-sql)|<span data-ttu-id="f6c86-240">Получение статистики выполнения для пакета или набора сбора.</span><span class="sxs-lookup"><span data-stu-id="f6c86-240">Get execution statistics for a collection set or package.</span></span> <span data-ttu-id="f6c86-241">Эти сведения включают записанные в журнал ошибки.</span><span class="sxs-lookup"><span data-stu-id="f6c86-241">This information includes errors that are logged.</span></span>|  
|[<span data-ttu-id="f6c86-242">snapshots.fn_trace_getdata (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f6c86-242">snapshots.fn_trace_getdata &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/snapshots-fn-trace-getdata-transact-sql)|<span data-ttu-id="f6c86-243">Получение событий, записанных в журнал при использовании типа сборщика «Универсальная трассировка SQL».</span><span class="sxs-lookup"><span data-stu-id="f6c86-243">Get the events that are logged when the Generic SQL Trace collector type is used to collect data.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="f6c86-244">См. также:</span><span class="sxs-lookup"><span data-stu-id="f6c86-244">See Also</span></span>  
 <span data-ttu-id="f6c86-245">[Выполнение хранимой процедуры](../stored-procedures/execute-a-stored-procedure.md) </span><span class="sxs-lookup"><span data-stu-id="f6c86-245">[Execute a Stored Procedure](../stored-procedures/execute-a-stored-procedure.md) </span></span>  
 <span data-ttu-id="f6c86-246">[Использование SQL Server Management Studio](../../database-engine/use-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="f6c86-246">[Use SQL Server Management Studio](../../database-engine/use-sql-server-management-studio.md) </span></span>  
 [<span data-ttu-id="f6c86-247">Сбор данных</span><span class="sxs-lookup"><span data-stu-id="f6c86-247">Data Collection</span></span>](data-collection.md)  
  
  

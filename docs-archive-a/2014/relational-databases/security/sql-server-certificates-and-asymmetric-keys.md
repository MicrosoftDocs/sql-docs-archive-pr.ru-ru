---
title: Сертификаты и асимметричные ключи в SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server], certificates and asymmetric keys
ms.assetid: 8519aa2f-f09c-4c1c-96b5-abc24811e60c
author: VanMSFT
ms.author: vanto
ms.openlocfilehash: e8af2d92b31fee4f220b4c950fb6b7bd9c519885
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87730306"
---
# <a name="sql-server-certificates-and-asymmetric-keys"></a><span data-ttu-id="fd69d-102">Сертификаты SQL Server и асимметричные ключи</span><span class="sxs-lookup"><span data-stu-id="fd69d-102">SQL Server Certificates and Asymmetric Keys</span></span>
  <span data-ttu-id="fd69d-103"> Криптография с открытым ключом представляет собой форму обеспечения конфиденциальности сообщений, подразумевающую создание *открытого* и *закрытого* ключей.</span><span class="sxs-lookup"><span data-stu-id="fd69d-103">Public Key Cryptography (PKI) is a form of message secrecy in which a user creates a *public* key and a *private* key.</span></span> <span data-ttu-id="fd69d-104">Закрытый ключ хранится в секрете, а открытый ключ передается другим лицам.</span><span class="sxs-lookup"><span data-stu-id="fd69d-104">The private key is kept secret, whereas the public key can be distributed to others.</span></span> <span data-ttu-id="fd69d-105">Хотя ключи математически связаны, закрытый ключ нельзя легко вычислить с помощью открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="fd69d-105">Although the keys are mathematically related, the private key cannot be easily derived by using the public key.</span></span> <span data-ttu-id="fd69d-106">Открытый ключ используется при шифровании данных, а закрытый ключ используется при расшифровке данных.</span><span class="sxs-lookup"><span data-stu-id="fd69d-106">The public key is used to encrypt data and the private key is used to decrypt data.</span></span> <span data-ttu-id="fd69d-107">Сообщение, зашифрованное с помощью открытого ключа, можно расшифровать только с помощью правильного закрытого ключа.</span><span class="sxs-lookup"><span data-stu-id="fd69d-107">A message that is encrypted by using the public key can only be decrypted by using the correct private key.</span></span> <span data-ttu-id="fd69d-108">Поскольку применяются два различных ключа, эти ключи *асимметричные*.</span><span class="sxs-lookup"><span data-stu-id="fd69d-108">Since there are two different keys, these keys are *asymmetric*.</span></span>  
  
 <span data-ttu-id="fd69d-109">Как сертификаты, так и асимметричные ключи представляют собой способы асимметричного шифрования.</span><span class="sxs-lookup"><span data-stu-id="fd69d-109">Certificates and asymmetric keys are both ways to use asymmetric encryption.</span></span> <span data-ttu-id="fd69d-110">Сертификаты часто используются как контейнеры для асимметричных ключей, так как они могут содержать дополнительные данные, например о датах окончания действия и поставщиках.</span><span class="sxs-lookup"><span data-stu-id="fd69d-110">Certificates are often used as containers for asymmetric keys because they can contain more information such as expiry dates and issuers.</span></span> <span data-ttu-id="fd69d-111">Не существует различий между двумя механизмами для алгоритма шифрования, равно как и различий в надежности при одинаковой длине ключа.</span><span class="sxs-lookup"><span data-stu-id="fd69d-111">There is no difference between the two mechanisms for the cryptographic algorithm, and no difference in strength given the same key length.</span></span> <span data-ttu-id="fd69d-112">Как правило, сертификат используется для шифрования других типов ключей шифрования в базе данных, или подписи программных модулей.</span><span class="sxs-lookup"><span data-stu-id="fd69d-112">Generally, you use a certificate to encrypt other types of encryption keys in a database, or to sign code modules.</span></span>  
  
 <span data-ttu-id="fd69d-113">Сертификаты и асимметричные ключи можно применять для расшифровки данных, зашифрованных другим способом.</span><span class="sxs-lookup"><span data-stu-id="fd69d-113">Certificates and asymmetric keys can decrypt data that the other encrypts.</span></span> <span data-ttu-id="fd69d-114">Обычно асимметричный ключ используется для шифрования симметричного ключа перед его сохранением в базе данных.</span><span class="sxs-lookup"><span data-stu-id="fd69d-114">Generally, you use asymmetric encryption to encrypt a symmetric key for storage in a database.</span></span>  
  
 <span data-ttu-id="fd69d-115">В отличие от сертификата, открытый ключ не имеет определенного формата, и его нельзя экспортировать в файл.</span><span class="sxs-lookup"><span data-stu-id="fd69d-115">A public key does not have a particular format like a certificate would have, and you cannot export it to a file.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fd69d-116">имеет функции, которые позволяют создавать сертификаты и ключи для использования с сервером и базой данных, а также управлять этими сертификатами и ключами.</span><span class="sxs-lookup"><span data-stu-id="fd69d-116">contains features that enable you to create and manage certificates and keys for use with the server and database.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fd69d-117">нельзя использовать для создания сертификатов и ключей (и управления сертификатами и ключами) с другими приложениями или в операционной системе.</span><span class="sxs-lookup"><span data-stu-id="fd69d-117">cannot be used to create and manage certificates and keys with other applications or in the operating system.</span></span>  
  
## <a name="certificates"></a><span data-ttu-id="fd69d-118">Сертификаты</span><span class="sxs-lookup"><span data-stu-id="fd69d-118">Certificates</span></span>  
 <span data-ttu-id="fd69d-119">Сертификат представляет собой объект безопасности с цифровой подписью, который содержит открытый (и необязательно закрытый) ключ для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd69d-119">A certificate is a digitally signed security object that contains a public (and optionally a private) key for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="fd69d-120">Можно использовать сертификаты, сформированные внешними средствами, или сертификаты, созданные [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fd69d-120">You can use externally generated certificates or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can generate certificates.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fd69d-121">Сертификаты соответствуют стандарту сертификатов IETF X.509v3.</span><span class="sxs-lookup"><span data-stu-id="fd69d-121">certificates comply with the IETF X.509v3 certificate standard.</span></span>  
  
 <span data-ttu-id="fd69d-122">Сертификаты полезны благодаря возможности выполнить как экспорт ключей в файлы сертификатов X.509, так и импорт из них.</span><span class="sxs-lookup"><span data-stu-id="fd69d-122">Certificates are useful because of the option of both exporting and importing keys to X.509 certificate files.</span></span> <span data-ttu-id="fd69d-123">Синтаксис, применяемый при создании сертификатов, позволяет вводить параметры создания для сертификатов, например дату окончания действия.</span><span class="sxs-lookup"><span data-stu-id="fd69d-123">The syntax for creating certificates allows for creation options for certificates such as an expiry date.</span></span>  
  
### <a name="using-a-certificate-in-sql-server"></a><span data-ttu-id="fd69d-124">Использование сертификата в SQL Server</span><span class="sxs-lookup"><span data-stu-id="fd69d-124">Using a Certificate in SQL Server</span></span>  
 <span data-ttu-id="fd69d-125">Сертификаты могут использоваться для защиты соединений, при зеркальном отображении баз данных, подписывании пакетов и других объектов, шифровании данных или соединений.</span><span class="sxs-lookup"><span data-stu-id="fd69d-125">Certificates can be used to help secure connections, in database mirroring, to sign packages and other objects, or to encrypt data or connections.</span></span> <span data-ttu-id="fd69d-126">В следующей таблице перечислены дополнительные ресурсы для сертификатов в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd69d-126">The following table lists additional resources for certificates in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="fd69d-127">Раздел</span><span class="sxs-lookup"><span data-stu-id="fd69d-127">Topic</span></span>|<span data-ttu-id="fd69d-128">Описание</span><span class="sxs-lookup"><span data-stu-id="fd69d-128">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="fd69d-129">CREATE CERTIFICATE (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="fd69d-129">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)|<span data-ttu-id="fd69d-130">Содержит описание команды создания сертификатов.</span><span class="sxs-lookup"><span data-stu-id="fd69d-130">Explains the command for creating certificates.</span></span>|  
|[<span data-ttu-id="fd69d-131">Определение источника пакетов с помощью цифровых подписей</span><span class="sxs-lookup"><span data-stu-id="fd69d-131">Identify the Source of Packages with Digital Signatures</span></span>](../../integration-services/security/identify-the-source-of-packages-with-digital-signatures.md)|<span data-ttu-id="fd69d-132">Содержит сведения об использовании сертификатов для подписывания программных пакетов.</span><span class="sxs-lookup"><span data-stu-id="fd69d-132">Shows information about how to use certificates to sign software packages.</span></span>|  
|[<span data-ttu-id="fd69d-133">Использование сертификатов для конечной точки зеркального отображения базы данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="fd69d-133">Use Certificates for a Database Mirroring Endpoint &#40;Transact-SQL&#41;</span></span>](../../database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql.md)|<span data-ttu-id="fd69d-134">Содержит сведения об использовании сертификатов с зеркальным отображением базы данных.</span><span class="sxs-lookup"><span data-stu-id="fd69d-134">Covers information about how to use certificates with Database Mirroring.</span></span>|  
  
## <a name="asymmetric-keys"></a><span data-ttu-id="fd69d-135">Асимметричные ключи</span><span class="sxs-lookup"><span data-stu-id="fd69d-135">Asymmetric Keys</span></span>  
 <span data-ttu-id="fd69d-136">Асимметричные ключи используются для защиты симметричных ключей.</span><span class="sxs-lookup"><span data-stu-id="fd69d-136">Asymmetric keys are used for securing symmetric keys.</span></span> <span data-ttu-id="fd69d-137">Их можно также использовать для ограниченного шифрования данных и цифрового подписывания объектов базы данных.</span><span class="sxs-lookup"><span data-stu-id="fd69d-137">They can also be used for limited data encryption and to digitally sign database objects.</span></span> <span data-ttu-id="fd69d-138">Асимметричный ключ состоит из закрытого ключа и соответствующего открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="fd69d-138">An asymmetric key consists of a private key and a corresponding public key.</span></span> <span data-ttu-id="fd69d-139">Дополнительные сведения об асимметричных ключах см. в разделе [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="fd69d-139">For more information about asymmetric keys, see [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span></span>  
  
 <span data-ttu-id="fd69d-140">Асимметричные ключи можно импортировать из файлов ключа для строгого имени, но их нельзя экспортировать.</span><span class="sxs-lookup"><span data-stu-id="fd69d-140">Asymmetric keys can be imported from strong name key files, but they cannot be exported.</span></span> <span data-ttu-id="fd69d-141">Они также не имеют даты окончания действия.</span><span class="sxs-lookup"><span data-stu-id="fd69d-141">They also do not have expiry options.</span></span> <span data-ttu-id="fd69d-142">Асимметричные ключи нельзя применять для шифрования соединений.</span><span class="sxs-lookup"><span data-stu-id="fd69d-142">Asymmetric keys cannot encrypt connections.</span></span>  
  
### <a name="using-an-asymmetric-key-in-sql-server"></a><span data-ttu-id="fd69d-143">Использование асимметричного ключа в SQL Server</span><span class="sxs-lookup"><span data-stu-id="fd69d-143">Using an Asymmetric Key in SQL Server</span></span>  
 <span data-ttu-id="fd69d-144">Асимметричные ключи можно использовать для защиты данных или подписывания незашифрованного текста.</span><span class="sxs-lookup"><span data-stu-id="fd69d-144">Asymmetric keys can be used to help secure data or sign plaintext.</span></span> <span data-ttu-id="fd69d-145">В следующей таблице перечислены дополнительные ресурсы для асимметричных ключей в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd69d-145">The following table lists additional resources for asymmetric keys in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="fd69d-146">Раздел</span><span class="sxs-lookup"><span data-stu-id="fd69d-146">Topic</span></span>|<span data-ttu-id="fd69d-147">Описание</span><span class="sxs-lookup"><span data-stu-id="fd69d-147">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="fd69d-148">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="fd69d-148">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)|<span data-ttu-id="fd69d-149">Содержит описание команды создания асимметричных ключей.</span><span class="sxs-lookup"><span data-stu-id="fd69d-149">Explains the command for creating asymmetric keys.</span></span>|  
|[<span data-ttu-id="fd69d-150">SIGNBYASYMKEY (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="fd69d-150">SIGNBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/signbyasymkey-transact-sql)|<span data-ttu-id="fd69d-151">Отображает параметры для подписывания объектов.</span><span class="sxs-lookup"><span data-stu-id="fd69d-151">Displays the options for signing objects.</span></span>|  
  
## <a name="tools"></a><span data-ttu-id="fd69d-152">Инструменты</span><span class="sxs-lookup"><span data-stu-id="fd69d-152">Tools</span></span>  
 [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="fd69d-153">предоставляет средства и программы, которые создают сертификаты и файлы ключа для строгого имени.</span><span class="sxs-lookup"><span data-stu-id="fd69d-153">provides tools and utilities that will generate certificates and strong name key files.</span></span> <span data-ttu-id="fd69d-154">Эти средства обеспечивают более гибкий процесс создания ключа, чем синтаксис [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fd69d-154">These tools offer a richer amount of flexibility in the key generation process than the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] syntax.</span></span> <span data-ttu-id="fd69d-155">С помощью этих средств можно создать ключи RSA большей длины, а затем импортировать их в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd69d-155">You can use these tools to create RSA keys with more complex key lengths and then import them into [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="fd69d-156">В следующей таблице показано, где найти эти средства.</span><span class="sxs-lookup"><span data-stu-id="fd69d-156">The following table explains shows where to find these tools.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="fd69d-157">Инструмент</span><span class="sxs-lookup"><span data-stu-id="fd69d-157">Tool</span></span>|<span data-ttu-id="fd69d-158">Назначение</span><span class="sxs-lookup"><span data-stu-id="fd69d-158">Purpose</span></span>|  
|<span data-ttu-id="fd69d-159">[makecert](https://msdn2.microsoft.com/library/bfsktky3\(VS.80\).aspx)</span><span class="sxs-lookup"><span data-stu-id="fd69d-159">[makecert](https://msdn2.microsoft.com/library/bfsktky3\(VS.80\).aspx)</span></span>|<span data-ttu-id="fd69d-160">Создает сертификаты.</span><span class="sxs-lookup"><span data-stu-id="fd69d-160">Creates certificates.</span></span>|  
|<span data-ttu-id="fd69d-161">[sn](https://msdn2.microsoft.com/library/k5b5tt23\(VS.80\).aspx)</span><span class="sxs-lookup"><span data-stu-id="fd69d-161">[sn](https://msdn2.microsoft.com/library/k5b5tt23\(VS.80\).aspx)</span></span>|<span data-ttu-id="fd69d-162">Создает строгие имена для симметричных ключей.</span><span class="sxs-lookup"><span data-stu-id="fd69d-162">Creates strong names for symmetric keys.</span></span>|  
  
## <a name="related-tasks"></a><span data-ttu-id="fd69d-163">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="fd69d-163">Related Tasks</span></span>  
 [<span data-ttu-id="fd69d-164">Выбор алгоритма шифрования</span><span class="sxs-lookup"><span data-stu-id="fd69d-164">Choose an Encryption Algorithm</span></span>](encryption/choose-an-encryption-algorithm.md)  
  
 [<span data-ttu-id="fd69d-165">CREATE SYMMETRIC KEY (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="fd69d-165">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-symmetric-key-transact-sql)  
  
 [<span data-ttu-id="fd69d-166">CREATE CERTIFICATE (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="fd69d-166">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="fd69d-167">См. также:</span><span class="sxs-lookup"><span data-stu-id="fd69d-167">See Also</span></span>  
 <span data-ttu-id="fd69d-168">[sys.certificates (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="fd69d-168">[sys.certificates &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql) </span></span>  
 [<span data-ttu-id="fd69d-169">Прозрачное шифрование данных (TDE)</span><span class="sxs-lookup"><span data-stu-id="fd69d-169">Transparent Data Encryption &#40;TDE&#41;</span></span>](encryption/transparent-data-encryption.md)  
  

---
title: Управление метаданными при обеспечении доступности базы данных на другом экземпляре сервера (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- cross-database queries [SQL Server]
- logins [SQL Server], recreating on another server instance
- triggers [SQL Server], DLL
- user-defined error messages [SQL Server]
- permissions [SQL Server], metadata access
- Full-Text Engine [SQL Server]
- metadata [SQL Server], databases available to other instances
- jobs [SQL Server Agent], recreating on another server instance
- failover [SQL Server], managing metadata
- event notifications [SQL Server], metadata
- database mirroring [SQL Server], metadata
- startup options [SQL Server]
- restoring [SQL Server], onto another server instance
- linked servers [SQL Server], metadata
- WMI Provider for Server Events, metadata
- attaching databases [SQL Server]
- log shipping [SQL Server], metadata
- encryption [SQL Server], metadata
- server configuration [SQL Server]
- distributed queries [SQL Server], metadata
- extended stored procedures [SQL Server], metadata
- credentials [SQL Server], metadata
- copying databases
ms.assetid: 5d98cf2a-9fc2-4610-be72-b422b8682681
author: stevestein
ms.author: sstein
ms.openlocfilehash: 5087a925ac163281f4326a5f952c11ce2953c6dd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751068"
---
# <a name="manage-metadata-when-making-a-database-available-on-another-server-instance-sql-server"></a><span data-ttu-id="f8bc4-102">Управление метаданными при обеспечении доступности базы данных на другом экземпляре сервера (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-102">Manage Metadata When Making a Database Available on Another Server Instance (SQL Server)</span></span>
  <span data-ttu-id="f8bc4-103">Информация в этом разделе применима в следующих ситуациях:</span><span class="sxs-lookup"><span data-stu-id="f8bc4-103">This topic is relevant in the following situations:</span></span>  
  
-   <span data-ttu-id="f8bc4-104">Настройка реплик доступности группы готовности [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-104">Configuring the availability replicas of an [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] availability group.</span></span>  
  
-   <span data-ttu-id="f8bc4-105">Настройка зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-105">Setting up database mirroring for a database.</span></span>  
  
-   <span data-ttu-id="f8bc4-106">Подготовка смены ролей между сервером-источником и сервером-получателем в конфигурации доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-106">When preparing to change roles between primary and secondary servers in a log shipping configuration.</span></span>  
  
-   <span data-ttu-id="f8bc4-107">Восстановление базы данных на другом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-107">Restoring a database to another server instance.</span></span>  
  
-   <span data-ttu-id="f8bc4-108">Присоединение копии базы данных к другому экземпляру сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-108">Attaching a copy of a database on another server instance.</span></span>  
  
 <span data-ttu-id="f8bc4-109">Некоторые приложения зависят от информации, сущностей или объектов, которые находятся вне области однопользовательской базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-109">Some applications depend on information, entities, and/or objects that are outside of the scope of a single user database.</span></span> <span data-ttu-id="f8bc4-110">Как правило, приложение зависит от баз данных **master** , **msdb** и пользовательской базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-110">Typically, an application has dependencies on the **master** and **msdb** databases, and also on the user database.</span></span> <span data-ttu-id="f8bc4-111">Что-либо сохраненное вне пользовательской базы данных, которая требуется для правильного функционирования другой базы данных, должно быть доступно на экземпляре целевого сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-111">Anything stored outside of a user database that is required for the correct functioning of that database must be made available on the destination server instance.</span></span> <span data-ttu-id="f8bc4-112">Например, имена входа для приложений сохраняются как метаданные в базе данных **master** и должны быть созданы заново на целевом сервере.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-112">For example, the logins for an application are stored as metadata in the **master** database, and they must be re-created on the destination server.</span></span> <span data-ttu-id="f8bc4-113">Если приложение или план обслуживания базы данных зависит от заданий агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , метаданные которого сохранены в базе данных **msdb** , необходимо создать заново эти задания в экземпляре целевого сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-113">If an application or database maintenance plan depends on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, whose metadata is stored in the **msdb** database, you must re-create those jobs on the destination server instance.</span></span> <span data-ttu-id="f8bc4-114">Точно так же метаданные сохраняются в базе данных **master**для триггера уровня сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-114">Similarly, the metadata for a server-level trigger is stored in **master**.</span></span>  
  
 <span data-ttu-id="f8bc4-115">При перемещении базы данных для приложения в другой экземпляр сервера необходимо повторно создать все метаданные зависимых сущностей и объектов в базах данных **master** и **msdb** в экземпляре целевого сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-115">When you move the database for an application to another server instance, you must re-create all the metadata of the dependent entities and objects in **master** and **msdb** on the destination server instance.</span></span> <span data-ttu-id="f8bc4-116">Например, если в приложении базы данных используются триггеры уровня сервера, то простого присоединения или восстановления базы данных в новой системе будет недостаточно.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-116">For example, if a database application uses server-level triggers, just attaching or restoring the database on the new system is not enough.</span></span> <span data-ttu-id="f8bc4-117">Функциональность базы данных не будет соответствовать ожидаемой, пока метаданные для этих триггеров в базе данных **master** не будут повторно созданы вручную.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-117">The database will not work as expected unless you manually re-create the metadata for those triggers in the **master** database.</span></span>  
  
##  <a name="information-entities-and-objects-that-are-stored-outside-of-user-databases"></a><a name="information_entities_and_objects"></a> <span data-ttu-id="f8bc4-118">Информация, сущности и объекты, сохраненные вне пользовательской базы данных</span><span class="sxs-lookup"><span data-stu-id="f8bc4-118">Information, Entities, and Objects That Are Stored Outside of User Databases</span></span>  
 <span data-ttu-id="f8bc4-119">В заключении этого раздела приводятся потенциальные проблемы, возникающие в работе с базой данных, которая доступна на другом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-119">The remainder of this topic summarizes the potential issues that might affect a database that is being made available on another server instance.</span></span> <span data-ttu-id="f8bc4-120">Возможно, потребуется повторно создать один или несколько типов информации, сущностей или объектов, перечисленных в следующем списке.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-120">You might have to re-create one or more of the types of information, entities, or objects listed in the following list.</span></span> <span data-ttu-id="f8bc4-121">Чтобы просмотреть итоговую информацию, щелкните ссылку элемента.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-121">To see a summary, click the link for the item.</span></span>  
  
-   [<span data-ttu-id="f8bc4-122">Параметры конфигурации сервера</span><span class="sxs-lookup"><span data-stu-id="f8bc4-122">Server configuration settings</span></span>](#server_configuration_settings)  
  
-   [<span data-ttu-id="f8bc4-123">Учетные данные</span><span class="sxs-lookup"><span data-stu-id="f8bc4-123">Credentials</span></span>](#credentials)  
  
-   [<span data-ttu-id="f8bc4-124">Запросы баз данных</span><span class="sxs-lookup"><span data-stu-id="f8bc4-124">Cross-database queries</span></span>](#cross_database_queries)  
  
-   [<span data-ttu-id="f8bc4-125">Владелец базы данных</span><span class="sxs-lookup"><span data-stu-id="f8bc4-125">Database ownership</span></span>](#database_ownership)  
  
-   [<span data-ttu-id="f8bc4-126">Распределенные запросы и связанные серверы</span><span class="sxs-lookup"><span data-stu-id="f8bc4-126">Distributed queries/linked servers</span></span>](#distributed_queries_and_linked_servers)  
  
-   [<span data-ttu-id="f8bc4-127">Зашифрованные данные</span><span class="sxs-lookup"><span data-stu-id="f8bc4-127">Encrypted data</span></span>](#encrypted_data)  
  
-   [<span data-ttu-id="f8bc4-128">Определяемые пользователем сообщения об ошибках</span><span class="sxs-lookup"><span data-stu-id="f8bc4-128">User-defined error messages</span></span>](#user_defined_error_messages)  
  
-   [<span data-ttu-id="f8bc4-129">Уведомления о событиях и события инструментария управления Windows (WMI) на уровне сервера</span><span class="sxs-lookup"><span data-stu-id="f8bc4-129">Event notifications and Windows Management Instrumentation (WMI) events (at server level)</span></span>](#event_notif_and_wmi_events)  
  
-   [<span data-ttu-id="f8bc4-130">Расширенные хранимые процедуры</span><span class="sxs-lookup"><span data-stu-id="f8bc4-130">Extended stored procedures</span></span>](#extended_stored_procedures)  
  
-   [<span data-ttu-id="f8bc4-131">Свойства средства полнотекстового поиска для SQL Server</span><span class="sxs-lookup"><span data-stu-id="f8bc4-131">Full-text engine for SQL Server properties</span></span>](#ifts_service_properties)  
  
-   [<span data-ttu-id="f8bc4-132">Задания</span><span class="sxs-lookup"><span data-stu-id="f8bc4-132">Jobs</span></span>](#jobs)  
  
-   [<span data-ttu-id="f8bc4-133">Имена входа</span><span class="sxs-lookup"><span data-stu-id="f8bc4-133">Logins</span></span>](#logins)  
  
-   [<span data-ttu-id="f8bc4-134">Разрешения</span><span class="sxs-lookup"><span data-stu-id="f8bc4-134">Permissions</span></span>](#permissions)  
  
-   [<span data-ttu-id="f8bc4-135">Параметры репликации</span><span class="sxs-lookup"><span data-stu-id="f8bc4-135">Replication settings</span></span>](#replication_settings)  
  
-   [<span data-ttu-id="f8bc4-136">Приложения компонента Service Broker</span><span class="sxs-lookup"><span data-stu-id="f8bc4-136">Service Broker applications</span></span>](#sb_applications)  
  
-   [<span data-ttu-id="f8bc4-137">Стартовые процедуры</span><span class="sxs-lookup"><span data-stu-id="f8bc4-137">Startup procedures</span></span>](#startup_procedures)  
  
-   [<span data-ttu-id="f8bc4-138">Триггеры уровня сервера</span><span class="sxs-lookup"><span data-stu-id="f8bc4-138">Triggers (at server level)</span></span>](#triggers)  
  
##  <a name="server-configuration-settings"></a><a name="server_configuration_settings"></a> <span data-ttu-id="f8bc4-139">Server Configuration Settings</span><span class="sxs-lookup"><span data-stu-id="f8bc4-139">Server Configuration Settings</span></span>  
 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="f8bc4-140">и более поздние версии позволяют выборочно устанавливать и запускать ключевые службы и компоненты.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-140">and later versions selectively install and starts key services and features.</span></span> <span data-ttu-id="f8bc4-141">Это помогает сократить уязвимую контактную зону системы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-141">This helps reduce the attackable surface area of a system.</span></span> <span data-ttu-id="f8bc4-142">В конфигурации по умолчанию для новых экземпляров многие из функций отключены.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-142">In the default configuration of new installations, many features are not enabled.</span></span> <span data-ttu-id="f8bc4-143">Если в базе данных имеется зависимость от какой-либо отключенной по умолчанию службы или свойства, то их необходимо включить на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-143">If the database relies on any service or feature that is off by default, this service or feature must be enabled on the destination server instance.</span></span>  
  
 <span data-ttu-id="f8bc4-144">Дополнительные сведения об этих параметрах и их включении и отключении см. в разделе [Параметры конфигурации сервера (SQL Server)](../../database-engine/configure-windows/server-configuration-options-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-144">For more information about these settings and enabling or disabling them, see [Server Configuration Options &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).</span></span>  
  
 [<span data-ttu-id="f8bc4-145">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-145">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="credentials"></a><a name="credentials"></a><span data-ttu-id="f8bc4-146">Информации</span><span class="sxs-lookup"><span data-stu-id="f8bc4-146">Credentials</span></span>  
 <span data-ttu-id="f8bc4-147">Учетные данные являются записью, которая содержит сведения для проверки подлинности, необходимые для подключения к ресурсу извне [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-147">A credential is a record that contains the authentication information that is required to connect to a resource outside [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f8bc4-148">Как правило, учетные данные представляют собой имя входа и пароль Windows.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-148">Most credentials consist of a Windows login and password.</span></span>  
  
 <span data-ttu-id="f8bc4-149">Дополнительные сведения об этой функции см. в разделе [Учетные данные (компонент Database Engine)](../security/authentication-access/credentials-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-149">For more information about this feature, see [Credentials &#40;Database Engine&#41;](../security/authentication-access/credentials-database-engine.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8bc4-150">Учетные данные используются учетными записями-посредниками агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-150">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent Proxy accounts use credentials.</span></span> <span data-ttu-id="f8bc4-151">Получить идентификационный номер участника-посредника можно в системной таблице [sysproxies](/sql/relational-databases/system-tables/dbo-sysproxies-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-151">To learn the credential ID of a proxy account, use the [sysproxies](/sql/relational-databases/system-tables/dbo-sysproxies-transact-sql) system table.</span></span>  
  
 [<span data-ttu-id="f8bc4-152">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-152">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="cross-database-queries"></a><a name="cross_database_queries"></a><span data-ttu-id="f8bc4-153">Межбазовые запросы</span><span class="sxs-lookup"><span data-stu-id="f8bc4-153">Cross-Database Queries</span></span>  
 <span data-ttu-id="f8bc4-154">Параметры базы данных DB_CHAINING и TRUSTWORTHY по умолчанию принимают значение OFF.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-154">The DB_CHAINING and TRUSTWORTHY database options are OFF by default.</span></span> <span data-ttu-id="f8bc4-155">Если в исходной базе данных какой-либо из этих параметров имеет значение ON, то может потребоваться его включение на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-155">If either of these is set to ON for the original database, you may have to enable them on the database on the destination server instance.</span></span> <span data-ttu-id="f8bc4-156">Дополнительные сведения см. в разделе [ALTER DATABASE (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-156">For more information, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
 <span data-ttu-id="f8bc4-157">Операции присоединения и отсоединения приводят к отмене межбазовых цепочек владения для базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-157">Attach-and-detach operations disable cross-database ownership chaining for the database.</span></span> <span data-ttu-id="f8bc4-158">Сведения о том, как включить цепочки владения, см. в разделе [Параметр конфигурации сервера "cross db ownership chaining"](../../database-engine/configure-windows/cross-db-ownership-chaining-server-configuration-option.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-158">For information about how to enable chaining, see [cross db ownership chaining Server Configuration Option](../../database-engine/configure-windows/cross-db-ownership-chaining-server-configuration-option.md).</span></span>  
  
 <span data-ttu-id="f8bc4-159">Дополнительные сведения см. также в разделе [Настройка зеркальной базы данных на использование свойства TRUSTWORTHY (Transact-SQL)](../../database-engine/database-mirroring/set-up-a-mirror-database-to-use-the-trustworthy-property-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-159">For more information, see also [Set Up a Mirror Database to Use the Trustworthy Property &#40;Transact-SQL&#41;](../../database-engine/database-mirroring/set-up-a-mirror-database-to-use-the-trustworthy-property-transact-sql.md)</span></span>  
  
 [<span data-ttu-id="f8bc4-160">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-160">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="database-ownership"></a><a name="database_ownership"></a><span data-ttu-id="f8bc4-161">Владение базой данных</span><span class="sxs-lookup"><span data-stu-id="f8bc4-161">Database Ownership</span></span>  
 <span data-ttu-id="f8bc4-162">При восстановлении базы данных на другом компьютере имя входа пользователя [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или пользователя Windows, начавшего процесс восстановления, автоматически становится владельцем базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-162">When a database is restored on another computer, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login or Windows user who initiated the restore operation becomes the owner of the new database automatically.</span></span> <span data-ttu-id="f8bc4-163">При восстановлении базы данных системный администратор или владелец новой базы данных могут сменить ее владельца.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-163">When the database is restored, the system administrator or the new database owner can change database ownership.</span></span>  
  
##  <a name="distributed-queries-and-linked-servers"></a><a name="distributed_queries_and_linked_servers"></a> <span data-ttu-id="f8bc4-164">Распределенные запросы и связанные серверы</span><span class="sxs-lookup"><span data-stu-id="f8bc4-164">Distributed Queries and Linked Servers</span></span>  
 <span data-ttu-id="f8bc4-165">Распределенные запросы и связанные серверы поддерживаются приложениями OLE DB.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-165">Distributed queries and linked servers are supported for OLE DB applications.</span></span> <span data-ttu-id="f8bc4-166">Распределенные запросы получают доступ к данным из нескольких разнородных источников, расположенных на одних и тех же или разных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-166">Distributed queries access data from multiple heterogeneous data sources on either the same or different computers.</span></span> <span data-ttu-id="f8bc4-167">Конфигурация связанных серверов позволяет [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполнять команды в источниках данных OLE DB на удаленных серверах.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-167">A linked server configuration enables [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to execute commands against OLE DB data sources on remote servers.</span></span> <span data-ttu-id="f8bc4-168">Дополнительные сведения об этих функциях см. в разделе [Связанные серверы (компонент Database Engine)](../linked-servers/linked-servers-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-168">For more information about these features, see [Linked Servers &#40;Database Engine&#41;](../linked-servers/linked-servers-database-engine.md).</span></span>  
  
 [<span data-ttu-id="f8bc4-169">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-169">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="encrypted-data"></a><a name="encrypted_data"></a><span data-ttu-id="f8bc4-170">Зашифрованные данные</span><span class="sxs-lookup"><span data-stu-id="f8bc4-170">Encrypted Data</span></span>  
 <span data-ttu-id="f8bc4-171">Если в базе данных, к которой осуществляется доступ с другого экземпляра сервера, содержатся зашифрованные данные, а на исходном сервере главный ключ базы данных защищен главным ключом службы, может потребоваться повторное шифрование главного ключа службы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-171">If the database you are making available on another server instance contains encrypted data and if the database master key is protected by the service master key on the original server, it might be necessary to re-create the service master key encryption.</span></span> <span data-ttu-id="f8bc4-172">*Главный ключ базы данных* — это симметричный ключ, который применяется для защиты закрытых ключей сертификатов и асимметричных ключей, имеющихся в базе данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-172">The *database master key* is a symmetric key that is used to protect the private keys of certificates and asymmetric keys in an encrypted database.</span></span> <span data-ttu-id="f8bc4-173">При создании этот ключ зашифровывается с помощью алгоритма Triple DES и пользовательского пароля.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-173">When created, the database master key is encrypted by using the Triple DES algorithm and a user-supplied password.</span></span>  
  
 <span data-ttu-id="f8bc4-174">Чтобы разрешить автоматическое шифрование главного ключа базы данных на экземпляре сервера, копия этого ключа зашифровывается с использованием главного ключа службы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-174">To enable the automatic decryption of the database master key on a server instance, a copy of this key is encrypted by using the service master key.</span></span> <span data-ttu-id="f8bc4-175">Эта зашифрованная копия хранится как в рабочей базе данных, так и в базе данных **master**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-175">This encrypted copy is stored in both the database and in **master**.</span></span> <span data-ttu-id="f8bc4-176">Как правило, копия, хранимая в базе **master** , обновляется автоматически при каждом изменении главного ключа.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-176">Typically, the copy stored in **master** is silently updated whenever the master key is changed.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f8bc4-177">сначала пытается расшифровать главный ключ базы данных с использованием главного ключа службы экземпляра.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-177">first tries to decrypt the database master key with the service master key of the instance.</span></span> <span data-ttu-id="f8bc4-178">Если расшифровка заканчивается неудачей, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет в хранилище учетных данных поиск учетных данных главного ключа, имеющих идентификатор GUID того же семейства, что и у базы данных, для которой нужен главный ключ.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-178">If that decryption fails, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] searches the credential store for master key credentials that have the same family GUID as the database for which it requires the master key.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f8bc4-179">пытается расшифровать главный ключ базы данных с помощью всех подходящих учетных данных, пока не удастся расшифровать ключ или пока не кончатся учетные данные.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-179">then tries to decrypt the database master key with each matching credential until the decryption succeeds or there are no more credentials.</span></span> <span data-ttu-id="f8bc4-180">Главный ключ, который не зашифрован с помощью главного ключа службы, следует открывать с помощью инструкции OPEN MASTER KEY и пароля.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-180">A master key that is not encrypted by the service master key must be opened by using the OPEN MASTER KEY statement and a password.</span></span>  
  
 <span data-ttu-id="f8bc4-181">При копировании, восстановлении или присоединении зашифрованного ключа базы данных на новом экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]в базе данных **master** целевого сервера не содержится копия главного ключа базы данных, зашифрованного с использованием главного ключа службы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-181">When an encrypted database is copied, restored, or attached to a new instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], a copy of the database master key encrypted by the service master key is not stored in **master** on the destination server instance.</span></span> <span data-ttu-id="f8bc4-182">На целевом экземпляре сервера необходимо открыть главный ключ базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-182">On the destination server instance, you must open the master key of the database.</span></span> <span data-ttu-id="f8bc4-183">Чтобы открыть главный ключ, выполните следующую инструкцию: открыть РАСШИФРОВКу главного ключа по ПАРОЛю **= '***Password***'**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-183">To open the master key, execute the following statement: OPEN MASTER KEY DECRYPTION BY PASSWORD **='***password***'**.</span></span> <span data-ttu-id="f8bc4-184">После этого рекомендуется включить автоматическую расшифровку главного ключа базы данных, выполнив следующую инструкцию: ALTER MASTER KEY ADD ENCRYPTION BY SERVICE MASTER KEY.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-184">We recommend that you then enable automatic decryption of the database master key by executing the following statement: ALTER MASTER KEY ADD ENCRYPTION BY SERVICE MASTER KEY.</span></span> <span data-ttu-id="f8bc4-185">Эта инструкция передает экземпляру сервера копию главного ключа базы данных, зашифрованного с использованием главного ключа службы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-185">This ALTER MASTER KEY statement provisions the server instance with a copy of the database master key that is encrypted with the service master key.</span></span> <span data-ttu-id="f8bc4-186">Дополнительные сведения см. в разделах [OPEN MASTER KEY (Transact-SQL)](/sql/t-sql/statements/open-master-key-transact-sql) и [ALTER MASTER KEY (Transact-SQL)](/sql/t-sql/statements/alter-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-186">For more information, see [OPEN MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/open-master-key-transact-sql) and [ALTER MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-master-key-transact-sql).</span></span>  
  
 <span data-ttu-id="f8bc4-187">Сведения о включении автоматической расшифровки главного ключа базы данных в зеркальной базе данных см. в разделе [Настройка зашифрованной зеркальной базы данных](../../database-engine/database-mirroring/set-up-an-encrypted-mirror-database.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-187">For information about how to enable automatic decryption of the database master key of a mirror database, see [Set Up an Encrypted Mirror Database](../../database-engine/database-mirroring/set-up-an-encrypted-mirror-database.md).</span></span>  
  
 <span data-ttu-id="f8bc4-188">Дополнительные сведения см. также в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="f8bc4-188">For more information, see also:</span></span>  
  
-   [<span data-ttu-id="f8bc4-189">Иерархия средств шифрования</span><span class="sxs-lookup"><span data-stu-id="f8bc4-189">Encryption Hierarchy</span></span>](../security/encryption/encryption-hierarchy.md)  
  
-   [<span data-ttu-id="f8bc4-190">Настройка зашифрованной зеркальной базы данных</span><span class="sxs-lookup"><span data-stu-id="f8bc4-190">Set Up an Encrypted Mirror Database</span></span>](../../database-engine/database-mirroring/set-up-an-encrypted-mirror-database.md)  
  
-   [<span data-ttu-id="f8bc4-191">Создание идентичных симметричных ключей на двух серверах</span><span class="sxs-lookup"><span data-stu-id="f8bc4-191">Create Identical Symmetric Keys on Two Servers</span></span>](../security/encryption/create-identical-symmetric-keys-on-two-servers.md)  
  
 [<span data-ttu-id="f8bc4-192">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-192">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="user-defined-error-messages"></a><a name="user_defined_error_messages"></a><span data-ttu-id="f8bc4-193">Определяемые пользователем сообщения об ошибках</span><span class="sxs-lookup"><span data-stu-id="f8bc4-193">User-defined Error Messages</span></span>  
 <span data-ttu-id="f8bc4-194">Определяемые пользователем сообщения об ошибках настраиваются в представлении каталога [sys.messages](/sql/relational-databases/system-catalog-views/messages-for-errors-catalog-views-sys-messages) ,</span><span class="sxs-lookup"><span data-stu-id="f8bc4-194">User-defined error messages reside in the [sys.messages](/sql/relational-databases/system-catalog-views/messages-for-errors-catalog-views-sys-messages) catalog view.</span></span> <span data-ttu-id="f8bc4-195">которое хранится в базе данных **master**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-195">This catalog view is stored in **master**.</span></span> <span data-ttu-id="f8bc4-196">Если приложение базы данных зависит от определяемых пользователем сообщений об ошибках и если эта база данных доступна на другом экземпляре сервера, то для добавления на целевой экземпляр сервера уже имеющихся определяемых пользователем сообщений об ошибках следует пользоваться хранимой процедурой [sp_addmessage](/sql/relational-databases/system-stored-procedures/sp-addmessage-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-196">If a database application depends on user-defined error messages and the database is made available on another server instance, use [sp_addmessage](/sql/relational-databases/system-stored-procedures/sp-addmessage-transact-sql) to add those user-defined messages on the destination server instance.</span></span>  
  
 [<span data-ttu-id="f8bc4-197">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-197">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="event-notifications-and-windows-management-instrumentation-wmi-events-at-server-level"></a><a name="event_notif_and_wmi_events"></a> <span data-ttu-id="f8bc4-198">Уведомления о событиях и события инструментария управления Windows (WMI) на уровне сервера</span><span class="sxs-lookup"><span data-stu-id="f8bc4-198">Event Notifications and Windows Management Instrumentation (WMI) Events (at Server Level)</span></span>  
  
### <a name="server-level-event-notifications"></a><span data-ttu-id="f8bc4-199">Уведомления о событии на уровне сервера</span><span class="sxs-lookup"><span data-stu-id="f8bc4-199">Server-Level Event Notifications</span></span>  
 <span data-ttu-id="f8bc4-200">Уведомления о событиях уровня сервера хранятся в базе данных **msdb**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-200">Server-level event notifications are stored in **msdb**.</span></span> <span data-ttu-id="f8bc4-201">Поэтому, если приложение базы данных находится в зависимости от уведомления о событии уровня сервера, уведомления о событии необходимо создать и на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-201">Therefore, if a database application relies on a server-level event notifications, that event notification must be re-created on the destination server instance.</span></span> <span data-ttu-id="f8bc4-202">Для просмотра уведомлений о событиях в экземпляре сервера используется представление каталога [sys.server_event_notifications](/sql/relational-databases/system-catalog-views/sys-server-event-notifications-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-202">To view the event notifications on a server instance, use the [sys.server_event_notifications](/sql/relational-databases/system-catalog-views/sys-server-event-notifications-transact-sql) catalog view.</span></span> <span data-ttu-id="f8bc4-203">Дополнительные сведения см. в разделе [Event Notifications](../service-broker/event-notifications.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-203">For more information, see [Event Notifications](../service-broker/event-notifications.md).</span></span>  
  
 <span data-ttu-id="f8bc4-204">В дополнение уведомления о событиях доставляются с помощью компонента [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-204">Additionally, event notifications are delivered by using [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span></span> <span data-ttu-id="f8bc4-205">Маршруты входящих сообщений не включаются в базу данных, содержащую службу.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-205">Routes for incoming messages are not included in the database that contains a service.</span></span> <span data-ttu-id="f8bc4-206">Вместо этого явные маршруты хранятся в базе данных **msdb**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-206">Instead, explicit routes are stored in **msdb**.</span></span> <span data-ttu-id="f8bc4-207">Если служба использует явный маршрут в базе данных **msdb** для перенаправления входящих сообщений, при присоединении базы данных к другому экземпляру необходимо заново создать этот маршрут.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-207">If your service uses an explicit route in the **msdb** database to route incoming messages to the service, when you attach a database in a different instance, you must re-create this route.</span></span>  
  
### <a name="windows-management-instrumentation-wmi-events"></a><span data-ttu-id="f8bc4-208">События инструментария управления Windows (WMI)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-208">Windows Management Instrumentation (WMI) Events</span></span>  
 <span data-ttu-id="f8bc4-209">Поставщик инструментария WMI для событий сервера позволяет использовать Инструментарий управления Windows (WMI) для контроля событий в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-209">The WMI Provider for Server Events lets you use the Windows Management Instrumentation (WMI) to monitor events in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f8bc4-210">Все приложения, основанные на событиях уровня сервера, обработанных поставщиком инструментария WMI, который необходим базе данных, должны быть определены на компьютере экземпляра целевого сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-210">Any application that relies on server-level events exposed through the WMI provider on which a database relies must be defined the computer of the destination server instance.</span></span> <span data-ttu-id="f8bc4-211">Поставщик событий инструментария WMI создает уведомления о событиях с целевой службой, описанной в базе данных **msdb**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-211">WMI Event provider creates event notifications with a target service that is defined in **msdb**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8bc4-212">Дополнительные сведения см. в разделе [Основные понятия о поставщике WMI для событий сервера](../wmi-provider-server-events/wmi-provider-for-server-events-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-212">For more information, see [WMI Provider for Server Events Concepts](../wmi-provider-server-events/wmi-provider-for-server-events-concepts.md).</span></span>  
  
 <span data-ttu-id="f8bc4-213">**Создание оповещения WMI в среде SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="f8bc4-213">**To create a WMI alert using SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="f8bc4-214">Создание предупреждения о событии WMI</span><span class="sxs-lookup"><span data-stu-id="f8bc4-214">Create a WMI Event Alert</span></span>](../../ssms/agent/create-a-wmi-event-alert.md)  
  
### <a name="how-event-notifications-work-for-a-mirrored-database"></a><span data-ttu-id="f8bc4-215">Принцип работы уведомлений о событиях зеркальной базы данных</span><span class="sxs-lookup"><span data-stu-id="f8bc4-215">How Event Notifications Work for a Mirrored Database</span></span>  
 <span data-ttu-id="f8bc4-216">Межбазовая доставка уведомлений о событиях, в которой участвует зеркально отображенная база данных, по определению является удаленной, потому что зеркально отображенная база данных может выполнить переход на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-216">Cross-database delivery of event notifications that involves a mirrored database is remote, by definition, because the mirrored database can fail over.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="f8bc4-217">обеспечивает специальную поддержку зеркальных баз данных в виде *зеркальных маршрутов*.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-217">provides special support for mirrored databases, in the form of *mirrored routes*.</span></span> <span data-ttu-id="f8bc4-218">Маршрут зеркального отображения имеет два адреса: один для экземпляра основного сервера и другой — для экземпляра зеркального сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-218">A mirrored route has two addresses: one for the principal server instance and one for the mirror server instance.</span></span>  
  
 <span data-ttu-id="f8bc4-219">С помощью настройки маршрутов зеркального отображения создается маршрутизация компонента [!INCLUDE[ssSB](../../includes/sssb-md.md)] , учитывающая зеркальное отображение базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-219">By setting up mirrored routes, you make [!INCLUDE[ssSB](../../includes/sssb-md.md)] routing aware of database mirroring.</span></span> <span data-ttu-id="f8bc4-220">Маршруты зеркального отображения позволяют компоненту [!INCLUDE[ssSB](../../includes/sssb-md.md)] явно переадресовывать сеансы связи на текущий экземпляр основного сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-220">The mirrored routes enable [!INCLUDE[ssSB](../../includes/sssb-md.md)] to transparently redirect conversations to the current principal server instance.</span></span> <span data-ttu-id="f8bc4-221">Например, рассмотрим службу Service_A, которая расположена на зеркальной базе данных Database_A.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-221">For example, consider a service, Service_A, which is hosted by a mirrored database, Database_A.</span></span> <span data-ttu-id="f8bc4-222">Предположим, что необходима другая служба Service_B, расположенная в базе данных Database_B, чтобы вести диалог со службой Service_A.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-222">Assume that you need another service, Service_B, which is hosted by Database_B, to have a dialog with Service_A.</span></span> <span data-ttu-id="f8bc4-223">Для этого диалога база данных Database_B должна содержать зеркально отображенный маршрут для службы Service_A.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-223">For this dialog to be possible, Database_B must contain a mirrored route for Service_A.</span></span> <span data-ttu-id="f8bc4-224">Кроме того, база данных Database_A должна содержать незеркальный маршрут протокола TCP к службе Service_B, который в отличие от локального остается допустимым после отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-224">In addition, Database_A must contain a nonmirrored TCP transport route to Service_B, which, unlike a local route, remains valid after failover.</span></span> <span data-ttu-id="f8bc4-225">Эти маршруты включают ACK для возврата после отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-225">These routes enable ACKs to come back after a failover.</span></span> <span data-ttu-id="f8bc4-226">Поскольку службу отправителя всегда называют тем же способом, маршрут должен указывать экземпляр брокера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-226">Because the service of the sender is always named in the same manner, the route must specify the broker instance.</span></span>  
  
 <span data-ttu-id="f8bc4-227">Требования для зеркально отображенных маршрутов применяются независимо от того, является ли служба в зеркально отображенной базе данных вызывающей или целевой.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-227">The requirement for mirrored routes applies for regardless of whether the service in the mirrored database is the initiator service or the target service:</span></span>  
  
-   <span data-ttu-id="f8bc4-228">Если целевая служба находится в зеркально отображенной базе данных, вызывающая служба должна иметь обратный, зеркально отображенный маршрут к целевой службе.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-228">If target service is in the mirrored database, the initiator service must have a mirrored route back to the target.</span></span> <span data-ttu-id="f8bc4-229">Однако целевая служба может иметь постоянный маршрут к вызывающей службе.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-229">However, the target can have a regular route back to initiator.</span></span>  
  
-   <span data-ttu-id="f8bc4-230">Если вызывающая служба находится в зеркально отображенной базе данных, целевая служба должна иметь обратный, зеркально отображенный маршрут к вызывающей службе для доставки подтверждений и ответов.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-230">If initiator service is in the mirrored database, the target service must have a mirrored route back to initiator to deliver acknowledgements and replies.</span></span> <span data-ttu-id="f8bc4-231">Однако вызывающая служба может иметь постоянный обратный маршрут к целевой службе.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-231">However, the initiator can have a regular route to the target.</span></span>  
  
 [<span data-ttu-id="f8bc4-232">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-232">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="extended-stored-procedures"></a><a name="extended_stored_procedures"></a><span data-ttu-id="f8bc4-233">Расширенные хранимые процедуры</span><span class="sxs-lookup"><span data-stu-id="f8bc4-233">Extended Stored Procedures</span></span>  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)]<span data-ttu-id="f8bc4-234">Вместо этого используйте [интеграцию со средой CLR](../clr-integration/common-language-runtime-integration-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-234">Use [CLR Integration](../clr-integration/common-language-runtime-integration-overview.md) instead.</span></span>  
  
 <span data-ttu-id="f8bc4-235">Программирование расширенных хранимых процедур осуществляется с помощью API-интерфейса расширенных хранимых процедур [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-235">Extended stored procedures are programmed by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Extended Stored Procedure API.</span></span> <span data-ttu-id="f8bc4-236">Участник предопределенной роли сервера **sysadmin** может зарегистрировать расширенную хранимую процедуру на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и выдать пользователям разрешение на ее выполнение.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-236">A member of the **sysadmin** fixed server role can register an extended stored procedure with an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and grant permission to users to execute the procedure.</span></span> <span data-ttu-id="f8bc4-237">Расширенные хранимые процедуры будут добавляться только в базу данных **master** .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-237">Extended stored procedures can be added only to the **master** database.</span></span>  
  
 <span data-ttu-id="f8bc4-238">Расширенные хранимые процедуры запускаются непосредственно в адресном пространстве экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]и могут приводить к утечкам памяти или другим проблемам, снижающим производительность и надежность сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-238">Extended stored procedures run directly in the address space of an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and they may produce memory leaks or other problems that reduce the performance and reliability of the server.</span></span> <span data-ttu-id="f8bc4-239">Целесообразно хранить расширенные хранимые процедуры в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , отдельном от экземпляра, содержащего данные, на которые они ссылаются.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-239">You should consider storing extended stored procedures in an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is separate from the instance that contains the referenced data.</span></span> <span data-ttu-id="f8bc4-240">Следует также рассмотреть возможность использования распределенных запросов для получения доступа к базе данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-240">You should also consider using distributed queries to access the database.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f8bc4-241">Прежде чем добавлять расширенные хранимые процедуры на сервер и предоставлять разрешение EXECUTE на них другим пользователям, системный администратор должен тщательно проверить каждую расширенную хранимую процедуру, чтобы убедиться, что она не содержит вредоносного или злонамеренного кода.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-241">Before adding extended stored procedures to the server and granting EXECUTE permissions to other users, the system administrator should thoroughly review each extended stored procedure to make sure that it does not contain harmful or malicious code.</span></span>  
  
 <span data-ttu-id="f8bc4-242">Дополнительные сведения см. в разделах [Предоставление разрешений для объекта (Transact-SQL)](/sql/t-sql/statements/grant-object-permissions-transact-sql), [DENY, запрет разрешений на объект (Transact-SQL)](/sql/t-sql/statements/deny-object-permissions-transact-sql) и [REVOKE, отмена разрешения (Transact-SQL)](/sql/t-sql/statements/revoke-object-permissions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-242">For more information, see [GRANT Object Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-object-permissions-transact-sql), [DENY Object Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/deny-object-permissions-transact-sql), and [REVOKE Object Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/revoke-object-permissions-transact-sql).</span></span>  
  
 [<span data-ttu-id="f8bc4-243">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-243">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="full-text-engine-for-sql-server-properties"></a><a name="ifts_service_properties"></a><span data-ttu-id="f8bc4-244">Средство полнотекстового поиска для SQL Server свойств</span><span class="sxs-lookup"><span data-stu-id="f8bc4-244">Full-Text Engine for SQL Server Properties</span></span>  
 <span data-ttu-id="f8bc4-245">Свойства средства полнотекстового поиска устанавливаются процедурой [sp_fulltext_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-245">Properties are set on the Full-Text Engine by [sp_fulltext_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql).</span></span> <span data-ttu-id="f8bc4-246">Убедитесь, что на целевом экземпляре сервера настроены необходимые для этих свойств параметры.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-246">Make sure that the destination server instance has the required settings for these properties.</span></span> <span data-ttu-id="f8bc4-247">Дополнительные сведения об этих свойствах см. в разделе [FULLTEXTSERVICEPROPERTY (Transact-SQL)](/sql/t-sql/functions/fulltextserviceproperty-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-247">For more information about these properties, see [FULLTEXTSERVICEPROPERTY &#40;Transact-SQL&#41;](/sql/t-sql/functions/fulltextserviceproperty-transact-sql).</span></span>  
  
 <span data-ttu-id="f8bc4-248">Кроме того, если на исходном и целевом экземплярах сервера установлены разные версии [средств разбиения по словам и парадигматических модулей](../search/configure-and-manage-word-breakers-and-stemmers-for-search.md) или [фильтров полнотекстового поиска](../search/configure-and-manage-filters-for-search.md) , то функциональность полнотекстового индекса и запросов также может отличаться.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-248">Additionally, if the [word breakers and stemmers](../search/configure-and-manage-word-breakers-and-stemmers-for-search.md) component or [full-text search filters](../search/configure-and-manage-filters-for-search.md) component have different versions on the original and destination server instances, full-text index and queries may behave differently.</span></span> <span data-ttu-id="f8bc4-249">Кроме того, [тезаурус](../search/full-text-search.md) хранится в файлах конкретного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-249">Also, the [thesaurus](../search/full-text-search.md) is stored in instance-specific files.</span></span> <span data-ttu-id="f8bc4-250">Нужно либо переместить копию этих файлов в соответствующее место на целевом экземпляре сервера, либо повторно создать их.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-250">You must either transfer a copy of those files to an equivalent location on the destination server instance or re-create them on new instance.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8bc4-251">Когда базу данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с файлами полнотекстовых каталогов присоединяют к экземпляру сервера [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , то присоединение файлов каталогов выполняется из их предыдущего расположения вместе с другими файлами баз данных, как и в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-251">When you attach a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database that contains full-text catalog files onto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="f8bc4-252">Дополнительные сведения см. в разделе [Обновление полнотекстового поиска](../search/upgrade-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-252">For more information, see [Upgrade Full-Text Search](../search/upgrade-full-text-search.md).</span></span>  
  
 <span data-ttu-id="f8bc4-253">Дополнительные сведения см. также в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="f8bc4-253">For more information, see also:</span></span>  
  
-   [<span data-ttu-id="f8bc4-254">Создание резервных копий и восстановление полнотекстовых каталогов и индексов</span><span class="sxs-lookup"><span data-stu-id="f8bc4-254">Back Up and Restore Full-Text Catalogs and Indexes</span></span>](../search/back-up-and-restore-full-text-catalogs-and-indexes.md)  
  
-   [<span data-ttu-id="f8bc4-255">Зеркальное отображение баз данных и полнотекстовые каталоги (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-255">Database Mirroring and Full-Text Catalogs &#40;SQL Server&#41;</span></span>](../../database-engine/database-mirroring/database-mirroring-and-full-text-catalogs-sql-server.md)  
  
 [<span data-ttu-id="f8bc4-256">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-256">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="jobs"></a><a name="jobs"></a><span data-ttu-id="f8bc4-257">Вакансии</span><span class="sxs-lookup"><span data-stu-id="f8bc4-257">Jobs</span></span>  
 <span data-ttu-id="f8bc4-258">Если база данных использует задания агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , их необходимо создать повторно на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-258">If the database relies on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, you will have to re-create them on the destination server instance.</span></span> <span data-ttu-id="f8bc4-259">Задания находятся в зависимости от своей среды.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-259">Jobs depend on their environments.</span></span> <span data-ttu-id="f8bc4-260">Если планируется повторное создание существующего задания на целевом экземпляре сервера, последний должен быть изменен для обеспечения соответствия среде задания на исходном экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-260">If you plan to re-create an existing job on the destination server instance, the destination server instance might have to be modified to match the environment of that job on the original server instance.</span></span> <span data-ttu-id="f8bc4-261">Важными являются следующие факторы среды.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-261">The following environmental factors are significant:</span></span>  
  
-   <span data-ttu-id="f8bc4-262">Имя входа, используемое заданием</span><span class="sxs-lookup"><span data-stu-id="f8bc4-262">The login used by the job</span></span>  
  
     <span data-ttu-id="f8bc4-263">Для создания или выполнения заданий агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на целевой экземпляр сервера сначала нужно добавить необходимые ему имена входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-263">To create or execute [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, you must first add any [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins required by the job to the destination server instance.</span></span> <span data-ttu-id="f8bc4-264">Дополнительные сведения см. в разделе [Настройка пользователя для создания заданий агента SQL Server и управления заданиями](../../ssms/agent/configure-a-user-to-create-and-manage-sql-server-agent-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-264">For more information, see [Configure a User to Create and Manage SQL Server Agent Jobs](../../ssms/agent/configure-a-user-to-create-and-manage-sql-server-agent-jobs.md).</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f8bc4-265">Стартовая учетная запись службы агента</span><span class="sxs-lookup"><span data-stu-id="f8bc4-265">Agent service startup account</span></span>  
  
     <span data-ttu-id="f8bc4-266">Стартовая учетная запись службы определяет учетную запись [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows, с которой запускается агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , а также его сетевые разрешения.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-266">The service startup account defines the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows account in which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent runs and its network permissions.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f8bc4-267">выполняется как заданная учетная запись пользователя.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-267">Agent runs as a specified user account.</span></span> <span data-ttu-id="f8bc4-268">Контекст службы агента влияет на настройки задания и его среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-268">The context of the Agent service affects the settings for the job and its run environment.</span></span> <span data-ttu-id="f8bc4-269">Учетной записи должен быть предоставлен доступ к необходимым для задания сетевым и другим ресурсам.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-269">The account must have access to the resources, such as network shares, required by the job.</span></span> <span data-ttu-id="f8bc4-270">Сведения о выборе и изменении стартовой учетной записи службы см. в разделе [Выбор учетной записи для службы агента SQL Server](../../ssms/agent/select-an-account-for-the-sql-server-agent-service.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-270">For information about how to select and modify the service startup account, see [Select an Account for the SQL Server Agent Service](../../ssms/agent/select-an-account-for-the-sql-server-agent-service.md).</span></span>  
  
     <span data-ttu-id="f8bc4-271">Для обеспечения правильности работы стартовые учетные записи служб должны быть настроены на верный домен, файловую систему и разрешения реестра.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-271">To operate correctly, the service startup account must be configured to have the correct domain, file system, and registry permissions.</span></span> <span data-ttu-id="f8bc4-272">Кроме этого, заданию может потребоваться общий сетевой ресурс, который также необходимо настроить для учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-272">Also, a job might require a shared network resource that must be configured for the service account.</span></span> <span data-ttu-id="f8bc4-273">Сведения см. в разделе [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-273">For information, see [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f8bc4-274">, связанной с определенным экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], имеется собственный раздел реестра, настройки которого могут быть зависимостями заданий этой службы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-274">Agent service, which is associated with a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], has its own registry hive, and its jobs typically have dependencies on one or more of the settings in this registry hive.</span></span> <span data-ttu-id="f8bc4-275">Чтобы обеспечить требуемую функциональность, заданиям необходимы соответствующие параметры реестра.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-275">To behave as intended, a job requires those registry settings.</span></span> <span data-ttu-id="f8bc4-276">Если с помощью скрипта задание создается повторно для другой службы агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , у нее может не оказаться необходимых для этого задания параметров.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-276">If you use a script to re-create a job in another [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service, its registry might not have the correct settings for that job.</span></span> <span data-ttu-id="f8bc4-277">Чтобы обеспечить требуемую функциональность заданий, повторно созданных на целевом экземпляре сервера, у исходной и целевой служб агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должны быть одинаково настроены параметры реестра.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-277">For re-created jobs to behave correctly on a destination server instance, the original and destination [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent services should have the same registry settings.</span></span>  
  
    > [!CAUTION]  
    >  <span data-ttu-id="f8bc4-278">Изменение настроек реестра целевой службы агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для обработки повторно созданного задания может вызвать проблемы, если текущие настройки используются другими заданиями.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-278">Changing registry settings on the destination [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to handle a re-created job could be problematic if the current settings are required by other jobs.</span></span> <span data-ttu-id="f8bc4-279">Кроме того, неправильное изменение реестра может серьезно повредить систему.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-279">Furthermore, incorrectly editing the registry can severely damage your system.</span></span> <span data-ttu-id="f8bc4-280">Перед внесением изменений в реестр рекомендуется создать резервную копию всех важных данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-280">Before you make changes to the registry, we recommend that you back up any valued data on the computer.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f8bc4-281">Учетные записи-посредники агента</span><span class="sxs-lookup"><span data-stu-id="f8bc4-281">Agent Proxies</span></span>  
  
     <span data-ttu-id="f8bc4-282">Учетная запись-посредник агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] определяет контекст безопасности для указанного шага задания.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-282">A [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy defines the security context for a specified job step.</span></span> <span data-ttu-id="f8bc4-283">Для задания, выполняющегося на целевом экземпляре сервера, все необходимые заданию учетные записи-посредники должны быть повторно созданы на этом экземпляре вручную.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-283">For a job to run on the destination server instance, all the proxies it requires must be manually re-created on that instance.</span></span> <span data-ttu-id="f8bc4-284">Дополнительные сведения см. в разделах [Создание учетной записи-посредника агента SQL Server](../../ssms/agent/create-a-sql-server-agent-proxy.md) и [Устранение неполадок, связанных с многосерверными заданиями, использующими учетные записи-посредники](../../ssms/agent/troubleshoot-multiserver-jobs-that-use-proxies.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-284">For more information, see [Create a SQL Server Agent Proxy](../../ssms/agent/create-a-sql-server-agent-proxy.md) and [Troubleshoot Multiserver Jobs That Use Proxies](../../ssms/agent/troubleshoot-multiserver-jobs-that-use-proxies.md).</span></span>  
  
 <span data-ttu-id="f8bc4-285">Дополнительные сведения см. также в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="f8bc4-285">For more information, see also:</span></span>  
  
-   [<span data-ttu-id="f8bc4-286">Реализация заданий</span><span class="sxs-lookup"><span data-stu-id="f8bc4-286">Implement Jobs</span></span>](../../ssms/agent/implement-jobs.md)  
  
-   <span data-ttu-id="f8bc4-287">[Управление именами входа и заданиями после переключения ролей (SQL Server)](../../sql-server/failover-clusters/management-of-logins-and-jobs-after-role-switching-sql-server.md) (для зеркального отображения базы данных)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-287">[Management of Logins and Jobs After Role Switching &#40;SQL Server&#41;](../../sql-server/failover-clusters/management-of-logins-and-jobs-after-role-switching-sql-server.md) (for database mirroring)</span></span>  
  
-   <span data-ttu-id="f8bc4-288">[Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) (при установке экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span><span class="sxs-lookup"><span data-stu-id="f8bc4-288">[Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) (when you install an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span></span>  
  
-   <span data-ttu-id="f8bc4-289">[Настройка агента SQL Server](../../ssms/agent/sql-server-agent.md) (при установке экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span><span class="sxs-lookup"><span data-stu-id="f8bc4-289">[Configure SQL Server Agent](../../ssms/agent/sql-server-agent.md) (when you install an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span></span>  
  
-   [<span data-ttu-id="f8bc4-290">Обеспечение безопасности агента SQL Server</span><span class="sxs-lookup"><span data-stu-id="f8bc4-290">Implement SQL Server Agent Security</span></span>](../../ssms/agent/implement-sql-server-agent-security.md)  
  
 <span data-ttu-id="f8bc4-291">**Просмотр существующих заданий и их свойств**</span><span class="sxs-lookup"><span data-stu-id="f8bc4-291">**To view existing jobs and their properties**</span></span>  
  
-   [<span data-ttu-id="f8bc4-292">Наблюдение за активностью заданий</span><span class="sxs-lookup"><span data-stu-id="f8bc4-292">Monitor Job Activity</span></span>](../../ssms/agent/monitor-job-activity.md)  
  
-   [<span data-ttu-id="f8bc4-293">sp_help_job (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-293">sp_help_job &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-job-transact-sql)  
  
-   [<span data-ttu-id="f8bc4-294">View Job Step Information</span><span class="sxs-lookup"><span data-stu-id="f8bc4-294">View Job Step Information</span></span>](../../ssms/agent/view-job-step-information.md)  
  
-   [<span data-ttu-id="f8bc4-295">dbo.sysjobs (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-295">dbo.sysjobs &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-tables/dbo-sysjobs-transact-sql)  
  
 <span data-ttu-id="f8bc4-296">**Создание задания**</span><span class="sxs-lookup"><span data-stu-id="f8bc4-296">**To create a job**</span></span>  
  
-   [<span data-ttu-id="f8bc4-297">Создание задания</span><span class="sxs-lookup"><span data-stu-id="f8bc4-297">Create a Job</span></span>](../../ssms/agent/create-a-job.md)  
  
-   [<span data-ttu-id="f8bc4-298">Создание задания</span><span class="sxs-lookup"><span data-stu-id="f8bc4-298">Create a Job</span></span>](../../ssms/agent/create-a-job.md)  
  
#### <a name="best-practices-for-using-a-script-to-re-create-a-job"></a><span data-ttu-id="f8bc4-299">Рекомендуемые методы использования скриптов для повторного создания заданий</span><span class="sxs-lookup"><span data-stu-id="f8bc4-299">Best Practices for Using a Script to Re-create a Job</span></span>  
 <span data-ttu-id="f8bc4-300">Рекомендуется начать с написания скрипта для простого задания, затем попробовать создать задание повторно для другой службы агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и запустить задание, чтобы убедиться в правильности его работы.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-300">We recommend that you start by scripting a simple job, re-creating the job on the other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service, and running the job to see whether it works as intended.</span></span> <span data-ttu-id="f8bc4-301">Это позволит обнаружить несовместимости и попробовать их исправить.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-301">This will let you to identify incompatibilities and try to resolve them.</span></span> <span data-ttu-id="f8bc4-302">Если созданное задание не работает в новой среде, как положено, рекомендуется создать подобное задание, которое будет правильно работать в этой среде.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-302">If a scripted job does not work as intended in its new environment, we recommend that you create an equivalent job that works correctly in that environment.</span></span>  
  
 [<span data-ttu-id="f8bc4-303">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-303">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="logins"></a><a name="logins"></a><span data-ttu-id="f8bc4-304">Имена входа</span><span class="sxs-lookup"><span data-stu-id="f8bc4-304">Logins</span></span>  
 <span data-ttu-id="f8bc4-305">Для подключения к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] необходимо верное имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-305">Logging into an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] requires a valid [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login.</span></span> <span data-ttu-id="f8bc4-306">Оно используется при проверке подлинности для определения того, разрешено ли участнику подключаться к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-306">This login is used in the authentication process that verifies whether the principal can connect to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f8bc4-307">Пользователь базы данных, соответствующее имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] которого для экземпляра сервера не определено или задано неправильно, не сможет подключиться к этому экземпляру.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-307">A database user for which the corresponding [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login is undefined or is incorrectly defined on a server instance cannot log in to the instance.</span></span> <span data-ttu-id="f8bc4-308">Такой пользователь называется *утратившим связь с учетной записью* базы данных на этом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-308">Such a user is said to be an *orphaned user* of the database on that server instance.</span></span> <span data-ttu-id="f8bc4-309">Пользователь базы данных может утратить связь с учетной записью после восстановления, присоединения или копирования на другой экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8bc4-309">A database user can become orphaned if after a database is restored, attached, or copied to a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="f8bc4-310">Для создания скрипта для нескольких или всех объектов исходной копии базы данных можно воспользоваться мастером создания скриптов и в диалоговом окне **Выбор параметров скрипта** установить значение **TRUE** для параметра **Внести в скрипт имена входа**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-310">To generate a script for some or all the objects in the original copy of the database, you can use the Generate Scripts Wizard, and in the **Choose Script Options** dialog box, set the **Script Logins** option to **True**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8bc4-311">Сведения о настройке имен входа для зеркально отображаемой базы данных см. в разделах [Настройка учетных записей входа для зеркального отображения баз данных или групп доступности AlwaysOn (SQL Server)](../../database-engine/database-mirroring/set-up-login-accounts-database-mirroring-always-on-availability.md) и [Управление именами входа и заданиями после переключения ролей (SQL Server)](../../sql-server/failover-clusters/management-of-logins-and-jobs-after-role-switching-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-311">For information about how to set up logins for a mirrored database, see [Set Up Login Accounts for Database Mirroring or AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/database-mirroring/set-up-login-accounts-database-mirroring-always-on-availability.md) and [Management of Logins and Jobs After Role Switching &#40;SQL Server&#41;](../../sql-server/failover-clusters/management-of-logins-and-jobs-after-role-switching-sql-server.md).</span></span>  
  
 [<span data-ttu-id="f8bc4-312">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-312">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="permissions"></a><a name="permissions"></a> <span data-ttu-id="f8bc4-313">Permissions</span><span class="sxs-lookup"><span data-stu-id="f8bc4-313">Permissions</span></span>  
 <span data-ttu-id="f8bc4-314">При открытии доступа к базе данных на другом экземпляре сервера могут быть применены следующие типы разрешений:</span><span class="sxs-lookup"><span data-stu-id="f8bc4-314">The following types of permissions might be affected when a database is made available on another server instance.</span></span>  
  
-   <span data-ttu-id="f8bc4-315">Разрешения GRANT, REVOKE или DENY на системные объекты.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-315">GRANT, REVOKE, or DENY permissions on system objects</span></span>  
  
-   <span data-ttu-id="f8bc4-316">Разрешения GRANT, REVOKE или DENY на экземпляр сервера (*разрешения уровня сервера*).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-316">GRANT, REVOKE, or DENY permissions on server instance (*server-level permissions*)</span></span>  
  
### <a name="grant-revoke-and-deny-permissions-on-system-objects"></a><span data-ttu-id="f8bc4-317">Разрешения GRANT, REVOKE или DENY на системные объекты</span><span class="sxs-lookup"><span data-stu-id="f8bc4-317">GRANT, REVOKE, and DENY Permissions on System Objects</span></span>  
 <span data-ttu-id="f8bc4-318">Разрешения на такие системные объекты, как хранимые процедуры, расширенные хранимые процедуры, функции и представления, хранятся в базе данных **master** и должны быть сконфигурированы на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-318">Permissions on system objects such as stored procedures, extended stored procedures, functions, and views, are stored in the **master** database and must be configured on the destination server instance.</span></span>  
  
 <span data-ttu-id="f8bc4-319">Для создания скрипта для нескольких или всех объектов исходной копии базы данных можно воспользоваться мастером создания скриптов и в диалоговом окне **Выбор параметров скрипта** установить значение **TRUE** для параметра **Внести в скрипт разрешения уровня объектов**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-319">To generate a script for some or all the objects in the original copy of the database, you can use the Generate Scripts Wizard, and in the **Choose Script Options** dialog box, set the **Script Object-Level Permissions** option to **True**.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f8bc4-320">При внесении в скрипт имен входа соответствующие им пароли в скрипт не заносятся.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-320">If you script logins, the passwords are not scripted.</span></span> <span data-ttu-id="f8bc4-321">При наличии имен входа, использующих проверку подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , необходимо изменить скрипт на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-321">If you have logins that use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication, you have to modify the script on the destination.</span></span>  
  
 <span data-ttu-id="f8bc4-322">Системные объекты отображаются в представлении каталога [sys.system_objects](/sql/relational-databases/system-catalog-views/sys-system-objects-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-322">System objects are visible in the [sys.system_objects](/sql/relational-databases/system-catalog-views/sys-system-objects-transact-sql) catalog view.</span></span> <span data-ttu-id="f8bc4-323">Разрешения на системные объекты отображаются в представлении каталога [sys. database_permissions](/sql/relational-databases/system-catalog-views/sys-database-permissions-transact-sql) в базе данных **master** .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-323">The permissions on system objects are visible in the [sys.database_permissions](/sql/relational-databases/system-catalog-views/sys-database-permissions-transact-sql) catalog view in the **master** database.</span></span> <span data-ttu-id="f8bc4-324">Сведения о запросе этих представлений каталога и выдаче разрешений на уровне объектов см. в разделе [GRANT, предоставление разрешения на системный объект (Transact-SQL)](/sql/t-sql/statements/grant-system-object-permissions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-324">For information about querying these catalog views and granting system-object permissions, see [GRANT System Object Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-system-object-permissions-transact-sql).</span></span> <span data-ttu-id="f8bc4-325">Дополнительные сведения см. в разделах [REVOKE, отмена разрешения на системные объекты (Transact-SQL)](/sql/t-sql/statements/revoke-system-object-permissions-transact-sql) и [DENY, запрет разрешений на системные объекты (Transact-SQL)](/sql/t-sql/statements/deny-system-object-permissions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-325">For more information, see [REVOKE System Object Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/revoke-system-object-permissions-transact-sql) and [DENY System Object Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/deny-system-object-permissions-transact-sql).</span></span>  
  
### <a name="grant-revoke-and-deny-permissions-on-a-server-instance"></a><span data-ttu-id="f8bc4-326">Разрешения GRANT, REVOKE или DENY на экземпляр сервера</span><span class="sxs-lookup"><span data-stu-id="f8bc4-326">GRANT, REVOKE, and DENY Permissions on a Server Instance</span></span>  
 <span data-ttu-id="f8bc4-327">Разрешения в области сервера хранятся в базе данных **master** и должны быть сконфигурированы на целевом экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-327">Permissions at the server scope are stored in the **master** database and must be configured on the destination server instance.</span></span> <span data-ttu-id="f8bc4-328">Чтобы получить сведения о разрешениях сервера в экземпляре сервера, запросите представление каталога [sys.server_permissions](/sql/relational-databases/system-catalog-views/sys-server-permissions-transact-sql) . Сведения об участниках сервера можно получить из представления каталога [sys.server_principals](/sql/relational-databases/system-catalog-views/sys-server-principals-transact-sql), а сведения о членстве ролей сервера содержатся в представлении каталога [sys.server_role_members](/sql/relational-databases/system-catalog-views/sys-server-role-members-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-328">For information about the server permissions of a server instance, query the [sys.server_permissions](/sql/relational-databases/system-catalog-views/sys-server-permissions-transact-sql) catalog view, for information about server principals query the [sys.server_principals](/sql/relational-databases/system-catalog-views/sys-server-principals-transact-sql)s catalog view, and for information about membership of server roles query the [sys.server_role_members](/sql/relational-databases/system-catalog-views/sys-server-role-members-transact-sql) catalog view.</span></span>  
  
 <span data-ttu-id="f8bc4-329">Дополнительные сведения см. в разделах [GRANT, предоставление разрешений на сервер (Transact-SQL)](/sql/t-sql/statements/grant-server-permissions-transact-sql), [REVOKE, отмена разрешений сервера (Transact-SQL)](/sql/t-sql/statements/revoke-server-permissions-transact-sql) и [DENY, запрет разрешений на сервере (Transact-SQL)](/sql/t-sql/statements/deny-server-permissions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-329">For more information, see [GRANT Server Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-server-permissions-transact-sql), [REVOKE Server Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/revoke-server-permissions-transact-sql), and [DENY Server Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/deny-server-permissions-transact-sql).</span></span>  
  
#### <a name="server-level-permissions-for-a-certificate-or-asymmetric-key"></a><span data-ttu-id="f8bc4-330">Разрешения уровня сервера на сертификат или асимметричный ключ</span><span class="sxs-lookup"><span data-stu-id="f8bc4-330">Server-Level Permissions for a Certificate or Asymmetric Key</span></span>  
 <span data-ttu-id="f8bc4-331">На сертификат или асимметричный ключ напрямую выдать разрешения на уровне сервера невозможно.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-331">Server-level permissions cannot be granted directly to a certificate or asymmetric key.</span></span> <span data-ttu-id="f8bc4-332">Вместо этого разрешения на уровне сервера выдаются сопоставленному имени входа, созданному специально для указанного сертификата или асимметричного ключа.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-332">Instead, server-level permissions are granted to a mapped login that is created exclusively for a specific certificate or asymmetric key.</span></span> <span data-ttu-id="f8bc4-333">Поэтому для каждого сертификата или асимметричного ключа, требующего разрешений на уровне сервера, необходимо наличие *имени входа, сопоставленного с сертификатом* , или *имени входа, сопоставленного с асимметричным ключом*.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-333">Therefore, each certificate or asymmetric key that requires server-level permissions, requires its own *certificate-mapped login* or *asymmetric key-mapped login*.</span></span> <span data-ttu-id="f8bc4-334">Разрешение на сертификат или асимметричный ключ предоставляется сопоставленному с ним имени входа.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-334">To grant server-level permissions for a certificate or asymmetric key, grant the permissions to its mapped login.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8bc4-335">Сопоставленное имя входа используется только для проверки правильности кода, подписанного соответствующим сертификатом или асимметричным ключом.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-335">A mapped login is used only for authorization of code signed with the corresponding certificate or asymmetric key.</span></span> <span data-ttu-id="f8bc4-336">Сопоставленные учетные записи не могут быть использованы для проверки правильности.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-336">Mapped logins cannot be used for authentication.</span></span>  
  
 <span data-ttu-id="f8bc4-337">Как сами имена входа, так и выданные им разрешения хранятся в базе данных **master**.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-337">The mapped login and its permissions both reside in **master**.</span></span> <span data-ttu-id="f8bc4-338">Если сертификат или асимметричный ключ находятся в иной базе данных, нежели в базе данных **master**, необходимо создать их копии в базе данных **master** и сопоставить с новым именем входа.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-338">If a certificate or asymmetric key resides in a database other than **master**, you must re-create it in **master** and map it to a login.</span></span> <span data-ttu-id="f8bc4-339">При перемещении, копировании или восстановлении базы данных в другом экземпляре сервера необходимо повторно создать ее сертификат или асимметричный ключ в базе данных **master** в целевом экземпляре сервера, сопоставить его с новым именем входа и выдать последнему требуемые разрешения.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-339">If you move, copy, or restore the database to another server instance, you must re-create its certificate or asymmetric key in the **master** database of the destination server instance, map to a login, and grant the required server-level permissions to the login.</span></span>  
  
 <span data-ttu-id="f8bc4-340">**Создание сертификата или асимметричного ключа**</span><span class="sxs-lookup"><span data-stu-id="f8bc4-340">**To create a certificate or asymmetric key**</span></span>  
  
-   [<span data-ttu-id="f8bc4-341">CREATE CERTIFICATE (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-341">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)  
  
-   [<span data-ttu-id="f8bc4-342">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-342">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)  
  
 <span data-ttu-id="f8bc4-343">**Сопоставление сертификата или асимметричного ключа**</span><span class="sxs-lookup"><span data-stu-id="f8bc4-343">**To map a certificate or asymmetric key to a login**</span></span>  
  
-   [<span data-ttu-id="f8bc4-344">CREATE LOGIN &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-344">CREATE LOGIN &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-login-transact-sql)  
  
 <span data-ttu-id="f8bc4-345">**Выдача разрешений сопоставленному имени входа**</span><span class="sxs-lookup"><span data-stu-id="f8bc4-345">**To assign permissions to the mapped login**</span></span>  
  
-   [<span data-ttu-id="f8bc4-346">GRANT, предоставление разрешений на сервер (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-346">GRANT Server Permissions &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/grant-server-permissions-transact-sql)  
  
 <span data-ttu-id="f8bc4-347">Дополнительные сведения о сертификатах и асимметричных ключах см. в разделе [Encryption Hierarchy](../security/encryption/encryption-hierarchy.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-347">For more information about certificates and asymmetric keys, see [Encryption Hierarchy](../security/encryption/encryption-hierarchy.md).</span></span>  
  
 [<span data-ttu-id="f8bc4-348">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-348">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="replication-settings"></a><a name="replication_settings"></a><span data-ttu-id="f8bc4-349">Параметры репликации</span><span class="sxs-lookup"><span data-stu-id="f8bc4-349">Replication Settings</span></span>  
 <span data-ttu-id="f8bc4-350">Если восстановить резервную копию реплицированной базы данных на другом сервере или в другой базе данных, то станет невозможным сохранение настроек репликации.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-350">If you restore a backup of a replicated database to another server or database, replication settings cannot be preserved.</span></span> <span data-ttu-id="f8bc4-351">В этом случае после восстановления из резервной копии потребуется повторно создать все публикации и подписки.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-351">In this case, you must re-create all publications and subscriptions after backups are restored.</span></span> <span data-ttu-id="f8bc4-352">Для облегчения этого процесса можно создать скрипты для текущих настроек репликации, а также для разрешения и отключения репликации.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-352">To make this process easier, create scripts for your current replication settings and, also, for the enabling and disabling of replication.</span></span> <span data-ttu-id="f8bc4-353">Чтобы облегчить повторное создание всех настроек репликации, произведите копирование этих скриптов и измените в них имя сервера для работы с целевым экземпляром.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-353">To help re-create your replication settings, copy these scripts and change the server name references to work for the destination server instance.</span></span>  
  
 <span data-ttu-id="f8bc4-354">Дополнительные сведения см. в разделах [Создание резервных копий реплицируемых баз данных и восстановление из них](../replication/administration/back-up-and-restore-replicated-databases.md), [Зеркальное отображение и репликация баз данных (SQL Server)](../../database-engine/database-mirroring/database-mirroring-and-replication-sql-server.md) и [Репликация и доставка журналов (SQL Server)](../../database-engine/log-shipping/log-shipping-and-replication-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-354">For more information, see [Back Up and Restore Replicated Databases](../replication/administration/back-up-and-restore-replicated-databases.md), [Database Mirroring and Replication &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-and-replication-sql-server.md), and [Log Shipping and Replication &#40;SQL Server&#41;](../../database-engine/log-shipping/log-shipping-and-replication-sql-server.md).</span></span>  
  
 [<span data-ttu-id="f8bc4-355">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-355">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="service-broker-applications"></a><a name="sb_applications"></a><span data-ttu-id="f8bc4-356">Service Broker приложения</span><span class="sxs-lookup"><span data-stu-id="f8bc4-356">Service Broker Applications</span></span>  
 <span data-ttu-id="f8bc4-357">Многие аспекты приложения компонента [!INCLUDE[ssSB](../../includes/sssb-md.md)] перемещаются вместе с базой данных.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-357">Many aspects of a [!INCLUDE[ssSB](../../includes/sssb-md.md)] application move with the database.</span></span> <span data-ttu-id="f8bc4-358">Однако некоторые из них в новом местоположении необходимо создать или настроить повторно.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-358">However, some aspects of the application must be re-created or reconfigured in the new location.</span></span>  
  
 [<span data-ttu-id="f8bc4-359">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-359">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="startup-procedures"></a><a name="startup_procedures"></a><span data-ttu-id="f8bc4-360">Процедуры запуска</span><span class="sxs-lookup"><span data-stu-id="f8bc4-360">Startup Procedures</span></span>  
 <span data-ttu-id="f8bc4-361">Стартовыми являются хранимые процедуры, помеченные для автоматического выполнения и выполняемые каждый раз при запуске [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f8bc4-361">A startup procedure is a stored procedure that is marked for automatic execution and is executed every time [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] starts.</span></span> <span data-ttu-id="f8bc4-362">Если в базе данных имеются зависимости от автоматически запускаемых процедур, их необходимо определить на целевом экземпляре сервера и сконфигурировать для автоматического выполнения при запуске.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-362">If the database depends on any startup procedures, they must be defined on the destination server instance and be configured to be automatically executed at startup.</span></span>  
  
 [<span data-ttu-id="f8bc4-363">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-363">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
##  <a name="triggers-at-server-level"></a><a name="triggers"></a><span data-ttu-id="f8bc4-364">Триггеры (на уровне сервера)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-364">Triggers (at Server Level)</span></span>  
 <span data-ttu-id="f8bc4-365">Триггеры DDL вызывают хранимые процедуры в ответ на ряд событий языка DDL.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-365">DDL triggers fire stored procedures in response to a variety of Data Definition Language (DDL) events.</span></span> <span data-ttu-id="f8bc4-366">Эти события в основном соответствуют инструкциям языка [!INCLUDE[tsql](../../includes/tsql-md.md)] , начинающимся ключевыми словами CREATE, ALTER или DROP.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-366">These events primarily correspond to [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that start with the keywords CREATE, ALTER, and DROP.</span></span> <span data-ttu-id="f8bc4-367">Системные хранимые процедуры, выполняющие операции, подобные операциям DDL, также могут запускать триггеры DDL.</span><span class="sxs-lookup"><span data-stu-id="f8bc4-367">Certain system stored procedures that perform DDL-like operations can also fire DDL triggers.</span></span>  
  
 <span data-ttu-id="f8bc4-368">Дополнительные сведения об этой возможности см. в разделе [DDL Triggers](../triggers/ddl-triggers.md).</span><span class="sxs-lookup"><span data-stu-id="f8bc4-368">For more information about this feature, see [DDL Triggers](../triggers/ddl-triggers.md).</span></span>  
  
 [<span data-ttu-id="f8bc4-369">&#91;В начало&#93;</span><span class="sxs-lookup"><span data-stu-id="f8bc4-369">&#91;Top&#93;</span></span>](#information_entities_and_objects)  
  
## <a name="see-also"></a><span data-ttu-id="f8bc4-370">См. также:</span><span class="sxs-lookup"><span data-stu-id="f8bc4-370">See Also</span></span>  
 <span data-ttu-id="f8bc4-371">[Автономные базы данных](contained-databases.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-371">[Contained Databases](contained-databases.md) </span></span>  
 <span data-ttu-id="f8bc4-372">[Копирование баз данных на другие серверы](copy-databases-to-other-servers.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-372">[Copy Databases to Other Servers](copy-databases-to-other-servers.md) </span></span>  
 <span data-ttu-id="f8bc4-373">[Присоединение и отсоединение базы данных (SQL Server)](database-detach-and-attach-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-373">[Database Detach and Attach &#40;SQL Server&#41;](database-detach-and-attach-sql-server.md) </span></span>  
 <span data-ttu-id="f8bc4-374">[Отработка отказа на SQL Server вторичного &#40;доставки журналов&#41;](../../database-engine/log-shipping/fail-over-to-a-log-shipping-secondary-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-374">[Fail Over to a Log Shipping Secondary &#40;SQL Server&#41;](../../database-engine/log-shipping/fail-over-to-a-log-shipping-secondary-sql-server.md) </span></span>  
 <span data-ttu-id="f8bc4-375">[Переключение ролей во время сеанса зеркального отображения базы данных (SQL Server)](../../database-engine/database-mirroring/role-switching-during-a-database-mirroring-session-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-375">[Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](../../database-engine/database-mirroring/role-switching-during-a-database-mirroring-session-sql-server.md) </span></span>  
 <span data-ttu-id="f8bc4-376">[Настройка зашифрованной зеркальной базы данных](../../database-engine/database-mirroring/set-up-an-encrypted-mirror-database.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-376">[Set Up an Encrypted Mirror Database](../../database-engine/database-mirroring/set-up-an-encrypted-mirror-database.md) </span></span>  
 <span data-ttu-id="f8bc4-377">[Диспетчер конфигурации SQL Server](../sql-server-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="f8bc4-377">[SQL Server Configuration Manager](../sql-server-configuration-manager.md) </span></span>  
 [<span data-ttu-id="f8bc4-378">Диагностика пользователей, утративших связь с учетной записью (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="f8bc4-378">Troubleshoot Orphaned Users &#40;SQL Server&#41;</span></span>](../../sql-server/failover-clusters/troubleshoot-orphaned-users-sql-server.md)  
  
  

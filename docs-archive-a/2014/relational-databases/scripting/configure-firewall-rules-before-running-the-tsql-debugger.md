---
title: Настройка отладчика Transact-SQL
ms.custom: seo-lt-2019
ms.date: 10/20/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- vs.debug.error.sqlde_register_failed
- vs.debug.error.sqlde_accessdenied
- vs.debug.error.sqlde_firewall.remotemachines
helpviewer_keywords:
- Transact-SQL debugger, remote connections
- Windows Firewall [Database Engine], Transact-SQL debugger
- Transact-SQL debugger, Windows Firewall
- Transact-SQL debugger, configuring
- ports [SQL Server], Transact-SQL debugger
- TCP/IP [SQL Server], port numbers
ms.assetid: f50e0b0d-eaf0-4f4a-be83-96f5be63e7ea
author: rothja
ms.author: jroth
ms.openlocfilehash: a320e77e86c933a33d96d708580d5050b0c06de2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667030"
---
# <a name="configure-the-transact-sql-debugger"></a><span data-ttu-id="83819-102">Настройка отладчика Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="83819-102">Configure the Transact-SQL Debugger</span></span>
  <span data-ttu-id="83819-103">Необходимо настроить правила брандмауэра Windows, включив отладку [!INCLUDE[tsql](../../includes/tsql-md.md)] при подключении к экземпляру компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] , который работает на компьютере, отличном от того, на котором работает редактор запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83819-103">Windows Firewall rules must be configured to enable [!INCLUDE[tsql](../../includes/tsql-md.md)] debugging when connected to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that is running on a different computer than the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span>  
  
## <a name="configuring-the-transact-sql-debugger"></a><span data-ttu-id="83819-104">Настройка отладчика Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="83819-104">Configuring the Transact-SQL Debugger</span></span>  
 <span data-ttu-id="83819-105">Отладчик [!INCLUDE[tsql](../../includes/tsql-md.md)] имеет как серверные, так и клиентские компоненты.</span><span class="sxs-lookup"><span data-stu-id="83819-105">The [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger includes both server-side and client-side components.</span></span> <span data-ttu-id="83819-106">Серверные компоненты отладчика устанавливаются с каждым экземпляром ядра СУБД из [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с пакетом обновления 2 (SP2) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="83819-106">The server-side debugger components are installed with each instance of the Database Engine from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) or later.</span></span> <span data-ttu-id="83819-107">Клиентские компоненты отладчика устанавливаются в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="83819-107">The client-side debugger components are included:</span></span>  
  
-   <span data-ttu-id="83819-108">При установке клиентских средств из [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="83819-108">When you install the client-side tools from [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or later.</span></span>  
  
-   <span data-ttu-id="83819-109">При установке среды Microsoft Visual Studio 2010 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="83819-109">When you install Microsoft Visual Studio 2010 or later.</span></span>  
  
-   <span data-ttu-id="83819-110">При установке среды [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] из веб-загрузки.</span><span class="sxs-lookup"><span data-stu-id="83819-110">When you install [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] from the web download.</span></span>  
  
 <span data-ttu-id="83819-111">Нет требований по конфигурации для запуска отладчика [!INCLUDE[tsql](../../includes/tsql-md.md)] , если среда [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] или [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] работает на том же компьютере, что и экземпляр компонента [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83819-111">There are no configuration requirements to run the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger when [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] is running on the same computer as the instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="83819-112">Однако для запуска отладчика [!INCLUDE[tsql](../../includes/tsql-md.md)] при соединении с удаленным экземпляром компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)]для брандмауэра Windows на обоих компьютерах должны быть включены правила программы и порта.</span><span class="sxs-lookup"><span data-stu-id="83819-112">However, to run the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger when connected to a remote instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], program and port rules in the Windows Firewall must be enabled on both computers.</span></span> <span data-ttu-id="83819-113">Эти правила можно создать в программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83819-113">These rules may be created by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup.</span></span> <span data-ttu-id="83819-114">Если при попытке открыть сеанс отладки на удаленном компьютере возникают ошибки, убедитесь, что на брандмауэре вашего компьютера определены следующие правила.</span><span class="sxs-lookup"><span data-stu-id="83819-114">If you get errors attempting to open a remote debugging session, ensure the following firewall rules are defined on your computer.</span></span>  
  
 <span data-ttu-id="83819-115">Правила можно задать с помощью приложения **Брандмауэр Windows в режиме повышенной безопасности** .</span><span class="sxs-lookup"><span data-stu-id="83819-115">Use the **Windows Firewall with Advanced Security** application to manage the firewall rules.</span></span> <span data-ttu-id="83819-116">В [!INCLUDE[win7](../../includes/win7-md.md)] и [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)]откройте **Панель управления**и **Брандмауэр Windows**и выберите **Дополнительные параметры**.</span><span class="sxs-lookup"><span data-stu-id="83819-116">In both [!INCLUDE[win7](../../includes/win7-md.md)] and [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)], open **Control Panel**, open **Windows Firewall**, and select **Advanced settings**.</span></span> <span data-ttu-id="83819-117">В [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] можно также открыть **Диспетчер служб**, развернуть узел **Конфигурация** на панели слева и развернуть **Брандмауэр Windows в режиме повышенной безопасности**.</span><span class="sxs-lookup"><span data-stu-id="83819-117">In [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] you can also open **Service Manager**, expand **Configuration** in the left pane, and expand **Windows Firewall with Advanced Security**.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="83819-118">Добавление правил в брандмауэр Windows может подвергнуть компьютер угрозам безопасности, которые брандмауэр должен блокировать.</span><span class="sxs-lookup"><span data-stu-id="83819-118">Enabling rules in the Windows Firewall may expose your computer to security threats that the firewall is designed to block.</span></span> <span data-ttu-id="83819-119">Включение правил для удаленной отладки заключается в разблокировании портов и программ, перечисленных в данном разделе.</span><span class="sxs-lookup"><span data-stu-id="83819-119">Enabling rules for remote debugging unblocks the ports and programs listed in this topic.</span></span>  
  
## <a name="firewall-rules-on-the-server"></a><span data-ttu-id="83819-120">Правила брандмауэра на сервере</span><span class="sxs-lookup"><span data-stu-id="83819-120">Firewall Rules on the Server</span></span>  
 <span data-ttu-id="83819-121">На компьютере, где установлен экземпляр компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)], через пункт **Брандмауэр Windows в режиме повышенной безопасности** задайте следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="83819-121">On the computer that is running the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], use **Windows Firewall with Advanced Security** to specify the following information:</span></span>  
  
-   <span data-ttu-id="83819-122">Добавьте правило входящего соединения для программы sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-122">Add an inbound program rule for sqlservr.exe.</span></span> <span data-ttu-id="83819-123">Необходимо иметь правила для каждого экземпляра, к которому должны поддерживаться сеансы удаленной отладки.</span><span class="sxs-lookup"><span data-stu-id="83819-123">You must have a rule for each instance that needs to support remote debugging sessions.</span></span>  
  
    1.  <span data-ttu-id="83819-124">На левой панели окна **Брандмауэр Windows в режиме повышенной безопасности**щелкните правой кнопкой мыши раздел **Правила для входящих подключений**и выберите на панели действий пункт **Создать правило** .</span><span class="sxs-lookup"><span data-stu-id="83819-124">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="83819-125">В диалоговом окне **Тип правила** выберите **Программа**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-125">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="83819-126">В диалоговом окне **Программа** выберите элемент **Путь к этой программе** и введите полный путь к файлу sqlservr.exe для данного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="83819-126">In the **Program** dialog, select **This program path:** and enter the full path to sqlservr.exe for this instance.</span></span> <span data-ttu-id="83819-127">По умолчанию sqlservr.exe устанавливается в папку C:\Program Files\Microsoft SQL Server\MSSQL12. *InstanceName*\MSSQL\Binn, где *instanceName* — MSSQLSERVER для экземпляра по умолчанию, и имя экземпляра для любого именованного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="83819-127">By default, sqlservr.exe is installed in C:\Program Files\Microsoft SQL Server\MSSQL12.*InstanceName*\MSSQL\Binn, where *InstanceName* is MSSQLSERVER for the default instance, and the instance name for any named instance.</span></span>  
  
    4.  <span data-ttu-id="83819-128">В диалоговом окне **Действие** выберите **Разрешить соединение**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-128">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="83819-129">В диалоговом окне **Профиль** выберите профили, описывающие среду соединения для компьютера, с которым необходимо установить сеанс отладки для экземпляра, и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-129">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="83819-130">В диалоговом окне **Имя** введите имя и описание для этого правила, затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="83819-130">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="83819-131">В списке **Правила для входящих подключений** щелкните правой кнопкой мыши созданное правило и выберите пункт **Свойства** на панели действий.</span><span class="sxs-lookup"><span data-stu-id="83819-131">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="83819-132">Откройте вкладку **Протоколы и порты** .</span><span class="sxs-lookup"><span data-stu-id="83819-132">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="83819-133">В поле **Тип протокола** выберите **TCP** , в поле **Локальный порт** выберите **Динамические порты RPC** , нажмите кнопку **Применить**, а затем — кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="83819-133">Select **TCP** in the **Protocol type:** box, select **RPC Dynamic Ports** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="83819-134">Добавьте правило входящего подключения для программы svchost.exe, чтобы обеспечить обмен данными DCOM из сеансов удаленного отладчика.</span><span class="sxs-lookup"><span data-stu-id="83819-134">Add an inbound program rule for svchost.exe to enable DCOM communications from remote debugger sessions.</span></span>  
  
    1.  <span data-ttu-id="83819-135">На левой панели окна **Брандмауэр Windows в режиме повышенной безопасности**щелкните правой кнопкой мыши раздел **Правила для входящих подключений**и выберите на панели действий пункт **Создать правило** .</span><span class="sxs-lookup"><span data-stu-id="83819-135">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="83819-136">В диалоговом окне **Тип правила** выберите **Программа**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-136">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="83819-137">В диалоговом окне **Программа** щелкните **Путь к этой программе** и введите полный путь к файлу svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-137">In the **Program** dialog, select **This program path:** and enter the full path to svchost.exe.</span></span> <span data-ttu-id="83819-138">По умолчанию в svchost.exe устанавливается по пути %systemroot%\System32\svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-138">By default, svchost.exe is installed in %systemroot%\System32\svchost.exe.</span></span>  
  
    4.  <span data-ttu-id="83819-139">В диалоговом окне **Действие** выберите **Разрешить соединение**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-139">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="83819-140">В диалоговом окне **Профиль** выберите профили, описывающие среду соединения для компьютера, с которым необходимо установить сеанс отладки для экземпляра, и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-140">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="83819-141">В диалоговом окне **Имя** введите имя и описание для этого правила, затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="83819-141">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="83819-142">В списке **Правила для входящих подключений** щелкните правой кнопкой мыши созданное правило и выберите пункт **Свойства** на панели действий.</span><span class="sxs-lookup"><span data-stu-id="83819-142">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="83819-143">Откройте вкладку **Протоколы и порты** .</span><span class="sxs-lookup"><span data-stu-id="83819-143">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="83819-144">В поле **Тип протокола** выберите **TCP** , в поле **Локальный порт** выберите **Сопоставитель конечных точек RPC** , нажмите кнопку **Применить**, а затем — кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="83819-144">Select **TCP** in the **Protocol type:** box, select **RPC Endpoint Mapper** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="83819-145">Если согласно политике домена требуется, чтобы сетевые соединения осуществлялись через протокол IPsec, то необходимо также добавить правила входящих подключений для открытия портов 4500 и 500 по протоколу UDP.</span><span class="sxs-lookup"><span data-stu-id="83819-145">If the domain policy requires network communications to be done through IPsec, you must also add inbound rules opening UDP port 4500 and UDP port 500.</span></span>  
  
## <a name="firewall-rules-on-the-client"></a><span data-ttu-id="83819-146">Правила брандмауэра на клиенте</span><span class="sxs-lookup"><span data-stu-id="83819-146">Firewall Rules on the Client</span></span>  
 <span data-ttu-id="83819-147">На компьютере, где запущен редактор запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] , программа установки SQL Server или среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] могла уже настроить брандмауэр Windows, разрешив удаленную отладку.</span><span class="sxs-lookup"><span data-stu-id="83819-147">On the computer that is running the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor, the SQL Server setup or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] setup may have configured the Windows Firewall to allow remote debugging.</span></span>  
  
 <span data-ttu-id="83819-148">Если возникают ошибки при попытке открытия сеанса удаленной отладки, то вы можете вручную настроить исключения для программ и портов, настроив правила брандмауэра в окне **Брандмауэр Windows в режиме повышенной безопасности** .</span><span class="sxs-lookup"><span data-stu-id="83819-148">If you get errors attempting to open a remote debugging session, you can manually configure the program and port exceptions by using **Windows Firewall with Advanced Security** to configure firewall rules:</span></span>  
  
-   <span data-ttu-id="83819-149">Добавление записи для программы svchost</span><span class="sxs-lookup"><span data-stu-id="83819-149">Add a program entry for svchost:</span></span>  
  
    1.  <span data-ttu-id="83819-150">На левой панели окна **Брандмауэр Windows в режиме повышенной безопасности**щелкните правой кнопкой мыши раздел **Правила для входящих подключений**и выберите на панели действий пункт **Создать правило** .</span><span class="sxs-lookup"><span data-stu-id="83819-150">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="83819-151">В диалоговом окне **Тип правила** выберите **Программа**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-151">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="83819-152">В диалоговом окне **Программа** щелкните **Путь к этой программе** и введите полный путь к файлу svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-152">In the **Program** dialog, select **This program path:** and enter the full path to svchost.exe.</span></span> <span data-ttu-id="83819-153">По умолчанию в svchost.exe устанавливается по пути %systemroot%\System32\svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-153">By default, svchost.exe is installed in %systemroot%\System32\svchost.exe.</span></span>  
  
    4.  <span data-ttu-id="83819-154">В диалоговом окне **Действие** выберите **Разрешить соединение**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-154">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="83819-155">В диалоговом окне **Профиль** выберите профили, описывающие среду соединения для компьютера, с которым необходимо установить сеанс отладки для экземпляра, и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-155">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="83819-156">В диалоговом окне **Имя** введите имя и описание для этого правила, затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="83819-156">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="83819-157">В списке **Правила для входящих подключений** щелкните правой кнопкой мыши созданное правило и выберите пункт **Свойства** на панели действий.</span><span class="sxs-lookup"><span data-stu-id="83819-157">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="83819-158">Откройте вкладку **Протоколы и порты** .</span><span class="sxs-lookup"><span data-stu-id="83819-158">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="83819-159">В поле **Тип протокола** выберите **TCP** , в поле **Локальный порт** выберите **Сопоставитель конечных точек RPC** , нажмите кнопку **Применить**, а затем — кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="83819-159">Select **TCP** in the **Protocol type:** box, select **RPC Endpoint Mapper** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="83819-160">Добавление записи для размещения приложения, в котором размещается редактор запросов [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83819-160">Add a program entry for the application hosting the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span> <span data-ttu-id="83819-161">Если необходимо открывать сеансы удаленной отладки как из среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , так и из среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] на том же компьютере, то необходимо добавить оба правила.</span><span class="sxs-lookup"><span data-stu-id="83819-161">If you need to open remote debugging sessions from both [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] on the same computer, you must add a program rule for both:</span></span>  
  
    1.  <span data-ttu-id="83819-162">На левой панели окна **Брандмауэр Windows в режиме повышенной безопасности**щелкните правой кнопкой мыши раздел **Правила для входящих подключений**и выберите на панели действий пункт **Создать правило** .</span><span class="sxs-lookup"><span data-stu-id="83819-162">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="83819-163">В диалоговом окне **Тип правила** выберите **Программа**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-163">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="83819-164">В диалоговом окне **Программа** щелкните **Путь к этой программе** и введите одно из следующих трех значений.</span><span class="sxs-lookup"><span data-stu-id="83819-164">In the **Program** dialog, select **This program path:** and enter one of these three values.</span></span>  
  
        -   <span data-ttu-id="83819-165">Для среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]введите полный путь к ssms.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-165">For [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], enter the full path to ssms.exe.</span></span> <span data-ttu-id="83819-166">По умолчанию программа ssms.exe устанавливается в папку «C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\Management Studio».</span><span class="sxs-lookup"><span data-stu-id="83819-166">By default, ssms.exe is installed in C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\Management Studio.</span></span>  
  
        -   <span data-ttu-id="83819-167">Для среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] введите полный путь к devenv.exe.</span><span class="sxs-lookup"><span data-stu-id="83819-167">For [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] enter the full path to devenv.exe:</span></span>  
  
            1.  <span data-ttu-id="83819-168">По умолчанию devenv.exe для Visual Studio 2010 устанавливается в папку «C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE».</span><span class="sxs-lookup"><span data-stu-id="83819-168">By default, the devenv.exe for Visual Studio 2010 is in C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE.</span></span>  
  
            2.  <span data-ttu-id="83819-169">По умолчанию devenv.exe для Visual Studio 2012 устанавливается в папку «C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE».</span><span class="sxs-lookup"><span data-stu-id="83819-169">By default, the devenv.exe for Visual Studio 2012 is in C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE</span></span>  
  
            3.  <span data-ttu-id="83819-170">Путь к ssms.exe вы можете получить из ярлыка, который используется для запуска среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83819-170">You can find the path to ssms.exe from the shortcut you use to launch [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="83819-171">Путь к devenv.exe вы можете получить из ярлыка, который используется для запуска среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83819-171">You can find the path to devenv.exe from the shortcut you use to launch [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="83819-172">Щелкните ярлык правой кнопкой мыши и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="83819-172">Right click the shortcut and select **Properties**.</span></span> <span data-ttu-id="83819-173">Исполняемый файл и пути указаны в поле **Цель** .</span><span class="sxs-lookup"><span data-stu-id="83819-173">The executable and path are listed in the **Target** box.</span></span>  
  
    4.  <span data-ttu-id="83819-174">В диалоговом окне **Действие** выберите **Разрешить соединение**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-174">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="83819-175">В диалоговом окне **Профиль** выберите профили, описывающие среду соединения для компьютера, с которым необходимо установить сеанс отладки для экземпляра, и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="83819-175">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="83819-176">В диалоговом окне **Имя** введите имя и описание для этого правила, затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="83819-176">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="83819-177">В списке **Правила для входящих подключений** щелкните правой кнопкой мыши созданное правило и выберите пункт **Свойства** на панели действий.</span><span class="sxs-lookup"><span data-stu-id="83819-177">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="83819-178">Откройте вкладку **Протоколы и порты** .</span><span class="sxs-lookup"><span data-stu-id="83819-178">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="83819-179">В поле **Тип протокола** выберите **TCP** , в поле **Локальный порт** выберите **Динамические порты RPC** , нажмите кнопку **Применить**, а затем — кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="83819-179">Select **TCP** in the **Protocol type:** box, select **RPC Dynamic Ports** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
## <a name="requirements-for-starting-the-debugger"></a><span data-ttu-id="83819-180">Требования к запуску отладчика</span><span class="sxs-lookup"><span data-stu-id="83819-180">Requirements for Starting the Debugger</span></span>  
 <span data-ttu-id="83819-181">Все попытки запустить отладчик [!INCLUDE[tsql](../../includes/tsql-md.md)] должны также отвечать следующим требованиям.</span><span class="sxs-lookup"><span data-stu-id="83819-181">All attempts to start the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger must also meet the following requirements:</span></span>  
  
* [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="83819-182">или [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] должна быть запущена под учетной записью, которая является членом предопределенной роли сервера sysadmin.</span><span class="sxs-lookup"><span data-stu-id="83819-182">or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] must be running under a Windows account that is a member of the sysadmin fixed server roll.</span></span>  
  
* <span data-ttu-id="83819-183">Окно редактора запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] должно быть подключено с помощью имени входа для проверки подлинности Windows или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которое является членом предопределенной роли сервера sysadmin.</span><span class="sxs-lookup"><span data-stu-id="83819-183">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window must be connected by using either a Windows Authentication or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login that is a member of the sysadmin fixed server role.</span></span>  
  
* <span data-ttu-id="83819-184">Окно редактора запросов компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] должно быть подключено к экземпляру компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] из [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с пакетом обновления 2 (SP2) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="83819-184">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window must be connected to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) or later.</span></span> <span data-ttu-id="83819-185">Когда окно редактора запросов подключено к экземпляру, работающему в однопользовательском режиме, отладчик запустить невозможно.</span><span class="sxs-lookup"><span data-stu-id="83819-185">You cannot run the debugger when the Query Editor window is connected to an instance that is in single-user mode.</span></span>

* <span data-ttu-id="83819-186">Сервер должен обмениваться данными с клиентом через RPC.</span><span class="sxs-lookup"><span data-stu-id="83819-186">The server needs to communicate back to the client via RPC.</span></span> <span data-ttu-id="83819-187">Учетная запись, под которой выполняется служба SQL Server, должна иметь разрешения на проверку подлинности для клиента.</span><span class="sxs-lookup"><span data-stu-id="83819-187">The account under which SQL Server service is running should have authenticate permissions to the client.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="83819-188">См. также:</span><span class="sxs-lookup"><span data-stu-id="83819-188">See Also</span></span>  
 <span data-ttu-id="83819-189">[Отладчик Transact-SQL](transact-sql-debugger.md) </span><span class="sxs-lookup"><span data-stu-id="83819-189">[Transact-SQL Debugger](transact-sql-debugger.md) </span></span>  
 <span data-ttu-id="83819-190">[Запуск отладчика Transact-SQL](run-the-transact-sql-debugger.md) </span><span class="sxs-lookup"><span data-stu-id="83819-190">[Run the Transact-SQL Debugger](run-the-transact-sql-debugger.md) </span></span>  
 <span data-ttu-id="83819-191">[Шаг с заходом в код Transact-SQL](step-through-transact-sql-code.md) </span><span class="sxs-lookup"><span data-stu-id="83819-191">[Step Through Transact-SQL Code](step-through-transact-sql-code.md) </span></span>  
 <span data-ttu-id="83819-192">[Сведения отладчика Transact-SQL](transact-sql-debugger-information.md) </span><span class="sxs-lookup"><span data-stu-id="83819-192">[Transact-SQL Debugger Information](transact-sql-debugger-information.md) </span></span>  
 [<span data-ttu-id="83819-193">Редактор запросов компонента Database Engine (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="83819-193">Database Engine Query Editor &#40;SQL Server Management Studio&#41;</span></span>](database-engine-query-editor-sql-server-management-studio.md)  
  
  

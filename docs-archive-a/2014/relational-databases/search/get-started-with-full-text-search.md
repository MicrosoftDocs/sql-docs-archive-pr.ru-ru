---
title: Приступая к работе с компонентом Full-Text Search | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text catalogs [SQL Server], creating
- full-text indexes [SQL Server], creating
- full-text search [SQL Server], about
- full-text search [SQL Server], setting up
ms.assetid: 1fa628ba-0ee4-4d8f-b086-c4e52962ca4a
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: eec806bffba330ac3ab995c1b3bfd3504589ecfd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87730422"
---
# <a name="get-started-with-full-text-search"></a><span data-ttu-id="b4110-102">Приступая к работе с компонентом Full-Text Search</span><span class="sxs-lookup"><span data-stu-id="b4110-102">Get Started with Full-Text Search</span></span>
  <span data-ttu-id="b4110-103">Базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживают полнотекстовую индексацию по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b4110-103">Databases in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are full-text enabled by default.</span></span> <span data-ttu-id="b4110-104">Однако для использования полнотекстового индекса в таблице надо настроить полнотекстовое индексирование для столбцов таблиц, к которым планируется обращение при использовании средства полнотекстового поиска.</span><span class="sxs-lookup"><span data-stu-id="b4110-104">However, to use a full-text index on a table, you must set up full-text indexing capability on the columns of the tables that you want to access using the Full-Text Engine.</span></span>  
  
##  <a name="configuring-a-database-for-full-text-search"></a><a name="configure"></a><span data-ttu-id="b4110-105">Настройка базы данных для полнотекстового поиска</span><span class="sxs-lookup"><span data-stu-id="b4110-105">Configuring a Database for Full-Text Search</span></span>  
 <span data-ttu-id="b4110-106">Для любого сценария для настройки столбцов таблицы базы данных для полнотекстового поиска администратор базы данных выполняет следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="b4110-106">For any scenario, a database administrator performs the following basic steps to configure table columns in a database for full-text search:</span></span>  
  
1.  <span data-ttu-id="b4110-107">Создание полнотекстового каталога.</span><span class="sxs-lookup"><span data-stu-id="b4110-107">Create a full-text catalog.</span></span>  
  
2.  <span data-ttu-id="b4110-108">В каждой таблице, в которой нужно производить поиск, следует создать полнотекстовый индекс одним из приведенных ниже способов.</span><span class="sxs-lookup"><span data-stu-id="b4110-108">On each table that you want to search, create a full-text index by:</span></span>  
  
    1.  <span data-ttu-id="b4110-109">Определить все текстовые столбцы, которые нужно включить в полнотекстовый индекс.</span><span class="sxs-lookup"><span data-stu-id="b4110-109">Identify each text columns that you want to include in the full-text index.</span></span>  
  
    2.  <span data-ttu-id="b4110-110">Если данный столбец содержит документы, хранящиеся в виде двоичных данных ( `varbinary(max)` или `image` данных), необходимо указать столбец таблицы ( *столбец типа*), определяющий тип каждого документа в индексируемом столбце.</span><span class="sxs-lookup"><span data-stu-id="b4110-110">If a given column contains documents stored as binary data (`varbinary(max)`, or `image` data), you must specify a table column (the *type column*) that identifies the type of each document in the column being indexed.</span></span>  
  
    3.  <span data-ttu-id="b4110-111">Указать язык, который полнотекстовый поиск должен использовать для документов в столбце.</span><span class="sxs-lookup"><span data-stu-id="b4110-111">Specify the language that you want full-text search to use on the documents in the column.</span></span>  
  
    4.  <span data-ttu-id="b4110-112">Выбрать механизм отслеживания изменений, с помощью которого в полнотекстовом индексе будут отслеживаться изменения в базовой таблице и ее столбцах.</span><span class="sxs-lookup"><span data-stu-id="b4110-112">Choose the change-tracking mechanism that you want to use on the full-text index to track changes in the base table and its columns.</span></span>  
  
 <span data-ttu-id="b4110-113">Полнотекстовый поиск поддерживает использование нескольких языков благодаря таким *лингвистическим компонентам*, как средства разбиения по словам и парадигматические модули, списки стоп-слов (известных также как пропускаемые слова) и файлы тезауруса.</span><span class="sxs-lookup"><span data-stu-id="b4110-113">Full-text search supports multiple languages through the use of the following *linguistic components*: word breakers and stemmers, stoplists that contain stopwords (also known as noise words), and thesaurus files.</span></span> <span data-ttu-id="b4110-114">Для файлов тезауруса и в некоторых случаях для списков стоп-слов требуется настройка, выполняемая администратором базы данных.</span><span class="sxs-lookup"><span data-stu-id="b4110-114">Thesaurus files and, in some cases, stoplists require configuration by a database administrator.</span></span> <span data-ttu-id="b4110-115">Данный файл тезауруса поддерживает все полнотекстовые индексы, которые используют соответствующий язык, а данный список стоп-слов может быть связан с любым необходимым числом полнотекстовых индексов.</span><span class="sxs-lookup"><span data-stu-id="b4110-115">A given thesaurus file supports all full-text indexes that use the corresponding language, and a given stoplist can be associated with as many full-text indexes as you want.</span></span>  
  
##  <a name="setting-up-a-full-text-catalog-and-index"></a><a name="setup"></a><span data-ttu-id="b4110-116">Настройка полнотекстового каталога и индекса</span><span class="sxs-lookup"><span data-stu-id="b4110-116">Setting Up a Full-Text Catalog and Index</span></span>  
 <span data-ttu-id="b4110-117">Для этого необходимо выполнить следующие основные шаги.</span><span class="sxs-lookup"><span data-stu-id="b4110-117">This involves the following basic steps:</span></span>  
  
1.  <span data-ttu-id="b4110-118">Создание полнотекстового каталога для хранения полнотекстовых индексов.</span><span class="sxs-lookup"><span data-stu-id="b4110-118">Create a full-text catalog to store full-text indexes.</span></span>  
  
     <span data-ttu-id="b4110-119">Полнотекстовый индекс должен принадлежать к полнотекстовому каталогу.</span><span class="sxs-lookup"><span data-stu-id="b4110-119">Each full-text index must belong to a full-text catalog.</span></span> <span data-ttu-id="b4110-120">Можно либо создать отдельный текстовый каталог для каждого полнотекстового индекса, либо связать с одним каталогом несколько полнотекстовых индексов.</span><span class="sxs-lookup"><span data-stu-id="b4110-120">You can create a separate text catalog for each full-text index, or you can associate multiple full-text indexes with a given catalog.</span></span> <span data-ttu-id="b4110-121">Полнотекстовый каталог является виртуальным объектом и не входит в файловую группу.</span><span class="sxs-lookup"><span data-stu-id="b4110-121">A full-text catalog is a virtual object and does not belong to any filegroup.</span></span> <span data-ttu-id="b4110-122">Каталог — это логическое понятие, которое ссылается на группу полнотекстовых индексов.</span><span class="sxs-lookup"><span data-stu-id="b4110-122">The catalog is a logical concept that refers to a group of full-text indexes.</span></span>  
  
2.  <span data-ttu-id="b4110-123">Создание полнотекстового индекса по таблице или индексированному представлению.</span><span class="sxs-lookup"><span data-stu-id="b4110-123">Create a full-text index on the table or indexed view.</span></span>  
  
     <span data-ttu-id="b4110-124">Полнотекстовый индекс — это специальный тип функционального индекса на основе токенов, создаваемый и используемый средством полнотекстового поиска.</span><span class="sxs-lookup"><span data-stu-id="b4110-124">A full-text index is a special type of token-based functional index that is built and maintained by the Full-Text Engine.</span></span> <span data-ttu-id="b4110-125">Чтобы полнотекстовый поиск мог быть создан для таблиц или представлений, они должны иметь уникальный индекс, который включает один столбец и не допускает значений NULL.</span><span class="sxs-lookup"><span data-stu-id="b4110-125">To create full-text search on a table or view, it must have a unique, single-column, non-nullable index.</span></span> <span data-ttu-id="b4110-126">Этот уникальный индекс необходим средству полнотекстового для сопоставления каждой строки таблицы с уникальным ключом со сжатием.</span><span class="sxs-lookup"><span data-stu-id="b4110-126">The Full-Text Engine requires this unique index to map each row in the table to a unique, compressible key.</span></span> <span data-ttu-id="b4110-127">Полнотекстовый индекс может включать только столбцы следующих типов: `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary` и `varbinary(max)`</span><span class="sxs-lookup"><span data-stu-id="b4110-127">A full-text index can include `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary`, and `varbinary(max)` columns.</span></span> <span data-ttu-id="b4110-128">Дополнительные сведения см. в разделе [Создание полнотекстовых индексов и управление ими](create-and-manage-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="b4110-128">For more information, see [Create and Manage Full-Text Indexes](create-and-manage-full-text-indexes.md).</span></span>  
  
 <span data-ttu-id="b4110-129">Прежде чем перейти к созданию полнотекстовых индексов, важно узнать, чем они отличаются от обычных индексов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b4110-129">Before learning about creating full-text indexes, it is important to consider how they differ from regular [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] indexes.</span></span> <span data-ttu-id="b4110-130">Различия показаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="b4110-130">The following table lists the differences.</span></span>  
  
|<span data-ttu-id="b4110-131">Полнотекстовые индексы</span><span class="sxs-lookup"><span data-stu-id="b4110-131">Full-text indexes</span></span>|<span data-ttu-id="b4110-132">Обычные индексы SQL Server</span><span class="sxs-lookup"><span data-stu-id="b4110-132">Regular SQL Server indexes</span></span>|  
|------------------------|--------------------------------|  
|<span data-ttu-id="b4110-133">Для одной таблицы разрешен только один полнотекстовой индекс.</span><span class="sxs-lookup"><span data-stu-id="b4110-133">Only one full-text index allowed per table.</span></span>|<span data-ttu-id="b4110-134">Для одной таблицы разрешено несколько обычных индексов.</span><span class="sxs-lookup"><span data-stu-id="b4110-134">Several regular indexes allowed per table.</span></span>|  
|<span data-ttu-id="b4110-135">Добавление данных к полнотекстовым индексам (*заполнение*) может быть запрошено явно, выполняться по расписанию либо автоматически при добавлении новых данных в базу.</span><span class="sxs-lookup"><span data-stu-id="b4110-135">The addition of data to full-text indexes, called a *population*, can be requested through either a schedule or a specific request, or can occur automatically with the addition of new data.</span></span>|<span data-ttu-id="b4110-136">Обновляются автоматически при создании, вставке, обновлении или удалении данных, на которых они созданы.</span><span class="sxs-lookup"><span data-stu-id="b4110-136">Updated automatically when the data upon which they are based is inserted, updated, or deleted.</span></span>|  
|<span data-ttu-id="b4110-137">Группируются в той же базе данных в один или несколько полнотекстовых каталогов.</span><span class="sxs-lookup"><span data-stu-id="b4110-137">Grouped within the same database into one or more full-text catalogs.</span></span>|<span data-ttu-id="b4110-138">Не группируются.</span><span class="sxs-lookup"><span data-stu-id="b4110-138">Not grouped.</span></span>|  
  
  
##  <a name="choosing-options-for-a-full-text-index"></a><a name="options"></a><span data-ttu-id="b4110-139">Выбор параметров для полнотекстового индекса</span><span class="sxs-lookup"><span data-stu-id="b4110-139">Choosing Options for a Full-Text Index</span></span>  
 <span data-ttu-id="b4110-140">В данном разделе объясняется следующее.</span><span class="sxs-lookup"><span data-stu-id="b4110-140">This section covers the following:</span></span>  
  
-   <span data-ttu-id="b4110-141">Выбор языка столбца.</span><span class="sxs-lookup"><span data-stu-id="b4110-141">Choosing the column language</span></span>  
  
-   <span data-ttu-id="b4110-142">Выбор файловой группы для полнотекстового индекса.</span><span class="sxs-lookup"><span data-stu-id="b4110-142">Choosing a filegroup for a full-text index</span></span>  
  
-   <span data-ttu-id="b4110-143">Назначение полнотекстового индекса для полнотекстового каталога.</span><span class="sxs-lookup"><span data-stu-id="b4110-143">Assigning the full-text index to a full-text catalog</span></span>  
  
-   <span data-ttu-id="b4110-144">Установление связи между полнотекстовым списком стоп-слов и индексом.</span><span class="sxs-lookup"><span data-stu-id="b4110-144">Associating a stoplist with the full-text index</span></span>  
  
-   <span data-ttu-id="b4110-145">Обновление полнотекстового индекса.</span><span class="sxs-lookup"><span data-stu-id="b4110-145">Updating a full-text index</span></span>  
  
### <a name="choosing-the-column-language"></a><span data-ttu-id="b4110-146">Выбор языка столбца</span><span class="sxs-lookup"><span data-stu-id="b4110-146">Choosing the Column Language</span></span>  
 <span data-ttu-id="b4110-147">Сведения, которые следует учитывать при выборе языка столбца, см. в разделе [Выбор языка при создании полнотекстового индекса](choose-a-language-when-creating-a-full-text-index.md).</span><span class="sxs-lookup"><span data-stu-id="b4110-147">For information about things to consider when you are choosing the column language, see [Choose a Language When Creating a Full-Text Index](choose-a-language-when-creating-a-full-text-index.md).</span></span>  
  
### <a name="choosing-a-filegroup-for-a-full-text-index"></a><span data-ttu-id="b4110-148">Выбор файловой группы для полнотекстового индекса</span><span class="sxs-lookup"><span data-stu-id="b4110-148">Choosing a Filegroup for a Full-Text Index</span></span>  
 <span data-ttu-id="b4110-149">Процесс построения полнотекстового индекса может сильно нагружать подсистему ввода-вывода (на высоком уровне он состоит из считывания данных из [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с последующим заполнением полнотекстового индекса отфильтрованными данными).</span><span class="sxs-lookup"><span data-stu-id="b4110-149">The process of building a full-text index is fairly I/O intensive (on a high level, it consists of reading data from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and then propagating the filtered data to the full-text index).</span></span> <span data-ttu-id="b4110-150">Рекомендуется размещать полнотекстовый индекс в той файловой группе базы данных, которая обеспечит максимальную производительность операций ввода-вывода, либо разместить полнотекстовые индексы в другой файловой группе на другом томе.</span><span class="sxs-lookup"><span data-stu-id="b4110-150">As a best practice, locate a full-text index in the database filegroup that is best for maximizing I/O performance or locate the full-text indexes in a different filegroup on another volume.</span></span>  
  
 <span data-ttu-id="b4110-151">Если требуется обеспечить простоту управления, то табличные данные и все присоединенные полнотекстовые каталоги следует хранить в одной файловой группе.</span><span class="sxs-lookup"><span data-stu-id="b4110-151">When ease of management is important to you, we recommend that you store table data and any affiliated full-text catalogs in the same filegroup.</span></span> <span data-ttu-id="b4110-152">Иногда в целях увеличения производительности можно расположить табличные данные и полнотекстовый индекс в разных файловых группах, хранящихся на разных томах. Это позволит обеспечить максимальный параллелизм ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="b4110-152">Sometimes, for performance reasons, you might want to have the table data and the full-text index in different filegroups that are stored on different volumes to maximize I/O parallelism.</span></span>  
  
  
### <a name="assigning-the-full-text-index-to-a-full-text-catalog"></a><span data-ttu-id="b4110-153">Назначение полнотекстового индекса для полнотекстового каталога</span><span class="sxs-lookup"><span data-stu-id="b4110-153">Assigning the Full-Text Index to a Full-Text Catalog</span></span>  
 <span data-ttu-id="b4110-154">Важно распланировать расположение полнотекстовых индексов для таблиц в полнотекстовых каталогах.</span><span class="sxs-lookup"><span data-stu-id="b4110-154">It is important to plan the placement of full-text indexes for tables in full-text catalogs.</span></span>  
  
 <span data-ttu-id="b4110-155">Таблицы с одинаковыми характеристиками обновления (например, небольшим числом изменений, в противоположность большому их количеству или частым изменением таблиц в определенное время дня) рекомендуется связывать с одним полнотекстовым каталогом.</span><span class="sxs-lookup"><span data-stu-id="b4110-155">We recommend associating tables with the same update characteristics (such as small number of changes versus large number of changes, or tables that change frequently during a particular time of day) together under the same full-text catalog.</span></span> <span data-ttu-id="b4110-156">Если настроить расписание заполнения полнотекстового каталога, то полнотекстовые индексы будут синхронизироваться с таблицами, почти не влияя на использование ресурсов сервером баз данных в течение периодов высокой активности.</span><span class="sxs-lookup"><span data-stu-id="b4110-156">By setting up full-text catalog population schedules, full-text indexes stay synchronous with the tables without adversely affecting the resource usage of the database server during periods of high database activity.</span></span>  
  
 <span data-ttu-id="b4110-157">При присвоении таблицы к полнотекстовому каталогу учитывайте следующие требования.</span><span class="sxs-lookup"><span data-stu-id="b4110-157">When you assign a table to a full-text catalog, consider the following guidelines:</span></span>  
  
-   <span data-ttu-id="b4110-158">Для полнотекстового уникального ключа всегда следует выбирать наименьший по размеру уникальный индекс.</span><span class="sxs-lookup"><span data-stu-id="b4110-158">Always select the smallest unique index available for your full-text unique key.</span></span> <span data-ttu-id="b4110-159">(Индекс, основанный на 4 байтах, является оптимальным значением.) Это значительно сокращает количество ресурсов, необходимых [!INCLUDE[msCoName](../../includes/msconame-md.md)] службе поиска в файловой системе.</span><span class="sxs-lookup"><span data-stu-id="b4110-159">(A 4-byte, integer-based index is optimal.) This reduces the resources required by [!INCLUDE[msCoName](../../includes/msconame-md.md)] Search service in the file system significantly.</span></span> <span data-ttu-id="b4110-160">Если первичный ключ велик (более 100 байт), попробуйте выбрать в таблице другой уникальный индекс (или создайте другой уникальный индекс) в качестве полнотекстового уникального ключа.</span><span class="sxs-lookup"><span data-stu-id="b4110-160">If the primary key is large (over 100 bytes), consider choosing another unique index in the table (or creating another unique index) as the full-text unique key.</span></span> <span data-ttu-id="b4110-161">В противном случае, если размер полнотекстового уникального ключа превышает максимально разрешенный размер (900 байт), выполнить полнотекстовое заполнение не удастся.</span><span class="sxs-lookup"><span data-stu-id="b4110-161">Otherwise, if the full-text unique key size exceeds the maximum size allowed (900 bytes), full-text population will not be able to proceed.</span></span>  
  
-   <span data-ttu-id="b4110-162">Если индексируется таблица с миллионами строк, припишите ее к отдельному полнотекстовому каталогу.</span><span class="sxs-lookup"><span data-stu-id="b4110-162">If you are indexing a table that has millions of rows, assign the table to its own full-text catalog.</span></span>  
  
-   <span data-ttu-id="b4110-163">Учитывайте количество изменений в таблице, в которой выполняется полнотекстовое индексирование, а также количество строк в этой таблице.</span><span class="sxs-lookup"><span data-stu-id="b4110-163">Consider the amount of changes occurring in the tables being full-text indexed, as well as the total number of rows.</span></span> <span data-ttu-id="b4110-164">Если общее число изменяемых строк вместе с количеством строк в таблице на момент последнего полнотекстового заполнения исчисляется миллионами, свяжите эту таблицу с отдельным полнотекстовым каталогом.</span><span class="sxs-lookup"><span data-stu-id="b4110-164">If the total number of rows being changed, together with the numbers of rows in the table present during the last full-text population, represents millions of rows, assign the table to its own full-text catalog.</span></span>  
  
  
### <a name="associating-a-stoplist-with-the-full-text-index"></a><span data-ttu-id="b4110-165">Установление связи между полнотекстовым списком стоп-слов и индексом.</span><span class="sxs-lookup"><span data-stu-id="b4110-165">Associating a Stoplist with the Full-Text Index</span></span>  
 <span data-ttu-id="b4110-166">В [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] были добавлены списки стоп-слов.</span><span class="sxs-lookup"><span data-stu-id="b4110-166">[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] introduces stoplists.</span></span> <span data-ttu-id="b4110-167">*Список стоп-слов* — это список, в котором перечислены стоп-слова, также известные как пропускаемые слова.</span><span class="sxs-lookup"><span data-stu-id="b4110-167">A *stoplist* is a list of stopwords, also known as noise words.</span></span> <span data-ttu-id="b4110-168">Список стоп-слов связывается с каждым полнотекстовым индексом. Слова в данном списке применяются к полнотекстовым запросам в данном индексе.</span><span class="sxs-lookup"><span data-stu-id="b4110-168">A stoplist is associated with each full-text index, and the words in that stoplist are applied to full-text queries on that index.</span></span> <span data-ttu-id="b4110-169">По умолчанию с новым полнотекстовым индексом связан системный список стоп-слов.</span><span class="sxs-lookup"><span data-stu-id="b4110-169">By default, the system stoplist is associated with a new full-text index.</span></span> <span data-ttu-id="b4110-170">Однако пользователь может создать и использовать собственный список стоп-слов.</span><span class="sxs-lookup"><span data-stu-id="b4110-170">However, you can create and use your own stoplist instead.</span></span> <span data-ttu-id="b4110-171">Дополнительные сведения см. в разделе [Настройка стоп-слов и списков стоп-слов для полнотекстового поиска и управление ими](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="b4110-171">For more information, see [Configure and Manage Stopwords and Stoplists for Full-Text Search](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span></span>  
  
 <span data-ttu-id="b4110-172">Например, следующая инструкция [CREATE FULLTEXT ведомого списка стоп-слов](/sql/t-sql/statements/create-fulltext-stoplist-transact-sql) [!INCLUDE[tsql](../../../includes/tsql-md.md)] создает новый полнотекстовый список стоповых списков с именем myStoplist3, копируя из списка системных стоп-слов:</span><span class="sxs-lookup"><span data-stu-id="b4110-172">For example, the following [CREATE FULLTEXT STOPLIST](/sql/t-sql/statements/create-fulltext-stoplist-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statement creates a new full-text stoplist named myStoplist3 by copying from the system stoplist:</span></span>  
  
```  
CREATE FULLTEXT STOPLIST myStoplist FROM SYSTEM STOPLIST;  
GO  
```  
  
 <span data-ttu-id="b4110-173">Следующая инструкция [ALTER FULLTEXT ведомого списка стоп-слов](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql) [!INCLUDE[tsql](../../../includes/tsql-md.md)] изменяет список слов с именем myStoplist, добавляя слово «EN», сначала для испанского, а затем для французского:</span><span class="sxs-lookup"><span data-stu-id="b4110-173">The following [ALTER FULLTEXT STOPLIST](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statement alters a stoplist named myStoplist, adding the word 'en', first for Spanish and then for French:</span></span>  
  
```  
ALTER FULLTEXT STOPLIST MyStoplist ADD 'en' LANGUAGE 'Spanish';  
ALTER FULLTEXT STOPLIST MyStoplist ADD 'en' LANGUAGE 'French';  
GO  
```  
  
  
### <a name="updating-a-full-text-index"></a><span data-ttu-id="b4110-174">Обновление полнотекстового индекса</span><span class="sxs-lookup"><span data-stu-id="b4110-174">Updating a Full-Text Index</span></span>  
 <span data-ttu-id="b4110-175">Аналогично обычным индексам [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] полнотекстовые индексы можно обновлять автоматически по мере изменения данных в связанных с ними таблицах.</span><span class="sxs-lookup"><span data-stu-id="b4110-175">Like regular [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] indexes, full-text indexes can be automatically updated as data is modified in the associated tables.</span></span> <span data-ttu-id="b4110-176">Это поведение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b4110-176">This is the default behavior.</span></span> <span data-ttu-id="b4110-177">Также обновлять полнотекстовые индексы можно вручную либо по заданному расписанию.</span><span class="sxs-lookup"><span data-stu-id="b4110-177">Alternatively, you can keep your full-text indexes up-to-date manually or at specified scheduled intervals.</span></span> <span data-ttu-id="b4110-178">Заполнение полнотекстового индекса может потребовать значительного времени и ресурсов, вследствие чего обновление индекса обычно выполняется как асинхронный процесс в фоновом режиме, который обновляет полнотекстовый индекс после внесения изменений в базовую таблицу.</span><span class="sxs-lookup"><span data-stu-id="b4110-178">Populating a full-text index can be time-consuming and resource-intensive, therefore, index updating is usually performed as an asynchronous process that runs in the background and keeps the full-text index up to date after modifications in the base table.</span></span> <span data-ttu-id="b4110-179">Для немедленного обновления полнотекстового индекса после каждого изменения в базовой таблице может потребоваться большой объем ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b4110-179">Updating a full-text index immediately after each change in the base table can be resource-intensive.</span></span> <span data-ttu-id="b4110-180">Следовательно, если обновление, вставка или удаление выполняются часто, то производительность запросов может снизиться.</span><span class="sxs-lookup"><span data-stu-id="b4110-180">Therefore, if you have a very high update/insert/delete rate, you might experience some degradation in query performance.</span></span> <span data-ttu-id="b4110-181">В таком случае попробуйте выполнять обновления отслеживания изменений вручную по определенному расписанию. Это позволит обрабатывать больше изменений в определенные моменты времени, а не конкурировать за ресурсы с запросами.</span><span class="sxs-lookup"><span data-stu-id="b4110-181">If this occurs, consider scheduling manual change tracking updates to keep up with the numerous changes from time to time, rather than competing with queries for resources.</span></span>  
  
 <span data-ttu-id="b4110-182">Чтобы наблюдения за состоянием заполнения используется функция FULLTEXTCATALOGPROPERTY или OBJECTPROPERTYEX.</span><span class="sxs-lookup"><span data-stu-id="b4110-182">To monitor the population status, use either the FULLTEXTCATALOGPROPERTY or OBJECTPROPERTYEX functions.</span></span> <span data-ttu-id="b4110-183">Чтобы получить сведения о состоянии заполнения каталога, выполните следующую инструкцию:</span><span class="sxs-lookup"><span data-stu-id="b4110-183">To get the catalog population status, run the following statement:</span></span>  
  
```  
SELECT FULLTEXTCATALOGPROPERTY('AdvWksDocFTCat', 'Populatestatus');  
```  
  
 <span data-ttu-id="b4110-184">Как правило, если выполняется полное заполнение, возвращается значение 1.</span><span class="sxs-lookup"><span data-stu-id="b4110-184">Typically, if a full population is in progress, the result returned is 1.</span></span>  
  
  
##  <a name="example-setting-up-full-text-search"></a><a name="example"></a><span data-ttu-id="b4110-185">Пример. Настройка полнотекстового поиска</span><span class="sxs-lookup"><span data-stu-id="b4110-185">Example: Setting Up Full-Text Search</span></span>  
 <span data-ttu-id="b4110-186">В следующем примере из двух частей в базе данных AdventureWorks создается полнотекстовый каталог с именем `AdvWksDocFTCat`, затем создается полнотекстовый индекс в таблице `Document` базы данных [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b4110-186">The following two-part example creates a full-text catalog named `AdvWksDocFTCat` on the AdventureWorks database and then creates a full-text index on the `Document` table in [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)].</span></span> <span data-ttu-id="b4110-187">Эта инструкция создает полнотекстовый каталог в папке по умолчанию, указанной во время установки,</span><span class="sxs-lookup"><span data-stu-id="b4110-187">This statement creates the full-text catalog in the default directory specified during setup.</span></span> <span data-ttu-id="b4110-188">то есть папка `AdvWksDocFTCat` будет вложена в каталог по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b4110-188">The folder named `AdvWksDocFTCat` is in the default directory.</span></span>  
  
1.  <span data-ttu-id="b4110-189">Для создания полнотекстового каталога `AdvWksDocFTCat`в примере используется инструкция [CREATE FULLTEXT CATALOG](/sql/t-sql/statements/create-fulltext-catalog-transact-sql) :</span><span class="sxs-lookup"><span data-stu-id="b4110-189">To create a full-text catalog named `AdvWksDocFTCat`, the example uses a [CREATE FULLTEXT CATALOG](/sql/t-sql/statements/create-fulltext-catalog-transact-sql) statement:</span></span>  
  
    ```  
    USE AdventureWorks;  
    GO  
    CREATE FULLTEXT CATALOG AdvWksDocFTCat;  
    ```  
  
2.  <span data-ttu-id="b4110-190">Однако перед созданием полнотекстового индекса для таблицы Document следует убедиться, что в ней определен уникальный индекс с одним столбцом, не допускающий значений NULL.</span><span class="sxs-lookup"><span data-stu-id="b4110-190">Before you can create a full-text index on the Document table, ensure that the table has a unique, single-column, non-nullable index.</span></span> <span data-ttu-id="b4110-191">Следующая инструкция [CREATE INDEX](/sql/t-sql/statements/create-index-transact-sql) создает уникальный индекс `ui_ukDoc`для столбца DocumentID таблицы Document:</span><span class="sxs-lookup"><span data-stu-id="b4110-191">The following [CREATE INDEX](/sql/t-sql/statements/create-index-transact-sql) statement creates a unique index, `ui_ukDoc`, on the DocumentID column of the Document table:</span></span>  
  
    ```  
    CREATE UNIQUE INDEX ui_ukDoc ON Production.Document(DocumentID);  
    ```  
  
3.  <span data-ttu-id="b4110-192">После создания уникального ключа можно создать полнотекстовый индекс для таблицы `Document` с помощью следующей инструкции [CREATE FULLTEXT INDEX](/sql/t-sql/statements/create-fulltext-index-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="b4110-192">After you have a unique key, you can create a full-text index on the `Document` table by using the following [CREATE FULLTEXT INDEX](/sql/t-sql/statements/create-fulltext-index-transact-sql) statement.</span></span>  
  
    ```  
    CREATE FULLTEXT INDEX ON Production.Document  
    (  
        Document                         --Full-text index column name   
            TYPE COLUMN FileExtension    --Name of column that contains file type information  
            Language 2057                 --2057 is the LCID for British English  
    )  
    KEY INDEX ui_ukDoc ON AdvWksDocFTCat --Unique index  
    WITH CHANGE_TRACKING AUTO            --Population type;  
    GO  
  
    ```  
  
     <span data-ttu-id="b4110-193">Столбец TYPE COLUMN, определенный в этом примере, задает столбец типов в таблице, которая в каждой строке столбца «Document» (имеющего двоичный тип) содержит тип документа.</span><span class="sxs-lookup"><span data-stu-id="b4110-193">The TYPE COLUMN defined in this example specifies the type column in the table that contains the type of the document in each row of the column 'Document' (which is of binary type).</span></span> <span data-ttu-id="b4110-194">В столбце Тип хранится расширение файла. doc,. xls и т. д. для документа в заданной строке.</span><span class="sxs-lookup"><span data-stu-id="b4110-194">The type column stores the user-supplied file extension-".doc", ".xls", and so on-of the document in a given row.</span></span> <span data-ttu-id="b4110-195">Средство полнотекстового поиска будет использовать это расширение для вызова соответствующего фильтра, который применяется для синтаксического анализа данных в данной строке.</span><span class="sxs-lookup"><span data-stu-id="b4110-195">The Full-Text Engine uses the file extension in a given row to invoke the correct filter to use for parsing the data in that row.</span></span> <span data-ttu-id="b4110-196">После того как фильтр выполнит синтаксический анализ двоичных данных в строке, указанное средство разбиения по словам выполнит синтаксический анализ содержимого (в данном примере используется средство разбиения по словам для английского языка (Великобритания)).</span><span class="sxs-lookup"><span data-stu-id="b4110-196">After the filter has parsed the binary data of the row, the specified word breaker will parse the content (in this example, the word breaker for British English is used).</span></span> <span data-ttu-id="b4110-197">Следует отметить, что процесс фильтрации выполняется либо во время индексирования, либо при вставке или обновлении пользователем столбца в базовой таблице, если автоматическое отслеживание изменений было включено для полнотекстового индекса.</span><span class="sxs-lookup"><span data-stu-id="b4110-197">Note that the filtering process happens only at indexing time or if a user inserts or updates a column in the base table while automatic change tracking is enabled for the full-text index.</span></span> <span data-ttu-id="b4110-198">Дополнительные сведения см. в разделе [Настройка фильтров для поиска и управление ими](configure-and-manage-filters-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="b4110-198">For more information, see [Configure and Manage Filters for Search](configure-and-manage-filters-for-search.md).</span></span>  
  
  
##  <a name="common-tasks"></a><a name="tasks"></a><span data-ttu-id="b4110-199">Общие задачи</span><span class="sxs-lookup"><span data-stu-id="b4110-199">Common Tasks</span></span>  
  
### <a name="to-create-a-full-text-catalog"></a><span data-ttu-id="b4110-200">Создание полнотекстового каталога</span><span class="sxs-lookup"><span data-stu-id="b4110-200">To Create a Full-Text Catalog</span></span>  
  
-   [<span data-ttu-id="b4110-201">CREATE FULLTEXT CATALOG (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-201">CREATE FULLTEXT CATALOG &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-fulltext-catalog-transact-sql)  
  
-   [<span data-ttu-id="b4110-202">Создание и управление полнотекстовыми каталогами</span><span class="sxs-lookup"><span data-stu-id="b4110-202">Create and Manage Full-Text Catalogs</span></span>](create-and-manage-full-text-catalogs.md)  
  
### <a name="to-view-the-indexes-of-a-table-or-view"></a><span data-ttu-id="b4110-203">Просмотр индексов таблицы (или представления)</span><span class="sxs-lookup"><span data-stu-id="b4110-203">To View the Indexes of a Table (or View)</span></span>  
  
-   [<span data-ttu-id="b4110-204">sys.indexes (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-204">sys.indexes &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql)  
  
### <a name="to-create-a-unique-index"></a><span data-ttu-id="b4110-205">Создание уникального индекса</span><span class="sxs-lookup"><span data-stu-id="b4110-205">To Create a Unique Index</span></span>  
  
-   [<span data-ttu-id="b4110-206">CREATE INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b4110-206">CREATE INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-index-transact-sql)  
  
-   [<span data-ttu-id="b4110-207">Открытие конструктора таблиц (визуальные инструменты для баз данных)</span><span class="sxs-lookup"><span data-stu-id="b4110-207">Open Table Designer &#40;Visual Database Tools&#41;</span></span>](../../ssms/visual-db-tools/visual-database-tools.md)  
  
### <a name="to-create-a-full-text-index"></a><span data-ttu-id="b4110-208">Создание полнотекстового индекса</span><span class="sxs-lookup"><span data-stu-id="b4110-208">To Create a Full-Text Index</span></span>  
  
-   [<span data-ttu-id="b4110-209">CREATE FULLTEXT INDEX (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-209">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-fulltext-index-transact-sql)  
  
-   [<span data-ttu-id="b4110-210">Создание и управление полнотекстовыми индексами</span><span class="sxs-lookup"><span data-stu-id="b4110-210">Create and Manage Full-Text Indexes</span></span>](create-and-manage-full-text-indexes.md)  
  
### <a name="to-view-information-about-a-full-text-index"></a><span data-ttu-id="b4110-211">Просмотр сведений о полнотекстовом индексе</span><span class="sxs-lookup"><span data-stu-id="b4110-211">To View Information about a Full-Text Index</span></span>  
  
|<span data-ttu-id="b4110-212">Каталог или динамическое административное представление</span><span class="sxs-lookup"><span data-stu-id="b4110-212">Catalog or Dynamic Management View</span></span>|<span data-ttu-id="b4110-213">Описание</span><span class="sxs-lookup"><span data-stu-id="b4110-213">Description</span></span>|  
|----------------------------------------|-----------------|  
|[<span data-ttu-id="b4110-214">sys.fulltext_index_catalog_usages (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-214">sys.fulltext_index_catalog_usages &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-fulltext-index-catalog-usages-transact-sql)|<span data-ttu-id="b4110-215">Возвращает строку для каждого полнотекстового каталога, ссылающегося на полнотекстовый индекс.</span><span class="sxs-lookup"><span data-stu-id="b4110-215">Returns a row for each full-text catalog to full-text index reference.</span></span>|  
|[<span data-ttu-id="b4110-216">sys.fulltext_index_columns (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-216">sys.fulltext_index_columns &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-fulltext-index-columns-transact-sql)|<span data-ttu-id="b4110-217">Содержит по одной строке для каждого столбца, являющегося частью полнотекстового индекса.</span><span class="sxs-lookup"><span data-stu-id="b4110-217">Contains a row for each column that is part of a full-text index.</span></span>|  
|[<span data-ttu-id="b4110-218">sys.fulltext_index_fragments (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-218">sys.fulltext_index_fragments &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql)|<span data-ttu-id="b4110-219">Полнотекстовый индекс использует внутренние таблицы, называемые фрагментами полнотекстового индекса, для хранения данных инвертированного индекса.</span><span class="sxs-lookup"><span data-stu-id="b4110-219">A fulltext index uses internal tables called full-text index fragments to store the inverted index data.</span></span> <span data-ttu-id="b4110-220">Это представление может использоваться для запросов к метаданным об этих фрагментах.</span><span class="sxs-lookup"><span data-stu-id="b4110-220">This view can be used to query the metadata about these fragments.</span></span> <span data-ttu-id="b4110-221">Представление содержит строку для каждого фрагмента полнотекстового индекса в каждой таблице, содержащей полнотекстовый индекс.</span><span class="sxs-lookup"><span data-stu-id="b4110-221">This view contains a row for each full-text index fragment in every table that contains a full-text index.</span></span>|  
|[<span data-ttu-id="b4110-222">sys.fulltext_indexes (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-222">sys.fulltext_indexes &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-fulltext-indexes-transact-sql)|<span data-ttu-id="b4110-223">Содержит по одной строке для каждого полнотекстового индекса табличного объекта.</span><span class="sxs-lookup"><span data-stu-id="b4110-223">Contains a row per full-text index of a tabular object.</span></span>|  
|[<span data-ttu-id="b4110-224">sys.dm_fts_index_keywords (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-224">sys.dm_fts_index_keywords &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-index-keywords-transact-sql)|<span data-ttu-id="b4110-225">Возвращает сведения о содержимом полнотекстового индекса для указанной таблицы.</span><span class="sxs-lookup"><span data-stu-id="b4110-225">Returns information about the content of a full-text index for the specified table.</span></span>|  
|[<span data-ttu-id="b4110-226">sys.dm_fts_index_keywords_by_document (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-226">sys.dm_fts_index_keywords_by_document &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-index-keywords-by-document-transact-sql)|<span data-ttu-id="b4110-227">Возвращает сведения о содержимом полнотекстового индекса на уровне документа для указанной таблицы.</span><span class="sxs-lookup"><span data-stu-id="b4110-227">Returns information about the document-level content of a full-text index for the specified table.</span></span> <span data-ttu-id="b4110-228">Данное ключевое слово может встречаться в нескольких документах.</span><span class="sxs-lookup"><span data-stu-id="b4110-228">A given keyword can appear in several documents.</span></span>|  
|[<span data-ttu-id="b4110-229">sys.dm_fts_index_population (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-229">sys.dm_fts_index_population &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-index-population-transact-sql)|<span data-ttu-id="b4110-230">Возвращает сведения о выполняющихся в настоящий момент процессах заполнения полнотекстовых индексов.</span><span class="sxs-lookup"><span data-stu-id="b4110-230">Returns information about the full-text index populations currently in progress.</span></span>|  
  
  
## <a name="see-also"></a><span data-ttu-id="b4110-231">См. также:</span><span class="sxs-lookup"><span data-stu-id="b4110-231">See Also</span></span>  
 <span data-ttu-id="b4110-232">[CREATE FULLTEXT CATALOG (Transact-SQL)](/sql/t-sql/statements/create-fulltext-catalog-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="b4110-232">[CREATE FULLTEXT CATALOG &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-fulltext-catalog-transact-sql) </span></span>  
 <span data-ttu-id="b4110-233">[CREATE FULLTEXT INDEX (Transact-SQL)](/sql/t-sql/statements/create-fulltext-index-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="b4110-233">[CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-fulltext-index-transact-sql) </span></span>  
 <span data-ttu-id="b4110-234">[Создание ПОЛНОТЕКСТОВОГО списка стоп-слов &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-fulltext-stoplist-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="b4110-234">[CREATE FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-fulltext-stoplist-transact-sql) </span></span>  
 <span data-ttu-id="b4110-235">[CREATE TABLE (Transact-SQL)](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="b4110-235">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="b4110-236">[Заполнение полнотекстовых индексов](populate-full-text-indexes.md) </span><span class="sxs-lookup"><span data-stu-id="b4110-236">[Populate Full-Text Indexes](populate-full-text-indexes.md) </span></span>  
 <span data-ttu-id="b4110-237">[FULLTEXTCATALOGPROPERTY &#40;Transact-SQL&#41;](/sql/t-sql/functions/fulltextcatalogproperty-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="b4110-237">[FULLTEXTCATALOGPROPERTY &#40;Transact-SQL&#41;](/sql/t-sql/functions/fulltextcatalogproperty-transact-sql) </span></span>  
 [<span data-ttu-id="b4110-238">OBJECTPROPERTYEX (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b4110-238">OBJECTPROPERTYEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/objectproperty-transact-sql)  
  
  

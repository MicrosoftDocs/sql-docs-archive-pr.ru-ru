---
title: Управление полнотекстовым поиском и наблюдение за ним для экземпляра сервера | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], about
- full-text search [SQL Server], server management
ms.assetid: 2733ed78-6d33-4bf9-94da-60c3141b87c8
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 1ba4b2f081047f25fa775e0c8754caa4ce643e70
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733770"
---
# <a name="manage-and-monitor-full-text-search-for-a-server-instance"></a><span data-ttu-id="c2730-102">Управление и наблюдение за полнотекстовым поиском для экземпляра сервера</span><span class="sxs-lookup"><span data-stu-id="c2730-102">Manage and Monitor Full-Text Search for a Server Instance</span></span>
  <span data-ttu-id="c2730-103">С полнотекстовым администрированием нескольких экземпляров связаны следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="c2730-103">Full-text administration for a server instance includes:</span></span>  
  
-   <span data-ttu-id="c2730-104">Задачи управления системой, например управление службой средства запуска FDHOST (MSSQLFDLauncher), повторный запуск процесса узла управляющей программы фильтрации при изменении учетных данных учетной записи службы, настройка свойств полнотекстового поиска на уровне сервера и создание резервных копий полнотекстовых каталогов.</span><span class="sxs-lookup"><span data-stu-id="c2730-104">System management tasks such as managing the FDHOST Launcher service (MSSQLFDLauncher), restarting filter daemon host process if you change the service account credentials, configuring server-wide full-text properties, and backing up full-text catalogs.</span></span> <span data-ttu-id="c2730-105">На уровне сервера, к примеру, можно указать язык полнотекстового поиска по умолчанию, отличающийся от языка экземпляра сервера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="c2730-105">At the server level, for example, you can specify a default full-text language that differs from the default language of the server instance as a whole.</span></span>  
  
-   <span data-ttu-id="c2730-106">Настройка полнотекстовых лингвистических компонентов (средств разбиения по словам, парадигматических модулей, файла тезауруса, стоп-слов и списков стоп-слов).</span><span class="sxs-lookup"><span data-stu-id="c2730-106">Configuring full-text linguistic components (word breakers and stemmers, thesaurus file, and stopwords and stoplists).</span></span>  
  
-   <span data-ttu-id="c2730-107">Настройка полнотекстового поиска в пользовательской базе данных.</span><span class="sxs-lookup"><span data-stu-id="c2730-107">Configuring a user database for full-text search.</span></span> <span data-ttu-id="c2730-108">Такая настройка включает в себя создание одного или нескольких полнотекстовых каталогов для базы данных и определение полнотекстового индекса на каждой таблице или на индексированном представлении, где требуется выполнять полнотекстовые запросы.</span><span class="sxs-lookup"><span data-stu-id="c2730-108">This involves creating one or more full-text catalogs for the database and defining a full-text index on each table or indexed view on which you want to execute full-text queries.</span></span>  
  
##  <a name="viewing-or-changing-server-properties-for-full-text-search"></a><a name="props"></a> <span data-ttu-id="c2730-109">Просмотр или изменение свойств сервера для средств полнотекстового поиска</span><span class="sxs-lookup"><span data-stu-id="c2730-109">Viewing or Changing Server Properties for Full-Text Search</span></span>  
 <span data-ttu-id="c2730-110">В среде [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] можно просматривать свойства полнотекстового поиска в экземпляре [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c2730-110">You can view the full-text properties of an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
#### <a name="to-view-and-change-server-properties-for-full-text-search"></a><span data-ttu-id="c2730-111">Просмотр и изменение свойств сервера для полнотекстового поиска</span><span class="sxs-lookup"><span data-stu-id="c2730-111">To view and change server properties for full-text search</span></span>  
  
1.  <span data-ttu-id="c2730-112">В обозревателе объектов щелкните правой кнопкой мыши сервер и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="c2730-112">In Object Explorer, right-click a server, and then click **Properties**.</span></span>  
  
2.  <span data-ttu-id="c2730-113">В диалоговом окне **Свойства сервера** щелкните страницу **Дополнительно** , чтобы просмотреть сведения о полнотекстовом поиске на сервере.</span><span class="sxs-lookup"><span data-stu-id="c2730-113">In the **Server Properties** dialog box, click the **Advanced** page to view server information about full-text search.</span></span> <span data-ttu-id="c2730-114">Ниже приведены свойства полнотекстового поиска.</span><span class="sxs-lookup"><span data-stu-id="c2730-114">The full-text properties are as follows:</span></span>  
  
    -   <span data-ttu-id="c2730-115">**Язык полнотекстового поиска по умолчанию**</span><span class="sxs-lookup"><span data-stu-id="c2730-115">**Default Full-Text Language**</span></span>  
  
         <span data-ttu-id="c2730-116">Укажите язык, используемый по умолчанию для полнотекстовых индексированных столбцов.</span><span class="sxs-lookup"><span data-stu-id="c2730-116">Specifies a default language for full-text indexed columns.</span></span> <span data-ttu-id="c2730-117">Лингвистический анализ полнотекстовых индексированных данных зависит от языка данных.</span><span class="sxs-lookup"><span data-stu-id="c2730-117">Linguistic analysis of full-text indexed data is dependent on the language of the data.</span></span> <span data-ttu-id="c2730-118">Значением по умолчанию для этого параметра является язык сервера.</span><span class="sxs-lookup"><span data-stu-id="c2730-118">The default value of this option is the language of the server.</span></span> <span data-ttu-id="c2730-119">Дополнительные сведения о языке, соответствующем отображаемой настройке, см. в разделе [sys.fulltext_languages (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-fulltext-languages-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c2730-119">For the language that corresponds to the displayed setting, see [sys.fulltext_languages &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-languages-transact-sql).</span></span>  
  
    -   <span data-ttu-id="c2730-120">**Параметр обновления полнотекстового поиска**</span><span class="sxs-lookup"><span data-stu-id="c2730-120">**Full-Text Upgrade Option**</span></span>  
  
         <span data-ttu-id="c2730-121">Это свойство сервера управляет миграцией полнотекстовых индексов во время обновления базы данных с [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] до более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="c2730-121">This server property controls how full-text indexes are migrated when upgrading a database from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] to a later version.</span></span> <span data-ttu-id="c2730-122">Это свойство применяется к обновлению, выполняемому путем присоединения базы данных, восстановления базы данных из резервной копии или восстановления файла из резервной копии, а также в случае, если база данных копируется мастером копирования баз данных.</span><span class="sxs-lookup"><span data-stu-id="c2730-122">This property applies to upgrading by attaching a database, restoring a database backup, restoring a file backup, or copying the database by using the Copy Database Wizard.</span></span>  
  
         <span data-ttu-id="c2730-123">Существуют следующие варианты.</span><span class="sxs-lookup"><span data-stu-id="c2730-123">The alternatives are as follows:</span></span>  
  
         <span data-ttu-id="c2730-124">**Импорт**</span><span class="sxs-lookup"><span data-stu-id="c2730-124">**Import**</span></span>  
         <span data-ttu-id="c2730-125">Полнотекстовые индексы импортируются.</span><span class="sxs-lookup"><span data-stu-id="c2730-125">Full-text catalogs are imported.</span></span> <span data-ttu-id="c2730-126">Обычно импорт производится значительно быстрее перестроения.</span><span class="sxs-lookup"><span data-stu-id="c2730-126">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="c2730-127">Например, если используется только один ЦП, то импорт выполняется в 10 раз быстрее, чем перестроение.</span><span class="sxs-lookup"><span data-stu-id="c2730-127">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="c2730-128">Однако в импортированных полнотекстовых каталогах не используются новые улучшенные средства разбиения по словам, добавленные в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], поэтому со временем рекомендуется произвести перестроение полнотекстовых каталогов.</span><span class="sxs-lookup"><span data-stu-id="c2730-128">However, an imported full-text catalog does not use the new and enhanced word breakers introduced in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], so you might want to rebuild your full-text catalogs eventually.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="c2730-129">Перестроение может выполняться в многопоточном режиме; если доступно более 10 процессоров, то перестроение может выполниться быстрее импорта, если будет разрешено использовать все процессоры.</span><span class="sxs-lookup"><span data-stu-id="c2730-129">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
         <span data-ttu-id="c2730-130">Если полнотекстовый каталог недоступен, перестраиваются связанные полнотекстовые индексы.</span><span class="sxs-lookup"><span data-stu-id="c2730-130">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="c2730-131">Этот параметр доступен только для баз данных [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c2730-131">This option is available for only [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] databases.</span></span>  
  
         <span data-ttu-id="c2730-132">**Перестроение**</span><span class="sxs-lookup"><span data-stu-id="c2730-132">**Rebuild**</span></span>  
         <span data-ttu-id="c2730-133">Полнотекстовые каталоги перестраиваются с помощью новых и улучшенных средств разбиения по словам.</span><span class="sxs-lookup"><span data-stu-id="c2730-133">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="c2730-134">Перестроение индексов может занять длительное время, а после обновления может потребоваться значительный объем ресурсов ЦП и памяти.</span><span class="sxs-lookup"><span data-stu-id="c2730-134">Rebuilding indexes can take awhile, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
         <span data-ttu-id="c2730-135">**Сброс**</span><span class="sxs-lookup"><span data-stu-id="c2730-135">**Reset**</span></span>  
         <span data-ttu-id="c2730-136">Полнотекстовые каталоги сбрасываются.</span><span class="sxs-lookup"><span data-stu-id="c2730-136">Full-text catalogs are reset.</span></span> [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="c2730-137">Полнотекстовые файлы каталога удалены, но метаданные для полнотекстовых каталогов и полнотекстовых индексов сохранены.</span><span class="sxs-lookup"><span data-stu-id="c2730-137">full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="c2730-138">После обновления для всех полнотекстовых индексов отключается отслеживание изменений и сканирование не запускается автоматически.</span><span class="sxs-lookup"><span data-stu-id="c2730-138">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="c2730-139">После завершения обновления каталог останется пустым, пока не будет вручную запущено полное заполнение.</span><span class="sxs-lookup"><span data-stu-id="c2730-139">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
         <span data-ttu-id="c2730-140">Сведения о выборе режима полнотекстового обновления см. в разделе [Обновление полнотекстового поиска](upgrade-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="c2730-140">For information about choosing a full-text upgrade option, see [Upgrade Full-Text Search](upgrade-full-text-search.md).</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="c2730-141">Режим полнотекстового обновления также можно задать с помощью действия **upgrade_option** процедуры [sp_fulltext_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c2730-141">The full-text upgrade option can also be set by using the [sp_fulltext_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)**upgrade_option** action.</span></span>  
  
##  <a name="viewing-additional-full-text-server-properties"></a><a name="metadata"></a> <span data-ttu-id="c2730-142">Просмотр дополнительных свойств сервера полнотекстового поиска</span><span class="sxs-lookup"><span data-stu-id="c2730-142">Viewing Additional Full-Text Server Properties</span></span>  
 [!INCLUDE[tsql](../../../includes/tsql-md.md)] <span data-ttu-id="c2730-143">Функции могут использоваться для получения значений различных свойств полнотекстового поиска уровня сервера.</span><span class="sxs-lookup"><span data-stu-id="c2730-143">functions can be used to obtain the value of various server-level properties of full-text search.</span></span> <span data-ttu-id="c2730-144">Данные сведения касаются прежде всего администрирования и устранения неполадок в полнотекстовом поиске.</span><span class="sxs-lookup"><span data-stu-id="c2730-144">This information is useful for administrating and troubleshooting full-text search.</span></span>  
  
 <span data-ttu-id="c2730-145">В следующей таблице перечислены полнотекстовые свойства экземпляра сервера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и соответствующие функции [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c2730-145">The following table lists full-text properties of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] server instance and their related [!INCLUDE[tsql](../../../includes/tsql-md.md)] functions.</span></span>  
  
|<span data-ttu-id="c2730-146">Свойство</span><span class="sxs-lookup"><span data-stu-id="c2730-146">Property</span></span>|<span data-ttu-id="c2730-147">Description</span><span class="sxs-lookup"><span data-stu-id="c2730-147">Description</span></span>|<span data-ttu-id="c2730-148">Компонент</span><span class="sxs-lookup"><span data-stu-id="c2730-148">Function</span></span>|  
|--------------|-----------------|--------------|  
|`IsFullTextInstalled`|<span data-ttu-id="c2730-149">Указывает, установлен ли компонент Full-Text Search в текущем экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c2730-149">Whether the full-text component is installed with the current instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|[<span data-ttu-id="c2730-150">FULLTEXTSERVICEPROPERTY</span><span class="sxs-lookup"><span data-stu-id="c2730-150">FULLTEXTSERVICEPROPERTY</span></span>](/sql/t-sql/functions/fulltextserviceproperty-transact-sql)<br /><br /> [<span data-ttu-id="c2730-151">SERVERPROPERTY</span><span class="sxs-lookup"><span data-stu-id="c2730-151">SERVERPROPERTY</span></span>](/sql/t-sql/functions/serverproperty-transact-sql)|  
|`LoadOSResources`|<span data-ttu-id="c2730-152">Указывает, зарегистрированы ли средства разбиения по словам и фильтры операционной системы и используются ли они в этом экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c2730-152">Whether operating system word breakers and filters are registered and used with this instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="c2730-153">FULLTEXTSERVICEPROPERTY</span><span class="sxs-lookup"><span data-stu-id="c2730-153">FULLTEXTSERVICEPROPERTY</span></span>|  
|`VerifySignature`|<span data-ttu-id="c2730-154">Указывает, загружает ли средство полнотекстового поиска только подписанные двоичные файлы.</span><span class="sxs-lookup"><span data-stu-id="c2730-154">Specifies whether only signed binaries are loaded by the Full-Text Engine.</span></span>|<span data-ttu-id="c2730-155">FULLTEXTSERVICEPROPERTY</span><span class="sxs-lookup"><span data-stu-id="c2730-155">FULLTEXTSERVICEPROPERTY</span></span>|  
  
##  <a name="monitoring-full-text-search-activity"></a><a name="monitor"></a><span data-ttu-id="c2730-156">Наблюдение за операциями полнотекстового поиска</span><span class="sxs-lookup"><span data-stu-id="c2730-156">Monitoring Full-Text Search Activity</span></span>  
 <span data-ttu-id="c2730-157">Для наблюдения за действиями полнотекстового поиска на экземпляре сервера могут оказаться полезными несколько функций и динамических административных представлений.</span><span class="sxs-lookup"><span data-stu-id="c2730-157">Several dynamic management views and functions are useful monitoring full-text search activity on a server instance.</span></span>  
  
 <span data-ttu-id="c2730-158">**Просмотр сведений о полнотекстовых каталогах, в которых в данный момент выполняются действия по заполнению**</span><span class="sxs-lookup"><span data-stu-id="c2730-158">**To view information about the full-text catalogs with in-progress population activity**</span></span>  
  
-   [<span data-ttu-id="c2730-159">sys.dm_fts_active_catalogs (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-159">sys.dm_fts_active_catalogs &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-active-catalogs-transact-sql)  
  
 <span data-ttu-id="c2730-160">**Просмотр текущих действий процесса в узле управляющей программы фильтрации**</span><span class="sxs-lookup"><span data-stu-id="c2730-160">**To view current activity of a filter daemon host process**</span></span>  
  
-   [<span data-ttu-id="c2730-161">sys.dm_fts_fdhosts (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-161">sys.dm_fts_fdhosts &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-fdhosts-transact-sql)  
  
 <span data-ttu-id="c2730-162">**Просмотр сведений о текущих заполнениях индексов**</span><span class="sxs-lookup"><span data-stu-id="c2730-162">**To view information about in-progress index populations**</span></span>  
  
-   [<span data-ttu-id="c2730-163">sys.dm_fts_index_population (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-163">sys.dm_fts_index_population &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-index-population-transact-sql)  
  
 <span data-ttu-id="c2730-164">**Просмотр буферов в пуле памяти, которые используются в процессе сканирования или диапазона сканирования.**</span><span class="sxs-lookup"><span data-stu-id="c2730-164">**To view memory buffers in a memory pool that are used as part of a crawl or crawl range.**</span></span>  
  
-   [<span data-ttu-id="c2730-165">sys.dm_fts_memory_buffers (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-165">sys.dm_fts_memory_buffers &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-buffers-transact-sql)  
  
 <span data-ttu-id="c2730-166">**Просмотр пулов общей памяти, доступных сборщику полнотекстовых данных для полнотекстового сканирования или диапазона полнотекстового сканирования**</span><span class="sxs-lookup"><span data-stu-id="c2730-166">**To view the shared memory pools available to the full-text gatherer component for a full-text crawl or a full-text crawl range**</span></span>  
  
-   [<span data-ttu-id="c2730-167">sys.dm_fts_memory_pools (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-167">sys.dm_fts_memory_pools &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-pools-transact-sql)  
  
 <span data-ttu-id="c2730-168">**Просмотр сведений о каждом пакете полнотекстового индексирования**</span><span class="sxs-lookup"><span data-stu-id="c2730-168">**To view information about each full-text indexing batch**</span></span>  
  
-   [<span data-ttu-id="c2730-169">sys.dm_fts_outstanding_batches (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-169">sys.dm_fts_outstanding_batches &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-outstanding-batches-transact-sql)  
  
 <span data-ttu-id="c2730-170">**Просмотр сведений о конкретных диапазонах, связанных с текущим заполнением**</span><span class="sxs-lookup"><span data-stu-id="c2730-170">**To view information about the specific ranges related to an in-progress population**</span></span>  
  
-   [<span data-ttu-id="c2730-171">sys.dm_fts_population_ranges (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="c2730-171">sys.dm_fts_population_ranges &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-population-ranges-transact-sql)  
  
  

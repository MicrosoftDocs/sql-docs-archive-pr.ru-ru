---
title: Улучшение производительности полнотекстовых индексов | Документация Майкрософт
ms.custom: ''
ms.date: 04/26/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- performance [SQL Server], full-text search
- full-text queries [SQL Server], performance
- crawls [full-text search]
- full-text indexes [SQL Server], performance
- full-text search [SQL Server], performance
- batches [SQL Server], full-text search
ms.assetid: ef39ef1f-f0b7-4582-8e9c-31d4bd0ad35d
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 51b5913e9c3ce65faa5a1fddc5846cc7c94d149f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733805"
---
# <a name="improve-the-performance-of-full-text-indexes"></a><span data-ttu-id="1e6b9-102">Улучшение производительности полнотекстовых индексов</span><span class="sxs-lookup"><span data-stu-id="1e6b9-102">Improve the Performance of Full-Text Indexes</span></span>
  <span data-ttu-id="1e6b9-103">Производительность полнотекстового индекса и полнотекстовых запросов зависит от архитектуры компьютера, а также от объема памяти, скорости работы ЦП и жесткого диска и других ресурсов оборудования.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-103">Performance for full-text indexing and full-text queries is influenced by hardware resources, such as memory, disk speed, CPU speed, and machine architecture.</span></span>  
  
##  <a name="common-causes-of-performance-issues"></a><a name="causes"></a><span data-ttu-id="1e6b9-104">Распространенные причины проблем с производительностью</span><span class="sxs-lookup"><span data-stu-id="1e6b9-104">Common Causes of Performance Issues</span></span>  
 <span data-ttu-id="1e6b9-105">Основной причиной снижения производительности полнотекстового индексирования являются ограничения ресурсов оборудования.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-105">The main cause for reduced full-text indexing performance is hardware-resource limits:</span></span>  
  
-   <span data-ttu-id="1e6b9-106">Если загрузка ЦП узлом управляющей программы полнотекстовой фильтрации (fdhost.exe) или процессом [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (sqlservr.exe) приближается к 100 %, то самым узким местом системы является процессор.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-106">If CPU usage by the filter daemon host process (fdhost.exe) or the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process (sqlservr.exe) is close to 100 percent, the CPU is the bottleneck.</span></span>  
  
-   <span data-ttu-id="1e6b9-107">Если средняя длина очереди ожидания обращения к жесткому диску в два или больше раз превышает количество головок диска, то узким местом является жесткий диск.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-107">If the average disk-waiting queue length is more than two times the number of disk heads, there is a bottleneck on the disk.</span></span> <span data-ttu-id="1e6b9-108">Как правило, эта проблема решается путем создания полнотекстовых каталогов, размещенных отдельно от файлов баз данных и журналов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-108">The primary workaround is to create full-text catalogs that are separate from the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database files and logs.</span></span> <span data-ttu-id="1e6b9-109">Разместите журналы, файлы баз данных и полнотекстовые каталоги на разных дисках.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-109">Put the logs, database files, and full-text catalogs on separate disks.</span></span> <span data-ttu-id="1e6b9-110">Кроме того, для повышения производительности индексирования можно приобрести более быстрый жесткий диск или диск с поддержкой RAID.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-110">Buying faster disks and using RAID can also help improve indexing performance.</span></span>  
  
-   <span data-ttu-id="1e6b9-111">Если не хватает физической памяти (пороговое значение в 3 ГБ), то наиболее узким местом может оказаться память.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-111">If there is a shortage of physical memory (3-GB limit), memory might be the bottleneck.</span></span> <span data-ttu-id="1e6b9-112">Ограничения, связанные с физической памятью, могут возникнуть на любых системах. На 32-разрядных системах к замедлению полнотекстового индексирования может привести нехватка виртуальной памяти.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-112">Physical memory limitations are possible on all systems, and on 32-bit systems, virtual memory pressure can slow down full-text indexing.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1e6b9-113">Начиная с версии [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], механизм полнотекстового поиска может использовать память AWE, поскольку механизм является частью sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-113">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the Full-Text Engine can use AWE memory because the Full-Text Engine is part of the sqlservr.exe.</span></span>  
  
 <span data-ttu-id="1e6b9-114">Если в системе нет узких мест, связанных с оборудованием, то производительность индексирования полнотекстового поиска в большей степени будет зависеть от следующих аспектов.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-114">If the system has no hardware bottlenecks, the indexing performance of full-text search mostly depends on the following:</span></span>  
  
-   <span data-ttu-id="1e6b9-115">Время, необходимое [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для создания полнотекстовых пакетов.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-115">How long it takes [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to create full-text batches.</span></span>  
  
-   <span data-ttu-id="1e6b9-116">Скорость, с которой управляющая программа фильтрации может обрабатывать эти пакеты.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-116">How quickly the filter daemon can consume those batches.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1e6b9-117">Добавочное, ручное и автоматическое заполнение отслеживания изменений (в отличие от полного заполнения) не рассчитаны на максимальную загрузку ресурсов оборудования ради повышения скорости работы.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-117">Unlike full population, incremental, manual, and auto change tracking population are not designed to maximize hardware resources to achieve faster speed.</span></span> <span data-ttu-id="1e6b9-118">Поэтому данные предложения по настройке могут не дать результата в виде повышения производительности полнотекстового индексирования.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-118">Therefore, these tuning suggestions may not enhance performance for full-text indexing.</span></span>  
  
 <span data-ttu-id="1e6b9-119">После завершения операции заполнения инициируется заключительный процесс слияния фрагментов индекса в один главный полнотекстовый индекс.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-119">When a population has completed, a final merge process is triggered that merges the index fragments together into one master full-text index.</span></span> <span data-ttu-id="1e6b9-120">Это повышает производительность запросов за счет использования одного главного индекса вместо нескольких фрагментов индексов и позволяет использовать более точные количественные оценки для ранжирования данных по релевантности.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-120">This results in improved query performance since only the master index needs to be queried rather than a number of index fragments, and better scoring statistics may be used for relevance ranking.</span></span> <span data-ttu-id="1e6b9-121">Обратите внимание, что слияние в единый файл может сильно нагружать подсистему ввода-вывода вследствие записи и чтения больших объемов данных, но не приводит к блокировке входящих запросов.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-121">Note that the master merge can be I/O intensive, because large amounts of data must be written and read when index fragments are merged, though it does not block incoming queries.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="1e6b9-122">При слиянии больших объемов данных в единый файл может создаваться транзакция с большим временем выполнения, в результате чего усечение журнала транзакций по достижении контрольной точки будет отложено.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-122">Master merging a large amount of data can create a long running transaction, delaying truncation of the transaction log during checkpoint.</span></span> <span data-ttu-id="1e6b9-123">В этом случае размер журнала транзакций в модели полного восстановления может значительно увеличиться.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-123">In this case, under the full recovery model, the transaction log might grow significantly.</span></span> <span data-ttu-id="1e6b9-124">Перед реорганизацией большого полнотекстового индекса в базе данных, использующей модель полного восстановления, убедитесь, что в журнале транзакций достаточно свободного места для транзакций с большим временем выполнения.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-124">As a best practice, before reorganizing a large full-text index in a database that uses the full recovery model, ensure that your transaction log contains sufficient space for a long-running transaction.</span></span> <span data-ttu-id="1e6b9-125">Дополнительные сведения см. в разделе [Управление размером файла журнала транзакций](../logs/manage-the-size-of-the-transaction-log-file.md).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-125">For more information, see [Manage the Size of the Transaction Log File](../logs/manage-the-size-of-the-transaction-log-file.md).</span></span>  
  
  
  
##  <a name="tuning-the-performance-of-full-text-indexes"></a><a name="tuning"></a><span data-ttu-id="1e6b9-126">Настройка производительности полнотекстовых индексов</span><span class="sxs-lookup"><span data-stu-id="1e6b9-126">Tuning the Performance of Full-Text Indexes</span></span>  
 <span data-ttu-id="1e6b9-127">Чтобы получить максимальную производительность полнотекстовых индексов, воспользуйтесь следующими рекомендациями.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-127">To maximize the performance of your full-text indexes, implement the following best practices:</span></span>  
  
-   <span data-ttu-id="1e6b9-128">Чтобы использовать максимальное количество процессоров или ядер, задайте для [sp_configure](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)" `max full-text crawl ranges` " число процессоров в системе.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-128">To use all processors or cores to the maximum, set [sp_configure](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)'`max full-text crawl ranges`' to the number of CPUs on the system.</span></span> <span data-ttu-id="1e6b9-129">Сведения об этом параметре конфигурации см. в разделе [Параметр конфигурации сервера max full-text crawl range](../../database-engine/configure-windows/max-full-text-crawl-range-server-configuration-option.md).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-129">For information about this configuration option, see [max full-text crawl range Server Configuration Option](../../database-engine/configure-windows/max-full-text-crawl-range-server-configuration-option.md).</span></span>  
  
-   <span data-ttu-id="1e6b9-130">Убедитесь, что для базовой таблицы установлен кластеризованный индекс.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-130">Make sure that the base table has a clustered index.</span></span> <span data-ttu-id="1e6b9-131">Первый столбец кластеризованного индекса должен иметь целочисленный тип данных.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-131">Use an integer data type for the first column of the clustered index.</span></span> <span data-ttu-id="1e6b9-132">Старайтесь не использовать идентификатор GUID в качестве первого столбца кластеризованного индекса.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-132">Avoid using GUIDs in the first column of the clustered index.</span></span> <span data-ttu-id="1e6b9-133">Многодиапазонное заполнение кластеризованного индекса может обеспечить наивысшую скорость заполнения.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-133">A multi-range population on a clustered index can produce the highest population speed.</span></span> <span data-ttu-id="1e6b9-134">Рекомендуется, чтобы столбец, служащий в качестве полнотекстового ключа, имел целочисленный тип данных.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-134">We recommend that the column serving as the full-text key be an integer data type.</span></span>  
  
-   <span data-ttu-id="1e6b9-135">Обновите статистику базовой таблицы с помощью инструкции [UPDATE STATISTICS](/sql/t-sql/statements/update-statistics-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-135">Update the statistics of the base table by using the [UPDATE STATISTICS](/sql/t-sql/statements/update-statistics-transact-sql) statement.</span></span> <span data-ttu-id="1e6b9-136">Еще важнее обновить статистику кластеризованного индекса или полнотекстового ключа для полного заполнения.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-136">More important, update the statistics on the clustered index or the full-text key for a full population.</span></span> <span data-ttu-id="1e6b9-137">Это позволит при многодиапазонном заполнении сформировать для таблицы хорошие секции.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-137">This helps a multi-range population to generate good partitions on the table.</span></span>  
  
-   <span data-ttu-id="1e6b9-138">Создайте вторичный индекс по столбцу `timestamp`, если нужно повысить производительность добавочного заполнения.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-138">Build a secondary index on a `timestamp` column if you want to improve the performance of incremental population.</span></span>  
  
-   <span data-ttu-id="1e6b9-139">Перед выполнением полного заполнения на мощном многопроцессорном компьютере рекомендуется временно ограничить размер буферного пула, задав для параметра `max server memory` значение, оставляющее достаточно памяти для процесса fdhost.exe и для использования операционной системой.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-139">Before you perform a full population on a large multi-CPU computer, we recommend that you temporarily limit the size of the buffer pool by setting the `max server memory` value to leave enough memory for the fdhost.exe process and operating system use.</span></span> <span data-ttu-id="1e6b9-140">Дополнительные сведения см. в подразделе «Оценка требований к памяти для хост-процесса управляющей программы полнотекстовой фильтрации (fdhost.exe)» далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-140">For more information, see "Estimating the Memory Requirements of the Filter Daemon Host Process (fdhost.exe)," later in this topic.</span></span>  
  
  
  
##  <a name="troubleshooting-the-performance-of-full-populations"></a><a name="full"></a><span data-ttu-id="1e6b9-141">Устранение неполадок с производительностью полного заполнения</span><span class="sxs-lookup"><span data-stu-id="1e6b9-141">Troubleshooting the Performance of Full Populations</span></span>  
 <span data-ttu-id="1e6b9-142">Для диагностики проблем производительности следует изучить журналы полнотекстового сканирования.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-142">To diagnose performance problems, look at the full-text crawl logs.</span></span> <span data-ttu-id="1e6b9-143">Сведения о журналах сканирования см. в разделе [Заполнение полнотекстовых индексов](../indexes/indexes.md).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-143">For information about crawl logs, see [Populate Full-Text Indexes](../indexes/indexes.md).</span></span>  
  
 <span data-ttu-id="1e6b9-144">Если производительность полного заполнения неудовлетворительна, то следует выполнить следующие шаги по устранению неполадок.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-144">It is recommended that the following order of troubleshooting be followed if the performance of full populations is not satisfactory.</span></span>  
  
### <a name="physical-memory-usage"></a><span data-ttu-id="1e6b9-145">Использование физической памяти</span><span class="sxs-lookup"><span data-stu-id="1e6b9-145">Physical Memory Usage</span></span>  
 <span data-ttu-id="1e6b9-146">Во время полнотекстового заполнения существует вероятность того, что у процесса fdhost.exe или sqlservr.exe произойдет нехватка или переполнение памяти.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-146">During a full-text population, it is possible for fdhost.exe or sqlservr.exe to run low on memory or to run out of memory.</span></span> <span data-ttu-id="1e6b9-147">Если журнал полнотекстового сканирования показывает, что fdhost.exe часто перезапускается или возвращает код ошибки 8007008, то это значит, что одному из этих процессов не хватает памяти.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-147">If the full-text crawl log shows that fdhost.exe is being restarted often or that error code 8007008 is being returned it means one of these processes is running out of memory.</span></span> <span data-ttu-id="1e6b9-148">Если процесс fdhost.exe создает дампы (особенно на мощных, многопроцессорных компьютерах), то ему может не хватать памяти.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-148">If fdhost.exe is producing dumps, particularly on large, multi-CPU computers, it might be running out of memory.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1e6b9-149">Сведения о буферах памяти, используемых полнотекстовым сканированием, см. в разделе [sys.dm_fts_memory_buffers &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-buffers-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-149">To obtain information about memory buffers used by a full-text crawl, see [sys.dm_fts_memory_buffers &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-buffers-transact-sql).</span></span>  
  
 <span data-ttu-id="1e6b9-150">Возможны следующие причины.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-150">The possible causes are as follows:</span></span>  
  
-   <span data-ttu-id="1e6b9-151">Если объем физической памяти, доступный во время полного заполнения, равен нулю, то большая часть физической памяти системы может использоваться буферным пулом [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-151">If amount of physical memory that is available during a full population is zero, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] buffer pool might be consuming most of the physical memory on the system.</span></span>  
  
     <span data-ttu-id="1e6b9-152">Процесс sqlservr.exe пытается захватить всю доступную память для буферного пула, ограничиваясь установленным максимумом памяти сервера.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-152">The sqlservr.exe process tries to grab all available memory for the buffer pool, up to the configured maximum server memory.</span></span> <span data-ttu-id="1e6b9-153">Если для `max server memory` выделено слишком много памяти, в процессе fdhost.exe process могут возникнуть проблемы с недостатком памяти и сбои при выделении общей памяти.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-153">If the `max server memory` allocation is too large, out-of-memory conditions and failure to allocate shared memory can occur for the fdhost.exe process.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1e6b9-154">Во время проведения полнотекстового заполнения на многопроцессорном компьютере может возникнуть конфликт между процессами fdhost.exe и sqlservr.exe за память буферного пула.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-154">During a full-text population on a multi-CPU computer, contention for the buffer pool memory can occur between fdhost.exe or sqlservr.exe.</span></span> <span data-ttu-id="1e6b9-155">Возникающая в результате этого нехватка общей памяти вызывает повторы пакетов, пробуксовку памяти и создание дампов процессом fdhost.exe.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-155">The resulting lack of shared memory causes batch retries, memory thrashing, and dumps by the fdhost.exe process.</span></span>  
  
     <span data-ttu-id="1e6b9-156">Эти проблемы можно устранить, задав для параметра `max server memory` значение, приблизительно равное размеру буферного пула в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1e6b9-156">You can solve this problem by setting the `max server memory` value of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] buffer pool appropriately.</span></span> <span data-ttu-id="1e6b9-157">Дополнительные сведения см. в подразделе «Оценка требований к памяти для хост-процесса управляющей программы полнотекстовой фильтрации (fdhost.exe)» далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-157">For more information, see "Estimating the Memory Requirements of the Filter Daemon Host Process (fdhost.exe)," later in this topic.</span></span> <span data-ttu-id="1e6b9-158">Разрешить проблему можно, уменьшив размер пакета, используемого для полнотекстового индексирования.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-158">Reducing the batch size used for full-text indexing may also help.</span></span>  
  
-   <span data-ttu-id="1e6b9-159">Проблема с подкачкой.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-159">A paging issue</span></span>  
  
     <span data-ttu-id="1e6b9-160">Недостаточный размер файла подкачки (например, если в системе задан небольшой файл подкачки с ограниченным ростом) также может вызвать переполнение памяти для процессов fdhost.exe и sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-160">Insufficient page-file size, such as on a system that has a small page file with restricted growth, can also cause the fdhost.exe or sqlservr.exe to run out of memory.</span></span>  
  
     <span data-ttu-id="1e6b9-161">Если в журналах сканирования не зарегистрированы сбои, связанные с памятью, то, скорее всего, проблемы с производительностью вызваны излишней подкачкой.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-161">If the crawl logs do not indicate any memory-related failures, it is likely that performance is slow due to excessive paging.</span></span>  
  
  
  
### <a name="estimating-the-memory-requirements-of-the-filter-daemon-host-process-fdhostexe"></a><span data-ttu-id="1e6b9-162">Оценка требований к памяти процесса узла управляющей программы фильтрации (fdhost.exe)</span><span class="sxs-lookup"><span data-stu-id="1e6b9-162">Estimating the Memory Requirements of the Filter Daemon Host Process (fdhost.exe)</span></span>  
 <span data-ttu-id="1e6b9-163">Объем памяти, необходимый процессу fdhost.exe для заполнения, зависит в основном от числа используемых диапазонов полнотекстового сканирования, размера входящей общей памяти (ISM) и максимального числа экземпляров ISM.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-163">The amount of memory required by the fdhost.exe process for a population depends mainly on the number of full-text crawl ranges it uses, the size of inbound shared memory (ISM), and the maximum number of ISM instances.</span></span>  
  
 <span data-ttu-id="1e6b9-164">Объем памяти (в байтах), занимаемый узлом управляющей программы фильтрации, может быть примерно рассчитан с использованием следующей формулы:</span><span class="sxs-lookup"><span data-stu-id="1e6b9-164">The amount of memory (in bytes) consumed by the filter daemon host can be roughly estimated by using the following formula:</span></span>  
  
 <span data-ttu-id="1e6b9-165">*number_of_crawl_ranges* \` ism_size "*max_outstanding_isms* \* 2</span><span class="sxs-lookup"><span data-stu-id="1e6b9-165">*number_of_crawl_ranges* \`ism_size\`*max_outstanding_isms*\* 2</span></span>  
  
 <span data-ttu-id="1e6b9-166">Ниже приводятся значения по умолчанию для переменных в приведенной выше формуле.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-166">The default values of the variables in the preceding formula are as follows:</span></span>  
  
|<span data-ttu-id="1e6b9-167">**Переменная**</span><span class="sxs-lookup"><span data-stu-id="1e6b9-167">**Variable**</span></span>|<span data-ttu-id="1e6b9-168">**Значение по умолчанию**</span><span class="sxs-lookup"><span data-stu-id="1e6b9-168">**Default value**</span></span>|  
|------------------|-----------------------|  
|<span data-ttu-id="1e6b9-169">*number_of_crawl_ranges*</span><span class="sxs-lookup"><span data-stu-id="1e6b9-169">*number_of_crawl_ranges*</span></span>|<span data-ttu-id="1e6b9-170">Число процессоров</span><span class="sxs-lookup"><span data-stu-id="1e6b9-170">The number of CPUs</span></span>|  
|<span data-ttu-id="1e6b9-171">*ism_size*</span><span class="sxs-lookup"><span data-stu-id="1e6b9-171">*ism_size*</span></span>|<span data-ttu-id="1e6b9-172">1 МБ для компьютеров x86</span><span class="sxs-lookup"><span data-stu-id="1e6b9-172">1 MB for x86 computers</span></span><br /><br /> <span data-ttu-id="1e6b9-173">4, 8 и 16 МБ для компьютеров для компьютеров x64 (в зависимости от общего объема физической памяти)</span><span class="sxs-lookup"><span data-stu-id="1e6b9-173">4 MB, 8 MB, or 16MB for x64 computers, depending on the total physical memory</span></span>|  
|<span data-ttu-id="1e6b9-174">*max_outstanding_isms*</span><span class="sxs-lookup"><span data-stu-id="1e6b9-174">*max_outstanding_isms*</span></span>|<span data-ttu-id="1e6b9-175">25 МБ для компьютеров x86</span><span class="sxs-lookup"><span data-stu-id="1e6b9-175">25 for x86 computers</span></span><br /><br /> <span data-ttu-id="1e6b9-176">5 для компьютеров x64</span><span class="sxs-lookup"><span data-stu-id="1e6b9-176">5 for x64 computers</span></span>|  
  
 <span data-ttu-id="1e6b9-177">В следующей таблице представлены рекомендации по оценке требований к памяти fdhost.exe.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-177">The following table presents guidelines about how to estimate the memory requirements of fdhost.exe.</span></span> <span data-ttu-id="1e6b9-178">В формулах данной таблицы используются следующие значения.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-178">The formulas in this table use the following values:</span></span>  
  
-   <span data-ttu-id="1e6b9-179">*F*: оценка объема памяти, необходимого для fdhost.exe (в МБ).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-179">*F*, which is an estimate of memory needed by fdhost.exe (in MB).</span></span>  
  
-   <span data-ttu-id="1e6b9-180">*T*: общий объем физической памяти, доступной в системе (в МБ).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-180">*T*, which is the total physical memory available on the system (in MB).</span></span>  
  
-   <span data-ttu-id="1e6b9-181">*M*— оптимальный `max server memory` параметр.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-181">*M*, which is the optimal `max server memory` setting.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="1e6b9-182">Дополнительные сведения о формулах см. в разделе <sup>1</sup>, <sup>2</sup>и <sup>3</sup>ниже.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-182">For essential information about the formulas, see <sup>1</sup>, <sup>2</sup>, and <sup>3</sup>, below.</span></span>  
  
|<span data-ttu-id="1e6b9-183">Платформа</span><span class="sxs-lookup"><span data-stu-id="1e6b9-183">Platform</span></span>|<span data-ttu-id="1e6b9-184">Оценка fdhost.exe требований к памяти в МБ-*F*<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="1e6b9-184">Estimating fdhost.exe memory requirements in MB-*F*<sup>1</sup></span></span>|<span data-ttu-id="1e6b9-185">Формула для вычисления максимального объема памяти сервера-*M*<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="1e6b9-185">Formula for calculating max server memory-*M*<sup>2</sup></span></span>|  
|--------------|---------------------------------------------------------------------|---------------------------------------------------------------|  
|<span data-ttu-id="1e6b9-186">x86</span><span class="sxs-lookup"><span data-stu-id="1e6b9-186">x86</span></span>|<span data-ttu-id="1e6b9-187">_F_ **=** _число диапазонов сканирования_ **&#42;** 50</span><span class="sxs-lookup"><span data-stu-id="1e6b9-187">_F_ **=** _Number of crawl ranges_ **&#42;** 50</span></span>|<span data-ttu-id="1e6b9-188">_M_ **= минимум (** _T_ **,** 2000 \*\*) — *`F`* - \*\* 500</span><span class="sxs-lookup"><span data-stu-id="1e6b9-188">_M_ **=minimum(** _T_ **,** 2000 **)-*`F`*-** 500</span></span>|  
|<span data-ttu-id="1e6b9-189">X64</span><span class="sxs-lookup"><span data-stu-id="1e6b9-189">x64</span></span>|<span data-ttu-id="1e6b9-190">_F_ **=** _число диапазонов сканирования_ **&#42;** 10 **&#42;** 8</span><span class="sxs-lookup"><span data-stu-id="1e6b9-190">_F_ **=** _Number of crawl ranges_ **&#42;** 10 **&#42;** 8</span></span>|<span data-ttu-id="1e6b9-191">_M_ **=** _T_ **-** _F_ **-** 500</span><span class="sxs-lookup"><span data-stu-id="1e6b9-191">_M_ **=** _T_ **-** _F_ **-** 500</span></span>|  
  
 <span data-ttu-id="1e6b9-192"><sup>1</sup> если выполняется несколько полных заполнений, вычислите fdhost.exe требования к памяти для каждого отдельного, в виде *F1*, *F2*и т. д.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-192"><sup>1</sup> If multiple full populations are in progress, calculate the fdhost.exe memory requirements of each separately, as *F1*, *F2*, and so forth.</span></span> <span data-ttu-id="1e6b9-193">Затем вычислить *M* как _T_ **-** sigma **(** _F_i **)** .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-193">Then calculate *M* as _T_**-** sigma **(**_F_i **)**.</span></span>  
  
 <span data-ttu-id="1e6b9-194"><sup>2</sup> 500 МБ — это оценка объема памяти, необходимой для других процессов в системе.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-194"><sup>2</sup> 500 MB is an estimate of the memory required by other processes in the system.</span></span> <span data-ttu-id="1e6b9-195">Если система выполняет дополнительную работу, то это значение следует соответствующим образом увеличить.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-195">If the system is doing additional work, increase this value accordingly.</span></span>  
  
 <span data-ttu-id="1e6b9-196"><sup>3</sup> . *ism_size* предполагается, что для платформ x64 используется 8 МБ.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-196"><sup>3</sup> .*ism_size* is assumed to be 8 MB for x64 platforms.</span></span>  
  
 <span data-ttu-id="1e6b9-197">**Пример. Оценка требований к памяти fdhost.exe**</span><span class="sxs-lookup"><span data-stu-id="1e6b9-197">**Example: Estimating the Memory Requirements of fdhost.exe**</span></span>  
  
 <span data-ttu-id="1e6b9-198">В данном примере используется компьютер AMD64 с 8 ГБ ОЗУ и четырьмя двухъядерными процессорами.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-198">This example is for an AMD64 computer that has 8GM of RAM and 4 dual core processors.</span></span> <span data-ttu-id="1e6b9-199">Первое вычисление оценивает объем памяти, необходимый для fdhost.exe, — *F*.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-199">The first calculation estimates of memory needed by fdhost.exe-*F*.</span></span> <span data-ttu-id="1e6b9-200">Число диапазонов сканирования: `8`.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-200">The number of crawl ranges is `8`.</span></span>  
  
 `F = 8*10*8=640`  
  
 <span data-ttu-id="1e6b9-201">При следующем вычислении получается оптимальное значение для `max server memory` - *M*.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-201">The next calculation obtains the optimal value for `max server memory`-*M*.</span></span> <span data-ttu-id="1e6b9-202">*T*Общий объем физической памяти, доступной в этой системе в МБ-*t*, — `8192` .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-202">*T*he total physical memory available on this system in MB-*T*-is `8192`.</span></span>  
  
 `M = 8192-640-500=7052`  
  
 <span data-ttu-id="1e6b9-203">**Пример Задание значения параметра max server memory**</span><span class="sxs-lookup"><span data-stu-id="1e6b9-203">**Example: Setting max server memory**</span></span>  
  
 <span data-ttu-id="1e6b9-204">В этом примере используются инструкции [sp_configure](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql) и [RECONFIGURE](/sql/t-sql/language-elements/reconfigure-transact-sql) [!INCLUDE[tsql](../../../includes/tsql-md.md)] для задания `max server memory` значения, вычисленного для *M* в предыдущем примере `7052` :</span><span class="sxs-lookup"><span data-stu-id="1e6b9-204">This example uses the [sp_configure](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql) and [RECONFIGURE](/sql/t-sql/language-elements/reconfigure-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statements to set `max server memory` to the value calculated for *M* in the preceding example, `7052`:</span></span>  
  
```  
USE master;  
GO  
EXEC sp_configure 'max server memory', 7052;  
GO  
RECONFIGURE;  
GO  
```  
  
 <span data-ttu-id="1e6b9-205">**Установка значения параметра конфигурации max server memory.**</span><span class="sxs-lookup"><span data-stu-id="1e6b9-205">**To set the max server memory configuration option**</span></span>  
  
-   [<span data-ttu-id="1e6b9-206">Параметры конфигурации сервера «Server Memory»</span><span class="sxs-lookup"><span data-stu-id="1e6b9-206">Server Memory Server Configuration Options</span></span>](../../database-engine/configure-windows/server-memory-server-configuration-options.md)  
  
  
  
### <a name="factors-that-can-reduce-cpu-consumption"></a><span data-ttu-id="1e6b9-207">Факторы, которые могут снизить нагрузку на ЦП</span><span class="sxs-lookup"><span data-stu-id="1e6b9-207">Factors that Can Reduce CPU Consumption</span></span>  
 <span data-ttu-id="1e6b9-208">Производительность полного заполнения считается неоптимальной, если уровень загруженности ЦП ниже 30%.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-208">We expect that the performance of full populations is not optimal when the average CPU consumption is lower than about 30 percent.</span></span> <span data-ttu-id="1e6b9-209">В данном разделе обсуждаются некоторые факторы, которые влияют на уровень загруженности ЦП.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-209">This section discusses some factors that affect CPU consumption.</span></span>  
  
-   <span data-ttu-id="1e6b9-210">Высокие значения ожиданий для страниц.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-210">High wait for pages</span></span>  
  
     <span data-ttu-id="1e6b9-211">Чтобы определить, является ли значение времени ожидания страницы высоким, выполните следующую инструкцию [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-211">To find out whether a page wait time is high, execute the following [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement:</span></span>  
  
    ```  
    Execute SELECT TOP 10 * FROM sys.dm_os_wait_stats ORDER BY wait_time_ms DESC;  
    ```  
  
     <span data-ttu-id="1e6b9-212">В следующей таблице описаны типы значений ожидания, представляющие интерес.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-212">The following table describes the wait types of interest here.</span></span>  
  
    |<span data-ttu-id="1e6b9-213">Тип ожидания</span><span class="sxs-lookup"><span data-stu-id="1e6b9-213">Wait type</span></span>|<span data-ttu-id="1e6b9-214">Описание</span><span class="sxs-lookup"><span data-stu-id="1e6b9-214">Description</span></span>|<span data-ttu-id="1e6b9-215">Возможное решение</span><span class="sxs-lookup"><span data-stu-id="1e6b9-215">Possible resolution</span></span>|  
    |---------------|-----------------|-------------------------|  
    |<span data-ttu-id="1e6b9-216">PAGEIO_LATCH_SH (_EX или _UP)</span><span class="sxs-lookup"><span data-stu-id="1e6b9-216">PAGEIO_LATCH_SH (_EX or _UP)</span></span>|<span data-ttu-id="1e6b9-217">Это может свидетельствовать о наличии узкого места в подсистеме ввода-вывода. В этом случае средняя длина очереди диска обычно велика.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-217">This could indicate an IO bottleneck, in which case you would typically also see a high average disk-queue length.</span></span>|<span data-ttu-id="1e6b9-218">Перемещение полнотекстового индекса в другую файловую группу на другом диске может помочь снизить влияние узкого места в операциях ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-218">Moving the full-text index to a different filegroup on a different disk could help reduce the IO bottleneck.</span></span>|  
    |<span data-ttu-id="1e6b9-219">PAGELATCH_EX (или _UP)</span><span class="sxs-lookup"><span data-stu-id="1e6b9-219">PAGELATCH_EX (or _UP)</span></span>|<span data-ttu-id="1e6b9-220">Это может свидетельствовать о высокой конкуренции между потоками, которые пытаются выполнить запись в один и тот же файл базы данных.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-220">This could indicate a lot of contention among threads that are trying to write to the same database file.</span></span>|<span data-ttu-id="1e6b9-221">Уровень конкуренции можно снизить, добавив файлы в файловую группу, в которой расположен полнотекстовый индекс.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-221">Adding files to the filegroup on which the fulltext index resides could help alleviate such contention.</span></span>|  
  
     <span data-ttu-id="1e6b9-222">Дополнительные сведения см. в разделе [sys.dm_os_wait_stats (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-222">For more information, see [sys.dm_os_wait_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql).</span></span>  
  
-   <span data-ttu-id="1e6b9-223">Неэффективное сканирование базовой таблицы.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-223">Inefficiencies in scanning the base table</span></span>  
  
     <span data-ttu-id="1e6b9-224">Во время создания пакетов при полном заполнении производится просмотр базовой таблицы.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-224">A full population scans the base table to produce batches.</span></span> <span data-ttu-id="1e6b9-225">Ее сканирование может оказаться неэффективным в следующих случаях.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-225">This table scanning could be inefficient in the following scenarios:</span></span>  
  
    -   <span data-ttu-id="1e6b9-226">Если в базовой таблице присутствует высокий процент столбцов, значения в которых хранятся вне строк, для которых выполняется полнотекстовое индексирование, то узким местом может оказаться сканирование базовой таблицы для создания пакетов.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-226">If the base table has a high percentage of out-of-row columns that are being full-text indexed, scanning the base table to produce batches might be the bottleneck.</span></span> <span data-ttu-id="1e6b9-227">В этом случае можно попробовать решить проблему, переместив значения данных с небольшими длинами в строки, используя типы `varchar(max)` и `nvarchar(max)`.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-227">In this case, moving the smaller data in-row using `varchar(max)` or `nvarchar(max)` might help.</span></span>  
  
    -   <span data-ttu-id="1e6b9-228">Сканирование может выполняться неэффективно в том случае, если базовая таблица имеет высокую степень фрагментации.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-228">If the base table is very fragmented, scanning might be inefficient.</span></span> <span data-ttu-id="1e6b9-229">Сведения о вычислении данных вне строк и фрагментации индекса см. в разделах [sys.dm_db_partition_stats (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-partition-stats-transact-sql) и [sys.dm_db_index_physical_stats (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-physical-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-229">For information about computing out-of-row data and index fragmentation, see [sys.dm_db_partition_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-partition-stats-transact-sql) and [sys.dm_db_index_physical_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-physical-stats-transact-sql).</span></span>  
  
         <span data-ttu-id="1e6b9-230">Чтобы снизить уровень фрагментации, можно выполнить реорганизацию или перестроение кластеризованного индекса.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-230">To reduce fragmentation, you can reorganize or rebuild the clustered index.</span></span> <span data-ttu-id="1e6b9-231">Дополнительные сведения см. в статье [Реорганизация и перестроение индексов](../indexes/reorganize-and-rebuild-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-231">For more information, see [Reorganize and Rebuild Indexes](../indexes/reorganize-and-rebuild-indexes.md).</span></span>  
  
  
  
##  <a name="troubleshooting-slow-indexing-performance-due-to-filters"></a><a name="filters"></a><span data-ttu-id="1e6b9-232">Устранение снижения производительности индексирования из-за фильтров</span><span class="sxs-lookup"><span data-stu-id="1e6b9-232">Troubleshooting Slow Indexing Performance Due to Filters</span></span>  
 <span data-ttu-id="1e6b9-233">При заполнении полнотекстового индекса инструмент полнотекстового поиска использует два типа фильтров: многопоточные и однопоточные.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-233">When populating a full-text index, the Full-Text Engine uses two types of filters: multithreaded and single-threaded.</span></span> <span data-ttu-id="1e6b9-234">Некоторые документы, например документы [!INCLUDE[msCoName](../../includes/msconame-md.md)] Word, фильтруются с помощью многопоточного фильтра.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-234">Some documents, such as [!INCLUDE[msCoName](../../includes/msconame-md.md)] Word documents, are filtered using a multithreaded filter.</span></span> <span data-ttu-id="1e6b9-235">Другие, например документы формата Adobe Acrobat Portable Document Format (PDF), фильтруются с помощью однопоточного фильтра.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-235">Other documents, such as Adobe Acrobat Portable Document Format (PDF) documents, are filtered using a single-threaded filter.</span></span>  
  
 <span data-ttu-id="1e6b9-236">Из соображений безопасности фильтры загружаются процессами узла управляющей программы фильтрации.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-236">For security reasons, filters are loaded by filter daemon host processes.</span></span> <span data-ttu-id="1e6b9-237">Экземпляр сервера использует многопоточный процесс для всех многопоточных фильтров и однопоточный процесс для однопоточных фильтров.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-237">A server instance uses a multithreaded process for all multithreaded filters and a single-threaded process for all single-threaded filters.</span></span> <span data-ttu-id="1e6b9-238">Если документ, использующий многопоточный фильтр, содержит внедренный документ, использующий однопоточный фильтр, средство полнотекстового поиска запускает однопоточный процесс для внедренного документа.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-238">When a document that uses a multithreaded filter contains an embedded document that uses a single-threaded filter, the Full-Text Engine launches a single-threaded process for the embedded document.</span></span> <span data-ttu-id="1e6b9-239">Например, если документ Word содержит PDF-документ, средство полнотекстового поиска использует многопоточный процесс для содержимого Word и запускает однопоточный процесс для PDF-содержимого.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-239">For example, on encountering a Word document that contains a PDF document, the Full-Text Engine uses the multithreaded process for the Word content and launches a single-threaded process for the PDF content.</span></span> <span data-ttu-id="1e6b9-240">Однако однопоточный фильтр может неправильно работать в такой среде, дестабилизируя процесс фильтрации.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-240">A single-threaded filter might not work well in this environment, however, and could destabilize the filtering process.</span></span> <span data-ttu-id="1e6b9-241">В некоторых обстоятельствах, когда часто встречаются такие внедрения, дестабилизация может привести к сбою процесса фильтрации.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-241">In certain circumstances where such embedding is common, destabilization might lead to filtering-process crashes.</span></span> <span data-ttu-id="1e6b9-242">В этом случае средство полнотекстового поиска перенаправляет сбойный документ (например, документ Word, содержащий внедренный PDF-документ) в однопоточный процесс фильтрации.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-242">When this occurs, the Full-Text Engine re-routes any failed document (for example, a Word document that contains embedded PDF content) to the single-threaded filtering process.</span></span> <span data-ttu-id="1e6b9-243">Если перенаправление происходит достаточно часто, производительность полнотекстового индексирования снижается.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-243">If re-routing occurs frequently, it results in performance degradation of the full-text indexing process.</span></span>  
  
 <span data-ttu-id="1e6b9-244">Для устранения этой проблемы необходимо пометить фильтр для документа-контейнера (в данном случае Microsoft Word) как однопоточный фильтр.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-244">To work around this problem, mark the filter for the container document (Word in this case) as a single-threaded filter.</span></span> <span data-ttu-id="1e6b9-245">Чтобы пометить фильтр как однопоточный, можно изменить значение для этого фильтра в реестре.</span><span class="sxs-lookup"><span data-stu-id="1e6b9-245">You can change the filter registry value to mark a given filter as a single-threaded filter.</span></span> <span data-ttu-id="1e6b9-246">Чтобы пометить фильтр как однопотоковый фильтр, необходимо задать для фильтра значение реестра **ThreadingModel** `Apartment Threaded` .</span><span class="sxs-lookup"><span data-stu-id="1e6b9-246">To mark a filter as a single-threaded filter, you need to set the **ThreadingModel** registry value for the filter to `Apartment Threaded`.</span></span> <span data-ttu-id="1e6b9-247">Сведения об однопоточных подразделениях см. в техническом документе [Общие сведения о моделях потоков COM и их использовании](https://go.microsoft.com/fwlink/?LinkId=209159).</span><span class="sxs-lookup"><span data-stu-id="1e6b9-247">For information about single-threaded apartments, see the white paper [Understanding and Using COM Threading Models](https://go.microsoft.com/fwlink/?LinkId=209159).</span></span>  
  
  
  
## <a name="see-also"></a><span data-ttu-id="1e6b9-248">См. также:</span><span class="sxs-lookup"><span data-stu-id="1e6b9-248">See Also</span></span>  
 <span data-ttu-id="1e6b9-249">[Параметры конфигурации сервера «Server Memory»](../../database-engine/configure-windows/server-memory-server-configuration-options.md) </span><span class="sxs-lookup"><span data-stu-id="1e6b9-249">[Server Memory Server Configuration Options](../../database-engine/configure-windows/server-memory-server-configuration-options.md) </span></span>  
 <span data-ttu-id="1e6b9-250">[Параметр конфигурации сервера max full-text crawl range](../../database-engine/configure-windows/max-full-text-crawl-range-server-configuration-option.md) </span><span class="sxs-lookup"><span data-stu-id="1e6b9-250">[max full-text crawl range Server Configuration Option](../../database-engine/configure-windows/max-full-text-crawl-range-server-configuration-option.md) </span></span>  
 <span data-ttu-id="1e6b9-251">[Заполнение полнотекстовых индексов](populate-full-text-indexes.md) </span><span class="sxs-lookup"><span data-stu-id="1e6b9-251">[Populate Full-Text Indexes](populate-full-text-indexes.md) </span></span>  
 <span data-ttu-id="1e6b9-252">[Создание и управление полнотекстовыми индексами](create-and-manage-full-text-indexes.md) </span><span class="sxs-lookup"><span data-stu-id="1e6b9-252">[Create and Manage Full-Text Indexes](create-and-manage-full-text-indexes.md) </span></span>  
 <span data-ttu-id="1e6b9-253">[sys.dm_fts_memory_buffers (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-buffers-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="1e6b9-253">[sys.dm_fts_memory_buffers &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-buffers-transact-sql) </span></span>  
 <span data-ttu-id="1e6b9-254">[sys.dm_fts_memory_pools (Transact-SQL)](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-pools-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="1e6b9-254">[sys.dm_fts_memory_pools &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-fts-memory-pools-transact-sql) </span></span>  
 [<span data-ttu-id="1e6b9-255">Устранение неполадок полнотекстового индексирования</span><span class="sxs-lookup"><span data-stu-id="1e6b9-255">Troubleshoot Full-Text Indexing</span></span>](troubleshoot-full-text-indexing.md)  
  
  

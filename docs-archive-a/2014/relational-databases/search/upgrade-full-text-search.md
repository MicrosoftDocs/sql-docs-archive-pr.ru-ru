---
title: Обновление полнотекстового поиска | Документация Майкрософт
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], installing
- migrating full-text indexes [SQL Server]
- upgrading Full-Text Search
- installing Full-Text Search
- full-text search [SQL Server], upgrading
ms.assetid: 2fee4691-f2b5-472f-8ccc-fa625b654520
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d2bdf0bdee452101bbafb8108426faf6604e7626
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666477"
---
# <a name="upgrade-full-text-search"></a>Обновление полнотекстового поиска
  Обновление полнотекстового поиска с переходом к версии [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] выполняется во время установки, а также во время присоединения, восстановления или копирования файлов баз данных или полнотекстовых каталогов из более ранней версии до [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью мастера копирования баз данных.  
  
 В данном разделе рассматриваются следующие аспекты обновления полнотекстового поиска:  
  
-   [Обновление экземпляра сервера](#Upgrade_Server)  
  
-   [Параметры полнотекстового обновления](#FT_Upgrade_Options)  
  
-   [Замечания по выбору режима полнотекстового обновления](#Choosing_Upgade_Option)  
  
-   [Миграция полнотекстовых индексов при обновлении базы данных до версии SQL Server 2014](#Upgrade_Db)  
  
-   [Замечания по восстановлению полнотекстового каталога SQL Server 2005 в SQL Server 2014](#Considerations_for_Restore)  
  
-   [Присоединение базы данных SQL Server 2005 к SQL Server 2014](#Attaching_2005_ft_catalogs)  
  
##  <a name="upgrading-a-server-instance"></a><a name="Upgrade_Server"></a>Обновление экземпляра сервера  
 Для обновления на месте экземпляр [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] устанавливается параллельно с более старой версией [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], после чего выполняется перенесение данных. Если в старой версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установлен компонент Full-Text Search, его новая версия устанавливается автоматически. Параллельная установка означает, что каждый из следующих компонентов работает на уровне экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 Средства разбиения по словам, парадигматические модули и фильтры  
 Теперь каждый экземпляр SQL Server использует отдельный комплект средств разбиения по словам, парадигматические модули и фильтры, а не те версии этих компонентов, которые предоставляет операционная система. Более того, это облегчает регистрацию и конфигурацию этих компонентов. Дополнительные сведения см. в разделах [Настройка и управление средством разбиения на слова и парадигматические модули для поиска](configure-and-manage-word-breakers-and-stemmers-for-search.md) и [Настройка и управление фильтрами для поиска](configure-and-manage-filters-for-search.md).  
  
 Узел управляющей программы фильтрации  
 Узлы управляющей программы полнотекстовой фильтрации — это процессы, которые безопасно загружают внешние расширяемые компоненты индексов и запросов (например: средства разбиения по словам, парадигматические модули и фильтры), и позволяют использовать их, не нарушая целостности средства полнотекстового поиска. Экземпляр сервера использует многопоточный процесс для всех многопоточных фильтров и однопоточный процесс для однопоточных фильтров.  
  
> [!NOTE]  
>  [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] была введена учетная запись службы для службы FDHOST Launcher (MSSQLFDLauncher). Данная служба распространяет сведения учетной записи службы среди узлов управляющей программы фильтрации определенного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Сведения о настройке учетной записи службы см. в разделе [Настройка учетной записи службы средства запуска управляющей программы полнотекстовой фильтрации](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).  
  
 В службах [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]все полнотекстовые индексы располагались в полнотекстовых каталогах, принадлежащих файловой группе, имели физический путь и обрабатывались как файлы базы данных. В [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздних версиях полнотекстовый каталог представляет собой логический или виртуальный объект, содержащий группу полнотекстовых индексов. В связи с этим новые полнотекстовые каталоги не обрабатываются как файлы базы данных с физическим путем. Однако при обновлении любого полнотекстового каталога, содержащего файлы данных, новая файловая группа создается на том же диске. Это обеспечивает соблюдение старого поведения дискового ввода-вывода после обновления. Если существует корневой путь, то любой полнотекстовый индекс размещается в новой файловой группе. Если старый путь полнотекстового каталога недействителен, то обновление будет хранить полнотекстовый индекс в той же файловой группе, в которой хранится базовая таблица, либо, в случае с секционированной таблицей, в первичной файловой группе.  
  
> [!NOTE]  
>  [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)][!INCLUDE[tsql](../../includes/tsql-md.md)]Инструкции DDL, указывающие полнотекстовые каталоги, продолжают работать правильно.  
  
##  <a name="full-text-upgrade-options"></a><a name="FT_Upgrade_Options"></a>Параметры полнотекстового обновления  
 При обновлении экземпляра сервера до версии [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]пользовательский интерфейс позволяет выбрать один из следующих режимов обновления полнотекстовых функций.  
  
 Импорт  
 Полнотекстовые индексы импортируются. Обычно импорт производится значительно быстрее перестроения. Например, если используется только один ЦП, то импорт выполняется в 10 раз быстрее, чем перестроение. Однако импортированный полнотекстовый каталог не использует новые средства разбиения по словам, установленные в последней версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Для обеспечения согласованности результатов запроса необходимо перестроить полнотекстовые каталоги повторно.  
  
> [!NOTE]  
>  Перестроение может выполняться в многопоточном режиме; если доступно более 10 процессоров, то перестроение может выполниться быстрее импорта, если будет разрешено использовать все процессоры.  
  
 Если полнотекстовый каталог недоступен, перестраиваются связанные полнотекстовые индексы. Этот параметр доступен только для баз данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .  
  
 Дополнительные сведения о влиянии импорта полнотекстового индекса см. в подразделе «Замечания по выбору режима полнотекстового обновления» далее в этом разделе.  
  
 Перестроение  
 Полнотекстовые каталоги перестраиваются с помощью новых и улучшенных средств разбиения по словам. Перестроение индексов может занять длительное время, а после обновления может потребоваться значительный объем ресурсов ЦП и памяти.  
  
 Reset  
 Полнотекстовые каталоги сбрасываются. При обновлении с [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]файлы полнотекстового каталога удаляются, но метаданные для полнотекстовых каталогов и полнотекстовых индексов сохраняются. После обновления для всех полнотекстовых индексов отключается отслеживание изменений и сканирование не запускается автоматически. После завершения обновления каталог останется пустым, пока не будет вручную запущено полное заполнение.  
  
##  <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><a name="Choosing_Upgade_Option"></a>Рекомендации по выбору режима полнотекстового обновления  
 При выборе режима обновления необходимо учитывать следующие соображения.  
  
-   Требуется ли согласованность в результатах запроса?  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] устанавливает новые средства разбиения по словам, используемые компонентами полнотекстового и семантического поиска. Средства разбиения по словам используются как во время индексирования, так и при выполнении запросов. Если не выполнить перепостроение полнотекстовых каталогов, результаты поиска могут быть несогласованными. Полнотекстовый запрос, выполняющий поиск фразы, которая в предыдущей версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] была разбита средством разбиения по словам не так, как это сделано текущим средством разбиения по словам, может не обнаружить документ или строку, содержащую эту фразу. Это связано с тем, что индексированные фразы были разбиты с помощью логики, которая не соответствует логике, используемой в запросе. Решение заключается в том, чтобы заполнить полнотекстовые каталоги повторно (перестроить их) с помощью новых средств разбиения по словам, чтобы при индексировании и выполнении запросов использовалась одинаковая логика. Для реализации данного решения можно выбрать параметр перестроения или выполнить перестроения вручную после выбора параметра импорта.  
  
-   Были ли полнотекстовые индексы построены в целочисленных столбцах полнотекстовых ключей?  
  
     Перестроение выполняет внутренние оптимизации, которые в некоторых случаях могут увеличить производительность запросов обновленных полнотекстовых индексов. В частности, если в полнотекстовых каталогах пользователя содержатся полнотекстовые индексы, у которых полнотекстовый ключевой столбец базовой таблицы имеет тип данных integer, то при перестроении достигается идеальная производительность полнотекстовых запросов. В данном случае рекомендуется использовать параметр **Перестроение** .  
  
    > [!NOTE]  
    >  Применительно к полнотекстовым индексам в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]рекомендуется, чтобы столбец, который служит полнотекстовым ключом, имел тип данных integer. Дополнительные сведения см. в разделе [Улучшение производительности полнотекстовых индексов](improve-the-performance-of-full-text-indexes.md).  
  
-   Насколько важно перевести сервер в режим «в сети»?  
  
     Импорт или перестроение отнимает много ресурсов процессора, что задерживает обновление остальных частей экземпляра сервера и перевод его в режим «в сети». Если важно перевести экземпляр сервера в режим «в сети» как можно скорее, а пользователь способен выполнить после обновления заполнение вручную, то целесообразно будет использовать режим **Сброс** .  
  
## <a name="ensuring-consistent-query-results-after-importing-a-sql-server-2005-full-text-index"></a>Обеспечение согласованности результатов запроса после импорта полнотекстового индекса SQL Server 2005  
 Если полнотекстовый каталог был импортирован в процессе обновления базы данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] до [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], то возможно возникновение несоответствий между содержимым запроса и полнотекстового индекса. Это вызывается небольшой разницей в поведении между новыми и старыми средствами разбиения по словам. В данном случае для обеспечения полного соответствия между запросами и содержимым полнотекстового индекса следует выбрать один из следующих параметров:  
  
-   Выполнить повторное создание полнотекстового каталога, содержащего полнотекстовый индекс ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*имя_каталога* REBUILD).  
  
-   Выполнить инструкцию FULL POPULATION для полнотекстового индекса ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *имя_таблицы* START FULL POPULATION).  
  
 Дополнительные сведения о средствах разбиения по словам см. в разделе [Настройка и управление средством разбиения на слова и парадигматические модули для поиска](configure-and-manage-word-breakers-and-stemmers-for-search.md).  
  
## <a name="upgrading-noise-word-files-to-stoplists"></a>Обновление файлов пропускаемых слов до списков стоп-слов  
 Пропускаемые слова [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] были заменены стоп-словами в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздних версиях. После обновления базы данных до версии [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] от версии [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]файлы пропускаемых слов становятся неиспользуемыми. Но старые файлы пропускаемых слов хранятся в папке FTDATA\FTNoiseThresaurusBak, и их можно использовать в дальнейшем при обновлении или построении соответствующих списков стоп-слов [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .  
  
 После обновления с версии [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:  
  
-   Если файлы пропускаемых слов в установке [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]не добавлялись, не изменялись и не удалялись, то системный список стоп-слов будет соответствовать всем требованиям.  
  
-   Если файлы пропускаемых слов в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]были изменены, эти изменения в процессе обновления будут потеряны. Чтобы воссоздать эти изменения, необходимо вручную внести их в соответствующий список стоп-слов [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]. Дополнительные сведения см. в разделе [ALTER FULLTEXT STOPLIST (Transact-SQL)](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).  
  
-   Если использование стоп-слов в полнотекстовом индексе не требуется (например, если файлы пропускаемых слов в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] были удалены или очищены), необходимо отключить список стоп-слов для каждого обновленного полнотекстового индекса. Выполните следующую инструкцию [!INCLUDE[tsql](../../includes/tsql-md.md)] (заменив параметр *database* на имя обновленной базы данных, а *table* — на имя *таблицы*):  
  
    ```  
    Use database;   
    ALTER FULLTEXT INDEX ON table  
       SET STOPLIST OFF;  
    GO  
    ```  
  
     Предложение STOPLIST OFF удаляет фильтрацию по стоп-словам; таблица будет заполняться без фильтрации неучитываемых слов.  
  
## <a name="backup-and-imported-full-text-catalogs"></a>Резервные копии полнотекстовых каталогов и импортированные полнотекстовые каталоги  
 Для полнотекстовых каталогов, которые были восстановлены или сброшены во время обновления (и для новых полнотекстовых каталогов) полнотекстовый каталог является логическим понятием. Он не располагается в файловой группе. Следовательно, чтобы создать резервную копию полнотекстового каталога в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], следует определить все файловые группы, содержащие полнотекстовый индекс каталога, а затем последовательно создать резервные копии каждой из этих групп. Дополнительные сведения см. в разделе [Создание резервных копий и восстановление полнотекстовых каталогов и индексов](back-up-and-restore-full-text-catalogs-and-indexes.md).  
  
 Те полнотекстовые каталоги, которые были импортированы из [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], все еще являются файлами базы данных в собственных файловых группах. Процесс резервного копирования [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] для полнотекстовых каталогов применим, за исключением того, что служба MSFTESQL не существует в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Дополнительные сведения о процессе [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] см. в разделе [Резервное копирование и восстановление полнотекстовых каталогов](https://go.microsoft.com/fwlink/?LinkId=209154) электронной документации по SQL Server 2005.  
  
##  <a name="migrating-full-text-indexes-when-upgrading-a-database-to-sscurrent"></a><a name="Upgrade_Db"></a>Миграция полнотекстовых индексов при обновлении базы данных до версии[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]  
 Файлы баз данных и полнотекстовые каталоги из предыдущей версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] могут быть обновлены до версии существующего экземпляра сервера [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] при помощи присоединения, восстановления или с использованием мастера копирования баз данных. [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] полнотекстовые индексы (при их наличии) импортируются, сбрасываются или перестраиваются. Свойство сервера **upgrade_option** определяет, какой из режимов обновления полнотекстового поиска будет использоваться экземпляром сервера при обновлении базы данных.  
  
 После присоединения, восстановления или копирования любой базы данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]эта база данных сразу становится доступной, после чего автоматически обновляется. В зависимости от объема индексируемых данных процесс импорта может занять несколько часов, а перестроение — в несколько (до десяти) раз больше. Обратите внимание, что если при обновлении выбран режим «Импортировать», а полнотекстовый каталог недоступен, то связанные с ним полнотекстовые индексы будут перестроены.  
  
 **Изменение поведения полнотекстового обновления на экземпляре сервера**  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)]: используйте действие **upgrade\_option** хранимой процедуры [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql).  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **:** используйте параметр **Режим обновления полнотекстового каталога** в диалоговом окне **Свойства сервера** . Дополнительные сведения см. в разделе [Управление и наблюдение за полнотекстовым поиском для экземпляра сервера](manage-and-monitor-full-text-search-for-a-server-instance.md).  
  
##  <a name="considerations-for-restoring-a-ssversion2005-full-text-catalog-to-sscurrent"></a><a name="Considerations_for_Restore"></a>Рекомендации по восстановлению [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] полнотекстового каталога в[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]  
 Одним из методов обновления полнотекстовых данных базы данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] до версии [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] является восстановление полной резервной копии базы данных до версии [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].  
  
 При импорте каталога [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] можно выполнить резервное копирование и восстановление базы данных и файла каталога. Это происходит так же, как в выпуске [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].  
  
-   В полную резервную копию базы данных будет включен полнотекстовый каталог. Для ссылки на полнотекстовый каталог следует использовать его имя файла в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , sysft_+*catalog-name*.  
  
-   Если полнотекстовый каталог находится в режиме «вне сети», то резервное копирование завершится ошибкой.  
  
 Дополнительные сведения о резервном копировании и восстановлении полнотекстовых каталогов [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] см. в разделах [Резервное копирование и восстановление полнотекстовых каталогов](https://go.microsoft.com/fwlink/?LinkId=121052) и [Резервное копирование и восстановление файлов и полнотекстовые каталоги](https://go.microsoft.com/fwlink/?LinkId=121053)в электронной документации по [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .  
  
 При восстановлении базы данных в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]для полнотекстового каталога будет создан новый файл базы данных. По умолчанию данный файл имеет имя ftrow_*имя-каталога*.ndf. Например, если *имя-каталога* — `cat1`, то именем по умолчанию файла базы данных [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] будет `ftrow_cat1.ndf`. Но если имя по умолчанию уже используется в целевом каталоге, то новый файл базы данных будет называться `ftrow_` *Catalog-Name* `{` *GUID* `}.ndf` , где *GUID* — это глобальный уникальный идентификатор нового файла.  
  
 После импорта каталогов обновляются представления **sys.database_files** и **sys.master_files**: удаляются записи каталога и устанавливается значение NULL для столбца **path** (путь) в **sys.fulltext_catalogs** .  
  
 **Создание резервной копии базы данных**  
  
-   [Полные резервные копии баз данных (SQL Server)](../backup-restore/full-database-backups-sql-server.md)  
  
-   [Резервные копии журналов транзакций (SQL Server)](../backup-restore/transaction-log-backups-sql-server.md) (только для модели полного восстановления)  
  
 **Восстановление резервной копии базы данных**  
  
-   [Выполнение полного восстановления базы данных (простая модель восстановления)](../backup-restore/complete-database-restores-simple-recovery-model.md)  
  
-   [Выполнение полного восстановления базы данных (модель полного восстановления)](../backup-restore/complete-database-restores-full-recovery-model.md)  
  
### <a name="example"></a>Пример  
 В приведенных ниже примерах в инструкции [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) используется предложение MOVE для восстановления базы данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с именем `ftdb1`. Файлы базы данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , журнала и каталогов перемещаются в новые места в экземпляре сервера [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] следующим образом.  
  
-   Файл базы данных `ftdb1.mdf`перемещается по адресу `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.  
  
-   Файл журнала `ftdb1_log.ldf` перемещается в каталог журнала на диске журнала *log_drive* `:\` *log_directory* `\ftdb1_log.ldf` .  
  
-   Файлы каталогов, соответствующие каталогу `sysft_cat90` , перемещаются по адресу `C:\temp`. После того как был выполнен импорт полнотекстовых каталогов, они будут автоматически размещены в файле базы данных «C:\ftrow_sysft_cat90.ndf», а каталог «C:\temp» будет удален.  
  
```  
RESTORE DATABASE [ftdb1] FROM  DISK = N'C:\temp\ftdb1.bak' WITH  FILE = 1,  
   MOVE N'ftdb1' TO N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf',  
    MOVE N'ftdb1_log' TO N'log_drive:\log_directory\ftdb1_log.ldf',  
    MOVE N'sysft_cat90' TO N'C:\temp';  
```  
  
##  <a name="attaching-a-sql-server-2005-database-to-sscurrent"></a><a name="Attaching_2005_ft_catalogs"></a>Присоединение базы данных SQL Server 2005 к[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]  
 В [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздних версиях полнотекстовый каталог представляет собой логическое понятие, обозначающее группу полнотекстовых индексов. Полнотекстовый каталог является виртуальным объектом и не входит в какую-либо файловую группу. Однако если база данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , содержащая файлы полнотекстовых каталогов, присоединяется к экземпляру сервера [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , то присоединение файлов каталогов осуществляется исходя из их предыдущего расположения (как и в случае с другими файлами баз данных), так же как в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].  
  
 Состояние каждого присоединенного полнотекстового каталога в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] будет идентично его состоянию во время отсоединения базы данных от [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]. Если заполнение полнотекстового индекса было приостановлено операцией отсоединения, то оно будет продолжено в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], а сам полнотекстовый индекс станет доступным для полнотекстового поиска.  
  
 Если [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] не удается найти файл полнотекстового каталога или если полнотекстовый файл был перемещен во время операции присоединения без указания нового расположения, то поведение будет зависеть от выбранного режима полнотекстового обновления. Если был выбран режим обновления полнотекстового поиска **Импорт** или **Перестроение**, то присоединенный полнотекстовый каталог будет перестроен. Если был выбран режим обновления полнотекстового поиска **Сброс**, то присоединенный полнотекстовый каталог будет сброшен.  
  
 Дополнительные сведения о присоединении и отсоединении базы данных см. в разделах [Присоединение и отсоединение базы данных (SQL Server)](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE (SQL Server Transact-SQL)](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) и [sp_detach_db (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).  
  
## <a name="see-also"></a>См. также:  
 [Приступая к работе с компонентом Full-Text Search](get-started-with-full-text-search.md)   
 [Настройка средств разбиения по словам и парадигматические модули для поиска и управление ими](configure-and-manage-word-breakers-and-stemmers-for-search.md)   
 [Настройка и управление фильтрами для поиска](configure-and-manage-filters-for-search.md)  
  
  

---
title: Справочник по API экземпляра LocalDB SQL Server Express | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: reference
ms.assetid: faec46da-0536-4de3-96f3-83e607c8a8b6
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: 5934bc5159998db22d7c560b31457524773e74eb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728250"
---
# <a name="sql-server-express-localdb-instance-api-reference"></a>Справочник по API экземпляра SQL Server Express LocalDB
  Традиционно экземпляры SQL Server, устанавливаемые на один компьютер, разделены физически, то есть каждый из них должен быть установлен или удален отдельно, каждый из них имеет отдельный набор двоичных файлов и выполняется в отдельном процессе службы. Имя экземпляра SQL Server используется для указания того, с каким экземпляром SQL Server пользователь хочет установить соединение.  
  
 API экземпляра SQL Server Express LocalDB использует упрощенную модель экземпляра "Light". Хотя отдельные экземпляры LocalDB разделены на диске и в реестре, они используют тот же набор общих двоичных файлов LocalDB. Кроме того, LocalDB не использует службы; экземпляры LocalDB запускаются по запросу через вызовы API экземпляра LocalDB. В LocalDB имя экземпляра используется для указания того, с какими экземплярами LocalDB пользователь хочет работать.  
  
 Экземпляр LocalDB всегда принадлежит одному пользователю и является видимым и доступен только из контекста этого пользователя, если не включен общий доступ к экземпляру.  
  
 Хотя технически экземпляры LocalDB не идентичны традиционным экземплярам SQL Server, цели, для которых они используются, схожи. Они называются *экземплярами* , чтобы подчеркнуть это сходство и сделать их более интуитивными для SQL Server пользователей.  
  
 LocalDB поддерживает два вида экземпляров: автоматические экземпляры (AI) и именованные экземпляры (NI). Идентификатор для экземпляра LocalDB — это имя экземпляра.  
  
## <a name="automatic-localdb-instances"></a>Автоматические экземпляры LocalDB  
 Автоматические экземпляры LocalDB имеют значение "Public"; они создаются и управляются автоматически для пользователя и могут использоваться любым приложением. Для каждой версии LocalDB, установленной на компьютере пользователя, существует один автоматический экземпляр LocalDB.  
  
 Автоматические экземпляры LocalDB обеспечивают гладкое управление экземплярами. Пользователю не нужно создавать экземпляр. Это позволяет пользователям легко устанавливать приложения и выполнять миграцию на другие компьютеры. Если на целевом компьютере установлена заданная версия LocalDB, на нем также будет доступен автоматический экземпляр LocalDB.  
  
### <a name="automatic-instance-management"></a>Автоматическое управление экземплярами  
 Пользователю не нужно создавать автоматический экземпляр LocalDB. Экземпляр создается с отложенной назначением при первом использовании экземпляра при условии, что указанная версия LocalDB доступна на компьютере пользователя. С точки зрения пользователя, автоматический экземпляр всегда отображается, если имеются двоичные файлы LocalDB.  
  
 Другие операции управления экземплярами, такие, как удаление или включение и отключение совместного использования, также доступны для автоматических экземпляров. При удалении автоматического экземпляра, фактически, происходит его перезапуск. При следующей операции запуска он будет создан повторно. Удаление автоматического экземпляра может потребоваться при повреждении системных баз данных.  
  
### <a name="automatic-instance-naming-rules"></a>Правила именования автоматических экземпляров  
 Автоматические экземпляры LocalDB имеют специальный шаблон имен экземпляров, принадлежащий зарезервированному пространству имен. Он необходим для предотвращения конфликтов имен с именованными экземплярами LocalDB.  
  
 Имя автоматического экземпляра — это номер версии базового выпуска LocalDB, которому предшествует один символ "v". Это выглядит как "v" плюс два числа с точкой между ними; Например, v 11.0 или V 12,00.  
  
 Примеры недопустимых имен автоматических экземпляров:  
  
-   11,0 (в начале отсутствует символ "v")  
  
-   v11 (отсутствует точка и второй номер версии)  
  
-   v11. (отсутствует второй номер версии)  
  
-   V11.0.1.2 (номер версии состоит более чем из двух частей)  
  
## <a name="named-localdb-instances"></a>Именованные экземпляры LocalDB  
 Именованные экземпляры LocalDB являются "частными"; экземпляр принадлежит одному приложению, отвечающему за создание экземпляра и управление им. Именованные экземпляры LocalDB обеспечивают изоляцию и повышают производительность.  
  
### <a name="named-instance-creation"></a>Создание именованных экземпляров  
 Пользователь может создавать именованные экземпляры явно, посредством API управления LocalDB или скрыто, посредством файла app.config для управляемого приложения. Управляемое приложение также может использовать API.  
  
 Каждый именованный экземпляр имеет соответствующую версию LocalDB; то есть он указывает на конкретный набор двоичных файлов LocalDB. Версия для именованного экземпляра устанавливается в процессе создания экземпляра.  
  
### <a name="named-instance-naming-rules"></a>Правила именования именованных экземпляров  
 Имя экземпляра LocalDB может состоять из 128 символов (ограничение накладывается типом данных `sysname`). Это существенно отличается от традиционных имен экземпляров SQL Server, которые ограничены именами NetBIOS из 16 ASCII-символов. Причина этого заключается в том, что LocalDB рассматривает базы данных как файлы и, таким образом, подразумевает семантику на основе файлов, поэтому пользователи могут иметь большую свободу при выборе имен экземпляров.  
  
 Имя экземпляра LocalDB может содержать любые символы Юникода, допустимые в компоненте имени файла. Недопустимые символы в компоненте filename обычно включают в себя следующие символы: символы ASCII/Unicode с 1 по 31, а также кавычки ("), знаки" меньше "( \<), greater than (> ), вертикальная черта (|), Backspace (") ", символ табуляции (\t), двоеточие (:), звездочка (*), вопросительный знак (? \\ Обратите внимание, что символ null (\0) допускается, потому что он используется для завершения строк; все, что находится после первого символа null не будет учитываться.  
  
> [!NOTE]  
>  Список недопустимых символов зависит от операционной системы и может измениться в последующих выпусках.  
  
 Начальные и конечные пробелы в именах экземпляров не учитываются и будут усечены.  
  
 Чтобы избежать конфликтов имен, именованные экземпляры LocalDB не могут иметь имя, следующее за шаблоном именования для автоматических экземпляров, как описано выше в разделе "правила именования автоматического экземпляра". Попытка создать именованный экземпляр, имя которого соответствует шаблону автоматического именования экземпляра, фактически создает экземпляр по умолчанию.  
  
## <a name="sql-server-express-localdb-reference-topics"></a>Справочные разделы по SQL Server Express LocalDB  
 [Заголовок и сведения о версии SQL Server Express LocalDB](sql-server-express-localdb-header-and-version-information.md)  
 Содержит сведения из файла заголовка и разделы реестра для поиска API экземпляра LocalDB.  
  
 [Программа командной строки: SqlLocalDB.exe](command-line-management-tool-sqllocaldb-exe.md)  
 Описывает программу SqlLocalDB.exe, средство для управления экземплярами LocalDB из командной строки.  
  
 [Функция LocalDBCreateInstance](localdbcreateinstance-function.md)  
 Описывает функцию создания нового экземпляра LocalDB.  
  
 [Функция LocalDBDeleteInstance](localdbdeleteinstance-function.md)  
 Описывает функцию удаления экземпляра LocalDB.  
  
 [Функция LocalDBFormatMessage](localdbformatmessage-function.md)  
 Описывает функцию возврата локализованного описания ошибки LocalDB.  
  
 [Функция LocalDBGetInstanceInfo](localdbgetinstanceinfo-function.md)  
 Описывает функцию получения сведений об экземпляре LocalDB, например, существует ли он, сведения о его версии, запущен ли он и т.п.  
  
 [Функция LocalDBGetInstances](localdbgetinstances-function.md)  
 Описывает функцию возврата всех экземпляров LocalDB с указанной версией.  
  
 [Функция LocalDBGetVersionsInfo](localdbgetversioninfo-function.md)  
 Описывает функцию возврата сведений об определенной версии LocalDB.  
  
 [Функция LocalDBGetVersions](localdbgetversions-function.md)  
 Описывает функцию возврата всех версий LocalDB, доступных на компьютере.  
  
 [Функция LocalDBShareInstance](localdbshareinstance-function.md)  
 Описывает функцию включения для совместного использования заданного экземпляра LocalDB.  
  
 [Функция LocalDBStartInstance](localdbstartinstance-function.md)  
 Описывает функцию запуска указанного экземпляра LocalDB.  
  
 [Функция LocalDBStartTracing](localdbstarttracing-function.md)  
 Описывает функцию включения трассировки API для пользователя.  
  
 [Функция LocalDBStopInstance](localdbstopinstance-function.md)  
 Описывает функцию остановки указанного экземпляра LocalDB.  
  
 [Функция LocalDBStopTracing](localdbstoptracing-function.md)  
 Описывает функцию отключения трассировки API для пользователя.  
  
 [Функция LocalDBUnshareInstance](localdbunshareinstance-function.md)  
 Описывает функцию остановки совместного использования указанного экземпляра LocalDB.  
  
  

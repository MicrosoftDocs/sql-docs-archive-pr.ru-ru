---
title: Таблицы доставки журналов и хранимые процедуры | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- secondary servers [SQL Server]
- monitor servers [SQL Server]
- log shipping [SQL Server], system tables
- log shipping [SQL Server], stored procedures
- primary servers [SQL Server]
ms.assetid: 03420810-4c38-4c0c-adf0-913eb044c50a
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f10a6555ed3a0c27a72c3d097cc200f21d901274
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87729745"
---
# <a name="log-shipping-tables-and-stored-procedures"></a><span data-ttu-id="71c33-102">Log Shipping Tables and Stored Procedures</span><span class="sxs-lookup"><span data-stu-id="71c33-102">Log Shipping Tables and Stored Procedures</span></span>
  <span data-ttu-id="71c33-103">В этом подразделе описываются все таблицы и хранимые процедуры, связанные с конфигурированием доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-103">This topic describes all of the tables and stored procedures associated with a log shipping configuration.</span></span> <span data-ttu-id="71c33-104">Все таблицы доставки журналов хранятся в базе данных **msdb** на каждом сервере.</span><span class="sxs-lookup"><span data-stu-id="71c33-104">All log shipping tables are stored in **msdb** on each server.</span></span> <span data-ttu-id="71c33-105">В приведенной ниже таблице показано, на каких серверах используются какие таблицы и хранимые процедуры в конфигурациях доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-105">The tables below describe which tables and stored procedures are used on which servers in a log shipping configuration.</span></span>  
  
## <a name="primary-server-tables"></a><span data-ttu-id="71c33-106">Таблицы сервера-источника</span><span class="sxs-lookup"><span data-stu-id="71c33-106">Primary Server Tables</span></span>  
  
|<span data-ttu-id="71c33-107">Таблица</span><span class="sxs-lookup"><span data-stu-id="71c33-107">Table</span></span>|<span data-ttu-id="71c33-108">Описание</span><span class="sxs-lookup"><span data-stu-id="71c33-108">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="71c33-109">log_shipping_monitor_alert</span><span class="sxs-lookup"><span data-stu-id="71c33-109">log_shipping_monitor_alert</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-alert-transact-sql)|<span data-ttu-id="71c33-110">Содержит идентификатор задания предупреждения.</span><span class="sxs-lookup"><span data-stu-id="71c33-110">Stores alert job ID.</span></span> <span data-ttu-id="71c33-111">Данная таблица используется на сервере-источнике только в том случае, если удаленный сервер мониторинга не настроен.</span><span class="sxs-lookup"><span data-stu-id="71c33-111">This table is only used on the primary server if a remote monitor server has not been configured.</span></span>|  
|[<span data-ttu-id="71c33-112">log_shipping_monitor_error_detail</span><span class="sxs-lookup"><span data-stu-id="71c33-112">log_shipping_monitor_error_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-error-detail-transact-sql)|<span data-ttu-id="71c33-113">Сохраняет описание ошибки заданий доставки журналов, связанных с сервером-источником.</span><span class="sxs-lookup"><span data-stu-id="71c33-113">Stores error detail for log shipping jobs associated with this primary server.</span></span>|  
|[<span data-ttu-id="71c33-114">log_shipping_monitor_history_detail</span><span class="sxs-lookup"><span data-stu-id="71c33-114">log_shipping_monitor_history_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-history-detail-transact-sql)|<span data-ttu-id="71c33-115">Сохраняет подробные данные журнала для заданий доставки журналов, связанных с сервером-источником.</span><span class="sxs-lookup"><span data-stu-id="71c33-115">Stores history detail for log shipping jobs associated with this primary server.</span></span>|  
|[<span data-ttu-id="71c33-116">log_shipping_monitor_primary</span><span class="sxs-lookup"><span data-stu-id="71c33-116">log_shipping_monitor_primary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-primary-transact-sql)|<span data-ttu-id="71c33-117">Содержит одну запись монитора для данной базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="71c33-117">Stores one monitor record for this primary database.</span></span>|  
|[<span data-ttu-id="71c33-118">log_shipping_primary_databases</span><span class="sxs-lookup"><span data-stu-id="71c33-118">log_shipping_primary_databases</span></span>](/sql/relational-databases/system-tables/log-shipping-primary-databases-transact-sql)|<span data-ttu-id="71c33-119">Содержит сведения о конфигурации баз данных-источников на заданном сервере.</span><span class="sxs-lookup"><span data-stu-id="71c33-119">Contains configuration information for primary databases on a given server.</span></span> <span data-ttu-id="71c33-120">Хранит по одной строке на каждую базу данных-источник.</span><span class="sxs-lookup"><span data-stu-id="71c33-120">Stores one row per primary database.</span></span>|  
|[<span data-ttu-id="71c33-121">log_shipping_primary_secondaries</span><span class="sxs-lookup"><span data-stu-id="71c33-121">log_shipping_primary_secondaries</span></span>](/sql/relational-databases/system-tables/log-shipping-primary-secondaries-transact-sql)|<span data-ttu-id="71c33-122">Сопоставляет базы данных-источники с базами данных-получателями.</span><span class="sxs-lookup"><span data-stu-id="71c33-122">Maps primary databases to secondary databases.</span></span>|  
  
## <a name="primary-server-stored-procedures"></a><span data-ttu-id="71c33-123">Хранимые процедуры сервера-источника</span><span class="sxs-lookup"><span data-stu-id="71c33-123">Primary Server Stored Procedures</span></span>  
  
|<span data-ttu-id="71c33-124">Хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-124">Stored Procedure</span></span>|<span data-ttu-id="71c33-125">Описание</span><span class="sxs-lookup"><span data-stu-id="71c33-125">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="71c33-126">sp_add_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="71c33-126">sp_add_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-primary-database-transact-sql)|<span data-ttu-id="71c33-127">Настраивает базу данных-источник для конфигурации доставки журналов, включая задания резервного копирования, запись локального монитора и запись удаленного монитора.</span><span class="sxs-lookup"><span data-stu-id="71c33-127">Sets up the primary database for a log shipping configuration, including the backup job, local monitor record, and remote monitor record.</span></span>|  
|[<span data-ttu-id="71c33-128">sp_add_log_shipping_primary_secondary, хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-128">sp_add_log_shipping_primary_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-primary-secondary-transact-sql)|<span data-ttu-id="71c33-129">Добавляет имя базы данных-получателя к существующей базе данных-источнику.</span><span class="sxs-lookup"><span data-stu-id="71c33-129">Adds a secondary database name to an existing primary database.</span></span>|  
|[<span data-ttu-id="71c33-130">sp_change_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="71c33-130">sp_change_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-change-log-shipping-primary-database-transact-sql)|<span data-ttu-id="71c33-131">Изменяет настройки базы данных-источника, включая локальные и удаленные записи монитора.</span><span class="sxs-lookup"><span data-stu-id="71c33-131">Changes primary database settings including local and remote monitor record.</span></span>|  
|[<span data-ttu-id="71c33-132">sp_cleanup_log_shipping_history</span><span class="sxs-lookup"><span data-stu-id="71c33-132">sp_cleanup_log_shipping_history</span></span>](/sql/relational-databases/system-stored-procedures/sp-cleanup-log-shipping-history-transact-sql)|<span data-ttu-id="71c33-133">Производит очистку журнала локально и на сервере мониторинга с учетом срока хранения.</span><span class="sxs-lookup"><span data-stu-id="71c33-133">Cleans up history locally and on the monitor based on retention period.</span></span>|  
|[<span data-ttu-id="71c33-134">sp_delete_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="71c33-134">sp_delete_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-primary-database-transact-sql)|<span data-ttu-id="71c33-135">Удаляет доставку журналов базы данных-источника, включая как задачи резервного копирования, так и местную, и удаленную подробную информацию журнала.</span><span class="sxs-lookup"><span data-stu-id="71c33-135">Removes log shipping of primary database including backup job as well as local and remote history.</span></span>|  
|[<span data-ttu-id="71c33-136">sp_delete_log_shipping_primary_secondary, хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-136">sp_delete_log_shipping_primary_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-primary-secondary-transact-sql)|<span data-ttu-id="71c33-137">Удаляет имя базы данных-получателя из базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="71c33-137">Removes a secondary database name from a primary database.</span></span>|  
|[<span data-ttu-id="71c33-138">sp_help_log_shipping_primary_database, хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-138">sp_help_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-primary-database-transact-sql)|<span data-ttu-id="71c33-139">Получает настройки базы данных-источника и отображает значения из таблиц **log_shipping_primary_databases** и **log_shipping_monitor_primary** .</span><span class="sxs-lookup"><span data-stu-id="71c33-139">Retrieves primary database settings and displays the values from the **log_shipping_primary_databases** and **log_shipping_monitor_primary** tables.</span></span>|  
|[<span data-ttu-id="71c33-140">sp_help_log_shipping_primary_secondary</span><span class="sxs-lookup"><span data-stu-id="71c33-140">sp_help_log_shipping_primary_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-primary-secondary-transact-sql)|<span data-ttu-id="71c33-141">Получает имена баз данных-получателей для базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="71c33-141">Retrieves secondary database names for a primary database.</span></span>|  
|[<span data-ttu-id="71c33-142">sp_refresh_log_shipping_monitor</span><span class="sxs-lookup"><span data-stu-id="71c33-142">sp_refresh_log_shipping_monitor</span></span>](/sql/relational-databases/system-stored-procedures/sp-refresh-log-shipping-monitor-transact-sql)|<span data-ttu-id="71c33-143">Обновляет монитор данными для определенного агента доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-143">Refreshes the monitor with the latest information for the specified log shipping agent.</span></span>|  
  
## <a name="secondary-server-tables"></a><span data-ttu-id="71c33-144">Таблицы сервера-получателя</span><span class="sxs-lookup"><span data-stu-id="71c33-144">Secondary Server Tables</span></span>  
  
|<span data-ttu-id="71c33-145">Таблица</span><span class="sxs-lookup"><span data-stu-id="71c33-145">Table</span></span>|<span data-ttu-id="71c33-146">Описание</span><span class="sxs-lookup"><span data-stu-id="71c33-146">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="71c33-147">log_shipping_monitor_alert</span><span class="sxs-lookup"><span data-stu-id="71c33-147">log_shipping_monitor_alert</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-alert-transact-sql)|<span data-ttu-id="71c33-148">Содержит идентификатор задания предупреждения.</span><span class="sxs-lookup"><span data-stu-id="71c33-148">Stores alert job ID.</span></span> <span data-ttu-id="71c33-149">Данная таблица используется на сервере-получателе только в том случае, если удаленный сервер мониторинга не настроен.</span><span class="sxs-lookup"><span data-stu-id="71c33-149">This table is only used on the secondary server if a remote monitor server has not been configured.</span></span>|  
|[<span data-ttu-id="71c33-150">log_shipping_monitor_error_detail</span><span class="sxs-lookup"><span data-stu-id="71c33-150">log_shipping_monitor_error_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-error-detail-transact-sql)|<span data-ttu-id="71c33-151">Сохраняет описание ошибки задач доставки журналов, связанных с сервером-получателем.</span><span class="sxs-lookup"><span data-stu-id="71c33-151">Stores error detail for log shipping jobs associated with this secondary server.</span></span>|  
|[<span data-ttu-id="71c33-152">log_shipping_monitor_history_detail</span><span class="sxs-lookup"><span data-stu-id="71c33-152">log_shipping_monitor_history_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-history-detail-transact-sql)|<span data-ttu-id="71c33-153">Сохраняет подробные данные журналов для заданий доставки журналов, связанных с сервером-получателем.</span><span class="sxs-lookup"><span data-stu-id="71c33-153">Stores history detail for log shipping jobs associated with this secondary server.</span></span>|  
|[<span data-ttu-id="71c33-154">log_shipping_monitor_secondary</span><span class="sxs-lookup"><span data-stu-id="71c33-154">log_shipping_monitor_secondary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-secondary-transact-sql)|<span data-ttu-id="71c33-155">Содержит одну запись монитора для каждой базы данных-получателя, связанной с данным сервером-получателем.</span><span class="sxs-lookup"><span data-stu-id="71c33-155">Stores one monitor record per secondary database associated with this secondary server.</span></span>|  
|[<span data-ttu-id="71c33-156">log_shipping_secondary</span><span class="sxs-lookup"><span data-stu-id="71c33-156">log_shipping_secondary</span></span>](/sql/relational-databases/system-tables/log-shipping-secondary-transact-sql)|<span data-ttu-id="71c33-157">Содержит сведения о конфигурации баз данных-получателей на заданном сервере.</span><span class="sxs-lookup"><span data-stu-id="71c33-157">Contains configuration information for the secondary databases on a given server.</span></span> <span data-ttu-id="71c33-158">Хранит по одной строке на каждый идентификатор базы данных-получателя.</span><span class="sxs-lookup"><span data-stu-id="71c33-158">Stores one row per secondary ID.</span></span>|  
|[<span data-ttu-id="71c33-159">log_shipping_secondary_databases</span><span class="sxs-lookup"><span data-stu-id="71c33-159">log_shipping_secondary_databases</span></span>](/sql/relational-databases/system-tables/log-shipping-secondary-databases-transact-sql)|<span data-ttu-id="71c33-160">Сохраняет сведения о конфигурации для заданной базы данных-получателя.</span><span class="sxs-lookup"><span data-stu-id="71c33-160">Stores configuration information for a given secondary database.</span></span> <span data-ttu-id="71c33-161">Хранит по одной строке на каждую базу данных-получатель.</span><span class="sxs-lookup"><span data-stu-id="71c33-161">Stores one row per secondary database.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="71c33-162">Базы данных-получатели на одном и том же сервере-получателе для заданной базы данных-источника выкладывают настройки для общего пользования в таблицу **log_shipping_secondary** .</span><span class="sxs-lookup"><span data-stu-id="71c33-162">Secondary databases on the same secondary server for a given primary database share the settings in the **log_shipping_secondary** table.</span></span> <span data-ttu-id="71c33-163">Если общие настройки изменяются одной базой данных-получателем, то эти изменения относятся сразу ко всем этим базам данных.</span><span class="sxs-lookup"><span data-stu-id="71c33-163">If a shared setting is altered for one secondary database, the setting is altered for all of them.</span></span>  
  
## <a name="secondary-server-stored-procedures"></a><span data-ttu-id="71c33-164">Хранимые процедуры сервера-получателя</span><span class="sxs-lookup"><span data-stu-id="71c33-164">Secondary Server Stored Procedures</span></span>  
  
|<span data-ttu-id="71c33-165">Хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-165">Stored Procedure</span></span>|<span data-ttu-id="71c33-166">Описание</span><span class="sxs-lookup"><span data-stu-id="71c33-166">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="71c33-167">sp_add_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="71c33-167">sp_add_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="71c33-168">Устанавливает базу данных-получателя для доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-168">Sets up a secondary database for log shipping.</span></span>|  
|[<span data-ttu-id="71c33-169">sp_add_log_shipping_secondary_primary, хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-169">sp_add_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="71c33-170">Настраивает первичные данные, добавляет ссылки на локальные и удаленные мониторы, а также создает задания копирования и восстановления на сервере-получателе для указанной базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="71c33-170">Sets up the primary information, adds local and remote monitor links, and creates copy and restore jobs on the secondary server for the specified primary database.</span></span>|  
|[<span data-ttu-id="71c33-171">sp_change_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="71c33-171">sp_change_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-change-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="71c33-172">Изменяет настройки базы данных-получателя, включая местные и удаленные записи монитора.</span><span class="sxs-lookup"><span data-stu-id="71c33-172">Changes secondary database settings including local and remote monitor records.</span></span>|  
|[<span data-ttu-id="71c33-173">sp_change_log_shipping_secondary_primary</span><span class="sxs-lookup"><span data-stu-id="71c33-173">sp_change_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-change-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="71c33-174">Изменяет настройки базы данных-получателя, такие как исходный и целевой каталоги и срок хранения файла.</span><span class="sxs-lookup"><span data-stu-id="71c33-174">Changes secondary database settings such as source and destination directory, and file retention period.</span></span>|  
|[<span data-ttu-id="71c33-175">sp_cleanup_log_shipping_history</span><span class="sxs-lookup"><span data-stu-id="71c33-175">sp_cleanup_log_shipping_history</span></span>](/sql/relational-databases/system-stored-procedures/sp-cleanup-log-shipping-history-transact-sql)|<span data-ttu-id="71c33-176">Производит очистку журнала локально и на сервере мониторинга с учетом срока хранения.</span><span class="sxs-lookup"><span data-stu-id="71c33-176">Cleans up history locally and on the monitor based on retention period.</span></span>|  
|[<span data-ttu-id="71c33-177">sp_delete_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="71c33-177">sp_delete_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="71c33-178">Удаляет базу данных-получателя, а также локальный и удаленный журналы.</span><span class="sxs-lookup"><span data-stu-id="71c33-178">Removes a secondary database and the local history and remote history.</span></span>|  
|[<span data-ttu-id="71c33-179">sp_delete_log_shipping_secondary_primary</span><span class="sxs-lookup"><span data-stu-id="71c33-179">sp_delete_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="71c33-180">Удаляет сведения об определенном сервере-источнике из сервера-получателя.</span><span class="sxs-lookup"><span data-stu-id="71c33-180">Removes the information about the specified primary server from the secondary server.</span></span>|  
|[<span data-ttu-id="71c33-181">sp_help_log_shipping_secondary_database, хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-181">sp_help_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="71c33-182">Получает настройки базы данных-получателя из таблиц **log_shipping_secondary**, **log_shipping_secondary_databases**и **log_shipping_monitor_secondary** .</span><span class="sxs-lookup"><span data-stu-id="71c33-182">Retrieves secondary database settings from the **log_shipping_secondary**, **log_shipping_secondary_databases**, and **log_shipping_monitor_secondary** tables.</span></span>|  
|[<span data-ttu-id="71c33-183">sp_help_log_shipping_secondary_primary, хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-183">sp_help_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="71c33-184">Эта хранимая процедура получает настройки для данной базы данных-источника с сервера-получателя.</span><span class="sxs-lookup"><span data-stu-id="71c33-184">This stored procedure retrieves the settings for a given primary database on the secondary server.</span></span>|  
|[<span data-ttu-id="71c33-185">sp_refresh_log_shipping_monitor</span><span class="sxs-lookup"><span data-stu-id="71c33-185">sp_refresh_log_shipping_monitor</span></span>](/sql/relational-databases/system-stored-procedures/sp-refresh-log-shipping-monitor-transact-sql)|<span data-ttu-id="71c33-186">Обновляет монитор данными для определенного агента доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-186">Refreshes the monitor with the latest information for the specified log shipping agent.</span></span>|  
  
## <a name="monitor-server-tables"></a><span data-ttu-id="71c33-187">Таблицы сервера мониторинга</span><span class="sxs-lookup"><span data-stu-id="71c33-187">Monitor Server Tables</span></span>  
  
|<span data-ttu-id="71c33-188">Таблица</span><span class="sxs-lookup"><span data-stu-id="71c33-188">Table</span></span>|<span data-ttu-id="71c33-189">Описание</span><span class="sxs-lookup"><span data-stu-id="71c33-189">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="71c33-190">log_shipping_monitor_alert</span><span class="sxs-lookup"><span data-stu-id="71c33-190">log_shipping_monitor_alert</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-alert-transact-sql)|<span data-ttu-id="71c33-191">Содержит идентификатор задания предупреждения.</span><span class="sxs-lookup"><span data-stu-id="71c33-191">Stores alert job ID.</span></span>|  
|[<span data-ttu-id="71c33-192">log_shipping_monitor_error_detail</span><span class="sxs-lookup"><span data-stu-id="71c33-192">log_shipping_monitor_error_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-error-detail-transact-sql)|<span data-ttu-id="71c33-193">Сохраняет подробное описание ошибок для заданий доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-193">Stores error detail for log shipping jobs.</span></span>|  
|[<span data-ttu-id="71c33-194">log_shipping_monitor_history_detail</span><span class="sxs-lookup"><span data-stu-id="71c33-194">log_shipping_monitor_history_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-history-detail-transact-sql)|<span data-ttu-id="71c33-195">Сохраняет подробные данные журнала для заданий доставки журналов.</span><span class="sxs-lookup"><span data-stu-id="71c33-195">Stores history detail for log shipping jobs.</span></span>|  
|[<span data-ttu-id="71c33-196">log_shipping_monitor_primary</span><span class="sxs-lookup"><span data-stu-id="71c33-196">log_shipping_monitor_primary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-primary-transact-sql)|<span data-ttu-id="71c33-197">Содержит одну запись монитора для каждой базы данных-источника, связанной с данным сервером мониторинга.</span><span class="sxs-lookup"><span data-stu-id="71c33-197">Stores one monitor record per primary database associated with this monitor server.</span></span>|  
|[<span data-ttu-id="71c33-198">log_shipping_monitor_secondary</span><span class="sxs-lookup"><span data-stu-id="71c33-198">log_shipping_monitor_secondary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-secondary-transact-sql)|<span data-ttu-id="71c33-199">Содержит одну запись монитора для каждой базы данных-получателя, связанной с данным сервером мониторинга.</span><span class="sxs-lookup"><span data-stu-id="71c33-199">Stores one monitor record per secondary database associated with this monitor server.</span></span>|  
  
## <a name="monitor-server-stored-procedures"></a><span data-ttu-id="71c33-200">Хранимые процедуры сервера мониторинга</span><span class="sxs-lookup"><span data-stu-id="71c33-200">Monitor Server Stored Procedures</span></span>  
  
|<span data-ttu-id="71c33-201">Хранимая процедура</span><span class="sxs-lookup"><span data-stu-id="71c33-201">Stored Procedure</span></span>|<span data-ttu-id="71c33-202">Описание</span><span class="sxs-lookup"><span data-stu-id="71c33-202">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="71c33-203">sp_add_log_shipping_alert_job</span><span class="sxs-lookup"><span data-stu-id="71c33-203">sp_add_log_shipping_alert_job</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-alert-job-transact-sql)|<span data-ttu-id="71c33-204">Создает задание предупреждения доставки журналов, если оно еще не создано.</span><span class="sxs-lookup"><span data-stu-id="71c33-204">Creates a log shipping alert job if one has not already been created.</span></span>|  
|[<span data-ttu-id="71c33-205">sp_delete_log_shipping_alert_job</span><span class="sxs-lookup"><span data-stu-id="71c33-205">sp_delete_log_shipping_alert_job</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-alert-job-transact-sql)|<span data-ttu-id="71c33-206">Удаляет задание предупреждения доставки журналов, если отсутствуют соответствующие базы данных-получатели.</span><span class="sxs-lookup"><span data-stu-id="71c33-206">Removes a log shipping alert job if there are no associated primary databases.</span></span>|  
|[<span data-ttu-id="71c33-207">sp_help_log_shipping_alert_job</span><span class="sxs-lookup"><span data-stu-id="71c33-207">sp_help_log_shipping_alert_job</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-alert-job-transact-sql)|<span data-ttu-id="71c33-208">Возвращает идентификатор задания предупреждения.</span><span class="sxs-lookup"><span data-stu-id="71c33-208">Returns the job ID of the alert job.</span></span>|  
|[<span data-ttu-id="71c33-209">sp_help_log_shipping_monitor_primary</span><span class="sxs-lookup"><span data-stu-id="71c33-209">sp_help_log_shipping_monitor_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-monitor-primary-transact-sql)|<span data-ttu-id="71c33-210">Возвращает записи монитора для указанной базы данных-источника из таблицы **log_shipping_monitor_primary** .</span><span class="sxs-lookup"><span data-stu-id="71c33-210">Returns monitor records for the specified primary database from the **log_shipping_monitor_primary** table.</span></span>|  
|[<span data-ttu-id="71c33-211">sp_help_log_shipping_monitor_secondary</span><span class="sxs-lookup"><span data-stu-id="71c33-211">sp_help_log_shipping_monitor_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-monitor-secondary-transact-sql)|<span data-ttu-id="71c33-212">Возвращает записи монитора для указанной базы данных-получателя из таблицы **log_shipping_monitor_secondary** .</span><span class="sxs-lookup"><span data-stu-id="71c33-212">Returns monitor records for the specified secondary database from the **log_shipping_monitor_secondary** table.</span></span>|  
  
  

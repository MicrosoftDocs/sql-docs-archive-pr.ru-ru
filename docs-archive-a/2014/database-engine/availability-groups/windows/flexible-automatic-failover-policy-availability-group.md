---
title: Гибкая политика отработки отказа для автоматической отработки отказа группы доступности (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], flexible failover policy
- Availability Groups [SQL Server], failover
- flexible failover policy
- failover [SQL Server], AlwaysOn Availability Groups
ms.assetid: 8c504c7f-5c1d-4124-b697-f735ef0084f0
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: cd4dd62d8b30e2041415e0b9be5682ce4b01d1f6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658988"
---
# <a name="flexible-failover-policy-for-automatic-failover-of-an-availability-group-sql-server"></a><span data-ttu-id="be2c5-102">Гибкая политика отработки отказа для автоматического перехода на другой ресурс группы доступности (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="be2c5-102">Flexible Failover Policy for Automatic Failover of an Availability Group (SQL Server)</span></span>
  <span data-ttu-id="be2c5-103">Гибкая политика отработки отказа обеспечивает детальный контроль над условиями, которые приводят к [автоматическому переходу на другой ресурс](failover-and-failover-modes-always-on-availability-groups.md) для группы доступности.</span><span class="sxs-lookup"><span data-stu-id="be2c5-103">A flexible failover policy provides granular control over the conditions that cause [automatic failover](failover-and-failover-modes-always-on-availability-groups.md) for an availability group.</span></span> <span data-ttu-id="be2c5-104">Изменяя условия отказа, которые инициируют автоматический переход на другой ресурс, и частоту проверки исправности, вы можете увеличить или уменьшить вероятность автоматического перехода на другой ресурс и добиться высокого уровня доступности соглашения об уровне обслуживания.</span><span class="sxs-lookup"><span data-stu-id="be2c5-104">By changing the failure conditions that trigger an automatic failover and the frequency of health checks, you can increase or decrease the likelihood of an automatic failover to support your SLA for high availability.</span></span>  
  
 <span data-ttu-id="be2c5-105">Гибкая политика отработки отказа группы доступности определяется уровнем условий сбоя и пороговым значением времени ожидания проверки работоспособности.</span><span class="sxs-lookup"><span data-stu-id="be2c5-105">The flexible failover policy of an availability group is defined by its failure-condition level and health-check timeout threshold.</span></span> <span data-ttu-id="be2c5-106">При обнаружении, что группа доступности превысила уровень условий сбоя или пороговое значение проверки времени ожидания работоспособности, DLL-ресурс группы доступности ответит WSFC-кластеру.</span><span class="sxs-lookup"><span data-stu-id="be2c5-106">On detecting that an availability group has exceeded its failure condition level or its health-check timeout threshold, the availability group's resource DLL responds back to the Windows Server Failover Clustering (WSFC) cluster.</span></span> <span data-ttu-id="be2c5-107">После этого WSFC-кластер инициирует автоматический переход на вторичную реплику.</span><span class="sxs-lookup"><span data-stu-id="be2c5-107">The WSFC cluster then initiates an automatic failover to the secondary replica.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="be2c5-108">Если в группе доступности превышен порог сбоя WSFC, то кластер WSFC не выполняет автоматический переход на другой ресурс для этой группы доступности.</span><span class="sxs-lookup"><span data-stu-id="be2c5-108">If an availability group exceeds its WSFC failure threshold, the WSFC cluster will not attempt an automatic failover for the availability group.</span></span> <span data-ttu-id="be2c5-109">Более того, группа ресурсов WSFC для группы доступности остается в состоянии сбоя, пока администратор кластера вручную не переведет сбойную группу ресурсов в режим «в сети» или пока администратор базы данных вручную не выполнит переход группы доступности на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="be2c5-109">Furthermore, the WSFC resource group of the availability group remains in a failed state until either the cluster administrator manually brings the failed resource group online or the database administrator performs a manual failover of the availability group.</span></span> <span data-ttu-id="be2c5-110">*Порог сбоя WSFC* определяется как максимальное число сбоев, которые могут произойти в группе доступности за заданный период времени.</span><span class="sxs-lookup"><span data-stu-id="be2c5-110">The *WSFC failure threshold* is defined as the maximum number of failures supported for the availability group during a given time period.</span></span> <span data-ttu-id="be2c5-111">По умолчанию используется период в шесть часов, а максимальное число сбоев за этот период по умолчанию равно *n*-1, где *n* — число узлов WSFC.</span><span class="sxs-lookup"><span data-stu-id="be2c5-111">The default time period is six hours, and the default value for the maximum number of failures during this period is *n*-1, where *n* is the number of WSFC nodes.</span></span> <span data-ttu-id="be2c5-112">Чтобы изменить пороговые значения сбоя для заданной группы доступности, используйте консоль диспетчера отработки отказа WSFC.</span><span class="sxs-lookup"><span data-stu-id="be2c5-112">To change the failure-threshold values for a given availability group, use the WSFC Failover Manager Console.</span></span>  
  
  
  
##  <a name="health-check-timeout-threshold"></a><a name="HCtimeout"></a> <span data-ttu-id="be2c5-113">Пороговое значение времени ожидания проверки работоспособности</span><span class="sxs-lookup"><span data-stu-id="be2c5-113">Health-Check Timeout Threshold</span></span>  
 <span data-ttu-id="be2c5-114">Библиотека ресурсов группы доступности в WSFC-кластере выполняет *проверку исправности* первичной реплики путем вызова хранимой процедуры [sp_server_diagnostics](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) для экземпляра SQL Server, на котором располагается первичная реплика.</span><span class="sxs-lookup"><span data-stu-id="be2c5-114">WSFC resource DLL of the availability group performs a *health check* of the primary replica by calling the [sp_server_diagnostics](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) stored procedure on the instance of SQL Server that hosts the primary replica.</span></span> <span data-ttu-id="be2c5-115">**sp_server_diagnostics** возвращает результаты с интервалом, равным 1/3 порогового значения времени ожидания при проверке работоспособности для группы доступности.</span><span class="sxs-lookup"><span data-stu-id="be2c5-115">**sp_server_diagnostics** returns results at an interval that equals 1/3 of the health-check timeout threshold for the availability group.</span></span> <span data-ttu-id="be2c5-116">Пороговое значение времени ожидания при проверке работоспособности по умолчанию составляет 30 секунд, то есть **sp_server_diagnostics** возвращает сведения с интервалом в 10 секунд.</span><span class="sxs-lookup"><span data-stu-id="be2c5-116">The default health-check timeout threshold is 30 seconds, which causes **sp_server_diagnostics** to return at a 10-second interval.</span></span> <span data-ttu-id="be2c5-117">Если **sp_server_diagnostics** работает медленно или не возвращает сведения, библиотека ресурсов ожидает, пока истечет полный интервал для описанного порогового значения, и только затем определяет, что первичная реплика не отвечает.</span><span class="sxs-lookup"><span data-stu-id="be2c5-117">If **sp_server_diagnostics** is slow or is not returning information, the resource DLL will wait for the full interval of the health-check timeout threshold before determining that the primary replica is unresponsive.</span></span> <span data-ttu-id="be2c5-118">Если первичная реплика не отвечает, инициируется автоматический переход на другой ресурс, если она поддерживается.</span><span class="sxs-lookup"><span data-stu-id="be2c5-118">If the primary replica is unresponsive, an automatic failover is initiated, if currently supported.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="be2c5-119">**sp_server_diagnostics** не выполняет проверку работоспособности на уровне базы данных.</span><span class="sxs-lookup"><span data-stu-id="be2c5-119">**sp_server_diagnostics** does not perform health checks at the database level.</span></span>  
  
##  <a name="failure-condition-level"></a><a name="FClevel"></a> <span data-ttu-id="be2c5-120">Уровень условий сбоя</span><span class="sxs-lookup"><span data-stu-id="be2c5-120">Failure-Condition Level</span></span>  
 <span data-ttu-id="be2c5-121">Уровень условий сбоя для группы доступности определяет, обеспечат ли диагностические данные и сведения о работоспособности, возвращенные командой **sp_server_diagnostics** , автоматический переход на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="be2c5-121">Whether the diagnostic data and health information returned by **sp_server_diagnostics** warrants an automatic failover depends on the failure-condition level of the availability group.</span></span> <span data-ttu-id="be2c5-122">*Уровень условия сбоя* определяет, какие условия сбоя инициируют автоматический переход на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="be2c5-122">The *failure-condition level* specifies what failure conditions trigger an automatic failover.</span></span> <span data-ttu-id="be2c5-123">Существует пять уровней условий сбоя, которые варьируются от наименее ограничительного (уровень 1) до наиболее ограничительного (уровень 5).</span><span class="sxs-lookup"><span data-stu-id="be2c5-123">There are five failure-condition levels, which range from the least restrictive (level one) to the most restrictive (level five).</span></span> <span data-ttu-id="be2c5-124">Заданный уровень включает в себя ограничения всех предыдущих уровней.</span><span class="sxs-lookup"><span data-stu-id="be2c5-124">A given level encompasses the less restrictive levels.</span></span> <span data-ttu-id="be2c5-125">Таким образом, наиболее строгий уровень 5 включает в себя менее строгие уровни ограничений с 1 по 4 и т. д.</span><span class="sxs-lookup"><span data-stu-id="be2c5-125">Thus, the strictest level, five, includes the four less restrictive conditions, and so forth.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="be2c5-126">Ни на одном из уровней условий сбоя не обнаружено поврежденных и подозрительных баз данных.</span><span class="sxs-lookup"><span data-stu-id="be2c5-126">Damaged databases and suspect databases are not detected by any failure-condition level.</span></span> <span data-ttu-id="be2c5-127">Следовательно, поврежденная или подозрительная база данных (из-за ошибки оборудования, повреждения данных или по другой причине) никогда не вызывает автоматического перехода на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="be2c5-127">Therefore, a database that is damaged or suspect (whether due to a hardware failure, data corruption, or other issue) never triggers an automatic failover.</span></span>  
  
 <span data-ttu-id="be2c5-128">В следующей таблице описываются условия сбоя, которые соответствуют каждому уровню.</span><span class="sxs-lookup"><span data-stu-id="be2c5-128">The following table describes the failure-conditions that corresponds to each level.</span></span>  
  
|<span data-ttu-id="be2c5-129">Level</span><span class="sxs-lookup"><span data-stu-id="be2c5-129">Level</span></span>|<span data-ttu-id="be2c5-130">Условия сбоя</span><span class="sxs-lookup"><span data-stu-id="be2c5-130">Failure Condition</span></span>|<span data-ttu-id="be2c5-131">Значение [!INCLUDE[tsql](../../../includes/tsql-md.md)]</span><span class="sxs-lookup"><span data-stu-id="be2c5-131">[!INCLUDE[tsql](../../../includes/tsql-md.md)] Value</span></span>|<span data-ttu-id="be2c5-132">Значение PowerShell</span><span class="sxs-lookup"><span data-stu-id="be2c5-132">PowerShell Value</span></span>|  
|-----------|-----------------------|------------------------------|----------------------|  
|<span data-ttu-id="be2c5-133">Один</span><span class="sxs-lookup"><span data-stu-id="be2c5-133">One</span></span>|<span data-ttu-id="be2c5-134">При остановке работы сервера.</span><span class="sxs-lookup"><span data-stu-id="be2c5-134">On server down.</span></span> <span data-ttu-id="be2c5-135">Это наименее ограничительный уровень.</span><span class="sxs-lookup"><span data-stu-id="be2c5-135">This is the least restrictive level.</span></span> <span data-ttu-id="be2c5-136">Указывает, что автоматический переход на другой ресурс инициируется при возникновении любой из следующих ситуаций:</span><span class="sxs-lookup"><span data-stu-id="be2c5-136">Specifies that an automatic failover is initiated when any of the following occurs:</span></span><br /><br /> <span data-ttu-id="be2c5-137">Служба [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] остановлена.</span><span class="sxs-lookup"><span data-stu-id="be2c5-137">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is down.</span></span><br /><br /> <span data-ttu-id="be2c5-138">Аренда группы доступности для подключения к кластеру WSFC истекла, поскольку от экземпляра сервера не было получено сообщение ACK.</span><span class="sxs-lookup"><span data-stu-id="be2c5-138">The lease of the availability group for connecting to the WSFC cluster expires because no ACK is received from the server instance.</span></span> <span data-ttu-id="be2c5-139">Дополнительные сведения см. в статье [Как это работает: время ожидания аренды AlwaysOn SQL Server](https://blogs.msdn.com/b/psssql/archive/2012/09/07/how-it-works-sql-server-alwayson-lease-timeout.aspx).</span><span class="sxs-lookup"><span data-stu-id="be2c5-139">For more information, see [How It Works: SQL Server AlwaysOn Lease Timeout](https://blogs.msdn.com/b/psssql/archive/2012/09/07/how-it-works-sql-server-alwayson-lease-timeout.aspx).</span></span>|<span data-ttu-id="be2c5-140">1</span><span class="sxs-lookup"><span data-stu-id="be2c5-140">1</span></span>|`OnServerDown`|  
|<span data-ttu-id="be2c5-141">Два</span><span class="sxs-lookup"><span data-stu-id="be2c5-141">Two</span></span>|<span data-ttu-id="be2c5-142">При отсутствии ответа от сервера.</span><span class="sxs-lookup"><span data-stu-id="be2c5-142">On server unresponsive.</span></span> <span data-ttu-id="be2c5-143">Указывает, что автоматический переход на другой ресурс инициируется при возникновении любой из следующих ситуаций:</span><span class="sxs-lookup"><span data-stu-id="be2c5-143">Specifies that an automatic failover is initiated when any of the following occurs:</span></span><br /><br /> <span data-ttu-id="be2c5-144">Экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не подключается к кластеру, а определяемый пользователем порог времени ожидания проверки исправности для группы доступности превышен.</span><span class="sxs-lookup"><span data-stu-id="be2c5-144">The instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not connect to cluster, and the user-specified health check timeout threshold of the availability group is exceeded.</span></span><br /><br /> <span data-ttu-id="be2c5-145">Реплика доступности находится в неисправном состоянии.</span><span class="sxs-lookup"><span data-stu-id="be2c5-145">The availability replica is in failed state.</span></span>|<span data-ttu-id="be2c5-146">2</span><span class="sxs-lookup"><span data-stu-id="be2c5-146">2</span></span>|`OnServerUnresponsive`|  
|<span data-ttu-id="be2c5-147">Три</span><span class="sxs-lookup"><span data-stu-id="be2c5-147">Three</span></span>|<span data-ttu-id="be2c5-148">В случае критической ошибки сервера.</span><span class="sxs-lookup"><span data-stu-id="be2c5-148">On critical server error.</span></span> <span data-ttu-id="be2c5-149">Указывает, что автоматический переход на другой ресурс инициируется в случае появления критических внутренних ошибок [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , таких как потерянные спин-блокировки, серьезные нарушения доступа для записи или формирование слишком больших дампов.</span><span class="sxs-lookup"><span data-stu-id="be2c5-149">Specifies that an automatic failover is initiated on critical [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] internal errors, such as orphaned spinlocks, serious write-access violations, or too much dumping.</span></span> <span data-ttu-id="be2c5-150">Это уровень, заданный по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be2c5-150">This is the default level.</span></span>|<span data-ttu-id="be2c5-151">3</span><span class="sxs-lookup"><span data-stu-id="be2c5-151">3</span></span>|`OnCriticalServerError`|  
|<span data-ttu-id="be2c5-152">Четыре</span><span class="sxs-lookup"><span data-stu-id="be2c5-152">Four</span></span>|<span data-ttu-id="be2c5-153">В случае ошибки сервера средней значимости.</span><span class="sxs-lookup"><span data-stu-id="be2c5-153">On moderate server error.</span></span> <span data-ttu-id="be2c5-154">Указывает, что автоматический переход на другой ресурс инициируется в случае появления умеренных внутренних ошибок [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , например устойчивое состояние нехватки памяти в пуле внутренних ресурсов [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="be2c5-154">Specifies that an automatic failover is initiated on moderate [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] internal errors, such as a persistent out-of-memory condition in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] internal resource pool.</span></span>|<span data-ttu-id="be2c5-155">4</span><span class="sxs-lookup"><span data-stu-id="be2c5-155">4</span></span>|`OnModerateServerError`|  
|<span data-ttu-id="be2c5-156">Пять</span><span class="sxs-lookup"><span data-stu-id="be2c5-156">Five</span></span>|<span data-ttu-id="be2c5-157">При любых подходящих условиях сбоя.</span><span class="sxs-lookup"><span data-stu-id="be2c5-157">On any qualified failure conditions.</span></span> <span data-ttu-id="be2c5-158">Это наиболее ограничительный уровень.</span><span class="sxs-lookup"><span data-stu-id="be2c5-158">This is the most restrictive level.</span></span> <span data-ttu-id="be2c5-159">Указывает, что автоматический переход на другой ресурс инициируется при любом удовлетворяющем условиям состоянии сбоя, включая:</span><span class="sxs-lookup"><span data-stu-id="be2c5-159">Specifies that an automatic failover is initiated on any qualified failure conditions, including:</span></span><br /><br /> <span data-ttu-id="be2c5-160">Исчерпание рабочих потоков SQL Engine.</span><span class="sxs-lookup"><span data-stu-id="be2c5-160">Exhaustion of SQL Engine worker-threads.</span></span><br /><br /> <span data-ttu-id="be2c5-161">Обнаружение неразрешимой взаимоблокировки.</span><span class="sxs-lookup"><span data-stu-id="be2c5-161">Detection of an unsolvable deadlock.</span></span>|<span data-ttu-id="be2c5-162">5</span><span class="sxs-lookup"><span data-stu-id="be2c5-162">5</span></span>|`OnAnyQualifiedFailureConditions`|  
  
> [!NOTE]  
>  <span data-ttu-id="be2c5-163">Отсутствие ответа экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на клиентские запросы не является существенным для групп доступности.</span><span class="sxs-lookup"><span data-stu-id="be2c5-163">Lack of response by an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to client requests is irrelevant to availability groups.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="be2c5-164">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="be2c5-164">Related Tasks</span></span>  
 <span data-ttu-id="be2c5-165">**To configure automatic failover**</span><span class="sxs-lookup"><span data-stu-id="be2c5-165">**To configure automatic failover**</span></span>  
  
-   <span data-ttu-id="be2c5-166">[Изменение режима доступности реплики доступности (SQL Server)](change-the-availability-mode-of-an-availability-replica-sql-server.md) (автоматический переход на другой ресурс требует использовать режим доступности с синхронной фиксацией)</span><span class="sxs-lookup"><span data-stu-id="be2c5-166">[Change the Availability Mode of an Availability Replica &#40;SQL Server&#41;](change-the-availability-mode-of-an-availability-replica-sql-server.md) (automatic failover requires synchronous-commit availability mode)</span></span>  
  
-   [<span data-ttu-id="be2c5-167">Смена режима отработки отказа для реплики доступности (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="be2c5-167">Change the Failover Mode of an Availability Replica &#40;SQL Server&#41;</span></span>](change-the-failover-mode-of-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="be2c5-168">Настройка гибкой политики отработки отказа для обеспечения контроля над автоматическим переходом на другой ресурс (группы доступности AlwaysOn)</span><span class="sxs-lookup"><span data-stu-id="be2c5-168">Configure the Flexible Failover Policy to Control Conditions for Automatic Failover (AlwaysOn Availability Groups)</span></span>](configure-flexible-automatic-failover-policy.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="be2c5-169">См. также</span><span class="sxs-lookup"><span data-stu-id="be2c5-169">Related Content</span></span>  
  
-   [<span data-ttu-id="be2c5-170">How It Works: SQL Server AlwaysOn Lease Timeout (Как это работает: время ожидания аренды AlwaysOn SQL Server)</span><span class="sxs-lookup"><span data-stu-id="be2c5-170">How It Works: SQL Server AlwaysOn Lease Timeout</span></span>](https://blogs.msdn.com/b/psssql/archive/2012/09/07/how-it-works-sql-server-alwayson-lease-timeout.aspx)  
  
## <a name="see-also"></a><span data-ttu-id="be2c5-171">См. также:</span><span class="sxs-lookup"><span data-stu-id="be2c5-171">See Also</span></span>  
 <span data-ttu-id="be2c5-172">[Общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="be2c5-172">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="be2c5-173">[Режимы доступности (группы доступности AlwaysOn)](availability-modes-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="be2c5-173">[Availability Modes (AlwaysOn Availability Groups)](availability-modes-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="be2c5-174">[Отказоустойчивость и режимы отработки отказа &#40;группы доступности AlwaysOn&#41;](failover-and-failover-modes-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="be2c5-174">[Failover and Failover Modes &#40;AlwaysOn Availability Groups&#41;](failover-and-failover-modes-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="be2c5-175">[Отказоустойчивая кластеризация Windows Server (WSFC) с SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="be2c5-175">[Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md) </span></span>  
 <span data-ttu-id="be2c5-176">[Политика отработки отказа для экземпляров откзоустойчивого кластера](../../../sql-server/failover-clusters/windows/failover-policy-for-failover-cluster-instances.md) </span><span class="sxs-lookup"><span data-stu-id="be2c5-176">[Failover Policy for Failover Cluster Instances](../../../sql-server/failover-clusters/windows/failover-policy-for-failover-cluster-instances.md) </span></span>  
 [<span data-ttu-id="be2c5-177">sp_server_diagnostics (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="be2c5-177">sp_server_diagnostics &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql)  
  
  

---
title: Общие сведения о командлетах PowerShell для группы доступности AlwaysOn (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], PowerShell cmdlets
- Availability Groups [SQL Server], about
- PowerShell [SQL Server], cmdlets
ms.assetid: b3fef0d5-b6d7-4386-a0f0-d06c165ad4de
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b6861abb3358df5e8c223d387b82e22de0f2a9d5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87656551"
---
# <a name="overview-of-powershell-cmdlets-for-alwayson-availability-groups-sql-server"></a><span data-ttu-id="42185-102">Обзор командлетов PowerShell для групп доступности AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="42185-102">Overview of PowerShell Cmdlets for AlwaysOn Availability Groups (SQL Server)</span></span>
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="42185-103">PowerShell ― это оболочка командной строки для задач и язык скриптов, разработанный специально для администрирования систем.</span><span class="sxs-lookup"><span data-stu-id="42185-103">PowerShell is a task-based command-line shell and scripting language designed especially for system administration.</span></span> [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="42185-104">содержит набор командлетов PowerShell для [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] , которые позволяют развертывать, управлять и отслеживать группы доступности, реплики доступности и базы данных доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-104">provides a set of PowerShell cmdlets in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] that enable you to deploy, manage, and monitor availability groups, availability replicas, and availability databases.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="42185-105">Командлет PowerShell может завершиться после успешного инициирования действия.</span><span class="sxs-lookup"><span data-stu-id="42185-105">A PowerShell cmdlet can complete by successfully initiating an action.</span></span> <span data-ttu-id="42185-106">Это не означает, что предписанное действие, например отработка отказа для группы доступности, завершено.</span><span class="sxs-lookup"><span data-stu-id="42185-106">This does not indicate that the intended work, such as the fail over of an availability group, has completed.</span></span> <span data-ttu-id="42185-107">При создании скрипта для некой последовательности действий может оказаться необходимым проверить состояние действий и подождать из завершения.</span><span class="sxs-lookup"><span data-stu-id="42185-107">When scripting a sequence of actions, you might have to check the status of actions, and wait for them to complete.</span></span>  
  
 <span data-ttu-id="42185-108">В этой теме описаны командлеты для следующих наборов задач.</span><span class="sxs-lookup"><span data-stu-id="42185-108">This topic introduces the cmdlets for the following sets of tasks:</span></span>  
  
-   [<span data-ttu-id="42185-109">Настройка экземпляра сервера для группы доступности AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="42185-109">Configuring a server instance for AlwaysOn Availability Groups</span></span>](#ConfiguringServerInstance)  
  
-   [<span data-ttu-id="42185-110">Резервное копирование и восстановление баз данных и журналов транзакций</span><span class="sxs-lookup"><span data-stu-id="42185-110">Backing up and restoring databases and transaction logs</span></span>](#BnRcmdlets)  
  
-   [<span data-ttu-id="42185-111">Создание группы доступности и управление ею</span><span class="sxs-lookup"><span data-stu-id="42185-111">Creating and managing an availability group</span></span>](#DeployManageAGs)  
  
-   [<span data-ttu-id="42185-112">Создание прослушивателя группы доступности и управление им</span><span class="sxs-lookup"><span data-stu-id="42185-112">Creating and managing an availability group listener</span></span>](#AGlisteners)  
  
-   [<span data-ttu-id="42185-113">Создание реплики доступности и управление ею</span><span class="sxs-lookup"><span data-stu-id="42185-113">Creating and managing an availability replica</span></span>](#DeployManageARs)  
  
-   [<span data-ttu-id="42185-114">Добавление базы данных доступности и управление ею</span><span class="sxs-lookup"><span data-stu-id="42185-114">Adding and managing an availability database</span></span>](#DeployManageDbs)  
  
-   [<span data-ttu-id="42185-115">Отслеживание работоспособности группы доступности</span><span class="sxs-lookup"><span data-stu-id="42185-115">Monitoring availability group health</span></span>](#MonitorTblshtAGs)  
  
> [!NOTE]  
>  <span data-ttu-id="42185-116">Список разделов [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] электронной документации по, в которых описывается использование командлетов для выполнения [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] задач, см. в разделе "связанные задачи" статьи [общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="42185-116">For a list of topics in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] Books Online that describe how to use cmdlets to perform [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] tasks, see the "Related Tasks" section of [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span></span>  
  
##  <a name="configuring-a-server-instance-for-alwayson-availability-groups"></a><a name="ConfiguringServerInstance"></a><span data-ttu-id="42185-117">Настройка экземпляра сервера для группы доступности AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="42185-117">Configuring a Server Instance for AlwaysOn Availability Groups</span></span>  
  
|<span data-ttu-id="42185-118">Командлеты</span><span class="sxs-lookup"><span data-stu-id="42185-118">Cmdlets</span></span>|<span data-ttu-id="42185-119">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-119">Description</span></span>|<span data-ttu-id="42185-120">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-120">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`Disable-SqlAlwaysOn`|<span data-ttu-id="42185-121">Отключает компонент [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] для экземпляра сервера.</span><span class="sxs-lookup"><span data-stu-id="42185-121">Disables the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on a server instance.</span></span>|<span data-ttu-id="42185-122">Экземпляр сервера, указанный параметром `Path`, `InputObject` или параметром `Name`.</span><span class="sxs-lookup"><span data-stu-id="42185-122">The server instance that is specified by the `Path`, `InputObject`, or `Name` parameter.</span></span> <span data-ttu-id="42185-123">(Необходим выпуск [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с поддержкой [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].)</span><span class="sxs-lookup"><span data-stu-id="42185-123">(Must be an edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].)</span></span>|  
|`Enable-SqlAlwaysOn`|<span data-ttu-id="42185-124">Включает [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] в экземпляре [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] , который поддерживает компонент [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="42185-124">Enables [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on an instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] that supports the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature.</span></span> <span data-ttu-id="42185-125">Сведения о поддержке [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] см. в разделе [Предварительные требования, ограничения и рекомендации для группы доступности AlwaysOn &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="42185-125">For information about support for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], see [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span></span>|<span data-ttu-id="42185-126">Любой выпуск [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с поддержкой [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="42185-126">Any edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>|  
|`New-SqlHadrEndPoint`|<span data-ttu-id="42185-127">Создает новую конечную точку зеркального отображения базы данных на экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="42185-127">Creates a new database mirroring endpoint on a server instance.</span></span> <span data-ttu-id="42185-128">Эта конечная точка необходима для перемещения данных между базой данных-источником и базой данных-получателем.</span><span class="sxs-lookup"><span data-stu-id="42185-128">This endpoint is required for data movement between primary and secondary databases.</span></span>|<span data-ttu-id="42185-129">Любой экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="42185-129">Any instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span></span>|  
|`Set-SqlHadrEndpoint`|<span data-ttu-id="42185-130">Изменяет свойства существующей конечной точки зеркального отображения базы данных, например имя, состояние и свойства проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="42185-130">Changes the properties of an existing database mirroring endpoint, such as the name, state, or authentication properties.</span></span>|<span data-ttu-id="42185-131">Экземпляр сервера, который поддерживает [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] и в котором отсутствует конечная точка зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="42185-131">A server instance that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and lacks a database mirroring endpoint</span></span>|  
  
##  <a name="backing-up-and-restoring-databases-and-transaction-logs"></a><a name="BnRcmdlets"></a> <span data-ttu-id="42185-132">Резервное копирование и восстановление баз данных и журналов транзакций</span><span class="sxs-lookup"><span data-stu-id="42185-132">Backing Up and Restoring Databases and Transaction Logs</span></span>  
  
|<span data-ttu-id="42185-133">Командлеты</span><span class="sxs-lookup"><span data-stu-id="42185-133">Cmdlets</span></span>|<span data-ttu-id="42185-134">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-134">Description</span></span>|<span data-ttu-id="42185-135">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-135">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`Backup-SqlDatabase`|<span data-ttu-id="42185-136">Создает резервную копию данных или журнала.</span><span class="sxs-lookup"><span data-stu-id="42185-136">Creates a data or log backup.</span></span>|<span data-ttu-id="42185-137">Любая база данных, находящаяся в режиме «в сети» (для [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]база данных на том экземпляре сервера, на котором размещена первичная реплика)</span><span class="sxs-lookup"><span data-stu-id="42185-137">Any online database (for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], a database on the server instance that hosts the primary replica)</span></span>|  
|`Restore-SqlDatabase`|<span data-ttu-id="42185-138">Восстанавливает резервную копию.</span><span class="sxs-lookup"><span data-stu-id="42185-138">Restores a backup.</span></span>|<span data-ttu-id="42185-139">Любой экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (для [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]экземпляр сервера, на котором размещена вторичная реплика)</span><span class="sxs-lookup"><span data-stu-id="42185-139">Any instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], a server instance that hosts a secondary replica)</span></span><br /><br /> <span data-ttu-id="42185-140">**&#42;&#42; важно &#42;&#42;** При подготовке базы данных-получателя необходимо использовать `-NoRecovery` параметр в каждой `Restore-SqlDatabase` команде.</span><span class="sxs-lookup"><span data-stu-id="42185-140">**&#42;&#42; Important &#42;&#42;** When preparing a secondary database, you must use the `-NoRecovery` parameter in every `Restore-SqlDatabase` command.</span></span>|  
  
 <span data-ttu-id="42185-141">Дополнительные сведения об использовании этих командлетов для подготовки базы данных-получателя см. в разделе [Подготовка базы данных-получателя для присоединения к группе доступности (SQL Server)](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="42185-141">For information about using these cmdlets to prepare a secondary database, see [Manually Prepare a Secondary Database for an Availability Group &#40;SQL Server&#41;](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md).</span></span>  
  
##  <a name="creating-and-managing-an-availability-group"></a><a name="DeployManageAGs"></a> <span data-ttu-id="42185-142">Creating and Managing an Availability Group</span><span class="sxs-lookup"><span data-stu-id="42185-142">Creating and Managing an Availability Group</span></span>  
  
|<span data-ttu-id="42185-143">Командлеты</span><span class="sxs-lookup"><span data-stu-id="42185-143">Cmdlets</span></span>|<span data-ttu-id="42185-144">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-144">Description</span></span>|<span data-ttu-id="42185-145">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-145">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`New-SqlAvailabilityGroup`|<span data-ttu-id="42185-146">Создает новую группу доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-146">Creates a new availability group.</span></span>|<span data-ttu-id="42185-147">Экземпляр сервера, в котором будет размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-147">Server instance to host primary replica</span></span>|  
|`Remove-SqlAvailabilityGroup`|<span data-ttu-id="42185-148">Удаляет группу доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-148">Deletes availability group.</span></span>|<span data-ttu-id="42185-149">Экземпляр сервера с включенным компонентом HADR</span><span class="sxs-lookup"><span data-stu-id="42185-149">HADR-enabled server instance</span></span>|  
|`Set-SqlAvailabilityGroup`|<span data-ttu-id="42185-150">Устанавливает свойства группы доступности; включение и отключение режимов «в сети» и «вне сети» группы доступности</span><span class="sxs-lookup"><span data-stu-id="42185-150">Sets the properties of an availability group; take an availability group online/offline</span></span>|<span data-ttu-id="42185-151">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-151">Server instance that hosts primary replica</span></span>|  
|`Switch-SqlAvailabilityGroup`|<span data-ttu-id="42185-152">Запускает одну из следующих форм отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="42185-152">Initiates one of the following forms of failover:</span></span><br /><br /> <span data-ttu-id="42185-153">Принудительная отработка отказа для группы доступности (возможна потеря данных).</span><span class="sxs-lookup"><span data-stu-id="42185-153">A forced failover of an availability group (with possible data loss).</span></span><br /><br /> <span data-ttu-id="42185-154">Переход на другой ресурс группы доступности вручную.</span><span class="sxs-lookup"><span data-stu-id="42185-154">A manual failover of an availability group.</span></span>|<span data-ttu-id="42185-155">Экземпляр сервера, на котором размещается целевая вторичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-155">Server instance that hosts target secondary replica</span></span>|  
  
##  <a name="creating-and-managing-an-availability-group-listener"></a><a name="AGlisteners"></a> <span data-ttu-id="42185-156">Creating and Managing an Availability Group Listener</span><span class="sxs-lookup"><span data-stu-id="42185-156">Creating and Managing an Availability Group Listener</span></span>  
  
|<span data-ttu-id="42185-157">Командлет</span><span class="sxs-lookup"><span data-stu-id="42185-157">Cmdlet</span></span>|<span data-ttu-id="42185-158">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-158">Description</span></span>|<span data-ttu-id="42185-159">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-159">Supported on</span></span>|  
|------------|-----------------|------------------|  
|`New-SqlAvailabilityGroupListener`|<span data-ttu-id="42185-160">Создает прослушиватель группы доступности и привязывает его к существующей группе доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-160">Creates a new availability group listener and attaches it to an existing availability group.</span></span>|<span data-ttu-id="42185-161">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-161">Server instance that hosts primary replica</span></span>|  
|`Set-SqlAvailabilityGroupListener`|<span data-ttu-id="42185-162">Изменяет порт существующего прослушивателя группы доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-162">Modifies the port setting on an existing availability group listener.</span></span>|<span data-ttu-id="42185-163">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-163">Server instance that hosts primary replica</span></span>|  
|`Add-SqlAvailabilityGroupListenerStaticIp`|<span data-ttu-id="42185-164">Добавляет статический IP-адрес в конфигурацию существующего прослушивателя группы доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-164">Adds a static IP address to an existing availability group listener configuration.</span></span> <span data-ttu-id="42185-165">IP-адрес может быть адресом IPv4 с подсетью или адресом IPv6.</span><span class="sxs-lookup"><span data-stu-id="42185-165">The IP address can be an IPv4 address with subnet, or an IPv6 address.</span></span>|<span data-ttu-id="42185-166">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-166">Server instance that hosts primary replica</span></span>|  
  
##  <a name="creating-and-managing-an-availability-replica"></a><a name="DeployManageARs"></a> <span data-ttu-id="42185-167">Creating and Managing an Availability Replica</span><span class="sxs-lookup"><span data-stu-id="42185-167">Creating and Managing an Availability Replica</span></span>  
  
|<span data-ttu-id="42185-168">Командлеты</span><span class="sxs-lookup"><span data-stu-id="42185-168">Cmdlets</span></span>|<span data-ttu-id="42185-169">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-169">Description</span></span>|<span data-ttu-id="42185-170">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-170">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|<span data-ttu-id="42185-171">**New-SqlAvailabilityReplica**</span><span class="sxs-lookup"><span data-stu-id="42185-171">**New-SqlAvailabilityReplica**</span></span>|<span data-ttu-id="42185-172">Создает новую реплику доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-172">Creates a new availability replica.</span></span> <span data-ttu-id="42185-173">Вы можете использовать параметр `-AsTemplate` для создания в памяти объекта реплики доступности для каждой новой реплики доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-173">You can Use the `-AsTemplate` parameter to create an in-memory availability-replica object for each new availability replica.</span></span>|<span data-ttu-id="42185-174">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-174">Server instance that hosts primary replica</span></span>|  
|`Join-SqlAvailabilityGroup`|<span data-ttu-id="42185-175">Присоединяет вторичную реплику к группе доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-175">Joins a secondary replica to the availability group.</span></span>|<span data-ttu-id="42185-176">Экземпляр сервера, в котором размещена вторичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-176">Server instance that hosts secondary replica</span></span>|  
|<span data-ttu-id="42185-177">**Remove-SqlAvailabilityReplica**</span><span class="sxs-lookup"><span data-stu-id="42185-177">**Remove-SqlAvailabilityReplica**</span></span>|<span data-ttu-id="42185-178">Удаляет реплику доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-178">Deletes an availability replica.</span></span>|<span data-ttu-id="42185-179">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-179">Server instance that hosts primary replica</span></span>|  
|`Set-SqlAvailabilityReplica`|<span data-ttu-id="42185-180">Устанавливает свойства реплики доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-180">Sets the properties of an availability replica.</span></span>|<span data-ttu-id="42185-181">Экземпляр сервера, в котором размещена первичная реплика</span><span class="sxs-lookup"><span data-stu-id="42185-181">Server instance that hosts primary replica</span></span>|  
  
##  <a name="adding-and-managing-an-availability-database"></a><a name="DeployManageDbs"></a> <span data-ttu-id="42185-182">Adding and Managing an Availability Database</span><span class="sxs-lookup"><span data-stu-id="42185-182">Adding and Managing an Availability Database</span></span>  
  
|<span data-ttu-id="42185-183">Командлеты</span><span class="sxs-lookup"><span data-stu-id="42185-183">Cmdlets</span></span>|<span data-ttu-id="42185-184">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-184">Description</span></span>|<span data-ttu-id="42185-185">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-185">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|<span data-ttu-id="42185-186">**Add-SqlAvailabilityDatabase**</span><span class="sxs-lookup"><span data-stu-id="42185-186">**Add-SqlAvailabilityDatabase**</span></span>|<span data-ttu-id="42185-187">Добавляет базу данных в группу доступности на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="42185-187">On the primary replica, adds a database to an availability group.</span></span><br /><br /> <span data-ttu-id="42185-188">Присоединяет вторичную базу данных к группе доступности на вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="42185-188">On a secondary replica, joins a secondary database to an availability group.</span></span>|<span data-ttu-id="42185-189">Любой экземпляр сервера, на котором размещается реплика доступности (поведение отличается для первичных и вторичных реплик)</span><span class="sxs-lookup"><span data-stu-id="42185-189">Any server instance that hosts an availability replica (behavior differs for primary and secondary replicas)</span></span>|  
|<span data-ttu-id="42185-190">**Remove-SqlAvailabilityDatabase**</span><span class="sxs-lookup"><span data-stu-id="42185-190">**Remove-SqlAvailabilityDatabase**</span></span>|<span data-ttu-id="42185-191">Удаляет базу данных из группы доступности на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="42185-191">On the primary replica, removes the database from the availability group.</span></span><br /><br /> <span data-ttu-id="42185-192">Удаляет локальную базу данных-получатель из локальной вторичной реплики на вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="42185-192">On a secondary replica, removes the local secondary database from the local secondary replica.</span></span>|<span data-ttu-id="42185-193">Любой экземпляр сервера, на котором размещается реплика доступности (поведение отличается для первичных и вторичных реплик)</span><span class="sxs-lookup"><span data-stu-id="42185-193">Any server instance that hosts an availability replica (behavior differs for primary and secondary replicas)</span></span>|  
|`Resume-SqlAvailabilityDatabase`|<span data-ttu-id="42185-194">Возобновляет перемещение данных для приостановленной базы данных доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-194">Resumes the data movement for a suspended availability database.</span></span>|<span data-ttu-id="42185-195">Экземпляр сервера, на котором была приостановлена база данных.</span><span class="sxs-lookup"><span data-stu-id="42185-195">The server instance on which the database was suspended.</span></span>|  
|`Suspend-SqlAvailabilityDatabase`|<span data-ttu-id="42185-196">Приостанавливает перемещение данных в любой базе данных доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-196">Suspends the data movement for an availability database.</span></span>|<span data-ttu-id="42185-197">Любой экземпляр сервера, на котором размещена реплика доступности.</span><span class="sxs-lookup"><span data-stu-id="42185-197">Any server instance that hosts an availability replica.</span></span>|  
  
##  <a name="monitoring-availability-group-health"></a><a name="MonitorTblshtAGs"></a> <span data-ttu-id="42185-198">Monitoring Availability Group Health</span><span class="sxs-lookup"><span data-stu-id="42185-198">Monitoring Availability Group Health</span></span>  
 <span data-ttu-id="42185-199">Следующие командлеты [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] позволяют отслеживать работоспособность группы доступности, ее реплик и баз данных.</span><span class="sxs-lookup"><span data-stu-id="42185-199">The following [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cmdlets enable you to monitor the health of an availability group and its replicas and databases.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="42185-200">Для выполнения этих командлетов необходимо иметь разрешения CONNECT, VIEW SERVER STATE и VIEW ANY DEFINITION.</span><span class="sxs-lookup"><span data-stu-id="42185-200">You must have CONNECT, VIEW SERVER STATE, and VIEW ANY DEFINITION permissions to execute these cmdlets.</span></span>  
  
|<span data-ttu-id="42185-201">Командлет</span><span class="sxs-lookup"><span data-stu-id="42185-201">Cmdlet</span></span>|<span data-ttu-id="42185-202">Описание</span><span class="sxs-lookup"><span data-stu-id="42185-202">Description</span></span>|<span data-ttu-id="42185-203">Поддерживается на</span><span class="sxs-lookup"><span data-stu-id="42185-203">Supported on</span></span>|  
|------------|-----------------|------------------|  
|`Test-SqlAvailabilityGroup`|<span data-ttu-id="42185-204">Оценивает работоспособность группы доступности при помощи оценки состояния политик управления SQL Server.</span><span class="sxs-lookup"><span data-stu-id="42185-204">Assesses the health of an availability group by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="42185-205">Любой экземпляр сервера, на котором размещена реплика доступности.\*</span><span class="sxs-lookup"><span data-stu-id="42185-205">Any server instance that hosts an availability replica.\*</span></span>|  
|`Test-SqlAvailabilityReplica`|<span data-ttu-id="42185-206">Оценивает работоспособность реплик доступности при помощи оценки состояния политик управления SQL Server.</span><span class="sxs-lookup"><span data-stu-id="42185-206">Assesses the health of availability replicas by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="42185-207">Любой экземпляр сервера, на котором размещена реплика доступности.\*</span><span class="sxs-lookup"><span data-stu-id="42185-207">Any server instance that hosts an availability replica.\*</span></span>|  
|`Test-SqlDatabaseReplicaState`|<span data-ttu-id="42185-208">Оценивает работоспособность базы данных доступности на всех присоединенных репликах доступности при помощи оценки состояния политик управления SQL Server.</span><span class="sxs-lookup"><span data-stu-id="42185-208">Assesses the health of an availability database on all joined availability replicas by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="42185-209">Любой экземпляр сервера, на котором размещена реплика доступности.\*</span><span class="sxs-lookup"><span data-stu-id="42185-209">Any server instance that hosts an availability replica.\*</span></span>|  
  
 <span data-ttu-id="42185-210">\* Чтобы просмотреть сведения обо всех репликах доступности в группе доступности, используйте экземпляр сервера, на котором размещена первичная реплика.</span><span class="sxs-lookup"><span data-stu-id="42185-210">\*To view information about all of the availability replicas in an availability group, use to the server instance that hosts the primary replica.</span></span>  
  
 <span data-ttu-id="42185-211">Дополнительные сведения см. в статье [Использование политик AlwaysOn для просмотра работоспособности группы доступности &#40;SQL Server&#41;](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="42185-211">For more information, see [Use AlwaysOn Policies to View the Health of an Availability Group &#40;SQL Server&#41;](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="42185-212">См. также:</span><span class="sxs-lookup"><span data-stu-id="42185-212">See Also</span></span>  
 <span data-ttu-id="42185-213">[Общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="42185-213">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="42185-214">Получение справок по SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="42185-214">Get Help SQL Server PowerShell</span></span>](../../../powershell/sql-server-powershell.md)  
  
  

---
title: 'Активные базы данных-получатели: доступные для чтения вторичные реплики (Always On группы доступности) | Документация Майкрософт'
ms.custom: ''
ms.date: 10/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- connection access to availability replicas
- Availability Groups [SQL Server], availability replicas
- Availability Groups [SQL Server], readable secondary replicas
- active secondary replicas [SQL Server], read-only access to
- readable secondary replicas
- Availability Groups [SQL Server], active secondary replicas
ms.assetid: 78f3f81a-066a-4fff-b023-7725ff874fdf
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8b85704b8110eb84ea6f4c33dfa79694112c2328
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669120"
---
# <a name="active-secondaries-readable-secondary-replicas-always-on-availability-groups"></a><span data-ttu-id="08662-102">Активные вторичные реплики. Доступ только для чтения к вторичным репликам (группы доступности AlwaysOn)</span><span class="sxs-lookup"><span data-stu-id="08662-102">Active Secondaries: Readable Secondary Replicas (Always On Availability Groups)</span></span>
  <span data-ttu-id="08662-103">Возможности [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] по активному доступу к вторичным репликам включают поддержку доступа только для чтения к одной или нескольким вторичным репликам (*доступным для чтения вторичным репликам*).</span><span class="sxs-lookup"><span data-stu-id="08662-103">The [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] active secondary capabilities include support for read-only access to one or more secondary replicas (*readable secondary replicas*).</span></span> <span data-ttu-id="08662-104">Доступная для чтения вторичная реплика разрешает доступ только для чтения ко всем своим базам данных-получателям.</span><span class="sxs-lookup"><span data-stu-id="08662-104">A readable secondary replica allows read-only access to all its secondary databases.</span></span> <span data-ttu-id="08662-105">Однако доступные для чтения базы данных-получатели не переводятся в режим доступа только для чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-105">However, readable secondary databases are not set to read-only.</span></span> <span data-ttu-id="08662-106">Они являются динамическими.</span><span class="sxs-lookup"><span data-stu-id="08662-106">They are dynamic.</span></span> <span data-ttu-id="08662-107">Определенная база данных-получатель изменяется по мере того, как к ней применяются изменения, вносимые в данные базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="08662-107">A given secondary database changes as changes on the corresponding primary database are applied to the secondary database.</span></span> <span data-ttu-id="08662-108">Для большинства вторичных реплик данные, в том числе оптимизированные для памяти устойчивые таблицы, вносятся во вторичную базу данных почти в реальном времени.</span><span class="sxs-lookup"><span data-stu-id="08662-108">For a typical secondary replica, the data, including durable memory optimized tables, in the secondary databases is in near real time.</span></span> <span data-ttu-id="08662-109">Более того, полнотекстовые индексы синхронизируются с базами данных-получателями.</span><span class="sxs-lookup"><span data-stu-id="08662-109">Furthermore, full-text indexes are synchronized with the secondary databases.</span></span> <span data-ttu-id="08662-110">Во многих случаях задержка данных между базой данных-источником и соответствующей базой данных-получателем находится в пределах нескольких секунд.</span><span class="sxs-lookup"><span data-stu-id="08662-110">In many circumstances, data latency between a primary database and the corresponding secondary database is only a few seconds.</span></span>  
  
 <span data-ttu-id="08662-111">Параметры безопасности, которые встречаются в базах данных-источниках, сохраняются в базах данных-получателях.</span><span class="sxs-lookup"><span data-stu-id="08662-111">Security settings that occur in the primary databases are persisted to the secondary databases.</span></span> <span data-ttu-id="08662-112">К ним относятся пользователи, роли баз данных и роли приложений, а также соответствующие разрешения и прозрачное шифрование данных, если оно включено в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="08662-112">This includes users, database roles, and applications roles together with their respective permissions and transparent data encryption (TDE), if enabled on the primary database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="08662-113">Хотя в базы данных-получатели нельзя записывать данные, их можно записывать в базы данных, предназначенные для чтения и записи на экземпляре сервера, содержащем вторичную реплику, в том числе в пользовательские и системные базы данных, например в базу данных **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="08662-113">Though you cannot write data to secondary databases, you can write to read-write databases on the server instance that hosts the secondary replica, including user databases and system databases such as **tempdb**.</span></span>  
  
 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="08662-114">также поддерживает маршрутизацию запросов соединения с намерением чтения к доступной для чтения вторичной реплике (*маршрутизация только для чтения*).</span><span class="sxs-lookup"><span data-stu-id="08662-114">also supports the re-routing of read-intent connection requests to a readable secondary replica (*read-only routing*).</span></span> <span data-ttu-id="08662-115">Дополнительные сведения см. в статье [Соединение с помощью прослушивателя со вторичной репликой только для чтения (маршрутизация только для чтения)](../../listeners-client-connectivity-application-failover.md#ConnectToSecondary).</span><span class="sxs-lookup"><span data-stu-id="08662-115">For information about read-only routing, see [Using a Listener to Connect to a Read-Only Secondary Replica (Read-Only Routing)](../../listeners-client-connectivity-application-failover.md#ConnectToSecondary).</span></span>  
  
 
  
##  <a name="benefits"></a><a name="bkmk_Benefits"></a> <span data-ttu-id="08662-116">Преимущества</span><span class="sxs-lookup"><span data-stu-id="08662-116">Benefits</span></span>  
 <span data-ttu-id="08662-117">Направление подключений «только для чтения» к доступным для чтения вторичным репликам обладает следующими преимуществами:</span><span class="sxs-lookup"><span data-stu-id="08662-117">Directing read-only connections to readable secondary replicas provides the following benefits:</span></span>  
  
-   <span data-ttu-id="08662-118">Перераспределяет нагрузку, вызываемую некритическими рабочими процессами, с основой реплики, ресурсы которой высвобождаются для критически важных нагрузок.</span><span class="sxs-lookup"><span data-stu-id="08662-118">Offloads your secondary read-only workloads from your primary replica, which conserves its resources for your mission critical workloads.</span></span> <span data-ttu-id="08662-119">Если на систему возлагается рабочая нагрузка критической важности, не терпящая задержек, для нее следует использовать основную реплику.</span><span class="sxs-lookup"><span data-stu-id="08662-119">If you have mission critical read-workload or the workload that cannot tolerate latency, you should run it on the primary.</span></span>  
  
-   <span data-ttu-id="08662-120">Это позволяет повысить окупаемость систем со вторичными репликами, предназначенными только для чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-120">Improves your return on investment for the systems that host readable secondary replicas.</span></span>  
  
 <span data-ttu-id="08662-121">Кроме того, доступные для чтения вторичные реплики обеспечивают надежность операций чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-121">In addition, readable secondaries provide robust support for read-only operations, as follows:</span></span>  
  
-   <span data-ttu-id="08662-122">Автоматические временные данные статистики во вторичной базе данных для чтения оптимизируют запросы только на чтение для дисковых таблиц.</span><span class="sxs-lookup"><span data-stu-id="08662-122">Automatic temporary statistics on readable secondary database optimize read-only queries on disk-based tables.</span></span> <span data-ttu-id="08662-123">Для таблиц, оптимизированных для памяти, отсутствующая статистика создается автоматически.</span><span class="sxs-lookup"><span data-stu-id="08662-123">For memory-optimized tables, the missing statistics are created automatically.</span></span> <span data-ttu-id="08662-124">Однако устаревшие статистические данные не обновляются автоматически.</span><span class="sxs-lookup"><span data-stu-id="08662-124">However, there is no auto-update of stale statistics.</span></span> <span data-ttu-id="08662-125">Статистику на первичной реплике будет необходимо обновить вручную.</span><span class="sxs-lookup"><span data-stu-id="08662-125">You will need to manually update the statistics on the primary replica.</span></span> <span data-ttu-id="08662-126">Дополнительные сведения см. в разделе [Статистика для баз данных с доступом только для чтения](#Read-OnlyStats)далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="08662-126">For more information, see [Statistics for Read-Only Access Databases](#Read-OnlyStats), later in this topic.</span></span>  
  
-   <span data-ttu-id="08662-127">Рабочие нагрузки только на чтение для дисковых таблиц используют систему управления версиями строк для удаления состязаний блокировок в базах данных-получателях.</span><span class="sxs-lookup"><span data-stu-id="08662-127">Read-only workloads for disk-based tables use row versioning to remove blocking contention on the secondary databases.</span></span> <span data-ttu-id="08662-128">Все запросы, выполняемые к базе данных-получателю, автоматически сопоставляются с уровнем транзакций изоляции моментального снимка баз данных, даже если другие уровни изоляции транзакций заданы явно.</span><span class="sxs-lookup"><span data-stu-id="08662-128">All queries that run against the secondary databases are automatically mapped to snapshot isolation transaction level, even when other transaction isolation levels are explicitly set.</span></span> <span data-ttu-id="08662-129">Кроме того, все указания блокировки пропускаются.</span><span class="sxs-lookup"><span data-stu-id="08662-129">Also, all locking hints are ignored.</span></span> <span data-ttu-id="08662-130">Это позволяет исключить конфликт между чтением и записью.</span><span class="sxs-lookup"><span data-stu-id="08662-130">This eliminates reader/writer contention.</span></span>  
  
-   <span data-ttu-id="08662-131">Рабочие нагрузки только на чтение для устойчивых таблиц, оптимизированных для памяти, выполняют доступ к данным точно таким же способом, как и при доступе к базе данных-источнику, используя скомпилированные в собственном коде хранимые процедуры или совместимость SQL с теми же ограничениями уровня изоляции транзакций.</span><span class="sxs-lookup"><span data-stu-id="08662-131">Read-only workloads for memory-optimized durable tables access the data in exactly the same way it is accessed on the primary database, using native stored procedures or SQL Interoperability with the same transaction isolation level limitations.</span></span> <span data-ttu-id="08662-132">Рабочая нагрузка отчетов или запросов только на чтение, выполняющаяся на главной реплике, может быть запущена на вторичной реплике без внесения каких-либо изменений.</span><span class="sxs-lookup"><span data-stu-id="08662-132">Reporting workload or read-only queries running on the primary replica can be run on the secondary replica without requiring any changes.</span></span> <span data-ttu-id="08662-133">Точно так же, рабочая нагрузка отчетов или запросов только на чтение, выполняющаяся на вторичной реплике, может быть запущена на главной реплике без внесения каких-либо изменений.</span><span class="sxs-lookup"><span data-stu-id="08662-133">Similarly, a reporting workload or read-only queries running on a secondary replica can be run on the primary replica without requiring any changes.</span></span>  <span data-ttu-id="08662-134">Так же как и для таблиц на диске, все запросы, выполняемые к базе данных-получателю, автоматически сопоставляются с уровнем транзакций изоляции моментального снимка баз данных, даже если другие уровни изоляции транзакций заданы явно.</span><span class="sxs-lookup"><span data-stu-id="08662-134">Similar to disk-based tables, all queries that run against the secondary databases are automatically mapped to snapshot isolation transaction level, even when other transaction isolation levels are explicitly set.</span></span>  
  
-   <span data-ttu-id="08662-135">Операции DML допустимы для табличных переменных как в дисковых, так и в оптимизированных для памяти типах таблиц на вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-135">DML operations are allowed on table variables both for disk-based and memory-optimized table types on the secondary replica.</span></span>  
  
##  <a name="prerequisites-for-the-availability-group"></a><a name="bkmk_Prerequisites"></a> <span data-ttu-id="08662-136">Предварительные условия для использования группы доступности</span><span class="sxs-lookup"><span data-stu-id="08662-136">Prerequisites for the Availability Group</span></span>  
  
-   <span data-ttu-id="08662-137">**Доступные для чтения вторичные реплики (необходимое условие)**</span><span class="sxs-lookup"><span data-stu-id="08662-137">**Readable secondary replicas (required)**</span></span>  
  
     <span data-ttu-id="08662-138">Администратор базы данных должен настроить одну или несколько реплик, чтобы они, при выполнении во вторичной роли, разрешали либо все подключения (для доступа только для чтения), либо только подключения с намерением чтения данных.</span><span class="sxs-lookup"><span data-stu-id="08662-138">The database administrator needs to configure one or more replicas so that, when running under the secondary role, they allow either all connections (just for read-only access) or only read-intent connections.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="08662-139">Кроме того, администратор базы данных может настроить любую из имеющихся реплик доступности на исключение соединений только для чтения во время работы в первичной роли.</span><span class="sxs-lookup"><span data-stu-id="08662-139">Optionally, the database administrator can configure any of the availability replicas to exclude read-only connections when running under the primary role.</span></span>  
  
     <span data-ttu-id="08662-140">Дополнительные сведения см. в разделе [Сведения о доступе клиентского подключения к репликам доступности (SQL Server)](about-client-connection-access-to-availability-replicas-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="08662-140">For more information, see [About Client Connection Access to Availability Replicas &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md).</span></span>  
  
-   <span data-ttu-id="08662-141">**Прослушиватель группы доступности**</span><span class="sxs-lookup"><span data-stu-id="08662-141">**Availability group listener**</span></span>  
  
     <span data-ttu-id="08662-142">Для поддержки маршрутизации только для чтения группа доступности должна иметь [прослушиватель группы доступности](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="08662-142">To support read-only routing, an availability group must possess an [availability group listener](../../listeners-client-connectivity-application-failover.md).</span></span> <span data-ttu-id="08662-143">Клиент, запрашивающий данные в режиме только для чтения, должен направлять свои запросы к данному прослушивателю, и в строке подключения клиента должно быть задано намерение приложения «только для чтения».</span><span class="sxs-lookup"><span data-stu-id="08662-143">The read-only client must direct its connection requests to this listener, and the client's connection string must specify the application intent as "read-only."</span></span> <span data-ttu-id="08662-144">Это означает, что они должны быть *запросами на соединение с правами чтения*.</span><span class="sxs-lookup"><span data-stu-id="08662-144">That is, they must be *read-intent connection requests*.</span></span>  
  
-   <span data-ttu-id="08662-145">**Маршрутизация только для чтения**</span><span class="sxs-lookup"><span data-stu-id="08662-145">**Read only routing**</span></span>  
  
     <span data-ttu-id="08662-146">*Маршрутизация только для чтения* обозначает возможность SQL Server направлять входящие запросы соединения с намерением только чтения, предназначенные для прослушивателя группы доступности, на имеющуюся и доступную для чтения вторичную реплику.</span><span class="sxs-lookup"><span data-stu-id="08662-146">*Read-only routing* refers to the ability of SQL Server to route incoming read-intent connection requests, that are directed to an availability group listener, to an available readable secondary replica.</span></span> <span data-ttu-id="08662-147">Необходимые условия для использования маршрутизации только для чтения:</span><span class="sxs-lookup"><span data-stu-id="08662-147">The prerequisites for read-only routing are as follows:</span></span>  
  
    -   <span data-ttu-id="08662-148">Для поддержки маршрутизации только для чтения доступная для чтения вторичная реплика должна иметь URL-адрес для маршрутизации только для чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-148">To support read-only routing, a readable secondary replica requires a read-only routing URL.</span></span> <span data-ttu-id="08662-149">Этот URL-адрес задействуется, только если локальная реплика выполняется под вторичной ролью.</span><span class="sxs-lookup"><span data-stu-id="08662-149">This URL takes effect only when the local replica is running under the secondary role.</span></span> <span data-ttu-id="08662-150">URL-адрес маршрутизации только для чтения должен быть указан для каждой реплики отдельно (если для реплики требуется подобная маршрутизация).</span><span class="sxs-lookup"><span data-stu-id="08662-150">The read-only routing URL must be specified on a replica-by-replica basis, as needed.</span></span> <span data-ttu-id="08662-151">Все URL-адреса маршрутизации только для чтения используются для направления запросов на соединение с намерением чтения к определенной доступной для чтения вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-151">Each read-only routing URL is used for routing read-intent connection requests to a specific readable secondary replica.</span></span> <span data-ttu-id="08662-152">Как правило, каждой доступной для чтения вторичной реплике назначается URL-адрес маршрутизации только для чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-152">Typically, every readable secondary replica is assigned a read-only routing URL.</span></span>  
  
    -   <span data-ttu-id="08662-153">Каждая реплика доступности, поддерживающая маршрутизацию только для чтения и при этом являющаяся первичной репликой, требует наличия списка маршрутизации только для чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-153">Each availability replica that is to support read-only routing when it is the primary replica requires a read-only routing list.</span></span> <span data-ttu-id="08662-154">Определенный список маршрутизации только для чтения вступает в силу, только если локальная реплика выполняется под первичной ролью.</span><span class="sxs-lookup"><span data-stu-id="08662-154">A given read-only routing list takes effect only when the local replica is running under the primary role.</span></span> <span data-ttu-id="08662-155">Такой список должен указываться для тех конкретных реплик, для которых он требуется.</span><span class="sxs-lookup"><span data-stu-id="08662-155">This list must be specified on a replica-by-replica basis, as needed.</span></span> <span data-ttu-id="08662-156">Как правило, каждый список маршрутизации только для чтения будет содержать все URL-адреса маршрутизации только для чтения, причем URL-адрес локальной реплики будет идти в конце списка.</span><span class="sxs-lookup"><span data-stu-id="08662-156">Typically, each read-only routing list would contain every read-only routing URL, with the URL of the local replica at the end of the list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="08662-157">Запросы на соединение с намерением чтения направляются в первую имеющуюся вторичную реплику доступную для чтения из списка маршрутизации только для чтения текущей первичной реплики.</span><span class="sxs-lookup"><span data-stu-id="08662-157">Read-intent connection requests are routed to the first available readable secondary on the read-only routing list of the current primary replica.</span></span> <span data-ttu-id="08662-158">Балансировка нагрузки отсутствует.</span><span class="sxs-lookup"><span data-stu-id="08662-158">There is no load balancing.</span></span>  
  
     <span data-ttu-id="08662-159">Дополнительные сведения см. в статье [Настройка маршрутизации только для чтения в группе доступности (SQL Server)](configure-read-only-routing-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="08662-159">For more information, see [Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="08662-160">Сведения о прослушивателях групп доступности и дополнительные сведения о маршрутизации только для чтения см. в разделе [Прослушиватели групп доступности, возможность подключения клиентов и отработка отказа приложений (SQL Server)](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="08662-160">For information about availability group listeners and more information about read-only routing, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>  
  
##  <a name="limitations-and-restrictions"></a><a name="bkmk_LimitationsRestrictions"></a> <span data-ttu-id="08662-161">Ограничения</span><span class="sxs-lookup"><span data-stu-id="08662-161">Limitations and Restrictions</span></span>  
 <span data-ttu-id="08662-162">Некоторые операции поддерживаются не полностью.</span><span class="sxs-lookup"><span data-stu-id="08662-162">Some operations are not fully supported, as follows:</span></span>  
  
-   <span data-ttu-id="08662-163">Как только будет открыт доступ к доступной для чтения реплике, она может начать принимать подключения к своим базам данных-получателям.</span><span class="sxs-lookup"><span data-stu-id="08662-163">As soon as a readable replica is enabled for read, it can start accepting connections to its secondary databases.</span></span> <span data-ttu-id="08662-164">Однако при наличии любых активных транзакций в базе данных-источнике версии строк не будут полностью доступны в базе данных-получателе.</span><span class="sxs-lookup"><span data-stu-id="08662-164">However, if any active transactions exist on a primary database, the row versions will not be fully available on the corresponding secondary database.</span></span> <span data-ttu-id="08662-165">Любые активные транзакции, существовавшие в первичной реплике, при настройке вторичной реплики должны быть зафиксированы или откачены.</span><span class="sxs-lookup"><span data-stu-id="08662-165">Any active transactions that existed on the primary replica when the secondary replica was configured must commit or roll back.</span></span> <span data-ttu-id="08662-166">До момента завершения этого процесса сопоставление уровней изоляции транзакций в базе данных-получателе — неполное, а запросы временно блокируются.</span><span class="sxs-lookup"><span data-stu-id="08662-166">Until this process completes, the transaction isolation level mapping on the secondary database is incomplete and queries are temporarily blocked.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="08662-167">Выполнение длительных транзакций влияет на количество строк, содержащих версии, для дисковых и оптимизированных для памяти таблиц.</span><span class="sxs-lookup"><span data-stu-id="08662-167">Running long transactions impacts the number of versioned rows kept, both for disk-based and memory-optimized tables.</span></span>  
  
-   <span data-ttu-id="08662-168">Для базы данных-получателя с таблицами, оптимизированными для памяти, несмотря на то, что для таблиц в памяти всегда создаются версии строк, запросы блокируются до тех пор, пока не будут завершены все активные транзакции, которые существовали в первичной реплике на момент открытия для чтения вторичной реплики.</span><span class="sxs-lookup"><span data-stu-id="08662-168">On a secondary database with memory-optimized tables, even though row versions are always generated for memory-optimzied tables, queries are blocked until all active transactions that existed in the primary replica when the secondary replica was enabled for read complete.</span></span> <span data-ttu-id="08662-169">Это гарантирует, что и дисковые таблицы, и таблицы, оптимизированные для памяти, будут одновременно доступны и для рабочей нагрузки отчетов, и для запросов только на чтение.</span><span class="sxs-lookup"><span data-stu-id="08662-169">This ensures that both disk-based and memory-optimized tables are available to the reporting workload and read-only queries at the same time.</span></span>  
  
-   <span data-ttu-id="08662-170">Изменение режима отслеживания измененных данных не поддерживается во вторичных базах данных, принадлежащих к доступной для чтения вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-170">Change tracking and change data capture are not supported on secondary databases that belong to a readable secondary replica:</span></span>  
  
    -   <span data-ttu-id="08662-171">Отслеживание изменений явно отключено в базах данных-получателях.</span><span class="sxs-lookup"><span data-stu-id="08662-171">Change tracking is explicitly disabled on secondary databases.</span></span>  
  
    -   <span data-ttu-id="08662-172">Режим отслеживания измененных данных можно включить в базе данных-получателе, но это не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="08662-172">Change data capture can be enabled on a secondary database, but this is not supported.</span></span>  
  
-   <span data-ttu-id="08662-173">Операции чтения отображаются на уровень транзакций с изоляцией моментальных снимков, поэтому очистка фантомных записей в первичной реплике может быть заблокирована транзакциями в одной или нескольких вторичных репликах.</span><span class="sxs-lookup"><span data-stu-id="08662-173">Because read operations are mapped to snapshot isolation transaction level, the cleanup of ghost records on the primary replica can be blocked by transactions on one or more secondary replicas.</span></span> <span data-ttu-id="08662-174">Задача очистки фантомных записей автоматически очищает фантомные записи дисковых таблиц в основной реплике, когда они более не нужны в любой из вторичных реплик.</span><span class="sxs-lookup"><span data-stu-id="08662-174">The ghost record cleanup task will automatically clean up the ghost records for disk-based tables on the primary replica when they are no longer needed by any secondary replica.</span></span>  <span data-ttu-id="08662-175">Этот процесс сходен с другим процессом, когда транзакции запускаются в первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-175">This is similar to what is done when you run transaction(s) on the primary replica.</span></span> <span data-ttu-id="08662-176">В крайних случаях может понадобиться завершить долго выполняющийся запрос на чтение в базе данных-получателе, который блокирует процесс очистки фантомных записей.</span><span class="sxs-lookup"><span data-stu-id="08662-176">In the extreme case on the secondary database, you will need to kill a long running read-query that is blocking the ghost cleanup.</span></span> <span data-ttu-id="08662-177">Обратите внимание, что очистка фантомных записей может блокироваться, если вторичная реплика отключена или если перемещение данных в базе данных-получателе приостановлено.</span><span class="sxs-lookup"><span data-stu-id="08662-177">Note, the ghost clean can be blocked if the secondary replica gets disconnected or when data movement is suspended on the secondary database.</span></span> <span data-ttu-id="08662-178">Это состояние также предотвращает усечение журнала, поэтому, если оно не проходит, рекомендуется удалить эту базу данных-получатель из группы доступности.</span><span class="sxs-lookup"><span data-stu-id="08662-178">This state also prevents log truncation, so if this state persists, we recommend that you remove this secondary database from the availability group.</span></span> <span data-ttu-id="08662-179">С таблицами, оптимизированными для памяти, не возникает проблем, связанных с очисткой фантомных записей, поскольку версии строк хранятся в памяти и не зависят от версий строк в первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-179">There is no ghost record cleanup issue with memory-optimized tables because the row versions are kept in memory and are independent of the row versions on the primary replica.</span></span>  
  
-   <span data-ttu-id="08662-180">Операция DBCC SHRINKFILE на файлах, содержащих дисковые таблицы, может завершиться с ошибкой в первичной реплике, если файл содержит фантомные записи, которые все еще необходимы во вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-180">The DBCC SHRINKFILE operation on files containing disk-based tables might fail on the primary replica if the file contains ghost records that are still needed on a secondary replica.</span></span>  
  
-   <span data-ttu-id="08662-181">Начиная с версии [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], доступные для чтения вторичные реплики могут оставаться в сети даже в случае, если первичная реплика должна быть вне сети из-за действий пользователей или ошибки.</span><span class="sxs-lookup"><span data-stu-id="08662-181">Beginning in [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], readable secondary replicas can remain online even when the primary replica is offline due to user action or a failure.</span></span> <span data-ttu-id="08662-182">Однако в этой ситуации маршрутизация, доступная только для чтения, не работает, так как прослушиватель группы доступности также находится вне сети.</span><span class="sxs-lookup"><span data-stu-id="08662-182">However, read-only routing does not work in this situation because the availability group listener is offline as well.</span></span> <span data-ttu-id="08662-183">Клиенты могут подключаться непосредственно к вторичным репликам, доступным только для чтения, для рабочих нагрузок, доступных только для чтения.</span><span class="sxs-lookup"><span data-stu-id="08662-183">Clients must connect directly to the read-only secondary replicas for read-only workloads.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="08662-184">При выполнении запроса к динамическому административному представлению [sys.dm_db_index_physical_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-physical-stats-transact-sql) на экземпляре сервера, на котором размещена вторичная реплика, может возникнуть критическое препятствие REDO.</span><span class="sxs-lookup"><span data-stu-id="08662-184">If you query the [sys.dm_db_index_physical_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-physical-stats-transact-sql) dynamic management view on a server instance that is hosting a readable secondary replica, you might encounter a REDO blocking issue.</span></span> <span data-ttu-id="08662-185">Это связано с тем, что данное динамическое административное представление получает блокировку (IS) в указанной пользовательской таблице либо в представлении, которые могут блокировать запросы посредством потока REDO для монопольной блокировки (X) этой пользовательской таблицы или представления.</span><span class="sxs-lookup"><span data-stu-id="08662-185">This is because this dynamic management view acquires an IS lock on the specified user table or view that can block requests by a REDO thread for an X lock on that user table or view.</span></span>  
  
##  <a name="performance-considerations"></a><a name="bkmk_Performance"></a> <span data-ttu-id="08662-186">Вопросы производительности</span><span class="sxs-lookup"><span data-stu-id="08662-186">Performance Considerations</span></span>  
 <span data-ttu-id="08662-187">В этом разделе рассматриваются некоторые соображения в отношении производительности баз данных-получателей с доступом для чтения</span><span class="sxs-lookup"><span data-stu-id="08662-187">This section discusses several performance considerations for readable secondary databases</span></span>  
  
 
  
###  <a name="data-latency"></a><a name="DataLatency"></a> <span data-ttu-id="08662-188">Задержка данных</span><span class="sxs-lookup"><span data-stu-id="08662-188">Data Latency</span></span>  
 <span data-ttu-id="08662-189">Применение доступа только для чтения ко вторичным репликам полезно, если для нагрузок, связанных с операциями с ними, приемлема некоторая задержка данных.</span><span class="sxs-lookup"><span data-stu-id="08662-189">Implementing read-only access to secondary replicas is useful if your read-only workloads can tolerate some data latency.</span></span> <span data-ttu-id="08662-190">В ситуациях, когда задержка данных неприемлема, рассмотрите возможность выполнения рабочих нагрузок только чтения за счет первичной реплики.</span><span class="sxs-lookup"><span data-stu-id="08662-190">In situations where data latency is unacceptable, consider running read-only workloads against the primary replica.</span></span>  
  
 <span data-ttu-id="08662-191">Из основной реплики выполняется отправка журнала изменений в базе данных-источнике на вторичные реплики.</span><span class="sxs-lookup"><span data-stu-id="08662-191">The primary replica sends log records of changes on primary database to the secondary replicas.</span></span> <span data-ttu-id="08662-192">На каждой базе данных-получателе выделенный поток повтора применяет записи журнала.</span><span class="sxs-lookup"><span data-stu-id="08662-192">On each secondary database, a dedicated redo thread applies the log records.</span></span> <span data-ttu-id="08662-193">В базе данных, доступной для чтения, каждое изменение данных не появляется среди результатов запроса до тех пор, пока запись журнала о данном изменении не будет применена к базе данных-получателю, а транзакция не будет зафиксирована в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="08662-193">On a read-access secondary database, a given data change does not appear in query results until the log record that contains the change has been applied to the secondary database and the transaction has been committed on primary database.</span></span>  
  
 <span data-ttu-id="08662-194">Это означает, что между первичной и вторичной репликами возникает некоторая задержка, обычно порядка нескольких секунд.</span><span class="sxs-lookup"><span data-stu-id="08662-194">This means that there is some latency, usually only a matter of seconds, between the primary and secondary replicas.</span></span> <span data-ttu-id="08662-195">В нетипичных случаях, например в ситуации, когда проблемы с сетью ухудшают пропускную способность, задержка может стать значительной.</span><span class="sxs-lookup"><span data-stu-id="08662-195">In unusual cases, however, for example if network issues reduce throughput, latency can become significant.</span></span> <span data-ttu-id="08662-196">Задержка увеличивается из-за наличия узких мест в системе ввода-вывода и в результате приостановки движения данных.</span><span class="sxs-lookup"><span data-stu-id="08662-196">Latency increases when I/O bottlenecks occur and when data movement is suspended.</span></span> <span data-ttu-id="08662-197">Для отслеживания приостановок перемещения данных можно использовать [Панель управления AlwaysOn](use-the-always-on-dashboard-sql-server-management-studio.md) или динамическое административное представление [sys.dm_hadr_database_replica_states](/sql/relational-databases/system-dynamic-management-views/sys-dm-hadr-database-replica-states-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="08662-197">To monitor suspended data movement, you can use the [AlwaysOn Dashboard](use-the-always-on-dashboard-sql-server-management-studio.md) or the [sys.dm_hadr_database_replica_states](/sql/relational-databases/system-dynamic-management-views/sys-dm-hadr-database-replica-states-transact-sql) dynamic management view.</span></span>  
  
####  <a name="data-latency-on-databases-with-memory-optimized-tables"></a><a name="bkmk_LatencyWithInMemOLTP"></a> <span data-ttu-id="08662-198">Задержка данных для баз данных с таблицами, оптимизированными для памяти</span><span class="sxs-lookup"><span data-stu-id="08662-198">Data Latency on databases with memory-optimized tables</span></span>  
 <span data-ttu-id="08662-199">При обращении к таблицам, оптимизированным для памяти, на вторичной реплике для рабочей нагрузки на чтение используется метка *safe-timestamp* для получения строк из транзакций, которые были зафиксированы до *safe-timestamp*.</span><span class="sxs-lookup"><span data-stu-id="08662-199">When accessing memory-optimized tables on secondary replica for read workload, a *safe-timestamp* is used to return rows from transactions that have committed earlier than *safe-timestamp*.</span></span> <span data-ttu-id="08662-200">Метка safe-timestamp считается самой поздней меткой для процесса сборки мусора строк на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-200">The safe-timestamp is the oldest timestamp hint used by the garbage collection thread to garbage collect the rows on the primary replica.</span></span> <span data-ttu-id="08662-201">Эта метка времени обновляется каждый раз, когда число транзакций для таблиц, оптимизированных для памяти, превышает внутренний порог со времени последнего обновления.</span><span class="sxs-lookup"><span data-stu-id="08662-201">This timestamp is updated when the number of DML transactions on memory-optimized tables exceed an internal threshold since the last update.</span></span> <span data-ttu-id="08662-202">Когда самая ранняя метка времени транзакции обновится на первичной реплике, следующая транзакция DML на оптимизированной для памяти и долговечной таблице отправит эту метку времени на вторичную реплику как часть специальной записи журнала.</span><span class="sxs-lookup"><span data-stu-id="08662-202">Whenever the oldest transaction timestamp is updated on the primary replica, the next DML transaction on a durable memory-optimized table will send this timestamp to be sent to secondary replica as part of a special log record.</span></span> <span data-ttu-id="08662-203">Поток REDO на вторичной реплике обновляет метку safe-timestamp в ходе обработки этой записи журнала.</span><span class="sxs-lookup"><span data-stu-id="08662-203">REDO thread on the secondary replica, updates the safe-timestamp as part of processing this log record.</span></span>  
  
#### <a name="the-impact-of-safe-timestamp-on-latency"></a><span data-ttu-id="08662-204">Влияние метки safe-timestamp на задержку</span><span class="sxs-lookup"><span data-stu-id="08662-204">The impact of safe-timestamp on Latency</span></span>  
  
-   <span data-ttu-id="08662-205">Для рабочих нагрузок OLTP с высокой пропускной способностью транзакции задержка будет сравнима с таблицами на диске.</span><span class="sxs-lookup"><span data-stu-id="08662-205">For OLTP workloads with high transaction throughput, the latency should be comparable to disk-based tables.</span></span> <span data-ttu-id="08662-206">Ожидается, что этот случай будет типичным.</span><span class="sxs-lookup"><span data-stu-id="08662-206">We expect this to be the common case.</span></span>  
  
-   <span data-ttu-id="08662-207">Затянувшаяся транзакция может привести к необоснованной задержке метки safe-timestamp.</span><span class="sxs-lookup"><span data-stu-id="08662-207">A long running transaction can cause the safe-timestamp to be delayed arbitrarily.</span></span>  <span data-ttu-id="08662-208">Такое же поведение наблюдается и при работе с дисковыми таблицами, т. к. метка времени изоляции моментального снимка определяется фиксацией старейшей транзакции.</span><span class="sxs-lookup"><span data-stu-id="08662-208">This is no different when accessing disk-based tables as the timestamp of snapshot isolation is determined by the commit of oldest transaction.</span></span>  
  
-   <span data-ttu-id="08662-209">Изменения, произведенные транзакциями на первичной реплике с момента последнего обновления метки safe-timestamp, не отображаются на вторичной реплике до следующей передачи и обновления метки safe-timestamp.</span><span class="sxs-lookup"><span data-stu-id="08662-209">Changes made by transactions on the primary replica since the last safe-timestamp update are not visible on the secondary replica till the next transmission and update of the safe-timestamp.</span></span> <span data-ttu-id="08662-210">Если активность транзакции на первичной реплике останавливается до превышения внутреннего порога обновления safe-timestamp, изменения, выполненные с момента последнего обновления safe-timestamp, не будут видны на вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-210">If transactional activity on the primary replica stops before the internal threshold for safe-timestamp update is crossed, the changes made since the last update to safe-timestamp will not be visible on the secondary replica.</span></span> <span data-ttu-id="08662-211">Чтобы устранить эту проблему, возможно, понадобится выполнить несколько транзакций DML в фиктивной долговечной таблице, оптимизированной для памяти, на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-211">To alleviate this issue, you may need to run a few DML transactions on a dummy durable memory-optimized table on the primary replica.</span></span> <span data-ttu-id="08662-212">Кроме того, хотя это не рекомендуется, можно форсировать отправку safe-timestamp, выполнив ручную контрольную точку.</span><span class="sxs-lookup"><span data-stu-id="08662-212">Alternatively, though not recommended, you can force shipping of safe-timestamp by running a manual checkpoint.</span></span>  
  
#### <a name="monitoring-and-troubleshooting-data-latency-in-memory-optimized-tables"></a><span data-ttu-id="08662-213">Задержка данных при наблюдении и устранении неполадок в таблицах, оптимизированных для памяти</span><span class="sxs-lookup"><span data-stu-id="08662-213">Monitoring and Troubleshooting data latency in memory-optimized tables</span></span>  
 <span data-ttu-id="08662-214">Узнать значение safe-timestamp можно, выполнив следующий запрос в первичной реплике</span><span class="sxs-lookup"><span data-stu-id="08662-214">You can find out the safe-timestamp by running the following query on the primary replica</span></span>  
  
```  
  
SELECT MAX(base_generation)   
   AS max_base_generation  
   FROM sys.dm_db_xtp_gc_cycle_stats  
GO  
  
```  
  
 <span data-ttu-id="08662-215">Также можно определить safe-timestamp, используемую на вторичной реплике, выполнив следующий запрос параллельно с активной рабочей нагрузкой.</span><span class="sxs-lookup"><span data-stu-id="08662-215">You can also identify the safe-timestamp used on the secondary replica by running the following query concurrently with the active read-workload.</span></span>  
  
```  
  
SELECT begin_tsn   
   FROM sys.dm_db_xtp_transactions  
GO  
  
```  
  
###  <a name="read-only-workload-impact"></a><a name="ReadOnlyWorkloadImpact"></a> <span data-ttu-id="08662-216">Влияние на рабочую нагрузку только для чтения</span><span class="sxs-lookup"><span data-stu-id="08662-216">Read-Only Workload Impact</span></span>  
 <span data-ttu-id="08662-217">При настройке вторичной реплики для доступа только для чтения, нагрузки только для чтения в базах данных-получателях потребляют системные ресурсы, т. е. ресурсы процессора и системы ввода-вывода (для дисковых таблиц), за счет потоков повтора, в особенности, если нагрузка операций чтения дисковых таблиц выполняет большой объем операций ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="08662-217">When you configure a secondary replica for read-only access, your read-only workloads on the secondary databases consume system resources, such as CPU and I/O (for disk-based tables) from redo threads, especially if the read-only workloads on disk-based tables are highly I/O-intensive.</span></span> <span data-ttu-id="08662-218">При доступе к таблицам, оптимизированным для памяти, дополнительная нагрузка на систему ввода-вывода отсутствует, поскольку все строки находятся в памяти.</span><span class="sxs-lookup"><span data-stu-id="08662-218">There is no IO impact when accessing memory-optimized tables because all the rows reside in memory.</span></span>  
  
 <span data-ttu-id="08662-219">Рабочие нагрузки только чтения на вторичных репликах могут также блокировать изменения с помощью языка описания данных (DDL), проводимые через записи журнала.</span><span class="sxs-lookup"><span data-stu-id="08662-219">Also, read-only workloads on the secondary replicas can block data definition language (DDL) changes that are applied through log records.</span></span>  
  
-   <span data-ttu-id="08662-220">Даже несмотря на то, что операции чтения не вызывают совмещаемых блокировок в связи с управлением версиями строк, эти операции вызывают блокировки стабильности схемы (Sch-S), что может приводить к блокировке операций повтора, в которых применяются изменения с помощью DDL.</span><span class="sxs-lookup"><span data-stu-id="08662-220">Even though the read operations do not take shared locks because of row versioning, these operations take schema stability (Sch-S) locks, which can block redo operations that are applying DDL changes.</span></span> <span data-ttu-id="08662-221">Операции DDL включают операции ALTER/DROP для таблиц и представлений, но не для хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="08662-221">DDL operations include ALTER/DROP tables and Views but not DROP or ALTER of stored procedures.</span></span> <span data-ttu-id="08662-222">Например, рассмотрим случай удаления дисковой или оптимизированной для памяти таблицы на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-222">So for example, if you drop a table disk-based or memory-optimized, on primary.</span></span> <span data-ttu-id="08662-223">Если поток REDO обрабатывает записи журнала, чтобы удалить таблицу, он должен получить блокировку SCH_M для таблицы и может быть заблокирован запущенным запросом к таблице.</span><span class="sxs-lookup"><span data-stu-id="08662-223">When REDO thread processes the log record to drop the table, it must acquire a SCH_M lock on the table and can get blocked by a running query accessing table.</span></span>  <span data-ttu-id="08662-224">Точно так же происходит и в первичной реплике, за исключением того, что удаление таблицы выполняется в составе пользовательского сеанса, а не потоком REDO.</span><span class="sxs-lookup"><span data-stu-id="08662-224">This is the same behavior on primary replica except that the drop of the table is done as part of a user session and not REDO thread.</span></span>  
  
-   <span data-ttu-id="08662-225">Имеются дополнительные блокирующие оптимизированные для памяти таблицы.</span><span class="sxs-lookup"><span data-stu-id="08662-225">There is additional blocking Memory-Optimized Tables.</span></span> <span data-ttu-id="08662-226">Удаление собственной хранимой процедуры может стать причиной блокировки потока REDO при одновременном выполнении собственной хранимой процедуры на вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-226">A drop of native stored procedure can cause REDO thread to block if there is a concurrent execution of the native stored procedure on the secondary replica.</span></span> <span data-ttu-id="08662-227">Точно так же происходит и в первичной реплике, за исключением того, что удаление хранимой процедуры выполняется в составе пользовательского сеанса, а не потоком REDO.</span><span class="sxs-lookup"><span data-stu-id="08662-227">This is the same behavior on the primary replica except that the drop of the stored procedure is done as part of a user session and not REDO thread.</span></span>  
  
 <span data-ttu-id="08662-228">Необходимо учитывать рекомендации по построению запросов и следовать им в работе с базами данных-получателями.</span><span class="sxs-lookup"><span data-stu-id="08662-228">Be aware of best practices around building queries, and exercise those best practices in the secondary databases.</span></span> <span data-ttu-id="08662-229">Например, планируйте долговременные задачи, такие как статистическая обработка данных, на периоды наименьшей активности.</span><span class="sxs-lookup"><span data-stu-id="08662-229">For example, schedule long-running queries such as aggregations of data during times of low activity.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="08662-230">Если поток повтора блокируется запросами на вторичной реплике, возникает событие XEvent **sqlserver.lock_redo_blocked** .</span><span class="sxs-lookup"><span data-stu-id="08662-230">If a redo thread is blocked by queries on a secondary replica, the **sqlserver.lock_redo_blocked** XEvent is raised.</span></span>  
  
###  <a name="indexing"></a><a name="bkmk_Indexing"></a> <span data-ttu-id="08662-231">Индексирование</span><span class="sxs-lookup"><span data-stu-id="08662-231">Indexing</span></span>  
 <span data-ttu-id="08662-232">Чтобы оптимизировать рабочие нагрузки только чтения в доступных для чтения вторичных репликах, можно создать индексы на таблицах в базах данных-получателях.</span><span class="sxs-lookup"><span data-stu-id="08662-232">To optimize read-only workloads on the readable secondary replicas, you may want to create indexes on the tables in the secondary databases.</span></span> <span data-ttu-id="08662-233">Возможность вносить изменения в схемы или данные баз данных-получателей отсутствует, поэтому следует создать индексы в базах данных-источниках и разрешить перенос изменений в базы данных-получатели с помощью процесса повтора.</span><span class="sxs-lookup"><span data-stu-id="08662-233">Because you cannot make schema or data changes on the secondary databases, create indexes in the primary databases and allow the changes to transfer to the secondary database through the redo process.</span></span>  
  
 <span data-ttu-id="08662-234">Для отслеживания действий использования индекса на вторичной реплике можно создавать запросы к столбцам **user_seeks**, **user_scans**и **user_lookups** динамического административного представления [sys.dm_db_index_usage_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-usage-stats-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="08662-234">To monitor index usage activity on a secondary replica, query the **user_seeks**, **user_scans**, and **user_lookups** columns of the [sys.dm_db_index_usage_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-usage-stats-transact-sql) dynamic management view.</span></span>  
  
###  <a name="statistics-for-read-only-access-databases"></a><a name="Read-OnlyStats"></a> <span data-ttu-id="08662-235">Статистика для баз данных с доступом только для чтения</span><span class="sxs-lookup"><span data-stu-id="08662-235">Statistics for Read-Only Access Databases</span></span>  
 <span data-ttu-id="08662-236">Статистика по столбцам таблиц и индексированных представлений используется для оптимизации планов запросов.</span><span class="sxs-lookup"><span data-stu-id="08662-236">Statistics on columns of tables and indexed views are used to optimize query plans.</span></span> <span data-ttu-id="08662-237">Что касается групп доступности, то статистика, создаваемая и поддерживаемая по базам данных-источникам, автоматически сохраняется в базах данных-получателях в ходе применения записей журнала транзакций.</span><span class="sxs-lookup"><span data-stu-id="08662-237">For availability groups, statistics that are created and maintained on the primary databases are automatically persisted on the secondary databases as part of applying the transaction log records.</span></span> <span data-ttu-id="08662-238">Однако рабочая нагрузка только чтения в базах данных-получателях может требовать иной статистики, чем статистика, формируемая в базах данных-источниках.</span><span class="sxs-lookup"><span data-stu-id="08662-238">However, the read-only workload on the secondary databases may need different statistics than those that are created on the primary databases.</span></span> <span data-ttu-id="08662-239">Однако поскольку базы данных-получатели доступны только для чтения, данные статистики в них сохранять нельзя.</span><span class="sxs-lookup"><span data-stu-id="08662-239">However, because secondary databases are restricted to read-only access, statistics cannot be created on the secondary databases.</span></span>  
  
 <span data-ttu-id="08662-240">Для решения этой проблемы во вторичной реплике создается и ведется временная статистика для баз данных-получателей в **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="08662-240">To address this problem, the secondary replica creates and maintains temporary statistics for secondary databases in **tempdb**.</span></span> <span data-ttu-id="08662-241">Суффикс _readonly_database_statistic добавляется к имени временной статистики. Он позволяет отличить временную статистику от постоянной, которая сохраняется в основной базе данных.</span><span class="sxs-lookup"><span data-stu-id="08662-241">The suffix _readonly_database_statistic is appended to the name of temporary statistics to differentiate them from the permanent statistics that are persisted from the primary database.</span></span>  
  
 <span data-ttu-id="08662-242">Только [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] может создавать и обновлять временную статистику.</span><span class="sxs-lookup"><span data-stu-id="08662-242">Only [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can create and update temporary statistics.</span></span> <span data-ttu-id="08662-243">Тем не менее можно удалять временную статистику и наблюдать за ее свойствами с помощью тех же средств, которые используются для работы с постоянной статистикой.</span><span class="sxs-lookup"><span data-stu-id="08662-243">However, you can delete temporary statistics and monitor their properties using the same tools that you use for permanent statistics:</span></span>  
  
-   <span data-ttu-id="08662-244">Удаление временной статистики осуществляется с использованием инструкции [DROP STATISTICS](/sql/t-sql/statements/drop-statistics-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="08662-244">Delete temporary statistics using the [DROP STATISTICS](/sql/t-sql/statements/drop-statistics-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statement.</span></span>  
  
-   <span data-ttu-id="08662-245">Наблюдение за статистикой ведется с помощью представлений каталога **sys.stats** и **sys.stats_columns** .</span><span class="sxs-lookup"><span data-stu-id="08662-245">Monitor statistics using the **sys.stats** and **sys.stats_columns** catalog views.</span></span> <span data-ttu-id="08662-246">**sys_stats** включает столбец **is_temporary**для указания того, какая статистика является постоянной, а какая — временной.</span><span class="sxs-lookup"><span data-stu-id="08662-246">**sys_stats** includes a column, **is_temporary**, to indicate which statistics are permanent and which are temporary.</span></span>  
  
 <span data-ttu-id="08662-247">Не поддерживается автоматическое обновление статистики для таблиц, оптимизированных для памяти, на первичной или вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-247">There is no support for auto-statistics update for memory-optimized tables on the primary or secondary replica.</span></span> <span data-ttu-id="08662-248">Необходимо контролировать производительность запросов и планов на вторичной реплике и вручную обновить статистику на первичной реплике, когда в этом возникает необходимость.</span><span class="sxs-lookup"><span data-stu-id="08662-248">You must monitor query performance and plans on the secondary replica and manually update the statistics on the primary replica when needed.</span></span> <span data-ttu-id="08662-249">Однако отсутствующая статистика автоматически создается и на первичной и на вторичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-249">However, the missing statistics are automatically created both on primary and secondary replica.</span></span>  
  
 <span data-ttu-id="08662-250">Дополнительные сведения о статистике SQL Server см. в статье [Статистика](../../../relational-databases/statistics/statistics.md).</span><span class="sxs-lookup"><span data-stu-id="08662-250">For more information about SQL Server statistics, see [Statistics](../../../relational-databases/statistics/statistics.md).</span></span>  
  

  
####  <a name="stale-permanent-statistics-on-secondary-databases"></a><a name="StalePermStats"></a> <span data-ttu-id="08662-251">Устаревшая постоянная статистика в базах данных-получателях</span><span class="sxs-lookup"><span data-stu-id="08662-251">Stale Permanent Statistics on Secondary Databases</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="08662-252">определяет, когда постоянная статистика базы данных-получателя устаревает.</span><span class="sxs-lookup"><span data-stu-id="08662-252">detects when permanent statistics on a secondary database are stale.</span></span> <span data-ttu-id="08662-253">Однако изменения в постоянную статистику можно внести только через изменения в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="08662-253">But changes cannot be made to the permanent statistics except through changes on the primary database.</span></span> <span data-ttu-id="08662-254">Для обеспечения оптимизации запросов [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] создает временную статистику для дисковых таблиц в базе данных-получателе и использует ее, а не устаревшую постоянную статистику.</span><span class="sxs-lookup"><span data-stu-id="08662-254">For query optimization, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates temporary statistics for disk-based tables on the secondary database and uses these statistics instead of the stale permanent statistics.</span></span>  
  
 <span data-ttu-id="08662-255">После выполнения обновления постоянной статистики в базе данных-источнике, данные этой статистики автоматически переносятся в базу данных-получатель.</span><span class="sxs-lookup"><span data-stu-id="08662-255">When the permanent statistics are updated on the primary database, they are automatically persisted to the secondary database.</span></span> <span data-ttu-id="08662-256">Затем [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] использует обновленные постоянные значения статистики, являющиеся более современными, чем значения временной статистики.</span><span class="sxs-lookup"><span data-stu-id="08662-256">Then [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] uses the updated permanent statistics, which are more current than the temporary statistics.</span></span>  
  
 <span data-ttu-id="08662-257">При отработке отказа группы доступности временная статистика удаляется во всех вторичных репликах.</span><span class="sxs-lookup"><span data-stu-id="08662-257">If the availability group fails over, temporary statistics are deleted on all of the secondary replicas.</span></span>  
  
####  <a name="limitations-and-restrictions"></a><a name="StatsLimitationsRestrictions"></a> <span data-ttu-id="08662-258">Ограничения</span><span class="sxs-lookup"><span data-stu-id="08662-258">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="08662-259">Поскольку временная статистика хранится в базе данных **tempdb**, перезапуск службы [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] приведет к удалению всей временной статистики.</span><span class="sxs-lookup"><span data-stu-id="08662-259">Because temporary statistics are stored in **tempdb**, a restart of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service causes all temporary statistics to disappear.</span></span>  
  
-   <span data-ttu-id="08662-260">Суффикс _readonly_database_statistic зарезервирован для статистики, создаваемой [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="08662-260">The suffix _readonly_database_statistic is reserved for statistics generated by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="08662-261">Этот суффикс нельзя использовать при создании статистики в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="08662-261">You cannot use this suffix when creating statistics on a primary database.</span></span> <span data-ttu-id="08662-262">Дополнительные сведения см. в статье [Managing statistics on tables in SQL Data Warehouse](../../../relational-databases/statistics/statistics.md) (Управление статистикой таблиц в хранилище данных SQL).</span><span class="sxs-lookup"><span data-stu-id="08662-262">For more information, see [Statistics](../../../relational-databases/statistics/statistics.md).</span></span>  
  
##  <a name="accessing-memory-optimized-tables-on-a-secondary-replica"></a><a name="bkmk_AccessInMemTables"></a> <span data-ttu-id="08662-263">Доступ к таблицам, оптимизированным для памяти, на вторичной реплике</span><span class="sxs-lookup"><span data-stu-id="08662-263">Accessing memory-optimized tables on a Secondary Replica</span></span>  
 <span data-ttu-id="08662-264">На вторичной реплике допускаются только те уровни изоляции рабочей нагрузки чтения, которые разрешены на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-264">The read workload isolation levels on secondary replica are only those allowed on the primary replica.</span></span> <span data-ttu-id="08662-265">На вторичной реплике сопоставление уровней изоляции не выполняется.</span><span class="sxs-lookup"><span data-stu-id="08662-265">There is no mapping of isolations levels done on the secondary replica.</span></span> <span data-ttu-id="08662-266">Это гарантирует, что любая рабочая нагрузка отчетов, которая может выполняться на первичной реплике, может также выполняться и на вторичной реплике без каких-либо изменений.</span><span class="sxs-lookup"><span data-stu-id="08662-266">This ensure that any reporting workload that can be run on primary replica is able to run on the secondary replica without requiring any changes.</span></span> <span data-ttu-id="08662-267">Это упрощает перенос рабочей нагрузки отчетов с первичной реплики на вторичную, или наоборот, если вторичная реплика недоступна.</span><span class="sxs-lookup"><span data-stu-id="08662-267">This makes it easy for you to migrate a reporting workload from the primary replica to a secondary or vice versa when the secondary replica is not available.</span></span>  
  
 <span data-ttu-id="08662-268">Следующие запросы не удается запустить на вторичной реплике аналогично тому, как они завершаются с ошибкой на первичной реплике.</span><span class="sxs-lookup"><span data-stu-id="08662-268">The following queries fail to run on the secondary replica similarly to the way they fail on the primary replica.</span></span>  
  
-   <span data-ttu-id="08662-269">Для запросов, выполняющихся только для оптимизированных для памяти таблиц, поддерживаются только уровни изоляции «моментальный снимок», «повторяемое чтение» и «доступен для сериализации».</span><span class="sxs-lookup"><span data-stu-id="08662-269">For queries running only on memory-optimized tables, the only supported isolation levels are snapshot, repeatable read, and serializable.</span></span> <span data-ttu-id="08662-270">Все запросы с уровнем изоляции READ COMMITTED или READ-UNCOMMITTED возвращают ошибку, если не включен параметр MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT на уровне базы данных.</span><span class="sxs-lookup"><span data-stu-id="08662-270">Any queries with read-uncommitted or read committed isolation level returns an error unless you have enabled the option MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT at the database level.</span></span>  
  
    ```sql  
    SET TRANSACTION ISOLATION LEVEL READ_COMMITTED  
    -- This is not allowed  
    BEGIN TRAN  
    SELECT * FROM t_hk  
    COMMIT  
  
    ```  
  
     <span data-ttu-id="08662-271">Сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="08662-271">Error message:</span></span>  
  
    ```  
    Msg 41368, Level 16, State 0, Line 2  
    Accessing memory optimized tables using the CREAD_COMMITTED isolation level is supported only for autocommit transactions. It is not supported for explicit or implicit transactions. Provide a supported isolation level for the memory optimized table using a table hing, such as WITH (SNAPSHOT).  
    ```  
  
-   <span data-ttu-id="08662-272">Подсказки блокировки не поддерживаются в таблицах, оптимизированных для памяти.</span><span class="sxs-lookup"><span data-stu-id="08662-272">No locking hints are supported on memory-optimized tables.</span></span> <span data-ttu-id="08662-273">Например, все следующие запросы завершаются с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="08662-273">For example, all of the following queries fail with an error.</span></span> <span data-ttu-id="08662-274">Допускается только подсказка NOLOCK, и для нее устанавливается значение NOOP при работе с таблицами, оптимизированными для памяти.</span><span class="sxs-lookup"><span data-stu-id="08662-274">Only NOLOCK hint is allowed and it is NOOP when used with memory-optimized tables.</span></span>  
  
    ```sql  
    SELECT * FROM t_hk WITH (PAGLOCK)  
    SELECT * FROM t_hk WITH (READPAST)  
    SELECT * FROM t_hk WITH (ROWLOCK)  
    SELECT * FROM t_hk WITH (READPAST)  
    SELECT * FROM t_hk WITH (TABLOCK)  
    SELECT * FROM t_hk WITH (XLOCK)  
    SELECT * FROM t_hk WITH (UPDLOCK)  
    ```  
  
-   <span data-ttu-id="08662-275">Для транзакций между контейнерами транзакции с уровнем изоляции сеанса "Snapshot", обращающиеся к оптимизированным для памяти таблицам, не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="08662-275">For cross-container transactions, transactions with session isolation level "snapshot" that access memory-optimized tables is not supported.</span></span> <span data-ttu-id="08662-276">например следующие.</span><span class="sxs-lookup"><span data-stu-id="08662-276">For example,</span></span>  
  
    ```sql  
    SET TRANSACTION ISOLATION LEVEL SNAPSHOT  
    -- This is not allowed  
    BEGIN TRAN  
       SELECT * FROM t_hk  
    COMMIT  
    ```  
  
     <span data-ttu-id="08662-277">Сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="08662-277">Error message:</span></span>  
  
    ```  
    Msg 41332, Level 16, State 0, Line 5  
    Memory optimized tables and natively compiled stored procedures cannot be accessed or created when the session TRANSACTION ISOLATION LEVEL is set to SNAPSHOT.  
    ```  
  
##  <a name="capacity-planning-considerations"></a><a name="bkmk_CapacityPlanning"></a> <span data-ttu-id="08662-278">Рекомендации по планированию загрузки</span><span class="sxs-lookup"><span data-stu-id="08662-278">Capacity Planning Considerations</span></span>  
  
-   <span data-ttu-id="08662-279">В случае если таблицы хранятся на дисках, доступные для чтения вторичные реплики могут потребовать наличия свободного места в базе данных **tempdb** по двум причинам:</span><span class="sxs-lookup"><span data-stu-id="08662-279">In the case of disk-based tables, readable secondary replicas can require space in **tempdb** for two reasons:</span></span>  
  
    -   <span data-ttu-id="08662-280">Применение уровня изоляции моментальных снимков приводит к копированию версий строк в базу данных **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="08662-280">Snapshot isolation level copies row versions into **tempdb**.</span></span>  
  
    -   <span data-ttu-id="08662-281">В базе данных **tempdb**создается и ведется временная статистика для баз данных-получателей.</span><span class="sxs-lookup"><span data-stu-id="08662-281">Temporary statistics for secondary databases are created and maintained in **tempdb**.</span></span> <span data-ttu-id="08662-282">Временная статистика может привести к небольшому увеличению размера базы данных **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="08662-282">The temporary statistics can cause a slight increase in the size of **tempdb**.</span></span> <span data-ttu-id="08662-283">Дополнительные сведения см. в пункте [Статистика баз данных, предназначенных только для чтения](#Read-OnlyStats)далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="08662-283">For more information, see [Statistics for Read-Only Access Databases](#Read-OnlyStats), later in this section.</span></span>  
  
-   <span data-ttu-id="08662-284">При настройке доступа для чтения для одной или нескольких вторичных реплик база данных-источник добавляет 14 дополнительных байт для удаляемых, изменяемых или вставляемых строк данных для сохранения указателей на версии строк в базах данных-получателях для таблиц на диске.</span><span class="sxs-lookup"><span data-stu-id="08662-284">When you configure read-access for one or more secondary replicas, the primary databases add 14 bytes of overhead on deleted, modified, or inserted data rows to store pointers to row versions on the secondary databases for disk-based tables.</span></span> <span data-ttu-id="08662-285">Эти дополнительные 14 байт переносятся в базы данных-получатели.</span><span class="sxs-lookup"><span data-stu-id="08662-285">This 14-byte overhead is carried over to the secondary databases.</span></span> <span data-ttu-id="08662-286">Так как к строкам данных добавляются 14 байт, может происходить разбиение страниц.</span><span class="sxs-lookup"><span data-stu-id="08662-286">As the 14-byte overhead is added to data rows, page splits might occur.</span></span>  
  
     <span data-ttu-id="08662-287">Данные версий строк не формируются в базах данных-источниках.</span><span class="sxs-lookup"><span data-stu-id="08662-287">The row version data is not generated by the primary databases.</span></span> <span data-ttu-id="08662-288">Вместо этого версии строк создаются базами данных-получателями.</span><span class="sxs-lookup"><span data-stu-id="08662-288">Instead, the secondary databases generate the row versions.</span></span> <span data-ttu-id="08662-289">Тем не менее управление версиями строк увеличивает объем хранения данных как в базах данных-источниках, так и в базах данных-получателях.</span><span class="sxs-lookup"><span data-stu-id="08662-289">However, row versioning increases data storage in both the primary and secondary databases.</span></span>  
  
     <span data-ttu-id="08662-290">Добавление данных управления версиями строк зависит от настройки уровня изоляции моментальных снимков или уровня изоляции моментальных снимков с чтением зафиксированных данных (RCSI) в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="08662-290">The addition of the row version data depends on the snapshot isolation or read-committed snapshot isolation (RCSI) level setting on the primary database.</span></span> <span data-ttu-id="08662-291">В следующей таблице описано поведение управления версиями в базе данных-получателе, доступной для чтения, с различными настройками для таблиц на диске.</span><span class="sxs-lookup"><span data-stu-id="08662-291">The table below describes the behavior of versioning on a readable secondary database under different settings for disk based tables.</span></span>  
  
    |<span data-ttu-id="08662-292">Доступна ли для чтения вторичная реплика?</span><span class="sxs-lookup"><span data-stu-id="08662-292">Readable secondary replica?</span></span>|<span data-ttu-id="08662-293">Включен ли уровень изоляции моментальных снимков или RCSI?</span><span class="sxs-lookup"><span data-stu-id="08662-293">Snapshot isolation or RCSI level enabled?</span></span>|<span data-ttu-id="08662-294">База данных-источник</span><span class="sxs-lookup"><span data-stu-id="08662-294">Primary Database</span></span>|<span data-ttu-id="08662-295">База данных-получатель</span><span class="sxs-lookup"><span data-stu-id="08662-295">Secondary Database</span></span>|  
    |---------------------------------|-----------------------------------------------|----------------------|------------------------|  
    |<span data-ttu-id="08662-296">Нет</span><span class="sxs-lookup"><span data-stu-id="08662-296">No</span></span>|<span data-ttu-id="08662-297">Нет</span><span class="sxs-lookup"><span data-stu-id="08662-297">No</span></span>|<span data-ttu-id="08662-298">Отсутствуют версии строки, либо 14-байтовые издержки</span><span class="sxs-lookup"><span data-stu-id="08662-298">No row versions or 14-byte overhead</span></span>|<span data-ttu-id="08662-299">Отсутствуют версии строки, либо 14-байтовые издержки</span><span class="sxs-lookup"><span data-stu-id="08662-299">No row versions or 14-byte overhead</span></span>|  
    |<span data-ttu-id="08662-300">Нет</span><span class="sxs-lookup"><span data-stu-id="08662-300">No</span></span>|<span data-ttu-id="08662-301">Да</span><span class="sxs-lookup"><span data-stu-id="08662-301">Yes</span></span>|<span data-ttu-id="08662-302">Версии строк и 14 дополнительных байт</span><span class="sxs-lookup"><span data-stu-id="08662-302">Row versions and 14-byte overhead</span></span>|<span data-ttu-id="08662-303">Нет версий строк, но есть 14 дополнительных байт</span><span class="sxs-lookup"><span data-stu-id="08662-303">No row versions, but 14-byte overhead</span></span>|  
    |<span data-ttu-id="08662-304">Да</span><span class="sxs-lookup"><span data-stu-id="08662-304">Yes</span></span>|<span data-ttu-id="08662-305">Нет</span><span class="sxs-lookup"><span data-stu-id="08662-305">No</span></span>|<span data-ttu-id="08662-306">Нет версий строк, но есть 14 дополнительных байт</span><span class="sxs-lookup"><span data-stu-id="08662-306">No row versions, but 14-byte overhead</span></span>|<span data-ttu-id="08662-307">Версии строк и 14 дополнительных байт</span><span class="sxs-lookup"><span data-stu-id="08662-307">Row versions and 14-byte overhead</span></span>|  
    |<span data-ttu-id="08662-308">Да</span><span class="sxs-lookup"><span data-stu-id="08662-308">Yes</span></span>|<span data-ttu-id="08662-309">Да</span><span class="sxs-lookup"><span data-stu-id="08662-309">Yes</span></span>|<span data-ttu-id="08662-310">Версии строк и 14 дополнительных байт</span><span class="sxs-lookup"><span data-stu-id="08662-310">Row versions and 14-byte overhead</span></span>|<span data-ttu-id="08662-311">Версии строк и 14 дополнительных байт</span><span class="sxs-lookup"><span data-stu-id="08662-311">Row versions and 14-byte overhead</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_RelatedTasks"></a> <span data-ttu-id="08662-312">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="08662-312">Related Tasks</span></span>  
  
-   [<span data-ttu-id="08662-313">Настройка доступа только для чтения в реплике доступности (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="08662-313">Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;</span></span>](configure-read-only-access-on-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="08662-314">Настройка маршрутизации только для чтения в группе доступности (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="08662-314">Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;</span></span>](configure-read-only-routing-for-an-availability-group-sql-server.md)  
  
-   [<span data-ttu-id="08662-315">Создание или настройка прослушивателя группы доступности (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="08662-315">Create or Configure an Availability Group Listener &#40;SQL Server&#41;</span></span>](create-or-configure-an-availability-group-listener-sql-server.md)  
  
-   [<span data-ttu-id="08662-316">Отслеживание групп доступности (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="08662-316">Monitor Availability Groups &#40;Transact-SQL&#41;</span></span>](monitor-availability-groups-transact-sql.md)  
  
-   [<span data-ttu-id="08662-317">Просмотр свойств реплики доступности (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="08662-317">View Availability Replica Properties &#40;SQL Server&#41;</span></span>](view-availability-replica-properties-sql-server.md)  
  
-   [<span data-ttu-id="08662-318">Использование диалогового окна "Создание группы доступности" (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="08662-318">Use the New Availability Group Dialog Box &#40;SQL Server Management Studio&#41;</span></span>](use-the-new-availability-group-dialog-box-sql-server-management-studio.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="08662-319">См. также</span><span class="sxs-lookup"><span data-stu-id="08662-319">Related Content</span></span>  
  
-   [<span data-ttu-id="08662-320">Блог группы разработчиков SQL Server AlwaysOn: официальный блог группы разработчиков SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="08662-320">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="08662-321">См. также:</span><span class="sxs-lookup"><span data-stu-id="08662-321">See Also</span></span>  
 <span data-ttu-id="08662-322">[Общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="08662-322">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="08662-323">[Сведения о доступе клиентского подключения к репликам доступности (SQL Server)](about-client-connection-access-to-availability-replicas-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="08662-323">[About Client Connection Access to Availability Replicas &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md) </span></span>  
 <span data-ttu-id="08662-324">[Прослушиватели групп доступности, возможность подключения клиентов и отработка отказа приложений (SQL Server)](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="08662-324">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="08662-325">Статистика</span><span class="sxs-lookup"><span data-stu-id="08662-325">Statistics</span></span>](../../../relational-databases/statistics/statistics.md)  
  
  

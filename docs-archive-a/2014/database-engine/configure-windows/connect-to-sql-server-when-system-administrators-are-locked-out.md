---
title: Подключение к SQL Server в случае, если доступ системных администраторов заблокирован | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- sa account
- connecting when locked out [SQL Server]
- locked out [SQL Server]
ms.assetid: c0c0082e-b867-480f-a54b-79f2a94ceb67
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 47b9659943e51a2d31a2354740660aebd652745c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665543"
---
# <a name="connect-to-sql-server-when-system-administrators-are-locked-out"></a><span data-ttu-id="d5874-102">Подключение к SQL Server в случае, если доступ системных администраторов заблокирован</span><span class="sxs-lookup"><span data-stu-id="d5874-102">Connect to SQL Server When System Administrators Are Locked Out</span></span>
  <span data-ttu-id="d5874-103">В этом разделе описывается, как восстановить доступ к компоненту [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] в качестве системного администратора.</span><span class="sxs-lookup"><span data-stu-id="d5874-103">This topic describes how you can regain access to the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] as a system administrator.</span></span> <span data-ttu-id="d5874-104">Системный администратор может утратить доступ к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по одной из следующих причин:</span><span class="sxs-lookup"><span data-stu-id="d5874-104">A system administrator can lose access to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] because of one of the following reasons:</span></span>  
  
-   <span data-ttu-id="d5874-105">по ошибке удалены все члены предопределенной роли сервера sysadmin;</span><span class="sxs-lookup"><span data-stu-id="d5874-105">All logins that are members of the sysadmin fixed server role have been removed by mistake.</span></span>  
  
-   <span data-ttu-id="d5874-106">по ошибке удалены все группы Windows, которые являлись членами предопределенной роли сервера sysadmin;</span><span class="sxs-lookup"><span data-stu-id="d5874-106">All Windows Groups that are members of the sysadmin fixed server role have been removed by mistake.</span></span>  
  
-   <span data-ttu-id="d5874-107">имена входа, являющиеся членами предопределенной роли сервера sysadmin, принадлежат лицам, которые покинули компанию или недоступны;</span><span class="sxs-lookup"><span data-stu-id="d5874-107">The logins that are members of the sysadmin fixed server role are for individuals who have left the company or who are not available.</span></span>  
  
-   <span data-ttu-id="d5874-108">учетная запись sa отключена, или никто не знает ее пароля.</span><span class="sxs-lookup"><span data-stu-id="d5874-108">The sa account is disabled or no one knows the password.</span></span>  
  
 <span data-ttu-id="d5874-109">Одним из способов восстановления доступа является повторная установка [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и присоединение всех баз данных к новому экземпляру.</span><span class="sxs-lookup"><span data-stu-id="d5874-109">One way in which you can regain access is to reinstall [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and attach all the databases to the new instance.</span></span> <span data-ttu-id="d5874-110">Такое решение занимает продолжительное время, а для восстановления имен входа может потребоваться восстановление базы данных master из резервной копии.</span><span class="sxs-lookup"><span data-stu-id="d5874-110">This solution is time-consuming; and, to recover the logins, it might require restoring the master database from a backup.</span></span> <span data-ttu-id="d5874-111">Если резервная копия базы данных master создана давно, в ней могут отсутствовать некоторые сведения.</span><span class="sxs-lookup"><span data-stu-id="d5874-111">If the backup of the master database is older, it might not have all the information.</span></span> <span data-ttu-id="d5874-112">В более свежей резервной копии базы данных master могут содержаться имена входа, относящиеся к предыдущему экземпляру, и поэтому администраторы по-прежнему будут заблокированы.</span><span class="sxs-lookup"><span data-stu-id="d5874-112">If the backup of the master database is more recent, it might have the same logins as the previous instance; therefore, administrators will still be locked out.</span></span>  
  
## <a name="resolution"></a><span data-ttu-id="d5874-113">Решение</span><span class="sxs-lookup"><span data-stu-id="d5874-113">Resolution</span></span>  
 <span data-ttu-id="d5874-114">Запустите экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в однопользовательском режиме с использованием параметра **-m** или **-f** .</span><span class="sxs-lookup"><span data-stu-id="d5874-114">Start the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode by using either the **-m** or **-f** options.</span></span> <span data-ttu-id="d5874-115">Затем любой член локальной группы администраторов на компьютере может подключиться к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в качестве члена предопределенной роли сервера sysadmin.</span><span class="sxs-lookup"><span data-stu-id="d5874-115">Any member of the computer's local Administrators group can then connect to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] as a member of the sysadmin fixed server role.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d5874-116">При запуске экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в однопользовательском режиме сначала нужно остановить службу «Агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ».</span><span class="sxs-lookup"><span data-stu-id="d5874-116">When you start an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode, first stop the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service.</span></span> <span data-ttu-id="d5874-117">В противном случае агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может установить соединение первым, что не позволит подключиться второму пользователю.</span><span class="sxs-lookup"><span data-stu-id="d5874-117">Otherwise, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent might connect first and prevent you from connecting as a second user.</span></span>  
  
 <span data-ttu-id="d5874-118">При использовании параметра **-m** с **sqlcmd** или [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] можно ограничить соединения с указанным клиентским приложением.</span><span class="sxs-lookup"><span data-stu-id="d5874-118">When you use the **-m** option with **sqlcmd** or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], you can limit the connections to a specified client application.</span></span> <span data-ttu-id="d5874-119">Например, **-m "sqlcmd"** ограничивает соединения с одним соединением, и это соединение должно идентифицироваться как клиентская программа **sqlcmd** .</span><span class="sxs-lookup"><span data-stu-id="d5874-119">For example, **-m"sqlcmd"** limits connections to a single connection and that connection must identify itself as the **sqlcmd** client program.</span></span> <span data-ttu-id="d5874-120">Этот параметр следует использовать, когда [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] запускается в однопользовательском режиме, а единственное доступное соединение занято неизвестным клиентским приложением.</span><span class="sxs-lookup"><span data-stu-id="d5874-120">Use this option when you are starting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode and an unknown client application is taking the only available connection.</span></span> <span data-ttu-id="d5874-121">Чтобы подключиться с помощью редактора запросов в [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], используйте **-m"Microsoft SQL Server Management Studio - Query"** .</span><span class="sxs-lookup"><span data-stu-id="d5874-121">To connect through the Query Editor in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], use **-m"Microsoft SQL Server Management Studio - Query"**.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d5874-122">Не используйте этот параметр как средство безопасности.</span><span class="sxs-lookup"><span data-stu-id="d5874-122">Do not use this option as a security feature.</span></span> <span data-ttu-id="d5874-123">Клиентское приложение предоставляет имя клиентского приложения и может указать ложное имя в составе строки подключения.</span><span class="sxs-lookup"><span data-stu-id="d5874-123">The client application provides the client application name, and can provide a false name as part of the connection string.</span></span>  
  
 <span data-ttu-id="d5874-124">Пошаговые инструкции по запуску [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в однопользовательском режиме см. в разделе [Настройка параметров запуска сервера (диспетчер конфигурации SQL Server)](scm-services-configure-server-startup-options.md).</span><span class="sxs-lookup"><span data-stu-id="d5874-124">For step-by-step instructions about how to start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode, see [Configure Server Startup Options &#40;SQL Server Configuration Manager&#41;](scm-services-configure-server-startup-options.md).</span></span>  
  
## <a name="step-by-step-instructions"></a><span data-ttu-id="d5874-125">Пошаговые инструкции</span><span class="sxs-lookup"><span data-stu-id="d5874-125">Step-By-Step Instructions</span></span>  
 <span data-ttu-id="d5874-126">Следующие инструкции описывают процесс соединения с [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , работающим на платформе Windows 8 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="d5874-126">The following instructions describe the process for connecting to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] running on Windows 8 or higher.</span></span> <span data-ttu-id="d5874-127">Небольшие изменения для предыдущих версий SQL Server или Windows приведены.</span><span class="sxs-lookup"><span data-stu-id="d5874-127">Slight adjustments for earlier versions of SQL Server or Windows are provided.</span></span> <span data-ttu-id="d5874-128">Эти инструкции должны выполняться в течение сеанса входа в Windows в качестве члена группы локальных администраторов, и предполагается, что на компьютере установлена [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d5874-128">These instructions must be performed while logged in to Windows as a member of the local administrators group, and they assume that [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] is installed on the computer.</span></span>  
  
1.  <span data-ttu-id="d5874-129">Запустите [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]с начальной страницы.</span><span class="sxs-lookup"><span data-stu-id="d5874-129">From the Start page, start [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="d5874-130">В меню **Вид** выберите команду **Зарегистрированные серверы**.</span><span class="sxs-lookup"><span data-stu-id="d5874-130">On the **View** menu, select **Registered Servers**.</span></span> <span data-ttu-id="d5874-131">(Если сервер еще не зарегистрирован, щелкните правой кнопкой мыши узел **Группы локальных серверов**, наведите указатель на пункт **Задачи**и выберите пункт **Зарегистрировать локальные серверы**.)</span><span class="sxs-lookup"><span data-stu-id="d5874-131">(If your server is not already registered, right-click **Local Server Groups**, point to **Tasks**, and then click **Register Local Servers**.)</span></span>  
  
2.  <span data-ttu-id="d5874-132">В области "Зарегистрированные серверы" щелкните правой кнопкой мыши сервер и выберите пункт **Диспетчер конфигурации SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="d5874-132">In the Registered Servers area, right-click your server, and then click **SQL Server Configuration Manager**.</span></span> <span data-ttu-id="d5874-133">После этого программа должна запросить разрешение на запуск от имени администратора, а затем откроется программа диспетчера конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d5874-133">This should ask for permission to run as administrator, and then open the Configuration Manager program.</span></span>  
  
3.  <span data-ttu-id="d5874-134">Закройте среду [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d5874-134">Close [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  
4.  <span data-ttu-id="d5874-135">На левой панели диспетчера конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выберите **Службы SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="d5874-135">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, in the left pane, select **SQL Server Services**.</span></span> <span data-ttu-id="d5874-136">На панели справа найдите свой экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d5874-136">In the right-pane, find your instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d5874-137">(Экземпляр по умолчанию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] включает **(MSSQLSERVER)** после имени компьютера.</span><span class="sxs-lookup"><span data-stu-id="d5874-137">(The default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] includes **(MSSQLSERVER)** after the computer name.</span></span> <span data-ttu-id="d5874-138">Именованные экземпляры появляются в верхнем регистре с тем же названием, что и в списке «зарегистрированные серверы»). Щелкните правой кнопкой мыши экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], а затем выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="d5874-138">Named instances appear in upper case with the same name that they have in Registered Servers.) Right-click the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and then click **Properties**.</span></span>  
  
5.  <span data-ttu-id="d5874-139">На вкладке **Параметры запуска** в поле **укажите параметр запуска** введите, `-m` а затем нажмите кнопку `Add` .</span><span class="sxs-lookup"><span data-stu-id="d5874-139">On the **Startup Parameters** tab, in the **Specify a startup parameter** box, type `-m` and then click `Add`.</span></span> <span data-ttu-id="d5874-140">(Это дефис, затем буква «m» в нижнем регистре.)</span><span class="sxs-lookup"><span data-stu-id="d5874-140">(That's a dash then lower case letter m.)</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d5874-141">В некоторых предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] нет вкладки **Параметры запуска** . В этом случае на вкладке **Дополнительно** дважды щелкните **Параметры запуска**.</span><span class="sxs-lookup"><span data-stu-id="d5874-141">For some earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] there is no **Startup Parameters** tab. In that case, on the **Advanced** tab, double-click **Startup Parameters**.</span></span> <span data-ttu-id="d5874-142">Параметры открываются в очень маленьком окне.</span><span class="sxs-lookup"><span data-stu-id="d5874-142">The parameters open up in a very small window.</span></span> <span data-ttu-id="d5874-143">Не изменяйте существующие параметры.</span><span class="sxs-lookup"><span data-stu-id="d5874-143">Be careful not to change any of the existing parameters.</span></span> <span data-ttu-id="d5874-144">В самом конце добавьте новый параметр `;-m` и нажмите `OK`.</span><span class="sxs-lookup"><span data-stu-id="d5874-144">At the very end, add a new parameter `;-m` and then click `OK`.</span></span> <span data-ttu-id="d5874-145">(Это точка с запятой, затем дефис, затем буква «m» в нижнем регистре.)</span><span class="sxs-lookup"><span data-stu-id="d5874-145">(That's a semi-colon then a dash then lower case letter m.)</span></span>  
  
6.  <span data-ttu-id="d5874-146">Щелкните `OK` и после сообщения для перезапуска щелкните правой кнопкой мыши имя сервера и выберите пункт **перезапустить**.</span><span class="sxs-lookup"><span data-stu-id="d5874-146">Click `OK`, and after the message to restart, right-click your server name, and then click **Restart**.</span></span>  
  
7.  <span data-ttu-id="d5874-147">После перезагрузки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ваш сервер находится в однопользовательском режиме.</span><span class="sxs-lookup"><span data-stu-id="d5874-147">After [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] has restarted your server will be in single-user mode.</span></span> <span data-ttu-id="d5874-148">Убедитесь, что агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не выполняется.</span><span class="sxs-lookup"><span data-stu-id="d5874-148">Make sure that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is not running.</span></span> <span data-ttu-id="d5874-149">Если он был запущен, то он займет ваше единственное соединение.</span><span class="sxs-lookup"><span data-stu-id="d5874-149">If started, it will take your only connection.</span></span>  
  
8.  <span data-ttu-id="d5874-150">На стартовом экране Windows 8 щелкните правой кнопкой мыши пиктограмму для [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d5874-150">On the Windows 8 start screen, right-click the icon for [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span> <span data-ttu-id="d5874-151">В нижней части экрана выберите **Запуск от имени администратора**.</span><span class="sxs-lookup"><span data-stu-id="d5874-151">At the bottom of the screen, select **Run as administrator**.</span></span> <span data-ttu-id="d5874-152">(Это передаст учетные данные администратора в SSMS.)</span><span class="sxs-lookup"><span data-stu-id="d5874-152">(This will pass your administrator credentials to SSMS.)</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d5874-153">В более ранних версиях Windows параметр **Запуск от имени администратора** появляется в виде подменю.</span><span class="sxs-lookup"><span data-stu-id="d5874-153">For earlier versions of Windows, the **Run as administrator** option appears as a sub-menu.</span></span>  
  
     <span data-ttu-id="d5874-154">В некоторых конфигурациях SSMS попытается установить несколько подключений.</span><span class="sxs-lookup"><span data-stu-id="d5874-154">In some configurations, SSMS will attempt to make several connections.</span></span> <span data-ttu-id="d5874-155">Многочисленные соединения приведут к ошибке, поскольку [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] находится в однопользовательском режиме.</span><span class="sxs-lookup"><span data-stu-id="d5874-155">Multiple connections will fail because [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is in single-user mode.</span></span> <span data-ttu-id="d5874-156">Можно выбрать одно из следующих действий для выполнения.</span><span class="sxs-lookup"><span data-stu-id="d5874-156">You can select one of the following actions to perform.</span></span> <span data-ttu-id="d5874-157">Выполните одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="d5874-157">Do one of the following.</span></span>  
  
    1.  <span data-ttu-id="d5874-158">Подключитесь с помощью обозревателя объектов, используя проверку подлинности Windows (которая включает учетные данные администратора).</span><span class="sxs-lookup"><span data-stu-id="d5874-158">Connect with Object Explorer using Windows Authentication (which includes your Administrator credentials).</span></span> <span data-ttu-id="d5874-159">Разверните **Безопасность**, затем **Имена входа**и дважды щелкните имя входа.</span><span class="sxs-lookup"><span data-stu-id="d5874-159">Expand **Security**, expand **Logins**, and double-click your own login.</span></span> <span data-ttu-id="d5874-160">На странице **роли сервера** выберите `sysadmin` и нажмите кнопку `OK` .</span><span class="sxs-lookup"><span data-stu-id="d5874-160">On the **Server Roles** page, select `sysadmin`, and then click `OK`.</span></span>  
  
    2.  <span data-ttu-id="d5874-161">Вместо соединения с помощью обозревателя объектов подключитесь с помощью окна запросов, используя проверку подлинности Windows (которая включает учетные данные администратора).</span><span class="sxs-lookup"><span data-stu-id="d5874-161">Instead of connecting with Object Explorer, connect with a Query Window using Windows Authentication (which includes your Administrator credentials).</span></span> <span data-ttu-id="d5874-162">(Такой способ можно подключить, только если вы не подключались с помощью обозревателя объектов.) Выполните код, как показано ниже, чтобы добавить новое имя входа для проверки подлинности Windows, которое является членом `sysadmin` предопределенной роли сервера.</span><span class="sxs-lookup"><span data-stu-id="d5874-162">(You can only connect this way if you did not connect with Object Explorer.) Execute code such as the following to add a new Windows Authentication login that is a member of the `sysadmin` fixed server role.</span></span> <span data-ttu-id="d5874-163">В следующем примере создается пользователь с именем `CONTOSO\PatK`.</span><span class="sxs-lookup"><span data-stu-id="d5874-163">The following example adds a domain user named `CONTOSO\PatK`.</span></span>  
  
        ```  
        CREATE LOGIN [CONTOSO\PatK] FROM WINDOWS;  
        ALTER SERVER ROLE sysadmin ADD MEMBER [CONTOSO\PatK];  
        ```  
  
    3.  <span data-ttu-id="d5874-164">Если экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] работает в режиме смешанной проверки подлинности, подключитесь к окну запросов при помощи проверки подлинности Windows (которая включает учетные данные администратора).</span><span class="sxs-lookup"><span data-stu-id="d5874-164">If your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in mixed authentication mode, connect with a Query Window using Windows Authentication (which includes your Administrator credentials).</span></span> <span data-ttu-id="d5874-165">Выполните код, подобный приведенному ниже, чтобы создать новое [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имя входа для проверки подлинности, которое является членом `sysadmin` предопределенной роли сервера.</span><span class="sxs-lookup"><span data-stu-id="d5874-165">Execute code such as the following to create a new [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login that is a member of the `sysadmin` fixed server role.</span></span>  
  
        ```  
        CREATE LOGIN TempLogin WITH PASSWORD = '************';  
        ALTER SERVER ROLE sysadmin ADD MEMBER TempLogin;  
        ```  
  
        > [!WARNING]  
        >  <span data-ttu-id="d5874-166">Замените \*\*\*\*\*\*\*\*\*\*\*\* надежным паролем.</span><span class="sxs-lookup"><span data-stu-id="d5874-166">Replace \*\*\*\*\*\*\*\*\*\*\*\* with a strong password.</span></span>  
  
    4.  <span data-ttu-id="d5874-167">Если [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] вы работаете в режиме смешанной проверки подлинности и хотите сбросить пароль `sa` учетной записи, подключитесь к окну запроса, используя проверку подлинности Windows (которая включает учетные данные администратора).</span><span class="sxs-lookup"><span data-stu-id="d5874-167">If your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in mixed authentication mode and you want to reset the password of the `sa` account, connect with a Query Window using Windows Authentication (which includes your Administrator credentials).</span></span> <span data-ttu-id="d5874-168">Измените пароль `sa` учетной записи, используя следующий синтаксис.</span><span class="sxs-lookup"><span data-stu-id="d5874-168">Change the password of the `sa` account with the following syntax.</span></span>  
  
        ```  
        ALTER LOGIN sa WITH PASSWORD = '************';  
        ```  
  
        > [!WARNING]  
        >  <span data-ttu-id="d5874-169">Замените \*\*\*\*\*\*\*\*\*\*\*\* надежным паролем.</span><span class="sxs-lookup"><span data-stu-id="d5874-169">Replace \*\*\*\*\*\*\*\*\*\*\*\* with a strong password.</span></span>  
  
9. <span data-ttu-id="d5874-170">Следующие действия переведут [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обратно в многопользовательский режим.</span><span class="sxs-lookup"><span data-stu-id="d5874-170">The following steps now change [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] back to multi-user mode.</span></span> <span data-ttu-id="d5874-171">Закройте среду SSMS.</span><span class="sxs-lookup"><span data-stu-id="d5874-171">Close SSMS.</span></span>  
  
10. <span data-ttu-id="d5874-172">На левой панели диспетчера конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выберите **Службы SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="d5874-172">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, in the left pane, select **SQL Server Services**.</span></span> <span data-ttu-id="d5874-173">На правой панели щелкните экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]правой кнопкой мыши и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="d5874-173">In the right-pane, right-click the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and then click **Properties**.</span></span>  
  
11. <span data-ttu-id="d5874-174">На вкладке **Параметры запуска** в поле **существующие параметры** выберите `-m` и нажмите кнопку `Remove` .</span><span class="sxs-lookup"><span data-stu-id="d5874-174">On the **Startup Parameters** tab, in the **Existing parameters** box, select `-m` and then click `Remove`.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d5874-175">В некоторых предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] нет вкладки **Параметры запуска** . В этом случае на вкладке **Дополнительно** дважды щелкните **Параметры запуска**.</span><span class="sxs-lookup"><span data-stu-id="d5874-175">For some earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] there is no **Startup Parameters** tab. In that case, on the **Advanced** tab, double-click **Startup Parameters**.</span></span> <span data-ttu-id="d5874-176">Параметры открываются в очень маленьком окне.</span><span class="sxs-lookup"><span data-stu-id="d5874-176">The parameters open up in a very small window.</span></span> <span data-ttu-id="d5874-177">Удалите `;-m` добавленный ранее, а затем нажмите кнопку `OK` .</span><span class="sxs-lookup"><span data-stu-id="d5874-177">Remove the `;-m` which you added earlier, and then click `OK`.</span></span>  
  
12. <span data-ttu-id="d5874-178">Щелкните правой кнопкой мыши имя сервера и выберите пункт **Перезапустить**.</span><span class="sxs-lookup"><span data-stu-id="d5874-178">Right-click your server name, and then click **Restart**.</span></span>  
  
 <span data-ttu-id="d5874-179">Теперь вы должны иметь возможность подключения к одной из учетных записей, которая теперь является членом `sysadmin` предопределенной роли сервера.</span><span class="sxs-lookup"><span data-stu-id="d5874-179">Now you should be able to connect normally with one of the accounts which is now a member of the `sysadmin` fixed server role.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d5874-180">См. также:</span><span class="sxs-lookup"><span data-stu-id="d5874-180">See Also</span></span>  
 <span data-ttu-id="d5874-181">[Запуск SQL Server в однопользовательском режиме](start-sql-server-in-single-user-mode.md) </span><span class="sxs-lookup"><span data-stu-id="d5874-181">[Start SQL Server in Single-User Mode](start-sql-server-in-single-user-mode.md) </span></span>  
 [<span data-ttu-id="d5874-182">Параметры запуска службы Database Engine</span><span class="sxs-lookup"><span data-stu-id="d5874-182">Database Engine Service Startup Options</span></span>](database-engine-service-startup-options.md)  
  
  

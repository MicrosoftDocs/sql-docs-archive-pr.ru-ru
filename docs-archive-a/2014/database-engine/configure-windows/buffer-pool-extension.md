---
title: Расширение буферного пула | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
ms.assetid: 909ab7d2-2b29-46f5-aea1-280a5f8fedb4
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 42a8873f4046a307e3b8ec1ce703a34bf8cb0df2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87740445"
---
# <a name="buffer-pool-extension"></a><span data-ttu-id="8d04b-102">Buffer Pool Extension</span><span class="sxs-lookup"><span data-stu-id="8d04b-102">Buffer Pool Extension</span></span>
  <span data-ttu-id="8d04b-103">Расширение буферного пула, появившееся в [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], обеспечивает сквозную интеграцию твердотельных накопителей (SSD) в качестве расширения ОЗУ (NvRAM) для буферного пула компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] и позволяет значительно повысить пропускную способность ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="8d04b-103">Introduced in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], the buffer pool extension provides the seamless integration of a nonvolatile random access memory (that is, solid-state drive) extension to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] buffer pool to significantly improve I/O throughput.</span></span> <span data-ttu-id="8d04b-104">Расширение буферного пула доступно не во всех выпусках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d04b-104">The buffer pool extension is not available in every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] edition.</span></span> <span data-ttu-id="8d04b-105">Дополнительные сведения см. [в разделе функции, поддерживаемые различными Выпусками SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="8d04b-105">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

## <a name="benefits-of-the-buffer-pool-extension"></a><span data-ttu-id="8d04b-106">Преимущества расширения буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-106">Benefits of the Buffer Pool Extension</span></span>
 <span data-ttu-id="8d04b-107">Главное назначение базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] — хранение и поиск данных, поэтому интенсивное использование операций дискового ввода-вывода — это основное свойство компонента Database Engine.</span><span class="sxs-lookup"><span data-stu-id="8d04b-107">The primary purpose of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is to store and retrieve data, so intensive disk I/O is a core characteristic of the Database Engine.</span></span> <span data-ttu-id="8d04b-108">Так как дисковые операции ввода-вывода могут потреблять много ресурсов и требовать относительно длительного времени для выполнения, в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] особое внимание уделено рациональному использованию операций ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="8d04b-108">Because disk I/O operations can consume many resources and take a relatively long time to finish, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] focuses on making I/O highly efficient.</span></span> <span data-ttu-id="8d04b-109">Буферный пул служит основным источником размещения памяти [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8d04b-109">The buffer pool serves as a primary memory allocation source of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8d04b-110">Управление буфером — это ключевой компонент в достижении этой рациональности.</span><span class="sxs-lookup"><span data-stu-id="8d04b-110">Buffer management is a key component in achieving this efficiency.</span></span> <span data-ttu-id="8d04b-111">Компонент управления буферами состоит из двух механизмов: диспетчера буферов для доступа к страницам баз данных и их обновления и буферного пула для сокращения операций файлового ввода-вывода базы данных.</span><span class="sxs-lookup"><span data-stu-id="8d04b-111">The buffer management component consists of two mechanisms: the buffer manager to access and update database pages, and the buffer pool), to reduce database file I/O.</span></span>

 <span data-ttu-id="8d04b-112">Страницы данных и индексов считываются с диска в буферный пул, а измененные страницы (так называемые «грязные страницы») записываются обратно на диск.</span><span class="sxs-lookup"><span data-stu-id="8d04b-112">Data and index pages are read from disk into the buffer pool and modified pages (also known as dirty pages) are written back to disk.</span></span> <span data-ttu-id="8d04b-113">Нехватка памяти в контрольных точках сервера и базы данных приводит к тому, что активные «грязные» страницы удаляются из буферного кэша, записываются на механические диски и считываются обратно в кэш.</span><span class="sxs-lookup"><span data-stu-id="8d04b-113">Memory pressure on the server and database checkpoints cause hot (active) dirty pages in the buffer cache to be evicted from the cache and written to mechanical disks and then read back into the cache.</span></span> <span data-ttu-id="8d04b-114">Эти операции ввода-вывода обычно представляют небольшие произвольные операции чтения и записи с объемом данных от 4 до 16 КБ.</span><span class="sxs-lookup"><span data-stu-id="8d04b-114">These I/O operations are typically small random reads and writes on the order of 4 to 16 KB of data.</span></span> <span data-ttu-id="8d04b-115">Работа в режиме небольших произвольных операций ввода-вывода предполагает частые операции поиска, конкурирующие за перемещение головки диска, что увеличивает задержку ввода-вывода и сокращает общую пропускную способность ввода-вывода системы.</span><span class="sxs-lookup"><span data-stu-id="8d04b-115">Small random I/O patterns incur frequent seeks, competing for the mechanical disk arm, increasing I/O latency, and reducing aggregate I/O throughput of the system.</span></span>

 <span data-ttu-id="8d04b-116">Типичный подход к устранению этих «узких мест» заключается в добавлении дополнительных модулей DRAM или высокопроизводительных шпинделей SAS.</span><span class="sxs-lookup"><span data-stu-id="8d04b-116">The typical approach to resolving these I/O bottlenecks is to add more DRAM, or alternatively, added high-performance SAS spindles.</span></span> <span data-ttu-id="8d04b-117">Хотя эти варианты работают, у них есть существенные недостатки: модули DRAM дороже, чем диски хранения данных, а установка шпинделей увеличивает капитальные расходы при покупке оборудовании и эксплуатационные расходы из-за повышения энергопотребления и вероятности сбоя компонента.</span><span class="sxs-lookup"><span data-stu-id="8d04b-117">While these options are helpful, they have significant drawbacks: DRAM is more expensive than data storage drives and adding spindles increases capital expenditure in hardware acquisition and increases operational costs by increased power consumption and increased probability of component failure.</span></span>

 <span data-ttu-id="8d04b-118">Компонент расширения буферного пула расширяет кэш буферного пула с помощью памяти энергонезависимого хранилища (обычно на основе SSD-дисков).</span><span class="sxs-lookup"><span data-stu-id="8d04b-118">The buffer pool extension feature extends the buffer pool cache with nonvolatile storage (usually SSD).</span></span> <span data-ttu-id="8d04b-119">В результате этого расширения в буферном пуле становится возможным разместить рабочее множество данных большего объема, что обеспечивает подкачку операций ввода-вывода между ОЗУ и SSD-дисками.</span><span class="sxs-lookup"><span data-stu-id="8d04b-119">Because of this extension, the buffer pool can accommodate a larger database working set, which forces the paging of I/Os between RAM and the SSDs.</span></span> <span data-ttu-id="8d04b-120">Это эффективно перераспределяет нагрузку небольших случайных операций ввода-вывода с механических дисков на SSD-диски.</span><span class="sxs-lookup"><span data-stu-id="8d04b-120">This effectively offloads small random I/Os from mechanical disks to SSDs.</span></span> <span data-ttu-id="8d04b-121">Благодаря более низкой задержке и улучшенной производительности случайных операций ввода-вывода SSD-дисков расширение буферного пула значительно повышает пропускную способность ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="8d04b-121">Because of the lower latency and better random I/O performance of SSDs, the buffer pool extension significantly improves I/O throughput.</span></span>

 <span data-ttu-id="8d04b-122">В следующем списке приведены преимущества расширения буферного пула.</span><span class="sxs-lookup"><span data-stu-id="8d04b-122">The following list describes the benefits of the buffer pool extension feature.</span></span>

-   <span data-ttu-id="8d04b-123">Повышенная пропускная способность произвольных операций ввода-вывода</span><span class="sxs-lookup"><span data-stu-id="8d04b-123">Increased random I/O throughput</span></span>

-   <span data-ttu-id="8d04b-124">Уменьшенная задержки ввода-вывода</span><span class="sxs-lookup"><span data-stu-id="8d04b-124">Reduced I/O latency</span></span>

-   <span data-ttu-id="8d04b-125">Повышенная пропускная способность транзакций</span><span class="sxs-lookup"><span data-stu-id="8d04b-125">Increased transaction throughput</span></span>

-   <span data-ttu-id="8d04b-126">Улучшенная производительность операций чтения с использованием крупного гибридного буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-126">Improved read performance with a larger hybrid buffer pool</span></span>

-   <span data-ttu-id="8d04b-127">Архитектура кэширования, которая может использовать современные и будущие недорогие диски</span><span class="sxs-lookup"><span data-stu-id="8d04b-127">A caching architecture that can take advantage of present and future low-cost memory drives</span></span>

### <a name="concepts"></a><span data-ttu-id="8d04b-128">Основные понятия</span><span class="sxs-lookup"><span data-stu-id="8d04b-128">Concepts</span></span>
 <span data-ttu-id="8d04b-129">Следующие термины относятся к компоненту расширения буферного пула.</span><span class="sxs-lookup"><span data-stu-id="8d04b-129">The following terms are applicable to the buffer pool extension feature.</span></span>

 <span data-ttu-id="8d04b-130">Твердотельные накопители с твердотельными накопителями (SSD) хранят данные в памяти (ОЗУ) постоянным образом.</span><span class="sxs-lookup"><span data-stu-id="8d04b-130">Solid-state drive (SSD) Solid-state drives store data in memory (RAM) in a persistent manner.</span></span> <span data-ttu-id="8d04b-131">Дополнительные сведения см. в [этом определении](http://en.wikipedia.org/wiki/Solid-state_drive).</span><span class="sxs-lookup"><span data-stu-id="8d04b-131">For more information, see [this definition](http://en.wikipedia.org/wiki/Solid-state_drive).</span></span>

 <span data-ttu-id="8d04b-132">Буфер в буфер [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] — это 8-килобайтная страница в памяти такого же размера, что и страница данных или индекса.</span><span class="sxs-lookup"><span data-stu-id="8d04b-132">Buffer In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], A buffer is an 8-KB page in memory, the same size as a data or index page.</span></span> <span data-ttu-id="8d04b-133">Буферный кэш делится на 8-килобайтовые страницы.</span><span class="sxs-lookup"><span data-stu-id="8d04b-133">Thus, the buffer cache is divided into 8-KB pages.</span></span> <span data-ttu-id="8d04b-134">Страница остается в буферном кэше, пока диспетчеру буферов требуется область буфера для чтения дополнительных данных.</span><span class="sxs-lookup"><span data-stu-id="8d04b-134">A page remains in the buffer cache until the buffer manager needs the buffer area to read in more data.</span></span> <span data-ttu-id="8d04b-135">Данные записываются обратно на диск, только если они были изменены.</span><span class="sxs-lookup"><span data-stu-id="8d04b-135">Data is written back to disk only if it is modified.</span></span> <span data-ttu-id="8d04b-136">Эти измененные страницы в памяти называют «грязными».</span><span class="sxs-lookup"><span data-stu-id="8d04b-136">These in-memory modified pages are known as dirty pages.</span></span> <span data-ttu-id="8d04b-137">Страница чиста, когда она эквивалентна ее образу в базе данных на диске.</span><span class="sxs-lookup"><span data-stu-id="8d04b-137">A page is clean when it is equivalent to its database image on disk.</span></span> <span data-ttu-id="8d04b-138">Данные в буферном кэше могут измениться несколько раз, прежде чем будут сохранены обратно на диске.</span><span class="sxs-lookup"><span data-stu-id="8d04b-138">Data in the buffer cache can be modified multiple times before being written back to disk.</span></span>

 <span data-ttu-id="8d04b-139">Буферный пул также называется буферным кэшем.</span><span class="sxs-lookup"><span data-stu-id="8d04b-139">Buffer pool Also called buffer cache.</span></span> <span data-ttu-id="8d04b-140">Буферный пул — это глобальный ресурс, который совместно используется всеми базами данных для кэшированных страниц данных.</span><span class="sxs-lookup"><span data-stu-id="8d04b-140">The buffer pool is a global resource shared by all databases for their cached data pages.</span></span> <span data-ttu-id="8d04b-141">Минимальный и максимальный размер кэша буферного пула задается во время запуска или динамической настройки SQL Server с процедуры sp_configure.</span><span class="sxs-lookup"><span data-stu-id="8d04b-141">The maximum and minimum size of the buffer pool cache is determined during startup or when the instance of SQL server is dynamically reconfigured by using sp_configure.</span></span> <span data-ttu-id="8d04b-142">Этот размер определяет максимальное число страниц, которые могут кэшироваться в буферном пуле в любое время в запущенном экземпляре.</span><span class="sxs-lookup"><span data-stu-id="8d04b-142">This size determines the maximum number of pages that can be cached in the buffer pool at any time in the running instance.</span></span>

 <span data-ttu-id="8d04b-143">Контрольная точка контрольная точка создает известную хорошую точку, с которой [!INCLUDE[ssDE](../../includes/ssde-md.md)] можно начать применение изменений, содержащихся в журнале транзакций, в ходе восстановления после непредвиденного завершения работы или сбоя.</span><span class="sxs-lookup"><span data-stu-id="8d04b-143">Checkpoint A checkpoint creates a known good point from which the [!INCLUDE[ssDE](../../includes/ssde-md.md)] can start applying changes contained in the transaction log during recovery after an unexpected shutdown or crash.</span></span> <span data-ttu-id="8d04b-144">Новая контрольная точка записывает «грязные» страницы вместе со сведениями журнала транзакций из памяти на диск, а также сведения о журнале транзакций.</span><span class="sxs-lookup"><span data-stu-id="8d04b-144">A checkpoint writes the dirty pages and transaction log information from memory to disk and, also, records information about the transaction log.</span></span> <span data-ttu-id="8d04b-145">Дополнительные сведения см. в разделе [Контрольные точки базы данных (SQL Server)](../../relational-databases/logs/database-checkpoints-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="8d04b-145">For more information, see [Database Checkpoints &#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md).</span></span>

## <a name="buffer-pool-extension-details"></a><span data-ttu-id="8d04b-146">Сведения о расширении буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-146">Buffer Pool Extension Details</span></span>
 <span data-ttu-id="8d04b-147">SSD-хранилище используется как расширение подсистемы памяти вместо дисковой подсистемы хранилища.</span><span class="sxs-lookup"><span data-stu-id="8d04b-147">SSD storage is used as an extension to the memory subsystem rather than the disk storage subsystem.</span></span> <span data-ttu-id="8d04b-148">Это означает, что файл расширения буферного пула позволяет диспетчеру буферного пула использовать DRAM и NAND-Flash для реализации буферного пула намного большего размера из изменяемых страниц в энергонезависимой ОЗУ на основе SSD.</span><span class="sxs-lookup"><span data-stu-id="8d04b-148">That is, the buffer pool extension file allows the buffer pool manager to use both DRAM and NAND-Flash memory to maintain a much larger buffer pool of lukewarm pages in nonvolatile random access memory backed by SSDs.</span></span> <span data-ttu-id="8d04b-149">Это создает многоуровневую иерархию кэширования, где на 1-м уровне (L1) DRAM, а на 2-м уровне (L2) файл расширения буферного пула на SSD-дисках.</span><span class="sxs-lookup"><span data-stu-id="8d04b-149">This creates a multilevel caching hierarchy with level 1 (L1) as the DRAM and level 2 (L2) as the buffer pool extension file on the SSD.</span></span> <span data-ttu-id="8d04b-150">В кэш L2 записываются только чистые страницы, что позволяет обеспечить безопасность данных.</span><span class="sxs-lookup"><span data-stu-id="8d04b-150">Only clean pages are written to the L2 cache, which helps maintain data safety.</span></span> <span data-ttu-id="8d04b-151">Диспетчер буферов обеспечивает перемещение чистых страниц между кэшами L1 и L2.</span><span class="sxs-lookup"><span data-stu-id="8d04b-151">The buffer manager handles the movement of clean pages between the L1 and L2 caches.</span></span>

 <span data-ttu-id="8d04b-152">На следующем рисунке представлен общий обзор архитектуры буферного пула относительно других компонентов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d04b-152">The following illustration provides a high-level architectural overview of the buffer pool relative to other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>

 <span data-ttu-id="8d04b-153">![Архитектура расширения буферного пула SSD](../media/ssdbufferpoolextensionarchitecture.gif "Архитектура расширения буферного пула SSD")</span><span class="sxs-lookup"><span data-stu-id="8d04b-153">![SSD Buffer Pool Extension Architecture](../media/ssdbufferpoolextensionarchitecture.gif "SSD Buffer Pool Extension Architecture")</span></span>

 <span data-ttu-id="8d04b-154">Если расширение буферного пула включено, оно определяет размер и путь к файлу кэширования буферного пула на SSD-диске.</span><span class="sxs-lookup"><span data-stu-id="8d04b-154">When enabled, the buffer pool extension specifies the size and file path of the buffer pool caching file on the SSD.</span></span> <span data-ttu-id="8d04b-155">Этот файл представляет собой смежный экстент хранилища на SSD-дисках, которое настраивается статически во время запуска экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8d04b-155">This file is a contiguous extent of storage on the SSD and is statically configured during startup of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8d04b-156">Параметры файла конфигурации можно изменить, только если расширение буферного пула отключено.</span><span class="sxs-lookup"><span data-stu-id="8d04b-156">Alterations to the file configuration parameters can only be done when the buffer pool extension feature is disabled.</span></span> <span data-ttu-id="8d04b-157">Если расширение буферного пула отключено, все связанные параметры конфигурации удаляются из реестра.</span><span class="sxs-lookup"><span data-stu-id="8d04b-157">When the buffer pool extension is disabled, all related configuration settings are removed from the registry.</span></span> <span data-ttu-id="8d04b-158">Файл расширения буферного пула удаляется после завершения работы экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8d04b-158">The buffer pool extension file is deleted upon shutdown of the instance of SQL Server.</span></span>

## <a name="best-practices"></a><span data-ttu-id="8d04b-159">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="8d04b-159">Best Practices</span></span>
 <span data-ttu-id="8d04b-160">Рекомендуется следовать приведенным ниже правилам.</span><span class="sxs-lookup"><span data-stu-id="8d04b-160">We recommend that you follow these best practices.</span></span>

-   <span data-ttu-id="8d04b-161">Включив расширение буферного пула первый раз, перезапустите экземпляр SQL Server. Это позволит получить максимальную производительность.</span><span class="sxs-lookup"><span data-stu-id="8d04b-161">After enabling Buffer Pool Extension for the first time it is recommended to restart the SQL Server instance to get the maximum performance benefits.</span></span>

-   <span data-ttu-id="8d04b-162">Размер расширения буферного пула может достигать 32-кратного размера значения max_server_memory для выпусков Enterprise и 4-кратного размера — для выпуска Standard.</span><span class="sxs-lookup"><span data-stu-id="8d04b-162">The buffer pool extension size can be up to 32 times the value of max_server_memory for Enterprise editions, and up to 4 times for Standard edition.</span></span>  <span data-ttu-id="8d04b-163">Рекомендуемое соотношение между размером физической памяти (max_server_memory) и размером буферного пула расширения файлов не должно превышать 1:16.</span><span class="sxs-lookup"><span data-stu-id="8d04b-163">We recommend a ratio between the size of the physical memory (max_server_memory) and the size of the buffer pool extension of 1:16 or less.</span></span> <span data-ttu-id="8d04b-164">Более низкое значение в диапазоне от 1:4 до 1:8 может быть оптимальными.</span><span class="sxs-lookup"><span data-stu-id="8d04b-164">A lower ratio in the range of 1:4 to 1:8 may be optimal.</span></span> <span data-ttu-id="8d04b-165">Сведения о настройке параметра max_server_memory см. в разделе [Параметры конфигурации сервера "Server Memory"](server-memory-server-configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="8d04b-165">For information about setting the max_server_memory option, see [Server Memory Server Configuration Options](server-memory-server-configuration-options.md).</span></span>

-   <span data-ttu-id="8d04b-166">Тщательно протестируйте расширение буферного пула перед реализацией в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="8d04b-166">Test the buffer pool extension thoroughly before implementing in a production environment.</span></span> <span data-ttu-id="8d04b-167">После внедрения в рабочую среду не следует изменять конфигурацию в файле или отключать функцию.</span><span class="sxs-lookup"><span data-stu-id="8d04b-167">Once in production, avoid making configuration changes to the file or turning the feature off.</span></span> <span data-ttu-id="8d04b-168">Эти действия могут отрицательно повлиять на производительность сервера, поскольку размер буферного пула значительно снижается, когда эта функция отключена.</span><span class="sxs-lookup"><span data-stu-id="8d04b-168">These activities may have a negative impact on server performance because the buffer pool is significantly reduced in size when the feature is disabled.</span></span> <span data-ttu-id="8d04b-169">При отключении память, используемая для поддержки функции, не возвращается в кучу, пока не произойдет перезагрузка экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8d04b-169">When disabled, the memory used to support the feature is not reclaimed until the instance of SQL Server is restarted.</span></span> <span data-ttu-id="8d04b-170">Однако, если функцию снова включить, память будет использоваться повторно без перезапуска экземпляра.</span><span class="sxs-lookup"><span data-stu-id="8d04b-170">However, if the feature is re-enabled, the memory will be reused without restarting the instance.</span></span>

## <a name="return-information-about-the-buffer-pool-extension"></a><span data-ttu-id="8d04b-171">Получение сведений о расширении буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-171">Return Information about the Buffer Pool Extension</span></span>
 <span data-ttu-id="8d04b-172">Можно использовать следующие динамические административные представления для отображения конфигурации расширения буферного пула и получения сведений о страницах данных в расширении.</span><span class="sxs-lookup"><span data-stu-id="8d04b-172">You can use the following dynamic management views to display the configuration of the buffer pool extension and return information about the data pages in the extension.</span></span>

-   [<span data-ttu-id="8d04b-173">sys.dm_os_buffer_pool_extension_configuration (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="8d04b-173">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)

-   [<span data-ttu-id="8d04b-174">sys.dm_os_buffer_descriptors (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="8d04b-174">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)

 <span data-ttu-id="8d04b-175">Счетчики производительности доступны в объекте диспетчера буферов SQL Server для трассировки страниц данных в файле расширения буферного пула.</span><span class="sxs-lookup"><span data-stu-id="8d04b-175">Performance counters are available in the SQL Server, Buffer Manager Object to track the data pages in the buffer pool extension file.</span></span> <span data-ttu-id="8d04b-176">Дополнительные сведения см. в разделе [Счетчики производительности расширения буферного пула](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span><span class="sxs-lookup"><span data-stu-id="8d04b-176">For more information, see [buffer pool extension performance counters](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span></span>

 <span data-ttu-id="8d04b-177">Доступны следующие события Xevent.</span><span class="sxs-lookup"><span data-stu-id="8d04b-177">The following Xevents are available.</span></span>

|<span data-ttu-id="8d04b-178">XEvent</span><span class="sxs-lookup"><span data-stu-id="8d04b-178">XEvent</span></span>|<span data-ttu-id="8d04b-179">Описание</span><span class="sxs-lookup"><span data-stu-id="8d04b-179">Description</span></span>|<span data-ttu-id="8d04b-180">Параметры</span><span class="sxs-lookup"><span data-stu-id="8d04b-180">Parameters</span></span>|
|------------|-----------------|----------------|
|<span data-ttu-id="8d04b-181">sqlserver.buffer_pool_extension_pages_written</span><span class="sxs-lookup"><span data-stu-id="8d04b-181">sqlserver.buffer_pool_extension_pages_written</span></span>|<span data-ttu-id="8d04b-182">Срабатывает, когда страница или группа страниц извлекаются из буферного пула и записываются в файл расширения буферного пула.</span><span class="sxs-lookup"><span data-stu-id="8d04b-182">Fires when a page or group of pages are evicted from the buffer pool and written to the buffer pool extension file.</span></span>|<span data-ttu-id="8d04b-183">number_page</span><span class="sxs-lookup"><span data-stu-id="8d04b-183">number_page</span></span><br /><br /> <span data-ttu-id="8d04b-184">first_page_id</span><span class="sxs-lookup"><span data-stu-id="8d04b-184">first_page_id</span></span><br /><br /> <span data-ttu-id="8d04b-185">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="8d04b-185">first_page_offset</span></span><br /><br /> <span data-ttu-id="8d04b-186">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="8d04b-186">initiator_numa_node_id</span></span>|
|<span data-ttu-id="8d04b-187">sqlserver.buffer_pool_extension_pages_read</span><span class="sxs-lookup"><span data-stu-id="8d04b-187">sqlserver.buffer_pool_extension_pages_read</span></span>|<span data-ttu-id="8d04b-188">Возникает при считывании страницы из файла расширения буферного пула в буферный пул.</span><span class="sxs-lookup"><span data-stu-id="8d04b-188">Fires when a page is read from the buffer pool extension file to the buffer pool.</span></span>|<span data-ttu-id="8d04b-189">number_page</span><span class="sxs-lookup"><span data-stu-id="8d04b-189">number_page</span></span><br /><br /> <span data-ttu-id="8d04b-190">first_page_id</span><span class="sxs-lookup"><span data-stu-id="8d04b-190">first_page_id</span></span><br /><br /> <span data-ttu-id="8d04b-191">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="8d04b-191">first_page_offset</span></span><br /><br /> <span data-ttu-id="8d04b-192">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="8d04b-192">initiator_numa_node_id</span></span>|
|<span data-ttu-id="8d04b-193">sqlserver.buffer_pool_extension_pages_evicted</span><span class="sxs-lookup"><span data-stu-id="8d04b-193">sqlserver.buffer_pool_extension_pages_evicted</span></span>|<span data-ttu-id="8d04b-194">Возникает, когда страница извлекается из файла расширения буферного пула.</span><span class="sxs-lookup"><span data-stu-id="8d04b-194">Fires when a page is evicted from the buffer pool extension file.</span></span>|<span data-ttu-id="8d04b-195">number_page</span><span class="sxs-lookup"><span data-stu-id="8d04b-195">number_page</span></span><br /><br /> <span data-ttu-id="8d04b-196">first_page_id</span><span class="sxs-lookup"><span data-stu-id="8d04b-196">first_page_id</span></span><br /><br /> <span data-ttu-id="8d04b-197">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="8d04b-197">first_page_offset</span></span><br /><br /> <span data-ttu-id="8d04b-198">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="8d04b-198">initiator_numa_node_id</span></span>|
|<span data-ttu-id="8d04b-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span><span class="sxs-lookup"><span data-stu-id="8d04b-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span></span>|<span data-ttu-id="8d04b-200">Возникает при вычислении порогового значения вытеснения.</span><span class="sxs-lookup"><span data-stu-id="8d04b-200">Fires when the eviction threshold is calculated.</span></span>|<span data-ttu-id="8d04b-201">warm_threshold</span><span class="sxs-lookup"><span data-stu-id="8d04b-201">warm_threshold</span></span><br /><br /> <span data-ttu-id="8d04b-202">cold_threshold</span><span class="sxs-lookup"><span data-stu-id="8d04b-202">cold_threshold</span></span><br /><br /> <span data-ttu-id="8d04b-203">pages_bypassed_eviction</span><span class="sxs-lookup"><span data-stu-id="8d04b-203">pages_bypassed_eviction</span></span><br /><br /> <span data-ttu-id="8d04b-204">eviction_bypass_reason</span><span class="sxs-lookup"><span data-stu-id="8d04b-204">eviction_bypass_reason</span></span><br /><br /> <span data-ttu-id="8d04b-205">eviction_bypass_reason_description</span><span class="sxs-lookup"><span data-stu-id="8d04b-205">eviction_bypass_reason_description</span></span>|

## <a name="related-tasks"></a><span data-ttu-id="8d04b-206">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="8d04b-206">Related Tasks</span></span>

|||
|-|-|
|<span data-ttu-id="8d04b-207">**Описание задачи**</span><span class="sxs-lookup"><span data-stu-id="8d04b-207">**Task Description**</span></span>|<span data-ttu-id="8d04b-208">**Раздел**</span><span class="sxs-lookup"><span data-stu-id="8d04b-208">**Topic**</span></span>|
|<span data-ttu-id="8d04b-209">Включение и настройка расширения буферного пула.</span><span class="sxs-lookup"><span data-stu-id="8d04b-209">Enable and configure the buffer pool extension.</span></span>|[<span data-ttu-id="8d04b-210">ALTER SERVER CONFIGURATION (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="8d04b-210">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="8d04b-211">Изменение конфигурации расширения буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-211">Modify the buffer pool extension configuration</span></span>|[<span data-ttu-id="8d04b-212">ALTER SERVER CONFIGURATION (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="8d04b-212">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="8d04b-213">Просмотр конфигурации расширения буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-213">View the buffer pool extension configuration</span></span>|[<span data-ttu-id="8d04b-214">sys.dm_os_buffer_pool_extension_configuration (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="8d04b-214">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)|
|<span data-ttu-id="8d04b-215">Наблюдение за расширением буферного пула</span><span class="sxs-lookup"><span data-stu-id="8d04b-215">Monitor the buffer pool extension</span></span>|[<span data-ttu-id="8d04b-216">sys.dm_os_buffer_descriptors (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="8d04b-216">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)<br /><br /> [<span data-ttu-id="8d04b-217">Счетчики производительности</span><span class="sxs-lookup"><span data-stu-id="8d04b-217">Performance counters</span></span>](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md)|



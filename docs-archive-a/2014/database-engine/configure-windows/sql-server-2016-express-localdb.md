---
title: SQL Server 2014 Express LocalDB | Документация Майкрософт
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- user instances
- LocalDB, described
- local database runtime
- file database
- LocalDB
ms.assetid: 5a641a46-7cfb-4d7b-a90d-6e4625719d74
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: af60935af0d183ab7ed6d1c10f84229b7ead3730
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669097"
---
# <a name="sql-server-2014-express-localdb"></a><span data-ttu-id="6f61b-102">SQL Server 2014 Express LocalDB</span><span class="sxs-lookup"><span data-stu-id="6f61b-102">SQL Server 2014 Express LocalDB</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="6f61b-103">[!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` — это режим выполнения, [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] предназначенный для разработчиков программ.</span><span class="sxs-lookup"><span data-stu-id="6f61b-103">[!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` is an execution mode of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] targeted to program developers.</span></span> <span data-ttu-id="6f61b-104">`LocalDB`При установке копируется минимальный набор файлов, необходимых для запуска [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6f61b-104">`LocalDB` installation copies a minimal set of files necessary to start the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="6f61b-105">После `LocalDB` установки разработчики инициируют подключение, используя специальную строку подключения.</span><span class="sxs-lookup"><span data-stu-id="6f61b-105">Once `LocalDB` is installed, developers initiate a connection by using a special connection string.</span></span> <span data-ttu-id="6f61b-106">При соединении необходимая инфраструктура [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создается и запускается автоматически, что позволяет приложению использовать базу данных без выполнения сложной настройки, занимающей много времени.</span><span class="sxs-lookup"><span data-stu-id="6f61b-106">When connecting, the necessary [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] infrastructure is automatically created and started, enabling the application to use the database without complex or time consuming configuration tasks.</span></span> <span data-ttu-id="6f61b-107">Средства разработчика позволяют использовать [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] для написания и проверки кода [!INCLUDE[tsql](../../includes/tsql-md.md)] без необходимости управления полным экземпляром сервера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6f61b-107">Developer Tools can provide developers with a [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] that lets them write and test [!INCLUDE[tsql](../../includes/tsql-md.md)] code without having to manage a full server instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="6f61b-108">Экземпляр [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] `LocalDB` управляется с помощью `SqlLocalDB.exe` программы.</span><span class="sxs-lookup"><span data-stu-id="6f61b-108">An instance of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]`LocalDB` is managed by using the `SqlLocalDB.exe` utility.</span></span> [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]<span data-ttu-id="6f61b-109">`LocalDB`следует использовать вместо [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] функции пользовательского экземпляра, которая является устаревшей.</span><span class="sxs-lookup"><span data-stu-id="6f61b-109">`LocalDB` should be used in place of the [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] user instance feature which is deprecated.</span></span>  
  
## <a name="installing-localdb"></a><span data-ttu-id="6f61b-110">Установка LocalDB</span><span class="sxs-lookup"><span data-stu-id="6f61b-110">Installing LocalDB</span></span>  
 <span data-ttu-id="6f61b-111">Основной метод установки `LocalDB` — с помощью программы SqlLocalDB.msi.</span><span class="sxs-lookup"><span data-stu-id="6f61b-111">The primary method of installing `LocalDB` is by using the SqlLocalDB.msi program.</span></span> <span data-ttu-id="6f61b-112">`LocalDB`параметр используется при установке любого SKU [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6f61b-112">`LocalDB` is an option when installing any SKU of [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)].</span></span> <span data-ttu-id="6f61b-113">Выберите `LocalDB` на странице **Выбор компонентов** во время установки [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6f61b-113">Select `LocalDB` on the **Feature Selection** page during installation of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span> <span data-ttu-id="6f61b-114">Для каждой основной версии может быть только одна установка `LocalDB` двоичных файлов [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6f61b-114">There can be only one installation of the `LocalDB` binary files for each major [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] version.</span></span> <span data-ttu-id="6f61b-115">Можно запускать несколько процессов [!INCLUDE[ssDE](../../includes/ssde-md.md)] , которые будут использовать одни и те же двоичные файлы.</span><span class="sxs-lookup"><span data-stu-id="6f61b-115">Multiple [!INCLUDE[ssDE](../../includes/ssde-md.md)] processes can be started and will all use the same binaries.</span></span> <span data-ttu-id="6f61b-116">Экземпляр, [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] запущенный как, `LocalDB` имеет те же ограничения, что и[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6f61b-116">An instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] started as the `LocalDB` has the same limitations as [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]</span></span>  
  
## <a name="description"></a><span data-ttu-id="6f61b-117">Описание</span><span class="sxs-lookup"><span data-stu-id="6f61b-117">Description</span></span>  
 <span data-ttu-id="6f61b-118">`LocalDB`Программа установки использует программу SqlLocalDB.msi для установки необходимых файлов на компьютере.</span><span class="sxs-lookup"><span data-stu-id="6f61b-118">The `LocalDB` setup program uses the SqlLocalDB.msi program to install the necessary files on the computer.</span></span> <span data-ttu-id="6f61b-119">После установки `LocalDB` — это экземпляр [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] , который может создавать и открывать [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] базы данных.</span><span class="sxs-lookup"><span data-stu-id="6f61b-119">Once installed, `LocalDB` is an instance of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] that can create and open [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span> <span data-ttu-id="6f61b-120">Файлы системной базы данных, как правило, хранятся в каталоге AppData пользователя, который обычно скрыт.</span><span class="sxs-lookup"><span data-stu-id="6f61b-120">The system database files for the database are stored in the users' local AppData path which is normally hidden.</span></span> <span data-ttu-id="6f61b-121">Например, **C:\Users\\<пользователь\>\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\LocalDBApp1\\**.</span><span class="sxs-lookup"><span data-stu-id="6f61b-121">For example **C:\Users\\<user\>\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\LocalDBApp1\\**.</span></span> <span data-ttu-id="6f61b-122">Файлы пользовательской базы данных хранятся в месте, указанном пользователем, как правило, в папке **C:\Users\\<пользователь\>\Documents\\**.</span><span class="sxs-lookup"><span data-stu-id="6f61b-122">User database files are stored where the user designates, typically somewhere in the **C:\Users\\<user\>\Documents\\** folder.</span></span>  
  
 <span data-ttu-id="6f61b-123">Дополнительные сведения о включении `LocalDB` в приложение см [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] . в документации [Общие сведения о локальных данных](https://msdn.microsoft.com/library/ms233817\(VS.110\).aspx), [Пошаговое руководство. Создание SQL Server базы данных LocalDB](https://msdn.microsoft.com/library/ms233763\(VS.110\).aspx)и [Пошаговое руководство. подключение к данным в SQL Server базе данных LocalDB (Windows Forms)](https://msdn.microsoft.com/library/ms171890\(VS.110\).aspx).</span><span class="sxs-lookup"><span data-stu-id="6f61b-123">For more information about including `LocalDB` in an application, see the [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] documentation [Local Data Overview](https://msdn.microsoft.com/library/ms233817\(VS.110\).aspx), [Walkthrough: Creating a SQL Server LocalDB Database](https://msdn.microsoft.com/library/ms233763\(VS.110\).aspx), and [Walkthrough: Connecting to Data in a SQL Server LocalDB Database (Windows Forms)](https://msdn.microsoft.com/library/ms171890\(VS.110\).aspx).</span></span>  
  
 <span data-ttu-id="6f61b-124">Дополнительные сведения об `LocalDB` API см. в разделе [Справочник по API экземпляра LocalDB SQL Server Express](https://msdn.microsoft.com/library/hh234692\(SQL.110\).aspx) и [функция LocalDBStartInstance](https://msdn.microsoft.com/library/hh217143\(SQL.110\).aspx).</span><span class="sxs-lookup"><span data-stu-id="6f61b-124">For more information about the `LocalDB` API, see [SQL Server Express LocalDB Instance API Reference](https://msdn.microsoft.com/library/hh234692\(SQL.110\).aspx) and [LocalDBStartInstance Function](https://msdn.microsoft.com/library/hh217143\(SQL.110\).aspx).</span></span>  
  
 <span data-ttu-id="6f61b-125">Служебная программа SqlLocalDb может создавать новые экземпляры `LocalDB` , запускать и прекращать экземпляр `LocalDB` и включает параметры, помогающие управлять `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-125">The SqlLocalDb utility can create new instances of `LocalDB`, start and stop an instance of `LocalDB`, and includes options to help you manage `LocalDB`.</span></span>  <span data-ttu-id="6f61b-126">Дополнительные сведения о программе SqlLocalDb см. в разделе [Программа SqlLocalDB](../../tools/sqllocaldb-utility.md).</span><span class="sxs-lookup"><span data-stu-id="6f61b-126">For more information about the SqlLocalDb utility, see [SqlLocalDB Utility](../../tools/sqllocaldb-utility.md).</span></span>  
  
 <span data-ttu-id="6f61b-127">Параметры сортировки экземпляра для заданы `LocalDB` как SQL_Latin1_General_CP1_CI_AS и не могут быть изменены.</span><span class="sxs-lookup"><span data-stu-id="6f61b-127">The instance collation for `LocalDB` is set to SQL_Latin1_General_CP1_CI_AS and cannot be changed.</span></span> <span data-ttu-id="6f61b-128">Параметры сортировки на уровне базы данных, на уровне столбца и на уровне выражения поддерживаются обычным образом.</span><span class="sxs-lookup"><span data-stu-id="6f61b-128">Database-level, column-level, and expression-level collations are supported normally.</span></span> <span data-ttu-id="6f61b-129">Содержащиеся базы данных следуют правилам метаданных и параметрам сортировки tempdb, определенным [Contained Database Collations](../../relational-databases/databases/contained-database-collations.md).</span><span class="sxs-lookup"><span data-stu-id="6f61b-129">Contained databases follow the metadata and tempdb collations rules defined by [Contained Database Collations](../../relational-databases/databases/contained-database-collations.md).</span></span>  
  
### <a name="restrictions"></a><span data-ttu-id="6f61b-130">Ограничения</span><span class="sxs-lookup"><span data-stu-id="6f61b-130">Restrictions</span></span>  
 <span data-ttu-id="6f61b-131">`LocalDB`не может быть подписчиком репликации слиянием.</span><span class="sxs-lookup"><span data-stu-id="6f61b-131">`LocalDB` cannot be a merge replication subscriber.</span></span>  
  
 <span data-ttu-id="6f61b-132">`LocalDB`не поддерживает FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="6f61b-132">`LocalDB` does not support FILESTREAM.</span></span>  
  
 <span data-ttu-id="6f61b-133">`LocalDB`разрешает только локальные очереди для Service Broker.</span><span class="sxs-lookup"><span data-stu-id="6f61b-133">`LocalDB` only allows local queues for Service Broker.</span></span>  
  
 <span data-ttu-id="6f61b-134">Экземпляр, `LocalDB` принадлежащий встроенным учетным записям, например NT AUTHORITY\SYSTEM, может иметь проблемы управляемости из-за перенаправления файловой системы Windows. Вместо этого используйте обычную учетную запись Windows в качестве владельца.</span><span class="sxs-lookup"><span data-stu-id="6f61b-134">An instance of `LocalDB` owned by the built-in accounts such as NT AUTHORITY\SYSTEM can have manageability issues due to windows file system redirection; Instead use a normal windows account as the owner.</span></span>  
  
### <a name="automatic-and-named-instances"></a><span data-ttu-id="6f61b-135">Автоматические и именованные экземпляры</span><span class="sxs-lookup"><span data-stu-id="6f61b-135">Automatic and Named Instances</span></span>  
 <span data-ttu-id="6f61b-136">`LocalDB`поддерживает два типа экземпляров: Автоматические экземпляры и именованные экземпляры.</span><span class="sxs-lookup"><span data-stu-id="6f61b-136">`LocalDB` supports two kinds of instances: Automatic instances and named instances.</span></span>  
  
-   <span data-ttu-id="6f61b-137">Автоматические экземпляры `LocalDB` являются общедоступными.</span><span class="sxs-lookup"><span data-stu-id="6f61b-137">Automatic instances of `LocalDB` are public.</span></span> <span data-ttu-id="6f61b-138">Они создаются и обслуживаются автоматически и могут использоваться любым приложением.</span><span class="sxs-lookup"><span data-stu-id="6f61b-138">They are created and managed automatically for the user and can be used by any application.</span></span> <span data-ttu-id="6f61b-139">`LocalDB`Для каждой версии, `LocalDB` установленной на компьютере пользователя, существует один автоматический экземпляр.</span><span class="sxs-lookup"><span data-stu-id="6f61b-139">One automatic instance of `LocalDB` exists for every version of `LocalDB` installed on the user's computer.</span></span> <span data-ttu-id="6f61b-140">Автоматические экземпляры `LocalDB` обеспечивают эффективное управление экземплярами.</span><span class="sxs-lookup"><span data-stu-id="6f61b-140">Automatic instances of `LocalDB` provide seamless instance management.</span></span> <span data-ttu-id="6f61b-141">Нет необходимости создавать экземпляр. Он просто работает.</span><span class="sxs-lookup"><span data-stu-id="6f61b-141">There is no need to create the instance; it just works.</span></span> <span data-ttu-id="6f61b-142">Это упрощает установку приложения и его перенос на другой компьютер.</span><span class="sxs-lookup"><span data-stu-id="6f61b-142">This allows for easy application installation and migration to a different computer.</span></span> <span data-ttu-id="6f61b-143">Если на целевом компьютере установлена указанная версия `LocalDB`, то там также будет доступен автоматический экземпляр `LocalDB`.</span><span class="sxs-lookup"><span data-stu-id="6f61b-143">If the target machine has the specified version of `LocalDB` installed, the automatic instance of `LocalDB` for that version is available on the target machine as well.</span></span> <span data-ttu-id="6f61b-144">Автоматические экземпляры `LocalDB` имеют особый шаблон для имени экземпляра, принадлежащего зарезервированному пространству имен.</span><span class="sxs-lookup"><span data-stu-id="6f61b-144">Automatic instances of `LocalDB` have a special pattern for the instance name that belongs to a reserved namespace.</span></span> <span data-ttu-id="6f61b-145">Это предотвращает конфликты имен с именованными экземплярами `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-145">This prevents name conflicts with named instances of `LocalDB`.</span></span> <span data-ttu-id="6f61b-146">Автоматический экземпляр имеет имя **MSSQLLocalDB**.</span><span class="sxs-lookup"><span data-stu-id="6f61b-146">The name for the automatic instance is **MSSQLLocalDB**.</span></span>  
  
-   <span data-ttu-id="6f61b-147">Именованные экземпляры `LocalDB` являются частными.</span><span class="sxs-lookup"><span data-stu-id="6f61b-147">Named instances of `LocalDB` are private.</span></span> <span data-ttu-id="6f61b-148">Они принадлежат одному приложению, которое отвечает за создание экземпляра и управление им.</span><span class="sxs-lookup"><span data-stu-id="6f61b-148">They are owned by a single application that is responsible for creating and managing the instance.</span></span> <span data-ttu-id="6f61b-149">Именованные экземпляры обеспечивают изоляцию от других экземпляров и способствуют повышению производительности за счет снижения уровня конфликта за ресурсы с другими пользователями базы данных.</span><span class="sxs-lookup"><span data-stu-id="6f61b-149">Named instances provide isolation from other instances and can improve performance by reducing resource contention with other database users.</span></span> <span data-ttu-id="6f61b-150">Именованные экземпляры должны явно создаваться пользователем через `LocalDB` API управления или неявно через файл app.config для управляемого приложения (хотя при необходимости управляемое приложение может также использовать API).</span><span class="sxs-lookup"><span data-stu-id="6f61b-150">Named instances must be created explicitly by the user through the `LocalDB` management API or implicitly via the app.config file for a managed application (although managed application may also use the API, if desired).</span></span> <span data-ttu-id="6f61b-151">Каждый именованный экземпляр `LocalDB` имеет связанную `LocalDB` версию, указывающую на соответствующий набор `LocalDB` двоичных файлов.</span><span class="sxs-lookup"><span data-stu-id="6f61b-151">Each named instance of `LocalDB` has an associated `LocalDB` version that points to the respective set of `LocalDB` binaries.</span></span> <span data-ttu-id="6f61b-152">Имя экземпляра `LocalDB` `sysname` типа является типом данных и может содержать до 128 символов.</span><span class="sxs-lookup"><span data-stu-id="6f61b-152">The instance name of a `LocalDB` is `sysname` data type and can have up to 128 characters.</span></span> <span data-ttu-id="6f61b-153">(Это отличается от обычных именованных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые ограничивают имена обычными NetBIOS-именами, равными 16 символам ASCII.) Имя экземпляра `LocalDB` может содержать любые символы Юникода, которые являются допустимыми в имени файла.</span><span class="sxs-lookup"><span data-stu-id="6f61b-153">(This differs from regular named instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], which limits names to regular NetBIOS names of 16 ASCII chars.) The name of an instance of `LocalDB` can contain any Unicode characters that are legal within a filename.</span></span>  <span data-ttu-id="6f61b-154">Именованный экземпляр, в котором используется имя автоматического экземпляра, становится автоматическим экземпляром.</span><span class="sxs-lookup"><span data-stu-id="6f61b-154">A named instance that uses an automatic instance name becomes an automatic instance.</span></span>  
  
 <span data-ttu-id="6f61b-155">Разные пользователи одного и того же компьютера могут иметь экземпляры с одинаковыми именами.</span><span class="sxs-lookup"><span data-stu-id="6f61b-155">Different users of a computer can have instances with the same name.</span></span> <span data-ttu-id="6f61b-156">Каждый экземпляр является отдельным процессом, который запускается от разных пользователей.</span><span class="sxs-lookup"><span data-stu-id="6f61b-156">Each instance is a different processes running as a different user.</span></span>  
  
## <a name="shared-instances-of-localdb"></a><span data-ttu-id="6f61b-157">Общие экземпляры LocalDB</span><span class="sxs-lookup"><span data-stu-id="6f61b-157">Shared Instances of LocalDB</span></span>  
 <span data-ttu-id="6f61b-158">Для поддержки сценариев, в которых несколько пользователей компьютера должны подключаться к одному экземпляру `LocalDB` , `LocalDB` поддерживает совместное использование экземпляров.</span><span class="sxs-lookup"><span data-stu-id="6f61b-158">To support scenarios where multiple users of the computer need to connect to a single instance of `LocalDB`, `LocalDB` supports instance sharing.</span></span> <span data-ttu-id="6f61b-159">Владелец экземпляра может разрешить другим пользователям компьютера соединяться со своим экземпляром.</span><span class="sxs-lookup"><span data-stu-id="6f61b-159">An instance owner can choose to allow the other users on the computer to connect to his instance.</span></span> <span data-ttu-id="6f61b-160">Как автоматические, так и именованные экземпляры `LocalDB` можно совместно использовать.</span><span class="sxs-lookup"><span data-stu-id="6f61b-160">Both automatic and named instances of `LocalDB` can be shared.</span></span> <span data-ttu-id="6f61b-161">Для организации общего доступа к экземпляру `LocalDB` пользователь должен его указать общее имя (псевдоним).</span><span class="sxs-lookup"><span data-stu-id="6f61b-161">To share an instance of `LocalDB` a user selects a shared name (alias) for it.</span></span> <span data-ttu-id="6f61b-162">Поскольку общее имя видно всем пользователям компьютера, то оно должно быть уникальным на этом компьютере.</span><span class="sxs-lookup"><span data-stu-id="6f61b-162">Because the shared name is visible to all users of the computer, this shared name must be unique on the computer.</span></span> <span data-ttu-id="6f61b-163">Общее имя экземпляра `LocalDB` имеет тот же формат, что и именованный экземпляр `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-163">The shared name for an instance of `LocalDB` has the same format as the named instance of `LocalDB`.</span></span>  
  
 <span data-ttu-id="6f61b-164">Только администратор компьютера может создать общий экземпляр `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-164">Only an administrator on the computer can create a shared instance of `LocalDB`.</span></span> <span data-ttu-id="6f61b-165">Общий экземпляр `LocalDB` может быть недоступен для общего доступа администратором или владельцем общего экземпляра `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-165">A shared instance of `LocalDB` can be unshared by an administrator or by the owner of the shared instance of `LocalDB`.</span></span> <span data-ttu-id="6f61b-166">Чтобы предоставить общий доступ к экземпляру и отменить его совместное использование `LocalDB` , используйте `LocalDBShareInstance` `LocalDBUnShareInstance` методы и `LocalDB` интерфейса API, а также общие и необщие параметры служебной программы SqlLocalDB.</span><span class="sxs-lookup"><span data-stu-id="6f61b-166">To share and unshared an instance of `LocalDB`, use the `LocalDBShareInstance` and `LocalDBUnShareInstance` methods of the `LocalDB` API, or the share and unshared options of the SqlLocalDb utility.</span></span>  
  
## <a name="starting-localdb-and-connecting-to-localdb"></a><span data-ttu-id="6f61b-167">Запуск LocalDB и подключение к LocalDB</span><span class="sxs-lookup"><span data-stu-id="6f61b-167">Starting LocalDB and Connecting to LocalDB</span></span>  
  
### <a name="connecting-to-the-automatic-instance"></a><span data-ttu-id="6f61b-168">Подключение к автоматическому экземпляру</span><span class="sxs-lookup"><span data-stu-id="6f61b-168">Connecting to the Automatic Instance</span></span>  
 <span data-ttu-id="6f61b-169">Самый простой способ использовать `LocalDB` — подключиться к автоматическому экземпляру, принадлежащему текущему пользователю, с помощью строки подключения **"Server = (LocalDB) \MSSQLLocalDB; Integrated Security = true"**.</span><span class="sxs-lookup"><span data-stu-id="6f61b-169">The easiest way to use `LocalDB` is to connect to the automatic instance owned by the current user by using the connection string **"Server=(localdb)\MSSQLLocalDB;Integrated Security=true"**.</span></span> <span data-ttu-id="6f61b-170">Подключиться к определенной базе данных, используя имя файла, можно с помощью строки подключения, подобной следующей: **"Server=(LocalDB)\MSSQLLocalDB; Integrated Security=true; AttachDbFileName=D:\Data\MyDB1.mdf"**.</span><span class="sxs-lookup"><span data-stu-id="6f61b-170">To connect to a specific database by using the file name, connect using a connection string similar to **"Server=(LocalDB)\MSSQLLocalDB; Integrated Security=true ;AttachDbFileName=D:\Data\MyDB1.mdf"**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6f61b-171">В первый раз, когда пользователь компьютера пытается подключиться к `LocalDB` , автоматически создаваемый экземпляр должен быть создан и запущен.</span><span class="sxs-lookup"><span data-stu-id="6f61b-171">The first time a user on a computer tries to connect to `LocalDB`, the automatic instance must be both created and started.</span></span> <span data-ttu-id="6f61b-172">Дополнительное время, необходимое для создания экземпляра, может стать причиной того, что попытка соединения завершится с ошибкой истечения времени ожидания.</span><span class="sxs-lookup"><span data-stu-id="6f61b-172">The extra time for the instance to be created can cause the connection attempt to fail with a timeout message.</span></span> <span data-ttu-id="6f61b-173">В этом случае подождите несколько секунд до завершения процесса создания экземпляра, а затем подключитесь снова.</span><span class="sxs-lookup"><span data-stu-id="6f61b-173">When this happens, wait a few seconds to let the creation process complete, and then connect again.</span></span>  
  
### <a name="creating-and-connecting-to-a-named-instances"></a><span data-ttu-id="6f61b-174">Создание и подключение к именованным экземплярам</span><span class="sxs-lookup"><span data-stu-id="6f61b-174">Creating and Connecting to a Named Instances</span></span>  
 <span data-ttu-id="6f61b-175">В дополнение к автоматическому экземпляру службы `LocalDB` также поддерживают именованные экземпляры.</span><span class="sxs-lookup"><span data-stu-id="6f61b-175">In addition to the automatic instance, `LocalDB` also supports named instances.</span></span> <span data-ttu-id="6f61b-176">Используйте программу SqlLocalDB.exe для создания, запуска и завершения именованного экземпляра `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-176">Use the SqlLocalDB.exe program to create, start, and stop an named instance of `LocalDB`.</span></span> <span data-ttu-id="6f61b-177">Дополнительные сведения об SqlLocalDB.exe см. в разделе [Программа SqlLocalDB](../../tools/sqllocaldb-utility.md).</span><span class="sxs-lookup"><span data-stu-id="6f61b-177">For more information about SqlLocalDB.exe, see [SqlLocalDB Utility](../../tools/sqllocaldb-utility.md).</span></span>  
  
```ms-dos  
REM Create an instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" create LocalDBApp1  
REM Start the instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" start LocalDBApp1  
REM Gather information about the instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" info LocalDBApp1  
```  
  
 <span data-ttu-id="6f61b-178">Вышеуказанная последняя строка возвращает информацию, аналогичную следующей.</span><span class="sxs-lookup"><span data-stu-id="6f61b-178">The last line above, returns information similar to the following.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="6f61b-179">Имя</span><span class="sxs-lookup"><span data-stu-id="6f61b-179">Name</span></span>|<span data-ttu-id="6f61b-180">«LocalDBApp1»</span><span class="sxs-lookup"><span data-stu-id="6f61b-180">"LocalDBApp1"</span></span>|  
|<span data-ttu-id="6f61b-181">Версия</span><span class="sxs-lookup"><span data-stu-id="6f61b-181">Version</span></span>|\<Current Version>|  
|<span data-ttu-id="6f61b-182">Общее имя</span><span class="sxs-lookup"><span data-stu-id="6f61b-182">Shared name</span></span>|<span data-ttu-id="6f61b-183">""</span><span class="sxs-lookup"><span data-stu-id="6f61b-183">""</span></span>|  
|<span data-ttu-id="6f61b-184">Владелец</span><span class="sxs-lookup"><span data-stu-id="6f61b-184">Owner</span></span>|<span data-ttu-id="6f61b-185">"\<Your Windows User>"</span><span class="sxs-lookup"><span data-stu-id="6f61b-185">"\<Your Windows User>"</span></span>|  
|<span data-ttu-id="6f61b-186">Автоматическое создание</span><span class="sxs-lookup"><span data-stu-id="6f61b-186">Auto create</span></span>|<span data-ttu-id="6f61b-187">Нет</span><span class="sxs-lookup"><span data-stu-id="6f61b-187">No</span></span>|  
|<span data-ttu-id="6f61b-188">Состояние</span><span class="sxs-lookup"><span data-stu-id="6f61b-188">State</span></span>|<span data-ttu-id="6f61b-189">запуск</span><span class="sxs-lookup"><span data-stu-id="6f61b-189">running</span></span>|  
|<span data-ttu-id="6f61b-190">Время последнего запуска</span><span class="sxs-lookup"><span data-stu-id="6f61b-190">Last start time</span></span>|\<Date and Time>|  
|<span data-ttu-id="6f61b-191">Имя канала экземпляра</span><span class="sxs-lookup"><span data-stu-id="6f61b-191">Instance pipe name</span></span>|<span data-ttu-id="6f61b-192">np:\\\\.\pipe\LOCALDB#F365A78E\tsql\query</span><span class="sxs-lookup"><span data-stu-id="6f61b-192">np:\\\\.\pipe\LOCALDB#F365A78E\tsql\query</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="6f61b-193">Если приложение использует версию .NET до 4.0.2, необходимо напрямую подключиться к именованному каналу `LocalDB` .</span><span class="sxs-lookup"><span data-stu-id="6f61b-193">If your application uses a version of .NET before 4.0.2 you must connect directly to the named pipe of the `LocalDB`.</span></span> <span data-ttu-id="6f61b-194">Значение имени канала экземпляра — это именованный канал, который `LocalDB` прослушивает экземпляр.</span><span class="sxs-lookup"><span data-stu-id="6f61b-194">The Instance pipe name value is the named pipe that the instance of `LocalDB` is listening on.</span></span> <span data-ttu-id="6f61b-195">Часть имени канала экземпляра после LOCALDB # будет изменяться каждый раз при `LocalDB` запуске экземпляра.</span><span class="sxs-lookup"><span data-stu-id="6f61b-195">The portion of the Instance pipe name after LOCALDB# will change each time the instance of `LocalDB` is started.</span></span> <span data-ttu-id="6f61b-196">Чтобы подключиться к экземпляру с `LocalDB` помощью [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , введите имя канала экземпляра в поле **имя сервера** диалогового окна \*\*Подключение к [!INCLUDE[ssDE](../../includes/ssde-md.md)] \*\* ».</span><span class="sxs-lookup"><span data-stu-id="6f61b-196">To connect to the instance of `LocalDB` by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], type the Instance pipe name in the **Server name** box of the **Connect to [!INCLUDE[ssDE](../../includes/ssde-md.md)]** dialog box.</span></span> <span data-ttu-id="6f61b-197">Из пользовательской программы можно установить соединение с экземпляром `LocalDB` с помощью строки подключения, аналогичной`SqlConnection conn = new SqlConnection(@"Server=np:\\.\pipe\LOCALDB#F365A78E\tsql\query");`</span><span class="sxs-lookup"><span data-stu-id="6f61b-197">From your custom program you can establish connection to the instance of `LocalDB` using a connection string similar to `SqlConnection conn = new SqlConnection(@"Server=np:\\.\pipe\LOCALDB#F365A78E\tsql\query");`</span></span>  
  
### <a name="connecting-to-a-shared-instance-of-localdb"></a><span data-ttu-id="6f61b-198">Соединение с общим экземпляром LocalDB</span><span class="sxs-lookup"><span data-stu-id="6f61b-198">Connecting to a Shared Instance of LocalDB</span></span>  
 <span data-ttu-id="6f61b-199">Для подключения к общему экземпляру `LocalDB` добавьте \*\*. \\ \*\* (точка + косая черта) в строку подключения для ссылки на пространство имен, зарезервированное для общих экземпляров.</span><span class="sxs-lookup"><span data-stu-id="6f61b-199">To connect to a shared instance of `LocalDB` add **.\\** (dot + backslash) to the connection string to reference the namespace reserved for shared instances.</span></span> <span data-ttu-id="6f61b-200">Например, чтобы подключиться к общему экземпляру `LocalDB` с именем, `AppData` используйте строку подключения, например `(localdb)\.\AppData` , как часть строки подключения.</span><span class="sxs-lookup"><span data-stu-id="6f61b-200">For example, to connect to a shared instance of `LocalDB` named `AppData` use a connection string such as `(localdb)\.\AppData` as part of the connection string.</span></span> <span data-ttu-id="6f61b-201">Пользователь, подключающийся к общему экземпляру `LocalDB` , которому он не владеет, должен иметь проверку подлинности Windows или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имя входа для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="6f61b-201">A user connecting to a shared instance of `LocalDB` that they do not own must have a Windows Authentication or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login.</span></span>  
  
## <a name="troubleshooting"></a><span data-ttu-id="6f61b-202">Диагностика</span><span class="sxs-lookup"><span data-stu-id="6f61b-202">Troubleshooting</span></span>  
 <span data-ttu-id="6f61b-203">Сведения об устранении неполадок `LocalDB` см. в разделе [Устранение неполадок SQL Server 2012 Express LocalDB](https://social.technet.microsoft.com/wiki/contents/articles/4609.aspx).</span><span class="sxs-lookup"><span data-stu-id="6f61b-203">For information about troubleshooting `LocalDB`, see [Troubleshooting SQL Server 2012 Express LocalDB](https://social.technet.microsoft.com/wiki/contents/articles/4609.aspx).</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="6f61b-204">Разрешения</span><span class="sxs-lookup"><span data-stu-id="6f61b-204">Permissions</span></span>  
 <span data-ttu-id="6f61b-205">Экземпляр [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` — это экземпляр, созданный пользователем для использования.</span><span class="sxs-lookup"><span data-stu-id="6f61b-205">An instance of [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)]`LocalDB` is an instance created by a user for their use.</span></span> <span data-ttu-id="6f61b-206">Любой пользователь компьютера может создать базу данных с помощью экземпляра `LocalDB` , сохранив файлы в своем профиле пользователя и запуская процесс под их учетными данными.</span><span class="sxs-lookup"><span data-stu-id="6f61b-206">Any user on the computer can create a database using an instance of `LocalDB`, storing files under their user profile and running the process under their credentials.</span></span> <span data-ttu-id="6f61b-207">По умолчанию доступ к экземпляру `LocalDB` ограничивается его владельцем.</span><span class="sxs-lookup"><span data-stu-id="6f61b-207">By default, access to the instance of `LocalDB` is limited to its owner.</span></span> <span data-ttu-id="6f61b-208">Данные, содержащиеся в, `LocalDB` защищаются с помощью доступа файловой системы к файлам базы данных.</span><span class="sxs-lookup"><span data-stu-id="6f61b-208">The data contained in the `LocalDB` is protected by file system access to the database files.</span></span> <span data-ttu-id="6f61b-209">Если файлы пользовательской базы данных хранятся в общем расположении, база данных может быть открыта любым пользователем, у которого есть доступ к этому расположению из файловой системы, с помощью экземпляра `LocalDB` , которому они принадлежат.</span><span class="sxs-lookup"><span data-stu-id="6f61b-209">If user database files are stored in a shared location, the database can be opened by anyone with file system access to that location by using an instance of `LocalDB` that they own.</span></span> <span data-ttu-id="6f61b-210">Если файлы базы данных хранятся в защищенном месте, например в папке пользовательских данных, то базу данных может открыть только сам пользователь, а также администратор, обладающий правами доступа к данной папке.</span><span class="sxs-lookup"><span data-stu-id="6f61b-210">If the database files are in a protected location, such as the users data folder, only that user, and any administrators with access to that folder, can open the database.</span></span> <span data-ttu-id="6f61b-211">`LocalDB`Файлы могут быть открыты только одним экземпляром `LocalDB` за раз.</span><span class="sxs-lookup"><span data-stu-id="6f61b-211">The `LocalDB` files can only be opened by one instance of `LocalDB` at a time.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6f61b-212">`LocalDB`всегда выполняется в контексте безопасности "Пользователи"; Это значит, что `LocalDB` никогда не выполняется с учетными данными из группы локального администратора.</span><span class="sxs-lookup"><span data-stu-id="6f61b-212">`LocalDB` always runs under the users security context; that is, `LocalDB` never runs with credentials from the local Administrator's group.</span></span> <span data-ttu-id="6f61b-213">Это означает, что все файлы базы данных, используемые `LocalDB` экземпляром, должны быть доступны с помощью учетной записи пользователя Windows владельца, без учета членства в локальной группе администраторов.</span><span class="sxs-lookup"><span data-stu-id="6f61b-213">This means that all database files used by a `LocalDB` instance must be accessible using the owning user's Windows account, without considering membership in the local Administrators group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6f61b-214">См. также:</span><span class="sxs-lookup"><span data-stu-id="6f61b-214">See Also</span></span>  
 [<span data-ttu-id="6f61b-215">Программа SqlLocalDB</span><span class="sxs-lookup"><span data-stu-id="6f61b-215">SqlLocalDB Utility</span></span>](../../tools/sqllocaldb-utility.md)  
  
  

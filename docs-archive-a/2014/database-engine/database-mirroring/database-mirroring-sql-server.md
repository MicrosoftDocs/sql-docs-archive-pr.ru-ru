---
title: Зеркальное отображение базы данных (SQL Server) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- partners [SQL Server]
- standby servers [SQL Server]
- principal database [SQL Server]
- principal server [SQL Server]
- mirroring partners [SQL Server]
- mirrored databases [SQL Server] See database mirroring
- database mirroring [SQL Server], partners
- availability [SQL Server]
- hot standby servers (see database monitoring [SQL Server])
- database mirroring [SQL Server], about database mirroring
- mirror database [SQL Server]
- mirror server [SQL Server] See database mirroring
ms.assetid: a7f95ddc-5154-4ed5-8117-c9fcf2221f13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9e6fcce7d861fd5757f822080fb05d05e32d799a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655933"
---
# <a name="database-mirroring-sql-server"></a><span data-ttu-id="2a6bd-102">Зеркальное отображение базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-102">Database Mirroring (SQL Server)</span></span>
    
> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)] <span data-ttu-id="2a6bd-103">Вместо этого используйте [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a6bd-103">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="2a6bd-104">*Зеркальное отображение базы данных* — это решение, нацеленное на повышение доступности базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2a6bd-104">*Database mirroring* is a solution for increasing the availability of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="2a6bd-105">Зеркальное отображение каждой базы данных осуществляется отдельно и работает только с теми базами данных, которые используют модель полного восстановления.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-105">Mirroring is implemented on a per-database basis and works only with databases that use the full recovery model.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2a6bd-106">Сведения о поддержке зеркального отображения баз данных, ограничениях, предварительных требованиях, рекомендациях для настройки серверов-партнеров и рекомендациях для развертывания зеркального отображения баз данных см. в разделе [Предварительные условия, ограничения и рекомендации по зеркальному отображению базы данных](prerequisites-restrictions-and-recommendations-for-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-106">For information about support for database mirroring, restrictions, prerequisites, recommendations for configuring partner servers, and recommendations for deploying database mirroring, see [Prerequisites, Restrictions, and Recommendations for Database Mirroring](prerequisites-restrictions-and-recommendations-for-database-mirroring.md).</span></span>  
  

  
##  <a name="benefits-of-database-mirroring"></a><a name="Benefits"></a> <span data-ttu-id="2a6bd-107">Преимущества зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-107">Benefits of Database Mirroring</span></span>  
 <span data-ttu-id="2a6bd-108">Зеркальное отображение базы данных — это простая стратегия обеспечения надежности, имеющая следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="2a6bd-108">Database mirroring is a simple strategy that offers the following benefits:</span></span>  
  
-   <span data-ttu-id="2a6bd-109">Повышает доступность базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-109">Increases availability of a database.</span></span>  
  
     <span data-ttu-id="2a6bd-110">В режиме высокой безопасности с автоматическим переходом на другой ресурс и возникновении сбоя резервная копия базы данных переводится в режим «в сети» (без потери данных).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-110">In the event of a disaster, in high-safety mode with automatic failover, failover quickly brings the standby copy of the database online (without data loss).</span></span> <span data-ttu-id="2a6bd-111">В других режимах работы администратор базы данных может включить принудительное обслуживание (с возможной потерей данных) на резервной копии базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-111">In the other operating modes, the database administrator has the alternative of forcing service (with possible data loss) to the standby copy of the database.</span></span> <span data-ttu-id="2a6bd-112">Дополнительные сведения см. в подразделе [Переключение ролей](#RoleSwitching)далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-112">For more information, see [Role Switching](#RoleSwitching), later in this topic.</span></span>  
  
-   <span data-ttu-id="2a6bd-113">Повышает защиту данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-113">Increases data protection.</span></span>  
  
     <span data-ttu-id="2a6bd-114">Зеркальное отображение базы данных обеспечивает полную или почти полную избыточность данных в зависимости от того, какой режим установлен: высокой безопасности или высокой производительности.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-114">Database mirroring provides complete or almost complete redundancy of the data, depending on whether the operating mode is high-safety or high-performance.</span></span> <span data-ttu-id="2a6bd-115">Дополнительные сведения см. в подразделе [Режимы работы](#OperatingModes)ниже в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-115">For more information, see [Operating Modes](#OperatingModes), later in this topic.</span></span>  
  
     <span data-ttu-id="2a6bd-116">Участник зеркального отображения, запущенный в [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] или более поздней версии, предпринимает попытки автоматически разрешить ошибки некоторых типов, которые могут мешать чтению страницы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-116">A database mirroring partner running on [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] or later versions automatically tries to resolve certain types of errors that prevent reading a data page.</span></span> <span data-ttu-id="2a6bd-117">Участник, который не может прочитать страницу, запрашивает новую копию у другого участника.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-117">The partner that is unable to read a page requests a fresh copy from the other partner.</span></span> <span data-ttu-id="2a6bd-118">Если этот запрос завершился успешно, то нечитаемая страница заменяется копией, в результате чего ошибка обычно устраняется.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-118">If this request succeeds, the unreadable page is replaced by the copy, which usually resolves the error.</span></span> <span data-ttu-id="2a6bd-119">Дополнительные сведения см. в разделе [Автоматическое восстановление страниц (для групп доступности и зеркального отображения баз данных)](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-119">For more information, see [Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="2a6bd-120">Повышает доступность рабочей базы данных при обновлениях.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-120">Improves the availability of the production database during upgrades.</span></span>  
  
     <span data-ttu-id="2a6bd-121">Чтобы свести к минимуму время простоя базы данных, участвующей в зеркальном отображении, можно последовательно обновить экземпляры [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , на которых размещены партнеры по обеспечению отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-121">To minimize downtime for a mirrored database, you can sequentially upgrade the instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are hosting the failover partners.</span></span> <span data-ttu-id="2a6bd-122">Это вызовет простой только на время одной отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-122">This will incur the downtime of only a single failover.</span></span> <span data-ttu-id="2a6bd-123">Этот вид обновления известен как *пошаговое обновление*.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-123">This form of upgrade is known as a *rolling upgrade*.</span></span> <span data-ttu-id="2a6bd-124">Дополнительные сведения см. в [статье Установка пакета обновления в системе с минимальным временем простоя для зеркальных баз данных](../install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-124">For more information, see [Install a Service Pack on a System with Minimal Downtime for Mirrored Databases](../install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases.md).</span></span>  
  
##  <a name="database-mirroring-terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="2a6bd-125">Термины и определения зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-125">Database Mirroring Terms and Definitions</span></span>  
 <span data-ttu-id="2a6bd-126">автоматический переход на другой ресурс</span><span class="sxs-lookup"><span data-stu-id="2a6bd-126">automatic failover</span></span>  
 <span data-ttu-id="2a6bd-127">Процесс, согласно которому при недоступности основного сервера зеркальный сервер берет на себя роль основного сервера и выводит свою копию базы данных в сеть как основную базу данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-127">The process by which, when the principal server becomes unavailable, the mirror server to take over the role of principal server and brings its copy of the database online as the principal database.</span></span>  
  
 <span data-ttu-id="2a6bd-128">партнеры по обеспечению отработки отказа</span><span class="sxs-lookup"><span data-stu-id="2a6bd-128">failover partners</span></span>  
 <span data-ttu-id="2a6bd-129">Два экземпляра сервера (основной сервер или зеркальный сервер), которые работают как участники переключения ролей для зеркальной базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-129">The two server instances (the principal server or the mirror server) that act as role-switching partners for a mirrored database.</span></span>  
  
 <span data-ttu-id="2a6bd-130">принудительное обслуживание</span><span class="sxs-lookup"><span data-stu-id="2a6bd-130">forced service</span></span>  
 <span data-ttu-id="2a6bd-131">Отработка отказа, начатая владельцем базы данных при сбое основного сервера, когда в ходе передачи обслуживание переносится в зеркальную базу данных, находящуюся в неизвестном состоянии.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-131">A failover initiated by the database owner upon the failure of the principal server that transfers service to the mirror database while it is in an unknown state.</span></span>  
  
 <span data-ttu-id="2a6bd-132">Высокопроизводительный режим</span><span class="sxs-lookup"><span data-stu-id="2a6bd-132">High-performance mode</span></span>  
 <span data-ttu-id="2a6bd-133">Сеанс зеркального отображения базы данных работает асинхронно и использует только основной сервер и зеркальный сервер.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-133">The database mirroring session operates asynchronously and uses only the principal server and mirror server.</span></span> <span data-ttu-id="2a6bd-134">Единственной формой переключения ролей является принудительное обслуживание (с возможной потерей данных).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-134">The only form of role switching is forced service (with possible data loss).</span></span>  
  
 <span data-ttu-id="2a6bd-135">Режим высокой безопасности</span><span class="sxs-lookup"><span data-stu-id="2a6bd-135">High-safety mode</span></span>  
 <span data-ttu-id="2a6bd-136">Сеанс зеркального отображения базы данных работает синхронно, и в нем в случае необходимости используются следящий сервер, а также основной сервер и зеркальный сервер.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-136">The database mirroring session operates synchronously and, optionally, uses a witness, as well as the principal server and mirror server.</span></span>  
  
 <span data-ttu-id="2a6bd-137">переход на другой ресурс вручную</span><span class="sxs-lookup"><span data-stu-id="2a6bd-137">manual failover</span></span>  
 <span data-ttu-id="2a6bd-138">Переход на другой ресурс вручную, начатый владельцем базы данных, притом что основной сервер все еще продолжает работу. В результате обслуживание переносится с основной базы данных в зеркальную, в то время как они находятся в синхронизированном состоянии.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-138">A failover initiated by the database owner, while the principal server is still running, that transfers service from the principal database to the mirror database while they are in a synchronized state.</span></span>  
  
 <span data-ttu-id="2a6bd-139">зеркальная база данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-139">mirror database</span></span>  
 <span data-ttu-id="2a6bd-140">Копия базы данных, которая обычно полностью синхронизирована с основной базой данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-140">The copy of the database that is typically fully synchronized with the principal database.</span></span>  
  
 <span data-ttu-id="2a6bd-141">зеркальный сервер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-141">mirror server</span></span>  
 <span data-ttu-id="2a6bd-142">Экземпляр сервера в конфигурации зеркального отображения базы данных, на котором хранится зеркальная база данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-142">In a database mirroring configuration, the server instance on which the mirror database resides.</span></span>  
  
 <span data-ttu-id="2a6bd-143">зеркальный сервер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-143">mirror server</span></span>  
 <span data-ttu-id="2a6bd-144">Экземпляр сервера в конфигурации зеркального отображения базы данных, на котором хранится зеркальная база данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-144">In a database mirroring configuration, the server instance on which the mirror database resides.</span></span>  
  
 <span data-ttu-id="2a6bd-145">основная база данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-145">principal database</span></span>  
 <span data-ttu-id="2a6bd-146">При зеркальном отображении базы данных, база данных, доступная для чтения-записи, записи журнала транзакций которой применяются к копии базы данных только для чтения (зеркальной базы данных).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-146">In database mirroring, a read-write database whose transaction log records are applied to a read-only copy of the database (a mirror database).</span></span>  
  
 <span data-ttu-id="2a6bd-147">основной сервер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-147">principal server</span></span>  
 <span data-ttu-id="2a6bd-148">При зеркальном отображении базы данных — участник, база данных которого в текущий момент времени является основной.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-148">In database mirroring, the partner whose database is currently the principal database.</span></span>  
  
 <span data-ttu-id="2a6bd-149">очередь повтора</span><span class="sxs-lookup"><span data-stu-id="2a6bd-149">redo queue</span></span>  
 <span data-ttu-id="2a6bd-150">Полученные записи журнала транзакций, ожидающие на диске зеркального сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-150">Received transaction log records that are waiting on the disk of a mirror server.</span></span>  
  
 <span data-ttu-id="2a6bd-151">роль</span><span class="sxs-lookup"><span data-stu-id="2a6bd-151">role</span></span>  
 <span data-ttu-id="2a6bd-152">Основной сервер и зеркальный сервер выполняют взаимно дополнительные роли основного и зеркального.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-152">The principal server and mirror server perform complementary principal and mirror roles.</span></span> <span data-ttu-id="2a6bd-153">Необязательную роль следящего сервера выполняет третий экземпляр сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-153">Optionally, the role of witness is performed by a third server instance.</span></span>  
  
 <span data-ttu-id="2a6bd-154">Переключение ролей</span><span class="sxs-lookup"><span data-stu-id="2a6bd-154">role switching</span></span>  
 <span data-ttu-id="2a6bd-155">Принятие зеркалом на себя роли основного.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-155">The taking over of the principal role by the mirror.</span></span>  
  
 <span data-ttu-id="2a6bd-156">очередь отправки</span><span class="sxs-lookup"><span data-stu-id="2a6bd-156">send queue</span></span>  
 <span data-ttu-id="2a6bd-157">Неотправленные записи журнала транзакций, которые накопились на диске журнала основного сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-157">Unsent transaction log records that have accumulated on the log disk of the principal server.</span></span>  
  
 <span data-ttu-id="2a6bd-158">сеанс</span><span class="sxs-lookup"><span data-stu-id="2a6bd-158">session</span></span>  
 <span data-ttu-id="2a6bd-159">Связь, возникающая в ходе зеркального отображения базы данных между основным сервером, зеркальным сервером и следящим сервером (если таковой присутствует).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-159">The relationship that occurs during database mirroring among the principal server, mirror server, and witness server (if present).</span></span>  
  
 <span data-ttu-id="2a6bd-160">После запуска или возобновления сеанса зеркального отображения процесс, при помощи которого собранные на основном сервере записи журнала основной базы данных отправляются на зеркальный сервер, который как можно быстрее записывает их на диск, чтобы приблизиться к состоянию основного сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-160">After a mirroring session starts or resumes, the process by which log records of the principal database that have accumulated on the principal server are sent to the mirror server, which writes these log records to disk as quickly as possible to catch up with the principal server.</span></span>  
  
 <span data-ttu-id="2a6bd-161">Безопасность транзакций</span><span class="sxs-lookup"><span data-stu-id="2a6bd-161">Transaction safety</span></span>  
 <span data-ttu-id="2a6bd-162">Характерное для зеркального отображения свойство базы данных, которое определяет, будет работать сеанс зеркального отображения базы данных в синхронном или асинхронном режиме.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-162">A mirroring-specific database property that determines whether a database mirroring session operates synchronously or asynchronously.</span></span> <span data-ttu-id="2a6bd-163">Существует два уровня безопасности: FULL и OFF.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-163">There are two safety levels: FULL and OFF.</span></span>  
  
 <span data-ttu-id="2a6bd-164">Свидетель</span><span class="sxs-lookup"><span data-stu-id="2a6bd-164">Witness</span></span>  
 <span data-ttu-id="2a6bd-165">Дополнительный экземпляр SQL Server для использования только в режиме повышенной безопасности, который позволяет зеркальному серверу узнавать время начала автоматического перехода на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-165">For use only with high-safety mode, an optional instance of SQL Server that enables the mirror server to recognize when to initiate an automatic failover.</span></span> <span data-ttu-id="2a6bd-166">В отличие от двух партнеров по обеспечению отработки отказа, следящий сервер не обслуживает базу данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-166">Unlike the two failover partners, the witness does not serve the database.</span></span> <span data-ttu-id="2a6bd-167">Его единственная функция заключается в поддержке автоматического перехода на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-167">Supporting automatic failover is the only role of the witness.</span></span>  
  
##  <a name="overview-of-database-mirroring"></a><a name="HowWorks"></a> <span data-ttu-id="2a6bd-168">Обзор зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-168">Overview of Database Mirroring</span></span>  
 <span data-ttu-id="2a6bd-169">Зеркальное отображение базы данных поддерживает две копии одной базы данных, которые должны находиться на различных экземплярах сервера [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a6bd-169">Database mirroring maintains two copies of a single database that must reside on different server instances of [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="2a6bd-170">Обычно такие экземпляры находятся на компьютерах, расположенных в разных местах.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-170">Typically, these server instances reside on computers in different locations.</span></span> <span data-ttu-id="2a6bd-171">Запуская зеркальное отображение базы данных, устанавливает связь, известную как *сеанс зеркального отображения базы данных*между этими экземплярами сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-171">Starting database mirroring on a database, initiates a relationship, known as a *database mirroring session*, between these server instances.</span></span>  
  
 <span data-ttu-id="2a6bd-172">Один экземпляр сервера предоставляет базу данных клиентам ( *основной сервер*).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-172">One server instance serves the database to clients (the *principal server*).</span></span> <span data-ttu-id="2a6bd-173">Другой экземпляр выступает в качестве сервера горячей замены или горячего резерва ( *зеркальный сервер*) в зависимости от конфигурации и состоянии сеанса зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-173">The other instance acts as a hot or warm standby server (the *mirror server*), depending on the configuration and state of the mirroring session.</span></span> <span data-ttu-id="2a6bd-174">Синхронизация сеанса зеркального отображения базы данных позволяет получить сервер «горячего» резервирования, поддерживающий быструю отработку отказа без потери данных зафиксированных транзакций.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-174">When a database mirroring session is synchronized, database mirroring provides a hot standby server that supports rapid failover without a loss of data from committed transactions.</span></span> <span data-ttu-id="2a6bd-175">Если сеанс не синхронизирован, то зеркальный сервер обычно работает в качестве сервера «теплого» резервирования (с возможной потерей данных).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-175">When the session is not synchronized, the mirror server is typically available as a warm standby server (with possible data loss).</span></span>  
  
 <span data-ttu-id="2a6bd-176">Основной и зеркальный серверы соединены и работают совместно, являясь *участниками* *сеанса зеркального отображения базы данных*.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-176">The principal and mirror servers communicate and cooperate as *partners* in a *database mirroring session*.</span></span> <span data-ttu-id="2a6bd-177">Два участника выполняют в сеансе взаимодополняющие роли: *основную роль* и *зеркальную роль*.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-177">The two partners perform complementary roles in the session: the *principal role* and the *mirror role*.</span></span> <span data-ttu-id="2a6bd-178">В любой момент времени один из участников играет роль основного сервера, а другой участник — зеркального.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-178">At any given time, one partner performs the principal role, and the other partner performs the mirror role.</span></span> <span data-ttu-id="2a6bd-179">При этом говорится, что участник *владеет* своей текущей ролью.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-179">Each partner is described as *owning* its current role.</span></span> <span data-ttu-id="2a6bd-180">Участник, владеющий основной ролью, называется *основным сервером*, а его копия базы данных является текущей основной базой данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-180">The partner that owns the principal role is known as the *principal server*, and its copy of the database is the current principal database.</span></span> <span data-ttu-id="2a6bd-181">Участник, владеющий зеркальной ролью, называется *зеркальным сервером*, а его копия базы данных является текущей зеркальной базой данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-181">The partner that owns the mirror role is known as the *mirror server*, and its copy of the database is the current mirror database.</span></span> <span data-ttu-id="2a6bd-182">При развертывании зеркального отображения базы данных в рабочей среде основная база данных является *рабочей базой данных*.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-182">When database mirroring is deployed in a production environment, the principal database is the *production database*.</span></span>  
  
 <span data-ttu-id="2a6bd-183">Зеркальное отображение базы данных заключается в том, что в зеркальной базе данных *повторяются* все операции вставки, обновления и удаления, производимые в основной базе данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-183">Database mirroring involves *redoing* every insert, update, and delete operation that occurs on the principal database onto the mirror database as quickly as possible.</span></span> <span data-ttu-id="2a6bd-184">Для этого поток записей активных транзакций с максимально возможной быстротой отправляется на зеркальный сервер.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-184">Redoing is accomplished by sending a stream of active transaction log records to the mirror server, which applies log records to the mirror database, in sequence, as quickly as possible.</span></span> <span data-ttu-id="2a6bd-185">В отличие от репликации, которая работает на логическом уровне, зеркальное отображение базы данных работает на уровне физической записи журнала.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-185">Unlike replication, which works at the logical level, database mirroring works at the level of the physical log record.</span></span> <span data-ttu-id="2a6bd-186">Начиная с [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], основной сервер сжимает поток записей журнала транзакций перед отправкой на зеркальный сервер.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-186">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the principal server compresses the stream of transaction log records before sending it to the mirror server.</span></span> <span data-ttu-id="2a6bd-187">Такое сжатие журнала осуществляется во всех сеансах зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-187">This log compression occurs in all mirroring sessions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2a6bd-188">Указанный экземпляр сервера может быть задействован в нескольких одновременных сеансах зеркального отображения базы данных с одними и теми же или разными участниками.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-188">A given server instance can participate in multiple concurrent database mirroring sessions with the same or different partners.</span></span> <span data-ttu-id="2a6bd-189">В некоторых сеансах указанный экземпляр сервера может быть участником, в других — следящим сервером.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-189">A server instance can be a partner in some sessions and a witness in other sessions.</span></span> <span data-ttu-id="2a6bd-190">На экземпляре зеркального сервера должен эксплуатироваться тот же выпуск [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a6bd-190">The mirror server instance must be running the same edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 
  
###  <a name="operating-modes"></a><a name="OperatingModes"></a> <span data-ttu-id="2a6bd-191">Режимы работы</span><span class="sxs-lookup"><span data-stu-id="2a6bd-191">Operating Modes</span></span>  
 <span data-ttu-id="2a6bd-192">Сеансы зеркального отображения базы данных выполняется при помощи синхронных или асинхронных операций.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-192">A database mirroring session runs with either synchronous or asynchronous operation.</span></span> <span data-ttu-id="2a6bd-193">В асинхронном режиме транзакции фиксируются немедленно, не ожидая, пока зеркальный сервер запишет журнал на диск, что позволяет повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-193">Under asynchronous operation, the transactions commit without waiting for the mirror server to write the log to disk, which maximizes performance.</span></span> <span data-ttu-id="2a6bd-194">Синхронный режим обеспечивает фиксацию транзакции на обоих участниках, но при этом повышается риск задержки транзакций.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-194">Under synchronous operation, a transaction is committed on both partners, but at the cost of increased transaction latency.</span></span>  
  
 <span data-ttu-id="2a6bd-195">Существует два режима работы зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-195">There are two mirroring operating modes.</span></span> <span data-ttu-id="2a6bd-196">Первый *режим высокого уровня безопасности* поддерживает синхронную работу.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-196">One of them, *high-safety mode* supports synchronous operation.</span></span> <span data-ttu-id="2a6bd-197">В этом режиме в момент начала сеанса зеркальный сервер с максимально возможной скоростью синхронизирует зеркальную базу данных с основной базой данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-197">Under high-safety mode, when a session starts, the mirror server synchronizes the mirror database together with the principal database as quickly as possible.</span></span> <span data-ttu-id="2a6bd-198">После синхронизации базы данных транзакция фиксируется на обоих участниках за счет повышения риска задержки транзакции.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-198">As soon as the databases are synchronized, a transaction is committed on both partners, at the cost of increased transaction latency.</span></span>  
  
 <span data-ttu-id="2a6bd-199">Второй режим *высокой производительности*работает асинхронно.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-199">The second operating mode, *high-performance mode*, runs asynchronously.</span></span> <span data-ttu-id="2a6bd-200">Зеркальный сервер пытается соответствовать записям в журнале, отправляемым основным сервером.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-200">The mirror server tries to keep up with the log records sent by the principal server.</span></span> <span data-ttu-id="2a6bd-201">Зеркальная база данных может несколько отставать от основной базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-201">The mirror database might lag somewhat behind the principal database.</span></span> <span data-ttu-id="2a6bd-202">Хотя разрыв между базами данных, как правило, очень мал.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-202">However, typically, the gap between the databases is small.</span></span> <span data-ttu-id="2a6bd-203">Однако этот разрыв может стать существенным, если основной сервер сильно загружен или перегружена система зеркального сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-203">However, the gap can become significant if the principal server is under a heavy work load or the system of the mirror server is overloaded.</span></span>  
  
 <span data-ttu-id="2a6bd-204">В режиме высокой производительности, как только основной сервер отправляет журнал транзакций зеркальному серверу, основной сервер отправляет подтверждение клиенту.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-204">In high-performance mode, as soon as the principal server sends a log record to the mirror server, the principal server sends a confirmation to the client.</span></span> <span data-ttu-id="2a6bd-205">Он не дожидается подтверждения от зеркального сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-205">It does not wait for an acknowledgement from the mirror server.</span></span> <span data-ttu-id="2a6bd-206">Это означает, что транзакции фиксируются немедленно, не ожидая, пока зеркальный сервер запишет запись журнала транзакций на диск.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-206">This means that transactions commit without waiting for the mirror server to write the log to disk.</span></span> <span data-ttu-id="2a6bd-207">Такая асинхронная операция позволяет основному серверу работать с минимальной задержкой транзакций, но с риском возможной потери некоторых данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-207">Such asynchronous operation enables the principal server to run with minimum transaction latency, at the potential risk of some data loss.</span></span>  
  
 <span data-ttu-id="2a6bd-208">Для всех сеансов зеркального отображения базы данных поддерживается только один основной и один зеркальный сервер.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-208">All database mirroring sessions support only one principal server and one mirror server.</span></span> <span data-ttu-id="2a6bd-209">Эта конфигурация показана на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-209">This configuration is shown in the following illustration.</span></span>  
  
 <span data-ttu-id="2a6bd-210">![Участники сеанса зеркального отображения базы данных](../media/dbm-2-way-session-intro.gif "Участники сеанса зеркального отображения базы данных")</span><span class="sxs-lookup"><span data-stu-id="2a6bd-210">![Partners in a database mirroring session](../media/dbm-2-way-session-intro.gif "Partners in a database mirroring session")</span></span>  
  
 <span data-ttu-id="2a6bd-211">Для режима высокого уровня безопасности с автоматической отработкой отказа требуется третий экземпляр сервера, называемый *следящим*.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-211">High-safety mode with automatic failover requires a third server instance, known as a *witness*.</span></span> <span data-ttu-id="2a6bd-212">В отличие от двух участников зеркального отображения, следящий сервер не обслуживает базу данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-212">Unlike the two partners, the witness does not serve the database.</span></span> <span data-ttu-id="2a6bd-213">Он отвечает за автоматическую отработку отказа, следя за работоспособностью и функциональностью основного сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-213">The witness supports automatic failover by verifying whether the principal server is up and functioning.</span></span> <span data-ttu-id="2a6bd-214">Зеркальный сервер запускает автоматический переход на другой ресурс только в случае сохранения связи между зеркальным и следящим серверами после отключения обоих серверов от основного сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-214">The mirror server initiates automatic failover only if the mirror and the witness remain connected to each other after both have been disconnected from the principal server.</span></span>  
  
 <span data-ttu-id="2a6bd-215">На следующей иллюстрации показана конфигурация с участием следящего сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-215">The following illustration shows a configuration that includes a witness.</span></span>  
  
 <span data-ttu-id="2a6bd-216">![Сеанс зеркального отображения, в котором участвует следящий сервер](../media/dbm-3-way-session-intro-ov.gif "Сеанс зеркального отображения, в котором участвует следящий сервер")</span><span class="sxs-lookup"><span data-stu-id="2a6bd-216">![A mirroring session that includes a witness](../media/dbm-3-way-session-intro-ov.gif "A mirroring session that includes a witness")</span></span>  
  
 <span data-ttu-id="2a6bd-217">Дополнительные сведения см. в подразделе [Переключение ролей](#RoleSwitching)далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-217">For more information, see [Role Switching](#RoleSwitching), later in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2a6bd-218">Установление нового сеанса зеркального отображения или добавление следящего сервера к существующей конфигурации требует, чтобы на всех применяемых экземплярах серверов работала одна и та же версия [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a6bd-218">Establishing a new mirroring session or adding a witness to an existing mirroring configuration requires that all involved server instances run the same version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="2a6bd-219">Однако при обновлении до [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] или более поздней версии допускается, чтобы версии экземпляров различались.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-219">However, when you are upgrading to [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or a later version, the versions of the involved instances can vary.</span></span> <span data-ttu-id="2a6bd-220">Дополнительные сведения см. в разделе [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-220">For more information, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span></span>  
  
####  <a name="transaction-safety-and-operating-modes"></a><a name="TxnSafety"></a> <span data-ttu-id="2a6bd-221">Безопасность транзакций и рабочие режимы</span><span class="sxs-lookup"><span data-stu-id="2a6bd-221">Transaction Safety and Operating Modes</span></span>  
 <span data-ttu-id="2a6bd-222">Тип режима работы (асинхронный или синхронный) зависит от установки безопасности транзакций.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-222">Whether an operating mode is asynchronous or synchronous depends on the transaction safety setting.</span></span> <span data-ttu-id="2a6bd-223">Если для настройки зеркального отображения базы данных монопольно используется среда [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , параметры безопасности транзакций настраиваются автоматически при выборе режима работы.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-223">If you exclusively use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to configure database mirroring, transaction safety settings are configured automatically when you select the operation mode.</span></span>  
  
 <span data-ttu-id="2a6bd-224">При настройке зеркального отображения базы данных с помощью инструкций [!INCLUDE[tsql](../../includes/tsql-md.md)] необходимо обладать знаниями о настройке безопасности транзакций.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-224">If you use [!INCLUDE[tsql](../../includes/tsql-md.md)] to configure database mirroring, you must understand how to set transaction safety.</span></span> <span data-ttu-id="2a6bd-225">Безопасность транзакций управляется свойством SAFETY инструкции ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-225">Transaction safety is controlled by the SAFETY property of the ALTER DATABASE statement.</span></span> <span data-ttu-id="2a6bd-226">Для базы данных, зеркальная копия которой создается, свойство SAFETY имеет значение FULL или OFF.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-226">On a database that is being mirrored, SAFETY is either FULL or OFF.</span></span>  
  
-   <span data-ttu-id="2a6bd-227">Если параметр SAFETY имеет значение FULL, операция зеркального отображения базы данных выполняется в синхронном режиме после начальной фазы синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-227">If the SAFETY option is set to FULL, database mirroring operation is synchronous, after the initial synchronizing phase.</span></span> <span data-ttu-id="2a6bd-228">Если следящий сервер установлен в режим высокой производительности, то в сеансе поддерживается автоматическая отработка отказа.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-228">If a witness is set in high-safety mode, the session supports automatic failover.</span></span>  
  
-   <span data-ttu-id="2a6bd-229">Если параметр SAFETY имеет значение OFF, то операция зеркального отображения базы данных выполняется в асинхронном режиме.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-229">If the SAFETY option is set to OFF, database mirroring operation is asynchronous.</span></span> <span data-ttu-id="2a6bd-230">Сеанс работает в режиме высокой производительности, и параметр WITNESS также должен иметь значение OFF.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-230">The session runs in high-performance mode, and the WITNESS option should also be OFF.</span></span>  
  
 <span data-ttu-id="2a6bd-231">Дополнительные сведения см. в статье [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-231">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
###  <a name="role-switching"></a><a name="RoleSwitching"></a> <span data-ttu-id="2a6bd-232">Переключение ролей</span><span class="sxs-lookup"><span data-stu-id="2a6bd-232">Role Switching</span></span>  
 <span data-ttu-id="2a6bd-233">В контексте сеанса зеркального отображения базы данных роли основного и зеркального серверов обычно взаимозаменяемы посредством так называемого *переключения ролей*.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-233">Within the context of a database mirroring session, the principal and mirror roles are typically interchangeable in a process known as *role switching*.</span></span> <span data-ttu-id="2a6bd-234">Переключение ролей заключается в передаче основной роли зеркальному серверу.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-234">Role switching involves transferring the principal role to the mirror server.</span></span> <span data-ttu-id="2a6bd-235">При этом зеркальный сервер действует в качестве *партнера по обеспечению отработки отказа* для основного сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-235">In role switching, the mirror server acts as the *failover partner* for the principal server.</span></span> <span data-ttu-id="2a6bd-236">При переключении роли зеркальный сервер принимает на себя роль основного и переводит свою копию базы данных в  режим «в сети», начиная функционировать в качестве основной базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-236">When a role switch occurs, the mirror server takes over the principal role and brings its copy of the database online as the new principal database.</span></span> <span data-ttu-id="2a6bd-237">Бывший основной сервер (если он доступен) принимает на себя роль зеркального, а его база данных становится новой зеркальной базой данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-237">The former principal server, if available, assumes the mirror role, and its database becomes the new mirror database.</span></span> <span data-ttu-id="2a6bd-238">В принципе, переключение ролей туда и обратно может выполняться многократно.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-238">Potentially, the roles can switch back and forth repeatedly.</span></span>  
  
 <span data-ttu-id="2a6bd-239">Существует три формы переключения ролей.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-239">The following three forms of role switching exist.</span></span>  
  
-   <span data-ttu-id="2a6bd-240">*Автоматическая отработка отказа*</span><span class="sxs-lookup"><span data-stu-id="2a6bd-240">*Automatic failover*</span></span>  
  
     <span data-ttu-id="2a6bd-241">Для этого требуется режим высокого уровня безопасности и наличие зеркального сервера и следящего сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-241">This requires high-safety mode and the presence of the mirror server and a witness.</span></span> <span data-ttu-id="2a6bd-242">База данных уже должна быть синхронизирована, а следящий сервер должен быть подключен к зеркальному.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-242">The database must already be synchronized, and the witness must be connected to the mirror server.</span></span>  
  
     <span data-ttu-id="2a6bd-243">Роль следящего сервера заключается в определении готовности и функциональности указанного сервера-участника.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-243">The role of the witness is to verify whether a given partner server is up and functioning.</span></span> <span data-ttu-id="2a6bd-244">При нарушении соединения зеркального сервера с основным сервером, но сохранении соединения следящего сервера с основным следящий сервер не инициирует отработку отказа.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-244">If the mirror server loses its connection to the principal server but the witness is still connected to the principal server, the mirror server does not initiate a failover.</span></span> <span data-ttu-id="2a6bd-245">Дополнительные сведения см. в разделе [Следящий сервер зеркального отображения базы данных](database-mirroring-witness.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-245">For more information, see [Database Mirroring Witness](database-mirroring-witness.md).</span></span>  
  
-   <span data-ttu-id="2a6bd-246">*Отработка отказа вручную*</span><span class="sxs-lookup"><span data-stu-id="2a6bd-246">*Manual failover*</span></span>  
  
     <span data-ttu-id="2a6bd-247">Для перехода требуется режим высокого уровня безопасности.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-247">This requires high-safety mode.</span></span> <span data-ttu-id="2a6bd-248">Участники должны быть подключены друг к другу, а база данных должна быть уже синхронизирована.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-248">The partners must be connected to each other, and the database must already be synchronized.</span></span>  
  
-   <span data-ttu-id="2a6bd-249">*Принудительное обслуживание* (с возможной потерей данных)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-249">*Forced service* (with possible data loss)</span></span>  
  
     <span data-ttu-id="2a6bd-250">В режиме высокой производительности и режиме высокого уровня безопасности без автоматической отработки отказа принудительное обслуживание возможно при сбое основного сервера и доступном зеркальном сервере.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-250">Under high-performance mode and high-safety mode without automatic failover, forcing service is possible if the principal server has failed and the mirror server is available.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="2a6bd-251">Режим высокой производительности предназначен для работы без следящего сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-251">High-performance mode is intended to run without a witness.</span></span> <span data-ttu-id="2a6bd-252">Но если существует следящий сервер, то для принудительного обслуживания необходимо, чтобы он был подключен к зеркальному серверу.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-252">But if a witness exists, forcing service requires that the witness is connected to the mirror server.</span></span>  
  
 <span data-ttu-id="2a6bd-253">При любом сценарии переключения ролей, как только новая основная база данных переходит в режим «в сети», клиентские приложения быстро восстанавливают свою работу, заново соединившись с базой данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-253">In any role-switching scenario, as soon as the new principal database comes online, the client applications can recover quickly by reconnecting to the database.</span></span>  
  
###  <a name="concurrent-sessions"></a><a name="ConcurrentSessions"></a> <span data-ttu-id="2a6bd-254">Параллельные сеансы</span><span class="sxs-lookup"><span data-stu-id="2a6bd-254">Concurrent Sessions</span></span>  
 <span data-ttu-id="2a6bd-255">Указанный экземпляр сервера может участвовать в нескольких одновременных сеансах зеркального отображения базы данных (по одному на каждую зеркальную базу данных) с теми же или другими экземплярами сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-255">A given server instance can participate in multiple, concurrent database mirroring sessions (once per mirrored database) with the same or different server instances.</span></span> <span data-ttu-id="2a6bd-256">Часто экземпляр сервера служит исключительно в качестве участника или следящего сервера во всех сеансах зеркального отображения своей базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-256">Often, a server instance serves exclusively as a partner or a witness in all of its database mirroring sessions.</span></span> <span data-ttu-id="2a6bd-257">Но поскольку каждый сеанс не зависит от остальных сеансов, экземпляр сервера может действовать в некоторых сеансах в качестве участника и в качестве следящего сервера в прочих сеансах.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-257">However, because each session is independent of the other sessions, a server instance can act as a partner in some sessions and as a witness in other sessions.</span></span> <span data-ttu-id="2a6bd-258">Например, рассмотрим следующие четыре сеанса среди трех экземпляров сервера (`SSInstance_1`, `SSInstance_2`и `SSInstance_3`).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-258">For example, consider the following four sessions among three server instances (`SSInstance_1`, `SSInstance_2`, and `SSInstance_3`).</span></span> <span data-ttu-id="2a6bd-259">Каждый экземпляр сервера служит в качестве участника в одних сеансах и в качестве следящего сервера в остальных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-259">Each server instance serves as a partner in some sessions and as a witness in others:</span></span>  
  
|<span data-ttu-id="2a6bd-260">Экземпляр сервера</span><span class="sxs-lookup"><span data-stu-id="2a6bd-260">Server instance</span></span>|<span data-ttu-id="2a6bd-261">Сеанс для базы данных А</span><span class="sxs-lookup"><span data-stu-id="2a6bd-261">Session for database A</span></span>|<span data-ttu-id="2a6bd-262">Сеанс для базы данных Б</span><span class="sxs-lookup"><span data-stu-id="2a6bd-262">Session for database B</span></span>|<span data-ttu-id="2a6bd-263">Сеанс для базы данных В</span><span class="sxs-lookup"><span data-stu-id="2a6bd-263">Session for database C</span></span>|<span data-ttu-id="2a6bd-264">Сеанс для базы данных Г</span><span class="sxs-lookup"><span data-stu-id="2a6bd-264">Session for database D</span></span>|  
|---------------------|----------------------------|----------------------------|----------------------------|----------------------------|  
|`SSInstance_1`|<span data-ttu-id="2a6bd-265">Свидетель</span><span class="sxs-lookup"><span data-stu-id="2a6bd-265">Witness</span></span>|<span data-ttu-id="2a6bd-266">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-266">Partner</span></span>|<span data-ttu-id="2a6bd-267">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-267">Partner</span></span>|<span data-ttu-id="2a6bd-268">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-268">Partner</span></span>|  
|`SSInstance_2`|<span data-ttu-id="2a6bd-269">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-269">Partner</span></span>|<span data-ttu-id="2a6bd-270">Свидетель</span><span class="sxs-lookup"><span data-stu-id="2a6bd-270">Witness</span></span>|<span data-ttu-id="2a6bd-271">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-271">Partner</span></span>|<span data-ttu-id="2a6bd-272">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-272">Partner</span></span>|  
|`SSInstance_3`|<span data-ttu-id="2a6bd-273">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-273">Partner</span></span>|<span data-ttu-id="2a6bd-274">Партнер</span><span class="sxs-lookup"><span data-stu-id="2a6bd-274">Partner</span></span>|<span data-ttu-id="2a6bd-275">Свидетель</span><span class="sxs-lookup"><span data-stu-id="2a6bd-275">Witness</span></span>|<span data-ttu-id="2a6bd-276">Свидетель</span><span class="sxs-lookup"><span data-stu-id="2a6bd-276">Witness</span></span>|  
  
 <span data-ttu-id="2a6bd-277">На рисунке, показанном ниже, изображены два экземпляра сервера, участвующие в качестве участников в двух сеансах зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-277">The following figure illustrates two server instances that are participating as partners together in two mirroring sessions.</span></span> <span data-ttu-id="2a6bd-278">Один из сеансов проводится для базы данных **Db_1**, а другой сеанс — для базы данных **Db_2**.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-278">One session is for a database named **Db_1**, and the other session is for a database named **Db_2**.</span></span>  
  
 <span data-ttu-id="2a6bd-279">![Два экземпляра сервера в двух одновременных сеансах](../media/dbm-concurrent-sessions.gif "Два экземпляра сервера в двух одновременных сеансах")</span><span class="sxs-lookup"><span data-stu-id="2a6bd-279">![Two server instances in two concurrent sessions](../media/dbm-concurrent-sessions.gif "Two server instances in two concurrent sessions")</span></span>  
  
 <span data-ttu-id="2a6bd-280">Каждая из баз данных независима от других.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-280">Each of the databases is independent of the others.</span></span> <span data-ttu-id="2a6bd-281">Например, экземпляр сервера изначально может быть зеркальным сервером для двух баз данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-281">For example, a server instance might initially be the mirror server for two databases.</span></span> <span data-ttu-id="2a6bd-282">В случае если в одной из этих баз данных произойдет сбой, экземпляр сервера становится основным сервером для перехода на другой ресурс проблемной базы данных, оставаясь зеркальным сервером для другой базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-282">If one of those databases fails over, the server instance becomes the principal server for the failed-over database while remaining the mirror server for the other database.</span></span>  
  
 <span data-ttu-id="2a6bd-283">В качестве другого примера рассмотрим ситуацию с экземпляром сервера, являющимся основным сервером для двух или более баз данных, работающих в режиме высокого уровня безопасности. Если в работе экземпляра сервера происходит сбой, выполняется автоматическая отработка отказа с переходом всех баз данных на соответствующие зеркальные базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-283">As another example, consider a server instance that is the principal server for two or more databases running in high-safety mode with automatic failover, If the server instance fails, all of the databases automatically failover to their respective mirror databases.</span></span>  
  
 <span data-ttu-id="2a6bd-284">При настройке экземпляра сервера для работы одновременно в качестве участника и следящего сервера убедитесь в том, что конечная точка зеркального отображения базы данных поддерживает обе роли (дополнительные сведения см. в разделе [Конечная точка зеркального отображения базы данных (SQL Server)](the-database-mirroring-endpoint-sql-server.md)).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-284">When setting up a server instance to operate both as a partner and a witness, be sure that the database mirroring endpoint supports both roles (for more information, see [The Database Mirroring Endpoint &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md)).</span></span> <span data-ttu-id="2a6bd-285">Также убедитесь в том, что система обладает достаточными ресурсами для уменьшения вероятности конфликтных ситуаций.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-285">Also, ensure that the system has sufficient resources to reduce resource contention.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2a6bd-286">Зеркальные базы данных независимы друг от друга, поэтому эти базы данных не могут переключаться при сбое как единая группа.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-286">Because mirrored databases are independent of each other, databases cannot fail over as a group.</span></span>  
  
###  <a name="client-connections"></a><a name="ClientConnections"></a> <span data-ttu-id="2a6bd-287">Клиентские соединения</span><span class="sxs-lookup"><span data-stu-id="2a6bd-287">Client Connections</span></span>  
 <span data-ttu-id="2a6bd-288">Поддержка клиентских соединений для сеансов зеркального отображения базы данных предоставлена поставщиком данных [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a6bd-288">Client-connection support for database mirroring sessions is provided by the [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Data Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="2a6bd-289">Дополнительные сведения см. в статье [Подключение клиентов к сеансу зеркального отображения базы данных (SQL Server)](connect-clients-to-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-289">For more information, see [Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;](connect-clients-to-a-database-mirroring-session-sql-server.md).</span></span>  
  
###  <a name="impact-of-pausing-a-session-on-the-principal-transaction-log"></a><a name="ImpactOfPausing"></a> <span data-ttu-id="2a6bd-290">Влияние приостановки сеанса на журнал транзакций основного сервера</span><span class="sxs-lookup"><span data-stu-id="2a6bd-290">Impact of Pausing a Session on the Principal Transaction Log</span></span>  
 <span data-ttu-id="2a6bd-291">В любой момент владелец базы данных может приостановить сеанс.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-291">At any time, the database owner can pause a session.</span></span> <span data-ttu-id="2a6bd-292">Приостановление сохраняет состояние сеанса при удалении зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-292">Pausing preserves the session state while removing mirroring.</span></span> <span data-ttu-id="2a6bd-293">При приостановке сеанса основной сервер не отправляет никаких новых транзакций на зеркальный сервер.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-293">When a session is paused, the principal server does not send any new log records to the mirror server.</span></span> <span data-ttu-id="2a6bd-294">Все такие транзакции остаются активными и накапливаются в журнале транзакций основной базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-294">All of these records remain active and accumulate in the transaction log of the principal database.</span></span> <span data-ttu-id="2a6bd-295">Пока сеанс зеркального отображения базы данных остается приостановленным, журнал транзакций не может быть усечен.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-295">As long as a database mirroring session remains paused, the transaction log cannot be truncated.</span></span> <span data-ttu-id="2a6bd-296">Таким образом, если сеанс зеркального отображения базы данных приостанавливается на долгое время, журнал может заполниться до конца.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-296">Therefore, if the database mirroring session is paused for too long, the log can fill up.</span></span>  
  
 <span data-ttu-id="2a6bd-297">Дополнительные сведения см. в подразделе [Приостановка и возобновление зеркального отображения базы данных (SQL Server)](database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-297">For more information, see [Pausing and Resuming Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
##  <a name="setting-up-database-mirroring-session"></a><a name="SettingUpDbmSession"></a> <span data-ttu-id="2a6bd-298">Настройка сеанса зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-298">Setting Up Database Mirroring Session</span></span>  
 <span data-ttu-id="2a6bd-299">Перед началом сеанса зеркального отображения владелец базы данных или системный администратор должен создать зеркальную базу данных, настроить конечные точки и учетные записи, а также в некоторых случаях создать и настроить сертификаты.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-299">Before a mirroring session can begin, the database owner or system administrator must create the mirror database, set up endpoints and logins, and, in some cases, create and set up certificates.</span></span> <span data-ttu-id="2a6bd-300">Дополнительные сведения см. в подразделе [Настройка зеркального отображения базы данных (SQL Server)](setting-up-database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-300">For more information, see [Setting Up Database Mirroring &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md).</span></span>  
  
##  <a name="interoperability-and-coexistence-with-other-database-engine-features"></a><a name="InterOp"></a> <span data-ttu-id="2a6bd-301">Возможности взаимодействия и совместной работы с другими функциями компонента Database Engine</span><span class="sxs-lookup"><span data-stu-id="2a6bd-301">Interoperability and Coexistence with Other Database Engine Features</span></span>  
 <span data-ttu-id="2a6bd-302">Зеркальное отображение базы данных можно использовать со следующими возможностями и компонентами [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a6bd-302">Database mirroring can be used with the following features or components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   [<span data-ttu-id="2a6bd-303">Доставка журналов</span><span class="sxs-lookup"><span data-stu-id="2a6bd-303">Log shipping</span></span>](database-mirroring-and-log-shipping-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-304">Полнотекстовые каталоги</span><span class="sxs-lookup"><span data-stu-id="2a6bd-304">Full-text catalogs</span></span>](database-mirroring-and-full-text-catalogs-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-305">Моментальные снимки базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-305">Database snapshots</span></span>](../../relational-databases/databases/database-snapshots-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-306">Репликация</span><span class="sxs-lookup"><span data-stu-id="2a6bd-306">Replication</span></span>](database-mirroring-and-replication-sql-server.md)  
  
##  <a name="in-this-section"></a><a name="InThisSection"></a> <span data-ttu-id="2a6bd-307">в этом разделе</span><span class="sxs-lookup"><span data-stu-id="2a6bd-307">In This Section</span></span>  
 [<span data-ttu-id="2a6bd-308">Предварительные условия, ограничения и рекомендации по зеркальному отображению базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-308">Prerequisites, Restrictions, and Recommendations for Database Mirroring</span></span>](prerequisites-restrictions-and-recommendations-for-database-mirroring.md)  
 <span data-ttu-id="2a6bd-309">Описание предварительных условий и рекомендаций по настройке зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-309">Describes the prerequisites and recommendations for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="2a6bd-310">Режимы работы зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-310">Database Mirroring Operating Modes</span></span>](database-mirroring-operating-modes.md)  
 <span data-ttu-id="2a6bd-311">Содержит сведения о синхронном и асинхронном режимах работы для сеансов зеркального отображения базы данных, а также о переключении ролей участников в ходе сеанса зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-311">Contains information about the synchronous and asynchronous operating modes for database mirroring sessions, and about switching partner roles during a database mirroring session.</span></span>  
  
 [<span data-ttu-id="2a6bd-312">Следящий сервер зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-312">Database Mirroring Witness</span></span>](database-mirroring-witness.md)  
 <span data-ttu-id="2a6bd-313">Описывает роль следящего сервера в зеркальном отображении базы данных, порядок использования единого следящего сервера в нескольких сеансах зеркального отображения, рекомендации по аппаратному и программному обеспечению для следящих серверов, а также роль следящего сервера при автоматическом переходе на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-313">Describes the role of a witness in database mirroring, how to use a single witness in multiple mirroring sessions, software and hardware recommendations for witnesses, and the role of the witness in automatic failover.</span></span> <span data-ttu-id="2a6bd-314">Он также содержит сведения о добавлении или удалении следящего сервера.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-314">It also contains information about adding or removing a witness.</span></span>  
  
 [<span data-ttu-id="2a6bd-315">Переключение ролей во время сеанса зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-315">Role Switching During a Database Mirroring Session &#40;SQL Server&#41;</span></span>](role-switching-during-a-database-mirroring-session-sql-server.md)  
 <span data-ttu-id="2a6bd-316">Содержит сведения о переключении ролей участников в ходе сеанса зеркального отображения базы данных, включая переход на другой ресурс автоматически и вручную, а также принудительное обслуживание (с возможной потерей данных).</span><span class="sxs-lookup"><span data-stu-id="2a6bd-316">Contains information about switching partner roles during a database mirroring session, including automatic failover, manual failover, and forced service (with possible data loss).</span></span> <span data-ttu-id="2a6bd-317">Также содержит сведения об оценке эффекта прерывания обслуживания в ходе переключения ролей.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-317">Also, contains information about estimating the interruption of service during role switching.</span></span>  
  
 [<span data-ttu-id="2a6bd-318">Возможные неполадки при зеркальном отображении базы данных</span><span class="sxs-lookup"><span data-stu-id="2a6bd-318">Possible Failures During Database Mirroring</span></span>](possible-failures-during-database-mirroring.md)  
 <span data-ttu-id="2a6bd-319">Описывает физические проблемы, неполадки операционной системы и проблемы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , включая аппаратные и программные ошибки, которые могут вызвать сбой в сеансе зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-319">Discusses physical, operating system, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] problems, including hard errors and soft errors, that can cause a failure in a database mirroring session.</span></span> <span data-ttu-id="2a6bd-320">Описывает, как механизм ожидания при зеркальном отображении реагирует на кратковременные ошибки.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-320">Discusses how the mirroring time-out mechanism responds to soft errors.</span></span>  
  
 [<span data-ttu-id="2a6bd-321">Конечная точка зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-321">The Database Mirroring Endpoint &#40;SQL Server&#41;</span></span>](the-database-mirroring-endpoint-sql-server.md)  
 <span data-ttu-id="2a6bd-322">Объяснение функционирования конечных точек зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-322">Discusses how the database mirroring endpoint functions.</span></span>  
  
 [<span data-ttu-id="2a6bd-323">Настройка зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-323">Setting Up Database Mirroring &#40;SQL Server&#41;</span></span>](setting-up-database-mirroring-sql-server.md)  
 <span data-ttu-id="2a6bd-324">Содержит разделы, описывающие предварительные условия, рекомендации и шаги настройки зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-324">Contains topics about the prerequisites, recommendations, and steps for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="2a6bd-325">Подключение клиентов к сеансу зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-325">Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;</span></span>](connect-clients-to-a-database-mirroring-session-sql-server.md)  
 <span data-ttu-id="2a6bd-326">Содержит разделы, описывающие атрибуты строки соединения, используемой клиентом, и алгоритмы подключения и повторного подключения клиента к зеркальной базе данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-326">Contains topics covering client connection-string attributes and the algorithms for connecting and reconnecting a client to a mirrored database.</span></span>  
  
 [<span data-ttu-id="2a6bd-327">Приостановка и возобновление зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-327">Pausing and Resuming Database Mirroring &#40;SQL Server&#41;</span></span>](database-mirroring-sql-server.md)  
 <span data-ttu-id="2a6bd-328">Описывает, что происходит при приостановке зеркального отображения базы данных, включая влияние на усечение журнала транзакций, а также содержит описание приостановки и возобновления зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-328">Discusses what happens while database mirroring is paused, including the impact on transaction log truncation, and contains descriptions about how to pause and resume database mirroring.</span></span>  
  
 [<span data-ttu-id="2a6bd-329">Удаление зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-329">Removing Database Mirroring &#40;SQL Server&#41;</span></span>](removing-database-mirroring-sql-server.md)  
 <span data-ttu-id="2a6bd-330">Описывает влияние удаления зеркального отображения и содержит описание порядка завершения сеанса.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-330">Discusses the impact of removing mirroring and contains descriptions about how to end a session</span></span>  
  
 [<span data-ttu-id="2a6bd-331">Наблюдение за зеркальным отображением базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-331">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](monitoring-database-mirroring-sql-server.md)  
 <span data-ttu-id="2a6bd-332">Содержит информацию об использовании хранимых процедур монитора зеркального отображения баз данных ( **dbmmonitor** ) для мониторинга зеркального отображения базы данных и соответствующих сеансов.</span><span class="sxs-lookup"><span data-stu-id="2a6bd-332">Contains information about using Database Mirroring Monitor or the **dbmmonitor** stored procedures to monitor database mirroring or sessions.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="2a6bd-333">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="2a6bd-333">Related Tasks</span></span>  
  
### <a name="configuration-tasks"></a><span data-ttu-id="2a6bd-334">Задачи конфигурации</span><span class="sxs-lookup"><span data-stu-id="2a6bd-334">Configuration Tasks</span></span>  
 <span data-ttu-id="2a6bd-335">**Использование среды SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="2a6bd-335">**Using SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="2a6bd-336">Запуск мастера настройки безопасности зеркального отображения баз данных (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-336">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
-   [<span data-ttu-id="2a6bd-337">Создание сеанса зеркального отображения базы данных с использованием проверки подлинности Windows (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-337">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
 <span data-ttu-id="2a6bd-338">**Использование Transact-SQL**</span><span class="sxs-lookup"><span data-stu-id="2a6bd-338">**Using Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="2a6bd-339">Разрешение сетевого доступа к конечной точке зеркального отображения базы данных с использованием проверки подлинности Windows (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-339">Allow Network Access to a Database Mirroring Endpoint Using Windows Authentication &#40;SQL Server&#41;</span></span>](../database-mirroring-allow-network-access-windows-authentication.md)  
  
-   [<span data-ttu-id="2a6bd-340">Включение использования сертификатов для исходящих соединений в конечной точке зеркального отображения базы данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-340">Allow a Database Mirroring Endpoint to Use Certificates for Outbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-outbound-connections.md)  
  
-   [<span data-ttu-id="2a6bd-341">Включение использования сертификатов для входящих соединений в конечной точке зеркального отображения базы данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-341">Allow a Database Mirroring Endpoint to Use Certificates for Inbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-inbound-connections.md)  
  
-   [<span data-ttu-id="2a6bd-342">Создание конечной точки зеркального отображения базы данных с проверкой подлинности Windows (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-342">Create a Database Mirroring Endpoint for Windows Authentication &#40;Transact-SQL&#41;</span></span>](create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="2a6bd-343">Создание сеанса зеркального отображения базы данных с использованием проверки подлинности Windows (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-343">Establish a Database Mirroring Session Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring-establish-session-windows-authentication.md)  
  
-   [<span data-ttu-id="2a6bd-344">Добавление следящего сервера для зеркального отображения базы данных с использованием проверки подлинности Windows (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-344">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="2a6bd-345">Настройка зеркальной базы данных на использование свойства TRUSTWORTHY (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-345">Set Up a Mirror Database to Use the Trustworthy Property &#40;Transact-SQL&#41;</span></span>](set-up-a-mirror-database-to-use-the-trustworthy-property-transact-sql.md)  
  
 <span data-ttu-id="2a6bd-346">**Использование Transact-SQL или среды SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="2a6bd-346">**Using Transact-SQL or SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="2a6bd-347">Снижение времени простоя зеркальных баз данных при обновлении экземпляров сервера</span><span class="sxs-lookup"><span data-stu-id="2a6bd-347">Minimize Downtime for Mirrored Databases When Upgrading Server Instances</span></span>](upgrading-mirrored-instances.md)  
  
-   [<span data-ttu-id="2a6bd-348">Подготовка зеркальной базы данных к зеркальному отображению (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-348">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](prepare-a-mirror-database-for-mirroring-sql-server.md)  
  
### <a name="administrative-tasks"></a><span data-ttu-id="2a6bd-349">Задачи администрирования</span><span class="sxs-lookup"><span data-stu-id="2a6bd-349">Administrative Tasks</span></span>  
 <span data-ttu-id="2a6bd-350">**Transact-SQL**</span><span class="sxs-lookup"><span data-stu-id="2a6bd-350">**Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="2a6bd-351">Изменение безопасности транзакций в сеансах зеркального отображения базы данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-351">Change Transaction Safety in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](change-transaction-safety-in-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="2a6bd-352">Переключение сеанса зеркального отображения базы данных на другой ресурс вручную (язык Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-352">Manually Fail Over a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](manually-fail-over-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="2a6bd-353">Принудительный запуск службы в сеансе зеркального отображения базы данных (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-353">Force Service in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](force-service-in-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="2a6bd-354">Приостановка или возобновление сеанса зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-354">Pause or Resume a Database Mirroring Session &#40;SQL Server&#41;</span></span>](pause-or-resume-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-355">Удаление следящего сервера из сеанса зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-355">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-356">Удаление зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-356">Remove Database Mirroring &#40;SQL Server&#41;</span></span>](remove-database-mirroring-sql-server.md)  
  
 <span data-ttu-id="2a6bd-357">**Среда SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="2a6bd-357">**SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="2a6bd-358">Добавление или замена следящего сервера зеркального отображения базы данных (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-358">Add or Replace a Database Mirroring Witness &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/add-or-replace-a-database-mirroring-witness-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="2a6bd-359">Переключение сеанса зеркального отображения базы данных на другой ресурс вручную (среда SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-359">Manually Fail Over a Database Mirroring Session &#40;SQL Server Management Studio&#41;</span></span>](manually-fail-over-a-database-mirroring-session-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="2a6bd-360">Приостановка или возобновление сеанса зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-360">Pause or Resume a Database Mirroring Session &#40;SQL Server&#41;</span></span>](pause-or-resume-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-361">Удаление следящего сервера из сеанса зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-361">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="2a6bd-362">Удаление зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-362">Remove Database Mirroring &#40;SQL Server&#41;</span></span>](remove-database-mirroring-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="2a6bd-363">См. также:</span><span class="sxs-lookup"><span data-stu-id="2a6bd-363">See Also</span></span>  
 <span data-ttu-id="2a6bd-364">[Конечная точка зеркального отображения базы данных (SQL Server)](the-database-mirroring-endpoint-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2a6bd-364">[The Database Mirroring Endpoint &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md) </span></span>  
 <span data-ttu-id="2a6bd-365">[Автоматическое восстановление страниц &#40;для групп доступности и зеркального отображения базы данных&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="2a6bd-365">[Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md) </span></span>  
 <span data-ttu-id="2a6bd-366">[Диагностика конфигурации зеркального отображения базы данных (SQL Server)](troubleshoot-database-mirroring-configuration-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2a6bd-366">[Troubleshoot Database Mirroring Configuration &#40;SQL Server&#41;](troubleshoot-database-mirroring-configuration-sql-server.md) </span></span>  
 <span data-ttu-id="2a6bd-367">[Зеркальное отображение базы данных: взаимодействие и совместимость &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2a6bd-367">[Database Mirroring: Interoperability and Coexistence &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span></span>  
 <span data-ttu-id="2a6bd-368">[Предварительные условия, ограничения и рекомендации по зеркальному отображению базы данных](prerequisites-restrictions-and-recommendations-for-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="2a6bd-368">[Prerequisites, Restrictions, and Recommendations for Database Mirroring](prerequisites-restrictions-and-recommendations-for-database-mirroring.md) </span></span>  
 <span data-ttu-id="2a6bd-369">[Общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](../availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2a6bd-369">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="2a6bd-370">Сведения о доставке журналов (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2a6bd-370">About Log Shipping &#40;SQL Server&#41;</span></span>](../log-shipping/about-log-shipping-sql-server.md)  
  
  

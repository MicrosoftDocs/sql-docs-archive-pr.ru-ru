---
title: Монитор зеркального отображения баз данных (страница "Состояние") | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.dbmmonitor.status.f1
ms.assetid: 4f64b4e1-89e9-4827-98fa-b92c3dc73b48
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 5b572371732a15b67639a561e7f82b174b4f70c7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655941"
---
# <a name="database-mirroring-monitor-status-page"></a>Монитор зеркального отображения баз данных (страница «Состояние»)
  На этой странице, предназначенной только для чтения, отображаются самые последние сведения о состоянии зеркального отображения для экземпляров основного и зеркального сервера текущей базы данных, выбранной в дереве навигации. Если сведения об экземпляре в настоящее время недоступны, некоторые ячейки в сетке **Состояние** , соответствующие этому экземпляру, будут выглядеть недоступными и отображать **Неизвестно**.  
  
 **Наблюдение за зеркальным отображением базы данных с помощью среды SQL Server Management Studio**  
  
-   [Запуск монитора зеркального отображения баз данных (среда SQL Server Management Studio)](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="options"></a>Параметры  
 **Состояние**  
 Выводит сетку, содержащую самое последнее состояние высокого уровня экземпляров основного и зеркального сервера. Строки сетки **Состояние** располагаются в следующем порядке.  
  
-   Экземпляр основного сервера  
  
-   Экземпляр зеркального сервера  
  
 Существуют следующие столбцы.  
  
|Имя столбца|Описание|  
|-----------------|-----------------|  
|**Экземпляр сервера**|Имя экземпляра сервера, состояние которого отображается в строке **Состояние** .|  
|**Текущая роль**|Текущая роль экземпляра сервера — **Основной сервер** или **Зеркальный сервер**.|  
|**Состояние зеркального отображения**|Состояние зеркального отображения, определяемое экземпляром сервера и значком, указывающим серьезность состояния. Возможны следующие состояния и значки их отображения.<br /><br /> -: Состояние **неизвестно**. Монитор не подключен ни к одному участнику. Единственными доступными данными являются данные, кэшированные монитором.<br /><br /> Значок предупреждения: <br />                            **Синхронизация**состояния.<br />                          Содержимое зеркальной базы данных отстает от содержимого основной базы данных. Экземпляр основного сервера отправляет записи журнала на экземпляр зеркального сервера, который применяет эти изменения к зеркальной базе данных для выполнения наката. В начале сеанса зеркального отображения базы данных основная и зеркальная базы данных находятся в данном состоянии.<br /><br /> Цилиндр стандартной базы данных: состояние<br />                            **Синхронизировано**.<br />                          Когда зеркальный сервер достаточно догнал основной сервер, база данных переходит в состояние **Синхронизировано**. База данных остается в этом состоянии, пока основной сервер отправляет изменения на зеркальный сервер, а тот применяет эти изменения к зеркальной базе данных. В режиме высокого уровня безопасности как отработка отказа автоматически, так и вручную возможны без потери данных. Но и в режиме высокого уровня безопасности всегда остается актуальной потеря некоторых данных, даже в состоянии **Синхронизировано** .<br /><br /> Значок предупреждения: состояние<br />                            **Приостановлено**.<br />                            Основная база данных доступна, но не отправляет никаких записей журнала на зеркальный сервер.<br /><br /> Значок ошибки: состояние <br />                            **Отключено**.<br />                          Экземпляр сервера не может подключиться к участнику.|  
|**Соединение следящего сервера**|Состояние соединения следящего сервера, перед которым находится значок состояния: **Неизвестно,** **Подключен**или **Отключен**.|  
|**Журнал**|Щелкните, чтобы вывести журнал зеркального отображения экземпляра сервера. Откроется диалоговое окно **Журнал зеркального отображения базы данных** , в котором отображается журнал состояния зеркального отображения базы данных и статистические данные для зеркальной базы данных на данном экземпляре сервера.<br /><br /> Кнопка **Журнал** недоступна, если монитор не соединен с экземпляром сервера.|  
  
 **Журнал основного сервера (** *\<time>* **)**  
 Состояние журнала на экземпляре основного сервера на определенный момент по местному времени, указанному значением *\<time>* . Отображаются следующие параметры.  
  
 **Неотправленный журнал**  
 Объем журнала, ожидающего в очереди отправки (в килобайтах).  
  
 **Самая старая неотправленная транзакция**  
 Возраст самой старой неотправленной транзакции в очереди на отправку. Этот срок указывает, сколько минут транзакции не отправлялись на экземпляр зеркального сервера. Это значение позволяет оценить потенциальные потери данных по времени.  
  
 **Время на отправку журнала (предполагаемое).**  
 Приблизительное время, которое требуется экземпляру основного сервера для отправки журнала, находящегося в настоящий момент в очереди отправки, на экземпляр зеркального сервера ( *скорость отправки*). Поскольку скорость входящих транзакций может значительно меняться, время отправки журнала является предполагаемым. Тем не менее скорость отправки может оказаться полезной для грубого подсчета времени, требующегося для отработки отказа вручную.  
  
 **Текущая скорость отправки**  
 Скорость, с которой транзакции отправляются на экземпляр зеркального сервера в килобайтах (КБ) в секунду.  
  
 **Текущая скорость новых транзакций.**  
 Скорость, с которой входящие транзакции попадают в журнал основного сервера, в КБ в секунду. Чтобы определить отставание зеркального отображения, задержку или запаздывание, сравните это значение со значением **Предполагаемое время на отправку журнала** .  
  
 **Журнал зеркального сервера (** *\<time>* **)**  
 Состояние журнала на экземпляре зеркального сервера на определенный момент по местному времени, указанному значением *\<time>* . Отображаются следующие параметры.  
  
 **Невосстановленный журнал**  
 Объем журнала, ожидающего в очереди повтора (в килобайтах).  
  
 **Время на восстановление журнала (предполагаемое).**  
 Приблизительное количество минут, необходимых для применения журнала, находящегося в очереди повторов, к зеркальной базе данных.  
  
 **Текущая скорость восстановления**  
 Скорость, с которой транзакции восстанавливаются в зеркальной базе данных (в КБ в секунду).  
  
 **Затраты на фиксацию изменений на зеркальном сервере.**  
 Количество миллисекунд средней задержки транзакции, которое должно пройти до формирования предупреждения на основном сервере. Задержка — это объем дополнительной нагрузки во время ожидания экземпляром основного сервера экземпляра зеркального сервера для добавления записи журнала транзакции в очередь повтора. Это значение уместно только в режиме высокой безопасности.  
  
 **Время, необходимое для отправки и восстановления всего текущего журнала (предполагаемое).**  
 Время, необходимое для отправки и восстановления всего журнала, зафиксированного на основном сервере на текущее время. Это время может быть меньше, чем сумма значений полей **Время на отправку журнала (предполагаемое)** и **Время на восстановление журнала (предполагаемое)** , так как отправка и восстановление могут выполняться параллельно. Это приблизительное значение предсказывает время, необходимое для отправки и восстановления новых транзакций, зафиксированных на основном сервере, при одновременной ликвидации задержки в очереди отправки.  
  
 **Адрес следящего сервера.**  
 Сетевой адрес экземпляра следящего сервера. Сведения о формате этого адреса см. в разделе [Указание сетевого адреса сервера (зеркальное отображение базы данных)](specify-a-server-network-address-database-mirroring.md).  
  
 **Режим работы**  
 Режим работы сеанса зеркального отображения базы данных.  
  
-   **Высокая производительность (асинхронный)**  
  
-   **Высокий уровень безопасности без автоматического перехода на другой ресурс (синхронного)**  
  
-   **Высокий уровень безопасности с автоматическим переходом на другой ресурс (синхронным)**  
  
## <a name="remarks"></a>Remarks  
 Члены предопределенной роли базы данных **dbm_monitor** могут просматривать текущее состояние зеркального отображения при помощи монитора зеркального отображения баз данных или хранимой процедуры **sp_dbmmonitorresults** . Но эти пользователи не могут обновлять таблицу состояния. Они зависят от **задания монитора зеркального отображения баз данных**, обновляющего таблицу состояния через равномерные интервалы времени. Чтобы узнать возраст отображаемого состояния, пользователь может просмотреть время в метках **журнала основного сервера ( ***\<time>*** )** и **журнала зеркальной базы данных ( ***\<time>*** )** .  
  
 Если это задание не существует или агент [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] остановлен, состояние постоянно устаревает и может больше не отражать конфигурацию сеанса зеркального отображения. Например, после отработки отказа может оказаться, что партнеры используют одинаковую роль основного или зеркального сервера или текущий основной сервер может отображаться как зеркальный, в то время как текущий зеркальный сервер отображается как основной.  
  
## <a name="see-also"></a>См. также:  
 [Запуск монитора зеркального отображения баз данных (среда SQL Server Management Studio)](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)   
 [Мониторинг зеркального отображения базы данных (SQL Server)](database-mirroring-sql-server.md)   
 [Запуск мастера настройки безопасности зеркального отображения баз данных (среда SQL Server Management Studio)](start-the-configuring-database-mirroring-security-wizard.md)  
  
  

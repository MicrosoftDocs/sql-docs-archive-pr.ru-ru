---
title: Предварительные условия, ограничения и рекомендации по зеркальному отображению базы данных | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- database mirroring [SQL Server], deployment
- partners [SQL Server]
- database mirroring [SQL Server], prerequisites
- database mirroring [SQL Server], recommendations
- database mirroring [SQL Server], restrictions
- database mirroring [SQL Server], planning
- database mirroring [SQL Server], about database mirroring
ms.assetid: fdcf2251-9895-44c6-b81e-768fef32e732
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 0dc29dbdc8432a4abd197a2a1a3f15b6ff5f6d52
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733098"
---
# <a name="prerequisites-restrictions-and-recommendations-for-database-mirroring"></a><span data-ttu-id="e2348-102">Предварительные условия, ограничения и рекомендации по зеркальному отображению базы данных</span><span class="sxs-lookup"><span data-stu-id="e2348-102">Prerequisites, Restrictions, and Recommendations for Database Mirroring</span></span>
    
> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)] <span data-ttu-id="e2348-103">Вместо этого используйте [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2348-103">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="e2348-104">В этом разделе описываются предварительные условия и рекомендации по настройке зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-104">This topic describes the prerequisites and recommendations for setting up database mirroring.</span></span> <span data-ttu-id="e2348-105">Базовые сведения о зеркальном отображении базы данных см. в разделе [Зеркальное отображение базы данных (SQL Server)](database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-105">For an introduction to database mirroring, see [Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e2348-106">Формат хранения данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на диске в 64-разрядной и 32-разрядной средах одинаков.</span><span class="sxs-lookup"><span data-stu-id="e2348-106">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on-disk storage format is the same in the 64-bit and 32-bit environments.</span></span> <span data-ttu-id="e2348-107">Таким образом, сеанс зеркального отображения базы данных может объединять экземпляры сервера в 32-разрядной и 64-разрядной средах.</span><span class="sxs-lookup"><span data-stu-id="e2348-107">Therefore, a database mirroring session can combine server instances that run in a 32-bit environment and server instances that run in a 64-bit environment.</span></span>  
  

  
##  <a name="support-for-database-mirroring"></a><a name="DbmSupport"></a><span data-ttu-id="e2348-108">Поддержка зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="e2348-108">Support For Database Mirroring</span></span>  
 <span data-ttu-id="e2348-109">Дополнительные сведения о зеркальном отображении базы данных в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] см. в разделе [Функции, поддерживаемые различными выпусками SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-109">For information about support for database mirroring in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="e2348-110">Имейте в виду, что зеркальное отображение базы данных работает при любом поддерживаемом уровне совместимости базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-110">Note that database mirroring works with any supported database compatibility level.</span></span> <span data-ttu-id="e2348-111">Сведения о поддерживаемых уровнях совместимости см. в разделе [Уровень совместимости ALTER DATABASE (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span><span class="sxs-lookup"><span data-stu-id="e2348-111">For information about the supported compatibility levels, see [ALTER DATABASE Compatibility Level &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span></span>  
  

  
##  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="e2348-112">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="e2348-112">Prerequisites</span></span>  
  
-   <span data-ttu-id="e2348-113">Чтобы создать сеанс зеркального отображения, у участников и следящего сервера (если он есть) должна быть установлена одна и та же версия [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2348-113">For a mirroring session to be established, the partners and the witness, if any, must be running on the same version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="e2348-114">На обоих участниках — как на основном, так и на зеркальном сервере — должен работать один и тот же выпуск [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2348-114">The two partners, that is the principal server and mirror server, must be running the same edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="e2348-115">На следящем сервере (если он есть) может работать любой выпуск [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , поддерживающий зеркальное отображение базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-115">The witness, if any, can run on any edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that supports database mirroring.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e2348-116">Экземпляры сервера, которые являются участниками сеанса зеркального отображения, вы можете обновить до более новой версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2348-116">You can upgrade server instances that are partners in a mirroring session to a more recent version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="e2348-117">Дополнительные сведения см. в разделе [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-117">For more information, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span></span>  
  
-   <span data-ttu-id="e2348-118">База данных должна использовать модель полного восстановления.</span><span class="sxs-lookup"><span data-stu-id="e2348-118">The database must use the full recovery model.</span></span> <span data-ttu-id="e2348-119">Простая модель восстановления и модель восстановления с неполным протоколированием не поддерживают зеркальное отображение базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-119">The simple and bulk-logged recovery models do not support database mirroring.</span></span> <span data-ttu-id="e2348-120">Таким образом, массовые операции для зеркальной базы данных всегда полностью протоколируются.</span><span class="sxs-lookup"><span data-stu-id="e2348-120">Therefore, bulk operations are always fully logged for a mirrored database.</span></span> <span data-ttu-id="e2348-121">Дополнительные сведения о моделях восстановления см. в разделе [Модели восстановления (SQL Server)](../../relational-databases/backup-restore/recovery-models-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-121">For information about recovery models, see [Recovery Models &#40;SQL Server&#41;](../../relational-databases/backup-restore/recovery-models-sql-server.md).</span></span>  
  
-   <span data-ttu-id="e2348-122">Убедитесь, что у зеркального сервера достаточно места на диске для зеркальной базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-122">Verify that the mirror server has sufficient disk space for the mirror database.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e2348-123">Дополнительные сведения об использовании зеркального отображения базы данных на реплицируемой базе данных см. в разделе [Зеркальное отображение и репликация баз данных (SQL Server)](database-mirroring-and-replication-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-123">For information about how to use database mirroring on a replicated database, see [Database Mirroring and Replication &#40;SQL Server&#41;](database-mirroring-and-replication-sql-server.md).</span></span>  
  
-   <span data-ttu-id="e2348-124">При создании зеркальной базы данных на зеркальном сервере убедитесь, что резервная копия основной базы данных восстановлена, указав имя базы данных в предложении WITH NORECOVERY.</span><span class="sxs-lookup"><span data-stu-id="e2348-124">When you are creating the mirror database on the mirror server, make sure that you restore the backup of the principal database specifying the same database name WITH NORECOVERY.</span></span> <span data-ttu-id="e2348-125">Кроме того, все резервные копии журналов, созданные после резервного копирования этой базы данных, также должны быть восстановлены с использованием предложения WITH NORECOVERY.</span><span class="sxs-lookup"><span data-stu-id="e2348-125">Also, all log backups that were created after that backup was taken must also be applied, again WITH NORECOVERY.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="e2348-126">Если зеркальное отображение базы данных было остановлено, то перед тем как заново запустить его, необходимо применить к зеркальной базе данных все последующие резервные копии журналов основной базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-126">If database mirroring has been stopped, before you can restart it, any subsequent log backups taken on the principal database must be applied to the mirror database.</span></span>  
  

  
##  <a name="restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="e2348-127">Ограничения</span><span class="sxs-lookup"><span data-stu-id="e2348-127">Restrictions</span></span>  
  
-   <span data-ttu-id="e2348-128">Зеркальное отображение возможно только для пользовательских баз данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-128">Only user databases can be mirrored.</span></span> <span data-ttu-id="e2348-129">Нельзя осуществлять зеркальное отображение баз данных **master**, **msdb**, **tempdb**или **model** .</span><span class="sxs-lookup"><span data-stu-id="e2348-129">You cannot mirror the **master**, **msdb**, **tempdb**, or **model** databases.</span></span>  
  
-   <span data-ttu-id="e2348-130">Зеркальные базы данных нельзя переименовывать во время сеанса зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="e2348-130">A mirrored database cannot be renamed during a database mirroring session.</span></span>  
  
-   <span data-ttu-id="e2348-131">Зеркальное отображение базы данных не поддерживает FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="e2348-131">Database mirroring does not support FILESTREAM.</span></span> <span data-ttu-id="e2348-132">Создание файловой группы FILESTREAM на основном сервере невозможно.</span><span class="sxs-lookup"><span data-stu-id="e2348-132">A FILESTREAM filegroup cannot be created on the principal server.</span></span> <span data-ttu-id="e2348-133">Настройка зеркального отображения для базы данных, содержащей файловые группы FILESTREAM, невозможна.</span><span class="sxs-lookup"><span data-stu-id="e2348-133">Database mirroring cannot be configured for a database that contains FILESTREAM filegroups.</span></span>  
  
-   <span data-ttu-id="e2348-134">В 32-разрядной системе зеркальное отображение поддерживает не более 10 баз данных на каждый экземпляр сервера. Это вызвано количеством потоков исполнителей, используемых каждым сеансом зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="e2348-134">On a 32-bit system, database mirroring can support a maximum of about 10 databases per server instance because of the numbers of worker threads that are consumed by each database mirroring session.</span></span>  
  
-   <span data-ttu-id="e2348-135">Зеркальное отображение базы данных не поддерживается с межбазовыми или с распределенными транзакциями.</span><span class="sxs-lookup"><span data-stu-id="e2348-135">Database mirroring is not supported with either cross-database transactions or distributed transactions.</span></span> <span data-ttu-id="e2348-136">Дополнительные сведения см. в разделе [Транзакции между базами данных не поддерживаются при зеркальном отображении баз данных или в группах доступности AlwaysOn (SQL Server)](../availability-groups/windows/transactions-always-on-availability-and-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-136">For more information, see [Cross-Database Transactions Not Supported For Database Mirroring or AlwaysOn Availability Groups &#40;SQL Server&#41;](../availability-groups/windows/transactions-always-on-availability-and-database-mirroring.md).</span></span>  
  

  
##  <a name="recommendations-for-configuring-partner-servers"></a><a name="RecommendationsForPartners"></a><span data-ttu-id="e2348-137">Рекомендации по настройке серверов-участников</span><span class="sxs-lookup"><span data-stu-id="e2348-137">Recommendations for Configuring Partner Servers</span></span>  
  
-   <span data-ttu-id="e2348-138">Участники должны выполняться на сопоставимых системах, которые могут обрабатывать одинаковые рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="e2348-138">The partners should run on comparable systems that can handle identical workloads.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e2348-139">Если планируется использовать режим высокого уровня безопасности с автоматической отработкой отказа, каждый партнер по обеспечению отработки отказа должен использовать менее 50 процентов ЦП.</span><span class="sxs-lookup"><span data-stu-id="e2348-139">If you plan to use high-safety mode with automatic failover, the normal load on each failover partner should be less than 50 percent of the CPU.</span></span> <span data-ttu-id="e2348-140">Если рабочая нагрузка перегружает ЦП, партнер по обеспечению отработки отказа может оказаться неспособным выполнить команду ping для другого экземпляра сервера в сеансе зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="e2348-140">If your work load overloads the CPU, a failover partner might be unable to ping the other server instances in the mirroring session.</span></span> <span data-ttu-id="e2348-141">Это приводит к излишним отработкам отказа.</span><span class="sxs-lookup"><span data-stu-id="e2348-141">This causes a unnecessary failover.</span></span> <span data-ttu-id="e2348-142">Если не удается избежать загрузки процессора более чем на 50 процентов, то рекомендуется использовать либо режим высокой безопасности без автоматической отработки отказа, либо режим высокой производительности.</span><span class="sxs-lookup"><span data-stu-id="e2348-142">If you cannot keep the CPU usage under 50 percent, we recommend that you use either high-safety mode without automatic failover or high-performance mode.</span></span>  
  
-   <span data-ttu-id="e2348-143">Желательно, чтобы путь зеркальной базы данных (включая имя диска) был идентичен пути основной базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-143">If possible, the path (including the drive letter) of the mirror database should be identical to the path of the principal database.</span></span> <span data-ttu-id="e2348-144">Если размещение файлов различается для разных баз данных, необходимо включить в инструкцию RESTORE параметр MOVE.</span><span class="sxs-lookup"><span data-stu-id="e2348-144">You must include the MOVE option in the RESTORE statement if the file layouts must differ.</span></span> <span data-ttu-id="e2348-145">Например, если основная база данных расположена на диске «F:», а в зеркальной системе нет диска «F:».</span><span class="sxs-lookup"><span data-stu-id="e2348-145">For example, if the principal database is on drive 'F:' but the mirror system lacks an F: drive.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="e2348-146">Если во время создания зеркального отображения базы данных файлы базы данных перемещаются, в дальнейшем добавление файлов в базу данных без приостановки зеркального отображения может быть невозможным.</span><span class="sxs-lookup"><span data-stu-id="e2348-146">If you move the database files when you create the mirror database, you might be unable to add files to the database later without mirroring being suspended.</span></span>  
  
-   <span data-ttu-id="e2348-147">В сеансе зеркального отображения все экземпляры сервера должны использовать одну и ту же основную кодовую страницу и параметры сортировки.</span><span class="sxs-lookup"><span data-stu-id="e2348-147">All of the server instances in a mirroring session should use the same master code page and collation.</span></span> <span data-ttu-id="e2348-148">Отличия могут вызвать проблемы при настройке зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="e2348-148">Differences can cause a problem during mirroring setup.</span></span>  
  
-   <span data-ttu-id="e2348-149">Если требуется, можно оценить время на переключение базы данных, чтобы убедиться в том, что конфигурация системы позволяет достичь нужной производительности.</span><span class="sxs-lookup"><span data-stu-id="e2348-149">Optionally, estimate the time to fail over a database, to make sure that the system configuration will provide the performance you require.</span></span> <span data-ttu-id="e2348-150">Дополнительные сведения см. в статье [Оценка прерывания обслуживания во время переключения ролей (зеркальное отображение базы данных)](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-150">For more information, see [Estimate the Interruption of Service During Role Switching &#40;Database Mirroring&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="e2348-151">Для максимальной производительности используйте для зеркального отображения выделенный сетевой адаптер.</span><span class="sxs-lookup"><span data-stu-id="e2348-151">For best performance, use a dedicated network adapter (network interface card) for mirroring.</span></span>  
  
-   <span data-ttu-id="e2348-152">Мы не даем никаких рекомендаций по поводу того, достаточно ли надежна глобальная сеть (WAN) для зеркального отображения базы данных в режиме высокой безопасности.</span><span class="sxs-lookup"><span data-stu-id="e2348-152">We make no recommendations about whether a wide-area network (WAN) is reliable enough for database mirroring in high-safety mode.</span></span> <span data-ttu-id="e2348-153">Если режим высокой безопасности используется в глобальной сети, добавлять следящий сервер в сеанс следует осторожно, чтобы не произошла ненужная автоматическая отработка отказа.</span><span class="sxs-lookup"><span data-stu-id="e2348-153">If you decide to use high-safety mode over a WAN, be cautious about how you add a witness to the session, because unwanted automatic failovers can occur.</span></span> <span data-ttu-id="e2348-154">Дополнительные сведения см. в подразделе [Рекомендации по развертыванию зеркального отображения базы данных](#RecommendationsForDeploying)далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="e2348-154">For more information, see [Recommendations for Deploying Database Mirroring](#RecommendationsForDeploying), later in this topic.</span></span>  
  

  
##  <a name="recommendations-for-deploying-database-mirroring"></a><a name="RecommendationsForDeploying"></a><span data-ttu-id="e2348-155">Рекомендации по развертыванию зеркального отображения базы данных</span><span class="sxs-lookup"><span data-stu-id="e2348-155">Recommendations for Deploying Database Mirroring</span></span>  
 <span data-ttu-id="e2348-156">Оптимальная производительность зеркального отображения базы данных достигается при помощи асинхронного режима.</span><span class="sxs-lookup"><span data-stu-id="e2348-156">Optimal database mirroring performance is obtained by using asynchronous operation.</span></span> <span data-ttu-id="e2348-157">В сеансе зеркального отображения, который работает в синхронном режиме, наблюдается меньшая производительность, если рабочая нагрузка формирует большое количество данных журнала транзакций.</span><span class="sxs-lookup"><span data-stu-id="e2348-157">A mirroring session that uses synchronous operation might experience slowed performance when its workload generates large amounts of transaction log data.</span></span>  
  
 <span data-ttu-id="e2348-158">В тестовой среде полезно изучить все режимы работы, чтобы оценить, как выполняется зеркальное отображение базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-158">In test environments, it is appropriate to explore all the operating modes to evaluate how database mirroring performs.</span></span> <span data-ttu-id="e2348-159">Но прежде чем развертывать зеркальное отображение в рабочей среде, важно понять, как реально функционирует сеть.</span><span class="sxs-lookup"><span data-stu-id="e2348-159">However, before you deploy mirroring into a production environment, make sure that you understand how the network functions in the real world.</span></span>  
  
 <span data-ttu-id="e2348-160">Режим высокого уровня безопасности с автоматической отработкой отказа разработан для сети высокого уровня обслуживания, которая имеет либо выделенное соединение, либо довольно простую конфигурацию, которая сводит к минимуму возможные источники сбоя сети.</span><span class="sxs-lookup"><span data-stu-id="e2348-160">High-safety mode with automatic failover is designed for a high-service network that has either a dedicated connection or a fairly simple network configuration that minimizes the sources of possible network failures.</span></span> <span data-ttu-id="e2348-161">Такая сетевая среда высокого качества является критически необходимой для режима высокой безопасности с автоматической отработкой отказа и рекомендуется для всех сеансов зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-161">Such a high-quality network environment is necessary for high-safety mode with automatic failover and is recommended for all database mirroring sessions.</span></span> <span data-ttu-id="e2348-162">Высокопроизводительный режим и режим высокого уровня безопасности без автоматической отработки отказа на другой ресурс меньше зависят от надежности сети.</span><span class="sxs-lookup"><span data-stu-id="e2348-162">However, high-performance mode and high-safety mode without automatic failover are much less affected by network reliability.</span></span>  
  
 <span data-ttu-id="e2348-163">Поэтому для рабочей среды рекомендуется следовать следующим правилам развертывания.</span><span class="sxs-lookup"><span data-stu-id="e2348-163">Therefore, for production environments we recommend that you adhere to the following deployment guidelines:</span></span>  
  
1.  <span data-ttu-id="e2348-164">Начните работу в асинхронном режиме высокой производительности.</span><span class="sxs-lookup"><span data-stu-id="e2348-164">Start running in asynchronous, high-performance mode.</span></span> <span data-ttu-id="e2348-165">Этот режим наименее чувствителен к сетевой среде и обеспечивает наилучшую конфигурацию для изучения того, как работает зеркальное отображение.</span><span class="sxs-lookup"><span data-stu-id="e2348-165">This mode is the least sensitive to the network environment and provides the best configuration for exploring how mirroring works.</span></span> <span data-ttu-id="e2348-166">Рекомендуется запускать систему в асинхронном режиме до тех пор, пока вы не убедитесь, что пропускная способность сети поддерживает зеркальное отображение, и не поймете настройки зеркального отображения и работы в асинхронном режиме в вашей среде.</span><span class="sxs-lookup"><span data-stu-id="e2348-166">We recommend that you run your system asynchronously until you are confident that your bandwidth supports mirroring and you have developed an understanding of mirroring setup and of the performance of asynchronous mode in your environment.</span></span> <span data-ttu-id="e2348-167">Дополнительные сведения см. в статье [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-167">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="e2348-168">В процессе тестирования рекомендуется следить за сетевыми ошибками в сеансах, которые могут вызвать сбой во время зеркального отображения базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-168">Throughout testing, we recommend that you monitor your sessions for network errors that cause database mirroring to fail.</span></span> <span data-ttu-id="e2348-169">Дополнительные сведения о возможных источниках сбоев см. в разделе [Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-169">For more information about potential sources of failure, see [Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md).</span></span> <span data-ttu-id="e2348-170">Дополнительные сведения о зеркальном отображении базы данных см. в разделе [Зеркальное отображение базы данных (SQL Server)](monitoring-database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-170">For information about how to monitor database mirroring, see [Monitoring Database Mirroring &#40;SQL Server&#41;](monitoring-database-mirroring-sql-server.md).</span></span>  
  
2.  <span data-ttu-id="e2348-171">Если вы уверены, что функционирование в асинхронном режиме удовлетворяет рабочим требованиям, можно опробовать работу в синхронном режиме, чтобы улучшить защиту данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-171">When you are confident that asynchronous operation is meeting the business needs, you might want to try synchronous operation to improve your data protection.</span></span> <span data-ttu-id="e2348-172">При тестировании синхронного режима зеркального отображения в среде рекомендуется в первую очередь протестировать режим высокого уровня безопасности без автоматической отработки отказа на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="e2348-172">When you test how synchronous mirroring works in your environment, we recommend that first you test high-safety mode without automatic failover.</span></span> <span data-ttu-id="e2348-173">Главная цель тестирования — увидеть, как синхронный режим влияет на производительность базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2348-173">The primary purpose of this testing is to see how synchronous operation affects the database performance.</span></span> <span data-ttu-id="e2348-174">Дополнительные сведения см. в статье [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-174">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
3.  <span data-ttu-id="e2348-175">Не торопитесь включать автоматическую отработку отказа до тех пор, пока не убедитесь, что режим высокого уровня безопасности без автоматической отработки отказа удовлетворяет требованиям вашего предприятия и сетевые ошибки не вызывают сбои.</span><span class="sxs-lookup"><span data-stu-id="e2348-175">Wait to enable automatic failover until you are confident that high-safety mode without automatic failover is meeting the business needs and that network errors are not causing failures.</span></span> <span data-ttu-id="e2348-176">Дополнительные сведения см. в статье [Переключение ролей во время сеанса зеркального отображения базы данных (SQL Server)](role-switching-during-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="e2348-176">For more information, see [Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span></span>  
  

  
## <a name="see-also"></a><span data-ttu-id="e2348-177">См. также:</span><span class="sxs-lookup"><span data-stu-id="e2348-177">See Also</span></span>  
 <span data-ttu-id="e2348-178">[Настройка зеркального отображения базы данных (SQL Server)](setting-up-database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="e2348-178">[Setting Up Database Mirroring &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md) </span></span>  
 <span data-ttu-id="e2348-179">[Безопасность транспорта для зеркального отображения базы данных и группы доступности AlwaysOn &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md) </span><span class="sxs-lookup"><span data-stu-id="e2348-179">[Transport Security for Database Mirroring and AlwaysOn Availability Groups &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md) </span></span>  
 <span data-ttu-id="e2348-180">[Зеркальное отображение базы данных (SQL Server)](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="e2348-180">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="e2348-181">Диагностика конфигурации зеркального отображения базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="e2348-181">Troubleshoot Database Mirroring Configuration &#40;SQL Server&#41;</span></span>](troubleshoot-database-mirroring-configuration-sql-server.md)  
  
  

---
title: Кворум. Как следящий сервер влияет на доступность базы данных (зеркальное отображение базы данных) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- quorum [SQL Server], database mirroring
- running exposed in database mirroring [SQL Server]
- witness-to-partner quorum [SQL Server]
- partners [SQL Server], partner-to-partner quorum
- witness [SQL Server], quorum
- have quorum [SQL Server]
- quorum [SQL Server]
- mirror database [SQL Server]
- full quorum [SQL Server]
- high-availability mode [SQL Server]
ms.assetid: a62d9dd7-3667-4751-a294-a61fc9caae7c
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: ada152f280a4ac75543f09e5f5afa7c72c0cbef6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733089"
---
# <a name="quorum-how-a-witness-affects-database-availability-database-mirroring"></a><span data-ttu-id="1efd5-102">Кворум. Как следящий сервер влияет на доступность базы данных (зеркальное отображение базы данных)</span><span class="sxs-lookup"><span data-stu-id="1efd5-102">Quorum: How a Witness Affects Database Availability (Database Mirroring)</span></span>
  <span data-ttu-id="1efd5-103">Когда для сеанса зеркального отображения базы данных назначен следящий сервер, обязательно наличие *кворума* .</span><span class="sxs-lookup"><span data-stu-id="1efd5-103">Whenever a witness is set for a database mirroring session, *quorum* is required.</span></span> <span data-ttu-id="1efd5-104">Кворум — это связь, возникающая, когда два или несколько экземпляров сервера в сеансе зеркального отображения подключаются друг к другу.</span><span class="sxs-lookup"><span data-stu-id="1efd5-104">Quorum is a relationship that exists when two or more server instances in a database mirroring session are connected to each other.</span></span> <span data-ttu-id="1efd5-105">Обычно кворум включает три соединенных друг с другом экземпляра сервера.</span><span class="sxs-lookup"><span data-stu-id="1efd5-105">Typically, quorum involves three interconnected server instances.</span></span> <span data-ttu-id="1efd5-106">Если указан следящий сервер, то кворум необходим, чтобы сделать базу данных доступной.</span><span class="sxs-lookup"><span data-stu-id="1efd5-106">When a witness is set, quorum is required to make the database available.</span></span> <span data-ttu-id="1efd5-107">Кворум, рассчитанный на режим высокого уровня безопасности с автоматической отработкой отказа, гарантирует, что в любой момент времени база данных принадлежит только одному участнику.</span><span class="sxs-lookup"><span data-stu-id="1efd5-107">Designed for high-safety mode with automatic failover, quorum makes sure that a database is owned by only one partner at a time.</span></span>  
  
 <span data-ttu-id="1efd5-108">Если экземпляр сервера отключается от сеанса зеркального отображения, экземпляр теряет кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-108">If a particular server instance becomes disconnected from a mirroring session, that instance loses quorum.</span></span> <span data-ttu-id="1efd5-109">Если не подключено ни одного экземпляра сервера, сеанс теряет кворум и база данных выходит из режима «в сети».</span><span class="sxs-lookup"><span data-stu-id="1efd5-109">If no server instances are connected, the session loses quorum and the database becomes unavailable.</span></span> <span data-ttu-id="1efd5-110">Возможны три типа кворума.</span><span class="sxs-lookup"><span data-stu-id="1efd5-110">Three types of quorum are possible:</span></span>  
  
-   <span data-ttu-id="1efd5-111">*Полный кворум* состоит из обоих участников и следящего сервера.</span><span class="sxs-lookup"><span data-stu-id="1efd5-111">A *full quorum* includes both partners and the witness.</span></span>  
  
-   <span data-ttu-id="1efd5-112">*Кворум "следящий сервер-участник"* состоит из следящего сервера и одного из участников.</span><span class="sxs-lookup"><span data-stu-id="1efd5-112">A *witness-to-partner quorum* consists of the witness and either partner.</span></span>  
  
-   <span data-ttu-id="1efd5-113">*Кворум "участник-участник"* состоит из двух участников.</span><span class="sxs-lookup"><span data-stu-id="1efd5-113">A *partner-to-partner quorum* consists of the two partners.</span></span>  
  
 <span data-ttu-id="1efd5-114">На следующем рисунке показаны все три типы кворума.</span><span class="sxs-lookup"><span data-stu-id="1efd5-114">The following figure shows these types of quorum.</span></span>  
  
 <span data-ttu-id="1efd5-115">![Кворумы: полный; следящего и одного участника; обоих участников](../media/dbm-failovautoquorum.gif "Кворумы: полный; следящего и одного участника; обоих участников")</span><span class="sxs-lookup"><span data-stu-id="1efd5-115">![Quorums: full; witness and partner; both partners](../media/dbm-failovautoquorum.gif "Quorums: full; witness and partner; both partners")</span></span>  
  
 <span data-ttu-id="1efd5-116">Пока текущий основной сервер имеет кворум, он играет роль основного и продолжает обслуживать базу данных, пока владелец базы данных не произведет отработку отказа вручную.</span><span class="sxs-lookup"><span data-stu-id="1efd5-116">As long as the current principal server has quorum, this server owns the role of principal and continues to serve the database, unless the database owner performs a manual failover.</span></span> <span data-ttu-id="1efd5-117">Если основной сервер теряет кворум, он перестает обслуживать базу данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-117">If the principal server loses quorum, it stops serving the database.</span></span> <span data-ttu-id="1efd5-118">Автоматическая отработка отказа может произойти только в том случае, если основной сервер утратил кворум, что является сигналом прекращения обслуживания им основной базы данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-118">Automatic failover can occur only if the principal database has lost quorum, which guarantees that it is no longer serving the database.</span></span>  
  
 <span data-ttu-id="1efd5-119">Отключенный экземпляр сервера сохраняет свою последнюю роль в сеансе.</span><span class="sxs-lookup"><span data-stu-id="1efd5-119">A disconnected server instance saves its most recent role in the session.</span></span> <span data-ttu-id="1efd5-120">Как правило, в определенный момент времени отключенный экземпляр сервера производит повторное подключение к сеансу и восстанавливает кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-120">Typically, a disconnected server instance reconnects to the session when it restarts and regains quorum.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="1efd5-121">Следящий сервер следует устанавливать только в том случае, когда предполагается использовать режим высокого уровня безопасности с автоматической отработкой отказа.</span><span class="sxs-lookup"><span data-stu-id="1efd5-121">The witness should be set only when you intend to use high-safety mode with automatic failover.</span></span> <span data-ttu-id="1efd5-122">В режиме высокой производительности, для которого следящий сервер не нужен, настоятельно рекомендуется установить WITNESS в значение OFF.</span><span class="sxs-lookup"><span data-stu-id="1efd5-122">In high-performance mode, for which a witness is never required, we strongly recommend setting the WITNESS property to OFF.</span></span> <span data-ttu-id="1efd5-123">Дополнительные сведения о том, каким образом следящий сервер влияет на режим высокой производительности, см. в разделе [Режимы работы зеркального отображения базы данных](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="1efd5-123">For information about the impact of a witness on high-performance mode, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
## <a name="quorum-in-high-safety-mode-sessions"></a><span data-ttu-id="1efd5-124">Кворум в сеансах с режимом высокого уровня безопасности</span><span class="sxs-lookup"><span data-stu-id="1efd5-124">Quorum in High-Safety Mode Sessions</span></span>  
 <span data-ttu-id="1efd5-125">В режиме высокого уровня безопасности кворум обеспечивает автоматическую отработку отказа благодаря наличию контекста, по которому находящиеся в кворуме экземпляры серверов определяют, какой из участников играет роль основного.</span><span class="sxs-lookup"><span data-stu-id="1efd5-125">In high-safety mode, quorum allows automatic failover by providing a context in which the server instances with quorum arbitrate which partner owns the role of principal.</span></span> <span data-ttu-id="1efd5-126">Основной сервер обслуживает базу данных, если он имеет кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-126">The principal server serves the database if it has quorum.</span></span> <span data-ttu-id="1efd5-127">Если основной сервер теряет кворум, а синхронизированный зеркальный и следящий серверы сохраняют его, то выполняется автоматическая отработка отказа.</span><span class="sxs-lookup"><span data-stu-id="1efd5-127">If the principal server loses quorum when the synchronized mirror server and witness retain quorum, automatic failover occurs.</span></span>  
  
 <span data-ttu-id="1efd5-128">В сеансах с режимом высокого уровня безопасности существуют следующие сценарии кворума.</span><span class="sxs-lookup"><span data-stu-id="1efd5-128">The quorum scenarios for high-safety mode are as follows:</span></span>  
  
-   <span data-ttu-id="1efd5-129">*Полный кворум* состоит из участников и следящего сервера.</span><span class="sxs-lookup"><span data-stu-id="1efd5-129">A *full quorum* that consists of both partners and the witness.</span></span>  
  
     <span data-ttu-id="1efd5-130">Обычно в трехстороннем кворуме участвуют все три экземпляра серверов, что называется *полным кворумом*.</span><span class="sxs-lookup"><span data-stu-id="1efd5-130">Ordinarily, all three server instances participate in a three-way quorum, called a *full quorum*.</span></span> <span data-ttu-id="1efd5-131">При полном кворуме основной и зеркальный сервера продолжают играть соответствующие роли (пока не произойдет отработки отказа вручную).</span><span class="sxs-lookup"><span data-stu-id="1efd5-131">With a full quorum, the principal and mirror servers continue to perform their respective roles (unless manual failover occurs).</span></span>  
  
-   <span data-ttu-id="1efd5-132">*Кворум "следящий сервер-участник"* состоит из следящего сервера и одного из участников.</span><span class="sxs-lookup"><span data-stu-id="1efd5-132">A *witness-to-partner quorum* that consists of the witness and either partner.</span></span>  
  
     <span data-ttu-id="1efd5-133">Если вследствие выхода из строя одного из участников зеркального отображения произойдет разрыв сетевого подключения, возможны следующие варианты развития событий.</span><span class="sxs-lookup"><span data-stu-id="1efd5-133">If the network connection between the partners is lost because one of the partners has been lost, the following cases are possible:</span></span>  
  
    -   <span data-ttu-id="1efd5-134">Соединение с зеркальным сервером теряется, а основной и следящий серверы удерживают кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-134">The mirror server is lost, and the principal server and witness retain quorum.</span></span>  
  
         <span data-ttu-id="1efd5-135">В этом случае основной сервер устанавливает свою базу данных в режим DISCONNECTED и работает с зеркальным отображением в состоянии SUSPENDED</span><span class="sxs-lookup"><span data-stu-id="1efd5-135">In this case, the principal sets its database to DISCONNECTED and runs with mirroring in a SUSPENDED state.</span></span> <span data-ttu-id="1efd5-136">(Это называется *работой в незащищенном режиме*, поскольку в это время зеркальное отображение базы данных не производится.) Когда зеркальный сервер снова подключается к сеансу, он восстанавливает кворум в роли зеркального и заново начинает синхронизацию своей копии базы данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-136">(This is referred to as *running exposed*, because the database is currently not being mirrored.) When the mirror server rejoins the session, the server regains quorum as mirror and starts resynchronizing its copy of the database.</span></span>  
  
    -   <span data-ttu-id="1efd5-137">Соединение с основным сервером теряется, а следящий и зеркальный серверы удерживают кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-137">The principal server is lost, and the witness and the mirror server retain quorum.</span></span>  
  
         <span data-ttu-id="1efd5-138">В этом случае происходит автоматическая отработка отказа.</span><span class="sxs-lookup"><span data-stu-id="1efd5-138">In this case, automatic failover occurs.</span></span> <span data-ttu-id="1efd5-139">Дополнительные сведения см. в статье [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="1efd5-139">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
    -   <span data-ttu-id="1efd5-140">Все экземпляры сервера теряют кворум, но впоследствии зеркальный сервер и следящий сервер восстанавливают соединение.</span><span class="sxs-lookup"><span data-stu-id="1efd5-140">All the server instances lose quorum, but subsequently the mirror and witness reconnect.</span></span> <span data-ttu-id="1efd5-141">База данных в этом случае обслуживаться не будет.</span><span class="sxs-lookup"><span data-stu-id="1efd5-141">The database will not be served in this case.</span></span>  
  
     <span data-ttu-id="1efd5-142">Изредка возможна ситуация, когда сетевое соединение между партнерами по обеспечению отработки отказа зеркального отображения теряется, в то время как оба участника остаются подключенными к следящему серверу.</span><span class="sxs-lookup"><span data-stu-id="1efd5-142">Rarely, the network connection between failover partners is lost while both partners remain connected to the witness.</span></span> <span data-ttu-id="1efd5-143">В этом случае существует два отдельных кворума "следящий сервер — участник", причем следящий сервер является соединяющим элементом.</span><span class="sxs-lookup"><span data-stu-id="1efd5-143">In this event, two, separate witness-to-partner quorums exist, with the witness as a liaison.</span></span> <span data-ttu-id="1efd5-144">Следящий сервер уведомляет зеркальный сервер о том, что основной сервер еще подключен.</span><span class="sxs-lookup"><span data-stu-id="1efd5-144">The witness informs the mirror server that the principal server is still connected.</span></span> <span data-ttu-id="1efd5-145">Поэтому автоматической отработки отказа не происходит.</span><span class="sxs-lookup"><span data-stu-id="1efd5-145">Therefore, automatic failover does not occur.</span></span> <span data-ttu-id="1efd5-146">Зеркальный сервер остается в роли зеркального и ожидает соединения с основным сервером.</span><span class="sxs-lookup"><span data-stu-id="1efd5-146">Instead, the mirror server retains the mirror role and waits to reconnect to the principal.</span></span> <span data-ttu-id="1efd5-147">Если в этот момент в очереди повторного выполнения имеются записи журнала, зеркальный сервер продолжает накат зеркальной базы данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-147">If the redo queue contains log records at this point, the mirror server continues to roll forward the mirror database.</span></span> <span data-ttu-id="1efd5-148">После восстановления соединения зеркальный сервер заново синхронизирует зеркальную базу данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-148">On reconnecting, the mirror server will resynchronize the mirror database.</span></span>  
  
-   <span data-ttu-id="1efd5-149">*Кворум "участник-участник"* состоит из двух участников.</span><span class="sxs-lookup"><span data-stu-id="1efd5-149">A *partner-to-partner quorum* that consists of the two partners.</span></span>  
  
     <span data-ttu-id="1efd5-150">Пока участники удерживают кворум, база данных продолжает функционировать в состоянии SYNCHRONIZED и имеется возможность отработки отказа вручную.</span><span class="sxs-lookup"><span data-stu-id="1efd5-150">As long as the partners retain quorum, the database continues in a SYNCHRONIZED state, and manual failover remains possible.</span></span> <span data-ttu-id="1efd5-151">Без следящего сервера автоматическая отработка отказа невозможна, но, когда он восстанавливает кворум, сеанс зеркального отображения возобновляется, и автоматическая отработка отказа снова поддерживается.</span><span class="sxs-lookup"><span data-stu-id="1efd5-151">Without the witness, automatic failover is not possible; but when the witness regains quorum, the session resumes regular operation, and automatic failover is supported again.</span></span>  
  
-   <span data-ttu-id="1efd5-152">Сеанс теряет кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-152">The session loses quorum.</span></span>  
  
     <span data-ttu-id="1efd5-153">Если все экземпляры сервера отключены друг от друга, то говорят, что сеанс *потерял кворум*.</span><span class="sxs-lookup"><span data-stu-id="1efd5-153">If all the server instances become disconnected from each other, the session is said to have *lost quorum*.</span></span> <span data-ttu-id="1efd5-154">Как только экземпляры сервера заново подключатся друг к другу, кворум между ними восстанавливается.</span><span class="sxs-lookup"><span data-stu-id="1efd5-154">As server instances reconnect to each other, they regain quorum with each other.</span></span>  
  
    -   <span data-ttu-id="1efd5-155">Если основной сервер заново подключается к одному из экземпляров сервера, база данных становится доступной.</span><span class="sxs-lookup"><span data-stu-id="1efd5-155">If the principal server reconnects with either of the other server instances, the database becomes available.</span></span>  
  
    -   <span data-ttu-id="1efd5-156">Если основной сервер остается отключенным, а зеркальный и следящий заново подключаются друг к другу, то автоматическая отработка отказа невозможна из-за возможной потери данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-156">If the principal server remains disconnected, but the mirror and witness reconnect to each other, automatic failover cannot occur because data loss might occur.</span></span> <span data-ttu-id="1efd5-157">Поэтому база данных остается недоступной, пока основной сервер вновь не подключится к сеансу.</span><span class="sxs-lookup"><span data-stu-id="1efd5-157">Therefore, the database remains unavailable, until the principal server rejoins the session.</span></span>  
  
    -   <span data-ttu-id="1efd5-158">Когда все три экземпляра сервера снова подключаются друг к другу, восстанавливается полный кворум, и сеанс возобновляет нормальную работу.</span><span class="sxs-lookup"><span data-stu-id="1efd5-158">When all three server instances have reconnected, full quorum is regained, and the session resumes its regular operation.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="1efd5-159">Когда в сеансе имеется только кворум «участник-участник», то при утере кворума одним из участников другой участник также теряет кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-159">When a session has a partner-to-partner quorum, if either partner loses quorum, the session loses quorum.</span></span> <span data-ttu-id="1efd5-160">Поэтому, если ожидается, что следящий сервер будет оставаться отключенным в течение значительного промежутка времени, рекомендуется временно удалить следящий сервер из сеанса.</span><span class="sxs-lookup"><span data-stu-id="1efd5-160">Therefore, if you expect the witness to remain disconnected for lots of time, we recommend that you temporarily remove the witness from the session.</span></span> <span data-ttu-id="1efd5-161">Удаление следящего сервера удаляет требование кворума.</span><span class="sxs-lookup"><span data-stu-id="1efd5-161">Removing the witness removes the requirement for quorum.</span></span> <span data-ttu-id="1efd5-162">Затем, если зеркальный сервер будет отключен, основной сервер может продолжать обслуживать базу данных.</span><span class="sxs-lookup"><span data-stu-id="1efd5-162">Then, if the mirror server becomes disconnected, the principal server can continue to serve the database.</span></span> <span data-ttu-id="1efd5-163">Сведения о добавлении и удалении следящего сервера см. в разделе [Database Mirroring Witness](database-mirroring-witness.md).</span><span class="sxs-lookup"><span data-stu-id="1efd5-163">For information about how to add or remove a witness, see [Database Mirroring Witness](database-mirroring-witness.md).</span></span>  
  
### <a name="how-quorum-affects-database-availability"></a><span data-ttu-id="1efd5-164">Влияние кворума на доступность базы данных</span><span class="sxs-lookup"><span data-stu-id="1efd5-164">How Quorum Affects Database Availability</span></span>  
 <span data-ttu-id="1efd5-165">На следующем рисунке показано, как взаимодействуют следящий сервер и стороны зеркального отображения, чтобы в один момент времени только одна из сторон выступала в роли основного сервера и только текущий основной сервер мог перевести свою базу данных в режим «в сети».</span><span class="sxs-lookup"><span data-stu-id="1efd5-165">The following illustration shows how the witness and the partners cooperate to make sure that, at given time, only one partner owns the role of principal and only the current principal server can bring its database online.</span></span> <span data-ttu-id="1efd5-166">Оба сценария начинаются с полного кворума, **Участник A** в роли основного сервера и **Участник Б** — в роли зеркального.</span><span class="sxs-lookup"><span data-stu-id="1efd5-166">Both scenarios start with full quorum, and **Partner_A** in the principal role and **Partner_B** in the mirror role.</span></span>  
  
 <span data-ttu-id="1efd5-167">![Как взаимодействуют следящий сервер и участники](../media/dbm-quorum-scenarios.gif "Как взаимодействуют следящий сервер и участники")</span><span class="sxs-lookup"><span data-stu-id="1efd5-167">![How the witness and partners cooperate](../media/dbm-quorum-scenarios.gif "How the witness and partners cooperate")</span></span>  
  
 <span data-ttu-id="1efd5-168">В сценарии 1 демонстрируется, как после сбоя в работе исходного основного сервера (**Участник A**) следящий сервер и зеркальный сервер соглашаются с тем, что основной сервер ( **Участник A**) стал недоступен, и формируют кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-168">Scenario 1 shows how after the original principal server (**Partner_A**) fails, the witness and mirror agree that the principal, **Partner_A**, is not available any longer and form quorum.</span></span> <span data-ttu-id="1efd5-169">Затем зеркальный сервер **Участник Б** принимает на себя роль основного сервера.</span><span class="sxs-lookup"><span data-stu-id="1efd5-169">The mirror, **Partner_B** then assumes the principal role.</span></span> <span data-ttu-id="1efd5-170">Производится автоматическая отработка отказа, и **Участник Б**переводит свою копию базы данных в режим "в сети".</span><span class="sxs-lookup"><span data-stu-id="1efd5-170">Automatic failover occurs, and **Partner_B**, brings its copy of the database online.</span></span> <span data-ttu-id="1efd5-171">Затем **Участник Б** отключается, и его база данных переходит в режим "вне сети".</span><span class="sxs-lookup"><span data-stu-id="1efd5-171">Then **Partner_B** goes down, and the database goes offline.</span></span> <span data-ttu-id="1efd5-172">Затем бывший основной сервер **Участник A**восстанавливает соединение со следящим сервером, вновь образуя кворум, однако получает от следящего сервера **Участник A** уведомление о том, что его копия базы данных не может быть переведена в режим "в сети", поскольку роль основного сервера теперь принадлежит **Участнику Б** .</span><span class="sxs-lookup"><span data-stu-id="1efd5-172">Later, the former principal server, **Partner_A**, reconnects to the witness regaining quorum, but on communicating with the witness, **Partner_A** learns that it cannot bring its copy of the database online, because **Partner_B** now owns the principal role.</span></span> <span data-ttu-id="1efd5-173">Когда **Участник Б** вновь присоединяется к сеансу, он переводит базу данных обратно в режим "в сети".</span><span class="sxs-lookup"><span data-stu-id="1efd5-173">When **Partner_B** rejoins the session, it brings the database back online.</span></span>  
  
 <span data-ttu-id="1efd5-174">В сценарии 2 следящий сервер теряет кворум, в то время как **Участник A** и **Участник Б**сохраняют кворум друг с другом, и база данных остается в режиме "в сети".</span><span class="sxs-lookup"><span data-stu-id="1efd5-174">In Scenario 2, the witness loses quorum, while the partners, **Partner_A** and **Partner_B**, retain quorum with each other, and the database remains online.</span></span> <span data-ttu-id="1efd5-175">Затем участники также теряют свой кворум, и база данных переходит в режим «вне сети».</span><span class="sxs-lookup"><span data-stu-id="1efd5-175">Then the partners lose their quorum, too, and the database goes offline.</span></span> <span data-ttu-id="1efd5-176">После этого основной сервер **Участник A**восстанавливает соединение со следящим сервером, вновь образуя кворум.</span><span class="sxs-lookup"><span data-stu-id="1efd5-176">Later, the principal server, **Partner_A**, reconnects to the witness regaining quorum.</span></span> <span data-ttu-id="1efd5-177">Следящий сервер подтверждает, что **Участнику A** по-прежнему принадлежит **Участнику A**, который переводит базу данных обратно в режим "в сети".</span><span class="sxs-lookup"><span data-stu-id="1efd5-177">The witness confirms that **Partner_A** still owns the principal role, and **Partner_A** brings the database back online.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1efd5-178">См. также:</span><span class="sxs-lookup"><span data-stu-id="1efd5-178">See Also</span></span>  
 <span data-ttu-id="1efd5-179">[Режимы работы зеркального отображения базы данных](database-mirroring-operating-modes.md) </span><span class="sxs-lookup"><span data-stu-id="1efd5-179">[Database Mirroring Operating Modes](database-mirroring-operating-modes.md) </span></span>  
 <span data-ttu-id="1efd5-180">[Переключение ролей во время сеанса зеркального отображения базы данных (SQL Server)](role-switching-during-a-database-mirroring-session-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="1efd5-180">[Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md) </span></span>  
 <span data-ttu-id="1efd5-181">[Database Mirroring Witness](database-mirroring-witness.md) </span><span class="sxs-lookup"><span data-stu-id="1efd5-181">[Database Mirroring Witness](database-mirroring-witness.md) </span></span>  
 <span data-ttu-id="1efd5-182">[Возможные неполадки при зеркальном отображении базы данных](possible-failures-during-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="1efd5-182">[Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md) </span></span>  
 [<span data-ttu-id="1efd5-183">Состояния зеркального отображения (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="1efd5-183">Mirroring States &#40;SQL Server&#41;</span></span>](mirroring-states-sql-server.md)  
  
  

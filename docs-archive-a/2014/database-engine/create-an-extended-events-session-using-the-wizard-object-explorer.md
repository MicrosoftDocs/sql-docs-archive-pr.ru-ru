---
title: Создание сеанса расширенных событий с помощью мастера (обозреватель объектов) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- Sql12.ssms.XeWizard.Summary.f1
- Sql12.ssms.XeWizard.SetSessionProperties.f1
- Sql12.ssms.XeWizard.CaptureAddFields.f1
- Sql12.ssms.XeWizard.SelectEvents.f1
- Sql12.ssms.XeWizard.SpecifySessionTargets.f1
- Sql12.ssms.XeWizard.Welcome.f1
- sql12.ssms.XeWizard.Welcome.f1
- Sql12.ssms.XeWizard.ChooseTemplate.f1
- Sql12.ssms.XeWizard.SetSessionEventFilters.f1
- Sql12.ssms.XeWizard.Results.f1
helpviewer_keywords:
- Sql11.ssms.XeWizard.CaptureAddFields.f1
- Sql11.ssms.XeWizard.SetSessionEventFilters.f1
- Sql11.ssms.XeWizard.SpecifySessionTargets.f1
- Sql11.ssms.XeWizard.Results.f1
- Sql11.ssms.XeWizard.ChooseTemplate.f1
- Sql11.ssms.XeWizard.SetSessionProperties.f1
- Sql11.ssms.XeWizard.Welcome.f1
- Sql11.ssms.XeWizard.Summary.f1
- Sql11.ssms.XeWizard.SelectEvents.f1
ms.assetid: 80c0456f-17c0-41d8-b2aa-502a2f3bb6de
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: cdfc9141b0b99d5b06fc73044b8f4fae623922b7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664473"
---
# <a name="create-an-extended-events-session-using-the-wizard-object-explorer"></a>создать сеанс расширенных событий с помощью пользовательского интерфейса нового сеанса (обозреватель объектов)
  Для повышения удобства выбора и отслеживания событий на сервере в расширенных событиях предусмотрен мастер создания сеансов, который помогает создавать сеансы расширенных событий. Мастер создания сеанса предоставляет доступ к большинству функций для обработки расширенных событий. В диалоговом окне [Создание сеанса](../../2014/database-engine/create-an-extended-events-session-using-the-new-session-dialog.md) также можно задать сеанс расширенных событий, в ходе которого будет выполняться сбор, отображение и анализ данных. Диалоговое окно «Создание сеанса» включает все функции расширенных событий.  
  
### <a name="to-open-the-new-session-wizard"></a>Открытие мастера новых сеансов  
  
1.  В обозревателе объектов разверните узел **Управление** , затем узел **Расширенные события**.  
  
2.  Щелкните правой кнопкой мыши **Сеансы**и выберите **Мастер новых сеансов**.  
  
### <a name="use-the-following-new-session-wizard-pages-to-create-an-event-session"></a>Создание сеанса событий с помощью страниц мастера новых сеансов  
  
-   [Введение](#BKMK_Welcome)  
  
-   [Настройка свойств сеанса](#BKMK_SetSessionProperties)  
  
-   [Выбор шаблона](#BKMK_ChooseTemplate)  
  
-   [Выбор событий для отслеживания](#BKMK_SelectEventsToCapture)  
  
-   [Отслеживание глобальных полей](#BKMK_CaptureGlobalFields)  
  
-   [Настройка фильтров событий сеанса](#BKMK_SetSessionEventFilters)  
  
-   [Настройка хранилища данных сеанса](#BKMK_SpecifySessionDataOutput)  
  
-   [Сводка](#BKMK_Summary)  
  
-   [Создание сеанса событий](#BKMK_CreateEventSession)  
  
##  <a name="introduction"></a><a name="BKMK_Welcome"></a>Общие  
 На странице **Введение** выполните следующие действия:  
  
-   На странице **Введение** мастера новых сеансов нажмите кнопку **Далее**.  
  
     Установите флажок **Больше не показывать эту страницу**, если мастер планируется использовать повторно и не требуется читать введение каждый раз при его запуске.  
  
##  <a name="set-session-properties"></a><a name="BKMK_SetSessionProperties"></a>Задание свойств сеанса  
 На странице **Настройка свойств сеанса** выполните следующие действия:  
  
-   В поле **Имя сеанса** введите понятное имя сеанса событий.  
  
     Если требуется запускать сеанс при запуске сервера, установите флажок **Запускать сеанс событий при запуске сервера** и нажмите кнопку **Далее**.  
  
##  <a name="choose-template"></a><a name="BKMK_ChooseTemplate"></a>Выбор шаблона  
 На странице **Выбор шаблона** выполните следующие действия:  
  
-   Выберите параметр **Использовать этот шаблон сеанса событий** , чтобы выбрать один из стандартных шаблонов для типовых проблем. Выберите нужный шаблон в раскрывающемся списке и нажмите кнопку **Далее**.  
  
     -или-  
  
-   Выберите параметр **Не использовать шаблон** , если не нужно использовать стандартный шаблон, и нажмите кнопку **Далее**.  
  
##  <a name="select-events-to-capture"></a><a name="BKMK_SelectEventsToCapture"></a>Выбор событий для захвата  
 На странице **Выбор событий для отслеживания** выполните следующие действия:  
  
1.  Выберите события, которые следует отслеживать в поле **Библиотека событий**, затем щелкните стрелку вправо. В разделе «Библиотека событий» можно выбрать несколько событий одновременно с помощью клавиш CTRL и SHIFT.  
  
     Метод поиска отслеживаемых событий можно выбрать в раскрывающемся списке. Например, можно выполнить поиск имен событий или имен событий и их описаний. Поддерживается поиск любых слов в таблице путем ввода текста для поиска в поле **Библиотека событий** . Например, если вы хотите найти событие **lock_acquired** , можно ввести **Lock**или **Lock**.  
  
     Выбранные события появляются в поле **Выбранные события** . Чтобы удалить события из поля **Выбранные события** , щелкните стрелку влево.  
  
2.  После выбора событий для отслеживания нажмите кнопку **Далее**.  
  
    > [!NOTE]  
    >  События из канала **Debug** скрыты по умолчанию. Чтобы просмотреть события отладки, выберите **Отладка** в раскрывающемся списке **Каналы** .  
  
##  <a name="capture-global-fields"></a><a name="BKMK_CaptureGlobalFields"></a>Захватить глобальные поля  
 Глобальные поля (также называемые действиями) можно использовать для связывания одного или нескольких действий с выбранными событиями. Если выбран шаблон на странице **Выбор шаблона** , то все глобальные поля, определенные в шаблоне, отображаются на этой странице.  
  
 На странице **Выбор глобальных полей** выполните следующие действия:  
  
-   Выберите глобальные поля, которые необходимо отслеживать для сеанса событий, и нажмите кнопку **Далее**.  
  
     Можно удалять или добавлять глобальные поля путем установки или снятия флажков рядом с соответствующими глобальными полями.  
  
    > [!NOTE]  
    >  Выбранные действия сортируются по **Имени** , что позволяет просматривать связанные действия в алфавитном порядке. Доступна также сортировка по описанию и включенному или отключенному состоянию. Для этого нужно щелкнуть заголовок столбца рядом с именем поля.  
  
##  <a name="set-session-event-filters"></a><a name="BKMK_SetSessionEventFilters"></a>Настройка фильтров событий сеанса  
 Можно ограничивать отслеживаемые события с помощью фильтров (также называемых предикатами). На странице **Настройка фильтров событий сеанса** выполните следующие действия:  
  
1.  Если не используется стандартный шаблон, создайте собственные условия фильтра и нажмите кнопку **Далее**.  
  
     Если используется стандартный шаблон, то в разделе **Фильтры на основе шаблона (только для чтения)** в мастере новых сеансов отображается список фильтров, уже созданных на основе шаблона.  
  
2.  В разделе **Дополнительные фильтры** можно настроить дополнительные фильтры для сеанса событий.  
  
     Настраиваемые фильтры применяются ко всем выбранным событиям. Мастер новых шаблонов не поддерживает настройку фильтров для отдельного события.  
  
    > [!NOTE]  
    >  При настройке предложения группирования для фильтра лишние круглые скобки будут удалены из фильтра после сохранения результата. Например, при создании фильтра группирования **Предложения 1** и **Предложения 2**предложения будут заключаться в круглые скобки. После сохранения фильтра лишние круглые скобки будут удалены. Удаление круглых скобок не влияет на логику фильтрации.  
  
##  <a name="specify-session-data-storage"></a><a name="BKMK_SpecifySessionDataOutput"></a>Укажите хранилище данных сеанса  
 Метод сбора данных для анализа указывается на странице **Настройка хранилища данных сеанса** . Подсистема расширенных событий SQL Server использует целевые объекты для вывода данных. Целевые объекты хранят в себе данные и могут выполнять такие действия, как запись в файл или статистическая обработка данных событий. Выберите метод сбора данных для анализа и на странице **Настройка хранилища данных сеанса** выполните следующие действия:  
  
1.  Для больших наборов данных и создания записей журнала установите флажок **Сохранять данные в файл для последующего анализа** , затем выполните следующие действия:  
  
    1.  В поле **Имя файла на сервере** введите путь и имя файла либо нажмите кнопку **Обзор** , чтобы указать каталог файлов на сервере, где следует сохранять данные.  
  
    2.  В поле **Максимальный размер файла** укажите максимальный размер файла, который будет использоваться в качестве целевого. Если максимальный размер файла не задан, файл будет увеличиваться до заполнения диска. Размер файла по умолчанию составляет 1 ГБ.  
  
    3.  Установите флажок **Включить переключение файлов** , чтобы разрешить включить переключение файлов.  
  
    4.  В поле **Максимальное число файлов** введите максимальное число файлов, которые следует сохранять в файловой системе.  
  
2.  Для сбора недавних данных установите флажок **Работать только с самыми последними данными (цель "кольцевой буфер")** , затем выполните следующие действия:  
  
    1.  В поле **Число сохраняемых событий** введите или выберите число сохраняемых событий с помощью стрелок вверх и вниз.  
  
    2.  В поле **Максимальный размер буферной памяти** укажите максимальный объем буферной памяти. Существующие события будут удалены по достижении этого значения.  
  
    3.  Чтобы в буфере сохранялось указанное число событий каждого типа, установите флажок **Оставить заданное число событий (каждого типа) при переполнении буфера** .  
  
    4.  В поле **Число сохраняемых событий (каждого типа)** введите или выберите число сохраняемых событий (каждого типа) с помощью стрелок вверх и вниз.  
  
##  <a name="summary"></a><a name="BKMK_Summary"></a> Сводка  
 На странице **Сводка** выполните следующие действия:  
  
1.  Проверьте правильность выбора. Разверните узлы сеанса событий, чтобы убедиться, что все выбранные события будут включены в сеанс событий.  
  
2.  Нажмите кнопку **Скрипт** для экспорта скрипта создания сеанса в новое окно редактора запросов.  
  
3.  Чтобы создать сеанс событий, нажмите кнопку **Готово** .  
  
##  <a name="create-event-session"></a><a name="BKMK_CreateEventSession"></a>Создание сеанса событий  
 На странице **Создание сеанса событий** после успешного создания сеанса событий выполните следующие действия:  
  
1.  Выберите параметр **Запуск сеанса событий непосредственно после создания сеанса** , чтобы сеанс запустился сразу после закрытия мастера. Для просмотра данных, передаваемых в режиме реального времени, сеанс событий нужно запустить сразу после его создания.  
  
2.  Для просмотра данных, передаваемых в режиме реального времени для этого сеанса, щелкните **Отображать данные в режиме реального времени по мере их отслеживания** . Данные, передаваемые в режиме реального времени, будут отображаться сразу после создания сеанса.  
  
## <a name="see-also"></a>См. также:  
 [Создание сеанса расширенных событий в диалоговом окне «Создание сеанса»](../../2014/database-engine/create-an-extended-events-session-using-the-new-session-dialog.md)  
  
  

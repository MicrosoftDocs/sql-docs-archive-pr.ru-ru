---
title: Экспорт в XML (построитель отчетов и службы SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: 11d72068-2d97-495e-948f-12d1e8c1957d
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 538b4674bc4258337977295b3e5e2892caf0bd8a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657566"
---
# <a name="exporting-to-xml-report-builder-and-ssrs"></a>Экспорт в XML (построитель отчетов и службы SSRS)
  Модуль подготовки XML-отчета возвращает отчет в XML-формате. Схема для XML-документа, используемого в отчете, создается специально для этого отчета и содержит только данные. Данные макета не обрабатываются модулем подготовки XML-отчета, и разбивка на страницы не сохраняется. XML-документ, сформированный данным модулем, можно импортировать в базу данных, использовать как сообщение XML-данных или отправить пользовательскому приложению.  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="report-items"></a><a name="ReportItems"></a> Элементы отчета  
 В следующей таблице описывается, как готовятся к просмотру элементы отчета.  
  
|Элемент|Поведение при подготовке к просмотру|  
|----------|------------------------|  
|Отчет|Готовится к просмотру как элемент высшего уровня XML-документа.|  
|Области данных|Готовятся к просмотру как элементы в пределах элемента для своего контейнера. Области данных включают таблицу, матрицу и список, отображающие данные в виде текста и диаграммы, гистограмм, инфокривых, датчиков и индикаторов, визуализирующих данные.|  
|Области группирования и подробностей|Каждый экземпляр готовится к просмотру как элемент в пределах элемента для своего контейнера.|  
|Текстовое поле|Готовится к просмотру как атрибут или элемент в пределах своего контейнера.|  
|Прямоугольник|Готовится к просмотру как элемент в пределах своего контейнера.|  
|Группы столбцов матрицы|Готовятся к просмотру как элементы в группах строк.|  
|Схема|Готовятся к просмотру как элементы в пределах элемента для своего контейнера. Слои карты являются дочерними элементами карты, а каждый слой карты содержит элементы для элементов своей карты и атрибуты элементов карты.|  
|Диаграмма|Готовятся к просмотру как элементы в пределах элемента для своего контейнера. Ряды — это дочерние элементы диаграммы, а категории — дочерние элементы рядов. Подготовка всех меток диаграммы для каждого значения диаграммы. Метки и значения включены как атрибуты.|  
|Гистограмма|Готовится к просмотру как элемент в пределах элемента для своего контейнера, подобно диаграмме. Как правило, гистограмма не включает иерархии или метки, а только значения.|  
|Спарклайн|Готовится к просмотру как элемент в пределах элемента для своего контейнера, подобно диаграмме. Как правило, спарклайн не включает иерархии или метки, а только значения.|  
|Индикаторная диаграмма|Готовятся к просмотру как элементы в пределах элемента для своего контейнера. Подготавливается как единственный элемент с минимальным и максимальным значениями шкалы, начальным и конечным значениями диапазона и значением указателя в качестве атрибутов.|  
|Индикатор|Готовится к просмотру как элемент в пределах элемента для своего контейнера, подобно датчику. Готовится к просмотру как элемент с названием активного состояния, состояний доступности и значений данных в качестве атрибутов.|  
  
 Отчеты, подготовленные к просмотру с помощью модуля подготовки XML-отчетов, следуют следующим правилам.  
  
-   Элементы и атрибуты XML готовятся к просмотру в том порядке, в котором они перечислены в определении отчета.  
  
-   Разбиение на страницы не учитывается.  
  
-   Верхние и нижние колонтитулы не подготавливаются к просмотру.  
  
-   Скрытые элементы, которые невозможно сделать видимыми путем включения, не подготавливаются к просмотру. Первоначально видимые элементы и скрытые элементы, которые можно сделать видимыми путем включения, готовятся к просмотру.  
  
-   `Images, lines, and custom report items` не учитываются.  
  
##  <a name="data-types"></a><a name="DataTypes"></a> Типы данных  
 Элемент или атрибут текстового поля назначается типу данных XSD в зависимости от значений, отображаемых в текстовом поле.  
  
|Если все значения текстового поля имеют тип|Назначается тип данных|  
|--------------------------------|---------------------------|  
|`Int16`, `Int32`, `Int64`, `UInt16`, `UInt32`, `UInt64`, `Byte`, `SByte`|**xsd:integer**|  
|`Decimal` (или `Decimal` и любое целое число или тип данных byte)|**xsd:decimal**|  
|`Float` (или `Decimal` и любое целое число или тип данных byte)|**xsd:float**|  
|`Double` (или `Decimal` и любое целое число или тип данных byte)|**xsd:double**|  
|`DateTime or DateTime Offset`|**xsd:dateTime**|  
|`Time`|**xsd:string**|  
|`Boolean`|**xsd:boolean**|  
|`String`, `Char`|**xsd:string**|  
|Другое|**xsd:string**|  
  
##  <a name="xml-specific-rendering-rules"></a><a name="XMLSpecificRenderingRules"></a>Правила отрисовки, специфичные для XML  
 В следующих разделах описывается интерпретация элементов отчета модулем подготовки XML-отчетов.  
  
### <a name="report-body"></a>Текст отчета  
 Отчет готовится к просмотру как корневой элемент XML-документа. Имя элемента берется из свойства DataElementName, заданного в панели свойств.  
  
 Определения пространств имен XML и ссылочные атрибуты схемы также включаются в элементы отчета. Имена переменных выводятся полужирным шрифтом:  
  
 \<**Report** xmlns="**SchemaName**" xmlns:xsi="<http://www.w3.org/2001/XMLSchema-instance>"xsi:**schemaLocation**="**Счеманамерепортурл** &amp; RC% 3aSchema = true "Name =" ReportName ">  
  
 Переменные могут принимать следующие значения.  
  
|Имя|Значение|  
|----------|-----------|  
|Report|Report.DataElementName|  
|ReportURL|URLEncoded — абсолютный URL-адрес отчета на сервере.|  
|SchemaName|Report.SchemaName. Если значение равно NULL, то Report.Name. Если используется значение Report.Name, оно сначала шифруется с помощью параметра XmlConvert.EncodeLocalName.|  
|ReportName|Имя отчета.|  
  
### <a name="text-boxes"></a>Текстовые поля  
 Текстовые поля готовятся к просмотру как элементы или как атрибуты, в соответствии со свойством RDL DataElementStyle. Имя элемента данных или атрибута определяют свойства RDL TextBox.DataElementName.  
  
### <a name="charts-data-bars-and-sparklines"></a>Диаграммы, гистограммы и инфокривые  
 Диаграммы, гистограммы и инфокривые готовятся к просмотру в формате XML. Данные структурируются.  
  
### <a name="gauges-and-indicators"></a>Датчики и индикаторы  
 Датчики и индикаторы готовятся к просмотру в формате XML. Данные структурируются.  
  
### <a name="subreports"></a>вложенные отчеты;  
 Вложенный отчет подготавливается к просмотру как элемент. Имя элемента данных, взятое из свойства RDL DataElementName. Значение свойства отчета TextBoxesAsElements переопределяет значение этого свойства для вложенного отчета. Пространства имен и атрибуты XSLT к элементу вложенного отчета не добавляются.  
  
### <a name="rectangles"></a>Прямоугольники  
 Прямоугольник подготавливается к просмотру как элемент. Имя элемента данных, взятое из свойства RDL DataElementName.  
  
### <a name="custom-report-items"></a>Пользовательские элементы отчета  
 CustomReportItems (CRI) не видимы для модуля подготовки отчетов. Если в отчете существует пользовательский элемент, модуль подготовки отчетов отобразит его как обычный элемент отчета.  
  
### <a name="images"></a>Изображения  
 Изображения не подготавливаются к просмотру.  
  
### <a name="lines"></a>Линии  
 Линии не подготавливаются к просмотру.  
  
### <a name="tables-matrices-and-lists"></a>Таблицы, матрицы и списки  
 Таблицы, матрицы и списки подготавливаются к просмотру как элементы. Имена элементов берутся из свойств RDL элементов данных табликса DataElementName.  
  
#### <a name="rows-and-columns"></a>Строки и столбцы  
 Столбцы подготавливаются к просмотру внутри строк.  
  
#### <a name="tablix-corner"></a>Угол табликса  
 Углы не подготавливаются к просмотру. Подготавливается к просмотру только содержимое угла.  
  
#### <a name="tablix-cells"></a>Ячейки табликса  
 Ячейки табликса подготавливаются к просмотру как элементы. Имена элементов поступают из свойства RDL DataElementName ячейки.  
  
#### <a name="automatic-subtotals"></a>Автоматические подытоги  
 Автоматические подытоги табликса не подготавливаются к просмотру.  
  
#### <a name="row-and-column-items-that-do-not-repeat-with-a-group"></a>Элементы строк и столбцов, не повторяющиеся с группой  
 Элементы, не повторяющиеся с группой (например, метки, итоги и подытоги) подготавливаются к просмотру как элементы. Имена элементов берутся из свойств RDL элементов данных табликса TablixMember.DataElementName.  
  
 Свойство RDL TablixMember.DataElementOutput управляет подготовкой к просмотру неповторяющегося элемента.  
  
 Если свойство DataElementName элемента табликса не предоставлено, имя неповторяющегося элемента формируется динамически по следующему принципу:  
  
 RowX — для неповторяющихся строк, где X — начинающийся с нуля индекс строки в текущем родительском элементе.  
  
 ColumnY — для неповторяющихся столбцов, где Y — начинающийся с нуля индекс столбца в родительском элементе.  
  
 Неповторяющийся верхний колонтитул подготавливается к просмотру как дочерний элемент строки или столбца, не повторяющихся с группой.  
  
 Если неповторяющемуся элементу не соответствует никакая ячейка табликса, этот элемент не подготавливается к просмотру. Это может случиться, если ячейка табликса охватывает несколько столбцов.  
  
#### <a name="rows-and-columns-that-repeat-with-a-group"></a>Строки и столбцы, повторяющиеся с группой  
 Строки и столбцы, повторяющиеся с группой, подготавливаются к просмотру согласно правилам Tablix.DataElementOutput. Имя элемента данных, взятое из свойства DataElementName.  
  
 Каждое уникальное значение внутри группы подготавливается к просмотру как дочерний элемент группы. Имя элемента данных, взятое из свойства Group.DataElementName.  
  
 Если свойство DataElementOutput имеет значение "Выводить", верхний колонтитул повторяющегося элемента выводится как дочерний элемент для элемента сведений.  
  
##  <a name="custom-formats-and-xsl-transformations"></a><a name="CustomFormatsXSLTransformations"></a>Пользовательские форматы и преобразования XSL  
 XML-файлы, созданные модулем подготовки XML-отчета, можно преобразовать практически в любой формат с помощью XSL-преобразований (XSLT). Благодаря этому можно выводить данные в форматах, еще не поддерживаемых существующими модулями подготовки отчета. Прежде чем создавать собственный модуль подготовки отчета, рассмотрите возможность использования модуля подготовки XML-отчета.  
  
##  <a name="duplicate-names"></a><a name="DuplicateName"></a>Дублирующиеся имена  
 Если в одной и той же области есть несколько элементов данных с совпадающими именами, модуль подготовки отчетов выдаст сообщение об ошибке.  
  
##  <a name="xslt-transformations"></a><a name="XSLTTransformations"></a>Преобразования XSLT  
 Модуль подготовки отчетов в формате XML может применять к исходным XML-данным преобразование XSLT на сервере. Когда к данным применяется преобразование XSLT, модуль подготовки отчетов подготавливает к просмотру преобразованное содержимое, а не исходные XML-данные. Преобразование происходит на сервере, а не на клиенте.  
  
 Преобразование XSLT, применяемое к выходным данным, определяется либо в файле определения отчета с помощью свойства отчета DataTransform, либо с помощью параметра XSLT *DeviceInfo* . Если задан любой из этих параметров, преобразование выполняется каждый раз при использовании модуля подготовки отчетов в формате XML. При использовании подписок преобразование XSLT должно быть определено в свойстве RDL DataTransform.  
  
 Если XSLT-файл указан одновременно в свойстве определения DataTransform и параметре сведений об устройстве, сначала выполняется преобразование XSLT, заданное свойством DataTransform, а затем преобразование XSLT, заданное параметрами сведений об устройстве.  
  
###  <a name="device-information-settings"></a><a name="DeviceInfo"></a>Настройки сведений об устройстве  
 Некоторые настройки по умолчанию для этого модуля подготовки отчетов можно изменить через настройку сведений об устройстве, включая следующие.  
  
-   Преобразование (XSLT), которое должно применяться к XML-документу.  
  
-   Тип MIME XML-документа.  
  
-   Применять ли строки формата к данным.  
  
-   Добавлять ли отступ к выходным XML-данным.  
  
-   Включать или нет имя XML-схемы.  
  
-   Шифрование XML-документа.  
  
-   Расширение файла XML-документа.  
  
 Дополнительные сведения см. в разделе [XML Device Information Settings](../xml-device-information-settings.md).  
  
## <a name="see-also"></a>См. также:  
 [Разбиение на страницы в Reporting Services &#40;построитель отчетов и SSRS&#41;](../report-design/pagination-in-reporting-services-report-builder-and-ssrs.md)   
 [Поведения подготовки к просмотру &#40;построитель отчетов и SSRS&#41;](../report-design/rendering-behaviors-report-builder-and-ssrs.md)   
 [Интерактивные функции для различных модулей подготовки отчетов к просмотру &#40;построитель отчетов и SSRS&#41;](interactive-functionality-different-report-rendering-extensions.md)   
 [Подготовка элементов отчета к просмотру &#40;построитель отчетов и SSRS&#41;](../report-design/rendering-report-items-report-builder-and-ssrs.md)   
 [Таблицы, матрицы и списки (построитель отчетов и службы SSRS)](../report-design/create-invoices-and-forms-with-lists-report-builder-and-ssrs.md)  

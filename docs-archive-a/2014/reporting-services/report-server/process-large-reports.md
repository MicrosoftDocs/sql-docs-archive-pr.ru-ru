---
title: Обработка больших отчетов | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report processing [Reporting Services], large reports
- page breaks [Reporting Services]
- large reports
- size [SQL Server], reports
- distributing reports [Reporting Services], large reports
ms.assetid: c5275a9f-c95b-46d7-bc62-633879a8a291
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 6b1602d191ea63e77989c0978fa762c7d25a92a6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668652"
---
# <a name="process-large-reports"></a><span data-ttu-id="07ad1-102">Обработка больших отчетов</span><span class="sxs-lookup"><span data-stu-id="07ad1-102">Process Large Reports</span></span>
  <span data-ttu-id="07ad1-103">Обработка больших отчетов связана с определенными проблемами, и для правильного ее выполнения необходимы специальные настройки.</span><span class="sxs-lookup"><span data-stu-id="07ad1-103">Large reports present certain processing challenges and require certain configurations if they are to run properly.</span></span> <span data-ttu-id="07ad1-104">Большие отчеты не должны выполняться по требованию, если только для них не настроена поддержка разбивки на страницы.</span><span class="sxs-lookup"><span data-stu-id="07ad1-104">Large reports should not be run on demand unless they are configured to support pagination.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="07ad1-105">Разрывы страниц включены по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="07ad1-105">Page breaks are enabled by default.</span></span> <span data-ttu-id="07ad1-106">Если предполагается, что отчет будет содержать большое количество данных, не отключайте разрывы страниц.</span><span class="sxs-lookup"><span data-stu-id="07ad1-106">Do not disable page breaks if you think the report will contain a large amount of data.</span></span> <span data-ttu-id="07ad1-107">HTML-формат подготовки к просмотру, используемый для начальной подготовки к просмотру отчета, открывает отчет в браузере.</span><span class="sxs-lookup"><span data-stu-id="07ad1-107">The HTML rendering format that is used to initially render a report opens a report in a browser.</span></span> <span data-ttu-id="07ad1-108">Если отчет не разбит на страницы, все данные помещаются на одну страницу, которую большинство браузеров не смогут обработать.</span><span class="sxs-lookup"><span data-stu-id="07ad1-108">If the report is not paginated, all of the data is included in a single page, which cannot be accommodated by most browsers.</span></span> <span data-ttu-id="07ad1-109">Например отчет, содержащий 5 000 строк данных, почти определенно нельзя просмотреть в браузере в виде одной страницы.</span><span class="sxs-lookup"><span data-stu-id="07ad1-109">For example, a report that contains 5,000 rows of data almost certainly cannot be viewed in a browser in a single page.</span></span>  
  
 <span data-ttu-id="07ad1-110">При работе с большим отчетом необходимо выбрать параметры выполнения, подготовки к просмотру и доставки отчета, которые подходят для больших документов.</span><span class="sxs-lookup"><span data-stu-id="07ad1-110">If you are working with a large report, you should choose report execution, rendering, and delivery options that can accommodate large documents.</span></span> <span data-ttu-id="07ad1-111">Размер отчета в значительной степени определяется набором строк, который возвращается запросом, и модулем подготовки к просмотру, используемым для представления отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-111">Report size is largely determined by the row set that comes back from the query and the rendering extension that is used to present the report.</span></span>  
  
 <span data-ttu-id="07ad1-112">Размер отчетов, содержащих изменчивые данные, может претерпевать значительные изменения от одного выполнения к другому.</span><span class="sxs-lookup"><span data-stu-id="07ad1-112">For reports that contain volatile data, report size can change dramatically from one report run to the next.</span></span> <span data-ttu-id="07ad1-113">В этом случае необходимо выполнить мониторинг источника данных для определения того, как изменчивость данных влияет на отчет, и нужно ли предпринять меры, предписанные в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="07ad1-113">In this case, you should monitor the data source to determine how data volatility affects your report and whether you need to follow the steps prescribed in this topic.</span></span>  
  
 <span data-ttu-id="07ad1-114">Дополнительные сведения и рекомендации по диагностике ошибок, связанных с превышением времени ожидания соединения, и ошибок нехватки памяти см. в статье [Диагностика неполадок при выполнении отчетов на сервере отчетов](https://go.microsoft.com/fwlink/?LinkId=85634) на веб-сайте blogs.msdn.com.</span><span class="sxs-lookup"><span data-stu-id="07ad1-114">For more information and tips on how to diagnose time-out errors and out-of-memory errors, see the article [How to diagnose issues when running reports in the report server](https://go.microsoft.com/fwlink/?LinkId=85634) on blogs.msdn.com.</span></span>  
  
## <a name="configuration-recommendations"></a><span data-ttu-id="07ad1-115">Рекомендации по настройке</span><span class="sxs-lookup"><span data-stu-id="07ad1-115">Configuration Recommendations</span></span>  
 <span data-ttu-id="07ad1-116">Рекомендации по выполнению и подготовке к просмотру отчетов, а также по доступу к ним включают следующее:</span><span class="sxs-lookup"><span data-stu-id="07ad1-116">Recommendations for report execution, report rendering, and report access include the following items:</span></span>  
  
-   <span data-ttu-id="07ad1-117">Задайте в отчете поддержку разбиения на страницы.</span><span class="sxs-lookup"><span data-stu-id="07ad1-117">Design the report to support pagination.</span></span> <span data-ttu-id="07ad1-118">Сервер отчетов пересылает в каждый момент времени одну страницу.</span><span class="sxs-lookup"><span data-stu-id="07ad1-118">The report server sends a report one page at a time.</span></span> <span data-ttu-id="07ad1-119">Если в отчете включено разбиение на страницы, можно проконтролировать объем данных, пересылаемых браузеру.</span><span class="sxs-lookup"><span data-stu-id="07ad1-119">If the report includes pagination, you can control how much data is streamed to the browser.</span></span> <span data-ttu-id="07ad1-120">Дополнительные сведения см. в разделе [Предварительная загрузка кэша (диспетчер отчетов)](preload-the-cache-report-manager.md).</span><span class="sxs-lookup"><span data-stu-id="07ad1-120">For more information, see [Preload the Cache &#40;Report Manager&#41;](preload-the-cache-report-manager.md).</span></span>  
  
-   <span data-ttu-id="07ad1-121">Для предотвращения выполнения отчета по требованию настройте его таким образом, чтобы он выполнялся как назначенный моментальный снимок отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-121">Configure the report to run as a scheduled report snapshot to prevent it from being run on demand.</span></span> <span data-ttu-id="07ad1-122">Не устанавливайте значение времени ожидания выполнения отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-122">Do not set a time-out value for report execution.</span></span> <span data-ttu-id="07ad1-123">Выполняйте отчеты в периоды минимальных нагрузок.</span><span class="sxs-lookup"><span data-stu-id="07ad1-123">Run the report during off-peak hours.</span></span>  
  
-   <span data-ttu-id="07ad1-124">Если необходим контроль выполнения отчета, настройте отчет на использование общего источника данных.</span><span class="sxs-lookup"><span data-stu-id="07ad1-124">Configure the report to use a shared data source if you want to control whether the report is processed.</span></span> <span data-ttu-id="07ad1-125">Одним из преимуществ использования общего источника данных является то, что его можно отключить.</span><span class="sxs-lookup"><span data-stu-id="07ad1-125">One advantage to using a shared data source is that you can disable it.</span></span> <span data-ttu-id="07ad1-126">Отключение источника данных предотвращает обработку отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-126">Disabling the data source prevents report processing.</span></span>  
  
-   <span data-ttu-id="07ad1-127">При необходимости экономии места на диске отключите журнал отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-127">Disable report history if you want to conserve disk space.</span></span> <span data-ttu-id="07ad1-128">Для отключения журнала отчета сбросьте все флажки на странице свойств «Журнал».</span><span class="sxs-lookup"><span data-stu-id="07ad1-128">To disable report history, clear all the check boxes on the History properties page.</span></span>  
  
-   <span data-ttu-id="07ad1-129">Ограничьте доступ к отчету.</span><span class="sxs-lookup"><span data-stu-id="07ad1-129">Limit access to the report.</span></span> <span data-ttu-id="07ad1-130">Настройте отчет на использование безопасности уровня элемента и замените установленные по умолчанию назначения ролей новыми назначениями, разрешающими доступ только тем пользователям, которым он необходим.</span><span class="sxs-lookup"><span data-stu-id="07ad1-130">Configure the report to use item-level security and replace the default role assignments with new ones that allow access to only those users that need it.</span></span>  
  
     <span data-ttu-id="07ad1-131">По умолчанию пользователи могут открыть любой отчет, который они могут видеть в иерархии папок.</span><span class="sxs-lookup"><span data-stu-id="07ad1-131">By default, users can open any report that they can view in the folder hierarchy.</span></span> <span data-ttu-id="07ad1-132">Даже если отчет настроен на выполнение в качестве моментального снимка, пользователи, которые могут видеть отчет в папке, могут его открыть.</span><span class="sxs-lookup"><span data-stu-id="07ad1-132">Even if you configure a report to run as a snapshot, users who can view the report item in a folder can open the report.</span></span> <span data-ttu-id="07ad1-133">Если отчет очень большой, браузер может прекратить отвечать в случае, если пользователь откроет отчет в диспетчере отчетов.</span><span class="sxs-lookup"><span data-stu-id="07ad1-133">If the report is very large, it might cause the browser to stop responding when a user opens the report in Report Manager.</span></span>  
  
## <a name="rendering-recommendations"></a><span data-ttu-id="07ad1-134">Рекомендации по подготовке к просмотру</span><span class="sxs-lookup"><span data-stu-id="07ad1-134">Rendering Recommendations</span></span>  
 <span data-ttu-id="07ad1-135">Перед настройкой распространения отчета важно иметь представление о том, какие клиенты подготовки к просмотру могут работать с большими документами.</span><span class="sxs-lookup"><span data-stu-id="07ad1-135">Before you configure report distribution, it is important to know which rendering clients can accommodate large documents.</span></span> <span data-ttu-id="07ad1-136">Рекомендуемый формат — установленный по умолчанию модуль подготовки к просмотру в формате HTML с «мягкими» разрывами страниц, но можно выбрать любой формат, поддерживающий разбиение на страницы.</span><span class="sxs-lookup"><span data-stu-id="07ad1-136">The recommended format is the default HTML rendering extension with soft page breaks, but you can choose from any format that supports pagination.</span></span>  
  
 <span data-ttu-id="07ad1-137">Производительность и объем потребляемой памяти зависят от формата подготовки к просмотру.</span><span class="sxs-lookup"><span data-stu-id="07ad1-137">Performance and memory consumption varies for each rendering format.</span></span> <span data-ttu-id="07ad1-138">Один и тот же отчет будет готовиться к просмотру с разной скоростью и потребует различного объема памяти в зависимости от выбранного формата.</span><span class="sxs-lookup"><span data-stu-id="07ad1-138">The same report will render at different rates and require different amounts of memory depending on the format you select.</span></span> <span data-ttu-id="07ad1-139">Наиболее быстрые в обработке и потребляющие наименьший объем памяти форматы включают CSV, XML и HTML.</span><span class="sxs-lookup"><span data-stu-id="07ad1-139">The fastest and least memory intensive formats include CSV, XML, and HTML.</span></span> <span data-ttu-id="07ad1-140">Форматы PDF и Excel имеют самую низкую производительность, но по разным причинам.</span><span class="sxs-lookup"><span data-stu-id="07ad1-140">PDF and Excel have the slowest performance, but for different reasons.</span></span> <span data-ttu-id="07ad1-141">Формат PDF в значительной степени использует ресурсы ЦП, а формат Excel потребляет значительный объем оперативной памяти.</span><span class="sxs-lookup"><span data-stu-id="07ad1-141">PDF is CPU-intensive, while Excel is RAM-intensive.</span></span> <span data-ttu-id="07ad1-142">Подготовка к просмотру изображений разбивается на две группы.</span><span class="sxs-lookup"><span data-stu-id="07ad1-142">Image rendering falls in-between the two groups.</span></span> <span data-ttu-id="07ad1-143">Можно указать формат при определении способа распространения отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-143">You can specify the format when you define how the report is distributed.</span></span>  
  
## <a name="deployment-and-distribution-recommendations"></a><span data-ttu-id="07ad1-144">Рекомендации по развертыванию и распространению</span><span class="sxs-lookup"><span data-stu-id="07ad1-144">Deployment and Distribution Recommendations</span></span>  
 <span data-ttu-id="07ad1-145">Если для контроля подготовки отчета к просмотру используются разрывы страниц, большой отчет может быть развернут таким же образом, как и любой другой отчет.</span><span class="sxs-lookup"><span data-stu-id="07ad1-145">If you are using page breaks to control report rendering, you can deploy a large report the same way you would deploy any report.</span></span> <span data-ttu-id="07ad1-146">Доступ к отчету может предоставляться через диспетчер отчетов, веб-часть SharePoint или URL-адрес, добавляемый в портал или на веб-сайт.</span><span class="sxs-lookup"><span data-stu-id="07ad1-146">You can provide access to the report through Report Manager, a SharePoint Web part, or a URL that you add to a portal or Web site.</span></span> <span data-ttu-id="07ad1-147">Все эти режимы развертывания поддерживают доступ по требованию, также как и моментальный снимок выполненного ранее отчета.</span><span class="sxs-lookup"><span data-stu-id="07ad1-147">All of these deployment options support on demand access, aw well as a previously run report snapshot.</span></span>  
  
 <span data-ttu-id="07ad1-148">В качестве альтернативной стратегии развертывания можно рассмотреть распространение отчетов отдельным пользователям.</span><span class="sxs-lookup"><span data-stu-id="07ad1-148">An alternative deployment strategy is to distribute reports to individual users.</span></span> <span data-ttu-id="07ad1-149">Если вы с осторожностью относитесь к настройке параметров доставки, большие отчеты можно распространять с помощью подписок.</span><span class="sxs-lookup"><span data-stu-id="07ad1-149">You can distribute large reports through subscriptions if you are careful about how you configure delivery options.</span></span> <span data-ttu-id="07ad1-150">Для доставки отчета можно использовать либо обычную подписку, либо подписку, управляемую данными.</span><span class="sxs-lookup"><span data-stu-id="07ad1-150">You can use either a standard subscription or a data-driven subscription to deliver the report.</span></span> <span data-ttu-id="07ad1-151">Рекомендации по подписке и доставке включают следующее:</span><span class="sxs-lookup"><span data-stu-id="07ad1-151">Recommendations for subscription and delivery include the following:</span></span>  
  
-   <span data-ttu-id="07ad1-152">Настройте подписку на использование формата веб-архива (MHTML), PDF или Excel.</span><span class="sxs-lookup"><span data-stu-id="07ad1-152">Configure a subscription to use Web archive (MHTML), PDF, or Excel.</span></span>  
  
-   <span data-ttu-id="07ad1-153">В случае использования форматов PDF или Excel настройте подписку на использование доставки в общую папку.</span><span class="sxs-lookup"><span data-stu-id="07ad1-153">Configure a subscription to use file share delivery if you are using PDF or Excel.</span></span> <span data-ttu-id="07ad1-154">Как только отчет доставлен, для работы с ним можно использовать локальное приложение.</span><span class="sxs-lookup"><span data-stu-id="07ad1-154">Once the report is delivered, you can use a desktop application to work with the report.</span></span> <span data-ttu-id="07ad1-155">Для определения пользователей, которые могут просматривать отчет, необходимо задать разрешения на общую папку.</span><span class="sxs-lookup"><span data-stu-id="07ad1-155">You must set permissions on the file share to determine who can view the report.</span></span>  
  
     <span data-ttu-id="07ad1-156">Обратите внимание, что при помещении отчета в общую папку, он больше не управляется и не защищается службами [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="07ad1-156">Note that once the report is on the file share, it is no longer controlled or secured by [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="07ad1-157">Если необходимо получать уведомления при обновлениях отчета, создайте вторую подписку, использующую доставку по электронной почте, для пересылки только уведомления.</span><span class="sxs-lookup"><span data-stu-id="07ad1-157">If you want to be notified when the report is updated, create a second subscription that uses e-mail delivery to send a notification only.</span></span>  
  
 <span data-ttu-id="07ad1-158">Если необходимо использовать доставку отчета по электронной почте, настройте подписку таким образом, чтобы она включала ссылку.</span><span class="sxs-lookup"><span data-stu-id="07ad1-158">If you want to use e-mail report delivery, configure the subscription to include a link.</span></span> <span data-ttu-id="07ad1-159">Избегайте отправки отчетов в качестве вложений.</span><span class="sxs-lookup"><span data-stu-id="07ad1-159">Avoid sending the report as an attachment.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07ad1-160">См. также:</span><span class="sxs-lookup"><span data-stu-id="07ad1-160">See Also</span></span>  
 <span data-ttu-id="07ad1-161">[Подписки и доставка (службы Reporting Services)](../subscriptions/subscriptions-and-delivery-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="07ad1-161">[Subscriptions and Delivery &#40;Reporting Services&#41;](../subscriptions/subscriptions-and-delivery-reporting-services.md) </span></span>  
 <span data-ttu-id="07ad1-162">[Установка свойств обработки отчетов](set-report-processing-properties.md) </span><span class="sxs-lookup"><span data-stu-id="07ad1-162">[Set Report Processing Properties](set-report-processing-properties.md) </span></span>  
 <span data-ttu-id="07ad1-163">[Задание учетных данных и сведениях о соединении для источников данных отчета](../report-data/specify-credential-and-connection-information-for-report-data-sources.md) </span><span class="sxs-lookup"><span data-stu-id="07ad1-163">[Specify Credential and Connection Information for Report Data Sources](../report-data/specify-credential-and-connection-information-for-report-data-sources.md) </span></span>  
 <span data-ttu-id="07ad1-164">[Управление содержимым сервера отчетов (службы Reporting Services в основном режиме)](report-server-content-management-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="07ad1-164">[Report Server Content Management &#40;SSRS Native Mode&#41;](report-server-content-management-ssrs-native-mode.md) </span></span>  
 [<span data-ttu-id="07ad1-165">Предварительная загрузка кэша (диспетчер отчетов)</span><span class="sxs-lookup"><span data-stu-id="07ad1-165">Preload the Cache &#40;Report Manager&#41;</span></span>](preload-the-cache-report-manager.md)  
  
  

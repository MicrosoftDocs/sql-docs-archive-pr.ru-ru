---
title: Настройка доступной памяти для приложений сервера отчетов | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- memory [Reporting Services]
- memory thresholds [Reporting Services]
ms.assetid: ac7ab037-300c-499d-89d4-756f8d8e99f6
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e61e44634bbc892c7d4082c5bfcde797c236265a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665810"
---
# <a name="configure-available-memory-for-report-server-applications"></a><span data-ttu-id="f2b9d-102">Настройка доступной памяти для приложений сервера отчетов</span><span class="sxs-lookup"><span data-stu-id="f2b9d-102">Configure Available Memory for Report Server Applications</span></span>
  <span data-ttu-id="f2b9d-103">Хотя службы [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] могут использовать всю доступную память, можно переопределить поведение по умолчанию, настроив верхний предел ресурсов памяти, выделяемых серверным приложениям служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f2b9d-103">Although [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] can use all available memory, you can override default behavior by configuring an upper limit on the total amount of memory resources that are allocated to [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] server applications.</span></span> <span data-ttu-id="f2b9d-104">Можно также задать пороговые значения, которые изменяют способ назначения приоритета и обработки запросов сервером отчетов в зависимости от дефицита свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-104">You can also set thresholds that cause the report server to change how it prioritizes and processes requests depending on whether it is under low, medium, or heavy memory pressure.</span></span> <span data-ttu-id="f2b9d-105">При малом дефиците свободной памяти сервер отчетов назначает чуть более высокий приоритет интерактивной обработке отчетов или обработке отчетов по запросу.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-105">At low levels of memory pressure, the report server responds by giving a slightly higher priority to interactive or on-demand report processing.</span></span> <span data-ttu-id="f2b9d-106">При серьезном дефиците свободной памяти сервер отчетов использует многочисленные приемы, чтобы сохранить работоспособность в условиях ограниченных доступных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-106">At high levels of memory pressure, the report server uses multiple techniques to remain operational using the limited resources available to it.</span></span>

 <span data-ttu-id="f2b9d-107">В этом разделе описаны задаваемые пользователем параметры конфигурации и реакция сервера в случаях, когда при обработке запросов приходится учитывать недостаток свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-107">This topic describes the configuration settings that you can specify and how the server responds when memory pressure becomes a factor in processing requests.</span></span>

## <a name="memory-management-policies"></a><span data-ttu-id="f2b9d-108">Политики управления памятью</span><span class="sxs-lookup"><span data-stu-id="f2b9d-108">Memory Management Policies</span></span>
 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="f2b9d-109">изменяют объем памяти, выделяемый определенным приложениям и типы обработки запросов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-109">responds to system resource constraints by adjusting the amount of memory that is allocated to specific applications and types of processing requests.</span></span> <span data-ttu-id="f2b9d-110">Приложения, которые выполняются в службе сервера отчетов и участвуют в управлении памятью.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-110">Applications that run in the Report Server service and that are subject to memory management include:</span></span>

-   <span data-ttu-id="f2b9d-111">Диспетчер отчетов, клиентский веб-интерфейс для сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-111">Report Manager, a Web front-end application for the report server.</span></span>

-   <span data-ttu-id="f2b9d-112">Веб-служба сервера отчетов, используемая для интерактивной обработки отчетов и запросов по требованию.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-112">Report Server Web service, used for interactive report processing and on-demand requests.</span></span>

-   <span data-ttu-id="f2b9d-113">Приложение фоновой обработки, используемое для обработки отчетов по расписанию, доставки подписок и обслуживания баз данных.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-113">A background processing application, used for scheduled report processing, subscription delivery, and database maintenance.</span></span>

 <span data-ttu-id="f2b9d-114">Политики управления памятью применяются к службе сервера отчетов в целом, а не к отдельным приложениям, выполняемым внутри процесса.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-114">Memory management policies apply to the Report Server service as a whole, and not to individual applications that run within the process.</span></span>

 <span data-ttu-id="f2b9d-115">Если недостатка памяти нет, то каждое серверное приложение запрашивает некоторый объем памяти при запуске, не дожидаясь получения запросов, чтобы обеспечить оптимальную производительность, когда запросы будут, наконец, получены.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-115">If there is no memory pressure on the system, each server application requests some memory at startup, in advance of receiving requests, to deliver optimum performance when requests are eventually received.</span></span> <span data-ttu-id="f2b9d-116">По мере возникновения недостатка памяти, сервер отчетов корректирует модель процесса, как описано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-116">As memory pressure builds, the report server adjusts its process model as described in the following table.</span></span>

|<span data-ttu-id="f2b9d-117">нехватка памяти;</span><span class="sxs-lookup"><span data-stu-id="f2b9d-117">Memory pressure</span></span>|<span data-ttu-id="f2b9d-118">Реакция сервера</span><span class="sxs-lookup"><span data-stu-id="f2b9d-118">Server response</span></span>|
|---------------------|---------------------|
|<span data-ttu-id="f2b9d-119">Низкий</span><span class="sxs-lookup"><span data-stu-id="f2b9d-119">Low</span></span>|<span data-ttu-id="f2b9d-120">Обработка текущих запросов продолжается.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-120">Current requests continue to process.</span></span> <span data-ttu-id="f2b9d-121">Новые запросы принимаются почти всегда.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-121">New requests are almost always accepted.</span></span> <span data-ttu-id="f2b9d-122">Запросы к приложениям, выполняющим обработку в фоновом режиме, имеют более низкий приоритет, чем запросы к веб-службе сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-122">Requests that are directed to the background processing application are given a lower priority than requests directed to the Report Server Web service.</span></span>|
|<span data-ttu-id="f2b9d-123">Средний</span><span class="sxs-lookup"><span data-stu-id="f2b9d-123">Medium</span></span>|<span data-ttu-id="f2b9d-124">Обработка текущих запросов продолжается.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-124">Current requests continue to process.</span></span> <span data-ttu-id="f2b9d-125">Новые запросы могут быть приняты.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-125">New requests might be accepted.</span></span> <span data-ttu-id="f2b9d-126">Запросы к приложениям, выполняющим обработку в фоновом режиме, имеют более низкий приоритет, чем запросы к веб-службе сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-126">Requests that are directed to the background processing application are given a lower priority than requests directed to the Report Server Web service.</span></span> <span data-ttu-id="f2b9d-127">Выделение памяти сокращается для всех трех серверных приложений, более всего сокращение касается фоновой обработки, чтобы выделить больше памяти для запросов веб-службы.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-127">Memory allocations for all three server applications are reduced, with relatively larger reductions to background processing to make more memory available for Web service requests.</span></span>|
|<span data-ttu-id="f2b9d-128">Высокий</span><span class="sxs-lookup"><span data-stu-id="f2b9d-128">High</span></span>|<span data-ttu-id="f2b9d-129">Выделение памяти сокращается еще больше.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-129">Memory allocation is further reduced.</span></span> <span data-ttu-id="f2b9d-130">Запросы дополнительной памяти со стороны серверных приложений запрещены.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-130">Server applications that request more memory are denied.</span></span> <span data-ttu-id="f2b9d-131">Обработка текущих запросов замедляется и для их завершения требуется больше времени.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-131">Current requests are slowed down and take longer to complete.</span></span> <span data-ttu-id="f2b9d-132">Новые запросы не принимаются.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-132">New requests are not accepted.</span></span> <span data-ttu-id="f2b9d-133">Сервер отчетов выгружает файлы данных из памяти на диск.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-133">The report server swaps in-memory data files to disk.</span></span><br /><br /> <span data-ttu-id="f2b9d-134">Если ограничения памяти становятся критическими и отсутствует память для обработки новых запросов, то сервер отчетов возвращает ошибку HTTP 503, которая свидетельствует о недоступности сервера, пока завершается обработка текущих запросов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-134">If memory constraints become severe and there is no memory available to handle new requests, the report server will return an HTTP 503 server unavailable error while current requests are completing.</span></span> <span data-ttu-id="f2b9d-135">В некоторых случаях может быть выполнена очистка домена приложений, чтобы немедленно сократить недостаток свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-135">In some cases, the application domains might be recycled to immediately reduce memory pressure.</span></span>|

 <span data-ttu-id="f2b9d-136">Нельзя настроить реакцию сервера отчетов для различных сценариев нехватки свободной памяти, но можно назначить параметры конфигурации, которые определяют границы, разделяющие реакцию на высокий, средний и низкий недостаток свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-136">Although you cannot customize the report server responses to different memory pressure scenarios, you can specify configuration settings that define the boundaries that separate high, medium, and low memory pressure responses.</span></span>

## <a name="when-to-customize-memory-management-settings"></a><span data-ttu-id="f2b9d-137">Когда следует настраивать параметры управления памятью</span><span class="sxs-lookup"><span data-stu-id="f2b9d-137">When to Customize Memory Management Settings</span></span>
 <span data-ttu-id="f2b9d-138">Параметры по умолчанию указывают неравные области для низкой, средней и высокой нехватки свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-138">The default settings specify unequal ranges for low, medium, and high memory pressure.</span></span> <span data-ttu-id="f2b9d-139">По умолчанию область низкой нехватки свободной памяти больше, чем зоны средней и высокой нехватки свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-139">By default, the low memory pressure zone is larger than the zones for medium and high memory pressure.</span></span> <span data-ttu-id="f2b9d-140">Такая конфигурация оптимальна для нагрузки, которая распределена равномерно, либо увеличивается или сокращается постепенно.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-140">This configuration is optimum for processing loads that are evenly distributed or that grow or decline incrementally.</span></span> <span data-ttu-id="f2b9d-141">В этом случае переход между зонами совершается постепенно, и у сервера отчетов есть время скорректировать реакцию.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-141">In this scenario, the transition between zones is gradual and the report server has time to adjust its response.</span></span>

 <span data-ttu-id="f2b9d-142">Если нагрузка изменяется скачками, то полезно изменить параметры по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-142">Modifying the default settings is useful if the load pattern includes spikes.</span></span> <span data-ttu-id="f2b9d-143">Если нагрузка изменяется внезапными скачками, то сервер отчетов может очень быстро перейти от состояния без недостатка свободной памяти к отказам выделения памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-143">When there are sudden spikes in the processing load, the report server might go from no memory pressure to memory allocation failures very quickly.</span></span> <span data-ttu-id="f2b9d-144">Это может произойти, если имеется несколько экземпляров отчетов, требующих много памяти и запускаемых одновременно.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-144">This might occur if you have multiple concurrent instances of a memory-intensive report that start at the same time.</span></span> <span data-ttu-id="f2b9d-145">Для обработки нагрузки такого типа рекомендуется как можно скорее перевести сервер отчетов в область средней или высокой нехватки памяти, чтобы замедлить обработку.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-145">To handle this type of processing load, you want the report server to move into a medium or high memory pressure response as soon as possible so that it can slow down processing.</span></span> <span data-ttu-id="f2b9d-146">Это позволит завершить больше запросов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-146">This allows more requests to complete.</span></span> <span data-ttu-id="f2b9d-147">Для этого нужно уменьшить значение для `MemorySafetyMargin`, чтобы уменьшить область низкой нехватки памяти относительно других областей.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-147">To do this, you should lower the value for `MemorySafetyMargin` to make the low memory pressure zone smaller relative to the other zones.</span></span> <span data-ttu-id="f2b9d-148">В результате реакция на среднюю и высокую нехватку памяти будет происходить раньше.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-148">Doing so will cause responses for medium and high memory pressure to occur earlier.</span></span>

## <a name="configuration-settings-for-memory-management"></a><span data-ttu-id="f2b9d-149">Параметры конфигурации для управления памятью</span><span class="sxs-lookup"><span data-stu-id="f2b9d-149">Configuration Settings for Memory Management</span></span>
 <span data-ttu-id="f2b9d-150">Параметры конфигурации, которые управляют распределением памяти для сервера отчетов — `WorkingSetMaximum`, `WorkingSetMinimum`, `MemorySafetyMargin` и `MemoryThreshold`.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-150">Configuration settings that control memory allocation for the report server include `WorkingSetMaximum`, `WorkingSetMinimum`, `MemorySafetyMargin`, and `MemoryThreshold`.</span></span>

-   <span data-ttu-id="f2b9d-151">Параметры `WorkingSetMaximum` и `WorkingSetMinimum` определяют область доступной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-151">`WorkingSetMaximum` and `WorkingSetMinimum` define the range of available memory.</span></span> <span data-ttu-id="f2b9d-152">Настраивая эти параметры, можно установить область доступной памяти для приложений сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-152">You can configure these settings to set a range of available memory for the report server applications.</span></span> <span data-ttu-id="f2b9d-153">Это полезно, если несколько приложений размещаются на одном компьютере, и известно, что сервер отчетов использует непропорциональное количество системных ресурсов по сравнению с другими приложениями на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-153">This can be useful if you are hosting multiple applications on the same computer and you determine that the report server is using a disproportionate amount of system resources relative to other applications on the same computer.</span></span>

-   <span data-ttu-id="f2b9d-154">Параметры `MemorySafetyMargin` и `MemoryThreshold` указывают границы низкого, среднего и высокого уровней нехватки свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-154">`MemorySafetyMargin` and `MemoryThreshold` set the boundaries for low, medium, and high levels of memory pressure.</span></span> <span data-ttu-id="f2b9d-155">Для каждого состояния службы [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] предпринимают действие по исправлению, чтобы обработка отчетов и другие запросы выполнялись в соответствии с объемом памяти, доступной на компьютере.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-155">For each state, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] takes corrective action to ensure report processing and other requests are handled appropriately relative to the amount of memory that is available on the computer.</span></span> <span data-ttu-id="f2b9d-156">Можно указать параметры конфигурации, которые определяют разграничение между низким, средним и высоким уровнями нехватки свободной памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-156">You can specify configuration settings that determine the delineation between low, high, and medium pressure levels.</span></span>

     <span data-ttu-id="f2b9d-157">Параметры конфигурации можно изменить, но это не улучшит производительность при обработке отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-157">Although you can change the configuration settings, doing so will not improve report processing performance.</span></span> <span data-ttu-id="f2b9d-158">Изменение параметров конфигурации полезно, только если запросы теряются прежде, чем будут завершены.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-158">Changing the configuration settings is useful only if requests are getting dropped before they complete.</span></span> <span data-ttu-id="f2b9d-159">Лучший способ повысить производительность сервера — развернуть сервер отчетов или его отдельные приложения на разных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-159">The best way to improve server performance is to deploy the report server or individual report server applications on dedicated computers.</span></span>

 <span data-ttu-id="f2b9d-160">На следующей иллюстрации показано, как параметры используются совместно, чтобы различить низкий, средний и высокий уровни нехватки свободной памяти:</span><span class="sxs-lookup"><span data-stu-id="f2b9d-160">The following illustration shows how the settings are used together to distinguish between low, medium, and high levels of memory pressure:</span></span>

 <span data-ttu-id="f2b9d-161">![Параметры конфигурации для состояния памяти](../media/rs-memoryconfigurationzones.gif "Параметры конфигурации для состояния памяти")</span><span class="sxs-lookup"><span data-stu-id="f2b9d-161">![Configuration settings for memory state](../media/rs-memoryconfigurationzones.gif "Configuration settings for memory state")</span></span>

 <span data-ttu-id="f2b9d-162">В следующей таблице приведены описания параметров `WorkingSetMaximum`, `WorkingSetMinimum`, `MemorySafetyMargin` и `MemoryThreshold`.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-162">The following table describes `WorkingSetMaximum`, `WorkingSetMinimum`, `MemorySafetyMargin`, and `MemoryThreshold` settings.</span></span> <span data-ttu-id="f2b9d-163">Параметры конфигурации задаются в файле [RSReportServer.config](rsreportserver-config-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="f2b9d-163">Configuration settings are specified in the [RSReportServer.config file](rsreportserver-config-configuration-file.md).</span></span>

|<span data-ttu-id="f2b9d-164">Элемент</span><span class="sxs-lookup"><span data-stu-id="f2b9d-164">Element</span></span>|<span data-ttu-id="f2b9d-165">Description</span><span class="sxs-lookup"><span data-stu-id="f2b9d-165">Description</span></span>|
|-------------|-----------------|
|`WorkingSetMaximum`|<span data-ttu-id="f2b9d-166">Порог памяти, после которого больше не будут приниматься новые запросы на предоставление памяти от приложений сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-166">Specifies a memory threshold after which no new memory allocations requests are granted to report server applications.</span></span><br /><br /> <span data-ttu-id="f2b9d-167">По умолчанию сервер отчетов устанавливает значение `WorkingSetMaximum` равным объему доступной памяти в компьютере.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-167">By default, the report server sets `WorkingSetMaximum` to the amount of available memory on the computer.</span></span> <span data-ttu-id="f2b9d-168">Это значение обнаруживается при запуске службы.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-168">This value is detected when the service starts.</span></span><br /><br /> <span data-ttu-id="f2b9d-169">Этот параметр не появляется в файле конфигурации RSReportServer.config, если не добавить его вручную.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-169">This setting does not appear in the RSReportServer.config file unless you add it manually.</span></span> <span data-ttu-id="f2b9d-170">Чтобы сервер отчетов использовал меньше памяти, можно изменить файл RSReportServer.config, добавив элемент и значение.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-170">If you want the report server to use less memory, you can modify the RSReportServer.config file and add the element and value.</span></span> <span data-ttu-id="f2b9d-171">Диапазон допустимых значений — от 0 до максимального целого числа.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-171">Valid values range from 0 to maximum integer.</span></span> <span data-ttu-id="f2b9d-172">Значение указывается в килобайтах.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-172">This value is expressed in kilobytes.</span></span><br /><br /> <span data-ttu-id="f2b9d-173">При достижении значения `WorkingSetMaximum` сервер отчетов прекращает принимать новые запросы.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-173">When the value for `WorkingSetMaximum` is reached, the report server does not accept new requests.</span></span> <span data-ttu-id="f2b9d-174">Обрабатываемые в это время запросы продолжают выполняться.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-174">Requests that are currently in progress are allowed to complete.</span></span> <span data-ttu-id="f2b9d-175">Новые запросы принимаются лишь после того, как объем использованной памяти станет меньше значения, указанного параметром `WorkingSetMaximum`.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-175">New requests are accepted only when memory use falls below the value specified through `WorkingSetMaximum`.</span></span><br /><br /> <span data-ttu-id="f2b9d-176">Если существующие запросы по-прежнему занимают дополнительную память по достижении значения `WorkingSetMaximum`, все домены приложений сервера отчетов будут очищены.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-176">If existing requests continue to consume additional memory after the `WorkingSetMaximum` value has been reached, all report server application domains will be recycled.</span></span> <span data-ttu-id="f2b9d-177">Дополнительные сведения см. в разделе [Application Domains for Report Server Applications](application-domains-for-report-server-applications.md).</span><span class="sxs-lookup"><span data-stu-id="f2b9d-177">For more information, see [Application Domains for Report Server Applications](application-domains-for-report-server-applications.md).</span></span>|
|`WorkingSetMinimum`|<span data-ttu-id="f2b9d-178">Нижний предел потребления ресурсов; сервер отчетов не будет освобождать память, если общее использование памяти ниже этого предела.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-178">Specifies a lower limit for resource consumption; the report server will not release memory if overall memory use is below this limit.</span></span><br /><br /> <span data-ttu-id="f2b9d-179">Его значение по умолчанию рассчитывается при запуске службы.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-179">By default, the value is calculated at service startup.</span></span> <span data-ttu-id="f2b9d-180">В соответствии с этим расчетом, запрашиваемый объем выделенной памяти составляет 60 процентов от `WorkingSetMaximum`.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-180">The calculation is that the initial memory allocation request is for 60 percent of `WorkingSetMaximum`.</span></span><br /><br /> <span data-ttu-id="f2b9d-181">Этот параметр не появляется в файле конфигурации RSReportServer.config, если не добавить его вручную.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-181">This setting does not appear in the RSReportServer.config file unless you add it manually.</span></span> <span data-ttu-id="f2b9d-182">Чтобы изменить это значение, необходимо добавить элемент `WorkingSetMinimum` в файл RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-182">If you want to customize this value, you must add the `WorkingSetMinimum` element to the RSReportServer.config file.</span></span> <span data-ttu-id="f2b9d-183">Диапазон допустимых значений — от 0 до максимального целого числа.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-183">Valid values range from 0 to maximum integer.</span></span> <span data-ttu-id="f2b9d-184">Значение указывается в килобайтах.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-184">This value is expressed in kilobytes..</span></span>|
|`MemoryThreshold`|<span data-ttu-id="f2b9d-185">Задает процент `WorkingSetMaximum`, определяющий границу между высоким и средним уровнями потребления памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-185">Specifies a percentage of `WorkingSetMaximum` that defines the boundary between high and medium pressure scenarios.</span></span> <span data-ttu-id="f2b9d-186">Если процент использования памяти достиг этого значения, сервер отчетов замедляет обработку запросов и перераспределяет память, выделенную различным серверным приложениям.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-186">If report server memory use reaches this value, the report server slows down request processing and changes the amount of memory allocated to different server applications.</span></span> <span data-ttu-id="f2b9d-187">Значение по умолчанию равно 90.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-187">The default value is 90.</span></span> <span data-ttu-id="f2b9d-188">Это значение должно быть больше значения параметра `MemorySafetyMargin`.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-188">This value should be greater than the value set for `MemorySafetyMargin`.</span></span>|
|`MemorySafetyMargin`|<span data-ttu-id="f2b9d-189">Задает процент `WorkingSetMaximum`, определяющий границу между средним и низким уровнями потребления памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-189">Specifies a percentage of `WorkingSetMaximum` that defines the boundary between medium and low pressure scenarios.</span></span> <span data-ttu-id="f2b9d-190">Это значение представляет собой процент доступной памяти, которая будет зарезервирована для системы и не сможет быть использована для работы сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-190">This value is the percentage of available memory that is reserved for the system and cannot be used for report server operations.</span></span> <span data-ttu-id="f2b9d-191">Значение по умолчанию равно 80.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-191">The default value is 80.</span></span>|

> [!NOTE]
>  <span data-ttu-id="f2b9d-192">Параметры `MemoryLimit` и `MaximumMemoryLimit` в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздних версиях являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-192">`MemoryLimit` and `MaximumMemoryLimit` settings are obsolete in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="f2b9d-193">Если обновить существующую установку или использовать файл RSReportServer.config с этими значениями, то сервер отчетов не будет их считывать.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-193">If you upgraded an existing installation or using an RSReportServer.config file that includes those settings, the report server no longer reads those values.</span></span>

#### <a name="example-of-memory-configuration-settings"></a><span data-ttu-id="f2b9d-194">Пример параметров конфигурации памяти</span><span class="sxs-lookup"><span data-stu-id="f2b9d-194">Example of Memory Configuration Settings</span></span>
 <span data-ttu-id="f2b9d-195">Следующий пример показывает параметры конфигурации для компьютера серверов отчетов, в котором используются пользовательские значения конфигурации памяти.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-195">The following example shows the configuration settings for a report server computer that uses custom memory configuration values.</span></span> <span data-ttu-id="f2b9d-196">Чтобы добавить параметр `WorkingSetMaximum` или `WorkingSetMinimum`, необходимо вставить соответствующие элементы и значения в файл RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-196">If you want to add `WorkingSetMaximum` or `WorkingSetMinimum`, you must type the elements and values in the RSReportServer.config file.</span></span> <span data-ttu-id="f2b9d-197">Оба значения представляют собой целые числа, указывающие объем ОЗУ в килобайтах, выделяемый для серверных приложений.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-197">Both values are integers that express kilobytes of RAM you are allocating to the server applications.</span></span> <span data-ttu-id="f2b9d-198">В следующем примере указывается, что общая память, выделенная для приложений сервера отчетов, не может превышать 4 гигабайт.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-198">The following example specifies that total memory allocation for the report server applications cannot exceed 4 gigabytes.</span></span> <span data-ttu-id="f2b9d-199">Если значение по умолчанию параметра `WorkingSetMinimum` (60% от `WorkingSetMaximum`) приемлемо, то можно опустить его и указать в файле RSReportServer.config только параметр `WorkingSetMaximum`.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-199">If the default value for `WorkingSetMinimum` (60% of `WorkingSetMaximum`) is acceptable, you can omit it and specify just `WorkingSetMaximum` in the RSReportServer.config file.</span></span> <span data-ttu-id="f2b9d-200">Пример содержит параметр `WorkingSetMinimum`, чтобы показать, как выглядит этот параметр, если понадобится его добавить:</span><span class="sxs-lookup"><span data-stu-id="f2b9d-200">This example includes `WorkingSetMinimum` to show how it would appear if you wanted to add it:</span></span>

```
      <MemorySafetyMargin>80</MemorySafetyMargin>
      <MemoryThreshold>90</MemoryThreshold>
      <WorkingSetMaximum>4000000</WorkingSetMaximum>
      <WorkingSetMinimum>2400000</WorkingSetMinimum>
```

#### <a name="about-aspnet-memory-configuration-settings"></a><span data-ttu-id="f2b9d-201">О параметрах конфигурации памяти ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f2b9d-201">About ASP.NET Memory Configuration Settings</span></span>
 <span data-ttu-id="f2b9d-202">Хотя веб-служба сервера отчетов и диспетчер отчетов представляют собой приложения [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)], ни одно из приложений не реагирует на параметры конфигурации памяти, указанные в разделе `processModel` файла machine.config для приложений [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)], работающих в режиме совместимости с IIS 5.0.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-202">Although the Report Server Web service and Report Manager are [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] applications, neither application responds to memory configuration settings that you specify in the `processModel` section of machine.config for [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] applications that run in IIS 5.0 compatibility mode.</span></span> [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="f2b9d-203">считывают параметры конфигурации памяти только из файла RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="f2b9d-203">reads memory configuration settings from the RSReportServer.config file only.</span></span>

## <a name="see-also"></a><span data-ttu-id="f2b9d-204">См. также:</span><span class="sxs-lookup"><span data-stu-id="f2b9d-204">See Also</span></span>
 <span data-ttu-id="f2b9d-205">Файл конфигурации [RSReportServer](rsreportserver-config-configuration-file.md) файл конфигурации [RSReportServer](rsreportserver-config-configuration-file.md) [изменение файла конфигурации Reporting Services &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) [доменах приложений для приложений сервера отчетов](application-domains-for-report-server-applications.md)</span><span class="sxs-lookup"><span data-stu-id="f2b9d-205">[RSReportServer Configuration File](rsreportserver-config-configuration-file.md) [RSReportServer Configuration File](rsreportserver-config-configuration-file.md) [Modify a Reporting Services Configuration File &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) [Application Domains for Report Server Applications](application-domains-for-report-server-applications.md)</span></span>



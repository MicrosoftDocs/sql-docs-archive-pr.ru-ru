---
title: Настройка доступа к построителю отчетов | Документы Майкрософт
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- Reporting Services, Report Builder
- Report Builder 1.0, configuring access
- configuring servers [Reporting Services]
ms.assetid: a79003d0-c905-4d4c-9560-93a7cc1e1dd4
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: ac18493044004a89b31c1cf19f169312ef648a3b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665811"
---
# <a name="configure-report-builder-access"></a>настроить доступ к построителю отчетов
  Построитель отчетов — это средство автоматизированной отчетности, устанавливаемое с сервером отчетов служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], настроенным для собственного режима или режима интеграции с SharePoint.  
  
 Доступ к построителю отчетов зависит от следующих факторов:  
  
-   свойства сервера, определяющие, доступен ли построитель отчетов на сервере отчетов;  
  
-   назначения ролей или разрешения, которые предоставляют доступ к построителю отчетов отдельным пользователям или группам;  
  
-   параметры проверки подлинности, которые определяют, можно ли передать учетные данные пользователя в сервер отчетов или для файлов приложения настроен анонимный доступ.  
  
 Чтобы использовать построитель отчетов, необходимо опубликовать модель отчета для работы с ней.  
  
## <a name="prerequisites"></a>Предварительные требования  
 Построитель отчетов доступен не в каждом выпуске [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Перечень функций, поддерживаемых в разных выпусках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], см. в разделе [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).  
  
 На клиентском компьютере должен быть [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] установлен 2,0. Платформа [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] предоставляет инфраструктуру для работы приложений [!INCLUDE[ndptecclick](../../includes/ndptecclick-md.md)] .  
  
 Необходимо использовать обозреватель [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Explorer 6.0 или более поздней версии.  
  
 Построитель отчетов всегда работает при полном уровне доверия, его нельзя настроить на работу с частичным уровнем доверия. В предыдущих версиях можно было запустить построитель отчетов с частичным уровнем доверия, но этот режим отсутствует в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и последующих версиях.  
  
## <a name="enabling-and-disabling-report-builder"></a>Включение и отключение построителя отчетов  
 По умолчанию построитель отчетов включен. Администраторы сервера отчетов могут отключить построитель отчетов, присвоив системному свойству сервера отчетов `EnableReportDesignClientDownload` значение `false`. Это отключит загрузку построителя отчетов для этого сервера отчетов.  
  
 Системные свойства сервера отчетов можно задать с помощью среды Management Studio или скрипта.  
  
-   Чтобы использовать среду Management Studio, подключитесь к серверу отчетов и используйте страницу «Дополнительные свойства сервера», чтобы назначить параметру `EnableReportDesignClientDownload` значение `false`. Дополнительные сведения об открытии этой страницы см. в разделе [Установка свойств сервера отчетов (среда Management Studio)](../tools/set-report-server-properties-management-studio.md).  
  
-   Пример сценария, который задает свойство сервера отчетов, см. в разделе [Написание скриптов для задач развертывания и администрирования](../tools/script-deployment-and-administrative-tasks.md).  
  
## <a name="role-assignments-granting-report-builder-access-on-a-native-mode-report-server"></a>Назначения ролей предоставляют построителю отчетов доступ к серверу отчетов, работающему в собственном режиме  
 В собственном режиме работы сервера отчетов создайте назначения ролей, включающие задачи для использования построителя отчетов. Необходимо быть диспетчером содержимого или системным администратором, чтобы создать или изменить определения ролей или назначения ролей на уровне элемента или уровне сайта.  
  
 Следующие инструкции предполагают, что используются стандартные роли. Если изменяются определения ролей или если выполнено обновление с SQL Server 2000, проверьте роли, чтобы убедиться, что они содержат необходимые задачи. Дополнительные сведения о создании назначений ролей см. в разделе [Предоставление пользователям доступа к серверу отчетов (диспетчер отчетов)](../security/grant-user-access-to-a-report-server.md).  
  
 После создания назначений ролей пользователи будут иметь разрешения для следующих действий.  
  
-   Пользователи, которым назначены роли «Системный пользователь» и «Браузер», могут просматривать опубликованные отчеты построителя отчетов на сервере отчетов, не запуская построитель отчетов.  
  
-   Пользователи, которым назначены роли «Системный пользователь» и «Построитель отчетов», могут создавать модели, запускать построитель отчетов и создавать отчеты, а также сохранять отчеты на сервере отчетов.  
  
-   Пользователи, которым назначены роли «Системный пользователь» и «Издатель», могут публиковать модели из конструктора моделей на сервере отчетов. Модели используются в построителе отчетов как источники данных.  
  
-   Пользователи, которым назначены роли «Системный администратор» и «Диспетчер содержимого», имеют полные разрешения для создания и просмотра отчетов построителя отчетов, а также управления ими.  
  
#### <a name="to-verify-required-tasks-are-in-the-role-definitions"></a>Проверка, что необходимые задачи находятся в определениях ролей  
  
1.  Откройте среду Management Studio и подключитесь к серверу отчетов.  
  
2.  Откройте папку **Безопасность** .  
  
3.  Откройте папку **Системные роли** .  
  
4.  Щелкните правой кнопкой мыши узел **Системный администратор**и выберите пункт **Свойства**.  
  
5.  Выберите **Выполнение определений отчетов** и нажмите кнопку **ОК**.  
  
6.  Щелкните правой кнопкой мыши узел **Системный пользователь**и выберите пункт **Свойства**.  
  
7.  Выберите **Выполнение определений отчетов** и нажмите кнопку **ОК**.  
  
8.  Откройте папку **Роли** .  
  
9. Щелкните правой кнопкой мыши элемент **Браузер**и выберите пункт **Свойства**.  
  
10. Выберите **Просмотр моделей** , затем нажмите кнопку **ОК**.  
  
11. Щелкните правой кнопкой мыши **Диспетчер содержимого**и выберите пункт **Свойства**.  
  
12. Выберите **Просмотр моделей**, **Управление моделями**, **Использование отчетов**, затем нажмите кнопку **ОК**.  
  
13. Щелкните правой кнопкой мыши **Издатель**и выберите пункт **Свойства**.  
  
14. Выберите **Управление моделями** , затем нажмите кнопку **ОК**.  
  
15. Создайте роль построителя отчетов, если она не существует.  
  
    1.  Откройте папку **Безопасность** .  
  
    2.  Щелкните правой кнопкой мыши **Роли**и выберите пункт **Создать роль**.  
  
    3.  В поле «Имя» введите **Построитель отчетов**.  
  
    4.  В поле «Описание» введите описание для роли, чтобы пользователи в диспетчере отчетов знали, для чего предназначена роль.  
  
    5.  Добавьте следующие задачи: **Использование отчетов**, **Просмотр отчетов**, **Просмотр моделей**, **Просмотр ресурсов**, **Просмотр папок**и **Управление отдельными подписками**.  
  
    6.  Нажмите кнопку **ОК** , чтобы сохранить роль.  
  
#### <a name="to-create-role-assignments-that-grant-access-to-report-builder"></a>Создание назначений ролей, предоставляющих доступ к построителю отчетов  
  
1.  Запустите диспетчер отчетов.  
  
2.  Щелкните элемент **Настройки сайта**.  
  
3.  Перейдите на вкладку **Безопасность**.  
  
4.  Если для пользователя или группы, для которых нужно настроить доступ к построителю отчетов, уже существует назначение ролей, нажмите кнопку **Изменить**.  
  
     В противном случае нажмите кнопку **Создать назначение ролей**. В группе или пользователю введите учетную запись пользователя или группы домена Windows в следующем формате: \<domain> \\<учетная запись \> . Если используется проверка подлинности с помощью форм или пользовательский модуль безопасности, задайте учетную запись пользователя или группы в формате, допустимом для развертывания.  
  
5.  Выберите **Системный пользователь**, а затем нажмите **ОК**.  
  
6.  Нажмите кнопку **Корневая папка**.  
  
7.  Перейдите на вкладку **Параметры папки** .  
  
8.  Перейдите на вкладку **Безопасность** .  
  
9. Если для пользователя или группы, для которых нужно настроить доступ к построителю отчетов, уже существует назначение ролей, нажмите кнопку **Изменить**.  
  
     В противном случае нажмите кнопку **Создать назначение ролей**. В группе или пользователю введите учетную запись пользователя или группы домена Windows в следующем формате: \<domain> \\<учетная запись \> . Если используется проверка подлинности с помощью форм или пользовательский модуль безопасности, задайте учетную запись пользователя или группы в формате, допустимом для развертывания.  
  
10. Выберите **Построитель отчетов**, а затем нажмите кнопку **Применить**.  
  
11. Создайте или измените назначения ролей для остальных пользователей или групп.  
  
## <a name="permissions-granting-report-builder-access-on-a-sharepoint-integrated-mode-report-server"></a>Разрешения, предоставляющие построителю отчетов доступ к серверу отчетов, работающему в режиме интеграции с SharePoint  
 На сервере отчетов в режиме интеграции с SharePoint доступ к построителю отчетов предоставляется пользователям SharePoint, которые имеют разрешения уровней «Полный доступ» или «Участие».  
  
 Если используются пользовательские уровни разрешений, необходимо включить в уровень разрешений «Добавление элементов» и «Изменение элементов». Дополнительные сведения о доступе к построителю отчетов с помощью встроенных уровней разрешений см. в разделе [Использование встроенных средств безопасности служб Windows SharePoint Services при работе с элементами сервера отчетов](../security/use-built-in-security-in-windows-sharepoint-services-for-report-server-items.md). Дополнительные сведения о требованиях к пользовательским уровням разрешений см. в разделе [Задание разрешений для работы сервера отчетов в веб-приложении SharePoint](../security/set-permissions-for-report-server-operations-in-a-sharepoint-web-application.md).  
  
## <a name="authentication-considerations-and-credential-reuse"></a>Анализ проверки подлинности и повторное использование учетных данных  
 Построитель отчетов использует технологию ClickOnce, чтобы загрузить и установить свои файлы приложения на клиентский компьютер. Технология ClickOnce предназначена для одностороннего развертывания приложения, в ходе которого программные файлы размещаются на клиентском компьютере, а приложение запускается как отдельный процесс с удостоверением пользователя по умолчанию. Поскольку построитель отчетов должен повторно подключиться к серверу отчетов, чтобы получить файлы приложения и данные сервера отчетов, важно понимать, как приложение ClickOnce устанавливает контекст безопасности и формирует запросы к удаленным компьютерам в различных сценариях.  
  
-   Приложение ClickOnce всегда выполняется как отдельный процесс на клиентском компьютере. Удостоверение процесса представляет собой учетные данные по умолчанию пользователя Windows. Приложение ClickOnce не использует данные сеанса совместно с Internet Explorer и не получает контекст безопасности текущего пользователя из Internet Explorer.  
  
-   Приложение ClickOnce отправляет запросы, которые задают встроенную безопасность Windows в заголовке проверки подлинности. Если сервер настроен для другого типа проверки подлинности, то запросы к серверу от приложения ClickOnce будут обработаны с ошибкой при проверке подлинности. Чтобы обойти эту проблему, необходимо настроить сервер для использования встроенной безопасности Windows или включить анонимный доступ, чтобы отменить проверку подлинности.  
  
-   Построитель отчетов открывает собственное соединение с сервером отчетов. Если не используется встроенная безопасность Windows с единым входом, пользователи должны повторно ввести учетные данные для соединения построителя отчетов с сервером отчетов.  
  
 В следующей таблице описаны типы проверки подлинности, поддерживаемые сервером отчетов, и указано, требуется ли дополнительная настройка для доступа к построителю отчетов.  
  
|Тип проверки подлинности сервера отчетов|Реакция средства запуска построителя отчетов и приложения ClickOnce|  
|---------------------------------------|--------------------------------------------------------------------|  
|Negotiate (по умолчанию)<br /><br /> NTLM (по умолчанию)|При использовании встроенной безопасности Windows проверенные запросы приложений ClickOnce и построителя отчетов обычно выполняются успешно, если клиент и сервер развернуты в одном домене, пользователь вошел в систему на клиентском компьютере с помощью учетной записи домена с разрешением на доступ к построителю отчетов, а сервер отчетов настроен для использования проверки подлинности Windows.<br /><br /> Запросы обрабатываются успешно, так как приложение ClickOnce и соединение браузера с сервером отчетов имеют одинаковое удостоверение пользователя.<br /><br /> Обработка запросов завершится неудачно, если пользователь открыл обозреватель Internet Explorer с помощью параметра «Запуск от имени» и указал учетные данные, отличные от учетных данных по умолчанию. Если сеанс пользователя на сервере отчетов установлен под определенной учетной записью, а приложение ClickOnce выполняется под другой учетной записью, сервер отчетов откажет в доступе к файлам.|  
|Kerberos|Обозреватель Internet Explorer, необходимый для использования построителя отчетов, не поддерживает протокол Kerberos напрямую.|  
|Обычная проверка подлинности|Технология ClickOnce не поддерживает обычную проверку подлинности. Не формируются запросы, которые задают обычную проверку подлинности в заголовке проверки подлинности. Учетные данные не передаются и запрашиваются у пользователя. Эти проблемы можно обойти, включив анонимный доступ к файлам приложения построителя отчетов.<br /><br /> Запросы будут обработаны успешно, если включен анонимный доступ к файлам приложения построителя отчетов, так как сервер отчетов не учитывает заголовок проверки подлинности. Дополнительные сведения о способах включения анонимного доступа к построителю отчетов см. в разделе [Настройка обычной проверки подлинности на сервере отчетов](../security/configure-basic-authentication-on-the-report-server.md).<br /><br /> Приложение ClickOnce получает файлы приложений, а затем построитель отчетов открывает отдельное соединение с сервером отчетов. Чтобы построитель отчетов мог соединиться с сервером отчетов, пользователь должен еще раз ввести свои учетные данные. Построитель отчетов не производит сбор учетных данных ни из Internet Explorer, ни из ClickOnce.<br /><br /> Запросы завершатся неудачей, если сервер отчетов настроен для обычной проверки подлинности и не включен анонимный доступ к файлам программ построителя отчетов. Запрос завершается неудачей, так как приложение ClickOnce задает в запросах встроенную безопасность Windows. Если сервер отчетов настроен для обычной проверки подлинности, сервер отвергнет запрос, так как в нем указан недопустимый пакет безопасности и отсутствуют учетные данные, ожидаемые сервером отчетов.<br /><br /> Кроме того, если сервер отчетов настроен на использование режима интеграции с SharePoint и сайт SharePoint использует обычную проверку подлинности, пользователи столкнутся с ошибкой 401 при попытке использовать ClickOnce для установки построитель отчетов на клиентских компьютерах. Это происходит, потому что SharePoint использует куки-файл, чтобы проверить подлинность пользователя в течение сеанса, но программа ClickOnce не поддерживает куки-файлы. Когда пользователь запускает приложение ClickOnce, такое как построитель отчетов, приложение не передает куки-файл в SharePoint; таким образом, SharePoint отказывает в доступе и возвращает ошибку 401.<br /><br /> Можно обойти эту проблему, испытав один из следующих режимов.<br /><br /> При вводе учетных данных пользователя выберите параметр **Запомнить пароль** .<br /><br /> Включить анонимный доступ к коллекции сайтов SharePoint.<br /><br /> Настройте среду таким образом, чтобы пользователь не предоставлял учетных данных. Например, в среде интрасети можно ввести сервер SharePoint в состав рабочей группы, а затем создать учетные записи пользователя на локальном компьютере.|  
|Особые настройки|Если сервер отчетов настроен на использование нестандартной проверки подлинности, на сервере отчетов включается анонимный доступ, а запросы принимаются без проверки подлинности.<br /><br /> Приложение ClickOnce получает файлы приложений, а затем построитель отчетов открывает отдельное соединение с сервером отчетов. Чтобы построитель отчетов мог соединиться с сервером отчетов, пользователь должен еще раз ввести свои учетные данные. Построитель отчетов не производит сбор учетных данных ни из Internet Explorer, ни из ClickOnce.|  
  
## <a name="see-also"></a>См. также:  
 [Проверка подлинности с использованием сервера отчетов](../security/authentication-with-the-report-server.md)   
 [Планирование поддержки Reporting Services и Power View в браузере &#40;Reporting Services 2014&#41;](../browser-support-for-reporting-services-and-power-view.md)   
 [Запуск построитель отчетов &#40;построитель отчетов&#41;](../report-builder/start-report-builder.md)   
 [Диспетчер отчетов (службы Reporting Services в основном режиме)](../report-manager-ssrs-native-mode.md)   
 [Соединение с сервером отчетов в Management Studio](../tools/connect-to-a-report-server-in-management-studio.md)   
 [Системные свойства сервера отчетов](../report-server-web-service/net-framework/reporting-services-properties-report-server-system-properties.md)  
  
  

---
title: Счетчики производительности для объектов производительности служб MSRS 2014 Web Service SharePoint Mode и MSRS 2014 Windows Service SharePoint Mode (режим интеграции с SharePoint) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- performance counters [Reporting Services]
- counters [Reporting Services]
- Report Server Windows service, performance counters
- RS Windows Service performance object
- Scheduling and Delivery Processor performance object [Reporting Services]
- performance [Reporting Services]
ms.assetid: 70bf6980-7845-4ab5-8b2a-ebf526d811a6
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 91b77a62ea9d81af836e062cfafe9b700c47109e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732418"
---
# <a name="performance-counters-for-the-msrs-2014-web-service-sharepoint-mode-and-msrs-2014-windows-service-sharepoint-mode-performance-objects-sharepoint-mode"></a>Счетчики производительности для объектов производительности веб-службы MSRS 2014 в режиме интеграции с SharePoint и службы Windows для MSRS 2014 в режиме интеграции с SharePoint (режим SharePoint)
  В этом разделе рассматриваются счетчики производительности для объектов производительности `MSRS 2014 Web Service SharePoint Mode` и `MSRS 2014 Windows Service SharePoint Mode`, которые принадлежат к числу компонентов развертывания служб [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] в режиме SharePoint.

> [!NOTE]
>  Эти объекты производительности служат для наблюдения за событиями на локальном сервере отчетов. При запуске сервера отчетов в масштабном развертывании счетчики относятся к текущему серверу, а не к масштабному развертыванию в целом.

 **[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]Режим интеграции с SharePoint

 Объекты производительности доступны в системном мониторе Windows (**Perfmon.exe**). Дополнительные сведения см. в документации по Windows. [Профилирование среды выполнения](https://msdn.microsoft.com/library/w4bz2147.aspx).

 **В этом разделе:**

-   [Счетчики производительности веб-службы MSRS 2014 в режиме интеграции с SharePoint](#bkmk_webservice)

-   [Счетчики производительности службы Windows для MSRS 2014 в режиме интеграции с SharePoint](#bkmk_windowsservice)

-   [Использование командлетов PowerShell для возврата списков](#bkmk_powershell)

##  <a name="msrs-2014-web-service-sharepoint-mode-performance-counters"></a><a name="bkmk_webservice"></a>Счетчики производительности для веб-службы MSRS 2014 в режиме интеграции с SharePoint
 Объект производительности `MSRS 2014 Web Service SharePoint Mode` используется для наблюдения за производительностью сервера отчетов. Этот объект производительности включает коллекцию счетчиков, используемых для отслеживания работы сервера отчетов, обычно инициируемой интерактивными операциями просмотра отчетов. Если включить этот счетчик, его можно применять ко всем экземплярам служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] . Также можно выбирать конкретные экземпляры. Эти счетчики сбрасываются, когда платформа [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов.

 В следующей таблице перечислены счетчики, включенные в объект производительности `MSRS 2014 Web Service SharePoint Mode`.

|Счетчик|Description|
|-------------|-----------------|
|`Active Sessions`|Число активных сеансов. Этот счетчик ведет подсчет совокупного количества сеансов браузера, создаваемых при выполнении отчета, как активных, так и неактивных.<br /><br /> Значение счетчика уменьшается на единицу при удалении каждой записи сеанса. По умолчанию сеансы удаляются через десять минут неактивности.|
|`Cache Hits/Sec`|Количество запросов в секунду для кэшированных отчетов. Это запросы для повторно подготовленных к просмотру отчетов, а не для отчетов, обрабатываемых непосредственно из кэша. (См. счетчик `Total Cache Hits` далее в этом разделе.)|
|`Cache Hits/Sec (Semantic Models)`|Количество запросов в секунду для кэшированной модели. Это запросы для повторно подготовленных к просмотру отчетов, а не для отчетов, обрабатываемых непосредственно из кэша.|
|`Cache Misses/Sec`|Количество запросов в секунду, которым не удалось вернуть отчет из кэша. Этот счетчик используется для оценки достаточности используемых для кэширования ресурсов (места на диске или памяти).|
|`Cache Misses/Sec (Semantic Models)`|Число запросов в секунду, которым не удалось вернуть модель из кэша. Этот счетчик используется для оценки достаточности используемых для кэширования ресурсов (места на диске или памяти).|
|`First Session Requests/Sec`|Число новых пользовательских сеансов, запускаемых из кэша сервера отчетов каждую секунду.|
|`Memory Cache Hits/Sec`|Количество извлечений отчетов из кэша памяти в секунду. *Кэш памяти* — это часть кэша, которая хранит отчеты в памяти ЦП. При использовании кэша памяти сервер отчетов не запрашивает кэшированное содержимое у [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .|
|`Memory Cache Misses/Sec`|Число запросов в секунду, для которых не удалось вернуть отчет из кэша памяти.|
|`Next Session Requests/Sec`|Количество запросов за секунду на отчеты, открытые в существующем сеансе (т.е. на отчеты, подготовленные к просмотру из моментального снимка сеанса).|
|`Report Requests`|Количество активных в настоящий момент отчетов, обрабатываемых сервером отчетов.|
|`Reports Executed/Sec`|Число успешных выполнений отчетов в секунду. Этот счетчик предоставляет статистику объема отчетов. Использование этого счетчика совместно со счетчиком `Request/Sec` позволяет сравнить показатели выполнения отчетов и запросов, для которых отчеты возвращаются из кэша.|
|`Requests/Sec`|Число запросов в секунду, выполняемых к серверу отчетов. Этот счетчик отслеживает все типы запросов, обрабатываемые сервером отчетов.|
|`Total Cache Hits`|Общее число запросов для отчетов из кэша, выполненных после запуска службы. Этот счетчик сбрасывается каждый раз, когда [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов.|
|`Total Cache Hits (Semantic Models)`|Общее число запросов модели из кэша, выполненных после запуска службы. Этот счетчик сбрасывается каждый раз, когда ASP.NET останавливает веб-службу сервера отчетов.|
|`Total Cache Misses`|Общее число случаев, когда отчет невозможно было вернуть из кэша после запуска службы. Этот счетчик сбрасывается каждый раз, когда [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов. Этот счетчик используется для определения достаточности места на диске и памяти.|
|`Total Cache Misses (Semantic Models)`|Общее число случаев, когда модель невозможно было вернуть из кэша после запуска службы. Этот счетчик сбрасывается каждый раз, когда ASP.NET останавливает веб-службу сервера отчетов. Этот счетчик используется для определения достаточности места на диске и памяти.|
|`Total Memory Cache Hits`|Общее число кэшированных отчетов, возвращенных из кэша памяти после запуска службы. Этот счетчик сбрасывается каждый раз, когда [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов. *Кэш памяти* — это часть кэша, которая хранит отчеты в памяти ЦП. При использовании кэша памяти сервер отчетов не запрашивает кэшированное содержимое у [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .|
|`Total Memory Cache Misses`|Общее число промахов кэша памяти после запуска службы. Этот счетчик сбрасывается каждый раз, когда [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов.|
|`Total Processing Failures`|Число ошибок при обработке запроса веб-службы сервера отчетов.|
|`Total Rejected Threads`|Общее число потоков обработки данных, отклоненных при асинхронной обработке и выполненных впоследствии как синхронные процессы в одном потоке. Каждый источник данных обрабатывается в одном потоке. Если объем потоков превышает производительные возможности, потоки отклоняются при асинхронной обработке, а затем обрабатываются в последовательном режиме.|
|`Total Reports Executed`|Общее количество успешно выполненных отчетов с момента запуска службы. Этот счетчик сбрасывается каждый раз, когда [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов.|
|`Total Requests`|Общее число всех запросов, выполненных к серверу отчетов после запуска службы. Этот счетчик сбрасывается каждый раз, когда [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] останавливает веб-службу сервера отчетов.|

##  <a name="msrs-2014-windows-service-sharepoint-mode-performance-counters"></a><a name="bkmk_windowsservice"></a>Счетчики производительности для службы Windows MSRS 2014 в режиме интеграции с SharePoint
 Объект производительности `MSRS 2014 Windows Service SharePoint Mode` используется для наблюдения за службами Windows сервера отчетов. Этот объект производительности включает коллекцию счетчиков, используемых для отслеживания обработки отчетов, обычно инициируемой операциями по расписанию. Выполняемые по расписанию операции могут включать операции подписки и доставки, формирование снимков состояния выполнения отчета и создание журнал отчета. Если включить этот счетчик, его можно применять ко всем экземплярам служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] . Также можно выбирать конкретные экземпляры.

 В следующей таблице перечислены счетчики, включенные в объект производительности `MSRS 2014 Windows Service SharePoint mode`.

|Счетчик|Описание|
|-------------|-----------------|
|`Active Sessions`|Количество активных сеансов, хранящихся в базе данных сервера отчетов. Этот счетчик обеспечивает совокупный подсчет всех используемых сеансов браузера, формируемых из подписок на отчет, которые все еще активны или нет.|
|`Alerting: event queue length`||
|`Alerting: events processed - CreateSchedule`||
|`Alerting: events processed - Delete schedule`||
|`Alerting: events processed - DeliverAlert`||
|`Alerting: events processed - FireAlert`||
|`Alerting: events processed - FireSchedule`||
|`Alerting: events processed - GenerateAlert`||
|`Alerting: events processed - UpdateSchedule`||
|`Cache Flushes/Sec`|Количество операций записи из кэша на диск в секунду.|
|`Cache Hits/Sec`|Количество запросов в секунду для кэшированных отчетов. Это запросы для повторно подготовленных к просмотру отчетов, а не для отчетов, обрабатываемых непосредственно из кэша. (См. счетчик `Total Cache Hits` далее в этом разделе.)|
|`Cache Hits/Sec (Semantic Models)`|Количество запросов в секунду для кэшированной модели.|
|`Cache Misses/Sec`|Количество запросов в секунду, которым не удалось вернуть отчет из кэша. Этот счетчик используется для оценки достаточности используемых для кэширования ресурсов (места на диске или памяти).|
|`Cache Misses/Sec (Semantic Models)`|Число запросов в секунду, которым не удалось вернуть модель из кэша. Этот счетчик используется для оценки достаточности используемых для кэширования ресурсов (места на диске или памяти).|
|`Delivers/Sec`|Количество доставок отчета в секунду от любого модуля доставки.|
|`Events/Sec`|Количество событий, обработанных за секунду. События, за которыми осуществляется наблюдение, включают `SnapshotUpdated` и `TimedSubscription`.|
|`First Session Requests/Sec`|Число новых сеансов выполнения отчета, создаваемых в секунду.|
|`Memory Cache Hits/Sec`|Количество извлечений отчетов из кэша памяти в секунду. *Кэш памяти* — это часть кэша, которая хранит отчеты в памяти ЦП. При использовании кэша памяти сервер отчетов не запрашивает кэшированное содержимое у [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .|
|`Memory Cache Misses/Sec`|Количество раз в секунду, когда отчет не смог быть извлечен из кэша памяти.|
|`Next Session Requests/Sec`|Количество запросов за секунду на отчеты, открытые в существующем сеансе (т.е. на отчеты, подготовленные к просмотру из моментального снимка сеанса).|
|`Report Requests`|Количество активных в настоящий момент отчетов, обрабатываемых сервером отчетов. Используйте этот счетчик для расчета стратегии кэширования. Количество запросов может быть значительно больше, чем количество сформированных отчетов.|
|`Reports Executed/Sec`|Количество отчетов, успешно сформированных за секунду.|
|`Requests/Sec`|Общее число успешных запросов, обрабатываемых службой сервера отчетов в секунду.|
|`Snapshot Updates/Sec`|Общее число обновлений моментальных снимков состояния выполнения отчета в секунду.|
|`Total App Domain Recycles`|Общее количество операций очистки домена приложений с момента запуска службы Windows сервера отчетов.|
|**Всего сбросов кэша**|Общее количество обновлений кэша сервера отчетов с момента запуска службы. Этот счетчик обнуляется при очистке домена приложений. См. раздел `Cache Flushes/Sec`.|
|`Total Cache Hits`|Общее количество запросов для отчетов, обработанных напрямую из кэша с момента запуска службы Windows сервера отчетов. Этот счетчик обнуляется при очистке домена приложений. См. раздел `Cache Hits/Sec`.|
|`Total Cache Hits (Semantic Models)`|Общее количество запросов моделей, обработанных напрямую из кэша с момента запуска службы Windows сервера отчетов. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Cache Misses`|Общее количество раз, когда отчет не может быть возвращен из кэша с момента запуска службы Windows сервера отчетов. Этот счетчик обнуляется при очистке домена приложений. См. раздел `Cache Misses/Sec`.|
|`Total Cache Misses (Semantic Models)`|Общее количество раз, когда модель не может быть возвращена из кэша с момента запуска службы Windows сервера отчетов. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Deliveries`|Общее количество отчетов для всех модулей доставки, доставленных обработчиком планирования и доставки. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Events`|Общее количество событий с момента запуска службы Windows сервера отчетов. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Memory Cache Hits`|Общее количество кэшированных отчетов, возвращенных из памяти кэша с момента запуска службы Windows сервера отчетов. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Memory Cache Misses`|Общее число промахов кэша памяти после запуска службы. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Processing Failures`|Число запросов обработки ошибок для службы Windows сервера отчетов.|
|`Total Rejected Threads`|Общее число потоков обработки данных, отклоненных при асинхронной обработке и выполненных впоследствии как синхронные процессы в одном потоке. Значение этого счетчика постоянно увеличивается при умеренной или тяжелой нагрузке.|
|`Total Reports Executed`|Общее количество выполняемых отчетов.|
|`Total Requests`|Общее количество успешно выполненных отчетов с момента запуска службы. Этот счетчик обнуляется при очистке домена приложений.|
|`Total Snapshot Updates`|Общее число обновлений моментальных снимков состояния выполнения отчета.|

##  <a name="use-powershell-cmdlets-to-return-lists"></a><a name="bkmk_powershell"></a>Использование командлетов PowerShell для возврата списков
 ![Содержимое, связанное с PowerShell](../media/rs-powershellicon.jpg "Содержимое, связанное с PowerShell")Следующий скрипт Windows PowerShell возвращает наборы счетчиков, в которых CounterSetName начинается с "msr"

```powershell
Get-Counter -ListSet msr*
```

Возвращает список со следующими сведениями:

```
CounterSetName     : MSRS 2014 Windows Service SharePoint Mode
CounterSetName     : MSRS 2014 Web Service SharePoint Mode
```

 Следующий сценарий Windows PowerShell возвратит список счетчиков производительности для CounterSetName "MSRS 2014 службы Windows Service SharePoint Mode".

```powershell
(Get-Counter -ListSet "MSRS 2014 Windows Service SharePoint Mode").Paths
```

## <a name="see-also"></a>См. также:
 [Наблюдение за счетчиками производительности сервера отчетов](monitoring-report-server-performance.md) [для объектов производительности веб-службы MSRS 2014 и служб Windows MSRS 2014 &#40;в основном режиме&#41;](../report-server/performance-counters-msrs-2011-web-service-performance-objects.md)

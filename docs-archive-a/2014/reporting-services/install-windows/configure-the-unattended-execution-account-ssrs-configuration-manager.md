---
title: Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- no credentials option [Reporting Services]
- security [Reporting Services], unattended report processing
- unattended report processing [Reporting Services]
- credentials [Reporting Services]
- external data sources [Reporting Services]
- accounts [Reporting Services]
- reports [Reporting Services], processing
ms.assetid: 4e50733e-bd8c-4bf6-8379-98b1531bb9ca
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 437b28b57bc304d079acea3123983bed389341ed
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732442"
---
# <a name="configure-the-unattended-execution-account-ssrs-configuration-manager"></a>Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] предусматривает специальную учетную запись, предназначенную для автоматической обработки отчетов и отправки запросов на соединение по сети. Эти учетные записи используются для следующего.  
  
-   Отправки запросов на соединение через сеть для отчетов, использующих проверку подлинности базы данных, либо для соединения с внешними источниками данных отчетов, на которых не требуется проверка подлинности. Дополнительные сведения см. в статье [Задание учетных данных и сведениях о соединении для источников данных отчета](../../integration-services/connection-manager/data-sources.md) в электронной документации SQL Server.  
  
-   Получения внешних файлов изображений, используемых в отчете. При необходимости использовать файл изображения, доступ к которому невозможно получить анонимно, можно настроить учетную запись для автоматической обработки отчетов и предоставить этой учетной записи разрешение на доступ к файлу.  
  
 Автоматическая обработка отчетов обозначает любой процесс выполнения отчета, запущенный событием (по расписанию или при обновлении данных), а не по команде пользователя. Сервер отчетов использует эту учетную запись для входа на компьютер, на котором находится внешний источник данных. Возникновение необходимости в такой учетной записи обусловлена тем, что учетная запись службы сервера отчетов никогда не используется для соединения с другими компьютерами.  
  
> [!IMPORTANT]  
>  Настройка этой учетной записи необязательна. Однако, если не настроить ее, возможности подключения к некоторым источникам данных будут ограничены, и может оказаться невозможным получение файлов изображений с удаленных компьютеров. Настроив учетную запись, необходимо поддерживать ее актуальность. В частности, если срок действия пароля истечет или если данные учетной записи изменятся в службах каталогов Active Directory, при следующей попытке обработать отчет произойдет ошибка: "Ошибка при входе в систему (rsLogonFailed) Ошибка входа: неизвестное имя пользователя или неправильный пароль". Правильное обслуживание учетной записи автоматической обработки отчетов очень важно, даже при отсутствии необходимости получения внешних изображений или отправки запросов на подключение к внешним компьютерам. Если учетная запись была настроена, но впоследствии выяснилось, что она не используется, ее можно удалить, чтобы избежать необходимости выполнения задач по обслуживанию учетной записи.  
  
## <a name="how-to-configure-the-account"></a>Настройка учетной записи  
 Должна использоваться учетная запись пользователя домена. Чтобы соответствовать своему предназначению, эта учетная запись должна отличаться от той, которая используется для работы служб сервера отчетов. Она должна обладать минимально необходимыми разрешениями (для сетевых соединений достаточно доступа только на чтение) и должна быть ограничена доступом только к тем компьютерам, которые представляют источники данных и ресурсы для сервера отчетов. Дополнительные сведения см. в разделе [Использование диспетчера конфигурации служб Reporting Services (собственный режим)](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).  
  
 Указать эту учетную запись можно в средстве настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] или с помощью программы **rsconfig** . Самый простой способ настроить учетную запись автоматического выполнения — запустить программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и указать учетные данные на странице «Учетная запись выполнения».  
  
1.  Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов, который необходимо настроить. Дополнительные сведения см. в разделе [Использование диспетчера конфигурации служб Reporting Services (собственный режим)](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).  
  
2.  На странице "Учетная запись выполнения" выберите **Указать учетную запись выполнения**.  
  
3.  Введите учетное имя и пароль, еще раз пароль, а затем нажмите **Применить**.  
  
### <a name="using-rsconfig-utility"></a>Использование программы RSCONFIG  
 Другой способ настройки учетной записи — с помощью программы **rsconfig** . Чтобы задать учетную запись, укажите аргумент **-e** в программе **rsconfig**. Аргумент **-e** заставляет программу **rsconfig** сохранять сведения об учетной записи в файле конфигурации. Путь к файлу RSreportserver.config указывать не нужно. Для настройки учетной записи выполните следующие действия:  
  
1.  Создайте или выберите учетную запись домена, имеющую доступ к компьютерам и серверам, поставляющим данные или службы серверу отчетов. Следует использовать учетную запись с ограниченными разрешениями (например, только для чтения).  
  
2.  Откройте командную строку: в меню **Пуск** выберите пункт **Выполнить**, введите **cmd**и нажмите кнопку **ОК**.  
  
3.  Введите следующую команду для настройки учетной записи в локальном экземпляре сервера отчетов:  
  
     **rsconfig-e-u \<domain/username> -p\<password>**  
  
 Команда**rsconfig -e** поддерживает дополнительные аргументы. Дополнительные сведения о синтаксисе и примеры команд см. в статье [Программа rsconfig (SSRS)](../tools/rsconfig-utility-ssrs.md) электронной документации по SQL Server.  
  
### <a name="how-account-information-is-stored"></a>Хранение данных учетной записи  
 При настройке учетной записи следующие параметры в файле RSreportserver.config на локальном или удаленном экземпляре сервера отчетов сохраняются в виде зашифрованных значений:  
  
```  
<UnattendedExecutionAccount>  
     <UserName></UserName>  
     <Password></Password>  
     <Domain></Domain>  
</UnattendedExecutionAccount>  
```  
  
 и после сохранения их невозможно будет расшифровать и просмотреть в виде обычного текста. Если вы ошиблись при вводе или забыли введенные значения, снова запустите средство настройки служб Reporting Services или выполните команду **rsconfig -e** .  
  
## <a name="how-to-use-the-unattended-report-processing-account"></a>Использование учетной записи автоматической обработки отчетов  
 При получении файлов изображений сервер отчетов использует эту учетную запись автоматически, действие пользователя не требуется. Для соединения учетной записи с внешними источниками данных, которые поставляют данные для отчетов, необходимо задать параметр **Тип учетных данных** на странице свойств источника данных отчета или общего источника данных:  
  
-   В диспетчер отчетов или на сайте SharePoint выберите параметр **учетные данные не требуются** .  
  
 Учетная запись автоматической обработки отчетов используется главным образом не для входа на сервер базы данных, а для соединения с внешними серверами. Если для входа в базу данных необходимы учетные данные, то их нужно указать в строке соединения. Если сервер базы данных поддерживает встроенную безопасность Windows, а учетная запись, используемая для автоматической обработки отчетов, обладает разрешением на чтение базы данных, то можно указать в строке соединения **Integrated Security=SSPI** . В противном случае имя пользователя и пароль придется ввести в строку соединения, где они будут прекрасно видны всем пользователям, имеющим разрешение на изменение свойств соединения с источником данных.  
  
 Хотя возможность использовать учетную запись автоматической обработки отчетов для получения данных после установки соединения существует, делать это не рекомендуется. Эта учетная запись предназначена для выполнения очень специфических функций. Использование ее для получения данных идет в разрез с целями, для которых она была создана.  
  
## <a name="how-to-maintain-the-unattended-report-processing-account"></a>Поддержка учетной записи автоматической обработки отчетов  
 Определив учетную запись, убедитесь, что обеспечена актуальность учетной записи и пароля. Обновить параметры конфигурации для этой учетной записи можно в программе настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .  
  
1.  Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов, который необходимо настроить.  
  
2.  На странице "Учетная запись выполнения" убедитесь в том, что параметр **Указать учетную запись выполнения** выбран.  
  
3.  Введите новую учетную запись или пароль, еще раз введите пароль, а затем нажмите кнопку **Применить**.  
  
## <a name="how-to-delete-the-unattended-report-processing-account"></a>Удаление учетной записи автоматической обработки отчетов  
 Если учетная запись не используется, ее можно удалить, чтобы избежать необходимости выполнения задач по обслуживанию учетной записи.  
  
1.  Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов, который необходимо настроить.  
  
2.  На странице "Учетная запись выполнения" очистите параметр **Указать учетную запись выполнения**.  
  
3.  Щелкните **Применить**.  
  
 Данные учетной записи удаляются из файла RSReportServer.config.  
  
## <a name="see-also"></a>См. также  
 [Диспетчер конфигурации служб Reporting Services &#40;del&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md)  
  
  

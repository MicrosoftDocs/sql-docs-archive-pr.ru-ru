---
title: Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- no credentials option [Reporting Services]
- security [Reporting Services], unattended report processing
- unattended report processing [Reporting Services]
- credentials [Reporting Services]
- external data sources [Reporting Services]
- accounts [Reporting Services]
- reports [Reporting Services], processing
ms.assetid: 4e50733e-bd8c-4bf6-8379-98b1531bb9ca
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 437b28b57bc304d079acea3123983bed389341ed
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732442"
---
# <a name="configure-the-unattended-execution-account-ssrs-configuration-manager"></a><span data-ttu-id="457f3-102">Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)</span><span class="sxs-lookup"><span data-stu-id="457f3-102">Configure the Unattended Execution Account (SSRS Configuration Manager)</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="457f3-103">предусматривает специальную учетную запись, предназначенную для автоматической обработки отчетов и отправки запросов на соединение по сети.</span><span class="sxs-lookup"><span data-stu-id="457f3-103">provides a special account that is used for unattended report processing and for sending connection requests across the network.</span></span> <span data-ttu-id="457f3-104">Эти учетные записи используются для следующего.</span><span class="sxs-lookup"><span data-stu-id="457f3-104">The account is used in the following ways:</span></span>  
  
-   <span data-ttu-id="457f3-105">Отправки запросов на соединение через сеть для отчетов, использующих проверку подлинности базы данных, либо для соединения с внешними источниками данных отчетов, на которых не требуется проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="457f3-105">Send connection requests over the network for reports that use database authentication, or connect to external report data sources that do not require or use authentication.</span></span> <span data-ttu-id="457f3-106">Дополнительные сведения см. в статье [Задание учетных данных и сведениях о соединении для источников данных отчета](../../integration-services/connection-manager/data-sources.md) в электронной документации SQL Server.</span><span class="sxs-lookup"><span data-stu-id="457f3-106">For more information, see [Specify Credential and Connection Information for Report Data Sources](../../integration-services/connection-manager/data-sources.md) in SQL Server Books Online.</span></span>  
  
-   <span data-ttu-id="457f3-107">Получения внешних файлов изображений, используемых в отчете.</span><span class="sxs-lookup"><span data-stu-id="457f3-107">Retrieve external image files that are used in report.</span></span> <span data-ttu-id="457f3-108">При необходимости использовать файл изображения, доступ к которому невозможно получить анонимно, можно настроить учетную запись для автоматической обработки отчетов и предоставить этой учетной записи разрешение на доступ к файлу.</span><span class="sxs-lookup"><span data-stu-id="457f3-108">If you want to use an image file and the file cannot be accessed through Anonymous access, you can configure the unattended report processing account and grant the account permission to access the file.</span></span>  
  
 <span data-ttu-id="457f3-109">Автоматическая обработка отчетов обозначает любой процесс выполнения отчета, запущенный событием (по расписанию или при обновлении данных), а не по команде пользователя.</span><span class="sxs-lookup"><span data-stu-id="457f3-109">Unattended report processing refers to any report execution process that is triggered by an event (either a schedule-driven event or data refresh event) rather than a user request.</span></span> <span data-ttu-id="457f3-110">Сервер отчетов использует эту учетную запись для входа на компьютер, на котором находится внешний источник данных.</span><span class="sxs-lookup"><span data-stu-id="457f3-110">The report server uses the unattended report processing account to log on to the computer that hosts the external data source.</span></span> <span data-ttu-id="457f3-111">Возникновение необходимости в такой учетной записи обусловлена тем, что учетная запись службы сервера отчетов никогда не используется для соединения с другими компьютерами.</span><span class="sxs-lookup"><span data-stu-id="457f3-111">This account is necessary because the credentials of the Report Server service account are never used to connect to other computers.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="457f3-112">Настройка этой учетной записи необязательна.</span><span class="sxs-lookup"><span data-stu-id="457f3-112">Configuring the account is optional.</span></span> <span data-ttu-id="457f3-113">Однако, если не настроить ее, возможности подключения к некоторым источникам данных будут ограничены, и может оказаться невозможным получение файлов изображений с удаленных компьютеров.</span><span class="sxs-lookup"><span data-stu-id="457f3-113">However, if you do not configure it, you will limit your options for connecting to some data sources, and you might not be able to retrieve image files from remote computers.</span></span> <span data-ttu-id="457f3-114">Настроив учетную запись, необходимо поддерживать ее актуальность.</span><span class="sxs-lookup"><span data-stu-id="457f3-114">If you do configure the account, you must keep it up to date.</span></span> <span data-ttu-id="457f3-115">В частности, если срок действия пароля истечет или если данные учетной записи изменятся в службах каталогов Active Directory, при следующей попытке обработать отчет произойдет ошибка: "Ошибка при входе в систему (rsLogonFailed) Ошибка входа: неизвестное имя пользователя или неправильный пароль".</span><span class="sxs-lookup"><span data-stu-id="457f3-115">Specifically, if you allow a password to expire or the account information is changed in Active Directory, you will encounter the following error the next time a report is processed: "Logon failed (rsLogonFailed) Logon failure: unknown user name or bad password."</span></span> <span data-ttu-id="457f3-116">Правильное обслуживание учетной записи автоматической обработки отчетов очень важно, даже при отсутствии необходимости получения внешних изображений или отправки запросов на подключение к внешним компьютерам.</span><span class="sxs-lookup"><span data-stu-id="457f3-116">Proper maintenance of the unattended report processing account is essential, even if you never retrieve external images or send connection requests to external computers.</span></span> <span data-ttu-id="457f3-117">Если учетная запись была настроена, но впоследствии выяснилось, что она не используется, ее можно удалить, чтобы избежать необходимости выполнения задач по обслуживанию учетной записи.</span><span class="sxs-lookup"><span data-stu-id="457f3-117">If you configure the account but then find that you are not using it, you can delete it to avoid routine account maintenance tasks.</span></span>  
  
## <a name="how-to-configure-the-account"></a><span data-ttu-id="457f3-118">Настройка учетной записи</span><span class="sxs-lookup"><span data-stu-id="457f3-118">How to Configure the Account</span></span>  
 <span data-ttu-id="457f3-119">Должна использоваться учетная запись пользователя домена.</span><span class="sxs-lookup"><span data-stu-id="457f3-119">You must use a domain user account.</span></span> <span data-ttu-id="457f3-120">Чтобы соответствовать своему предназначению, эта учетная запись должна отличаться от той, которая используется для работы служб сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="457f3-120">To serve its intended purpose, this account should be different than the one used to run the Report Server service.</span></span> <span data-ttu-id="457f3-121">Она должна обладать минимально необходимыми разрешениями (для сетевых соединений достаточно доступа только на чтение) и должна быть ограничена доступом только к тем компьютерам, которые представляют источники данных и ресурсы для сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="457f3-121">Be sure to use an account that has minimum permissions (read-only access with network connection permissions is sufficient) and limited access to just those computers that provide data sources and resources to the report server.</span></span> <span data-ttu-id="457f3-122">Дополнительные сведения см. в разделе [Использование диспетчера конфигурации служб Reporting Services (собственный режим)](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).</span><span class="sxs-lookup"><span data-stu-id="457f3-122">For more information, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
 <span data-ttu-id="457f3-123">Указать эту учетную запись можно в средстве настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] или с помощью программы **rsconfig** .</span><span class="sxs-lookup"><span data-stu-id="457f3-123">To specify the account, you can use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool or the **rsconfig** utility.</span></span> <span data-ttu-id="457f3-124">Самый простой способ настроить учетную запись автоматического выполнения — запустить программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и указать учетные данные на странице «Учетная запись выполнения».</span><span class="sxs-lookup"><span data-stu-id="457f3-124">The easiest way to configure the unattended execution account is to run the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool and specify credentials in the Execution Account page.</span></span>  
  
1.  <span data-ttu-id="457f3-125">Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов, который необходимо настроить.</span><span class="sxs-lookup"><span data-stu-id="457f3-125">Start the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool and connect to the report server instance you want to configure.</span></span> <span data-ttu-id="457f3-126">Дополнительные сведения см. в разделе [Использование диспетчера конфигурации служб Reporting Services (собственный режим)](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).</span><span class="sxs-lookup"><span data-stu-id="457f3-126">For instructions, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
2.  <span data-ttu-id="457f3-127">На странице "Учетная запись выполнения" выберите **Указать учетную запись выполнения**.</span><span class="sxs-lookup"><span data-stu-id="457f3-127">On the Execution Account page, select **Specify an execution account**.</span></span>  
  
3.  <span data-ttu-id="457f3-128">Введите учетное имя и пароль, еще раз пароль, а затем нажмите **Применить**.</span><span class="sxs-lookup"><span data-stu-id="457f3-128">Type the account and password, retype the password, and then click **Apply**.</span></span>  
  
### <a name="using-rsconfig-utility"></a><span data-ttu-id="457f3-129">Использование программы RSCONFIG</span><span class="sxs-lookup"><span data-stu-id="457f3-129">Using RSCONFIG Utility</span></span>  
 <span data-ttu-id="457f3-130">Другой способ настройки учетной записи — с помощью программы **rsconfig** .</span><span class="sxs-lookup"><span data-stu-id="457f3-130">Another way to set the account is to use the **rsconfig** utility.</span></span> <span data-ttu-id="457f3-131">Чтобы задать учетную запись, укажите аргумент **-e** в программе **rsconfig**.</span><span class="sxs-lookup"><span data-stu-id="457f3-131">To specify the account, use the **-e** argument of **rsconfig**.</span></span> <span data-ttu-id="457f3-132">Аргумент **-e** заставляет программу **rsconfig** сохранять сведения об учетной записи в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="457f3-132">Specifying the **-e** argument for **rsconfig** directs the utility to write the account information to the configuration file.</span></span> <span data-ttu-id="457f3-133">Путь к файлу RSreportserver.config указывать не нужно. Для настройки учетной записи выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="457f3-133">You do not need to specify a path to RSreportserver.config. Follow these steps to configure the account.</span></span>  
  
1.  <span data-ttu-id="457f3-134">Создайте или выберите учетную запись домена, имеющую доступ к компьютерам и серверам, поставляющим данные или службы серверу отчетов.</span><span class="sxs-lookup"><span data-stu-id="457f3-134">Create or select a domain account that has access to computers and servers that provide data or services to a report server.</span></span> <span data-ttu-id="457f3-135">Следует использовать учетную запись с ограниченными разрешениями (например, только для чтения).</span><span class="sxs-lookup"><span data-stu-id="457f3-135">You should use an account that has reduced permissions (for example, read-only permissions).</span></span>  
  
2.  <span data-ttu-id="457f3-136">Откройте командную строку: в меню **Пуск** выберите пункт **Выполнить**, введите **cmd**и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="457f3-136">Open a command prompt: On the **Start** menu, click **Run**, type **cmd**, and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="457f3-137">Введите следующую команду для настройки учетной записи в локальном экземпляре сервера отчетов:</span><span class="sxs-lookup"><span data-stu-id="457f3-137">Type the following command to configure the account on a local report server instance:</span></span>  
  
     <span data-ttu-id="457f3-138">**rsconfig-e-u \<domain/username> -p\<password>**</span><span class="sxs-lookup"><span data-stu-id="457f3-138">**rsconfig -e -u\<domain/username> -p\<password>**</span></span>  
  
 <span data-ttu-id="457f3-139">Команда**rsconfig -e** поддерживает дополнительные аргументы.</span><span class="sxs-lookup"><span data-stu-id="457f3-139">**rsconfig -e** supports additional arguments.</span></span> <span data-ttu-id="457f3-140">Дополнительные сведения о синтаксисе и примеры команд см. в статье [Программа rsconfig (SSRS)](../tools/rsconfig-utility-ssrs.md) электронной документации по SQL Server.</span><span class="sxs-lookup"><span data-stu-id="457f3-140">For more information about syntax and to view command examples, see [rsconfig Utility &#40;SSRS&#41;](../tools/rsconfig-utility-ssrs.md) in SQL Server Books Online.</span></span>  
  
### <a name="how-account-information-is-stored"></a><span data-ttu-id="457f3-141">Хранение данных учетной записи</span><span class="sxs-lookup"><span data-stu-id="457f3-141">How Account Information is Stored</span></span>  
 <span data-ttu-id="457f3-142">При настройке учетной записи следующие параметры в файле RSreportserver.config на локальном или удаленном экземпляре сервера отчетов сохраняются в виде зашифрованных значений:</span><span class="sxs-lookup"><span data-stu-id="457f3-142">When you set the account, the following settings are specified as encrypted values in the RSreportserver.config file on a local or remote report server instance:</span></span>  
  
```  
<UnattendedExecutionAccount>  
     <UserName></UserName>  
     <Password></Password>  
     <Domain></Domain>  
</UnattendedExecutionAccount>  
```  
  
 <span data-ttu-id="457f3-143">и после сохранения их невозможно будет расшифровать и просмотреть в виде обычного текста.</span><span class="sxs-lookup"><span data-stu-id="457f3-143">Once you set the values, you cannot decrypt them to view the values in plain text.</span></span> <span data-ttu-id="457f3-144">Если вы ошиблись при вводе или забыли введенные значения, снова запустите средство настройки служб Reporting Services или выполните команду **rsconfig -e** .</span><span class="sxs-lookup"><span data-stu-id="457f3-144">If you mistype the values or forget the values you specified, you must use the Reporting Services Configuration tool or run **rsconfig -e** to start over.</span></span>  
  
## <a name="how-to-use-the-unattended-report-processing-account"></a><span data-ttu-id="457f3-145">Использование учетной записи автоматической обработки отчетов</span><span class="sxs-lookup"><span data-stu-id="457f3-145">How to Use the Unattended Report Processing Account</span></span>  
 <span data-ttu-id="457f3-146">При получении файлов изображений сервер отчетов использует эту учетную запись автоматически, действие пользователя не требуется.</span><span class="sxs-lookup"><span data-stu-id="457f3-146">To retrieve image files, the report server uses the account automatically and no specific action is required on your part.</span></span> <span data-ttu-id="457f3-147">Для соединения учетной записи с внешними источниками данных, которые поставляют данные для отчетов, необходимо задать параметр **Тип учетных данных** на странице свойств источника данных отчета или общего источника данных:</span><span class="sxs-lookup"><span data-stu-id="457f3-147">To use the account to connect to external data sources that provide data to reports, you must specify a **Credential Type** option in the data source properties page of the report data source or shared data source:</span></span>  
  
-   <span data-ttu-id="457f3-148">В диспетчер отчетов или на сайте SharePoint выберите параметр **учетные данные не требуются** .</span><span class="sxs-lookup"><span data-stu-id="457f3-148">In Report Manager or on a SharePoint site, select the **Credentials are not required** option.</span></span>  
  
 <span data-ttu-id="457f3-149">Учетная запись автоматической обработки отчетов используется главным образом не для входа на сервер базы данных, а для соединения с внешними серверами.</span><span class="sxs-lookup"><span data-stu-id="457f3-149">The unattended report processing account is used primarily to connect to external servers, and not as a login to database servers.</span></span> <span data-ttu-id="457f3-150">Если для входа в базу данных необходимы учетные данные, то их нужно указать в строке соединения.</span><span class="sxs-lookup"><span data-stu-id="457f3-150">If you want to use the account credentials to log in to a database, you must specify credentials in the connection string.</span></span> <span data-ttu-id="457f3-151">Если сервер базы данных поддерживает встроенную безопасность Windows, а учетная запись, используемая для автоматической обработки отчетов, обладает разрешением на чтение базы данных, то можно указать в строке соединения **Integrated Security=SSPI** .</span><span class="sxs-lookup"><span data-stu-id="457f3-151">You can specify **Integrated Security=SSPI** if the database server supports Windows integrated security and the account used for unattended report processing has permission to read the database.</span></span> <span data-ttu-id="457f3-152">В противном случае имя пользователя и пароль придется ввести в строку соединения, где они будут прекрасно видны всем пользователям, имеющим разрешение на изменение свойств соединения с источником данных.</span><span class="sxs-lookup"><span data-stu-id="457f3-152">Otherwise, you must enter the user name and password in the connection string, where it appears in clear text to any user who has permission to edit data source connection properties.</span></span>  
  
 <span data-ttu-id="457f3-153">Хотя возможность использовать учетную запись автоматической обработки отчетов для получения данных после установки соединения существует, делать это не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="457f3-153">Although you are not prevented from using the unattended report processing account to retrieve data after the connection is made, doing so is not recommended.</span></span> <span data-ttu-id="457f3-154">Эта учетная запись предназначена для выполнения очень специфических функций.</span><span class="sxs-lookup"><span data-stu-id="457f3-154">The account is supposed to be used for very specific functions.</span></span> <span data-ttu-id="457f3-155">Использование ее для получения данных идет в разрез с целями, для которых она была создана.</span><span class="sxs-lookup"><span data-stu-id="457f3-155">If you use it to retrieve data, you undermine the purpose for which it is intended.</span></span>  
  
## <a name="how-to-maintain-the-unattended-report-processing-account"></a><span data-ttu-id="457f3-156">Поддержка учетной записи автоматической обработки отчетов</span><span class="sxs-lookup"><span data-stu-id="457f3-156">How to Maintain the Unattended Report Processing Account</span></span>  
 <span data-ttu-id="457f3-157">Определив учетную запись, убедитесь, что обеспечена актуальность учетной записи и пароля.</span><span class="sxs-lookup"><span data-stu-id="457f3-157">Once you define the account, you must ensure that the account and password are kept up to date.</span></span> <span data-ttu-id="457f3-158">Обновить параметры конфигурации для этой учетной записи можно в программе настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="457f3-158">You can use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to update the configuration settings that store information about this account.</span></span>  
  
1.  <span data-ttu-id="457f3-159">Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов, который необходимо настроить.</span><span class="sxs-lookup"><span data-stu-id="457f3-159">Start the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool and connect to the report server instance you want to configure.</span></span>  
  
2.  <span data-ttu-id="457f3-160">На странице "Учетная запись выполнения" убедитесь в том, что параметр **Указать учетную запись выполнения** выбран.</span><span class="sxs-lookup"><span data-stu-id="457f3-160">On the Execution Account page, verify that **Specify an execution account** is selected.</span></span>  
  
3.  <span data-ttu-id="457f3-161">Введите новую учетную запись или пароль, еще раз введите пароль, а затем нажмите кнопку **Применить**.</span><span class="sxs-lookup"><span data-stu-id="457f3-161">Type the new account or password, retype the password, and then click **Apply**.</span></span>  
  
## <a name="how-to-delete-the-unattended-report-processing-account"></a><span data-ttu-id="457f3-162">Удаление учетной записи автоматической обработки отчетов</span><span class="sxs-lookup"><span data-stu-id="457f3-162">How to Delete the Unattended Report Processing Account</span></span>  
 <span data-ttu-id="457f3-163">Если учетная запись не используется, ее можно удалить, чтобы избежать необходимости выполнения задач по обслуживанию учетной записи.</span><span class="sxs-lookup"><span data-stu-id="457f3-163">If you are not using the account, you can delete it to avoid routine account maintenance tasks.</span></span>  
  
1.  <span data-ttu-id="457f3-164">Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов, который необходимо настроить.</span><span class="sxs-lookup"><span data-stu-id="457f3-164">Start the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool and connect to the report server instance you want to configure.</span></span>  
  
2.  <span data-ttu-id="457f3-165">На странице "Учетная запись выполнения" очистите параметр **Указать учетную запись выполнения**.</span><span class="sxs-lookup"><span data-stu-id="457f3-165">On the Execution Account page, clear **Specify an execution account**.</span></span>  
  
3.  <span data-ttu-id="457f3-166">Щелкните **Применить**.</span><span class="sxs-lookup"><span data-stu-id="457f3-166">Click **Apply**.</span></span>  
  
 <span data-ttu-id="457f3-167">Данные учетной записи удаляются из файла RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="457f3-167">The account information is removed from the RSReportServer.config file.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="457f3-168">См. также</span><span class="sxs-lookup"><span data-stu-id="457f3-168">See Also</span></span>  
 [<span data-ttu-id="457f3-169">Диспетчер конфигурации служб Reporting Services &#40;del&#41;</span><span class="sxs-lookup"><span data-stu-id="457f3-169">Reporting Services Configuration Manager &#40;del&#41;</span></span>](../../sql-server/install/reporting-services-configuration-manager-native-mode.md)  
  
  

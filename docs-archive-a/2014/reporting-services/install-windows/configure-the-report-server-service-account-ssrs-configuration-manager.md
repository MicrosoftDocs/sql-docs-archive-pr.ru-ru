---
title: Настройка учетной записи службы сервера отчетов (диспетчер конфигураций служб SSRS) | Документы Майкрософт
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.reviewer: ''
ms.prod: sql-server-2014
ms.technology: ''
ms.topic: conceptual
ms.custom: seodec18
ms.date: 12/10/2018
ms.openlocfilehash: b860a9c916f7dd9c1bdef4f5218845c66239ebe2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87729118"
---
# <a name="configure-the-report-server-service-account-ssrs-configuration-manager"></a>Настройка учетной записи службы сервера отчетов (диспетчер конфигурации служб SSRS)

  Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] реализованы в виде единой службы, состоящей из веб-службы сервера отчетов, диспетчера отчетов и приложения фоновой обработки, которое предназначено для запланированной обработки отчетов и доставки подписки. В этом разделе описан процесс начальной настройки учетной записи службы, а также изменения учетной записи или пароля при помощи программы настройки служб Reporting Services.  
  
## <a name="initial-configuration"></a>Первоначальная конфигурация

 Задание учетной записи службы сервера отчетов производится во время установки. Служба может быть запущена как от учетной записи пользователя домена, так и от встроенной учетной записи вроде `NetworkService`. Учетная запись по умолчанию отсутствует; Любая учетная запись, указанная на странице [Настройка сервера — учетные записи служб](../../sql-server/install/server-configuration-service-accounts.md) мастера установки, станет начальной учетной записью службы сервера отчетов.  
  
> [!IMPORTANT]
> Хотя веб-служба сервера отчетов и диспетчер отчетов являются приложениями [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)], они выполняются не от имени учетной записи [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)]. Единая архитектура служб производит запуск обоих приложений ASP.NET с удостоверением процесса сервера отчетов. В этом заключается важное отличие от предыдущих версий, где и веб-служба сервера отчетов, и диспетчер отчетов запускались с удостоверением рабочего процесса [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)], заданного для служб IIS.
  
## <a name="changing-the-service-account"></a>Смена учетной записи службы

 Для просмотра и изменения реквизитов учетной записи службы всегда используйте программу настройки [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]. Сведения об удостоверении службы внутренне сохраняется в нескольких разных местах. Использование этого средства гарантирует, что при смене учетной записи или пароля все необходимые ссылки будут соответствующим образом обновлены. Программа настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] для обеспечения доступности сервера отчетов выполняет следующие дополнительные шаги.  
  
- Автоматически добавляет новую учетную запись к группе сервера отчетов, созданной на локальном компьютере. Эта группа указывается в списках управления доступом (ACL), которые обеспечивают защиту файлов служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .  
  
- Автоматически обновляет разрешения на вход в экземпляр компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)], на котором размещена база данных сервера отчетов. Новая учетная запись будет добавлена к роли **RSExecRole**.  
  
     Старое имя входа в базе данных автоматически не удаляется. Не забывайте удалять учетные записи, которые больше не используются. Дополнительные сведения см. в статье [Администрирование базы данных сервера отчетов (службы Reporting Services в собственном режиме)](../report-server/report-server-database-ssrs-native-mode.md) в электронной документации по SQL Server.  
  
     Предоставление новой учетной записи службы разрешений производится только в момент первой настройки подключения к базе данных сервера отчетов. Если подключение к базе данных сервера отчетов настроено на использование учетной записи пользователя домена или учетной записи базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , то на эти настройки обновление учетной записи службы не влияет.  
  
- Автоматически обновляет ключ шифрования, добавляя в него сведения о профиле новой учетной записи.  
  
    > [!NOTE]  
    > Если сервер отчетов является частью масштабного развертывания, то изменяется только обновляемый сервер отчетов. При изменении учетной записи сервера ключи шифрования для других серверов отчетов в развертывании не изменяются.  
  
 Инструкции по настройке учетной записи см. в статье [Настройка учетной записи службы &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).  
  
## <a name="choosing-an-account"></a>Выбор учетной записи

 Служба сервера отчетов может быть настроена для запуска от следующих типов учетных записей:  
  
- учетная запись пользователя Windows с наименьшими правами доступа;  
  
- сетевая служба;  
  
- локальная система;  
  
- локальная служба.  
  
 Не существует единственно верного подхода к выбору типа учетной записи. Каждый тип учетной записи обладает преимуществами и недостатками, которые необходимо принимать во внимание. При развертывании служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] на рабочем сервере рекомендуется настраивать службу для запуска от имени учетной записи пользователя домена, что позволит снизить ущерб при возможной компрометации общей учетной записи. Это также упрощает аудит входа пользователей под этой учетной записью. Минус в использовании учетной записи пользователя Windows заключается в том, что при развертывании служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в сети, где используется проверка подлинности по протоколу Kerberos, службу необходимо будет регистрировать под учетной записью пользователя. Дополнительные сведения см. в статье [Регистрация имени субъекта-службы (SPN) для сервера отчетов](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).  
  
 Следующие правила и ссылки в этом разделе помогут выбрать наилучший подход при развертывании.  
  
- [Учетная запись службы &#40;&#41;служб SSRS в собственном режиме ](../../sql-server/install/service-account-ssrs-native-mode.md).  
  
- [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) в электронной документации по SQL Server.  
  
- [Руководство по планированию безопасности учетных записей и служб](http://usergroup.doubletake.com/file_cabinet/download/0x000021733).  
  
## <a name="updating-an-expired-password"></a>Обновление пароля с истекшим сроком действия

 Если служба сервера отчетов запущена от имени учетной записи домена и срок действия пароля истек до его обновления в программе настройки служб Reporting Services, служба не будет запускаться до тех пор, пока не будет задан новый пароль. Если служба не запускается, то программа настройки служб Reporting Services не сможет подключиться к серверу для обновления учетной записи. В этом случае необходимо при помощи сочетаний средств вернуть сервер в режим «в сети».  
  
 Чтобы сбросить пароль, выполните следующие действия.  
  
1. В меню **Пуск** наведите указатель на пункт **Панель управления**, выберите пункт **Администрирование**и щелкните **службы**.  
  
2. Щелкните правой кнопкой мыши **SQL Server Reporting Services**, выберите пункт **свойства**.  
  
3. Щелкните **Вход**и введите новый пароль.  
  
4. После обновления пароля запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и обновите пароль на странице «Учетная запись службы». Этот дополнительный шаг необходим для обновления сведений об учетной записи, которая хранится внутри сервера отчетов.  
  
 Если срок действия пароля учетной записи службы для компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] истек, то при попытке подключиться к серверу отчетов возникает ошибка `rsReportServerDatabaseUnavailable`. Эта ошибка устраняется с помощью сброса пароля.  
  
## <a name="configuring-the-report-server-service-for-a-sharepoint-integrated-report-server"></a>Настройка службы сервера отчетов для сервера отчетов в режиме интеграции с SharePoint

 Если сервер отчетов работает в режиме интеграции с SharePoint, необходимо обновлять хранящиеся в базе данных конфигурации узла SharePoint данные учетной записи службы при выполнении следующих условий.  
  
- Изменение учетной записи службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] (например, переключение с NetworkService на учетную запись пользователя домена).  
  
- Расширение фермы SharePoint при добавлении веб-приложения SharePoint. Если ферма серверов настроена для интеграции с сервером отчетов, а вновь добавляемое приложение настроено для запуска не от имени учетной записи, которой пользуются все остальные приложения фермы, необходимо обновить данные для доступа к базе данных.  
  
 После изменения данных для доступа к базе данных необходимо перезапустить службу [!INCLUDE[winSPServ](../../includes/winspserv-md.md)], чтобы убедиться, что старое соединение больше не используется.  
  
1. В меню **Администрирование**выберите пункт **центр администрирования SharePoint 2010**.  
  
2. Щелкните **Управление приложениями**.  
  
3. В разделе Reporting Services щелкните **предоставить доступ к базе данных**.  
  
4. Нажмите кнопку **ОК**. Откроется диалоговое окно «Ввод учетных данных».  
  
5. Введите учетные данные пользователя, являющегося членом локальной группы администраторов компьютера, на котором установлен сервер отчетов. Эти учетные данные будут использоваться только один раз, чтобы соединиться с компьютером сервера отчетов и получить информацию по учетным записям служб. В базах данных SharePoint будут обновлены имена входа базы данных, созданные для каждой учетной записи службы.  
  
6. Чтобы перезапустить службу, нажмите кнопку **операции**.  
  
7. В топологии и службах щелкните **службы на сервере**.  
  
8. Для веб-приложения Windows SharePoint Services нажмите кнопку " **Закрыть**".  
  
9. Дождитесь, когда служба остановится.  
  
10. Щелкните **Запуск**.  
  
> [!NOTE]  
> Для настройки служб, например, режима интеграции SharePoint со службами отчетов, продуктам и технологиям SharePoint требуется учетные записи домена.  
  
## <a name="next-steps"></a>Next Steps

 [Настройка учетной записи службы &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md) [учетная запись службы &#40;служб SSRS в собственном режиме&#41;](../../sql-server/install/service-account-ssrs-native-mode.md) [Настройка url-адресов сервера отчетов &#40;SSRS Configuration Manager&#41;](configure-report-server-urls-ssrs-configuration-manager.md) Диспетчер конфигурации служб Reporting Services [&#40;в основном режиме&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md)

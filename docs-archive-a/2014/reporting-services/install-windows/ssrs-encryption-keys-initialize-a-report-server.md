---
title: Инициализация сервера отчетов (диспетчер конфигурации служб SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- report servers [Reporting Services], initializing
- initialization process [Reporting Services]
- checking report server initializations
- scale-out deployments [Reporting Services]
- initializing report servers [Reporting Services]
- verifying report server initializations
ms.assetid: 861d4ec4-1085-412c-9a82-68869a77bd55
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 66fa70c29d718e040b6423afcfdff28721753690
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751835"
---
# <a name="initialize-a-report-server-ssrs-configuration-manager"></a>Инициализация сервера отчетов (диспетчер конфигурации служб SSRS)
  В службах [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]инициализированный сервер — это сервер, способный шифровать и дешифровать данные в базе данных сервера отчетов. Инициализация является необходимым условием функционирования сервера отчетов. Инициализация происходит, когда служба сервера отчетов запускается впервые. Она также происходит, когда сервер отчетов соединяется с уже развернутой системой или когда вручную повторно создаются ключи как часть процесса восстановления. Дополнительные сведения о том, как и почему использовать ключи шифрования, см. в разделах [Настройка ключей шифрования и управление ими (диспетчер конфигурации служб SSRS)](ssrs-encryption-keys-manage-encryption-keys.md) и [Хранение зашифрованных данных сервера отчетов (диспетчер конфигурации служб SSRS)](ssrs-encryption-keys-store-encrypted-report-server-data.md).  
  
 Ключи шифрования частично основываются на данных профиля в службе сервера отчетов. Если изменяется удостоверение пользователя, которое применяется для запуска службы сервера отчетов, необходимо соответствующим образом обновить ключи. Если используется программа настройки служб Reporting Services для изменения удостоверения пользователя, этот шаг выполняется автоматически.  
  
 Если инициализация по какой-либо причине прошла неудачно, сервер отчетов возвращает ошибку `RSReportServerNotActivated` в ответ на запросы пользователя и службы. В такой ситуации, вероятно, потребуется произвести диагностику и устранение неисправностей в системе или конфигурации сервера. Дополнительные сведения см. в руководстве по [устранению неполадок со службами Reporting Services](https://social.technet.microsoft.com/wiki/contents/articles/1633.aspx) (https://social.technet.microsoft.com/wiki/contents/articles/1633.aspx) вики-статья Technet.  
  
## <a name="overview-of-the-initialization-process"></a>Общие сведения о процессе инициализации  
 Процесс инициализации создает и хранит симметричный ключ, используемый для шифрования. Симметричный ключ создается службами криптографии [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows и впоследствии используется службой сервера отчетов для шифрования и дешифрования данных. Сам симметричный ключ зашифрован при помощи асимметричного ключа.  
  
 Ниже описаны этапы инициализации.  
  
1.  При первоначальном запуске служба сервера отчетов считывает файл конфигурации RSReportServer.config, чтобы получить идентификатор установки и сведения для подключения к базе данных.  
  
2.  Служба сервера отчетов запрашивает открытый ключ у служб криптографии. Windows создает секретный и открытый ключ и отсылает открытый ключ службе сервера отчетов.  
  
3.  Служба сервера отчетов соединяется с базой данных сервера отчетов и сохраняет значения идентификатора установки и открытого ключа.  
  
4.  Служба сервера отчетов снова вызывает службы криптографии, на этот раз запрашивая симметричный ключ. Windows создает симметричный ключ.  
  
5.  Служба сервера отчетов соединяется с базой данных сервера отчетов и добавляет симметричный ключ к открытому ключу и значениям идентификатора установки, которые были сохранены на шаге 3. Перед сохранением служба сервера отчетов использует открытый ключ для шифрования симметричного ключа. С момента сохранения симметричного ключа сервер отчетов считается инициализированным и доступным для использования.  
  
## <a name="initializing-a-report-server-for-scale-out-deployment"></a>Инициализация сервера отчетов для масштабного развертывания  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] поддерживает модель масштабного развертывания, которая опирается на совместное использование одной базы данных сервера отчетов несколькими экземплярами сервера отчетов. Чтобы присоединиться к масштабному развертыванию, сервер отчетов должен создать и сохранить свою копию симметричного ключа в общей базе данных. Хотя все серверы, использующие эту базу данных, пользуются единственным симметричным ключом, каждый сервер отчетов имеет собственную копию этого ключа. Каждая копия отличается от других тем, что она уникальным образом зашифрована при помощи открытого ключа своего владельца.  
  
 Первая группа этапов инициализации сервера отчетов для масштабного развертывания идентична первым трем этапам инициализации сочетания одиночного сервера и базы данных.  
  
 Процесс инициализации для горизонтального увеличения масшаба развертывания отличается тем, как сервер отчетов получает симметричный ключ. Когда первый сервер проходит инициализацию, он получает симметричный ключ от Windows. Когда второй сервер проходит инициализацию в процессе настройки масштабного развертывания, он получает симметричный ключ от службы сервера отчетов, которая уже инициализирована. Первый экземпляр сервера отчетов использует открытый ключ второго экземпляра, чтобы создать зашифрованную копию симметричного ключа для второго экземпляра сервера отчетов. Симметричный ключ не отображается как простой текст ни на одном этапе этого процесса.  
  
## <a name="how-to-initialize-a-report-server"></a>Как инициализировать сервер отчетов  
  
-   Чтобы инициализировать сервер отчетов, используйте программу настройки служб Reporting Services. Инициализация происходит автоматически, когда создается и настраивается база данных сервера отчетов. Дополнительные сведения см. в разделе [Настройка подключения к базе данных сервера отчетов (диспетчер конфигураций служб Reporting Services)](../../sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md).  
  
-   Чтобы инициализировать сервер отчетов для масштабного развертывания, можно использовать страницу "Инициализация" в программе настройки служб Reporting Services или программу **RSKeymgmt** . Дополнительные сведения и пошаговые инструкции см. в разделе [Настройка масштабного развертывания сервера отчетов в собственном режиме (диспетчер конфигурации служб SSRS)](configure-a-native-mode-report-server-scale-out-deployment.md).  
  
> [!NOTE]  
>  **RSKeymgmt** — это консольное приложение, запускаемое из командной строки компьютера, на котором установлен экземпляр сервера отчетов, уже являющийся частью масштабного развертывания. При запуске этой программы указываются аргументы для выбора удаленного экземпляра сервера отчетов, который необходимо инициализировать.  
  
 Сервер отчетов будет инициализирован только в случае соответствия идентификатора установки и открытого ключа. Если соответствие установлено, создается симметричный ключ, позволяющий производить обратимое шифрование. Если соответствие не установлено, сервер отчетов отключается, и в этом случае, вероятно, придется применить резервную копию ключа либо удалить зашифрованные данные, если резервная копия ключа недоступна или недействительна. Дополнительные сведения о ключах шифрования, используемых сервером отчетов, см. в разделе [Настройка ключей шифрования и управление ими (диспетчер конфигурации служб SSRS)](ssrs-encryption-keys-manage-encryption-keys.md).  
  
> [!NOTE]  
>  Можно также воспользоваться поставщиком инструментария управления Windows (WMI) для служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , чтобы программными средствами инициализировать сервер отчетов. Дополнительные сведения об этом подходе см. в статье [Доступ к поставщику WMI для служб Reporting Services](../tools/access-the-reporting-services-wmi-provider.md) в электронной документации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="how-to-confirm-a-report-server-initialization"></a>Как подтвердить инициализацию сервера отчетов  
 Чтобы подтвердить инициализацию сервера отчетов, проверьте связь с веб-службой сервера отчетов, введя **http:// \<servername> /ReportServer** в командном окне. Если получена ошибка `RSReportServerNotActivated`, инициализация прошла неудачно.  
  
## <a name="see-also"></a>См. также:  
 [Хранение зашифрованных данных сервера отчетов &#40;диспетчер конфигурации служб SSRS&#41;](ssrs-encryption-keys-store-encrypted-report-server-data.md)  
  
  

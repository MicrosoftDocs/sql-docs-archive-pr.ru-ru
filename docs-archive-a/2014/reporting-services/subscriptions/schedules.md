---
title: Расписания | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- schedules [Reporting Services]
- schedules [Reporting Services], about schedules
- published reports [Reporting Services], schedules
- reports [Reporting Services], scheduling
- subscriptions [Reporting Services], scheduling
- automatic report processing
ms.assetid: ecccd16b-eba9-4e95-b55d-f15c621e003f
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 99bcfbf6559c0f3b59bede54eae6224b4973797b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87739131"
---
# <a name="schedules"></a><span data-ttu-id="09811-102">Расписания</span><span class="sxs-lookup"><span data-stu-id="09811-102">Schedules</span></span>
  <span data-ttu-id="09811-103">Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] предоставляют общие расписания и расписания отчетов, что позволяет управлять обработкой и распространением отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-103">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] provides shared schedules and report-specific schedules to help you control processing and distribution of reports.</span></span> <span data-ttu-id="09811-104">Различие между двумя типами расписаний состоит в том, как они определяются, хранятся и управляются.</span><span class="sxs-lookup"><span data-stu-id="09811-104">The difference between the two types of schedules is how they are defined, stored, and managed.</span></span> <span data-ttu-id="09811-105">Внутреннее строение обоих типов расписаний одинаково.</span><span class="sxs-lookup"><span data-stu-id="09811-105">The internal construction of the two types of schedules is the same.</span></span> <span data-ttu-id="09811-106">В каждом расписании указывается тип повторения: ежемесячно, еженедельно или ежедневно.</span><span class="sxs-lookup"><span data-stu-id="09811-106">All schedules specify a type of recurrence: monthly, weekly, or daily.</span></span> <span data-ttu-id="09811-107">В пределах одного типа повторений можно указать интервалы и диапазон, определяющий частоту повторения события.</span><span class="sxs-lookup"><span data-stu-id="09811-107">Within the recurrence type, you set the intervals and range for how often an event is to occur.</span></span> <span data-ttu-id="09811-108">Шаблон типа повторения и способ его задания одинаков при создании как общих расписаний, так и расписаний для отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-108">The type of recurrence pattern and how those patterns are specified is the same whether you create a shared schedule or a report-specific schedule.</span></span>  
  
 <span data-ttu-id="09811-109">В этом разделе:</span><span class="sxs-lookup"><span data-stu-id="09811-109">In this topic:</span></span>  
  
-   [<span data-ttu-id="09811-110">Что можно делать с расписаниями</span><span class="sxs-lookup"><span data-stu-id="09811-110">What you can do with Schedules</span></span>](#bkmk_whatyoucando)  
  
-   [<span data-ttu-id="09811-111">Сравнение общих расписаний и графиков, относящихся к отчетам</span><span class="sxs-lookup"><span data-stu-id="09811-111">Comparing Shared and Report-Specific Schedules</span></span>](#bkmk_compare)  
  
-   [<span data-ttu-id="09811-112">Настройка источников данных</span><span class="sxs-lookup"><span data-stu-id="09811-112">Configure the Data Sources</span></span>](#bkmk_configuredatasources)  
  
-   [<span data-ttu-id="09811-113">Хранение учетных данных и обработка учетных записей</span><span class="sxs-lookup"><span data-stu-id="09811-113">Store Credentials and Processing accounts</span></span>](#bkmk_credentials)  
  
-   [<span data-ttu-id="09811-114">Как работает обработка планирования и доставки</span><span class="sxs-lookup"><span data-stu-id="09811-114">How Scheduling and Delivery Processing Works</span></span>](#bkmk_how_scheduling_works)  
  
-   [<span data-ttu-id="09811-115">Зависимости сервера</span><span class="sxs-lookup"><span data-stu-id="09811-115">Server Dependencies</span></span>](#bkmk_serverdependencies)  
  
-   [<span data-ttu-id="09811-116">Последствия остановки агент SQL Server</span><span class="sxs-lookup"><span data-stu-id="09811-116">Effects of Stopping the SQL Server Agent</span></span>](#bkmk_stoppingagent)  
  
-   [<span data-ttu-id="09811-117">Последствия остановки службы сервера отчетов</span><span class="sxs-lookup"><span data-stu-id="09811-117">Effects of Stopping the Report Server Service</span></span>](#bkmk_stoppingservice)  
  
  
##  <a name="what-you-can-do-with-schedules"></a><a name="bkmk_whatyoucando"></a> <span data-ttu-id="09811-118">Возможные действия с расписаниями</span><span class="sxs-lookup"><span data-stu-id="09811-118">What you can do with Schedules</span></span>  
 <span data-ttu-id="09811-119">С помощью диспетчера отчетов в собственном режиме и страниц администрирования сайта SharePoint в режиме интеграции с SharePoint можно создавать расписания и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="09811-119">You can use Report Manager in Native mode and SharePoint site administration pages in SharePoint mode to create and manage your schedules.</span></span> <span data-ttu-id="09811-120">Вы можете:</span><span class="sxs-lookup"><span data-stu-id="09811-120">You can:</span></span>  
  
-   <span data-ttu-id="09811-121">запланировать доставку отчета в стандартной или управляемой данными подписке;</span><span class="sxs-lookup"><span data-stu-id="09811-121">Schedule report delivery in a standard or data-driven subscription.</span></span>  
  
-   <span data-ttu-id="09811-122">запланировать создание журнала отчета так, что новые моментальные снимки будут добавляться к журналу отчета через регулярные промежутки времени;</span><span class="sxs-lookup"><span data-stu-id="09811-122">Schedule report history so that new snapshots are added to report history at regular intervals.</span></span>  
  
-   <span data-ttu-id="09811-123">запланировать время обновления данных о моментальном снимке отчета;</span><span class="sxs-lookup"><span data-stu-id="09811-123">Schedule when to refresh the data of a report snapshot.</span></span>  
  
-   <span data-ttu-id="09811-124">запланировать время обновления данных общего набора данных;</span><span class="sxs-lookup"><span data-stu-id="09811-124">Schedule when to refresh the data of a shared dataset</span></span>  
  
-   <span data-ttu-id="09811-125">запланировать истечение срока действия кэшированного отчета или общего набора данных в стандартное время, чтобы впоследствии его можно было обновить.</span><span class="sxs-lookup"><span data-stu-id="09811-125">Schedule the expiration of a cached report or shared dataset to occur at a predefined time so that it can be subsequently refreshed.</span></span>  
  
 <span data-ttu-id="09811-126">Можно создать общее расписание, если желательно использовать одни и те же данные расписания для нескольких отчетов или подписок.</span><span class="sxs-lookup"><span data-stu-id="09811-126">You can create a shared schedule if you want to use the same schedule information for many reports or subscriptions.</span></span> <span data-ttu-id="09811-127">Общие расписания определяются по отдельности, после чего ссылки на них добавляются в отчеты, общие наборы данных и подписки, которым требуются сведения о расписании.</span><span class="sxs-lookup"><span data-stu-id="09811-127">Shared schedules are defined separately, and then referenced in reports, shared datasets, and subscriptions that need schedule information.</span></span>  
  
 <span data-ttu-id="09811-128">При создании расписания отчет сохраняет информацию в базе данных сервера отчетов или в режиме интеграции с SharePoint в базе данных приложения службы.</span><span class="sxs-lookup"><span data-stu-id="09811-128">When you create a schedule, the report saves the schedule information in the report server database or for SharePoint mode, the service application database.</span></span> <span data-ttu-id="09811-129">Сервер отчетов также создает задание агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которое используется для запуска расписания.</span><span class="sxs-lookup"><span data-stu-id="09811-129">The report server also creates a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job that is used to trigger the schedule.</span></span> <span data-ttu-id="09811-130">Расписания обрабатываются на основе местного времени сервера отчетов, на котором они содержатся.</span><span class="sxs-lookup"><span data-stu-id="09811-130">Schedule processing is based on the local time of the report server that contains the schedule.</span></span> <span data-ttu-id="09811-131">Формат времени соответствует стандарту операционной системы [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="09811-131">The time format follows the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows operating system standard.</span></span>  
  
 <span data-ttu-id="09811-132">Подробные сведения о том, как создавать расписания и управлять ими, см. в разделе [Create, Modify, and Delete Schedules](create-modify-and-delete-schedules.md).</span><span class="sxs-lookup"><span data-stu-id="09811-132">For details on how to create and manage schedules, see [Create, Modify, and Delete Schedules](create-modify-and-delete-schedules.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="09811-133">Операции планирования доступны не во всех выпусках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09811-133">Schedule operations are not available in every edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="09811-134">Список функций, поддерживаемых различными выпусками [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , см. [в разделе функции, поддерживаемые различными выпусками SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473) ( https://go.microsoft.com/fwlink/?linkid=232473) .</span><span class="sxs-lookup"><span data-stu-id="09811-134">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473) (https://go.microsoft.com/fwlink/?linkid=232473).</span></span>  
  
##  <a name="comparing-shared-and-report-specific-schedules"></a><a name="bkmk_compare"></a> <span data-ttu-id="09811-135">Сравнение общих расписаний и расписаний для отчетов</span><span class="sxs-lookup"><span data-stu-id="09811-135">Comparing Shared and Report-Specific Schedules</span></span>  
 <span data-ttu-id="09811-136">Оба типа расписаний формируют одинаковый вывод:</span><span class="sxs-lookup"><span data-stu-id="09811-136">Both types of schedules yield the same output:.</span></span>  
  
-   <span data-ttu-id="09811-137">**Общие расписания** являются переносимыми многоцелевыми элементами, которые содержат готовые к использованию сведения о расписании.</span><span class="sxs-lookup"><span data-stu-id="09811-137">**Shared schedules** are portable, multipurpose items that contain ready-to-use schedule information.</span></span> <span data-ttu-id="09811-138">Поскольку общие расписания являются элементами системного уровня, создание общего расписания требует наличия прав системного уровня.</span><span class="sxs-lookup"><span data-stu-id="09811-138">Because shared schedules are system-level items, creating a shared schedule requires system-level permissions.</span></span> <span data-ttu-id="09811-139">По этой причине общие расписания, доступные на сервере отчетов, обычно создает администратор сервера отчетов или диспетчер содержимого.</span><span class="sxs-lookup"><span data-stu-id="09811-139">For this reason, a report server administrator or content manager typically creates the shared schedules that are available on your report server.</span></span> <span data-ttu-id="09811-140">Общие расписания хранятся на сервере отчетов и управляются с помощью диспетчера отчетов или параметров сайта SharePoint.</span><span class="sxs-lookup"><span data-stu-id="09811-140">Shared schedules are stored and managed on the report server by using Report Manager or SharePoint site settings.</span></span>  
  
     <span data-ttu-id="09811-141">В отличие от расписаний, определяемых через свойства отчета, общего набора данных или подписки, общие расписания проще управляются и обслуживаются по следующим причинам.</span><span class="sxs-lookup"><span data-stu-id="09811-141">In contrast with specific schedules that you define through report, shared dataset, or subscription properties, shared schedules are easier to manage and maintain for the following reasons:</span></span>  
  
    -   <span data-ttu-id="09811-142">Общими расписаниями можно управлять с центрального узла, что упрощает сравнение свойств расписаний и настройку частоты повторений и закономерности выполнения, если запланированные операции совершаются слишком близко друг к другу или конфликтуют с другими процессами на сервере.</span><span class="sxs-lookup"><span data-stu-id="09811-142">Shared schedules can be managed from a central location, making it easier to compare schedule properties and adjust frequency and recurrence patterns if scheduled operations are running too close together or conflicting with other processes on your server.</span></span>  
  
    -   <span data-ttu-id="09811-143">Они позволяют быстро применить изменения в вычислительной среде.</span><span class="sxs-lookup"><span data-stu-id="09811-143">Allows you to quickly adapt to changes in the computing environment.</span></span> <span data-ttu-id="09811-144">Предположим, существует набор отчетов, выполняемых в 4:00.</span><span class="sxs-lookup"><span data-stu-id="09811-144">For example, suppose you have a set of reports that run at 4:00 A.M.</span></span> <span data-ttu-id="09811-145">после обновления хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="09811-145">after a data warehouse is refreshed.</span></span> <span data-ttu-id="09811-146">Если операция обновления данных отложена или расписание изменено, то легко учесть изменение, обновив сведения в одном общем расписании.</span><span class="sxs-lookup"><span data-stu-id="09811-146">If the data refresh operation is rescheduled or is delayed, you can easily accommodate that change by updating the schedule information in a single shared schedule.</span></span>  
  
    -   <span data-ttu-id="09811-147">Если используются только общие расписания, то точно известно время выполнения запланированных операций.</span><span class="sxs-lookup"><span data-stu-id="09811-147">If you use only shared schedules, you know precisely when scheduled operations occur.</span></span> <span data-ttu-id="09811-148">В результате проще прогнозировать и распределять рабочую нагрузку сервера, чтобы избежать проблем производительности.</span><span class="sxs-lookup"><span data-stu-id="09811-148">This makes it easier to anticipate and accommodate server loads before performance issues occur.</span></span> <span data-ttu-id="09811-149">Например, если резервное копирование компьютера запланировано на определенное время, то можно скорректировать общие расписания для запуска в другое время.</span><span class="sxs-lookup"><span data-stu-id="09811-149">For example, if you decide to schedule computer backups at a specific hour, you can adjust shared schedules to run at different times.</span></span>  
  
-   <span data-ttu-id="09811-150">**Расписания отчетов** определяются в контексте отдельного отчета, подписки или операции выполнения отчета для определения момента истечения срока действия кэша или обновления моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="09811-150">**Report-specific schedules** are defined in the context of an individual report, subscription, or report execution operation to determine cache expiration or snapshot updates.</span></span> <span data-ttu-id="09811-151">Эти расписания создаются как встроенные при определении подписки или при установке свойств выполнения отчета.</span><span class="sxs-lookup"><span data-stu-id="09811-151">These schedules are created inline when you define a subscription or set report execution properties.</span></span> <span data-ttu-id="09811-152">Можно создать расписание отчета, если общее расписание не обеспечивает необходимую частоту повторений или схему выполнения.</span><span class="sxs-lookup"><span data-stu-id="09811-152">You can create a report-specific schedule if a shared schedule does not provide the frequency or recurrence pattern that you need.</span></span> <span data-ttu-id="09811-153">Чтобы предотвратить запуск отчета, необходимо отредактировать расписание отчета вручную.</span><span class="sxs-lookup"><span data-stu-id="09811-153">To prevent a report from running, you must edit a report-specific schedule manually.</span></span> <span data-ttu-id="09811-154">Расписания отчетов могут быть созданы индивидуальным пользователем.</span><span class="sxs-lookup"><span data-stu-id="09811-154">Report-specific schedules can be created by individual users.</span></span>  
  
##  <a name="configure-the-data-sources"></a><a name="bkmk_configuredatasources"></a> <span data-ttu-id="09811-155">Настройка источников данных</span><span class="sxs-lookup"><span data-stu-id="09811-155">Configure the Data Sources</span></span>  
 <span data-ttu-id="09811-156">Перед заданием расписания обработки данных или подписок необходимо настроить источник данных отчета для использования сохраненных учетных данных или учетной записи автоматической обработки отчета.</span><span class="sxs-lookup"><span data-stu-id="09811-156">Before you can schedule data or subscription processing for a report, you must configure the report data source to use stored credentials or the unattended report processing account.</span></span> <span data-ttu-id="09811-157">При использовании сохраненных учетных данных можно сохранить только один набор учетных данных, и они будут использоваться всеми пользователями, которые выполняют отчет.</span><span class="sxs-lookup"><span data-stu-id="09811-157">If you use stored credentials, you can only store one set of credentials, and they will be used by all users who run the report.</span></span> <span data-ttu-id="09811-158">Учетные данные могут быть или учетной записью Windows, или учетной записью базы данных.</span><span class="sxs-lookup"><span data-stu-id="09811-158">The credentials can be a Windows user account or a database user account.</span></span>  
  
 <span data-ttu-id="09811-159">Учетная запись автоматической обработки отчета — это специальная учетная запись, настроенная для сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-159">The unattended report processing account is a special-purpose account that is configured on the report server.</span></span> <span data-ttu-id="09811-160">Ее использует сервер отчетов для соединения с удаленными компьютерами, если запланированная операция требует получения внешнего файла или обработки.</span><span class="sxs-lookup"><span data-stu-id="09811-160">It is used by the report server to connect to remote computers when a scheduled operation requires the retrieval of an external file or processing.</span></span> <span data-ttu-id="09811-161">Если настроить учетную запись, можно использовать ее для соединения с внешними источниками данных, которые предоставляют данные в отчет.</span><span class="sxs-lookup"><span data-stu-id="09811-161">If you configure the account, you can use it to connect to external data sources that provide data to a report.</span></span>  
  
 <span data-ttu-id="09811-162">Чтобы указать сохраненные учетные данные или учетную запись автоматической обработки отчета, измените свойства источника данных отчета.</span><span class="sxs-lookup"><span data-stu-id="09811-162">To specify stored credentials or the unattended report processing account, edit the data source properties of the report.</span></span> <span data-ttu-id="09811-163">Если в отчете используется общий источник данных, то измените внешний источник данных.</span><span class="sxs-lookup"><span data-stu-id="09811-163">If the report uses a shared data source, edit the shared data source instead.</span></span>  
  
##  <a name="store-credentials-and-processing-accounts"></a><a name="bkmk_credentials"></a> <span data-ttu-id="09811-164">Хранение учетных данных и обработка учетных записей</span><span class="sxs-lookup"><span data-stu-id="09811-164">Store Credentials and Processing accounts</span></span>  
 <span data-ttu-id="09811-165">Как именно производится работа с расписанием, зависит от того, какие задачи входят в назначение ролей.</span><span class="sxs-lookup"><span data-stu-id="09811-165">How you work with a schedule depends on tasks that are part of your role assignment.</span></span> <span data-ttu-id="09811-166">Если используются стандартные роли, пользователи, являющиеся диспетчерами содержимого и системными администраторами, могут создавать любые расписания и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="09811-166">If you are using predefined roles, users who are Content Managers and System Administrators can create and manage any schedule.</span></span> <span data-ttu-id="09811-167">Если используется пользовательское назначение ролей, то оно должно включать задачи, поддерживающие отложенные операции.</span><span class="sxs-lookup"><span data-stu-id="09811-167">If you use custom role assignments, the role assignment must include tasks that support scheduled operations.</span></span>  
  
|<span data-ttu-id="09811-168">Требуемое действие</span><span class="sxs-lookup"><span data-stu-id="09811-168">To do this</span></span>|<span data-ttu-id="09811-169">Включите следующую задачу</span><span class="sxs-lookup"><span data-stu-id="09811-169">Include this task</span></span>|<span data-ttu-id="09811-170">Стандартные роли собственного режима</span><span class="sxs-lookup"><span data-stu-id="09811-170">Native Mode Predefined roles</span></span>|<span data-ttu-id="09811-171">Группы для режима интеграции с SharePoint</span><span class="sxs-lookup"><span data-stu-id="09811-171">SharePoint mode Groups</span></span>|  
|----------------|-----------------------|----------------------------------|----------------------------|  
|<span data-ttu-id="09811-172">Создать, изменить или удалить общее расписание</span><span class="sxs-lookup"><span data-stu-id="09811-172">Create, modify, or delete shared schedules</span></span>|<span data-ttu-id="09811-173">Управление общими расписаниями</span><span class="sxs-lookup"><span data-stu-id="09811-173">Manage shared schedules</span></span>|<span data-ttu-id="09811-174">Системный администратор</span><span class="sxs-lookup"><span data-stu-id="09811-174">System Administrator</span></span>|<span data-ttu-id="09811-175">Владельцы</span><span class="sxs-lookup"><span data-stu-id="09811-175">Owners</span></span>|  
|<span data-ttu-id="09811-176">Выбрать общее расписание</span><span class="sxs-lookup"><span data-stu-id="09811-176">Select shared schedules</span></span>|<span data-ttu-id="09811-177">Просмотр общих расписаний</span><span class="sxs-lookup"><span data-stu-id="09811-177">View shared schedules</span></span>|<span data-ttu-id="09811-178">пользователь системы</span><span class="sxs-lookup"><span data-stu-id="09811-178">System User</span></span>|<span data-ttu-id="09811-179">Члены</span><span class="sxs-lookup"><span data-stu-id="09811-179">Members</span></span>|  
|<span data-ttu-id="09811-180">Создать, изменить или удалить расписание отчета в пользовательской подписке</span><span class="sxs-lookup"><span data-stu-id="09811-180">Create, modify, or delete report-specific schedules in a user-defined subscription</span></span>|<span data-ttu-id="09811-181">Управление отдельными подписками</span><span class="sxs-lookup"><span data-stu-id="09811-181">Manage individual subscriptions</span></span>|<span data-ttu-id="09811-182">браузер, построитель отчетов, «Мои отчеты», диспетчер содержимого</span><span class="sxs-lookup"><span data-stu-id="09811-182">Browser, Report Builder, My Reports, Content Manager</span></span>|<span data-ttu-id="09811-183">Посетители, участники</span><span class="sxs-lookup"><span data-stu-id="09811-183">Visitors, Members</span></span>|  
|<span data-ttu-id="09811-184">Создать, изменить или удалить расписание отчета для всех остальных отложенных операций</span><span class="sxs-lookup"><span data-stu-id="09811-184">Create, modify, or delete report-specific schedules for all other scheduled operations</span></span>|<span data-ttu-id="09811-185">Управление журналом отчета, управление всеми подписками, управление отчетами</span><span class="sxs-lookup"><span data-stu-id="09811-185">Manage report history, manage all subscriptions, manage reports</span></span>|<span data-ttu-id="09811-186">Диспетчер содержимого</span><span class="sxs-lookup"><span data-stu-id="09811-186">Content Manager</span></span>|<span data-ttu-id="09811-187">Владельцы</span><span class="sxs-lookup"><span data-stu-id="09811-187">Owners</span></span>|  
  
 <span data-ttu-id="09811-188">Дополнительные сведения о безопасности в службах [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]в основном режиме см. в разделах [Стандартные роли](../security/role-definitions-predefined-roles.md), [Предоставление разрешений на сервер отчетов в собственном режиме](../security/granting-permissions-on-a-native-mode-report-server.md) и [Задачи и разрешения](../security/tasks-and-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="09811-188">For more information about security in Native mode [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], see [Predefined Roles](../security/role-definitions-predefined-roles.md), [Granting Permissions on a Native Mode Report Server](../security/granting-permissions-on-a-native-mode-report-server.md) and [Tasks and Permissions](../security/tasks-and-permissions.md).</span></span> <span data-ttu-id="09811-189">Описание режима интеграции с SharePoint см. в разделе [Сравнение ролей и задач служб Reporting Services с группами и разрешениями SharePoint](../reporting-services-roles-tasks-vs-sharepoint-groups-permissions.md)</span><span class="sxs-lookup"><span data-stu-id="09811-189">For SharePoint mode, see [Compare Roles and Tasks in Reporting Services to SharePoint Groups and Permissions](../reporting-services-roles-tasks-vs-sharepoint-groups-permissions.md)</span></span>  
  
##  <a name="how-scheduling-and-delivery-processing-works"></a><a name="bkmk_how_scheduling_works"></a> <span data-ttu-id="09811-190">Принцип работы обработчика планирования и доставки</span><span class="sxs-lookup"><span data-stu-id="09811-190">How Scheduling and Delivery Processing Works</span></span>  
 <span data-ttu-id="09811-191">Обработчик планирования и доставки выполняет следующие функции.</span><span class="sxs-lookup"><span data-stu-id="09811-191">The Scheduling and Delivery Processor provides the following functionality:</span></span>  
  
-   <span data-ttu-id="09811-192">Обслуживает очередь событий и уведомлений в базе данных сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-192">Maintains a queue of events and notifications in the report server database.</span></span> <span data-ttu-id="09811-193">В масштабном развертывании очередь является общей для всех серверов отчетов конфигурации.</span><span class="sxs-lookup"><span data-stu-id="09811-193">In a scale-out deployment, the queue is shared across all of the report servers in the deployment.</span></span>  
  
-   <span data-ttu-id="09811-194">Обращается к обработчику отчетов для выполнения отчетов, обработки подписок или удаления кэшированных отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-194">Calls the Report Processor to execute reports, process subscriptions, or clear a cached report.</span></span> <span data-ttu-id="09811-195">Вся обработка процессов, проводимая в результате запланированного события, выполняется как фоновый процесс.</span><span class="sxs-lookup"><span data-stu-id="09811-195">All report processing that occurs as a result of a schedule event is performed as a background process.</span></span> <span data-ttu-id="09811-196">Режим интеграции с SharePoint использует задания таймера.</span><span class="sxs-lookup"><span data-stu-id="09811-196">SharePoint mode utilizes timer jobs to .</span></span>  
  
-   <span data-ttu-id="09811-197">Вызывает модуль доставки, указанный в подписке, чтобы доставить отчет.</span><span class="sxs-lookup"><span data-stu-id="09811-197">Calls the delivery extension that is specified in a subscription so that the report can be delivered.</span></span>  
  
 <span data-ttu-id="09811-198">Другие аспекты расписаний и операций доставки обрабатываются другими компонентами и службами, которые взаимодействуют с обработчиком планирования и доставки отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-198">Other aspects of a scheduling and delivery operation are handled by other components and services that work with the Scheduling and Delivery Processor.</span></span> <span data-ttu-id="09811-199">Обработчик планирования и доставки запускается службой сервера отчетов и использует агент SQL Server, как таймер, формирующий запланированные события.</span><span class="sxs-lookup"><span data-stu-id="09811-199">Specifically, the Scheduling and Delivery Processor runs in the Report Server service and uses SQL Server Agent as a timer to generate scheduled events.</span></span> <span data-ttu-id="09811-200">В следующем пошаговом описании объясняется, как запланированные операции работают в развертывании служб Reporting Services.</span><span class="sxs-lookup"><span data-stu-id="09811-200">The following step-by-step description explains how the scheduled operations work in a Reporting Services deployment:</span></span>  
  
1.  <span data-ttu-id="09811-201">Запланированная операция определяется, когда пользователь создает расписание.</span><span class="sxs-lookup"><span data-stu-id="09811-201">A scheduled operation is defined when a user creates a schedule.</span></span> <span data-ttu-id="09811-202">Расписание определяет дату и время, когда будет запущена подписка на доставку отчета, обновлен моментальный список или истечет срок действия кэша.</span><span class="sxs-lookup"><span data-stu-id="09811-202">The schedule defines a date and time that will be used to trigger a subscription for report delivery, refresh a snapshot, or expire a cache.</span></span>  
  
2.  <span data-ttu-id="09811-203">Сервер отчетов сохраняет информацию расписания в базе данных сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-203">The report server saves the schedule information in the report server database.</span></span>  
  
3.  <span data-ttu-id="09811-204">Сервер отчетов создает соответствующее задание агента SQL Server, включающее предоставленные сведения о расписании.</span><span class="sxs-lookup"><span data-stu-id="09811-204">The report server creates a corresponding job in SQL Server Agent that includes the schedule information provided.</span></span> <span data-ttu-id="09811-205">Задания создаются с помощью хранимых процедур, используя существующее открытое соединение с базой данных сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-205">The jobs are created through a stored procedure, using the existing open connection to the report server database.</span></span>  
  
4.  <span data-ttu-id="09811-206">Агент SQL Server запускает задание в указанные в расписании день и время.</span><span class="sxs-lookup"><span data-stu-id="09811-206">SQL Server Agent runs the job on the date and time specified in the schedule.</span></span> <span data-ttu-id="09811-207">Задание создает событие, которое добавляется в очередь, поддерживаемую службой Reporting Services.</span><span class="sxs-lookup"><span data-stu-id="09811-207">The job creates an event that is added to a queue maintained by Reporting Services.</span></span>  
  
5.  <span data-ttu-id="09811-208">Событие вызывает обработку отчета или подписки.</span><span class="sxs-lookup"><span data-stu-id="09811-208">The event causes a report or subscription process to occur.</span></span> <span data-ttu-id="09811-209">События обрабатываются, когда они обнаружены в очереди, соответственно обрабатывается и доставляется отчет.</span><span class="sxs-lookup"><span data-stu-id="09811-209">Events are processed when they are detected in the queue, and the report is processed or delivered accordingly.</span></span>  
  
     <span data-ttu-id="09811-210">Перед обработкой событий обработчик планирования и доставки выполняет проверку подлинности, чтобы удостовериться, что владелец подписки имеет разрешение для просмотра отчета.</span><span class="sxs-lookup"><span data-stu-id="09811-210">Before the events are processed, the Scheduling and Delivery Processor performs an authentication step to verify that the subscription owner has permission to view the report.</span></span>  
  
 <span data-ttu-id="09811-211">Службы Reporting Services поддерживают очередь событий для всех запланированных операций.</span><span class="sxs-lookup"><span data-stu-id="09811-211">Reporting Services maintains an event queue for all scheduled operations.</span></span> <span data-ttu-id="09811-212">Через регулярные интервалы времени производится опрос очереди для обнаружения новых событий.</span><span class="sxs-lookup"><span data-stu-id="09811-212">It polls the queue at regular intervals to check for new events.</span></span> <span data-ttu-id="09811-213">По умолчанию очередь просматривается с интервалом в 10 секунд.</span><span class="sxs-lookup"><span data-stu-id="09811-213">By default, the queue is scanned at 10 second intervals.</span></span> <span data-ttu-id="09811-214">Можно изменить этот интервал, изменив параметры конфигурации `PollingInterval`, `IsNotificationService` и `IsEventService` в файле RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="09811-214">You can change the interval by modifying the `PollingInterval`, `IsNotificationService`, and `IsEventService` configuration settings in the RSReportServer.config file.</span></span> <span data-ttu-id="09811-215">В режиме интеграции с SharePoint файл RSreporserver.config также используется для этих параметров, а значения применяются ко всем приложениям службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="09811-215">SharePoint mode also uses the RSreporserver.config for these settings and the values apply to all [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service applications.</span></span> <span data-ttu-id="09811-216">Дополнительные сведения см. в статье [RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="09811-216">For more information, see [RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md).</span></span>  
  
##  <a name="server-dependencies"></a><a name="bkmk_serverdependencies"></a> <span data-ttu-id="09811-217">Серверные зависимости</span><span class="sxs-lookup"><span data-stu-id="09811-217">Server Dependencies</span></span>  
 <span data-ttu-id="09811-218">Обработчик планирования и доставки требует, чтобы была запущена служба сервера отчетов и агент SQL Server.</span><span class="sxs-lookup"><span data-stu-id="09811-218">The Scheduling and Delivery Processor requires that the Report Server service and SQL Server Agent are started.</span></span> <span data-ttu-id="09811-219">Функцию обработки расписания и доставки необходимо включить с помощью `ScheduleEventsAndReportDeliveryEnabled` свойства **конфигурации контактной зоны для Reporting Services** аспекта в разделе Управление на основе политик.</span><span class="sxs-lookup"><span data-stu-id="09811-219">The Schedule and Delivery Processing feature must be enabled through the `ScheduleEventsAndReportDeliveryEnabled` property of the **Surface Area Configuration for Reporting Services** facet in Policy-Based Management.</span></span> <span data-ttu-id="09811-220">Для формирования запланированных действий должны быть запущены как агент SQL Server, так и служба сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="09811-220">Both SQL Server Agent and the Report Server service must running in order for scheduled operations to occur.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="09811-221">Для временной или полной остановки формирования запланированных действий можно использовать аспект **Настройка контактной зоны для служб Reporting Services** .</span><span class="sxs-lookup"><span data-stu-id="09811-221">You can use the **Surface Area Configuration for Reporting Services** facet to stop scheduled operations on a temporary or permanent basis.</span></span> <span data-ttu-id="09811-222">Можно создать и развернуть пользовательские модули доставки, но сам обработчик планирования и доставки не является расширяемым.</span><span class="sxs-lookup"><span data-stu-id="09811-222">Although you can create and deploy custom delivery extensions, by itself the Scheduling and Delivery Processor is not extensible.</span></span> <span data-ttu-id="09811-223">Нельзя изменить его способ управления событиями и уведомлениями.</span><span class="sxs-lookup"><span data-stu-id="09811-223">You cannot change how it manages events and notifications.</span></span> <span data-ttu-id="09811-224">Дополнительные сведения об отключении функций см. в подразделе **Запланированные события и доставка** раздела [Turn Reporting Services Features On or Off](../report-server/turn-reporting-services-features-on-or-off.md).</span><span class="sxs-lookup"><span data-stu-id="09811-224">For more information about turn off features, see the **Scheduled Events and Delivery** section of [Turn Reporting Services Features On or Off](../report-server/turn-reporting-services-features-on-or-off.md).</span></span>  
  
###  <a name="effects-of-stopping-the-sql-server-agent"></a><a name="bkmk_stoppingagent"></a> <span data-ttu-id="09811-225">Последствия остановки работы агента SQL Server</span><span class="sxs-lookup"><span data-stu-id="09811-225">Effects of Stopping the SQL Server Agent</span></span>  
 <span data-ttu-id="09811-226">Агент SQL Server используется по умолчанию для обработки запланированного отчета.</span><span class="sxs-lookup"><span data-stu-id="09811-226">Scheduled report processing uses SQL Server Agent by default.</span></span> <span data-ttu-id="09811-227">При остановке службы никакие новые запросы обработки в очередь не добавятся, если только они не будут добавляться программно вызовом метода <xref:ReportService2010.ReportingService2010.FireEvent%2A> .</span><span class="sxs-lookup"><span data-stu-id="09811-227">If you stop the service, no new processing requests are added to the queue unless you add them programmatically through the <xref:ReportService2010.ReportingService2010.FireEvent%2A> method.</span></span> <span data-ttu-id="09811-228">При перезагрузке службы возобновляются задания, создающие требования на обработку отчета.</span><span class="sxs-lookup"><span data-stu-id="09811-228">When you restart the service, the jobs that create report processing requests are resumed.</span></span> <span data-ttu-id="09811-229">Сервер отчетов не пытается воссоздать задания обработки отчета, которые могли возникнуть, когда агент SQL Server находился в режиме «вне сети».</span><span class="sxs-lookup"><span data-stu-id="09811-229">The report server does not try to recreate report processing jobs that might have occurred in the past, while SQL Server Agent was offline.</span></span> <span data-ttu-id="09811-230">Если агент SQL Server не будет работать неделю, то все запланированные на эту неделю действия будут утеряны.</span><span class="sxs-lookup"><span data-stu-id="09811-230">If you stop SQL Server Agent for a week, all scheduled operations are lost for that week.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="09811-231">Функции, которые выполняет агент SQL Server для служб Reporting Services, могут быть заменены на пользовательский код, который вызывает метод <xref:ReportService2010.ReportingService2010.FireEvent%2A> для добавления событий в очередь.</span><span class="sxs-lookup"><span data-stu-id="09811-231">The functionality that SQL Server Agent provides to Reporting Services can be replaced with custom code that uses the <xref:ReportService2010.ReportingService2010.FireEvent%2A> method to add schedule events to the queue.</span></span>  
  
###  <a name="effects-of-stopping-the-report-server-service"></a><a name="bkmk_stoppingservice"></a> <span data-ttu-id="09811-232">Последствия остановки службы сервера отчетов</span><span class="sxs-lookup"><span data-stu-id="09811-232">Effects of Stopping the Report Server Service</span></span>  
 <span data-ttu-id="09811-233">При остановке службы сервера отчетов агент SQL Server продолжает добавлять запросы на обработку отчета в очередь.</span><span class="sxs-lookup"><span data-stu-id="09811-233">If you stop the Report Server service, SQL Server Agent continues to add report processing requests to the queue.</span></span> <span data-ttu-id="09811-234">Сведения о состоянии от агента SQL Server указывают на то, что задание успешно завершилось.</span><span class="sxs-lookup"><span data-stu-id="09811-234">Status information from SQL Server Agent indicates that the job succeeded.</span></span> <span data-ttu-id="09811-235">Однако из-за того, что служба сервера отчетов была остановлена, фактически обработка отчета не выполнялась.</span><span class="sxs-lookup"><span data-stu-id="09811-235">However, because the Report Server service is stopped, no report processing actually occurs.</span></span> <span data-ttu-id="09811-236">Запросы будут накапливаться в очереди до тех пор, пока служба сервера отчетов не будет перезапущена.</span><span class="sxs-lookup"><span data-stu-id="09811-236">The requests will continue to accumulate in the queue until you restart the Report Server service.</span></span> <span data-ttu-id="09811-237">Как только служба сервера отчетов будет перезапущена, все запросы на обработку отчета, находящиеся в очереди, начнут обрабатываться по очереди.</span><span class="sxs-lookup"><span data-stu-id="09811-237">Once you restart the Report Server service, all report processing requests that are in the queue are processed in order.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09811-238">См. также:</span><span class="sxs-lookup"><span data-stu-id="09811-238">See Also</span></span>  
 <span data-ttu-id="09811-239">[Создание, изменение и удаление моментальных снимков в журнале отчетов](../report-server/create-modify-and-delete-snapshots-in-report-history.md) </span><span class="sxs-lookup"><span data-stu-id="09811-239">[Create, Modify, and Delete Snapshots in Report History](../report-server/create-modify-and-delete-snapshots-in-report-history.md) </span></span>  
 <span data-ttu-id="09811-240">[Подписки и доставка (службы Reporting Services)](subscriptions-and-delivery-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="09811-240">[Subscriptions and Delivery &#40;Reporting Services&#41;](subscriptions-and-delivery-reporting-services.md) </span></span>  
 <span data-ttu-id="09811-241">[Data-Driven Subscriptions](data-driven-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="09811-241">[Data-Driven Subscriptions](data-driven-subscriptions.md) </span></span>  
 <span data-ttu-id="09811-242">[Кэширование отчетов (службы SSRS)](../report-server/caching-reports-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="09811-242">[Caching Reports &#40;SSRS&#41;](../report-server/caching-reports-ssrs.md) </span></span>  
 <span data-ttu-id="09811-243">[Управление содержимым сервера отчетов (службы Reporting Services в основном режиме)](../report-server/report-server-content-management-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="09811-243">[Report Server Content Management &#40;SSRS Native Mode&#41;](../report-server/report-server-content-management-ssrs-native-mode.md) </span></span>  
 [<span data-ttu-id="09811-244">Общие наборы данных в кэше (службы SSRS)</span><span class="sxs-lookup"><span data-stu-id="09811-244">Cache Shared Datasets &#40;SSRS&#41;</span></span>](../report-server/cache-shared-datasets-ssrs.md)  
  
  

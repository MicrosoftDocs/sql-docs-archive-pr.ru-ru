---
title: Создание общих источников данных и управление ими (Reporting Services в режиме интеграции с SharePoint) | Документация Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- SharePoint integration [Reporting Services], shared data sources
- shared data sources [Reporting Services]
ms.assetid: 2d3428e4-a810-4e66-a287-ff18e57fad76
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5eedb74dd5a24f40469b3ee6a4a24e97e6e59174
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657044"
---
# <a name="create-and-manage-shared-data-sources-reporting-services-in-sharepoint-integrated-mode"></a><span data-ttu-id="ee563-102">Создание общих источников данных и управление ими (службы Reporting Services в режиме интеграции с SharePoint)</span><span class="sxs-lookup"><span data-stu-id="ee563-102">Create and Manage Shared Data Sources (Reporting Services in SharePoint Integrated Mode)</span></span>
  <span data-ttu-id="ee563-103">При запуске отчета из библиотеки SharePoint сведения о соединении могут определяться внутри отчета или во внешнем файле, связанном с отчетом.</span><span class="sxs-lookup"><span data-stu-id="ee563-103">When you run a report from a SharePoint library, connection information can be defined inside the report or in an external file that is linked to the report.</span></span> <span data-ttu-id="ee563-104">Если сведения о соединении внедряются в отчет, то источник данных называется пользовательским.</span><span class="sxs-lookup"><span data-stu-id="ee563-104">If the connection information is embedded within the report, it is called a custom data source.</span></span> <span data-ttu-id="ee563-105">Если сведения о соединении определены во внешнем файле, то источник данных называется общим.</span><span class="sxs-lookup"><span data-stu-id="ee563-105">If the connection information is defined in an external file, it is called a shared data source.</span></span> <span data-ttu-id="ee563-106">Внешний файл может являться RSDS-файлом источника данных сервера отчетов или ODC-файлом подключения к данным Office.</span><span class="sxs-lookup"><span data-stu-id="ee563-106">The external file can be a report server data source (.rsds) file or an Office Data Connection (.odc) file.</span></span>  
  
 <span data-ttu-id="ee563-107">RSDS-файл подобен RDS-файлу, но имеет другую схему.</span><span class="sxs-lookup"><span data-stu-id="ee563-107">An .rsds file is similar to an .rds file, but it has a different schema.</span></span> <span data-ttu-id="ee563-108">Чтобы создать RSDS-файл, можно опубликовать RDS-файл из конструктора отчетов или конструктора моделей в библиотеке SharePoint (новый RSDS-файл будет создан из исходного RDS-файла).</span><span class="sxs-lookup"><span data-stu-id="ee563-108">To create an .rsds file, you can publish an .rds from Report Designer or Model Designer to a SharePoint library (a new .rsds file is created from the original .rds file).</span></span> <span data-ttu-id="ee563-109">В качестве альтернативы можно создать новый файл в библиотеке на веб-сайте SharePoint.</span><span class="sxs-lookup"><span data-stu-id="ee563-109">Or, you can create a new file in a library on a SharePoint Site.</span></span>  
  
 <span data-ttu-id="ee563-110">Если создать или опубликовать общий источник данных, можно изменить свойства соединения или удалить файл, если он больше не используется.</span><span class="sxs-lookup"><span data-stu-id="ee563-110">After you create or publish a shared data source, you can edit connection properties or delete the file if it is no longer used.</span></span> <span data-ttu-id="ee563-111">Прежде чем удалить общий источник данных, следует определить, не используется ли он какими-либо отчетами или моделями отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-111">Before you delete a shared data source, you should determine whether it is used by reports and report models.</span></span> <span data-ttu-id="ee563-112">Это можно сделать, просмотрев зависимые элементы, на которые ссылается общий источник данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-112">You can do this by viewing dependent items that reference the shared data source.</span></span>  
  
 <span data-ttu-id="ee563-113">Хотя список зависимых элементов говорит, имеется ли ссылка на общий источник данных, список не показывает, используется ли элемент активно.</span><span class="sxs-lookup"><span data-stu-id="ee563-113">Although the list of dependent items tells you whether the shared data source is referenced, it does not tell you whether the item is actively used.</span></span> <span data-ttu-id="ee563-114">Чтобы определить, используется ли активно общий источник данных или модель, можно просмотреть файлы журналов на компьютере сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-114">To determine whether the shared data source or model is actively used, you can review the log files on the report server computer.</span></span> <span data-ttu-id="ee563-115">Если доступ к файлам журналов отсутствует или файлы не содержат необходимых сведений, рассмотрите перемещение отчета в недоступную папку на время выяснения его состояния активности.</span><span class="sxs-lookup"><span data-stu-id="ee563-115">If you do not have access to the log files or if the files do not contain the information you want, consider moving the report to an inaccessible folder while you determine its actual status.</span></span>  
  
### <a name="to-create-a-shared-data-source-rsds-file-sharepoint-2010"></a><span data-ttu-id="ee563-116">Создание RSDS-файла общего источника данных (SharePoint 2010)</span><span class="sxs-lookup"><span data-stu-id="ee563-116">To create a shared data source (.rsds) file (SharePoint 2010)</span></span>  
  
1.  <span data-ttu-id="ee563-117">На ленте библиотек выберите вкладку **Документы** .</span><span class="sxs-lookup"><span data-stu-id="ee563-117">Click the **Documents** tab on the library ribbon.</span></span>  
  
2.  <span data-ttu-id="ee563-118">В меню **Создать документ** выберите пункт **Источник данных отчета**.</span><span class="sxs-lookup"><span data-stu-id="ee563-118">On the **New Document** menu, click **Report Data Source**</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ee563-119">Если элемент **Источник данных отчета** не отображается в меню, значит, тип содержимого источника данных отчета не был включен.</span><span class="sxs-lookup"><span data-stu-id="ee563-119">If you do not see the **Report Data Source** item on the menu, the report data source content type has not been enabled.</span></span> <span data-ttu-id="ee563-120">Дополнительные сведения см. в разделе [Добавление типов содержимого сервера отчетов в библиотеку &#40;Reporting Services в режиме интеграции с SharePoint&#41;](../../2014/reporting-services/add-reporting-services-content-types-to-a-sharepoint-library.md).</span><span class="sxs-lookup"><span data-stu-id="ee563-120">For more information, see [Add Report Server Content Types to a Library &#40;Reporting Services in SharePoint Integrated Mode&#41;](../../2014/reporting-services/add-reporting-services-content-types-to-a-sharepoint-library.md).</span></span>  
  
3.  <span data-ttu-id="ee563-121">В поле **Имя**укажите описательное имя RSDS-файла.</span><span class="sxs-lookup"><span data-stu-id="ee563-121">In **Name**, enter a descriptive name for the .rsds file.</span></span>  
  
4.  <span data-ttu-id="ee563-122">В списке **Тип источника данных**выберите тип источника данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-122">In **Data Source Type**, select the type of data source from the list.</span></span> <span data-ttu-id="ee563-123">Дополнительные сведения см. в разделе [Источники данных, поддерживаемые службами Reporting Services (SSRS)](create-deploy-and-manage-mobile-and-paginated-reports.md).</span><span class="sxs-lookup"><span data-stu-id="ee563-123">For more information, see [Data Sources Supported by Reporting Services &#40;SSRS&#41;](create-deploy-and-manage-mobile-and-paginated-reports.md).</span></span>  
  
5.  <span data-ttu-id="ee563-124">В поле **Строка соединения**задайте ссылку на источник данных и все остальные настройки, необходимые для установления соединения с внешним источником данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-124">In **Connection String**, specify a pointer to the data source and any other settings that are necessary for establishing a connection to the external data source.</span></span> <span data-ttu-id="ee563-125">Тип используемого источника данных определяет синтаксис строки соединения.</span><span class="sxs-lookup"><span data-stu-id="ee563-125">The type of data source you are using determines the syntax of the connection string.</span></span> <span data-ttu-id="ee563-126">Дополнительные сведения и примеры см. [в разделе подключения к данным, источники данных и строки подключения в Reporting Services](../../2014/reporting-services/data-connections-data-sources-and-connection-strings-in-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="ee563-126">For more information and examples, see [Data Connections, Data Sources, and Connection Strings in Reporting Services](../../2014/reporting-services/data-connections-data-sources-and-connection-strings-in-reporting-services.md).</span></span>  
  
6.  <span data-ttu-id="ee563-127">В разделе **Учетные данные**задайте, каким образом сервер отчетов получает учетные данные для доступа к внешнему источнику данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-127">In **Credentials**, specify how the report server obtains credentials to access the external data source.</span></span> <span data-ttu-id="ee563-128">Учетные данные могут быть сохраненными, запрашиваемыми, встроенными или настроенными для автоматической обработки отчета.</span><span class="sxs-lookup"><span data-stu-id="ee563-128">Credentials can be stored, prompted, integrated, or configured for unattended report processing.</span></span>  
  
    -   <span data-ttu-id="ee563-129">Чтобы получить доступ к данным по учетным данным пользователя, открывшего отчет, выберите **Проверка подлинности Windows (встроенная)** .</span><span class="sxs-lookup"><span data-stu-id="ee563-129">Select **Windows authentication (integrated)** if you want to access the data using the credentials of the user who opened the report.</span></span> <span data-ttu-id="ee563-130">Не выбирайте этот параметр, если веб-сайт или ферма SharePoint использует проверку подлинности с помощью форм или подключается к серверу отчетов через доверенную учетную запись.</span><span class="sxs-lookup"><span data-stu-id="ee563-130">Do not select this option if the SharePoint site or farm uses forms authentication or connects to the report server through a trusted account.</span></span> <span data-ttu-id="ee563-131">Не следует выбирать этот параметр, если для отчета необходимо по расписанию обрабатывать данные или подписку.</span><span class="sxs-lookup"><span data-stu-id="ee563-131">Do not select this option if you want to schedule subscription or data processing for this report.</span></span> <span data-ttu-id="ee563-132">Этот параметр действует максимально эффективно, когда для домена включена проверка подлинности Kerberos или когда источник данных находится на том же компьютере, что и сервер отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-132">This option works best when Kerberos authentication is enabled for your domain, or when the data source is on the same computer as the report server.</span></span> <span data-ttu-id="ee563-133">Если проверка подлинности Kerberos не активирована, то учетные данные Windows могут передаваться только на другой компьютер.</span><span class="sxs-lookup"><span data-stu-id="ee563-133">If Kerberos authentication is not enabled, Windows credentials can only be passed to one other computer.</span></span> <span data-ttu-id="ee563-134">Это означает, что если внешний источник данных находится на другом компьютере и требуется дополнительное соединение, то вместо ожидаемых данных возникнет ошибка.</span><span class="sxs-lookup"><span data-stu-id="ee563-134">This means that if the external data source is on another computer, requiring an additional connection, you will get an error instead of the data you expect.</span></span>  
  
    -   <span data-ttu-id="ee563-135">Чтобы пользователь вводил учетные данные каждый раз при выполнении отчета, выберите **Запрос учетных данных** .</span><span class="sxs-lookup"><span data-stu-id="ee563-135">Select **Prompt for credentials** if you want the user to enter his or her credentials each time he or she runs the report.</span></span> <span data-ttu-id="ee563-136">Не следует выбирать этот параметр, если для отчета необходимо по расписанию обрабатывать данные или подписку.</span><span class="sxs-lookup"><span data-stu-id="ee563-136">Do not select this option if you want to schedule subscription or data processing for this report.</span></span>  
  
    -   <span data-ttu-id="ee563-137">Выберите параметр **Сохраненные учетные данные** , чтобы пользователь получал доступ с помощью единственного набора учетных данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-137">Select **Stored credentials** if you want to access the data using a single set of credentials.</span></span> <span data-ttu-id="ee563-138">Эти учетные данные шифруются перед сохранением.</span><span class="sxs-lookup"><span data-stu-id="ee563-138">The credentials are encrypted before they are stored.</span></span> <span data-ttu-id="ee563-139">Можно выбрать параметры, которые определяют, как проверяются сохраненные учетные данные.</span><span class="sxs-lookup"><span data-stu-id="ee563-139">You can select options that determine how the stored credentials are authenticated.</span></span> <span data-ttu-id="ee563-140">Выберите «Использовать учетные данные Windows», если сохраненные учетные данные принадлежат пользовательской учетной записи Windows.</span><span class="sxs-lookup"><span data-stu-id="ee563-140">Select Use as Windows credentials if the stored credentials belong to a Windows user account.</span></span> <span data-ttu-id="ee563-141">Выберите **Выполнять в контексте этой учетной записи** , чтобы настроить контекст выполнения на сервере базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-141">Select **Set execution context to this account** if you want to set the execution context on the database server.</span></span> <span data-ttu-id="ee563-142">Для баз данных [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] этот параметр задает функцию SETUSER.</span><span class="sxs-lookup"><span data-stu-id="ee563-142">For [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] databases, this option sets the SETUSER function.</span></span> <span data-ttu-id="ee563-143">Дополнительные сведения см. в разделе [SETUSER (Transact-SQL)](/sql/t-sql/statements/setuser-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ee563-143">For more information, see [SETUSER &#40;Transact-SQL&#41;](/sql/t-sql/statements/setuser-transact-sql).</span></span>  
  
    -   <span data-ttu-id="ee563-144">Выберите **Учетные данные не требуются** , чтобы задать учетные данные в строке подключения или выполнить отчет под учетной записью с минимальными правами доступа, настроенной на сервере отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-144">Select **Credentials are not required** if you want to specify credentials in the connection string, or if you want to run the report using a least-privilege account that is configured on the report server.</span></span> <span data-ttu-id="ee563-145">Если эта учетная запись не настроена на сервере отчетов, у пользователей будут запрашиваться учетные данные и все запланированные операции, определенные для сервера отчетов, выполняться не будут.</span><span class="sxs-lookup"><span data-stu-id="ee563-145">If this account is not configured on the report server, users will be prompted for credentials and any scheduled operations that you define for the report will not run.</span></span>  
  
7.  <span data-ttu-id="ee563-146">Выберите **Включить этот источник данных** , если он должен быть активным.</span><span class="sxs-lookup"><span data-stu-id="ee563-146">Select **Enable this data source** if you want the data source to be active.</span></span> <span data-ttu-id="ee563-147">Если источник данных настроен, но не активен, пользователям будет выдаваться сообщение об ошибке при попытке использовать отчет на основе источника данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-147">If the data source is configured but not active, users will see an error message when they attempt to use a report based on the data source.</span></span>  
  
8.  <span data-ttu-id="ee563-148">Нажмите кнопку **Проверить соединение** , чтобы проверить настройку источника данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-148">Click the **Test Connection** button to validate the data source configuration.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ee563-149">Кнопка проверки соединения не поддерживается для источника типа XML-данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-149">The Test Connection button is not supported for the XML data source type.</span></span>  
  
9. <span data-ttu-id="ee563-150">Нажмите кнопку **ОК** , чтобы сохранить общий источник данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-150">Click **OK** to save create the shared data source.</span></span>  
  
### <a name="to-view-dependent-items"></a><span data-ttu-id="ee563-151">Просмотр зависимых элементов</span><span class="sxs-lookup"><span data-stu-id="ee563-151">To view dependent items</span></span>  
  
1.  <span data-ttu-id="ee563-152">Откройте библиотеку, которая содержит RSDS-файл.</span><span class="sxs-lookup"><span data-stu-id="ee563-152">Open the library that contains the .rsds file.</span></span>  
  
2.  <span data-ttu-id="ee563-153">Укажите общий источник данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-153">Point to the shared data source.</span></span>  
  
3.  <span data-ttu-id="ee563-154">Щелкните стрелку вниз и выберите **Просмотр зависимых элементов**.</span><span class="sxs-lookup"><span data-stu-id="ee563-154">Click to display a down arrow, and select **View Dependent Items**.</span></span>  
  
     <span data-ttu-id="ee563-155">Для моделей отчетов список зависимых элементов содержит отчеты, созданные в построителе отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-155">For report models, the list of dependent items shows the reports that were created in Report Builder.</span></span> <span data-ttu-id="ee563-156">Для общих источников данных список зависимых элементов может включать как отчеты, так и модели отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-156">For shared data sources, the dependent items list can include both reports and report models.</span></span>  
  
### <a name="to-delete-a-shared-data-source-rsds-file"></a><span data-ttu-id="ee563-157">Удаление RSDS-файла общего источника данных</span><span class="sxs-lookup"><span data-stu-id="ee563-157">To delete a shared data source (.rsds) file</span></span>  
  
1.  <span data-ttu-id="ee563-158">Откройте библиотеку, которая содержит RSDS-файл.</span><span class="sxs-lookup"><span data-stu-id="ee563-158">Open the library that contains the .rsds file.</span></span>  
  
2.  <span data-ttu-id="ee563-159">Укажите общий источник данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-159">Point to the shared data source.</span></span>  
  
3.  <span data-ttu-id="ee563-160">Щелкните стрелку вниз и выберите **Удалить**.</span><span class="sxs-lookup"><span data-stu-id="ee563-160">Click to display a down arrow, and click **Delete**.</span></span>  
  
 <span data-ttu-id="ee563-161">Если по ошибке будет удален общий источник данных, который нужно было оставить, можно создать новый источник данных с теми же самыми сведениями о соединении.</span><span class="sxs-lookup"><span data-stu-id="ee563-161">If you mistakenly delete a shared data source that you meant to keep, you can create a new one that contains the same connection information.</span></span> <span data-ttu-id="ee563-162">После повторного создания общего источника данных необходимо открыть каждый отчет или модель, в которой он используется, и выбрать этот общий источник данных.</span><span class="sxs-lookup"><span data-stu-id="ee563-162">After you recreate the shared data source, you must open each report and model that used that data source and select the shared data source.</span></span> <span data-ttu-id="ee563-163">У нового общего источника данных могут быть имя, учетные данные и синтаксис строки соединения, отличные от источника, который был удален.</span><span class="sxs-lookup"><span data-stu-id="ee563-163">The new shared data source item can have a different name, credentials, or connection string syntax from the one you delete.</span></span> <span data-ttu-id="ee563-164">Если соединение определяет тот же самый источник данных, свойства этого источника данных могут отличаться от исходных значений.</span><span class="sxs-lookup"><span data-stu-id="ee563-164">As long as the connection resolves to the same data source, data source properties can vary from the original values.</span></span>  
  
 <span data-ttu-id="ee563-165">Будьте осторожны при удалении модели отчета.</span><span class="sxs-lookup"><span data-stu-id="ee563-165">Use caution when deleting a report model.</span></span> <span data-ttu-id="ee563-166">При удалении модели невозможно открыть или изменить любые отчеты, основанные на этой модели в построителе отчетов.</span><span class="sxs-lookup"><span data-stu-id="ee563-166">If you delete a model, you can no longer open and modify any reports that are based on that model in Report Builder.</span></span> <span data-ttu-id="ee563-167">При непреднамеренном удалении модели, используемой в существующих отчетах, необходимо повторно создать модель, повторно создать и сохранить использующие эту модель отчеты и повторно указать необходимую безопасность элемента модели.</span><span class="sxs-lookup"><span data-stu-id="ee563-167">If you inadvertently delete a model that is used by existing reports, you must regenerate the model, re-create and save any reports that use the model, and re-specify any model item security that you want to use.</span></span> <span data-ttu-id="ee563-168">Невозможно просто сформировать заново модель и присоединить ее к существующему отчету.</span><span class="sxs-lookup"><span data-stu-id="ee563-168">You cannot simply regenerate the model and then attach it to an existing report.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ee563-169">См. также:</span><span class="sxs-lookup"><span data-stu-id="ee563-169">See Also</span></span>  
 [<span data-ttu-id="ee563-170">Задание учетных данных и сведениях о соединении для источников данных отчета</span><span class="sxs-lookup"><span data-stu-id="ee563-170">Specify Credential and Connection Information for Report Data Sources</span></span>](report-data/specify-credential-and-connection-information-for-report-data-sources.md)  
  
  

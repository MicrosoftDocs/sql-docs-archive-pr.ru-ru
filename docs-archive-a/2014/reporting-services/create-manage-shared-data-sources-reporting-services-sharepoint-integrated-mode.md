---
title: Создание общих источников данных и управление ими (Reporting Services в режиме интеграции с SharePoint) | Документация Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- SharePoint integration [Reporting Services], shared data sources
- shared data sources [Reporting Services]
ms.assetid: 2d3428e4-a810-4e66-a287-ff18e57fad76
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5eedb74dd5a24f40469b3ee6a4a24e97e6e59174
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657044"
---
# <a name="create-and-manage-shared-data-sources-reporting-services-in-sharepoint-integrated-mode"></a>Создание общих источников данных и управление ими (службы Reporting Services в режиме интеграции с SharePoint)
  При запуске отчета из библиотеки SharePoint сведения о соединении могут определяться внутри отчета или во внешнем файле, связанном с отчетом. Если сведения о соединении внедряются в отчет, то источник данных называется пользовательским. Если сведения о соединении определены во внешнем файле, то источник данных называется общим. Внешний файл может являться RSDS-файлом источника данных сервера отчетов или ODC-файлом подключения к данным Office.  
  
 RSDS-файл подобен RDS-файлу, но имеет другую схему. Чтобы создать RSDS-файл, можно опубликовать RDS-файл из конструктора отчетов или конструктора моделей в библиотеке SharePoint (новый RSDS-файл будет создан из исходного RDS-файла). В качестве альтернативы можно создать новый файл в библиотеке на веб-сайте SharePoint.  
  
 Если создать или опубликовать общий источник данных, можно изменить свойства соединения или удалить файл, если он больше не используется. Прежде чем удалить общий источник данных, следует определить, не используется ли он какими-либо отчетами или моделями отчетов. Это можно сделать, просмотрев зависимые элементы, на которые ссылается общий источник данных.  
  
 Хотя список зависимых элементов говорит, имеется ли ссылка на общий источник данных, список не показывает, используется ли элемент активно. Чтобы определить, используется ли активно общий источник данных или модель, можно просмотреть файлы журналов на компьютере сервера отчетов. Если доступ к файлам журналов отсутствует или файлы не содержат необходимых сведений, рассмотрите перемещение отчета в недоступную папку на время выяснения его состояния активности.  
  
### <a name="to-create-a-shared-data-source-rsds-file-sharepoint-2010"></a>Создание RSDS-файла общего источника данных (SharePoint 2010)  
  
1.  На ленте библиотек выберите вкладку **Документы** .  
  
2.  В меню **Создать документ** выберите пункт **Источник данных отчета**.  
  
    > [!NOTE]  
    >  Если элемент **Источник данных отчета** не отображается в меню, значит, тип содержимого источника данных отчета не был включен. Дополнительные сведения см. в разделе [Добавление типов содержимого сервера отчетов в библиотеку &#40;Reporting Services в режиме интеграции с SharePoint&#41;](../../2014/reporting-services/add-reporting-services-content-types-to-a-sharepoint-library.md).  
  
3.  В поле **Имя**укажите описательное имя RSDS-файла.  
  
4.  В списке **Тип источника данных**выберите тип источника данных. Дополнительные сведения см. в разделе [Источники данных, поддерживаемые службами Reporting Services (SSRS)](create-deploy-and-manage-mobile-and-paginated-reports.md).  
  
5.  В поле **Строка соединения**задайте ссылку на источник данных и все остальные настройки, необходимые для установления соединения с внешним источником данных. Тип используемого источника данных определяет синтаксис строки соединения. Дополнительные сведения и примеры см. [в разделе подключения к данным, источники данных и строки подключения в Reporting Services](../../2014/reporting-services/data-connections-data-sources-and-connection-strings-in-reporting-services.md).  
  
6.  В разделе **Учетные данные**задайте, каким образом сервер отчетов получает учетные данные для доступа к внешнему источнику данных. Учетные данные могут быть сохраненными, запрашиваемыми, встроенными или настроенными для автоматической обработки отчета.  
  
    -   Чтобы получить доступ к данным по учетным данным пользователя, открывшего отчет, выберите **Проверка подлинности Windows (встроенная)** . Не выбирайте этот параметр, если веб-сайт или ферма SharePoint использует проверку подлинности с помощью форм или подключается к серверу отчетов через доверенную учетную запись. Не следует выбирать этот параметр, если для отчета необходимо по расписанию обрабатывать данные или подписку. Этот параметр действует максимально эффективно, когда для домена включена проверка подлинности Kerberos или когда источник данных находится на том же компьютере, что и сервер отчетов. Если проверка подлинности Kerberos не активирована, то учетные данные Windows могут передаваться только на другой компьютер. Это означает, что если внешний источник данных находится на другом компьютере и требуется дополнительное соединение, то вместо ожидаемых данных возникнет ошибка.  
  
    -   Чтобы пользователь вводил учетные данные каждый раз при выполнении отчета, выберите **Запрос учетных данных** . Не следует выбирать этот параметр, если для отчета необходимо по расписанию обрабатывать данные или подписку.  
  
    -   Выберите параметр **Сохраненные учетные данные** , чтобы пользователь получал доступ с помощью единственного набора учетных данных. Эти учетные данные шифруются перед сохранением. Можно выбрать параметры, которые определяют, как проверяются сохраненные учетные данные. Выберите «Использовать учетные данные Windows», если сохраненные учетные данные принадлежат пользовательской учетной записи Windows. Выберите **Выполнять в контексте этой учетной записи** , чтобы настроить контекст выполнения на сервере базы данных. Для баз данных [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] этот параметр задает функцию SETUSER. Дополнительные сведения см. в разделе [SETUSER (Transact-SQL)](/sql/t-sql/statements/setuser-transact-sql).  
  
    -   Выберите **Учетные данные не требуются** , чтобы задать учетные данные в строке подключения или выполнить отчет под учетной записью с минимальными правами доступа, настроенной на сервере отчетов. Если эта учетная запись не настроена на сервере отчетов, у пользователей будут запрашиваться учетные данные и все запланированные операции, определенные для сервера отчетов, выполняться не будут.  
  
7.  Выберите **Включить этот источник данных** , если он должен быть активным. Если источник данных настроен, но не активен, пользователям будет выдаваться сообщение об ошибке при попытке использовать отчет на основе источника данных.  
  
8.  Нажмите кнопку **Проверить соединение** , чтобы проверить настройку источника данных.  
  
    > [!NOTE]  
    >  Кнопка проверки соединения не поддерживается для источника типа XML-данных.  
  
9. Нажмите кнопку **ОК** , чтобы сохранить общий источник данных.  
  
### <a name="to-view-dependent-items"></a>Просмотр зависимых элементов  
  
1.  Откройте библиотеку, которая содержит RSDS-файл.  
  
2.  Укажите общий источник данных.  
  
3.  Щелкните стрелку вниз и выберите **Просмотр зависимых элементов**.  
  
     Для моделей отчетов список зависимых элементов содержит отчеты, созданные в построителе отчетов. Для общих источников данных список зависимых элементов может включать как отчеты, так и модели отчетов.  
  
### <a name="to-delete-a-shared-data-source-rsds-file"></a>Удаление RSDS-файла общего источника данных  
  
1.  Откройте библиотеку, которая содержит RSDS-файл.  
  
2.  Укажите общий источник данных.  
  
3.  Щелкните стрелку вниз и выберите **Удалить**.  
  
 Если по ошибке будет удален общий источник данных, который нужно было оставить, можно создать новый источник данных с теми же самыми сведениями о соединении. После повторного создания общего источника данных необходимо открыть каждый отчет или модель, в которой он используется, и выбрать этот общий источник данных. У нового общего источника данных могут быть имя, учетные данные и синтаксис строки соединения, отличные от источника, который был удален. Если соединение определяет тот же самый источник данных, свойства этого источника данных могут отличаться от исходных значений.  
  
 Будьте осторожны при удалении модели отчета. При удалении модели невозможно открыть или изменить любые отчеты, основанные на этой модели в построителе отчетов. При непреднамеренном удалении модели, используемой в существующих отчетах, необходимо повторно создать модель, повторно создать и сохранить использующие эту модель отчеты и повторно указать необходимую безопасность элемента модели. Невозможно просто сформировать заново модель и присоединить ее к существующему отчету.  
  
## <a name="see-also"></a>См. также:  
 [Задание учетных данных и сведениях о соединении для источников данных отчета](report-data/specify-credential-and-connection-information-for-report-data-sources.md)  
  
  

---
title: Настройка данных и отображения карты или слоя карты (построитель отчетов и службы SSRS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10521"
- sql12.rtp.rptdesigner.shared.shadowdv.f1
- "10515"
- "10512"
- "10520"
- "10523"
- sql12.rtp.rptdesigner.mapgroupproperties.variables.f1
- sql12.rtp.rptdesigner.mapgroupproperties.filter.f1
- sql12.rtp.rptdesigner.shared.number.f1
- sql12.rtp.rptdesigner.shared.font.f1
- sql12.rtp.rptdesigner.mapgroupproperties.general.f1
- "10507"
ms.assetid: fdd9b994-d138-4990-a291-279b0249eb72
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 05987cea7ebde9d3587ade3f567eeb8ccef5e8fb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87736113"
---
# <a name="customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs"></a>Настройка данных и отображения карты или слоя карты (построитель отчетов и службы SSRS)
  После добавления в отчет карты или слоя карты с помощью мастера может потребоваться изменить способ отображения карты в отчете. При внесении изменений следует учитывать следующие соображения.  
  
-   Чтобы пользователю было проще интерпретировать данные, отображаемые на карте, можно добавить условные обозначения, цветовую шкалу, метки и подсказки.  
  
-   Чтобы карту было проще читать, измените центрирование и масштабирование отображения, добавьте шкалу расстояний и фоновую сетку.  
  
-   Чтобы сократить время построения карты при выполнении отчета, можно настроить разрешение карты и упростить ее элементы.  
  
-   Элементы карты можно внедрить в определение отчета, а затем изменить внешний вид отдельных элементов. Например, можно показать расположение главного офиса вешкой, а остальных офисов — окружностями.  
  
-   Можно добавлять определяемые пользователем области, задавая собственные выражения групп данных.  
  
-   Можно добавить пользовательское местоположение в указанной точке слоя карты с внедренными точками. Значение и свойства отображения пользовательской точки можно задать отдельно от других точек на слое точек.  
  
-   Чтобы обеспечить большую детализацию, на любом из слоев можно добавить ссылку на элементы карты, щелкнув которую, пользователь открывает связанный отчет.  
  
 Дополнительные соображения относительно улучшения отчета см. в разделе [Планирование отчета &#40;построитель отчетов&#41;](planning-a-report-report-builder.md).  
  
 Параметры отображения влияют на способ показа карты или ее частей при просмотре отчета. Одни параметры управляют внешним видом карты, например рамками и шрифтами области, представленной на карте. Другие параметры управляют содержимым каждого слоя, например размером пузырьков, типом маркеров, метками или подсказками.  
  
 Элемент отчета-карты включает следующие части: саму карту, окно просмотра карты, набор заголовков, набор условных обозначений (обозначения, цветовая шкала и шкала расстояний), набор слоев, набор элементов карты на каждом слое (многоугольники, линии или точки). Сведения, представленные в следующих разделах, помогут понять, какое диалоговое окно свойств управляет отображением различных частей карты.  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="change-options-for-the-map"></a><a name="Map"></a> Изменение параметров карты  
 В элементе «отчет-карта» можно управлять следующим.  
  
-   Добавить несколько заголовков.  
  
-   Добавить несколько условных обозначений. Чтобы изменить содержимое условных обозначений, необходимо создать несколько условных обозначений и изменить правила, указав, к каким из них относятся элементы, создаваемые тем или иным правилом.  
  
-   Добавить новые слои.  
  
-   Скрыть или отобразить шкалу расстояний или цветовую шкалу.  
  
-   Создать иллюзию глубины, определяя тень.  
  
 Чтобы изменить эти параметры, щелкните правой кнопкой мыши карту, выберите пункт **Карта**и измените параметры.  
  
 
  
##  <a name="change-options-for-the-viewport"></a><a name="Viewport"></a> Изменение параметров окна просмотра  
 Параметры окна просмотра позволяют изменить представление карты в отчете.  
  
 Источник пространственных данных может поставлять большую площадь, чем необходимо для отчета. Окно просмотра позволяет задать центр, масштаб и границы области карты.  
  
 Для окна просмотра можно задать следующие параметры.  
  
-   Выбрать систему координат и (для географической системы координат) проекцию.  
  
-   Выбрать центр карты.  
  
-   Обрезать представление карты.  
  
-   Задать масштаб.  
  
-   Разрешение и упрощение. Найдите компромисс между временем отрисовки и детализацией линий и многоугольников.  
  
 Чтобы изменить эти параметры, щелкните правой кнопкой мыши окно просмотра карты и воспользуйтесь страницей [Диалоговое окно "Свойства окна просмотра карты", вкладка "Общие"](../map-viewport-properties-dialog-box-general.md) и связанными с ней страницами.  
  

  
##  <a name="change-options-for-the-legends"></a><a name="Legends"></a> Изменение параметров условных обозначений  
 Условные обозначения помогают пользователям в интерпретации данных на карте.  
  
 По умолчанию все правила, заданные для слоя, добавляют элементы к первым условным обозначениям. Кроме того, все цветовые правила отображают значения на цветовой шкале.  
  
-   Чтобы изменить параметры отображения условных обозначений, включая их положение относительно окна просмотра, необходимо задать параметры самих условных обозначений.  
  
-   Чтобы изменить содержимое условных обозначений или его формат, необходимо изменить параметры условных обозначений для соответствующего правила слоя.  
  
 Дополнительные сведения см. в разделе [Изменение условных обозначений карты, цветовой шкалы и связанных правил (построитель отчетов и службы SSRS)](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md).  
  

  
##  <a name="change-options-for-the-layer"></a><a name="Layer"></a> Изменение параметров слоя  
 Чтобы показать слои карты, выберите ее щелчком мыши. Появляется панель «Карта». Чтобы изменить параметры слоя, щелкните его правой кнопкой мыши и используйте контекстное меню.  
  
 Слой может иметь один из трех типов, в зависимости от типа данных, возвращаемых источником пространственных данных: слой многоугольников, слой линий или слой точек.  
  
 Для слоя можно задать следующие параметры.  
  
-   Связанные аналитические данные и поля соответствия. Источник пространственных данных, представленный на панели «Карта» под именем слоя. Если этот источник является внедренным, то элементы карты для слоя являются частью определения отчета. Если источник не является внедренным, то получение пространственных данных производится во время выполнения, а обработчик отчета создает элементы карты для слоя во время обработки отчета. Изменение параметров данных для слоя производится на странице «Аналитические данные» диалогового окна «Слой карты».  
  
-   Порядок отрисовки слоя. Отрисовка слоев производится в порядке, обратном тому, в котором слои представлены на панели «Карта». Последний слой в списке отрисовывается первым. Например, если необходимо, чтобы точки со слоя точек выводились поверх многоугольников со слоя многоугольников, слой точек должен быть первым, а слой многоугольников — вторым.  
  
-   Видимость слоя, включая прозрачность. Чтобы один слой просвечивал сквозь другой, установите для него уровень прозрачности больше 0. Значение 100% означает, что слой невидим. Для работы с отдельным слоем можно легко скрыть или отобразить любой слой независимо от других слоев с помощью значка **Видимость** панели «Карта». Можно также задать параметры масштаба, определив отображение или скрытие элементов карты в зависимости от масштаба.  
  
-   Добавление мозаичного слоя Bing Map в окно просмотра с текущим центром и масштабом. Не нужно указывать географические координаты мозаичного слоя. Мозаики автоматически загружаются в соответствии с характеристиками окна просмотра, если задана географическая система координат, проекция Меркатора, серверы Bing Map доступны и сервер отчетов настроен для поддержки этой возможности. Для каждого отчета можно указать, следует ли использовать безопасное соединения для получения мозаик.  
  
 Дополнительные сведения о слоях см. в разделе [Добавление, изменение или удаление карты или слоя карты (построитель отчетов и службы SSRS)](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md).  
  
##  <a name="change-data-grouping-for-the-layer"></a><a name="DataGrouping"></a> Изменение группирования данных для слоя  
 Предусмотрена возможность настраивать способ агрегирования пространственных данных для собственных фигур. Чтобы задать свойства группы для слоя, выберите слой на панели "Карта", на панели "Свойства" для слоя щелкните **Группа**, а затем щелкните многоточие (...) и откройте диалоговое окно "Свойства группы". В этом диалоговом окне можно задавать выражения группы, создавать переменные группы и фильтровать данные, которые используются для группирования.  
  
 Выражение группы определяет, как статистически обрабатываются аналитические данные, связанные с пространственными данными, для каждого элемента карты слоя. По умолчанию выражение группы представляет собой набор полей сопоставления, указанный для связи между пространственными и аналитическими данными. Например, для пузырьковой карты, отображающей местоположения городов и численность населения страны или региона, поля сопоставления включают название города [City] и региона [Region], поскольку может существовать несколько городов с одним и тем же названием. Соответствующее выражение группы включает два поля: [City] и [Region].  
  
 Дополнительные сведения см. в статье " [Как импортировать файлы фигур в SQL Server и агрегировать пространственные данные](https://go.microsoft.com/fwlink/?LinkID=214991)".  
  
 
  
##  <a name="change-options-for-the-map-elements-on-the-layer"></a><a name="MapElements"></a> Изменение параметров для элементов карты на слое  
 Элементами карты являются точки, линии или многоугольники на слое соответствующего типа пространственных данных. Для элементов карты можно установить следующие параметры. Эти параметры применяются ко всем элементам карты на слое, независимо о того, являются ли они внедренными.  
  
-   Метки, видимость меток, смещения меток и форматирование.  
  
-   Рамки и заливка.  
  
-   Действия детализации.  
  
-   Параметры отображения.  
  
 Параметры отображения элементов карты учитываются в следующем порядке приоритетов: слой, элемент карты, правила для элемента карты и переопределенные параметры для внедренных элементов карты.  
  
 Чтобы изменить эти параметры, щелкните правой кнопкой мыши элемент карты и воспользуйтесь внедренным диалоговым окном свойств. Например, для внедренного многоугольника используйте диалоговое окно «Свойства внедренных многоугольников карты», страницу «Общие» и связанные с ней страницы.  
  

  
##  <a name="understanding-display-option-precedence"></a><a name="Precedence"></a> Основные сведения о приоритетах параметров отображения  
 При управлении внешним видом точки, линии или многоугольника на слое карты необходимо понимать, где настраиваются параметры отображения и какие из них имеют высший приоритет. Ниже перечислены параметры отображения от нижнего уровня к верхнему. Параметры, имеющие более высокий уровень, переопределяют параметры, имеющие более низкий уровень.  
  
-   Параметры слоя.  
  
-   Параметры точек, линий и многоугольников на каждом слое. Они применяются при динамическом получении элементов карты в процессе обработки отчета либо в случае, если они являются элементами карты, внедренными в определение отчета. Например, можно указать цвет заливки для всех элементов слоя.  
  
-   Правила. Можно задать правила для управления цветом, размером, толщиной и типом маркера для всех элементов карты на слое. Правила, которые можно задать, зависят от типа элемента карты.  
  
    -   Правила цвета. Применяются к маркерам для точек, линиям, многоугольникам и маркерам, обозначающим центры многоугольников.  
  
    -   Правила размера. Применяются к маркерам точек и маркерам, обозначающим центры многоугольников.  
  
    -   Правила толщины. Применяются к толщине линий.  
  
    -   Правила типа маркера. Применяются к маркерам точек и маркерам, обозначающим центры многоугольников.  
  
-   Переопределение параметров для отдельных внедренных точек, линий и многоугольников на слое. Сделанные изменения являются постоянными. Чтобы отменить их, необходимо перезагрузить данные для слоя.  
  
 Дополнительные сведения см. в разделе [Изменение параметров отображения многоугольников, линий и точек с помощью правил и аналитических данных (построитель отчетов и службы SSRS)](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).  
  

  
## <a name="see-also"></a>См. также:  
 [Мастер карт и мастер слоев карт (построитель отчетов и службы SSRS)](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)   
 [Карты (построитель отчетов и службы SSRS)](maps-report-builder-and-ssrs.md)  
  
  

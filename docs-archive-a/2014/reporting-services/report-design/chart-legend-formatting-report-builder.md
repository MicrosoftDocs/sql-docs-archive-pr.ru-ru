---
title: Форматирование условных обозначений на диаграмме (построитель отчетов и службы SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10183"
- sql12.rtp.rptdesigner.legendtitleproperties.shadow.f1
- "10189"
- sql12.rtp.rptdesigner.calculatedseriesproperties.legend.f1
- sql12.rtp.rptdesigner.legendproperties.shadow.f1
- "10185"
- sql12.rtp.rptdesigner.seriesproperties.legend.f1
- sql12.rtp.rptdesigner.legendproperties.font.f1
- "10254"
- "10152"
- sql12.rtp.rptdesigner.legendtitleproperties.font.f1
- sql12.rtp.rptdesigner.legendproperties.border.f1
- "10187"
- "10181"
- "10188"
- sql12.rtp.rptdesigner.legendtitleproperties.general.f1
ms.assetid: b035b2e0-ab1e-4a37-bff7-a42d1e914bac
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: d44b66d9937c643fc23efbd246ba9543d28c7859
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667583"
---
# <a name="formatting-the-legend-on-a-chart-report-builder-and-ssrs"></a><span data-ttu-id="46129-102">Форматирование условных обозначений на диаграмме (построитель отчетов и службы SSRS)</span><span class="sxs-lookup"><span data-stu-id="46129-102">Formatting the Legend on a Chart (Report Builder and SSRS)</span></span>
  <span data-ttu-id="46129-103">Условные обозначения диаграммы содержат описание каждой категории на диаграмме.</span><span class="sxs-lookup"><span data-stu-id="46129-103">The chart legend contains descriptions for each category in a chart.</span></span> <span data-ttu-id="46129-104">Условные обозначения всегда содержат один или несколько элементов, каждый из которых состоит из цветного прямоугольника, представляющего ряд, и текстовую строку, описывающую этот ряд, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="46129-104">A legend always contains one or more legend items, where each legend item consists of a colored box that represents the series, and a text string that describes the series, as indicated in the following illustration.</span></span>  
  
 <span data-ttu-id="46129-105">![Схема условных обозначений на диаграмме](../media/rs-legenddiagram.gif "Схема условных обозначений на диаграмме")</span><span class="sxs-lookup"><span data-stu-id="46129-105">![Diagram of a chart legend](../media/rs-legenddiagram.gif "Diagram of a chart legend")</span></span>  
  
 <span data-ttu-id="46129-106">Элемент условных обозначений связан с отдельным рядом на диаграмме, за исключением фигурных диаграмм, в которых условные обозначения связаны с конкретными точками данных.</span><span class="sxs-lookup"><span data-stu-id="46129-106">A legend item is connected to an individual series on the chart, except for Shape charts, where the legend is connected to individual data points.</span></span> <span data-ttu-id="46129-107">Диаграмма автоматически добавляет элементы в условные обозначения на основе ряда, сформированного из данных.</span><span class="sxs-lookup"><span data-stu-id="46129-107">The chart automatically adds items into the legend based on the series that are generated from your data.</span></span>  
  
 <span data-ttu-id="46129-108">Условное обозначение можно форматировать в диалоговом окне **Свойства условных обозначений** или с помощью панели свойств.</span><span class="sxs-lookup"><span data-stu-id="46129-108">You can format a legend by using the **Legend Properties** dialog box or by using the Properties pane.</span></span> <span data-ttu-id="46129-109">Щелкните правой кнопкой мыши условные обозначения и выберите пункт **Свойства условных обозначений** , чтобы изменить значения для текстовой строки, цвета фона, границ и объемных эффектов.</span><span class="sxs-lookup"><span data-stu-id="46129-109">Right-click the legend and click **Legend Properties** to change values for the legend text, background color, borders, and 3D effects.</span></span> <span data-ttu-id="46129-110">Чтобы изменить значения для заголовка условных обозначений, выберите условные обозначения, щелкните правой кнопкой мыши его заголовок и выберите пункт **Свойства заголовка условных обозначений**.</span><span class="sxs-lookup"><span data-stu-id="46129-110">To change values for the legend title, select the legend, right-click the legend title, and click **Legend Title Properties**.</span></span>  
  
 <span data-ttu-id="46129-111">В условные обозначения можно добавлять изображения, столбцы или другие дополнительные элементы.</span><span class="sxs-lookup"><span data-stu-id="46129-111">You cannot add images, extra columns or other supplementary items to the legend.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
## <a name="ordering-legend-items-in-the-legend"></a><span data-ttu-id="46129-112">Упорядочивание элементов условных обозначений</span><span class="sxs-lookup"><span data-stu-id="46129-112">Ordering Legend Items in the Legend</span></span>  
 <span data-ttu-id="46129-113">Ряды в условных обозначениях упорядочиваются согласно последовательности, в которой они обрабатываются механизмом служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="46129-113">Series are ordered in the legend according to the order that they are processed by the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] processing engine.</span></span> <span data-ttu-id="46129-114">Этот порядок можно изменить, изменив порядок полей в области добавления поля данных.</span><span class="sxs-lookup"><span data-stu-id="46129-114">You can change the order by changing the order of fields in the data fields drop-zone.</span></span> <span data-ttu-id="46129-115">Если используется группирование рядов, данные рядов неизвестны до начала обработки, поэтому нет способа изменить порядок этих элементов.</span><span class="sxs-lookup"><span data-stu-id="46129-115">If you are using series grouping, the series data is not known until processing, so that there is no way for you to re-order these items.</span></span> <span data-ttu-id="46129-116">Изменения можно увидеть при предварительном просмотре.</span><span class="sxs-lookup"><span data-stu-id="46129-116">The changes can be seen in Preview.</span></span> <span data-ttu-id="46129-117">Дополнительные сведения о группировании рядов см. в разделе [Диаграммы (построитель отчетов и службы SSRS)](charts-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="46129-117">For more information about series grouping, see [Charts &#40;Report Builder and SSRS&#41;](charts-report-builder-and-ssrs.md).</span></span>  
  
 <span data-ttu-id="46129-118">В условных обозначениях можно скрыть любой ряд.</span><span class="sxs-lookup"><span data-stu-id="46129-118">You can hide any series from being shown in the legend.</span></span> <span data-ttu-id="46129-119">Если используется группирование рядов, будут скрыты все ряды, связанные со скрытым полем данных.</span><span class="sxs-lookup"><span data-stu-id="46129-119">If you are using series grouping, all series related to the data field will be hidden.</span></span> <span data-ttu-id="46129-120">Дополнительные сведения см. в разделе [Скрытие элементов условных обозначений на диаграмме (построитель отчетов и службы SSRS)](chart-legend-hide-items-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="46129-120">For more information, see [Hide Legend Items on the Chart &#40;Report Builder and SSRS&#41;](chart-legend-hide-items-report-builder.md).</span></span>  
  
## <a name="changing-the-text-or-color-of-a-legend-item-in-the-legend"></a><span data-ttu-id="46129-121">Изменение текста или цвета элемента условных обозначений</span><span class="sxs-lookup"><span data-stu-id="46129-121">Changing the Text or Color of a Legend Item in the Legend</span></span>  
 <span data-ttu-id="46129-122">При помещении поля в области добавления поля данных диаграммы автоматически создается элемент условного обозначения, содержащий имя этого поля.</span><span class="sxs-lookup"><span data-stu-id="46129-122">When a field is placed in the data field drop-zone of a chart, a legend item is automatically generated that contains the name of this field.</span></span> <span data-ttu-id="46129-123">По умолчанию текст каждого элемента условных обозначений берется из имени поля данных.</span><span class="sxs-lookup"><span data-stu-id="46129-123">By default, the text of each legend item is taken from the name of the data field.</span></span> <span data-ttu-id="46129-124">Каждый элемент условных обозначений связан с отдельным рядом на диаграмме, за исключением фигурных диаграмм, в которых условные обозначения связаны с конкретными точками данных, а не с отдельными рядами.</span><span class="sxs-lookup"><span data-stu-id="46129-124">Every legend item is connected to an individual series on the chart with the exception of Shape charts, where the legend is connected to individual data points instead of individual series.</span></span> <span data-ttu-id="46129-125">Если в фигурной диаграмме определяется группа категорий, текст каждого элемента условных обозначений берется из строкового представления этой группы категорий.</span><span class="sxs-lookup"><span data-stu-id="46129-125">When a category group is defined on a Shape chart, the text of each legend item is taken from the string representation of the category group.</span></span> <span data-ttu-id="46129-126">Для круговой, кольцевой и воронкообразной диаграммы можно задать пользовательские метки, чтобы отобразить сведения, отличающиеся от меток группы категорий, относящихся к каждой конкретной точке данных.</span><span class="sxs-lookup"><span data-stu-id="46129-126">You can specify custom label text for pie, doughnut and funnel charts to show information other than the category group label that relates to each individual data point in the legend.</span></span> <span data-ttu-id="46129-127">Для этого выберите условные обозначения и задайте их текст в диалоговом окне **Свойства ряда** или в свойстве **LegendText** в панели «Свойства».</span><span class="sxs-lookup"><span data-stu-id="46129-127">To do this, select the legend and specify legend text in either the **Series Properties** dialog box or the **LegendText** property in the Properties pane.</span></span> <span data-ttu-id="46129-128">Дополнительные сведения см. в разделе [Изменение текста элемента условных обозначений (построитель отчетов и службы SSRS)](chart-legend-change-item-text-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="46129-128">For more information, see [Change the Text of a Legend Item &#40;Report Builder and SSRS&#41;](chart-legend-change-item-text-report-builder.md).</span></span>  
  
 <span data-ttu-id="46129-129">С помощью свойства **LegendText** или диалогового окна **Свойства ряда** для атрибутов, на которые имеются частые ссылки, можно также указать ключевые слова, относящиеся к конкретной диаграмме, с учетом регистра.</span><span class="sxs-lookup"><span data-stu-id="46129-129">You can also specify chart-specific, case-sensitive keywords for commonly referenced attributes in the **LegendText** property or in the **Series Properties** dialog box.</span></span> <span data-ttu-id="46129-130">Во время выполнения элемент управления диаграммы заменяет эти ключевые слова соответствующими данными.</span><span class="sxs-lookup"><span data-stu-id="46129-130">The chart control replaces these keywords at run time with their data representation.</span></span> <span data-ttu-id="46129-131">Такой подход удобен в фигурных диаграммах, поскольку можно отображать сведения, относящиеся к конкретным точкам данных.</span><span class="sxs-lookup"><span data-stu-id="46129-131">This approach is useful on Shape charts because you are able to show information relating to specific data points.</span></span> <span data-ttu-id="46129-132">Дополнительные сведения см. в разделе [Форматирование точек данных на диаграмме (построитель отчетов и службы SSRS)](formatting-data-points-on-a-chart-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="46129-132">For more information, see [Formatting Data Points on a Chart &#40;Report Builder and SSRS&#41;](formatting-data-points-on-a-chart-report-builder-and-ssrs.md).</span></span>  
  
 <span data-ttu-id="46129-133">Цвет прямоугольника, который отображается для каждого элемента условных обозначений, наследуется из цвета заливки соответствующего ряда.</span><span class="sxs-lookup"><span data-stu-id="46129-133">The colored box displayed for each legend item is inherited from the fill color of its corresponding series.</span></span> <span data-ttu-id="46129-134">Если нужно изменить цвет, отображаемый в элементе условных обозначений, необходимо изменить цвет соответствующего ряда.</span><span class="sxs-lookup"><span data-stu-id="46129-134">If you want to change the color displayed in a legend item, you will have to change the color of the corresponding series.</span></span> <span data-ttu-id="46129-135">Дополнительные сведения см. в разделе [Форматирование цветов для рядов на диаграмме (построитель отчетов и службы SSRS)](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="46129-135">For more information, see [Formatting Series Colors on a Chart &#40;Report Builder and SSRS&#41;](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md).</span></span>  
  
## <a name="removing-extra-legend-items-from-the-legend"></a><span data-ttu-id="46129-136">Удаление лишних элементов из условных обозначений</span><span class="sxs-lookup"><span data-stu-id="46129-136">Removing Extra Legend Items from the Legend</span></span>  
 <span data-ttu-id="46129-137">Условные обозначения всегда связаны с рядом.</span><span class="sxs-lookup"><span data-stu-id="46129-137">The legend is always connected to a series.</span></span> <span data-ttu-id="46129-138">Если условные обозначения содержат элемент условных обозначений, но соответствующий ряд не отображается на диаграмме, наиболее вероятной причиной является отсутствие значений в ряде.</span><span class="sxs-lookup"><span data-stu-id="46129-138">If a legend item appears in the legend but the corresponding series is not displayed in the chart, the most likely cause is that the series does not contain any values.</span></span> <span data-ttu-id="46129-139">Необходимо удалить этот ряд, чтобы удалить элемент условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="46129-139">You must remove this series in order to remove the legend item from the legend.</span></span> <span data-ttu-id="46129-140">Чтобы удалить ряд, щелкните правой кнопкой мыши нужный ряд и выберите команду «Удалить ряд».</span><span class="sxs-lookup"><span data-stu-id="46129-140">To remove a series from your chart, you can right-click the specified series and select the Delete Series option.</span></span>  
  
## <a name="repositioning-the-legend"></a><span data-ttu-id="46129-141">Перемещение условных обозначений</span><span class="sxs-lookup"><span data-stu-id="46129-141">Repositioning the Legend</span></span>  
 <span data-ttu-id="46129-142">Область диаграммы — это прямоугольная область, включающая метки осей и область построения.</span><span class="sxs-lookup"><span data-stu-id="46129-142">The chart area is the rectangular area that encompasses the axis labels and the plotting area.</span></span> <span data-ttu-id="46129-143">Если условные обозначения расположены вне области диаграммы, ее можно перетащить в одну из двенадцати позиций.</span><span class="sxs-lookup"><span data-stu-id="46129-143">You can drag the legend to one of twelve different positions when the legend is placed outside the chart area.</span></span> <span data-ttu-id="46129-144">По умолчанию условные обозначения отображаются вне области диаграммы.</span><span class="sxs-lookup"><span data-stu-id="46129-144">By default, the legend is shown outside the chart area.</span></span> <span data-ttu-id="46129-145">Положение условных обозначений можно задать в диалоговом окне **Свойства условных обозначений** .</span><span class="sxs-lookup"><span data-stu-id="46129-145">You can also set the position in the **Legend Properties** dialog box.</span></span>  
  
 <span data-ttu-id="46129-146">Нельзя перетащить условные обозначения в область диаграммы или за ее пределы.</span><span class="sxs-lookup"><span data-stu-id="46129-146">You cannot drag the legend inside or outside the chart area.</span></span> <span data-ttu-id="46129-147">Если условное обозначение нужно поместить в области диаграммы, в диалоговом окне **Свойства условных обозначений** в раскрывающемся списке **Закрепление**выберите **По умолчанию** , снимите флажок **Отображать условные обозначения вне области диаграммы** .</span><span class="sxs-lookup"><span data-stu-id="46129-147">If you want to position the legend inside the chart area, on the **Legend Properties** dialog box, under **Docking**, select **Default** from the drop-down list and clear the **Show legend outside chart area** option.</span></span> <span data-ttu-id="46129-148">Помещая условные обозначения в область диаграммы, можно увеличить в диаграмме пространство для точек данных.</span><span class="sxs-lookup"><span data-stu-id="46129-148">By placing the legend inside the chart area, you can maximize space for data points on the chart.</span></span> <span data-ttu-id="46129-149">Однако, в зависимости от набора данных, это может привести к перекрытию условными обозначениями некоторых точек данных и тем самым затруднить чтение диаграммы.</span><span class="sxs-lookup"><span data-stu-id="46129-149">However, depending on the dataset, it can cause the legend to overlap some data points on the chart area, making the chart more difficult to read.</span></span>  
  
## <a name="displaying-legend-items-horizontally"></a><span data-ttu-id="46129-150">Горизонтальное отображение элементов условных обозначений</span><span class="sxs-lookup"><span data-stu-id="46129-150">Displaying Legend Items Horizontally</span></span>  
 <span data-ttu-id="46129-151">По умолчанию условные обозначения форматируются как список из одной или нескольких строк, каждая из которых содержит один элемент условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="46129-151">By default, the legend is formatted as a list of one or more rows containing one legend item each.</span></span> <span data-ttu-id="46129-152">Область условных обозначений расширяется таким образом, чтобы вместить все элементы условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="46129-152">The legend area expands to accommodate the number of legend items.</span></span> <span data-ttu-id="46129-153">Если расширение области условных обозначений невозможно, выводится многоточие (...).</span><span class="sxs-lookup"><span data-stu-id="46129-153">If the legend cannot expand, an ellipsis (...) is displayed.</span></span> <span data-ttu-id="46129-154">В зависимости от заданного стиля условных обозначений, они могут расширяться вертикально или горизонтально.</span><span class="sxs-lookup"><span data-stu-id="46129-154">Depending on the specified legend style, the legend can expand vertically or horizontally.</span></span> <span data-ttu-id="46129-155">В диалоговом окне **Свойства условных обозначений** можно изменить стиль макета или выделенное пространство для элементов условных обозначений, чтобы отобразить их полностью.</span><span class="sxs-lookup"><span data-stu-id="46129-155">You can change the layout style on the **Legend Properties** dialog box or change the allocated space to display all the legend items.</span></span>  
  
 <span data-ttu-id="46129-156">Чтобы отобразить условные обозначения горизонтально, закрепите их в верхней или нижней части диаграммы.</span><span class="sxs-lookup"><span data-stu-id="46129-156">To display the legend horizontally, dock the legend to the top or bottom of the chart.</span></span> <span data-ttu-id="46129-157">В этом случае условные обозначения расширяются горизонтально.</span><span class="sxs-lookup"><span data-stu-id="46129-157">This causes the legend to expand horizontally.</span></span> <span data-ttu-id="46129-158">Можно также присвоить свойству Layout значение **Строка** или **Широкая таблица**.</span><span class="sxs-lookup"><span data-stu-id="46129-158">You can also set the Layout property to **Row** or **Wide Table**.</span></span> <span data-ttu-id="46129-159">Чтобы управлять вертикальным пространством, выделенным условным обозначениям при их закреплении в верхней или нижней части диаграммы, следует задать свойство MaxAutoSize в панели свойств.</span><span class="sxs-lookup"><span data-stu-id="46129-159">Set the MaxAutoSize property in the Properties pane to control the vertical space allocated to the legend when it is docked at the top or bottom of the chart area.</span></span>  
  
## <a name="formatting-the-legend-text"></a><span data-ttu-id="46129-160">Форматирование текста условных обозначений</span><span class="sxs-lookup"><span data-stu-id="46129-160">Formatting the Legend Text</span></span>  
 <span data-ttu-id="46129-161">На странице **Шрифт** диалогового окна **Свойства условных обозначений** можно изменить шрифт, размер, стиль и цвет текста условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="46129-161">You can change the font, size, style, and color of legend text on the **Font** page of the **Legend Properties** dialog box.</span></span>  
  
 <span data-ttu-id="46129-162">По умолчанию текст условных обозначений не оптимизируется для совпадения с областью условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="46129-162">By default, the legend text is not optimized to fit the legend area.</span></span> <span data-ttu-id="46129-163">Чтобы текст условных обозначений автоматически соответствовал выделенному пространству, задайте для свойства AutoFitTextDisabled значение `False` и установите минимальный размер шрифта для свойства минфонтсизе, чтобы он был самым низким и по-прежнему можно было использовать оптимизацию условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="46129-163">To cause the legend text to automatically fit the allocated space, set the AutoFitTextDisabled property to `False` and set a minimum font size for the MinFontSize property to the lowest font size that you think will be presentable and still allow for legend optimization.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="46129-164">См. также:</span><span class="sxs-lookup"><span data-stu-id="46129-164">See Also</span></span>  
 <span data-ttu-id="46129-165">[Диалоговое окно "Свойства условных обозначений"  — "Общие" (построитель отчетов и службы SSRS)](../legend-properties-dialog-box-general-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="46129-165">[Legend Properties Dialog Box, General &#40;Report Builder and SSRS&#41;](../legend-properties-dialog-box-general-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="46129-166">[Изменение текста элемента условных обозначений (построитель отчетов и службы SSRS)](chart-legend-change-item-text-report-builder.md) </span><span class="sxs-lookup"><span data-stu-id="46129-166">[Change the Text of a Legend Item &#40;Report Builder and SSRS&#41;](chart-legend-change-item-text-report-builder.md) </span></span>  
 <span data-ttu-id="46129-167">[Форматирование диаграммы (построитель отчетов и службы SSRS)](formatting-a-chart-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="46129-167">[Formatting a Chart &#40;Report Builder and SSRS&#41;](formatting-a-chart-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="46129-168">[Форматирование цветов для рядов на диаграмме (построитель отчетов и службы SSRS)](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="46129-168">[Formatting Series Colors on a Chart &#40;Report Builder and SSRS&#41;](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="46129-169">[Диаграммы (построитель отчетов и службы SSRS)](charts-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="46129-169">[Charts &#40;Report Builder and SSRS&#41;](charts-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="46129-170">[Скрытие элементов условных обозначений на диаграмме (построитель отчетов и службы SSRS)](chart-legend-hide-items-report-builder.md) </span><span class="sxs-lookup"><span data-stu-id="46129-170">[Hide Legend Items on the Chart &#40;Report Builder and SSRS&#41;](chart-legend-hide-items-report-builder.md) </span></span>  
 [<span data-ttu-id="46129-171">Задание цветов диаграммы с помощью палитры (построитель отчетов и службы SSRS)</span><span class="sxs-lookup"><span data-stu-id="46129-171">Define Colors on a Chart Using a Palette &#40;Report Builder and SSRS&#41;</span></span>](define-colors-on-a-chart-using-a-palette-report-builder-and-ssrs.md)  
  
  

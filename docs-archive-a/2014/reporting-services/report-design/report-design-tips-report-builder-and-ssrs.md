---
title: Советы по конструированию отчетов (построитель отчетов и службы SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: c1490ff0-5b8a-43c1-8d22-e459395db4f6
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 568a3b3efb3028a771f8678cac8f670793bc2a02
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87730177"
---
# <a name="report-design-tips-report-builder-and-ssrs"></a>Советы по конструированию отчетов (построитель отчетов и службы SSRS)
  Следуйте приведенным ниже советам при разработке отчетов.  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="designing-reports"></a><a name="DesigningReports"></a> Конструирование отчетов  
  
-   Хорошо спроектированный отчет передает сведения, которые помогают выполнять действия. Определите вопросы, на которые отчет помогает найти ответы. При проектировании отчета эти вопросы следует иметь в виду.  
  
-   Чтобы спроектировать эффективную визуализацию данных, необходимо найти способ отображения данных в понятном пользователю виде. Выберите область данных, соответствующую данным, подготавливаемым к просмотру. Например, диаграмма передает сводные и статистические сведения лучше, чем таблица, которая может растянуться на несколько страниц подробной информации. Данные из наборов можно отображать в любой области данных, включая диаграммы, карты, индикаторы, спарклайны, гистограммы и табличные данные в различных макетах сетки на основе табликса.  
  
-   Если планируется доставлять отчет в конкретном формате экспорта, следует протестировать этот формат экспорта на ранних этапах проектирования. Поддержка функций может изменяться в зависимости от выбранного модуля подготовки отчетов.  
  
-   Если планируется доставлять отчет по подписке, следует протестировать функцию подписки на ранних этапах проектирования. Поддержка параметров различается в зависимости от создаваемой подписки.  
  
-   Сложные макеты следует строить поэтапно. Можно использовать прямоугольники в качестве контейнеров для организации элементов отчета. Области данных можно строить непосредственно в области конструктора, чтобы увеличить рабочую область. После завершения каждой области перетаскивайте ее в прямоугольный контейнер. Используя прямоугольники как контейнеры, можно расположить все их содержимое за один шаг. Прямоугольники позволяют управлять способом подготовки элементов отчета к просмотру на каждой странице.  
  
-   Чтобы отчет не выглядел слишком громоздким, можно придать определенным элементам отчета условную видимость и позволить пользователю выбирать, желает ли он видеть эти элементы. Видимость можно настроить на основе логического параметра или переключателя текстового поля. Можно добавлять текстовые поля, скрываемые по условию, для отображения промежуточных результатов выражений. Когда в отчете появляются непредвиденные данные, эти промежуточные результаты могут помочь в отладке выражений.  
  
-   При работе со вложенными элементами ячеек табликса или прямоугольников можно задавать разные цвета фона для контейнеров и содержащихся в них элементов. По умолчанию цвет фона имеет значение **Нет цвета**. Элементы с заданным цветом фона видны сквозь элементы с цветом фона со значением **Нет цвета**. С помощью этой техники можно выбрать правильный элемент для задания свойств отображения, например границы видимости ячеек табликса.  
  
 Дополнительные сведения о том, что следует учесть при разработке отчета, см. в разделе [Планирование отчета (построитель отчетов)](planning-a-report-report-builder.md).  
  
##  <a name="naming-conventions-for-reports-data-sources-and-datasets"></a><a name="NamingConventions"></a> Контекст именования для отчетов, источников данных и наборов данных  
  
-   Используйте контекст именований для источников данных и наборов данных, которые документируют источник данных.  
  
    1.  **Источники данных.** Если использование фактического сервера или базы данных нежелательно по причинам безопасности, используйте псевдоним для указания источника данных пользователю.  
  
    2.  **Наборы данных.** Используйте имя, которое указывает на источник данных, на котором он основан.  
  
    3.  **Области данных.** Укажите тип области данных и то, какие данные она отображает. Имена областей данных полезны в следующих сценариях:  
  
        1.  **Область данных как элемент отчета.** Когда пользователи просматривают галереи элементов отчетов, описательные имена помогают им найти нужные элементы отчета.  
  
        2.  **Область данных как веб-канал данных.** Читатель отчета с соответствующими разрешениями сможет создать веб-канал данных ATOM из области данных.  
  
-   Вместо пробелов используйте в именах отчетов символы подчеркивания. При загрузке отчета из диспетчера отчетов пробелы заменяются символами подчеркивания. Если для сохранения отчетов локально используется функция загрузки, а затем эти отчеты включаются в среду [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], использование символов подчеркивания приводит к правильному сохранению зависимостей отчета для вложенных отчетов и ссылок детализации.  
  
##  <a name="working-with-data"></a><a name="Data"></a> Работа с данными  
  
-   На первом шаге получите все данные, с которыми предстоит работать для отображения в области данных отчета. При уточнении вопросов, ответы на которые должен представить отчет, подумайте, как ограничить данные в наборах данных отчета необходимым образом.  
  
-   Обычно в отчет включаются только данные, которые будут отображаться в нем. Чтобы позволить пользователю выбирать отображаемые в отчете данные, используйте в запросах к базам данных переменные запросов. При создании общих наборов данных предоставляйте фильтры, основанные на параметрах отчета, для сохранения функциональности.  
  
-   Опытный разработчик запросов понимает, что для промежуточных объемов данных может понадобиться сгруппировать данные в отчете, а не в запросе. При выполнении всех видов группирования в запросе отчет в большей степени становится представлением результирующего набора запроса. С другой стороны, чтобы отобразить статистические значения для больших объемов данных в таблице или матрице, включать подробные данные не нужно.  
  
-   При необходимости можно отобразить в отчете названия и расположения источников данных отчета, текст команды запроса набора данных и значения параметров. Многим новым пользователям часто непонятно, откуда берутся данные. Чтобы не перегружать отчет, можно условно скрыть текстовые поля с такими сведениями и позволить пользователям выбирать, следует ли отображать их. Можно также добавить эти сведения на последней странице отчета. Видимость текстового поля может быть основана на параметре, который может изменяться пользователем.  
  
##  <a name="interacting-with-the-report-design-surface"></a><a name="DesignSurface"></a> Взаимодействие с областью конструктора отчета  
 Область конструктора отчета не поддерживает режим непосредственного отображения (WYSIWIG). Взаимное расположение элементов отчета в области конструктора влияет на порядок их отображения на странице отчета, готового к просмотру. Пробелы сохраняются.  
  
-   Для выравнивания и упорядочения элементов в области конструктора отчетов используйте линии привязки и кнопки макета. Например, можно выровнять верхние края или границы выбранных элементов, растянуть один элемент до размеров другого или изменить расстояние между элементами.  
  
-   Для настройки положения и размера выбранных элементов в области конструктора используйте клавиши со стрелками. Например, очень удобны следующие сочетания клавиш:  
  
    -   **Клавиши со стрелками** : перемещение выбранного элемента отчета.  
  
    -   **CTRL + клавиши со стрелками** : сдвиг выбранного элемента отчета.  
  
    -   **CTRL + SHIFT + клавиши со стрелками** : увеличение или уменьшение размера выбранного элемента отчета.  
  
-   Чтобы добавить элемент в прямоугольник, используйте левую верхнюю точку курсора мыши для указания исходного положения элемента в прямоугольном контейнере. Для позиционирования выбранных объектов используйте сочетания клавиш. Прямоугольник автоматически растягивается до размеров помещенных в него элементов.  
  
-   Чтобы добавить в ячейку несколько элементов табликса, сначала необходимо добавить прямоугольник, а затем — элементы.  
  
     По умолчанию в каждой ячейке табликса есть текстовое поле. Прямоугольник при добавлении в ячейку заменяет собой текстовое поле. Например, поместите индикаторы, вложенные в прямоугольники, в ячейку табликса, чтобы было проще контролировать изменение размера диаграммы или индикатора по мере изменения высоты строки, в которой находится ячейка.  
  
-   Чтобы настроить отображение области конструктора, используйте параметр **Масштаб** . Работать можно как с целой страницей, так и с ее частями.  
  
-   Перетаскивая поля из области данных отчета на панель группировки, старайтесь не перетаскивать поле над другими элементами отчета на панели конструктора, поскольку это приводит к их выбору и отмене выбора панели данных табликса. Перетащите поле в нижнюю часть область данных отчета, а затем на панель группировки.  
  
###  <a name="selecting-items"></a><a name="Selecting"></a> Выбор элементов  
 Для выбора в области конструктора отчета нужного элемента используйте клавишу ESC, контекстное меню, появляющееся при щелчке правой кнопки мыши, панель свойств и панель группирования.  
  
-   -   Нажимайте клавишу ESC, чтобы пройти по циклу стек элементов отчета, занимающих одну и ту же область конструктора.  
  
    -   На некоторых элементах отчета можно щелкать правой кнопкой мыши и использовать контекстное меню, чтобы выбрать нужный элемент отчета или его часть.  
  
    -   На панели свойств отображаются свойства выбранного в настоящее время элемента.  
  
    -   Для работы с группами строк и группами столбцов в области данных табликса на панели группировки выберите группу.  
  
 В конструкторе отчетов среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]можно выбрать элемент из раскрывающегося списка объектов на панели инструментов «Свойства» или из иерархического представления элементов отчета в окне «Структура документа». На этой панели можно выбрать элементы и увидеть, какой элемент выбран в области конструктора. Чтобы открыть окно структуры документа, в меню **Вид** укажите **Другие окна**и щелкните **Структура документа**.  
  
##  <a name="working-with-specific-types-of-report-items"></a><a name="ReportItems"></a> Работа с определенными типами элементов отчета  
  
###  <a name="working-with-parameters"></a><a name="Parameters"></a> Работа с параметрами  
  
-   Параметры отчета предназначены в первую очередь для того, чтобы фильтровать данные в источнике данных и извлекать только те, которые отвечают целям отчета.  
  
-   Для параметров отчета нужно найти баланс между включением интерактивности и помощью пользователю в получении нужных ему результатов. Например, можно задать для параметров значения по умолчанию, которые часто используются.  
  
###  <a name="working-with-text"></a><a name="Text"></a> Работа с текстом  
  
-   При вставке в текстовое окно текста, содержащего много строк, он вставляется непрерывным фрагментом. Каждый текстовый фрагмент может быть отформатирован только как отдельный элемент. Чтобы отформатировать каждую строку в отдельности, вставьте символы новой строки в нужных местах фрагмента, нажимая RETURN. После этого для каждой отдельной строки текста в текстовом поле можно будет менять форматирование и стиль.  
  
-   Можно задать свойства формата и действия в текстовом окне или в тексте заполнителя в текстовом поле. Если текстовая строка только одна, более целесообразно задавать свойства всему текстовому полю, а не тексту.  
  
###  <a name="working-with-expressions"></a><a name="Expressions"></a> Работа с выражениями  
  
-   Основные сведения о форматах простых и сложных выражений. Простые выражения можно вводить непосредственно в текстовые поля, в свойства на панели «Свойства» или в области диалоговых окон, допускающих выражения. Дополнительные сведения см. в разделе [Выражения (построитель отчетов и службы SSRS)](expressions-report-builder-and-ssrs.md).  
  
-   При создании выражения бывает удобно создавать каждую часть выражения независимо и проверять, как она работает. Затем можно объединить все части в одно окончательное выражение. Полезным приемом может стать добавление текстового поля в ячейку матрицы, вывод на экран каждой части выражения и задание параметра условной видимости текстового поля. Для управления стилем и цветом границы скрытого текстового поля вначале поместите текстовое поле в прямоугольник, а затем установите стиль и цвет границы прямоугольника, которые соответствовали бы матрице.  
  
###  <a name="working-with-indicators"></a><a name="Indicators"></a> Работа с индикаторами  
  
-   По умолчанию индикатор отображает по крайней мере три состояния. После добавления к отчету индикатора его можно настроить, добавляя или удаляя состояния. Для облегчения просмотра рекомендуется выбирать индикатор, у которого изменяется как цвет, так и форма.  
  
##  <a name="controlling-the-rendering-of-report-items-on-the-report-page"></a><a name="Rendering"></a> Управление просмотром элементов отчета на странице отчета.  
  
-   Элементы отчета в области конструктора отчета увеличиваются до размеров содержимого из связанных наборов данных, выражений, вложенных отчетов или текстов.  
  
    -   При размещении элемента на странице отчета расстояние между ним и всеми элементами, начинающимися справа от него, станет равно минимальному расстоянию, соблюдение которого необходимо обеспечивать при расширении элемента отчета по горизонтали. Аналогичным образом, расстояние между определенным элементом и элементом над ним станет равно минимальному расстоянию, соблюдение которого необходимо обеспечивать при расширении верхнего элемента по вертикали.  
  
    -   Элемент отчета расширяется для совмещения своих данных и раздвигает соседние элементы (элементы из одного с ним родительского контейнера) по следующим правилам.  
  
    -   Каждый элемент передвигается вниз для сохранения минимального пространства между ним и элементами, находящимися над ним.  
  
    -   Каждый элемент передвигается вправо для сохранения минимального пространства между ним и элементами, находящимися слева от него. В системах с макетами для написания справа налево каждый элемент передвигается влево для сохранения минимального пространства между ним и элементами, находящимися справа от него.  
  
    -   Контейнеры растягиваются, реагируя на рост дочерних элементов. На панели «Свойства» выбранного элемента содержится свойство Parent, обозначающее контейнер элемента. Кроме того, на панели структуры документа можно посмотреть иерархию включения элементов отчета.  
  
    -   Кнопки на панели инструментов **Макет** позволяют выровнять границы, центры и промежутки у элементов отчета. Чтобы включить панель инструментов **Макет** , войдите в меню **Вид** , наведите курсор мыши на **Панели инструментов**и нажмите кнопку **Макет**.  
  
-   Если планируется сохранить отчет в виде PDF-файла, ширина отчета должна быть задана явно, чтобы в формате файла экспорта были получены желаемые результаты. Например, задайте ширину отчета точно 7,9375 дюйма, а левое и правое поля — по 0,5 дюйма.  
  
-   Чтобы просмотреть отчет в пригодном для печати виде, используйте функции **Разметка страницы** и **Настройки страницы** на панели инструментов средства просмотра отчета. Чтобы удалить ненужные горизонтальные страницы, выполните следующее.  
  
    1.  Удалите все лишние пробелы между областями данных и на границах отчета.  
  
    2.  Уменьшите поля страницы в диалоговом окне **Свойства отчета** .  
  
    3.  Используйте **Прямоугольники** в качестве контейнеров для управления способом подготовки элементов отчета к просмотру.  
  
    4.  Измените в заголовках столбцов свойство текстового поля WritingMode, чтобы использовать вертикальный текст.  
  
 В совокупности это поведение, свойства ширины и высоты элементов отчета, размер текста отчета, определения высоты и ширины страницы, параметры размера полей родительского отчета и метод разбиения на страницы, связанный с модулем подготовки отчетов, определяют то, какие элементы отчета поместятся на страницу, готовую к просмотру. Дополнительные сведения см. в статье [Разбиение на страницы в службах Reporting Services (построитель отчетов и службы SSRS)](pagination-in-reporting-services-report-builder-and-ssrs.md).  
  
## <a name="see-also"></a>См. также:  
 [построитель отчетов в SQL Server 2014](../report-builder/report-builder-in-sql-server-2016.md)   
 [Учебники по службам Reporting Services &#40;SSRS&#41;](../reporting-services-tutorials-ssrs.md)   
 [Учебники &#40;построитель отчетов&#41;](../report-builder-tutorials.md)  
  
  

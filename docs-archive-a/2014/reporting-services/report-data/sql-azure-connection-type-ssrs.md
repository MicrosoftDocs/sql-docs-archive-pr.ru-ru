---
title: Тип подключения к SQL Azure (службы SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: c84def6c-e8cf-43d9-9912-098171a7ce79
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e2c3d3e75117996f088cff96b2b7a8d4cd504127
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666450"
---
# <a name="sql-azure-connection-type-ssrs"></a><span data-ttu-id="e2c45-102">Тип соединения с SQL Azure (SSRS)</span><span class="sxs-lookup"><span data-stu-id="e2c45-102">SQL Azure Connection Type (SSRS)</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="e2c45-103">[!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)]— это размещенная в облаке реляционная база данных, построенная на основе [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] технологий.</span><span class="sxs-lookup"><span data-stu-id="e2c45-103">[!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)] is a cloud-based, hosted relational database built on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] technologies.</span></span> <span data-ttu-id="e2c45-104">Чтобы включить данные из базы данных [!INCLUDE[ssSDS](../../includes/sssds-md.md)] в отчет, необходимо иметь набор данных, основанный на источнике данных [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2c45-104">To include data from [!INCLUDE[ssSDS](../../includes/sssds-md.md)] in your report, you must have a dataset that is based on a report data source of type [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span> <span data-ttu-id="e2c45-105">Этот встроенный тип источника данных основан на модуле обработки данных [!INCLUDE[ssSDS](../../includes/sssds-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e2c45-105">This built-in data source type is based on the [!INCLUDE[ssSDS](../../includes/sssds-md.md)] data extension.</span></span> <span data-ttu-id="e2c45-106">Используйте этот тип источника данных для подключения и извлечения данных из [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2c45-106">Use this data source type to connect to and retrieve data from [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>

 <span data-ttu-id="e2c45-107">Этот модуль обработки данных поддерживает многозначные параметры, серверные статистические вычисления и учетные данные, управляемые отдельно с помощью строки подключения.</span><span class="sxs-lookup"><span data-stu-id="e2c45-107">This data extension supports multivalued parameters, server aggregates, and credentials managed separately from the connection string.</span></span>

 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] <span data-ttu-id="e2c45-108">аналогично локальному применению экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , а получение данных из [!INCLUDE[ssSDS](../../includes/sssds-md.md)] , за несколькими исключениями, идентично получению данных из [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2c45-108">is similar to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on your premises and getting data from [!INCLUDE[ssSDS](../../includes/sssds-md.md)] is, with a few exceptions, identical to getting data from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>

> [!NOTE]
>  <span data-ttu-id="e2c45-109">При открытии соединения с [!INCLUDE[ssSDS](../../includes/sssds-md.md)]задайте время ожидания соединения равным 30 секундам.</span><span class="sxs-lookup"><span data-stu-id="e2c45-109">When opening a connection to a [!INCLUDE[ssSDS](../../includes/sssds-md.md)], set the connection timeout to 30 seconds.</span></span>

 <span data-ttu-id="e2c45-110">Дополнительные сведения см. в [документации по базе данных SQL Azure](https://docs.microsoft.com/azure/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="e2c45-110">For more information, see [Azure SQL Database Documentation](https://docs.microsoft.com/azure/sql-database/).</span></span>

 <span data-ttu-id="e2c45-111">Используйте сведения в этом разделе для создания источника данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-111">Use the information in this topic to build a data source.</span></span> <span data-ttu-id="e2c45-112">Пошаговые инструкции см. в статьях [Добавление и проверка подключения к данным или источника данных &#40;построитель отчетов и служб SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-112">For step-by-step instructions, see [Add and Verify a Data Connection or Data Source &#40;Report Builder and SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md).</span></span>

##  <a name="connection-string"></a><a name="Connection"></a><span data-ttu-id="e2c45-113">Строка подключения</span><span class="sxs-lookup"><span data-stu-id="e2c45-113">Connection String</span></span>
 <span data-ttu-id="e2c45-114">При соединении с базой данных [!INCLUDE[ssSDS](../../includes/sssds-md.md)]происходит соединение с объектом базы данных в облаке.</span><span class="sxs-lookup"><span data-stu-id="e2c45-114">When you connect to [!INCLUDE[ssSDS](../../includes/sssds-md.md)], you are connecting to a database object in the cloud.</span></span> <span data-ttu-id="e2c45-115">Аналогично onsite-базам данных в размещенной базе данных может быть несколько схем, содержащих несколько таблиц, представлений и хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="e2c45-115">Just like onsite databases, the hosted database might have multiple schemas that have multiple tables, views, and stored procedures.</span></span> <span data-ttu-id="e2c45-116">Необходимо указать объект базы данных для использования в конструкторе запросов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-116">You specify the database object to use in the query designer.</span></span> <span data-ttu-id="e2c45-117">Если в строке соединения не указать базу данных, то будет установлено соединение с базой данных, заданной по умолчанию администратором для данного пользователя.</span><span class="sxs-lookup"><span data-stu-id="e2c45-117">If you do not specify a database in the connection string, you connect to the default database that the administrator assigned to you.</span></span>

 <span data-ttu-id="e2c45-118">Данные для строки соединения и учетные данные для подключения к источнику данных можно получить у администратора базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-118">Contact your database administrator for connection information and for the credentials to use to connect to the data source.</span></span> <span data-ttu-id="e2c45-119">В следующем примере строки соединения указывается образец базы данных AdventureWorks.</span><span class="sxs-lookup"><span data-stu-id="e2c45-119">The following connection string example specifies a hosted sample database named AdventureWorks.</span></span>

```
Data Source=<host>;Initial Catalog=AdventureWorks; Encrypt=True;
```

 <span data-ttu-id="e2c45-120">В дополнение к этому в диалоговом окне **Свойства источника данных** предоставляются учетные данные, например имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="e2c45-120">In addition, you use the **Data Sources Properties** dialog box to provide credentials such as user name and password.</span></span> <span data-ttu-id="e2c45-121">Параметры `User Id` и `Password` добавляются к строке соединения автоматически, их не нужно вводить в нее вручную.</span><span class="sxs-lookup"><span data-stu-id="e2c45-121">The `User Id` and `Password` options are automatically appended to the connection string; you do not need to type them as part of the connection string.</span></span>

 <span data-ttu-id="e2c45-122">Дополнительные сведения см. в разделе [Подключения к данным, источники данных и строки подключения в построителе отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-122">For more information and connection string examples, see [Data Connections, Data Sources, and Connection Strings in Report Builder](../data-connections-data-sources-and-connection-strings-in-report-builder.md).</span></span>

##  <a name="credentials"></a><a name="Credentials"></a><span data-ttu-id="e2c45-123">Информации</span><span class="sxs-lookup"><span data-stu-id="e2c45-123">Credentials</span></span>
 <span data-ttu-id="e2c45-124">Проверка подлинности Windows (встроенная безопасность) не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="e2c45-124">Windows Authentication (integrated security) is not supported.</span></span> <span data-ttu-id="e2c45-125">При попытке соединения с [!INCLUDE[ssSDS](../../includes/sssds-md.md)] при помощи проверки подлинности Windows возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="e2c45-125">If you attempt to connect to [!INCLUDE[ssSDS](../../includes/sssds-md.md)] using Windows Authentication an error occurs.</span></span> [!INCLUDE[ssSDS](../../includes/sssds-md.md)] <span data-ttu-id="e2c45-126">поддерживает только проверку подлинности SQL Server (имя пользователя и пароль), пользователи должны предоставлять учетные данные при каждом соединении с [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e2c45-126">supports only SQL Server Authentication (user name and password) and users must provide credentials (login and password) every time they connect to [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>

 <span data-ttu-id="e2c45-127">Учетные данные должны обеспечивать достаточные права для доступа к базе данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-127">Credentials must be sufficient to access the database.</span></span> <span data-ttu-id="e2c45-128">В зависимости от запроса могут потребоваться другие разрешения, например достаточные разрешения для запуска хранимых процедур и доступа к таблицам и представлениям.</span><span class="sxs-lookup"><span data-stu-id="e2c45-128">Depending on your query, you might need other permissions, such as sufficient permissions to run stored procedures and access tables and views.</span></span> <span data-ttu-id="e2c45-129">Владелец внешнего источника данных должен настроить учетные данные с правами доступа только для чтения нужных объектов базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-129">The owner of the external data source must configure credentials that are sufficient to provide read-only access to the database objects that you need.</span></span>

 <span data-ttu-id="e2c45-130">Клиент, используемый для создания отчетов, имеет следующие параметры для указания учетных данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-130">From a report authoring client, the following options are available to specify credentials:</span></span>

-   <span data-ttu-id="e2c45-131">Использовать сохраненные имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="e2c45-131">Use a stored user name and password.</span></span> <span data-ttu-id="e2c45-132">Чтобы согласовать «двойной прыжок», который происходит в случае, если база данных, содержащая отчет, не является сервером отчетов, выберите в качестве учетных данных учетные данные Windows.</span><span class="sxs-lookup"><span data-stu-id="e2c45-132">To negotiate the double hop that occurs when the database that contains the report data is different than the report server, select options to use credentials as Windows credentials.</span></span> <span data-ttu-id="e2c45-133">Кроме того, после соединения с источником данных можно прибегнуть к олицетворению пользователя, прошедшего проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="e2c45-133">You can also chose to impersonate the authenticated user after connecting to the data source.</span></span>

-   <span data-ttu-id="e2c45-134">Учетные данные не требуются.</span><span class="sxs-lookup"><span data-stu-id="e2c45-134">No credentials are required.</span></span> <span data-ttu-id="e2c45-135">Чтобы использовать этот параметр, необходима учетная запись автоматического выполнения, настроенная на сервере отчетов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-135">To use this option, you must have the unattended execution account configured on the report server.</span></span> <span data-ttu-id="e2c45-136">Дополнительные сведения см. в разделе [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) в [документации по службам Reporting Services](https://go.microsoft.com/fwlink/?linkid=121312) на сайте msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="e2c45-136">For more information, see [Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) in the [Reporting Services documentation](https://go.microsoft.com/fwlink/?linkid=121312) in on msdn.microsoft.com.</span></span>

 <span data-ttu-id="e2c45-137">Дополнительные сведения см. в разделе [подключения к данным, источники данных и строки подключения в Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) или [укажите учетные данные в построитель отчетов](../specify-credentials-in-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-137">For more information, see [Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) or [Specify Credentials in Report Builder](../specify-credentials-in-report-builder.md).</span></span>

 

##  <a name="queries"></a><a name="Query"></a><span data-ttu-id="e2c45-138">Запроса</span><span class="sxs-lookup"><span data-stu-id="e2c45-138">Queries</span></span>
 <span data-ttu-id="e2c45-139">Запрос указывает, какие данные для набора данных отчета необходимо получить.</span><span class="sxs-lookup"><span data-stu-id="e2c45-139">A query specifies which data to retrieve for a report dataset.</span></span> <span data-ttu-id="e2c45-140">Столбцы результирующего набора запроса заполняют коллекцию полей набора данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-140">The columns in the result set for a query populate the field collection for a dataset.</span></span> <span data-ttu-id="e2c45-141">Если запрос возвращает несколько результирующих наборов, отчет обрабатывает только первый результирующий набор, полученный отчетом.</span><span class="sxs-lookup"><span data-stu-id="e2c45-141">If the query returns multiple result sets, the report processes only the first result set that the query retrieves.</span></span> <span data-ttu-id="e2c45-142">Хотя между базами данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и [!INCLUDE[ssSDS](../../includes/sssds-md.md)]есть некоторые различия, например поддерживаемый размер базы данных, запросы к базам данных [!INCLUDE[ssSDS](../../includes/sssds-md.md)]пишутся так же, как и к базам данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e2c45-142">Although there are some differences between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[ssSDS](../../includes/sssds-md.md)]s such as the sizes of databases supported, writing queries against [!INCLUDE[ssSDS](../../includes/sssds-md.md)]s is similar to writing queries against [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span> <span data-ttu-id="e2c45-143">Некоторые инструкции [!INCLUDE[tsql](../../includes/tsql-md.md)] , например BACKUP, не поддерживаются в [!INCLUDE[ssSDS](../../includes/sssds-md.md)], зато они и не используются в запросах для отчетов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-143">Some [!INCLUDE[tsql](../../includes/tsql-md.md)] statements such as BACKUP are not supported in [!INCLUDE[ssSDS](../../includes/sssds-md.md)], but they are not ones that you use in report queries.</span></span> <span data-ttu-id="e2c45-144">Дополнительные сведения см. в разделе [Тип соединения SQL Server (службы SSRS)](sql-server-connection-type-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-144">For more information, see [SQL Server Connection Type &#40;SSRS&#41;](sql-server-connection-type-ssrs.md).</span></span>

 <span data-ttu-id="e2c45-145">По умолчанию при создании нового запроса или открытии существующего запроса, который может быть представлен в графическом конструкторе запросов, предоставляется доступ к конструктору реляционных запросов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-145">By default, if you create a new query or open an existing query that can be represented in the graphical query designer, the relational query designer is available.</span></span> <span data-ttu-id="e2c45-146">Запрос можно задавать следующими способами.</span><span class="sxs-lookup"><span data-stu-id="e2c45-146">You can specify a query in the following ways:</span></span>

-   <span data-ttu-id="e2c45-147">Интерактивное построение отчета.</span><span class="sxs-lookup"><span data-stu-id="e2c45-147">Build a query interactively.</span></span> <span data-ttu-id="e2c45-148">Используйте конструктор реляционных запросов, отображающий иерархическое представление таблиц, представлений, хранимых процедур и других элементов базы данных, упорядоченных схемой базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-148">Use the relational query designer that displays a hierarchical view of tables, views, stored procedures, and other database items, organized by database schema.</span></span> <span data-ttu-id="e2c45-149">Выберите столбцы из таблиц или представлений либо укажите хранимые процедуры или возвращающие табличное значение функции.</span><span class="sxs-lookup"><span data-stu-id="e2c45-149">Select columns from tables or views, or specify stored procedures or table-valued functions.</span></span> <span data-ttu-id="e2c45-150">Ограничьте число получаемых строк данных при помощи условия фильтра.</span><span class="sxs-lookup"><span data-stu-id="e2c45-150">Limit the number of rows of data to retrieve by specifying filter criteria.</span></span> <span data-ttu-id="e2c45-151">При запуске отчета фильтр можно настроить, указав для него параметры.</span><span class="sxs-lookup"><span data-stu-id="e2c45-151">Customize the filter when the report runs by setting the parameter option.</span></span>

-   <span data-ttu-id="e2c45-152">Ввод или вставка запроса.</span><span class="sxs-lookup"><span data-stu-id="e2c45-152">Type or paste a query.</span></span> <span data-ttu-id="e2c45-153">С помощью текстового конструктора запросов можно напрямую вводить текст запроса на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] , вставлять его из других источников, вводить сложные запросы, которые нельзя построить с помощью конструктора реляционных запросов, а также вводить выражения на основе запросов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-153">Use the text-based query designer to enter [!INCLUDE[tsql](../../includes/tsql-md.md)] text directly, to paste query text from another source, to enter complex queries that cannot be built by using the relational query designer, or to enter query-based expressions.</span></span>

-   <span data-ttu-id="e2c45-154">Импорт существующего запроса из файла или отчета.</span><span class="sxs-lookup"><span data-stu-id="e2c45-154">Import an existing query from a file or report.</span></span> <span data-ttu-id="e2c45-155">Используйте кнопку **Импорт запроса** конструктора запросов, чтобы найти файл с расширением SQL или RDL и импортировать запрос из него.</span><span class="sxs-lookup"><span data-stu-id="e2c45-155">Use the **Import** query button from either query designer to browse to a .sql file or .rdl file and import a query.</span></span>

 <span data-ttu-id="e2c45-156">Текстовый конструктор запросов поддерживает следующие два режима.</span><span class="sxs-lookup"><span data-stu-id="e2c45-156">The text-based query designer supports the following two modes:</span></span>

-   <span data-ttu-id="e2c45-157">[Текст.](#QueryText) Введите команды [!INCLUDE[tsql](../../includes/tsql-md.md)] , выбирающие данные из источника данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-157">[Text](#QueryText) Type [!INCLUDE[tsql](../../includes/tsql-md.md)] commands that select data from the data source.</span></span>

-   <span data-ttu-id="e2c45-158">[Хранимая процедура.](#QueryStoredProcedure) Выберите из списка хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="e2c45-158">[Stored Procedure](#QueryStoredProcedure) Choose from a list of stored procedures.</span></span>

 <span data-ttu-id="e2c45-159">Дополнительные сведения см. в разделах [Пользовательский интерфейс конструктора реляционных запросов (построитель отчетов)](relational-query-designer-user-interface-report-builder.md) и [Пользовательский интерфейс текстового конструктора запросов (построитель отчетов)](text-based-query-designer-user-interface-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-159">For more information, see [Relational Query Designer User Interface &#40;Report Builder&#41;](relational-query-designer-user-interface-report-builder.md) and [Text-based Query Designer User Interface &#40;Report Builder&#41;](text-based-query-designer-user-interface-report-builder.md).</span></span>

 <span data-ttu-id="e2c45-160">В графическом конструкторе запросов, используемом [!INCLUDE[ssSDS](../../includes/sssds-md.md)] , предусмотрена встроенная поддержка группирования и агрегатов, помогающих писать запросы, которые получают только сводку данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-160">The graphical query designer that [!INCLUDE[ssSDS](../../includes/sssds-md.md)] uses provides built-in support for grouping and aggregates to help you write queries that retrieve only summary data.</span></span> <span data-ttu-id="e2c45-161">Далее приведены функции языка [!INCLUDE[tsql](../../includes/tsql-md.md)] : предложение GROUP BY, ключевое слово DISTINCT и агрегаты, например SUM и COUNT.</span><span class="sxs-lookup"><span data-stu-id="e2c45-161">The [!INCLUDE[tsql](../../includes/tsql-md.md)] language features are: the GROUP BY clause, DISTINCT keyword, and aggregates such as SUM and COUNT.</span></span> <span data-ttu-id="e2c45-162">В текстовом конструкторе запросов предусмотрена полная поддержка языка [!INCLUDE[tsql](../../includes/tsql-md.md)] , в том числе группирование и агрегаты.</span><span class="sxs-lookup"><span data-stu-id="e2c45-162">The text-based query designer provides full support for the [!INCLUDE[tsql](../../includes/tsql-md.md)] language, including grouping and aggregates.</span></span> <span data-ttu-id="e2c45-163">Дополнительные сведения о [!INCLUDE[tsql](../../includes/tsql-md.md)] см. в разделе [Справочник по Transact-SQL (компонент Database Engine)](/sql/t-sql/language-reference)[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [электронной документации](https://go.microsoft.com/fwlink/?LinkId=141687) по  на сайте msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="e2c45-163">For more information about [!INCLUDE[tsql](../../includes/tsql-md.md)], see [Transact-SQL Reference &#40;Database Engine&#41;](/sql/t-sql/language-reference)in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?LinkId=141687) on msdn.microsoft.com.</span></span>

###  <a name="using-query-type-text"></a><a name="QueryText"></a><span data-ttu-id="e2c45-164">Использование типа запроса Text</span><span class="sxs-lookup"><span data-stu-id="e2c45-164">Using Query Type Text</span></span>
 <span data-ttu-id="e2c45-165">В текстовом конструкторе запросов вводятся команды на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] , определяющие данные в наборе данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-165">In the text-based query designer, you type [!INCLUDE[tsql](../../includes/tsql-md.md)] commands to define the data in a dataset.</span></span> <span data-ttu-id="e2c45-166">Например, следующий запрос на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] выбирает имена всех сотрудников отдела сбыта.</span><span class="sxs-lookup"><span data-stu-id="e2c45-166">For example, the following [!INCLUDE[tsql](../../includes/tsql-md.md)] query selects the names of all employees who are marketing assistants:</span></span>

```
SELECT
  HumanResources.Employee.BusinessEntityID
  ,HumanResources.Employee.JobTitle
  ,Person.Person.FirstName
  ,Person.Person.LastName
FROM
  Person.Person
  INNER JOIN HumanResources.Employee
    ON Person.Person.BusinessEntityID = HumanResources.Employee.BusinessEntityID
WHERE HumanResources.Employee.JobTitle = 'Marketing Assistant' 
```

 <span data-ttu-id="e2c45-167">Нажмите кнопку **Выполнить** (**!**) на панели инструментов, чтобы выполнить запрос и отобразить результирующий набор.</span><span class="sxs-lookup"><span data-stu-id="e2c45-167">Click the **Run** button (**!**) on the toolbar to run the query and display a result set.</span></span>

 <span data-ttu-id="e2c45-168">Для параметризации этого запроса добавьте в него параметр.</span><span class="sxs-lookup"><span data-stu-id="e2c45-168">To parameterize this query, add a query parameter.</span></span> <span data-ttu-id="e2c45-169">Например, измените предложение WHERE следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e2c45-169">For example, change the WHERE clause to the following:</span></span>

```
WHERE HumanResources.Employee.JobTitle = (@JobTitle)
```

 <span data-ttu-id="e2c45-170">После запуска запроса параметры отчета, соответствующие параметрам запроса, создаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="e2c45-170">When you run the query, report parameters that correspond to query parameters are automatically created.</span></span> <span data-ttu-id="e2c45-171">Дополнительные сведения см. в подразделе [Параметры запроса](#Parameters) далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="e2c45-171">For more information, see [Query Parameters](#Parameters) later in this topic.</span></span>



###  <a name="using-query-type-storedprocedure"></a><a name="QueryStoredProcedure"></a><span data-ttu-id="e2c45-172">Использование типа запроса StoredProcedure</span><span class="sxs-lookup"><span data-stu-id="e2c45-172">Using Query Type StoredProcedure</span></span>
 <span data-ttu-id="e2c45-173">Указать хранимую процедуру для набора данных запроса можно одним из следующих способов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-173">You can specify a stored procedure for a dataset query in one of the following ways:</span></span>

-   <span data-ttu-id="e2c45-174">В диалоговом окне **Свойства набора данных** задать параметр **Хранимая процедура** .</span><span class="sxs-lookup"><span data-stu-id="e2c45-174">In the **Dataset Properties** dialog box, set the **Stored Procedure** option.</span></span> <span data-ttu-id="e2c45-175">Выбрать из раскрывающегося списка хранимых процедур и возвращающих табличное значение функций.</span><span class="sxs-lookup"><span data-stu-id="e2c45-175">Choose from the drop-down list of stored procedures and table-valued functions.</span></span>

-   <span data-ttu-id="e2c45-176">В конструкторе реляционных запросов в панели представления базы данных выбрать хранимую процедуру или возвращающую табличное значение функцию.</span><span class="sxs-lookup"><span data-stu-id="e2c45-176">In the relational query designer, in the Database view pane, select a stored procedure or table-valued function.</span></span>

-   <span data-ttu-id="e2c45-177">В текстовом конструкторе запросов выбрать элемент **Хранимая процедуру** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="e2c45-177">In the text-based query designer, select **StoredProcedure** from the toolbar.</span></span>

 <span data-ttu-id="e2c45-178">После выбора хранимой процедуры или возвращающей табличное значение функции можно запустить запрос.</span><span class="sxs-lookup"><span data-stu-id="e2c45-178">After you select a stored procedure or table-valued function, you can run the query.</span></span> <span data-ttu-id="e2c45-179">Появится подсказка ввести значения входных параметров.</span><span class="sxs-lookup"><span data-stu-id="e2c45-179">You will be prompted for input parameter values.</span></span> <span data-ttu-id="e2c45-180">После запуска запроса параметры отчета, соответствующие входным параметрам, создаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="e2c45-180">When you run the query, report parameters that correspond to input parameters are automatically created.</span></span> <span data-ttu-id="e2c45-181">Дополнительные сведения см. в подразделе [Параметры запроса](#Parameters) далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="e2c45-181">For more information, see [Query Parameters](#Parameters) later in this topic.</span></span>

 <span data-ttu-id="e2c45-182">Поддерживается только первый результирующий набор, получаемый хранимой процедурой.</span><span class="sxs-lookup"><span data-stu-id="e2c45-182">Only the first result set that is retrieved for a stored procedure is supported.</span></span> <span data-ttu-id="e2c45-183">Если хранимая процедура возвращает несколько результирующих наборов, используется только первый из них.</span><span class="sxs-lookup"><span data-stu-id="e2c45-183">If a stored procedure returns multiple result sets, only the first one is used.</span></span>

 <span data-ttu-id="e2c45-184">Если у хранимой процедуры есть параметр со значением по умолчанию, доступ к этому значению можно получить с помощью ключевого слова DEFAULT в качестве значения параметра.</span><span class="sxs-lookup"><span data-stu-id="e2c45-184">If a stored procedure has a parameter that has a default value, you can access that value by using the DEFAULT keyword as a value for the parameter.</span></span> <span data-ttu-id="e2c45-185">Если параметр запроса связан с параметром отчета, пользователь может ввести или выбрать слово DEFAULT в поле ввода параметра отчета.</span><span class="sxs-lookup"><span data-stu-id="e2c45-185">If the query parameter is linked to a report parameter, the user can type or select the word DEFAULT in the input box for the report parameter.</span></span>

 <span data-ttu-id="e2c45-186">Дополнительные сведения о хранимых процедурах см. в подразделе "Хранимые процедуры (компонент Database Engine)" [электронной документации по SQL Server](https://go.microsoft.com/fwlink/?linkid=98335) на веб-сайте msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="e2c45-186">For more information about stored procedures, see "Stored Procedures (Database Engine)" in [SQL Server Books Online](https://go.microsoft.com/fwlink/?linkid=98335) on msdn.microsoft.com.</span></span>



##  <a name="parameters"></a><a name="Parameters"></a> <span data-ttu-id="e2c45-187">Параметры</span><span class="sxs-lookup"><span data-stu-id="e2c45-187">Parameters</span></span>
 <span data-ttu-id="e2c45-188">Если в тексте запроса содержатся переменные запроса или хранимые процедуры с входными параметрами, автоматически создаются соответствующие параметры запроса для набора данных и параметры отчета.</span><span class="sxs-lookup"><span data-stu-id="e2c45-188">When query text contains query variables or stored procedures that have input parameters, the corresponding query parameters for the dataset and report parameters for the report are automatically generated.</span></span> <span data-ttu-id="e2c45-189">Текст запроса не должен включать инструкцию DECLARE для всех переменных запроса.</span><span class="sxs-lookup"><span data-stu-id="e2c45-189">The query text must not include the DECLARE statement for each query variable.</span></span>

 <span data-ttu-id="e2c45-190">Например, следующий SQL-запрос создает параметр отчета с именем `EmpID`.</span><span class="sxs-lookup"><span data-stu-id="e2c45-190">For example, the following SQL query creates a report parameter named `EmpID`:</span></span>

```
SELECT FirstName, LastName FROM HumanResources.Employee E INNER JOIN
       Person.Contact C ON  E.ContactID=C.ContactID 
WHERE EmployeeID = (@EmpID)
```

 <span data-ttu-id="e2c45-191">По умолчанию каждый параметр отчета имеет тип данных «Текст» и автоматически создает набор данных, обеспечивая раскрывающийся список с доступными значениями.</span><span class="sxs-lookup"><span data-stu-id="e2c45-191">By default, each report parameter has data type Text and an automatically created dataset to provide a drop-down list of available values.</span></span> <span data-ttu-id="e2c45-192">После создания параметров отчета можно изменить значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e2c45-192">After the report parameters are created, you might have to change default values.</span></span> <span data-ttu-id="e2c45-193">Дополнительные сведения см. в разделе [Параметры отчета (построитель отчетов и конструктор отчетов)](../report-design/report-parameters-report-builder-and-report-designer.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-193">For more information, see [Report Parameters &#40;Report Builder and Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md).</span></span>



##  <a name="remarks"></a><a name="Remarks"></a> <span data-ttu-id="e2c45-194">Замечания</span><span class="sxs-lookup"><span data-stu-id="e2c45-194">Remarks</span></span>

###### <a name="alternate-data-extensions"></a><span data-ttu-id="e2c45-195">Альтернативные модули обработки данных</span><span class="sxs-lookup"><span data-stu-id="e2c45-195">Alternate Data Extensions</span></span>
 <span data-ttu-id="e2c45-196">Данные из базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] также можно получить с помощью источника данных ODBC.</span><span class="sxs-lookup"><span data-stu-id="e2c45-196">You can also retrieve data from a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database by using an ODBC data source type.</span></span> <span data-ttu-id="e2c45-197">Соединение с базой данных [!INCLUDE[ssSDS](../../includes/sssds-md.md)] с помощью OLE DB не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="e2c45-197">Connecting to [!INCLUDE[ssSDS](../../includes/sssds-md.md)] by using OLE DB is not supported.</span></span>

 <span data-ttu-id="e2c45-198">Дополнительные сведения см. в разделе [Тип подключения к ODBC (службы SSRS)](odbc-connection-type-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="e2c45-198">For more information, see [ODBC Connection Type &#40;SSRS&#41;](odbc-connection-type-ssrs.md).</span></span>

###### <a name="platform-and-version-information"></a><span data-ttu-id="e2c45-199">Сведения о платформе и версии</span><span class="sxs-lookup"><span data-stu-id="e2c45-199">Platform and Version Information</span></span>
 <span data-ttu-id="e2c45-200">Дополнительные сведения о поддержке платформ и версий см. в разделе [Источники данных, поддерживаемые службами Reporting Services (службы SSRS)](../create-deploy-and-manage-mobile-and-paginated-reports.md) документации к [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [электронной документации](https://go.microsoft.com/fwlink/?linkid=121312) по .</span><span class="sxs-lookup"><span data-stu-id="e2c45-200">For more information about platform and version support, see [Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) in the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] documentation in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>



##  <a name="how-to-topics"></a><a name="HowTo"></a><span data-ttu-id="e2c45-201">Разделы руководства</span><span class="sxs-lookup"><span data-stu-id="e2c45-201">How-To Topics</span></span>
 <span data-ttu-id="e2c45-202">В этом разделе содержатся пошаговые инструкции по работе с подключениями к данным, источниками данных и наборами данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-202">This section contains step-by-step instructions for working with data connections, data sources, and datasets.</span></span>

 [<span data-ttu-id="e2c45-203">Добавление и проверка подключения к данным или источника данных &#40;построитель отчетов и служб SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="e2c45-203">Add and Verify a Data Connection or Data Source &#40;Report Builder and SSRS&#41;</span></span>](add-and-verify-a-data-connection-report-builder-and-ssrs.md)

 [<span data-ttu-id="e2c45-204">Создание общего или внедренного набора данных (построитель отчетов и службы SSRS)</span><span class="sxs-lookup"><span data-stu-id="e2c45-204">Create a Shared Dataset or Embedded Dataset &#40;Report Builder and SSRS&#41;</span></span>](create-a-shared-dataset-or-embedded-dataset-report-builder-and-ssrs.md)

 [<span data-ttu-id="e2c45-205">Добавление фильтра к набору данных (построитель отчетов и службы SSRS)</span><span class="sxs-lookup"><span data-stu-id="e2c45-205">Add a Filter to a Dataset &#40;Report Builder and SSRS&#41;</span></span>](add-a-filter-to-a-dataset-report-builder-and-ssrs.md)



##  <a name="related-sections"></a><a name="Related"></a> <span data-ttu-id="e2c45-206">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="e2c45-206">Related Sections</span></span>
 <span data-ttu-id="e2c45-207">В этих разделах документации содержатся подробные сведения о данных отчетов, а также методические сведения об определении, настройке и использовании элементов отчетов, связанных с данными.</span><span class="sxs-lookup"><span data-stu-id="e2c45-207">These sections of the documentation provide in-depth conceptual information about report data, and procedural information about how to define, customize, and use parts of a report that are related to data.</span></span>

 <span data-ttu-id="e2c45-208">[Добавление данных в построитель отчетов &#40;отчетов и SSRS&#41;](report-datasets-ssrs.md) Содержит общие сведения о доступе к данным для отчета.</span><span class="sxs-lookup"><span data-stu-id="e2c45-208">[Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md) Provides an overview of accessing data for your report.</span></span>

 <span data-ttu-id="e2c45-209">[Подключения к данным, источники данных и строки подключения в построитель отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md) Предоставляет сведения о подключениях к данным и источниках данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-209">[Data Connections, Data Sources, and Connection Strings in Report Builder](../data-connections-data-sources-and-connection-strings-in-report-builder.md) Provides information about data connections and data sources.</span></span>

 <span data-ttu-id="e2c45-210">[Внедренные и общие наборы данных отчета &#40;построитель отчетов и службы SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) Предоставляет сведения о внедренных и общих наборах данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-210">[Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) Provides information about embedded and shared datasets.</span></span>

 <span data-ttu-id="e2c45-211">[&#40;построитель отчетов коллекции полей набора данных и службы SSRS&#41;](dataset-fields-collection-report-builder-and-ssrs.md) Предоставляет сведения о коллекции полей набора данных, созданной запросом.</span><span class="sxs-lookup"><span data-stu-id="e2c45-211">[Dataset Fields Collection &#40;Report Builder and SSRS&#41;](dataset-fields-collection-report-builder-and-ssrs.md) Provides information about the dataset field collection generated by the query.</span></span>

 <span data-ttu-id="e2c45-212">[Источники данных, поддерживаемые службами Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md), см. в документации [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [электронной документации](https://go.microsoft.com/fwlink/?linkid=121312).</span><span class="sxs-lookup"><span data-stu-id="e2c45-212">[Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) in the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] documentation in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>
<span data-ttu-id="e2c45-213">Предоставляет подробные сведения о поддержке платформ и версий для каждого модуля обработки данных.</span><span class="sxs-lookup"><span data-stu-id="e2c45-213">Provides in-depth information about platform and version support for each data extension.</span></span>



## <a name="see-also"></a><span data-ttu-id="e2c45-214">См. также:</span><span class="sxs-lookup"><span data-stu-id="e2c45-214">See Also</span></span>
 <span data-ttu-id="e2c45-215">[Параметры отчета &#40;построитель отчетов и конструктор отчетов&#41;](../report-design/report-parameters-report-builder-and-report-designer.md) [фильтр, группировка и сортировка данных &#40;ПОСТРОИТЕЛЬ отчетов и службы SSRS&#41;](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md) [выражения &#40;построитель отчетов и службы SSRS&#41;](../report-design/expressions-report-builder-and-ssrs.md)</span><span class="sxs-lookup"><span data-stu-id="e2c45-215">[Report Parameters &#40;Report Builder and Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md) [Filter, Group, and Sort Data &#40;Report Builder and SSRS&#41;](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md) [Expressions &#40;Report Builder and SSRS&#41;](../report-design/expressions-report-builder-and-ssrs.md)</span></span>



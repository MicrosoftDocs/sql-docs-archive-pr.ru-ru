---
title: Пользовательский интерфейс текстового конструктора запросов (построитель отчетов) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10010"
helpviewer_keywords:
- query designers, text-based
ms.assetid: 89fddca5-bd96-4128-9072-5348d1b6e02c
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: c1415bdfada46ac09c9ab04047d63484593933e8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654825"
---
# <a name="text-based-query-designer-user-interface-report-builder"></a><span data-ttu-id="19c76-102">Пользовательский интерфейс текстового конструктора запросов (построитель отчетов)</span><span class="sxs-lookup"><span data-stu-id="19c76-102">Text-based Query Designer User Interface (Report Builder)</span></span>
  <span data-ttu-id="19c76-103">Текстовый конструктор запросов предназначен для ввода запроса на языке запросов, поддерживаемом источником данных, его выполнения и просмотра результатов во время разработки.</span><span class="sxs-lookup"><span data-stu-id="19c76-103">Use the text-based query designer to specify a query using the query language supported by the data source, run the query, and view the results at design time.</span></span> <span data-ttu-id="19c76-104">Можно указать несколько инструкций, запросов или команд языка [!INCLUDE[tsql](../../../includes/tsql-md.md)] для создания собственных модулей обработки данных, а также указать запросы, заданные как выражения.</span><span class="sxs-lookup"><span data-stu-id="19c76-104">You can specify multiple [!INCLUDE[tsql](../../../includes/tsql-md.md)] statements, query or command syntax for custom data processing extensions, and queries that are specified as expressions.</span></span> <span data-ttu-id="19c76-105">Поскольку текстовый конструктор запросов не выполняет предварительную обработку запроса и позволяет использовать любой синтаксис запросов, он представляет собой стандартное средство конструктора запросов для источников данных многих типов.</span><span class="sxs-lookup"><span data-stu-id="19c76-105">Because the text-based query designer does not preprocess the query and can accommodate any kind of query syntax, this is the default query designer tool for many data source types.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="19c76-106">При создании и выполнении запросов пользователи получают доступ к источникам данных.</span><span class="sxs-lookup"><span data-stu-id="19c76-106">Users access data sources when they create and run queries.</span></span> <span data-ttu-id="19c76-107">Следует предоставить минимальные разрешения на источники данных, например разрешение только на чтение.</span><span class="sxs-lookup"><span data-stu-id="19c76-107">You should grant minimal permissions on the data sources, such as read-only permissions.</span></span>

 <span data-ttu-id="19c76-108">В окне текстового конструктора запросов отображаются панель инструментов и следующие две области.</span><span class="sxs-lookup"><span data-stu-id="19c76-108">The text-based query designer displays a toolbar and the following two panes:</span></span>

-   <span data-ttu-id="19c76-109">**Запрос** Показывает текст запроса, имя таблицы или имя хранимой процедуры, в зависимости от типа запроса.</span><span class="sxs-lookup"><span data-stu-id="19c76-109">**Query** Shows the query text, table name, or stored procedure name depending on the query type.</span></span> <span data-ttu-id="19c76-110">Не все типы запросов поддерживаются всеми типами источников данных.</span><span class="sxs-lookup"><span data-stu-id="19c76-110">Not all query types are available for all data source types.</span></span> <span data-ttu-id="19c76-111">Например, имя таблицы поддерживается только для типа источника данных OLE DB.</span><span class="sxs-lookup"><span data-stu-id="19c76-111">For example, table name is supported only for the data source type OLE DB.</span></span>

-   <span data-ttu-id="19c76-112">**Результат** Показывает результаты выполнения запроса во время разработки.</span><span class="sxs-lookup"><span data-stu-id="19c76-112">**Result** Shows the results of running the query at design time.</span></span>

## <a name="text-based-query-designer-toolbar"></a><span data-ttu-id="19c76-113">Панель инструментов текстового конструктора запросов</span><span class="sxs-lookup"><span data-stu-id="19c76-113">Text-based Query Designer Toolbar</span></span>
 <span data-ttu-id="19c76-114">Текстовый конструктор запросов предоставляет одну панель инструментов для всех типов команд.</span><span class="sxs-lookup"><span data-stu-id="19c76-114">The text-based query designer provides a single toolbar for all the command types.</span></span> <span data-ttu-id="19c76-115">В следующей таблице перечислены все кнопки панели инструментов и их функции.</span><span class="sxs-lookup"><span data-stu-id="19c76-115">The following table lists each button on the toolbar and its function.</span></span>

|<span data-ttu-id="19c76-116">Кнопка</span><span class="sxs-lookup"><span data-stu-id="19c76-116">Button</span></span>|<span data-ttu-id="19c76-117">Описание</span><span class="sxs-lookup"><span data-stu-id="19c76-117">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="19c76-118">**Редактировать как текст**</span><span class="sxs-lookup"><span data-stu-id="19c76-118">**Edit As Text**</span></span>|<span data-ttu-id="19c76-119">Переключиться из текстового конструктора запросов в графический и обратно.</span><span class="sxs-lookup"><span data-stu-id="19c76-119">Toggle between the text-based query designer and the graphical query designer.</span></span> <span data-ttu-id="19c76-120">Не все источники данных поддерживают графические конструкторы запросов.</span><span class="sxs-lookup"><span data-stu-id="19c76-120">Not all data source types support graphical query designers.</span></span>|
|<span data-ttu-id="19c76-121">**Импорт**</span><span class="sxs-lookup"><span data-stu-id="19c76-121">**Import**</span></span>|<span data-ttu-id="19c76-122">Импорт существующего запроса из файла или отчета.</span><span class="sxs-lookup"><span data-stu-id="19c76-122">Import an existing query from a file or report.</span></span> <span data-ttu-id="19c76-123">Поддерживаются только SQL-файлы и RDL-файлы.</span><span class="sxs-lookup"><span data-stu-id="19c76-123">Only file types sql and rdl are supported</span></span>|
|<span data-ttu-id="19c76-124">![Выполнить запрос](../../analysis-services/media/rsqdicon-run.gif "Выполнить запрос")</span><span class="sxs-lookup"><span data-stu-id="19c76-124">![Run the query](../../analysis-services/media/rsqdicon-run.gif "Run the query")</span></span>|<span data-ttu-id="19c76-125">Выполнить запрос и показать результирующий набор в панели результатов.</span><span class="sxs-lookup"><span data-stu-id="19c76-125">Run the query and display the result set in the Result pane.</span></span>|
|<span data-ttu-id="19c76-126">**Тип команды**</span><span class="sxs-lookup"><span data-stu-id="19c76-126">**Command Type**</span></span>|<span data-ttu-id="19c76-127">Выберите **Text**, **StoredProcedure**или **TableDirect**.</span><span class="sxs-lookup"><span data-stu-id="19c76-127">Select **Text**, **StoredProcedure**, or **TableDirect**.</span></span> <span data-ttu-id="19c76-128">Если хранимая процедура имеет параметры, при нажатии на панели инструментов кнопки **Выполнить** появится диалоговое окно **Определение параметров запроса** , в котором можно ввести значения параметров.</span><span class="sxs-lookup"><span data-stu-id="19c76-128">If a stored procedure has parameters, the **Define Query Parameters** dialog box appears when you click **Run** on the toolbar, and you can fill in values as needed.</span></span><br /><br /> <span data-ttu-id="19c76-129">Примечание. Если хранимая процедура возвращает более одного результирующего набора, для заполнения набора данных значениями используется первый результирующий набор.</span><span class="sxs-lookup"><span data-stu-id="19c76-129">Note: If a stored procedure returns more than one result set, only the first result set is used to populate the dataset.</span></span>|

### <a name="command-type-text"></a><span data-ttu-id="19c76-130">Тип команды Text</span><span class="sxs-lookup"><span data-stu-id="19c76-130">Command Type Text</span></span>
 <span data-ttu-id="19c76-131">При создании набора данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] конструктор реляционных запросов открывается по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="19c76-131">When you create a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dataset, the relational query designer opens by default.</span></span> <span data-ttu-id="19c76-132">Чтобы переключиться в текстовый конструктор запросов, нажмите кнопку переключателя **Редактировать как текст** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="19c76-132">To switch to the text-based query designer, click the **Edit As Text** toggle button on the toolbar.</span></span> <span data-ttu-id="19c76-133">В окне текстового конструктора запросов отображаются две панели: панель запросов и область результатов.</span><span class="sxs-lookup"><span data-stu-id="19c76-133">The text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="19c76-134">На следующем рисунке показана каждая панель.</span><span class="sxs-lookup"><span data-stu-id="19c76-134">The following figure labels each pane.</span></span>

 <span data-ttu-id="19c76-135">![Простой конструктор запросов для запросов к реляционным данным](../../analysis-services/media/rsqd-dsaw-sql-generic.gif "Простой конструктор запросов для запросов к реляционным данным")</span><span class="sxs-lookup"><span data-stu-id="19c76-135">![Generic query designer, for relational data query](../../analysis-services/media/rsqd-dsaw-sql-generic.gif "Generic query designer, for relational data query")</span></span>

 <span data-ttu-id="19c76-136">В следующей таблице описываются функции каждой панели.</span><span class="sxs-lookup"><span data-stu-id="19c76-136">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="19c76-137">Панель</span><span class="sxs-lookup"><span data-stu-id="19c76-137">Pane</span></span>|<span data-ttu-id="19c76-138">Компонент</span><span class="sxs-lookup"><span data-stu-id="19c76-138">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="19c76-139">Запрос</span><span class="sxs-lookup"><span data-stu-id="19c76-139">Query</span></span>|<span data-ttu-id="19c76-140">Отображает текст запроса [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="19c76-140">Displays the [!INCLUDE[tsql](../../../includes/tsql-md.md)] query text.</span></span> <span data-ttu-id="19c76-141">Используйте эту панель, чтобы написать или изменить запрос [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="19c76-141">Use this pane to write or edit a [!INCLUDE[tsql](../../../includes/tsql-md.md)] query.</span></span>|
|<span data-ttu-id="19c76-142">Результат</span><span class="sxs-lookup"><span data-stu-id="19c76-142">Result</span></span>|<span data-ttu-id="19c76-143">Отображает результаты запроса.</span><span class="sxs-lookup"><span data-stu-id="19c76-143">Displays the results of the query.</span></span> <span data-ttu-id="19c76-144">Чтобы выполнить запрос, щелкните правой кнопкой мыши любую область и выберите команду **Выполнить**либо нажмите кнопку **Выполнить** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="19c76-144">To run the query, right-click in any pane and click **Run**, or click the **Run** button on the toolbar.</span></span>|

#### <a name="example"></a><span data-ttu-id="19c76-145">Пример</span><span class="sxs-lookup"><span data-stu-id="19c76-145">Example</span></span>
 <span data-ttu-id="19c76-146">Следующий запрос возвращает список фамилий из [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] таблицы базы данных **2008** `ContactType` для `Person` схемы.</span><span class="sxs-lookup"><span data-stu-id="19c76-146">The following query returns the list of last names from the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)]**2008** database `ContactType` table for the `Person` schema.</span></span>

```
SELECT Name FROM Person.ContactType
```

 <span data-ttu-id="19c76-147">При нажатии кнопки **Выполнить** на панели инструментов выполняется команда на панели **Запрос** , а результаты выводятся на панели **Результат** .</span><span class="sxs-lookup"><span data-stu-id="19c76-147">When you click **Run** on the toolbar, the command in the **Query** pane runs and the results are displayed in the **Result** pane.</span></span> <span data-ttu-id="19c76-148">Результирующий набор отображает список из 20 типов контактов, например владельца или агента по продажам.</span><span class="sxs-lookup"><span data-stu-id="19c76-148">The resultset displays a list of 20 types of contacts, for example, Owner or Sales Agent.</span></span>

### <a name="command-type-storedprocedure"></a><span data-ttu-id="19c76-149">Тип команды StoredProcedure</span><span class="sxs-lookup"><span data-stu-id="19c76-149">Command Type StoredProcedure</span></span>
 <span data-ttu-id="19c76-150">Если выбран **Тип команды StoredProcedure**, то текстовый конструктор запросов содержит две панели: панель запросов и область результатов.</span><span class="sxs-lookup"><span data-stu-id="19c76-150">When you select **Command typeStoredProcedure**, the text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="19c76-151">Введите имя хранимой процедуры в области «Запрос» и нажмите кнопку **Выполнить** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="19c76-151">Enter the stored procedure name in the Query pane and click **Run** on the toolbar.</span></span> <span data-ttu-id="19c76-152">Если хранимые процедуры используют параметры, откроется диалоговое окно **Определение параметров запроса** .</span><span class="sxs-lookup"><span data-stu-id="19c76-152">If the stored procedures uses parameters, the **Define Query Parameters** dialog box opens.</span></span> <span data-ttu-id="19c76-153">Введите значения параметров для хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="19c76-153">Enter the parameter values for the stored procedure.</span></span> <span data-ttu-id="19c76-154">Параметр отчета создается для каждого входного параметра хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="19c76-154">A report parameter is created for every stored procedure input parameter.</span></span>

 <span data-ttu-id="19c76-155">На следующем рисунке показаны области «Запрос» и «Результаты» при выполнении хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="19c76-155">The following figure shows the Query and Results panes when you run a stored procedure.</span></span> <span data-ttu-id="19c76-156">В данном случае входные параметры являются константами.</span><span class="sxs-lookup"><span data-stu-id="19c76-156">In this case, the input parameters are constants.</span></span>

 <span data-ttu-id="19c76-157">![Хранимая процедура в конструкторе запросов на основе текста](../../analysis-services/media/rs-relational-text-sp.gif "Хранимая процедура в конструкторе запросов на основе текста")</span><span class="sxs-lookup"><span data-stu-id="19c76-157">![Stored procedure in text-based query designer](../../analysis-services/media/rs-relational-text-sp.gif "Stored procedure in text-based query designer")</span></span>

 <span data-ttu-id="19c76-158">В следующей таблице описываются функции каждой панели.</span><span class="sxs-lookup"><span data-stu-id="19c76-158">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="19c76-159">Панель</span><span class="sxs-lookup"><span data-stu-id="19c76-159">Pane</span></span>|<span data-ttu-id="19c76-160">Компонент</span><span class="sxs-lookup"><span data-stu-id="19c76-160">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="19c76-161">Запрос</span><span class="sxs-lookup"><span data-stu-id="19c76-161">Query</span></span>|<span data-ttu-id="19c76-162">Отображает имя хранимой процедуры и все входные параметры.</span><span class="sxs-lookup"><span data-stu-id="19c76-162">Displays the name of the stored procedure and any input parameters.</span></span>|
|<span data-ttu-id="19c76-163">Результат</span><span class="sxs-lookup"><span data-stu-id="19c76-163">Result</span></span>|<span data-ttu-id="19c76-164">Отображает результаты запроса.</span><span class="sxs-lookup"><span data-stu-id="19c76-164">Displays the results of the query.</span></span> <span data-ttu-id="19c76-165">Чтобы выполнить запрос, щелкните правой кнопкой мыши любую область и выберите команду **Выполнить**либо нажмите кнопку **Выполнить** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="19c76-165">To run the query, right-click in any pane and click **Run**, or click the **Run** button on the toolbar.</span></span>|

#### <a name="example"></a><span data-ttu-id="19c76-166">Пример</span><span class="sxs-lookup"><span data-stu-id="19c76-166">Example</span></span>
 <span data-ttu-id="19c76-167">Следующий запрос вызывает [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] хранимую процедуру **2008** `uspGetWhereUsedProductID` .</span><span class="sxs-lookup"><span data-stu-id="19c76-167">The following query calls the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)]**2008** stored procedure `uspGetWhereUsedProductID`.</span></span> <span data-ttu-id="19c76-168">При запуске этого запроса необходимо задать значение параметра с идентификационным номером продукта.</span><span class="sxs-lookup"><span data-stu-id="19c76-168">You must enter a value for the product identification number parameter when you run the query.</span></span>

```
uspGetWhereUsedProductID
```

 <span data-ttu-id="19c76-169">Нажмите кнопку **Выполнить** ( **!** ).</span><span class="sxs-lookup"><span data-stu-id="19c76-169">Click the **Run** (**!**) button.</span></span> <span data-ttu-id="19c76-170">При получении запроса на ввод параметров введите значения из следующей таблицы.</span><span class="sxs-lookup"><span data-stu-id="19c76-170">When prompted for the query parameters, use the following table to enter values.</span></span>

|||
|-|-|
|*@StartProductID*|<span data-ttu-id="19c76-171">820</span><span class="sxs-lookup"><span data-stu-id="19c76-171">820</span></span>|
|*@CheckDate*|<span data-ttu-id="19c76-172">20010115</span><span class="sxs-lookup"><span data-stu-id="19c76-172">20010115</span></span>|

 <span data-ttu-id="19c76-173">Для указанной даты результирующий набор отображает список из 13 идентификаторов продуктов, которые используют указанный номер компонента.</span><span class="sxs-lookup"><span data-stu-id="19c76-173">For the specified date, the result set displays a list of 13 product identifiers that used the specified component number.</span></span>

### <a name="command-type-tabledirect"></a><span data-ttu-id="19c76-174">Тип команды TableDirect</span><span class="sxs-lookup"><span data-stu-id="19c76-174">Command Type TableDirect</span></span>
 <span data-ttu-id="19c76-175">Если выбран **Тип команды TableDirect**, то текстовый конструктор запросов содержит две панели: панель запросов и область результатов.</span><span class="sxs-lookup"><span data-stu-id="19c76-175">When you select **Command typeTableDirect**, the text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="19c76-176">Если ввести имя таблицы и нажать кнопку **Выполнить** , возвращаются все столбцы этой таблицы.</span><span class="sxs-lookup"><span data-stu-id="19c76-176">When you enter a table and click the **Run** button, all the columns for that table are returned.</span></span>

#### <a name="example"></a><span data-ttu-id="19c76-177">Пример</span><span class="sxs-lookup"><span data-stu-id="19c76-177">Example</span></span>
 <span data-ttu-id="19c76-178">Для типа источника данных OLE DB следующий запрос набора данных возвращает результирующий набор для всех типов контактов в [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] базе данных **2008** .</span><span class="sxs-lookup"><span data-stu-id="19c76-178">For a data source type OLE DB, the following dataset query returns a result set for all contact types in the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)]**2008** database.</span></span>

 `Person.ContactType`

 <span data-ttu-id="19c76-179">Ввод имени таблицы Person.ContactType эквивалентен созданию на языке [!INCLUDE[tsql](../../../includes/tsql-md.md)] инструкции `SELECT * FROM Person.ContactType`.</span><span class="sxs-lookup"><span data-stu-id="19c76-179">When you enter the table name Person.ContactType, it is the equivalent of creating the [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement `SELECT * FROM Person.ContactType`.</span></span>

## <a name="see-also"></a><span data-ttu-id="19c76-180">См. также:</span><span class="sxs-lookup"><span data-stu-id="19c76-180">See Also</span></span>
 <span data-ttu-id="19c76-181">[Пользовательский интерфейс конструктора реляционных запросов &#40;построитель отчетов&#41;](relational-query-designer-user-interface-report-builder.md) [конструкторы запросов &#40;построитель отчетов&#41;](../query-designers-report-builder.md)</span><span class="sxs-lookup"><span data-stu-id="19c76-181">[Relational Query Designer User Interface &#40;Report Builder&#41;](relational-query-designer-user-interface-report-builder.md) [Query Designers &#40;Report Builder&#41;](../query-designers-report-builder.md)</span></span>



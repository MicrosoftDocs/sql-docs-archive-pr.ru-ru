---
title: Указание соединений для пользовательских модулей обработки данных | Документы Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- custom data processing extensions [Reporting Services]
- IDbConnection interface, connection strings
- impersonation [Reporting Services]
- IDbConnectionExtension interface, connection strings
- data sources [Reporting Services], security
- connection strings [Reporting Services]
- credentials [Reporting Services]
- authentication [Reporting Services]
- external data sources [Reporting Services]
- data processing extensions [Reporting Services], connections
ms.assetid: 2cddc9ea-0e28-4350-80ae-332412908e47
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 4f870baf84f3412fea0a217f034b6d74e7b6cb93
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738009"
---
# <a name="specify-connections-for-custom-data-processing-extensions"></a><span data-ttu-id="d9dc3-102">Указание соединений для пользовательских модулей обработки данных</span><span class="sxs-lookup"><span data-stu-id="d9dc3-102">Specify Connections for Custom Data Processing Extensions</span></span>
  <span data-ttu-id="d9dc3-103">Для расширения возможностей поддерживаемых источников данных или поддержки их дополнительных типов, недоступных при стандартной установке служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , на сервере отчетов можно создавать пользовательские модули обработки данных или использовать модули сторонних разработчиков.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-103">You can create or use third-party custom data processing extensions on a report server to enhance the data processing capability of supported data sources, or to support additional types of data sources that are not available in a default [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation.</span></span> <span data-ttu-id="d9dc3-104">Соединения обрабатываются по-разному, в зависимости от реализации.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-104">Connections are handled differently depending on the implementation.</span></span> <span data-ttu-id="d9dc3-105">Для модулей обработки данных существуют следующие реализации.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-105">The following implementations are available for data processing extensions:</span></span>  
  
-   <span data-ttu-id="d9dc3-106">Дополнительные поставщики данных на основе платформы [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] (при доступе к данным из источников данных DB2.NET, Oracle, ODP.NET или Teradata может использоваться дополнительный поставщик данных .NET)</span><span class="sxs-lookup"><span data-stu-id="d9dc3-106">Custom [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] data providers (if you are accessing data from DB2.NET, Oracle, ODP.NET, or Teradata data sources, you might be using a custom .NET data provider)</span></span>  
  
-   <span data-ttu-id="d9dc3-107">Пользовательские модули обработки данных, поддерживающие интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection></span><span class="sxs-lookup"><span data-stu-id="d9dc3-107">Custom data processing extensions that support <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection></span></span>  
  
-   <span data-ttu-id="d9dc3-108">Пользовательские модули обработки данных, поддерживающие интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension></span><span class="sxs-lookup"><span data-stu-id="d9dc3-108">Custom data processing extensions that support <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension></span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d9dc3-109">Узнайте у стороннего поставщика сведения о том, как реализован пользовательский модуль обработки данных.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-109">Check with your third-party provider to find out how your custom data processing extension is implemented.</span></span>  
  
## <a name="impersonation-and-custom-data-processing-extensions"></a><span data-ttu-id="d9dc3-110">Олицетворение и пользовательские модули обработки данных</span><span class="sxs-lookup"><span data-stu-id="d9dc3-110">Impersonation and Custom Data Processing Extensions</span></span>  
 <span data-ttu-id="d9dc3-111">Если пользовательский модуль обработки данных использует для подключения к источникам данных олицетворение, то для выполнения запроса следует применить метод интерфейса <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> или <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> .</span><span class="sxs-lookup"><span data-stu-id="d9dc3-111">If your custom data processing extension connects to data sources using impersonation, you must use the Open method on either the <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> or <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> interfaces to make the request.</span></span> <span data-ttu-id="d9dc3-112">Кроме того, можно сохранить объект удостоверения пользователя (System.Security.Principal.WindowsIdentity), а затем использовать его в API-интерфейсах других модулей обработки данных.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-112">Alternately, you can store the user identity object (System.Security.Principal.WindowsIdentity) and then reuse it in the other data processing extension APIs.</span></span>  
  
 <span data-ttu-id="d9dc3-113">В предыдущих версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]все вызовы пользовательских модулей обработки данных производились через олицетворение пользователя.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-113">In previous releases of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], all custom data processing extensions were called under user impersonation.</span></span> <span data-ttu-id="d9dc3-114">В этой версии при олицетворении пользователя будет происходить только вызов метода Open.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-114">In this release, only the Open method will be called while impersonating the user.</span></span> <span data-ttu-id="d9dc3-115">Если используется существующий модуль обработки данных, требующий встроенной безопасности Windows, следует изменить код так, чтобы применялся метод Open или сохранялся объект удостоверения пользователя.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-115">If you have an existing data processing extension that requires integrated security, you must modify your code to use the Open method or store the user identity object.</span></span>  
  
## <a name="connections-for-custom-net-framework-data-providers"></a><span data-ttu-id="d9dc3-116">Соединения для пользовательских поставщиков данных на основе платформы .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d9dc3-116">Connections for Custom .NET Framework Data Providers</span></span>  
 <span data-ttu-id="d9dc3-117">При настройке отчета для использования конкретного источника данных следует установить свойства, определяющие тип источника данных, строку соединения и учетные данные, используемые для доступа к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-117">When configuring a report to use a specific data source, you set properties that determine the data source type, connection string, and credentials that are used to access the data source.</span></span> <span data-ttu-id="d9dc3-118">В следующей таблице описаны типы учетных данных, поддерживаемые поставщиками данных платформы [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d9dc3-118">The following table describes the credential types that are supported for [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] data providers.</span></span> <span data-ttu-id="d9dc3-119">Дополнительные сведения о задании свойств источника данных отчета см. в разделе [Задание учетных данных и сведений о соединении для источников данных отчета](specify-credential-and-connection-information-for-report-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="d9dc3-119">For more information about setting report data source properties, see [Specify Credential and Connection Information for Report Data Sources](specify-credential-and-connection-information-for-report-data-sources.md).</span></span>  
  
|<span data-ttu-id="d9dc3-120">Учетные данные</span><span class="sxs-lookup"><span data-stu-id="d9dc3-120">Credentials</span></span>|<span data-ttu-id="d9dc3-121">Соединения</span><span class="sxs-lookup"><span data-stu-id="d9dc3-121">Connections</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="d9dc3-122">Встроенные функции безопасности</span><span class="sxs-lookup"><span data-stu-id="d9dc3-122">Integrated security</span></span>|<span data-ttu-id="d9dc3-123">Можно использовать встроенную безопасность Windows, если поставщик данных ее поддерживает.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-123">If your data provider supports it, you can use Windows integrated security.</span></span> <span data-ttu-id="d9dc3-124">Запрос передается с учетными данными текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-124">The request is sent using the credentials of the current user.</span></span><br /><br /> <span data-ttu-id="d9dc3-125">При определении строки подключения обязательно включите в нее аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка подключения может содержать `Integrated Security=SSPI`).</span><span class="sxs-lookup"><span data-stu-id="d9dc3-125">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="d9dc3-126">Проверка подлинности Windows</span><span class="sxs-lookup"><span data-stu-id="d9dc3-126">Windows Authentication</span></span>|<span data-ttu-id="d9dc3-127">Можно использовать доменную учетную запись пользователя Windows, если поставщик данных поддерживает такую возможность.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-127">If your data provider supports it, you can use a Windows domain user account.</span></span> <span data-ttu-id="d9dc3-128">Перед вызовом модуля обработки данных сервер отчетов олицетворяет учетную запись пользователя.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-128">The report server impersonates the user account before the data processing extension is called.</span></span><br /><br /> <span data-ttu-id="d9dc3-129">При определении строки подключения обязательно включите в нее аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка подключения может содержать `Integrated Security=SSPI`).</span><span class="sxs-lookup"><span data-stu-id="d9dc3-129">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="d9dc3-130">Учетные данные базы данных</span><span class="sxs-lookup"><span data-stu-id="d9dc3-130">Database credentials</span></span>|<span data-ttu-id="d9dc3-131">Для соединений, осуществляемых с помощью пользовательского поставщика данных платформы .NET, проверка подлинности базы данных не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-131">Database authentication is not supported for connections made through a custom .NET data provider.</span></span> <span data-ttu-id="d9dc3-132">Во всех случаях серверу отчетов не удастся установить соединение.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-132">The report server will fail the connection in all cases.</span></span>|  
|<span data-ttu-id="d9dc3-133">Без учетных данных</span><span class="sxs-lookup"><span data-stu-id="d9dc3-133">No credentials</span></span>|<span data-ttu-id="d9dc3-134">С пользовательскими поставщиками данных на основе платформы .NET можно устанавливать соединение без учетных данных.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-134">You can use the no credentials option with custom .NET data providers.</span></span> <span data-ttu-id="d9dc3-135">Если указана автоматическая учетная запись выполнения, строка соединения использует ее учетные данные.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-135">If the unattended execution account is specified, the connection string determines the credentials that are used.</span></span> <span data-ttu-id="d9dc3-136">Для соединения сервер отчетов олицетворяет автоматическую учетную запись выполнения.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-136">The report server impersonates the unattended execution account to make the connection.</span></span><br /><br /> <span data-ttu-id="d9dc3-137">Если автоматическая учетная запись выполнения не определена, серверу отчетов не удастся установить соединение.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-137">If the unattended execution account is not defined, the report server will fail the connection.</span></span> <span data-ttu-id="d9dc3-138">Дополнительные сведения об определении учетной записи см. в разделе [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="d9dc3-138">For more information about defining the account, see [Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md).</span></span>|  
  
## <a name="connections-for-idbconnection"></a><span data-ttu-id="d9dc3-139">Соединения для интерфейса IDbConnection</span><span class="sxs-lookup"><span data-stu-id="d9dc3-139">Connections for IDbConnection</span></span>  
 <span data-ttu-id="d9dc3-140">Если используется пользовательский модуль обработки данных, поддерживающий только интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>, соединение следует указать следующим образом.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-140">If you are using a custom data processing extension that only supports <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>, you must specify the connection in the following way:</span></span>  
  
1.  <span data-ttu-id="d9dc3-141">Настройка учетной записи автоматического выполнения.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-141">Configure the unattended execution account.</span></span> <span data-ttu-id="d9dc3-142">Для соединений, использующих интерфейс `IDbConnection`, настройка этой учетной записи необходима.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-142">Configuring this account is required for connections made using `IDbConnection`.</span></span> <span data-ttu-id="d9dc3-143">При соединении сервер отчетов олицетворяет эту учетную запись, если она создана.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-143">The report server impersonates the account when making the connection.</span></span>  
  
2.  <span data-ttu-id="d9dc3-144">Настроить свойства источника данных для отчета на работу **без учетных данных**.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-144">Configure the data source properties on the report to use **No credentials**.</span></span>  
  
3.  <span data-ttu-id="d9dc3-145">Поместите учетные данные, используемые для подключения к источнику данных, в строку соединения.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-145">Put the credentials used to connect to the data source in the connection string.</span></span>  
  
 <span data-ttu-id="d9dc3-146">При использовании интерфейса `IDbConnection` не поддерживаются следующие типы учетных данных: встроенная безопасность, учетные записи пользователей Windows и учетные данные базы данных.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-146">When using `IDbConnection`, the following credential types are not supported: integrated security, Windows user accounts, and database credentials.</span></span> <span data-ttu-id="d9dc3-147">Если при соединении с источником данных используются эти параметры, осуществить подключение на сервере отчетов не удастся.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-147">If a data source connection uses these options, the connection will fail on the report server.</span></span>  
  
## <a name="connections-for-idbconnectionextension"></a><span data-ttu-id="d9dc3-148">Соединения для интерфейса IDbConnectionExtension</span><span class="sxs-lookup"><span data-stu-id="d9dc3-148">Connections for IDbConnectionExtension</span></span>  
 <span data-ttu-id="d9dc3-149">Если используется пользовательский модуль обработки данных, поддерживающий только интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>, соединение следует указать следующим образом.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-149">If you are using a custom data processing extension and supports, <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>, you can specify the connection in the following ways:</span></span>  
  
|<span data-ttu-id="d9dc3-150">Учетные данные</span><span class="sxs-lookup"><span data-stu-id="d9dc3-150">Credentials</span></span>|<span data-ttu-id="d9dc3-151">Соединения</span><span class="sxs-lookup"><span data-stu-id="d9dc3-151">Connections</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="d9dc3-152">Встроенные функции безопасности</span><span class="sxs-lookup"><span data-stu-id="d9dc3-152">Integrated security</span></span>|<span data-ttu-id="d9dc3-153">Можно использовать встроенную безопасность Windows, если поставщик данных ее поддерживает, с пользовательскими модулями обработки данных, использующими интерфейс `IDbConnectionExtension`.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-153">If your data provider supports it, you can use Windows integrated security with custom data processing extensions that use `IDbConnectionExtension`.</span></span><br /><br /> <span data-ttu-id="d9dc3-154">При определении строки подключения обязательно включите в нее аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка подключения может содержать `Integrated Security=SSPI`).</span><span class="sxs-lookup"><span data-stu-id="d9dc3-154">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="d9dc3-155">Проверка подлинности Windows</span><span class="sxs-lookup"><span data-stu-id="d9dc3-155">Windows Authentication</span></span>|<span data-ttu-id="d9dc3-156">Можно использовать доменную учетную запись пользователя Windows, если поставщик данных поддерживает такую возможность, с пользовательскими модулями обработки данных, использующими интерфейс `IDbConnectionExtension`.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-156">If your data provider supports it, you can use a Windows domain user account for custom data processing extensions that use `IDbConnectionExtension`.</span></span><br /><br /> <span data-ttu-id="d9dc3-157">Перед вызовом модуля обработки данных сервер отчетов олицетворяет учетную запись пользователя.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-157">The report server impersonates the user account before the data processing extension is called.</span></span> <span data-ttu-id="d9dc3-158">При определении строки подключения обязательно включите в нее аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка подключения может содержать `Integrated Security=SSPI`).</span><span class="sxs-lookup"><span data-stu-id="d9dc3-158">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="d9dc3-159">Учетные данные базы данных</span><span class="sxs-lookup"><span data-stu-id="d9dc3-159">Database credentials</span></span>|<span data-ttu-id="d9dc3-160">Для настройки соединений для пользовательских модулей обработки данных, использующих интерфейс `IDbConnectionExtension`, можно применить проверку подлинности базы данных.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-160">You can use database authentication to configure connections for custom data processing extensions that use `IDbConnectionExtension`.</span></span>|  
|<span data-ttu-id="d9dc3-161">Без учетных данных</span><span class="sxs-lookup"><span data-stu-id="d9dc3-161">No credentials</span></span>|<span data-ttu-id="d9dc3-162">Если указана автоматическая учетная запись выполнения, строка соединения использует ее учетные данные.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-162">If the unattended execution account is specified, the connection string determines the credentials that are used.</span></span><br /><br /> <span data-ttu-id="d9dc3-163">Если автоматическая учетная запись выполнения не определена, серверу отчетов не удастся установить соединение.</span><span class="sxs-lookup"><span data-stu-id="d9dc3-163">If the unattended execution account is not defined, the report server will fail the connection.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d9dc3-164">См. также:</span><span class="sxs-lookup"><span data-stu-id="d9dc3-164">See Also</span></span>  
 <span data-ttu-id="d9dc3-165">[Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="d9dc3-165">[Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="d9dc3-166">[Задание учетных данных и сведениях о соединении для источников данных отчета](specify-credential-and-connection-information-for-report-data-sources.md) </span><span class="sxs-lookup"><span data-stu-id="d9dc3-166">[Specify Credential and Connection Information for Report Data Sources](specify-credential-and-connection-information-for-report-data-sources.md) </span></span>  
 <span data-ttu-id="d9dc3-167">[Подключения к данным, источники данных и строки подключения в Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="d9dc3-167">[Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span></span>  
 <span data-ttu-id="d9dc3-168">[Реализация модуля обработки данных](../extensions/data-processing/implementing-a-data-processing-extension.md) </span><span class="sxs-lookup"><span data-stu-id="d9dc3-168">[Implementing a Data Processing Extension](../extensions/data-processing/implementing-a-data-processing-extension.md) </span></span>  
 <span data-ttu-id="d9dc3-169">[Диспетчер отчетов (службы Reporting Services в основном режиме)](../report-manager-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="d9dc3-169">[Report Manager  &#40;SSRS Native Mode&#41;](../report-manager-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="d9dc3-170">[Создание, удаление или изменение общего источника данных &#40;диспетчер отчетов&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="d9dc3-170">[Create, Delete, or Modify a Shared Data Source &#40;Report Manager&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span></span>  
 [<span data-ttu-id="d9dc3-171">Настройка свойств источника данных для отчета (диспетчер отчетов)</span><span class="sxs-lookup"><span data-stu-id="d9dc3-171">Configure Data Source Properties for a Report  &#40;Report Manager&#41;</span></span>](configure-data-source-properties-for-a-report-report-manager.md)  
  
  

---
title: Внедренные и общие наборы данных отчета (построитель отчетов и службы SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: adc95cc0-d15a-413d-bc5a-302eab37a069
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 21b6136433d3fca56f3a98825e3d0ab9c0cf42e8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751783"
---
# <a name="embedded-and-shared-datasets-report-builder-and-ssrs"></a><span data-ttu-id="45cc7-102">Внедренные и общие наборы данных (построитель отчетов и службы SSRS)</span><span class="sxs-lookup"><span data-stu-id="45cc7-102">Embedded and Shared Datasets (Report Builder and SSRS)</span></span>
  <span data-ttu-id="45cc7-103">Набор данных в отчете представляет данные отчета, возвращаемые из запроса к внешнему источнику данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-103">In a report, a dataset represents report data that is returned from running a query on an external data source.</span></span> <span data-ttu-id="45cc7-104">Набор данных зависит от подключения к данным, которое содержит сведения о внешнем источнике данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-104">The dataset depends on the data connection that contains information about the external data source.</span></span> <span data-ttu-id="45cc7-105">Сами по себе данные не включены в определение отчета.</span><span class="sxs-lookup"><span data-stu-id="45cc7-105">The data itself is not included in the report definition.</span></span> <span data-ttu-id="45cc7-106">Набор данных содержит команду запроса, коллекцию полей, параметры, фильтры и параметры данных, включая учет регистра и параметры сортировки.</span><span class="sxs-lookup"><span data-stu-id="45cc7-106">The dataset contains a query command, a field collection, parameters, filters, and data options that include case sensitivity and collation.</span></span> <span data-ttu-id="45cc7-107">Существует два типа наборов данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-107">There are two types of datasets:</span></span>  
  
-   <span data-ttu-id="45cc7-108">**Общие наборы данных.**</span><span class="sxs-lookup"><span data-stu-id="45cc7-108">**Shared datasets.**</span></span> <span data-ttu-id="45cc7-109">Общий набор данных публикуется на сервере отчетов и может использоваться в нескольких отчетах.</span><span class="sxs-lookup"><span data-stu-id="45cc7-109">A shared dataset is published on a report server and can be used by multiple reports.</span></span> <span data-ttu-id="45cc7-110">Общий набор данных должен быть основан на общем источнике данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-110">A shared dataset must be based on a shared data source.</span></span> <span data-ttu-id="45cc7-111">Общий набор данных может кэшироваться, кроме того, можно планировать кэширование путем создания плана обновления кэша.</span><span class="sxs-lookup"><span data-stu-id="45cc7-111">A shared dataset can be cached and scheduled by creating a cache refresh plan.</span></span>  
  
-   <span data-ttu-id="45cc7-112">**Внедренные наборы данных.**</span><span class="sxs-lookup"><span data-stu-id="45cc7-112">**Embedded datasets.**</span></span> <span data-ttu-id="45cc7-113">Внедренные наборы данных определяются и используются в одном отчете.</span><span class="sxs-lookup"><span data-stu-id="45cc7-113">Embedded datasets are defined in and used by a single report.</span></span>  
  
 <span data-ttu-id="45cc7-114">Различие между двумя типами состоит в способе создания, хранения и управления.</span><span class="sxs-lookup"><span data-stu-id="45cc7-114">The difference between the two is in how they are created, stored, and managed.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
## <a name="shared-datasets"></a><span data-ttu-id="45cc7-115">Общие наборы данных</span><span class="sxs-lookup"><span data-stu-id="45cc7-115">Shared Datasets</span></span>  
 <span data-ttu-id="45cc7-116">Общий набор данных полезен, если нужно создать запрос, который будет использоваться в нескольких отчетах.</span><span class="sxs-lookup"><span data-stu-id="45cc7-116">Use a shared dataset to provide a query that can be used by more than one report.</span></span> <span data-ttu-id="45cc7-117">Общие наборы данных хранятся на сервере отчетов и управляются независимо от отчетов и общих источников данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-117">Shared datasets are stored on the report server and managed separately from reports or shared data sources.</span></span> <span data-ttu-id="45cc7-118">Например, администратор сервера отчетов может обновить запрос, чтобы воспользоваться улучшенными возможностями по индексированию и другой оптимизации производительности запросов.</span><span class="sxs-lookup"><span data-stu-id="45cc7-118">For example, a report server administrator might update the query to take advantage of improved indexing or other query performance optimization.</span></span>  
  
 <span data-ttu-id="45cc7-119">Рекомендуется, если возможно использовать общие наборы данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-119">We recommend that you use shared datasets as much as possible.</span></span> <span data-ttu-id="45cc7-120">Это позволяет оптимизировать запрос или кэшировать его результаты для повышения производительности отчетов.</span><span class="sxs-lookup"><span data-stu-id="45cc7-120">You can optimize a query or cache query results to benefit report performance.</span></span> <span data-ttu-id="45cc7-121">Общие наборы данных упрощают управление доступом к данным, а также помогают обеспечить безопасность и повысить производительность отчетов и наборов данных, к которым они обращаются.</span><span class="sxs-lookup"><span data-stu-id="45cc7-121">Shared datasets make data access easier to manage, and help to keep reports and the datasets they access more secure and more performant.</span></span>  
  
 <span data-ttu-id="45cc7-122">В конструкторе отчетов можно создавать общие наборы данных в качестве частей проекта отчета, а также указывать, следует ли развертывать их на сервере отчетов.</span><span class="sxs-lookup"><span data-stu-id="45cc7-122">In Report Designer, you can create shared datasets as part of a report project, and control whether to deploy them to a report server.</span></span> <span data-ttu-id="45cc7-123">Нельзя выбрать общий набор данных на сервере отчетов и добавить его в отчет.</span><span class="sxs-lookup"><span data-stu-id="45cc7-123">You cannot browse to a report server and select a shared dataset to add to your report.</span></span>  
  
 <span data-ttu-id="45cc7-124">В построителе отчетов можно сделать следующее.</span><span class="sxs-lookup"><span data-stu-id="45cc7-124">In Report Builder, you can do the following:</span></span>  
  
1.  <span data-ttu-id="45cc7-125">Чтобы создать общий набор данных, используйте конструктор общих наборов данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-125">To create a shared dataset, use Shared Dataset Design View.</span></span> <span data-ttu-id="45cc7-126">Для последующего использования в других отчетах его нужно сохранить на сервере отчетов или на сайте SharePoint.</span><span class="sxs-lookup"><span data-stu-id="45cc7-126">You can save it to a report server or SharePoint site to share with other reports.</span></span> <span data-ttu-id="45cc7-127">Также можно изменить существующие общие наборы данных на сервере отчетов.</span><span class="sxs-lookup"><span data-stu-id="45cc7-127">You can also browse to the report server and edit and existing shared dataset.</span></span> <span data-ttu-id="45cc7-128">В этом представлении можно создать запрос и задать все параметры набора данных.</span><span class="sxs-lookup"><span data-stu-id="45cc7-128">In this view, you can build a query and set all dataset options.</span></span> <span data-ttu-id="45cc7-129">Дополнительные сведения см. в разделе [Представление конструктора общих наборов данных (построитель отчетов)](../report-builder/shared-dataset-design-view-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="45cc7-129">For more information, see [Shared Dataset Design View &#40;Report Builder&#41;](../report-builder/shared-dataset-design-view-report-builder.md).</span></span>  
  
2.  <span data-ttu-id="45cc7-130">Чтобы добавить к отчету общий набор данных, откройте построитель отчетов в представлении конструктора отчетов.</span><span class="sxs-lookup"><span data-stu-id="45cc7-130">To add a shared dataset to your report, open Report Builder in Report Design View.</span></span> <span data-ttu-id="45cc7-131">В мастере или в области данных отчета перейдите на сервер отчетов и выберите общий набор данных для добавления к отчету.</span><span class="sxs-lookup"><span data-stu-id="45cc7-131">From a wizard or from the Report Data pane, browse to the report server and select the shared dataset to add to your report.</span></span> <span data-ttu-id="45cc7-132">В этом представлении нельзя изменять запрос (разрешается только добавление полей).</span><span class="sxs-lookup"><span data-stu-id="45cc7-132">In this view, you cannot change the query except to add fields.</span></span> <span data-ttu-id="45cc7-133">Можно переопределять другие параметры данных, а также добавлять фильтры.</span><span class="sxs-lookup"><span data-stu-id="45cc7-133">You can override other data options and add filters.</span></span> <span data-ttu-id="45cc7-134">Удалять фильтры нельзя.</span><span class="sxs-lookup"><span data-stu-id="45cc7-134">You cannot remove filters.</span></span>  
  
3.  <span data-ttu-id="45cc7-135">В следующей таблице описывается сравнение свойств, которые можно настроить для определения общего набора данных на сервере отчетов и экземпляра общего набора данных в определении отчета.</span><span class="sxs-lookup"><span data-stu-id="45cc7-135">The following table compares the properties that can be configured for the definition of the shared dataset on the report server and the instance of the shared dataset in the report definition.</span></span>  
  
    |<span data-ttu-id="45cc7-136">Свойство</span><span class="sxs-lookup"><span data-stu-id="45cc7-136">Property</span></span>|<span data-ttu-id="45cc7-137">Замечания о конфигурации для определения</span><span class="sxs-lookup"><span data-stu-id="45cc7-137">Configuration Notes for the Definition</span></span>|<span data-ttu-id="45cc7-138">Замечания о конфигурации для экземпляра</span><span class="sxs-lookup"><span data-stu-id="45cc7-138">Configuration Notes for the Instance</span></span>|  
    |--------------|--------------------------------------------|------------------------------------------|  
    |<span data-ttu-id="45cc7-139">Текст запроса</span><span class="sxs-lookup"><span data-stu-id="45cc7-139">Query text</span></span>|<span data-ttu-id="45cc7-140">Настройка запроса, включая определение выражения.</span><span class="sxs-lookup"><span data-stu-id="45cc7-140">Configure the query, including defining it as expression.</span></span>|<span data-ttu-id="45cc7-141">Невозможно изменить запрос</span><span class="sxs-lookup"><span data-stu-id="45cc7-141">Cannot change the query.</span></span>|  
    |<span data-ttu-id="45cc7-142">Параметры запроса</span><span class="sxs-lookup"><span data-stu-id="45cc7-142">Query parameters</span></span>|<span data-ttu-id="45cc7-143">Не может ссылаться на параметры отчета</span><span class="sxs-lookup"><span data-stu-id="45cc7-143">Cannot reference report parameters</span></span><br /><br /> <span data-ttu-id="45cc7-144">Включает значения по умолчанию</span><span class="sxs-lookup"><span data-stu-id="45cc7-144">Includes default values</span></span><br /><br /> <span data-ttu-id="45cc7-145">Включает флаг «только для чтения»</span><span class="sxs-lookup"><span data-stu-id="45cc7-145">Includes a Read Only flag</span></span>|<span data-ttu-id="45cc7-146">Настройка параметров, не помеченных «только для чтения» в определении</span><span class="sxs-lookup"><span data-stu-id="45cc7-146">Configure parameters that are not marked Read Only in the definition</span></span>|  
    |<span data-ttu-id="45cc7-147">Фильтры</span><span class="sxs-lookup"><span data-stu-id="45cc7-147">Filters</span></span>|<span data-ttu-id="45cc7-148">Определение фильтров</span><span class="sxs-lookup"><span data-stu-id="45cc7-148">Define filters</span></span>|<span data-ttu-id="45cc7-149">Не может просматривать или изменять фильтры наборов данных, которые являются частью определения</span><span class="sxs-lookup"><span data-stu-id="45cc7-149">Cannot view or change dataset filters that are part of the definition</span></span><br /><br /> <span data-ttu-id="45cc7-150">Можно создавать дополнительные фильтры</span><span class="sxs-lookup"><span data-stu-id="45cc7-150">Can create additional filters</span></span>|  
    |<span data-ttu-id="45cc7-151">Источник данных</span><span class="sxs-lookup"><span data-stu-id="45cc7-151">Data Source</span></span>|<span data-ttu-id="45cc7-152">Должен быть общим источником данных</span><span class="sxs-lookup"><span data-stu-id="45cc7-152">Must be a shared data source</span></span>|<span data-ttu-id="45cc7-153">Невозможно изменить источник данных</span><span class="sxs-lookup"><span data-stu-id="45cc7-153">Cannot change the data source</span></span>|  
    |<span data-ttu-id="45cc7-154">Поля</span><span class="sxs-lookup"><span data-stu-id="45cc7-154">Fields</span></span>|<span data-ttu-id="45cc7-155">Поля из команды запроса</span><span class="sxs-lookup"><span data-stu-id="45cc7-155">Fields from the query command</span></span><br /><br /> <span data-ttu-id="45cc7-156">Вычисляемые поля не являются частью определения набора данных</span><span class="sxs-lookup"><span data-stu-id="45cc7-156">Calculated fields are not part of the dataset definition</span></span>|<span data-ttu-id="45cc7-157">Может просматривать поля, но не может их изменять</span><span class="sxs-lookup"><span data-stu-id="45cc7-157">View fields, but cannot change them</span></span><br /><br /> <span data-ttu-id="45cc7-158">Коллекция полей является статической и создается на основе запроса на момент добавления общего набора данных в отчет.</span><span class="sxs-lookup"><span data-stu-id="45cc7-158">The field collection is static based on the query at the time you added the shared dataset to the report.</span></span> <span data-ttu-id="45cc7-159">Для обновления нажмите кнопку **Обновить поля** в диалоговом окне **Свойства набора данных** .</span><span class="sxs-lookup"><span data-stu-id="45cc7-159">To update, click **Refresh Fields** in the **Dataset Properties** dialog box.</span></span> <span data-ttu-id="45cc7-160">Фактическая коллекция полей включает все поля, возвращаемые текущим запросом в определении</span><span class="sxs-lookup"><span data-stu-id="45cc7-160">The actual field collection is whatever the current query in the definition returns.</span></span><br /><br /> <span data-ttu-id="45cc7-161">Добавить вычисляемые поля</span><span class="sxs-lookup"><span data-stu-id="45cc7-161">Add calculated fields</span></span>|  
    |<span data-ttu-id="45cc7-162">Dataset</span><span class="sxs-lookup"><span data-stu-id="45cc7-162">Dataset</span></span>|<span data-ttu-id="45cc7-163">Параметры данных, такие как чувствительность к регистру</span><span class="sxs-lookup"><span data-stu-id="45cc7-163">Data options such as case sensitivity</span></span>|<span data-ttu-id="45cc7-164">Переопределение параметров данных в экземпляре</span><span class="sxs-lookup"><span data-stu-id="45cc7-164">Override data options in the instance</span></span>|  
  
## <a name="embedded-datasets"></a><span data-ttu-id="45cc7-165">Внедренные наборы данных</span><span class="sxs-lookup"><span data-stu-id="45cc7-165">Embedded Datasets</span></span>  
 <span data-ttu-id="45cc7-166">Применяйте внедренный набор данных, если необходимо, чтобы данные из внешнего источника данных использовались только в одном отчете.</span><span class="sxs-lookup"><span data-stu-id="45cc7-166">Use an embedded dataset when you want to get data from an external data source to be used only in one report.</span></span> <span data-ttu-id="45cc7-167">Внедренные наборы данных используются при необходимости создания запроса, не имеющего других зависимостей. Эти наборы данных не должны использоваться несколькими отчетами.</span><span class="sxs-lookup"><span data-stu-id="45cc7-167">Embedded datasets are useful when you want to create a query that has no other dependencies and that you do not need to use for multiple reports.</span></span>  
  
 <span data-ttu-id="45cc7-168">Чтобы создать или изменить внедренные наборы данных, используйте область данных отчета.</span><span class="sxs-lookup"><span data-stu-id="45cc7-168">To create or edit an embedded dataset, use the Report Data pane.</span></span> <span data-ttu-id="45cc7-169">После создания набора данных можно настроить его свойства в диалоговом окне **Свойства набора данных** .</span><span class="sxs-lookup"><span data-stu-id="45cc7-169">After you create a dataset, you can configure the properties in the **Dataset Properties** dialog box.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="45cc7-170">См. также:</span><span class="sxs-lookup"><span data-stu-id="45cc7-170">See Also</span></span>  
 <span data-ttu-id="45cc7-171">[Внедренные и общие подключения к данным или источники данных &#40;построитель отчетов и службы SSRS&#41;](../embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="45cc7-171">[Embedded and Shared Data Connections or Data Sources &#40;Report Builder and SSRS&#41;](../embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="45cc7-172">[Создание общего набора данных или внедренного набора данных &#40;построитель отчетов и служб SSRS&#41;](create-a-shared-dataset-or-embedded-dataset-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="45cc7-172">[Create a Shared Dataset or Embedded Dataset &#40;Report Builder and SSRS&#41;](create-a-shared-dataset-or-embedded-dataset-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="45cc7-173">[Добавление данных в построитель отчетов &#40;отчетов и SSRS&#41;](report-datasets-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="45cc7-173">[Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md) </span></span>  
 <span data-ttu-id="45cc7-174">[Коллекция полей набора данных (построитель отчетов и службы SSRS)](dataset-fields-collection-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="45cc7-174">[Dataset Fields Collection &#40;Report Builder and SSRS&#41;](dataset-fields-collection-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="45cc7-175">[Подключения к данным, источники данных и строки подключения в построитель отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md) </span><span class="sxs-lookup"><span data-stu-id="45cc7-175">[Data Connections, Data Sources, and Connection Strings in Report Builder](../data-connections-data-sources-and-connection-strings-in-report-builder.md) </span></span>  
 [<span data-ttu-id="45cc7-176">Подключения данных, Источники данных и Строки подключения в службе Reporting Services</span><span class="sxs-lookup"><span data-stu-id="45cc7-176">Data Connections, Data Sources, and Connection Strings in Reporting Services</span></span>](../data-connections-data-sources-and-connection-strings-in-reporting-services.md)  
  
  

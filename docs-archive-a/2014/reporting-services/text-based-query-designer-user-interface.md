---
title: Пользовательский интерфейс текстового конструктора запросов | Документация Майкрософт
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10010"
- sql12.rtp.rptdesigner.dataview.genericquerydesigner.f1
helpviewer_keywords:
- text-based query designer [Reporting Services]
- query designers [Reporting Services], text-based
ms.assetid: 44b7c664-03aa-494e-a484-052b318e810c
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 1647d69246ba85dfbe0718799441c3687c0beca3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87739074"
---
# <a name="text-based-query-designer-user-interface"></a><span data-ttu-id="c443a-102">Пользовательский интерфейс текстового конструктора запросов</span><span class="sxs-lookup"><span data-stu-id="c443a-102">Text-based Query Designer User Interface</span></span>
  <span data-ttu-id="c443a-103">Текстовый конструктор запросов предназначен для ввода запроса на языке запросов, поддерживаемом источником данных, его выполнения и просмотра результатов во время разработки.</span><span class="sxs-lookup"><span data-stu-id="c443a-103">Use the text-based query designer to specify a query using the query language supported by the data source, run the query, and view the results at design time.</span></span> <span data-ttu-id="c443a-104">Можно указать несколько инструкций, запросов или команд языка [!INCLUDE[tsql](../includes/tsql-md.md)] для создания собственных модулей обработки данных, а также указать запросы, заданные как выражения.</span><span class="sxs-lookup"><span data-stu-id="c443a-104">You can specify multiple [!INCLUDE[tsql](../includes/tsql-md.md)] statements, query or command syntax for custom data processing extensions, and queries that are specified as expressions.</span></span> <span data-ttu-id="c443a-105">Поскольку текстовый конструктор запросов не выполняет предварительную обработку запроса и позволяет использовать любой синтаксис запросов, он представляет собой стандартное средство конструктора запросов для источников данных многих типов.</span><span class="sxs-lookup"><span data-stu-id="c443a-105">Because the text-based query designer does not preprocess the query and can accommodate any kind of query syntax, this is the default query designer tool for many data source types.</span></span>

 <span data-ttu-id="c443a-106">В окне текстового конструктора запросов отображаются панель инструментов и следующие две области.</span><span class="sxs-lookup"><span data-stu-id="c443a-106">The text-based query designer displays a toolbar and the following two panes:</span></span>

-   <span data-ttu-id="c443a-107">**Запрос** Отображает текст запроса, имя таблицы или имя хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="c443a-107">**Query** Shows the query text, table name, or stored procedure name.</span></span>

-   <span data-ttu-id="c443a-108">**Результат** Показывает результаты выполнения запроса во время разработки.</span><span class="sxs-lookup"><span data-stu-id="c443a-108">**Result** Shows the results of running the query at design time.</span></span>

## <a name="text-based-query-designer-toolbar"></a><span data-ttu-id="c443a-109">Панель инструментов текстового конструктора запросов</span><span class="sxs-lookup"><span data-stu-id="c443a-109">Text-based Query Designer Toolbar</span></span>
 <span data-ttu-id="c443a-110">Текстовый конструктор запросов предоставляет одну панель инструментов для всех типов команд.</span><span class="sxs-lookup"><span data-stu-id="c443a-110">The text-based query designer provides a single toolbar for all the command types.</span></span> <span data-ttu-id="c443a-111">В следующей таблице перечислены все кнопки панели инструментов и их функции.</span><span class="sxs-lookup"><span data-stu-id="c443a-111">The following table lists each button on the toolbar and its function.</span></span>

|<span data-ttu-id="c443a-112">Кнопка</span><span class="sxs-lookup"><span data-stu-id="c443a-112">Button</span></span>|<span data-ttu-id="c443a-113">Описание</span><span class="sxs-lookup"><span data-stu-id="c443a-113">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="c443a-114">**Редактировать как текст**</span><span class="sxs-lookup"><span data-stu-id="c443a-114">**Edit As Text**</span></span>|<span data-ttu-id="c443a-115">Переключиться из текстового конструктора запросов в графический и обратно.</span><span class="sxs-lookup"><span data-stu-id="c443a-115">Toggle between the text-based query designer and the graphical query designer.</span></span> <span data-ttu-id="c443a-116">Не все источники данных поддерживают графические конструкторы запросов.</span><span class="sxs-lookup"><span data-stu-id="c443a-116">Not all data source types support graphical query designers.</span></span>|
|<span data-ttu-id="c443a-117">**Импорт**</span><span class="sxs-lookup"><span data-stu-id="c443a-117">**Import**</span></span>|<span data-ttu-id="c443a-118">Импорт существующего запроса из файла или отчета.</span><span class="sxs-lookup"><span data-stu-id="c443a-118">Import an existing query from a file or report.</span></span> <span data-ttu-id="c443a-119">Поддерживаются только SQL и RDL-файлы.</span><span class="sxs-lookup"><span data-stu-id="c443a-119">Only file types sql and rdl are supported.</span></span> <span data-ttu-id="c443a-120">Дополнительные сведения см. в разделе [Внедренные и общие наборы данных отчета (построитель отчетов и службы SSRS)](report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="c443a-120">For more information, see [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span></span>|
|<span data-ttu-id="c443a-121">![Выполнить запрос](../analysis-services/media/rsqdicon-run.gif "Выполнить запрос")</span><span class="sxs-lookup"><span data-stu-id="c443a-121">![Run the query](../analysis-services/media/rsqdicon-run.gif "Run the query")</span></span>|<span data-ttu-id="c443a-122">Выполнить запрос и показать результирующий набор в панели результатов.</span><span class="sxs-lookup"><span data-stu-id="c443a-122">Run the query and display the result set in the Result pane.</span></span>|
|<span data-ttu-id="c443a-123">**Тип команды**</span><span class="sxs-lookup"><span data-stu-id="c443a-123">**Command Type**</span></span>|<span data-ttu-id="c443a-124">Выберите **Text**, **StoredProcedure**или **TableDirect**.</span><span class="sxs-lookup"><span data-stu-id="c443a-124">Select **Text**, **StoredProcedure**, or **TableDirect**.</span></span> <span data-ttu-id="c443a-125">Если хранимая процедура имеет параметры, при нажатии на панели инструментов кнопки **Выполнить** появится диалоговое окно **Определение параметров запроса** , в котором можно ввести значения параметров.</span><span class="sxs-lookup"><span data-stu-id="c443a-125">If a stored procedure has parameters, the **Define Query Parameters** dialog box appears when you click **Run** on the toolbar, and you can fill in values as needed.</span></span> <span data-ttu-id="c443a-126">Обратите внимание, что если хранимая процедура возвращает более одного результирующего набора, для заполнения набора данных используется только первый результирующий набор.</span><span class="sxs-lookup"><span data-stu-id="c443a-126">Note that if a stored procedure returns more than one result set, only the first result set is used to populate the dataset.</span></span><br /><br /> <span data-ttu-id="c443a-127">Поддержка типов команд зависит от типа источника данных.</span><span class="sxs-lookup"><span data-stu-id="c443a-127">Support for command type varies by data source type.</span></span> <span data-ttu-id="c443a-128">Например, **TableDirect**поддерживают только OLE DB и ODBC.</span><span class="sxs-lookup"><span data-stu-id="c443a-128">For example, only OLE DB and ODBC support **TableDirect**.</span></span>|

### <a name="command-type-text"></a><span data-ttu-id="c443a-129">Тип команды Text</span><span class="sxs-lookup"><span data-stu-id="c443a-129">Command Type Text</span></span>
 <span data-ttu-id="c443a-130">Если создается набор данных [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], конструктор отчетов по умолчанию отображает графический конструктор запросов.</span><span class="sxs-lookup"><span data-stu-id="c443a-130">When you create a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] dataset, Report Designer displays the graphical query designer by default.</span></span> <span data-ttu-id="c443a-131">Чтобы переключиться в текстовый конструктор запросов, нажмите кнопку переключателя **Редактировать как текст** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="c443a-131">To switch to the text-based query designer, click the **Edit As Text** toggle button on the toolbar.</span></span> <span data-ttu-id="c443a-132">В окне текстового конструктора запросов отображаются две панели: панель запросов и область результатов.</span><span class="sxs-lookup"><span data-stu-id="c443a-132">The text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="c443a-133">На следующем рисунке показана каждая панель.</span><span class="sxs-lookup"><span data-stu-id="c443a-133">The following figure labels each pane.</span></span>

 <span data-ttu-id="c443a-134">![Простой конструктор запросов для запросов к реляционным данным](../analysis-services/media/rsqd-dsaw-sql-generic.gif "Простой конструктор запросов для запросов к реляционным данным")</span><span class="sxs-lookup"><span data-stu-id="c443a-134">![Generic query designer, for relational data query](../analysis-services/media/rsqd-dsaw-sql-generic.gif "Generic query designer, for relational data query")</span></span>

 <span data-ttu-id="c443a-135">В следующей таблице описываются функции каждой панели.</span><span class="sxs-lookup"><span data-stu-id="c443a-135">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="c443a-136">Панель</span><span class="sxs-lookup"><span data-stu-id="c443a-136">Pane</span></span>|<span data-ttu-id="c443a-137">Компонент</span><span class="sxs-lookup"><span data-stu-id="c443a-137">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="c443a-138">Запрос</span><span class="sxs-lookup"><span data-stu-id="c443a-138">Query</span></span>|<span data-ttu-id="c443a-139">Отображает текст запроса [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c443a-139">Displays the [!INCLUDE[tsql](../includes/tsql-md.md)] query text.</span></span> <span data-ttu-id="c443a-140">Используйте эту панель, чтобы написать или изменить запрос [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c443a-140">Use this pane to write or edit a [!INCLUDE[tsql](../includes/tsql-md.md)] query.</span></span>|
|<span data-ttu-id="c443a-141">Результат</span><span class="sxs-lookup"><span data-stu-id="c443a-141">Result</span></span>|<span data-ttu-id="c443a-142">Отображает результаты запроса.</span><span class="sxs-lookup"><span data-stu-id="c443a-142">Displays the results of the query.</span></span> <span data-ttu-id="c443a-143">Чтобы выполнить запрос, щелкните правой кнопкой мыши любую область и выберите команду **Выполнить**либо нажмите кнопку **Выполнить** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="c443a-143">To run the query, right-click in any pane and click **Run**, or click the **Run** button on the toolbar.</span></span>|

#### <a name="example"></a><span data-ttu-id="c443a-144">Пример</span><span class="sxs-lookup"><span data-stu-id="c443a-144">Example</span></span>
 <span data-ttu-id="c443a-145">Следующий запрос возвращает список фамилий из таблицы `Contact` базы данных [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)], .</span><span class="sxs-lookup"><span data-stu-id="c443a-145">The following query returns the list of last names from the [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)] database `Contact` table.</span></span>

```
SELECT LastName FROM Person.Person;
```

 <span data-ttu-id="c443a-146">Для типа команды Text можно использовать любую инструкцию [!INCLUDE[tsql](../includes/tsql-md.md)], включая инструкции `EXEC`.</span><span class="sxs-lookup"><span data-stu-id="c443a-146">You can use any [!INCLUDE[tsql](../includes/tsql-md.md)] statement for Command type Text, including `EXEC` statements.</span></span> <span data-ttu-id="c443a-147">Следующий запрос вызывает [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)] хранимую процедуру `uspGetEmployeeManagers` и возвращает цепочку команд для сотрудника с идентификационным номером 1.</span><span class="sxs-lookup"><span data-stu-id="c443a-147">The following query calls the [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)] stored procedure `uspGetEmployeeManagers` and returns the chain-of-command for the employee with identification number 1.</span></span>

```
EXEC uspGetEmployeeManagers 1;
```

 <span data-ttu-id="c443a-148">При нажатии кнопки **Выполнить** на панели инструментов выполняется команда на панели **Запрос** , а результаты выводятся на панели **Результат** .</span><span class="sxs-lookup"><span data-stu-id="c443a-148">When you click **Run** on the toolbar, the command in the **Query** pane runs and the results are displayed in the **Result** pane.</span></span>

### <a name="command-type-storedprocedure"></a><span data-ttu-id="c443a-149">Тип команды StoredProcedure</span><span class="sxs-lookup"><span data-stu-id="c443a-149">Command Type StoredProcedure</span></span>
 <span data-ttu-id="c443a-150">Если выбран **Тип команды StoredProcedure**, то текстовый конструктор запросов содержит две панели: панель запросов и область результатов.</span><span class="sxs-lookup"><span data-stu-id="c443a-150">When you select **Command typeStoredProcedure**, the text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="c443a-151">Введите имя хранимой процедуры в области «Запрос» и нажмите кнопку **Выполнить** на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="c443a-151">Enter the stored procedure name in the Query pane and click **Run** on the toolbar.</span></span> <span data-ttu-id="c443a-152">Откроется диалоговое окно «Определение параметров запроса».</span><span class="sxs-lookup"><span data-stu-id="c443a-152">The Define Query Parameters dialog box opens.</span></span> <span data-ttu-id="c443a-153">Введите значения параметров для хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="c443a-153">Enter the parameter values for the stored procedure.</span></span> <span data-ttu-id="c443a-154">Параметр отчета создается для каждого параметра хранимой процедуры.</span><span class="sxs-lookup"><span data-stu-id="c443a-154">A report parameter is created for every stored procedure parameter.</span></span>

#### <a name="example"></a><span data-ttu-id="c443a-155">Пример</span><span class="sxs-lookup"><span data-stu-id="c443a-155">Example</span></span>
 <span data-ttu-id="c443a-156">В следующем запросе в базе данных [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)] вызывается хранимая процедура `uspGetEmployeeManagers`.</span><span class="sxs-lookup"><span data-stu-id="c443a-156">The following query calls the [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)] stored procedure `uspGetEmployeeManagers`.</span></span> <span data-ttu-id="c443a-157">При запуске этого запроса необходимо задать значение параметра с идентификационным номером сотрудника.</span><span class="sxs-lookup"><span data-stu-id="c443a-157">You must enter a value for the employee identification number parameter when you run the query.</span></span>

```
uspGetEmployeeManagers;
```

### <a name="command-type-tabledirect"></a><span data-ttu-id="c443a-158">Тип команды TableDirect</span><span class="sxs-lookup"><span data-stu-id="c443a-158">Command Type TableDirect</span></span>
 <span data-ttu-id="c443a-159">Если выбран **Тип команды TableDirect**, то текстовый конструктор запросов содержит две панели: панель запросов и область результатов.</span><span class="sxs-lookup"><span data-stu-id="c443a-159">When you select **Command typeTableDirect**, the text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="c443a-160">Если ввести имя таблицы и нажать кнопку **Выполнить** , возвращаются все столбцы этой таблицы.</span><span class="sxs-lookup"><span data-stu-id="c443a-160">When you enter a table and click the **Run** button, all the columns for that table are returned.</span></span>

#### <a name="example"></a><span data-ttu-id="c443a-161">Пример</span><span class="sxs-lookup"><span data-stu-id="c443a-161">Example</span></span>
 <span data-ttu-id="c443a-162">Следующий запрос возвращает результирующий набор, содержащий всех клиентов в базе данных [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c443a-162">The following query returns a result set for all customers in the [!INCLUDE[ssSampleDBobject](../includes/sssampledbobject-md.md)] database.</span></span>

 `Sales.Customer`

 <span data-ttu-id="c443a-163">При вводе имени таблицы Sales. Customer это эквивалентно созданию [!INCLUDE[tsql](../includes/tsql-md.md)] инструкции `SELECT * FROM Sales.Customer;` .</span><span class="sxs-lookup"><span data-stu-id="c443a-163">When you enter the table name Sales.Customer, it is the equivalent of creating the [!INCLUDE[tsql](../includes/tsql-md.md)] statement `SELECT * FROM Sales.Customer;`.</span></span>

## <a name="see-also"></a><span data-ttu-id="c443a-164">См. также:</span><span class="sxs-lookup"><span data-stu-id="c443a-164">See Also</span></span>
 <span data-ttu-id="c443a-165">[Средства проектирования запросов в конструктор отчетов SQL Server Data Tools &#40;SSRS&#41;](report-data/query-design-tools-ssrs.md) [отчетов внедренные наборы данных и общие наборы данных &#40;построитель отчетов и SSRS&#41;](report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) [SQL Server тип соединения &#40;ssrs&#41;](report-data/sql-server-connection-type-ssrs.md) [OLE DB тип подключения &#40;ssrs&#41;](report-data/ole-db-connection-type-ssrs.md) [тип подключения ODBC &#40;SSRS&#41;](report-data/odbc-connection-type-ssrs.md) [отчетов внедренные наборы данных и общие наборы данных &#40;построитель отчетов и SSRS&#41;](report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) [RSReportDesigner файл конфигурации](report-server/rsreportdesigner-configuration-file.md)</span><span class="sxs-lookup"><span data-stu-id="c443a-165">[Query Design Tools in Report Designer SQL Server Data Tools &#40;SSRS&#41;](report-data/query-design-tools-ssrs.md) [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) [SQL Server Connection Type &#40;SSRS&#41;](report-data/sql-server-connection-type-ssrs.md) [OLE DB Connection Type &#40;SSRS&#41;](report-data/ole-db-connection-type-ssrs.md) [ODBC Connection Type &#40;SSRS&#41;](report-data/odbc-connection-type-ssrs.md) [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) [RSReportDesigner Configuration File](report-server/rsreportdesigner-configuration-file.md)</span></span>



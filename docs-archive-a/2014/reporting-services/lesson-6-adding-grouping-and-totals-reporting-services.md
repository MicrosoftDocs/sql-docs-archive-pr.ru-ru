---
title: 'Занятие 6: Добавление группирования и итогов (службы Reporting Services) | Документация Майкрософт'
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: e3d61228-2aa4-42cc-955e-602dbf3406a7
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: b98798005a984edf00aff469d4c1b09aa2e34d98
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668090"
---
# <a name="lesson-6-adding-grouping-and-totals-reporting-services"></a>Занятие 6: Добавление группирования и итогов (Reporting Services)
  Добавление группирования и итогов к отчету предназначено для организации и суммирования данных.  
  
 Дополнительные сведения о добавлении итоговых значений в отчеты см. [в разделе Добавление итогов к отчетам Reporting Services (SSRS)](https://www.tutorialgateway.org/add-total-and-subtotal-to-ssrs-report/).  
  
 **В этом разделе:**  
  
-   [Группирование данных в отчете](#bkmk_groupdata)  
  
-   [Добавление итогов в отчет](#bkmk_addtotals)  
  
-   [Добавление ежедневного итога к отчету](#bkmk_adddailytotal)  
  
-   [Добавление в отчет общего итога](#bkmk_addgrandtotal)  
  
-   [Публикация отчета на сервере отчетов (необязательно)](#bkmk_publishreport)  
  
##  <a name="to-group-data-in-a-report"></a><a name="bkmk_groupdata"></a>Группирование данных в отчете  
  
1.  Перейдите на вкладку **Макет** .  
  
2.  Если панель « **группы строк** » не видна, щелкните правой кнопкой мыши область конструктора и выберите пункт меню **вид** , а затем пункт **группирование**.  
  
3.  Из области **Данные отчета** перетащите поле `Date` на панель **Группы строк**. Поместите это поле над строкой **(Сведения)**.  
  
     Обратите внимание на то, что теперь на маркере строк отображается квадратная скобка, указывающая на наличие группы. Теперь в таблице имеются два столбца «Дата», по одному с двух сторон от вертикальной пунктирной линии.  
  
     ![](../../2014/tutorials/media/rs-basictablegroups1design.gif "rs_BasicTableGroups1Design")  
  
4.  Из области **Данные отчета** перетащите поле `Order` на панель **Группы строк**. Поместите это поле под обозначением "Дата" и над обозначением **(Сведения)**.  
  
     Обратите внимание на то, что теперь на маркере строки отображаются две квадратные скобки, указывая на наличие двух групп. Теперь таблица имеет два `Order` столбца.  
  
5.  Удалите исходные столбцы Дата и Заказ**справа** от двойной линии. Это приведет к удалению соответствующих отдельных значений записи, чтобы отображалось только значение группы. Выберите маркеры двух столбцов, щелкните правой кнопкой мыши и выберите пункт **Удалить столбцы**.  
  
     ![Выбор столбцов для удаления](../../2014/tutorials/media/rs-basictablegroupsdeletecols.gif "Выбор столбцов для удаления")  
  
     После этого можно снова форматировать заголовки столбцов и дату.  
  
6.  Откройте вкладку **Просмотр** для просмотра отчета. Он должен выглядеть примерно так, как на следующей иллюстрации:  
  
     ![Таблица сгруппирована по дате и заказу](../../2014/tutorials/media/rs-basictablegroupspreview.gif "Таблица сгруппирована по дате и заказу")  
  
##  <a name="to-add-totals-to-a-report"></a><a name="bkmk_addtotals"></a>Добавление итогов в отчет  
  
1.  Переключитесь в режим конструктора.  
  
2.  Щелкните правой кнопкой мыши ячейку области данных, которая содержит поле `[LineTotal]`, и выберите пункт **Добавить итог**.  
  
     Это приведет к добавлению строки с суммарной стоимостью в долларах для каждого заказа.  
  
3.  Щелкните правой кнопкой мыши ячейку, которая содержит поле `[Qty]`, и выберите пункт **Добавить итог**.  
  
     Это приведет к добавлению суммы количеств по каждому заказу в строку итогов.  
  
4.  В пустой ячейке слева от поля `Sum[Qty]`введите метку**Итог заказа**.  
  
5.  К строке итогов можно добавить цвет фона. Выберите две ячейки суммы и ячейку метки.  
  
6.  В меню **Формат** щелкните элемент **Цвет фона**, а затем щелкните элемент **Светло-серый**и нажмите кнопку **ОК**.  
  
     ![Представление конструирования: базовая таблица с итогом заказа](../../2014/tutorials/media/rs-basictablesumlinetotaldesign.gif "Представление конструирования: базовая таблица с итогом заказа")  
  
##  <a name="to-add-a-daily-total-to-a-report"></a><a name="bkmk_adddailytotal"></a>Добавление ежедневного итога в отчет  
  
1.  Щелкните правой кнопкой мыши ячейку Заказ , наведите указатель на пункт **Добавить итог**и выберите пункт **После**.  
  
     При этом добавляется новая строка, содержащая суммы количества и суммы в долларах для каждого дня, а также метка "**итог**" в столбце "порядок".  
  
2.  Введите слово **Ежедневный** перед словом **Итог** в той же ячейке, чтобы в ней находилась надпись **Ежедневный итог**.  
  
3.  Выберите ячейку **Ежедневный итог** , две ячейки **Сумма** и пустую ячейку между ними.  
  
4.  В меню **Формат** щелкните элемент **Цвет фона**, а затем щелкните элемент **Оранжевый**и нажмите кнопку **ОК**.  
  
     ![](../../2014/tutorials/media/rs-basictablesumdaytotaldesign.gif "rs_BasicTableSumDayTotalDesign")  
  
##  <a name="to-add-a-grand-total-to-a-report"></a><a name="bkmk_addgrandtotal"></a>Добавление в отчет общего итога  
  
1.  Щелкните правой кнопкой мыши ячейку "Дата", наведите указатель на пункт **Добавить итог**и выберите пункт **После**.  
  
     При этом добавляется новая строка, содержащая суммы количества и суммы в долларах для всего отчета, а также **Общая** метка в `Date` столбце.  
  
2.  Введите слово **Общий** перед словом **Итог** в той же ячейке, чтобы в ней появилась надпись **Общий итог**.  
  
3.  Выберите ячейку **Общий итог** , две ячейки **Сумма** и пустые ячейки между ними.  
  
4.  В меню **Формат** щелкните элемент **Цвет фона**, а затем щелкните элемент **Светло-синий**и нажмите кнопку **ОК**.  
  
     ![Представление конструирования: общий итог в базовой таблице](../../2014/tutorials/media/rs-basictablesumgrandtotaldesign.gif "Представление конструирования: общий итог в базовой таблице")  
  
5.  Нажмите кнопку «Предварительный просмотр».  
  
     Последняя страница должна выглядеть примерно так:  
  
     ![Предварительный просмотр: базовая таблица с общим итогом](../../2014/tutorials/media/rs-basictablesumgrandtotalpreview.gif "Предварительный просмотр: базовая таблица с общим итогом")  
  
##  <a name="to-publish-the-report-to-the-report-server-optional"></a><a name="bkmk_publishreport"></a>Публикация отчета на сервере отчетов (необязательно)  
  
1.  Необязательным шагом является публикация готового отчета на сервере отчетов, работающем в собственном режиме, с тем чтобы его можно было просматривать из диспетчера отчетов.  
  
2.  На панели инструментов щелкните **Проект** и выберите **Свойства учебника...**  
  
3.  **Введите имя** сервера отчетов в тип файла, например **http:// \<servername> /ReportServer**  
  
4.  Нажмите кнопку **ОК**.  
  
5.  На панели инструментов щелкните **Построить** , а затем ― **Развернуть учебник**.  
  
     Если в окне вывода появится сообщение примерно следующего содержания, это означает, что развертывание прошло успешно.  
  
    > ------ Build started: Project: tutorial, Configuration: Debug ------Skipping 'Sales Orders.rdl'. Элемент находится в актуальном состоянии. Сборка завершена--0 ошибок, 0 предупреждений------развертывание начато: проект: учебник, конфигурация: Отладка------развертывание в http:// \<server name> /репортсервердеплойинг отчет "/туториал/Салес Orders". Развертывание завершено--0 ошибок, 0 предупреждений = = = = = = = = = = сборка: 1 выполнено или Обновлено, 0 — сбой, 0 пропущено = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =  
  
     Если же откроется сообщение об ошибке примерно следующего содержания, удостоверьтесь в наличии разрешений на сервер отчетов, а также запустите среду [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)] с правами администратора.  
  
    > "Разрешения, предоставленные пользователю XXXXXXXX \\<имени пользователя \> ", недостаточны для выполнения этой операции "  
  
6.  Запустите диспетчер отчетов с правами администратора, например щелкните правой кнопкой мыши значок Internet Explorer и выберите команду **Запуск от имени администратора**.  
  
     Перейдите по URL-адресу диспетчера отчетов, например: `http://<server name>/reports`.  
  
7.  Перейдите в папку с отчетом и щелкните имя отчета `Sales Orders`, чтобы отобразить этот отчет в браузере.  
  
## <a name="next-steps"></a>Next Steps  
 Учебник по созданию базового табличного отчета успешно освоен.  
  
## <a name="see-also"></a>См. также:  
 [Фильтрация, группирование и сортировка данных (построитель отчетов и службы SSRS)](report-design/filter-group-and-sort-data-report-builder-and-ssrs.md)  
  
  

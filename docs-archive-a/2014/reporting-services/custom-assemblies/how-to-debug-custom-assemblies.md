---
title: Руководство. Отладка пользовательских сборок | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- custom assemblies [Reporting Services], debugging
- debugging custom assemblies [Reporting Services]
- troubleshooting [Reporting Services], custom assemblies
ms.assetid: 3a3215b3-548c-4474-81ba-3a98dd3912bf
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 1b5f9f5a4595d59cce98da4f753422cd07529926
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733665"
---
# <a name="how-to-debug-custom-assemblies"></a>Руководство. Отладка пользовательских сборок
  [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] Предоставляет несколько средств отладки, которые могут помочь в анализе кода пользовательской сборки и обнаружении ошибок в нем. Выбор наиболее подходящего средства отладки зависит от того, какая цель должна быть достигнута. В этом примере используется [!INCLUDE[vsOrcas](../../includes/vsorcas-md.md)].  
  
 Рекомендуемый способ проектирования, разработки и тестирования пользовательских сборок для службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] состоит в создании решения, содержащего не только пользовательскую сборку, но и тестовые отчеты.  
  
### <a name="to-debug-assemblies-using-a-single-instance-of-visual-studio"></a>Отладка сборок с помощью одного экземпляра Visual Studio  
  
1.  Создание нового проекта отчета с помощью [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
     При создании проекта отчета в среде [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] создается также содержащее его решение.  
  
2.  Добавьте в существующее решение проект библиотеки классов. Убедитесь, что проект отчета задан в качестве автоматически запускаемого. Дополнительные сведения о выполнении этого действия см. в документации по среде [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
3.  Выберите решение в обозревателе решений.  
  
4.  В меню **Вид** выберите команду **Страницы свойств**.  
  
     Откроется диалоговое окно **Страницы свойств решения**.  
  
5.  В панели слева разверните при необходимости пункт **Общие свойства**, затем нажмите кнопку **Зависимости проекта**. Выберите проект отчета в раскрывающемся списке **Проект**. Выберите проект сборки в списке **Зависит от**.  
  
6.  Нажмите кнопку **ОК**, чтобы сохранить изменения и выйти из диалогового окна **Страницы свойств**.  
  
7.  В обозревателе решений выберите проект пользовательской сборки.  
  
8.  В меню **Вид** выберите команду **Страницы свойств**.  
  
     Откроется диалоговое окно **Страницы свойств проекта**.  
  
9. Щелкните вкладку **Сборка**, если это проект C#, или вкладку **Компиляция**, если это проект [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)].  
  
10. На странице **Build** / **Компиляция** сборки введите путь к папке конструктор отчетов. По умолчанию это путь C:\Program Files\Microsoft SQL Server\100\Tools\Binn\VSShell\Common7\IDE) в текстовом поле **Выходной путь**. В результате перед выполнением отчета произойдет построение и развертывание обновленной версии пользовательской сборки непосредственно в конструкторе отчетов.  
  
11. После того как будет сконструирован отчет и разработана пользовательская сборка, задайте точки останова в коде пользовательской сборки.  
  
12. Запустите отчет в режиме **DebugLocal**. Для этого нажмите клавишу F5. После того как отчет запустится во всплывающем окне предварительного просмотра, отладчик будет обрабатывать все точки останова, соответствующие исполняемому коду в сборке. Для пошагового выполнения кода пользовательской сборки воспользуйтесь клавишей F11.  
  
### <a name="to-debug-assemblies-using-two-instances-of-visual-studio"></a>Отладка сборок с помощью двух экземпляров Visual Studio  
  
1.  Запустите среду [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] и откройте проект пользовательской сборки.  
  
2.  В конструкторе отчетов постройте проект и выполните развертывание пользовательской сборки и сопутствующего файла PDB. Дополнительные сведения о развертывании см. в разделе [Развертывание пользовательской сборки](deploying-a-custom-assembly.md).  
  
3.  Откройте проект отчета, в котором используется сборка, после чего оставьте ее код открытым в отдельном экземпляре [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
4.  Перейдите к экземпляру [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], который содержит проект пользовательской сборки, и задайте в коде необходимые точки останова.  
  
5.  Оставив активным окно проекта пользовательской сборки, выберите **Присоединить к процессу** в меню **Отладка**.  
  
     Откроется диалоговое окно **Присоединение к процессу**.  
  
6.  Выберите из списка процессов devenv.exe, который соответствует проекту отчета, и нажмите кнопку **Присоединить**.  
  
7.  Определите выражения из пользовательской сборки, которые будут использоваться в отчете, и создайте отчет.  
  
8.  После завершения проектирования отчета щелкните вкладку **Просмотр**.  
  
     Отчет запустится, и выполнение кода пользовательской сборки будет прерываться в ранее заданных точках останова.  
  
    > [!NOTE]  
    >  Вкладка **Просмотр** не позволяет принудительно применять разрешения кода для этой сборки. Для полного тестирования, которое затрагивает все ошибки безопасности при управлении доступом для кода, запустите проект отчета с параметром конфигурации **DebugLocal**.  
  
9. Перемещайтесь по шагам кода с помощью клавиши F11. Дополнительные сведения об отладке с помощью среды [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] см. в документации по [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
## <a name="see-also"></a>См. также:  
 [Использование пользовательских сборок с отчетами](using-custom-assemblies-with-reports.md)  
  
  

---
title: Проверка подлинности с использованием сервера отчетов | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- connections [Reporting Services], configuring
- connections [Reporting Services], accounts
- Windows authentication [Reporting Services]
- authentication [Reporting Services]
- Forms authentication
ms.assetid: 753c2542-0e97-4d8f-a5dd-4b07a5cd10ab
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 396c9b4d80525c9c688a41245618755442979dc3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87656985"
---
# <a name="authentication-with-the-report-server"></a>Проверка подлинности с использованием сервера отчетов
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] (SSRS) предлагает несколько настраиваемых параметров для проверки подлинности клиентов и клиентских приложений для сервера отчетов. По умолчанию сервер отчетов использует встроенную проверку подлинности Windows и предполагает доверительные связи, когда клиент и сетевые источники находятся в одном и том же домене или в надежном домене. В зависимости от топологии сети и потребностей организации можно задать протокол проверки подлинности, который применяется для встроенного средства проверки подлинности Windows, использовать обычную проверку подлинности или модуль проверки подлинности на основе пользовательских форм. Каждый способ проверки подлинности можно включать и отключать отдельно. Можно включить одновременно несколько типов проверки подлинности, если сервер отчетов должен принимать запросы разных типов.  
  
> [!NOTE]  
>  В предыдущих версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]вся поддержка проверки подлинности обеспечивалась службами IIS. Начиная с выпуска [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] , службы IIS не используются. 'Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] обрабатывают все запросы проверки подлинности собственными средствами.  
  
 Подлинность всех пользователей и приложений, запрашивающих доступ к содержимому сервера отчетов или операциям, должна быть проверена до предоставления доступа.  
  
## <a name="authentication-types"></a>Типы проверки подлинности  
 Подлинность всех пользователей и приложений, запрашивающих доступ к содержимому сервера отчетов или операциям, должна быть проверена до предоставления доступа способом, заданным для сервера отчетов. В следующей таблице описываются типы проверки подлинности, поддерживаемые службами [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].  
  
|Имя типа проверки подлинности|Значение уровня проверки подлинности HTTP|Используется по умолчанию|Описание|  
|-----------------------------|-------------------------------------|---------------------|-----------------|  
|RSWindowsNegotiate|Согласование|Да|В этом режиме сначала делается попытка встроенной проверки подлинности по протоколу Kerberos, но если служба каталогов Active Directory не может предоставить серверу отчетов билет для клиентского запроса, используется NTLM. Проверка подлинности Negotiate возвращается к NTLM только в том случае, если не удалось получить билет. Если первая попытка завершилась ошибкой, а не отсутствием билета, то сервер отчетов вторую попытку не предпринимает.|  
|RSWindowsNTLM|NTLM|Да|Использует NTLM для встроенной проверки подлинности Windows.<br /><br /> Делегирование и олицетворение учетных данных при выполнении других запросов не производится. Последующие запросы выполняются по новой последовательности вызов-ответ. В зависимости от того, как настроена безопасность сети, запрос проверки подлинности будет обрабатываться прозрачно либо пользователю может быть предложено ввести учетные данные.|  
|RSWindowsKerberos|Kerberos|нет|Использует Kerberos для встроенной проверки подлинности Windows. Необходимо настроить Kerberos, задав имена участников служб (SPN) для учетных записей, для чего потребуются права администратора домена. Если разрешено делегирование идентификатора с использованием Kerberos, токен пользователя, запрашивающего отчет, может использоваться и для дополнительного соединения с внешними источниками данных, поставляющими данные для этого отчета.<br /><br /> Прежде чем указывать RSWindowsKerberos, убедитесь, что применяемый браузер действительно поддерживает этот тип проверки подлинности. При использовании обозревателя Internet Explorer проверка подлинности по протоколу Kerberos поддерживается только через Negotiate. Internet Explorer не сможет сформулировать запрос проверки подлинности, в котором протокол Kerberos задан напрямую.|  
|RSWindowsBasic|Basic|нет|Обычная проверка подлинности определена протоколом HTTP и может применяться только для проверки подлинности HTTP-запросов к серверу отчетов.<br /><br /> Учетные данные передаются в HTTP-запросе в кодировке Base 64. Если применяется обычная проверка подлинности, то необходимо обеспечить шифрование данных об учетных записях пользователя по протоколу SSL, прежде чем передавать их по сети. Протокол SSL обеспечивает защищенный канал для передачи запроса на соединение от клиента к серверу отчетов через TCP/IP-соединение. Дополнительные сведения см. в разделе [Использование SSL для шифрования конфиденциальных данных](https://go.microsoft.com/fwlink/?LinkId=71123) на сайте [!INCLUDE[msCoName](../../includes/msconame-md.md)] TechNet.|  
|Другой|(Анонимная)|нет|Анонимная проверка подлинности предписывает серверу отчетов пропускать проверки подлинности в заголовках HTTP-запросов. Сервер отчетов принимает все запросы, но вызывает пользовательскую проверку подлинности пользователя через формы [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] .<br /><br /> Режим `Custom` следует выбирать только при наличии пользовательского модуля проверки подлинности, который будет обрабатывать все запросы проверки подлинности на сервере отчетов. Нельзя использовать тип нестандартной проверки подлинности с модулем проверки подлинности Windows по умолчанию.|  
  
## <a name="unsupported-authentication-methods"></a>Неподдерживаемые методы проверки подлинности  
 Следующие методы и запросы проверки подлинности не поддерживаются.  
  
|Метод проверки подлинности|Объяснение|  
|---------------------------|-----------------|  
|Анонимные|Сервер отчетов не принимает запросы без проверки подлинности от анонимного пользователя, за исключением конфигураций развертывания, которые включают нестандартные модули проверки подлинности.<br /><br /> Построитель отчетов принимает запросы без проверки подлинности в том случае, если разрешен доступ к построителю отчетов на сервере отчетов, настроенном для обычной проверки подлинности.<br /><br /> Для всех остальных случаев анонимные запросы будут отвергнуты с ошибкой «HTTP 401: Отказано в доступе» еще до того, как запрос дойдет до [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)]. Получив ошибку «HTTP 401: Отказано в доступе«, клиент должен переформулировать запрос, указав допустимый тип проверки подлинности.|  
|Технологии единого входа (SSO)|Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]не обеспечивают собственную поддержку для технологий единого входа. Для использования этих технологий необходимо создание нестандартного модуля проверки подлинности.<br /><br /> Среда размещения сервера отчетов не поддерживает ISAPI-фильтры. Если используемая технология SSO реализована в виде фильтра ISAPI, попробуйте воспользоваться встроенной поддержкой сервера ISA для протокола RSASecueID или RADIUS. В противном случае можно создать сервер ISAPI ISA или HTTPModule для RS, однако рекомендуется использовать сервер ISA напрямую.|  
|Паспорт|Не поддерживается в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].|  
|Digest (дайджест)|Не поддерживается в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].|  
  
## <a name="configuration-of-authentication-settings"></a>Параметры проверки подлинности  
 При резервировании URL-адреса для сервера отчетов для проверки подлинности настраивается уровень безопасности по умолчанию. Если в процессе настройки этих параметров допущены какие-либо ошибки, то для HTTP-запросов, подлинность которых не может быть проверена, сервер отчетов вернет ошибку «HTTP 401: Отказано в доступе». Чтобы правильно выбрать тип проверки подлинности, необходимо понимать, каким образом проверка подлинности Windows поддерживается в конкретной сети. Должен быть указан как минимум один тип проверки подлинности. Для RSWindows может быть задано несколько типов проверки подлинности. Типы проверки подлинности RSWindows (то есть,, `RSWindowsBasic` `RSWindowsNTLM` `RSWindowsKerberos` и **RSWindowsNegotiate**) являются взаимоисключающими с настраиваемыми.  
  
> [!IMPORTANT]  
>  Службы Reporting Services не проверяют заданные параметры на соответствие конкретной вычислительной среде. Безопасность по умолчанию может оказаться неработоспособной либо могут быть заданы параметры настройки, недопустимые для существующей инфраструктуры безопасности. Поэтому перед внедрением в рабочей среде организации необходимо очень тщательно проверить развертывание сервера отчетов в управляемой тестовой среде.  
  
 Веб-службы сервера отчетов и диспетчер отчетов всегда используют один и тот же тип проверки подлинности. Нельзя настроить разные типы проверки подлинности для функциональных областей службы сервера отчетов. Для масштабного развертывания необходимо повторить изменения на всех узлах в конфигурации развертывания. В масштабном развертывании узлы не могут использовать различные типы проверки подлинности.  
  
 При фоновой обработке запросы от конечных пользователей не принимаются, однако выполняется проверка подлинности всех запросов на автоматическое выполнение. В ней всегда используется проверка подлинности Windows и выполняется проверка подлинности запросов с использованием учетной записи службы сервера отчетов или учетной записи автоматического выполнения, если она настроена.  
  
## <a name="in-this-section"></a>в этом разделе  
  
-   [Настройка аутентификации Windows на сервере отчетов](configure-windows-authentication-on-the-report-server.md)  
  
-   [Настройка обычной аутентификации на сервере отчетов](configure-basic-authentication-on-the-report-server.md)  
  
-   [Настройка нестандартной аутентификации или аутентификации с помощью форм на сервере отчетов](configure-custom-or-forms-authentication-on-the-report-server.md)  
  
## <a name="related-tasks"></a>Связанные задачи  
  
|Описания задач|Ссылки|  
|-----------------------|-----------|  
|Задайте встроенную проверку подлинности Windows.|[Настройка аутентификации Windows на сервере отчетов](configure-windows-authentication-on-the-report-server.md)|  
|Задайте обычную проверку подлинности.|[Настройка обычной аутентификации на сервере отчетов](configure-basic-authentication-on-the-report-server.md)|  
|Задайте проверку подлинности с помощью форм или другой нестандартный тип проверки.|[Настройка нестандартной аутентификации или аутентификации с помощью форм на сервере отчетов](configure-custom-or-forms-authentication-on-the-report-server.md)|  
|Включите диспетчер отчетов для обработки сценария нестандартной проверки подлинности.|[Настройка передачи куки-файлов для нестандартной проверки подлинности пользователя в диспетчере отчетов](configure-the-web-portal-to-pass-custom-authentication-cookies.md)|  
  
## <a name="see-also"></a>См. также:  
 [Предоставление разрешений на сервер отчетов в собственном режиме](granting-permissions-on-a-native-mode-report-server.md)   
 [Файл конфигурации RSReportServer](../report-server/rsreportserver-config-configuration-file.md)   
 (create-and-manage-role-assignments.md)   
 [Задание учетных данных и сведениях о соединении для источников данных отчета](../report-data/specify-credential-and-connection-information-for-report-data-sources.md)  
 [Реализация модуля безопасности](../extensions/security-extension/implementing-a-security-extension.md)   
 [Настройка SSL-соединений на сервере отчетов, собственном режиме](configure-ssl-connections-on-a-native-mode-report-server.md)   
 [Настройка доступа к построитель отчетов](../report-server/configure-report-builder-access.md)   
 [Общие сведения о модулях безопасности](../extensions/security-extension/security-extensions-overview.md)   
 [Проверка подлинности в службах Reporting Services](../extensions/security-extension/authentication-in-reporting-services.md)   
 [Авторизация в службах Reporting Services](../extensions/security-extension/authorization-in-reporting-services.md)  
  
  

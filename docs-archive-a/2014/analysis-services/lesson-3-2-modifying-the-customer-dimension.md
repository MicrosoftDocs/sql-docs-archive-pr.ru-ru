---
title: Изменение измерения «Заказчик» | Документация Майкрософт
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5b5aed99-1760-4bc7-b248-52ecb0b97ebc
author: minewiskan
ms.author: owend
ms.openlocfilehash: bd5c5c47205a89f8429b0b6f0ba55da266d5e811
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666253"
---
# <a name="modifying-the-customer-dimension"></a>Изменение измерения «Заказчик»
  Существует много способов повысить удобство использования и функциональность измерений куба. При выполнении задач этого раздела будет изменено измерение «Заказчик».  
  
## <a name="renaming-attributes"></a>Переименование атрибутов  
 Имена атрибутов можно изменить на вкладке **Структура измерения** конструктора измерений.  
  
#### <a name="to-rename-an-attribute"></a>Переименование атрибута  
  
1.  Откройте измерение "Заказчик" в **конструкторе измерений** среды [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]. Для этого дважды щелкните измерение **Заказчик** в узле **Измерения** обозревателя решений.  
  
2.  На панели **Атрибуты** щелкните правой кнопкой мыши атрибут **English Country Region Name**и выберите команду **Переименовать**. Измените имя атрибута на `Country-Region` .  
  
3.  Аналогичным образом измените имена следующих атрибутов.  
  
    -   **Английский атрибут образования** — изменение на`Education`  
  
    -   **Английский** атрибут "род" — изменение на`Occupation`  
  
    -   **Имя района штата** — изменить на`State-Province`  
  
4.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="creating-a-hierarchy"></a>Создание иерархии  
 Иерархию можно создать, перетащив атрибут с панели **Атрибуты** на панель **Иерархии** .  
  
#### <a name="to-create-a-hierarchy"></a>Создание иерархии  
  
1.  Перетащите `Country-Region` атрибут с панели **атрибуты** на панель **иерархии** .  
  
2.  Перетащите `State-Province` атрибут из панели **атрибуты** в **\<new level>** ячейку на панели **иерархии** под `Country-Region` уровнем.  
  
3.  Перетащите атрибут **City** с панели **атрибуты** в **\<new level>** ячейку на панели **иерархии** под `State-Province` уровнем.  
  
4.  На панели **иерархии** вкладки **Структура измерения** щелкните правой кнопкой мыши строку заголовка иерархии **Иерархия** , выберите команду **Переименовать**, а затем введите `Customer Geography` .  
  
     Теперь имя иерархии — `Customer Geography` .  
  
5.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="adding-a-named-calculation"></a>Добавление именованного вычисления  
 К таблице в представлении источника данных можно добавить именованное вычисление, которое является выражением SQL и представляет собой вычисляемый столбец, Это выражение имеет вид и функции столбца таблицы. Именованные вычисления позволяют расширять реляционную схему таблиц, существующих в представлении источника данных, не изменяя структуру таблиц в базовом источнике данных. Дополнительные сведения см. в разделе [Определение именованных вычислений в представлении источника данных (службы Analysis Services)](multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md)  
  
#### <a name="to-add-a-named-calculation"></a>Добавление именованного вычисления  
  
1.  Откройте представление источника данных ** [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] DW 2012** , дважды щелкнув его в папке **представления источников данных** в Обозреватель решений.  
  
2.  На панели **Таблицы** слева щелкните правой кнопкой мыши таблицу **Заказчик**и выберите команду **Создать именованное вычисление**.  
  
3.  В диалоговом окне **Создание именованного вычисления** введите `FullName` в поле **имя столбца** , а затем в поле Выражение введите или скопируйте и вставьте следующую `CASE` инструкцию **Expression** :  
  
    ```  
    CASE  
       WHEN MiddleName IS NULL THEN  
       FirstName + ' ' + LastName  
       ELSE  
       FirstName + ' ' + MiddleName + ' ' + LastName  
    END  
    ```  
  
     `CASE`Инструкция объединяет столбцы **FirstName**, **MiddleName**и **LastName** в один столбец, который будет использоваться в измерении Customer в качестве отображаемого имени для атрибута **Customer** .  
  
4.  Нажмите кнопку **ОК**, а затем разверните узел **Заказчик** на панели **Таблицы** .  
  
     `FullName`Именованное вычисление отображается в списке столбцов в таблице Customer со значком, указывающим на то, что это именованное вычисление.  
  
5.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
6.  На панели **Таблицы** щелкните правой кнопкой мыши таблицу **Заказчик**и выберите пункт **Просмотр данных**.  
  
7.  Просмотрите последний столбец в представлении **Просмотр таблицы "Заказчик"** .  
  
     Обратите внимание, что `FullName` столбец отображается в представлении источника данных, правильно объединяя данные из нескольких столбцов базового источника данных и не изменяя исходный источник данных.  
  
8.  Закройте вкладку **Просмотр таблицы Customer** .  
  
## <a name="using-the-named-calculation-for-member-names"></a>Использование именованных вычислений в качестве имен элементов  
 После создания именованного вычисления в представлении источника данных это вычисление можно использовать в качестве свойства атрибута.  
  
#### <a name="to-use-the-named-calculation-for-member-names"></a>Использование именованного вычисления в качестве имен элементов  
  
1.  В конструкторе измерений откройте измерение Customer.  
  
2.  На панели **Атрибуты** вкладки **Структура измерения** выберите атрибут **Customer Key** .  
  
3.  Откройте окно "Свойства" и нажмите в строке заголовка кнопку **Автоматически скрывать** , чтобы оно оставалось открытым.  
  
4.  В поле **имя** свойства введите `Full Name` .  
  
5.  Щелкните в нижней части поля свойства **NameColumn** , а затем нажмите кнопку обзора (**...**), чтобы открыть диалоговое окно **Столбец имени** .  
  
6.  Выберите `FullName` в нижней части списка **Исходный столбец** , а затем нажмите кнопку **ОК**.  
  
7.  На вкладке Структура измерений перетащите `Full Name` атрибут из панели **атрибуты** в **\<new level>** ячейку на панели **иерархии** под уровнем **City** .  
  
8.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="defining-display-folders"></a>Определение папок отображения  
 Папки отображения позволяют группировать пользовательские иерархии и иерархии атрибутов в структуры папок, удобные для пользователя.  
  
#### <a name="to-define-display-folders"></a>Определение папок отображения  
  
1.  Откройте вкладку **Структура измерения** для измерения "Заказчик".  
  
2.  На панели **Атрибуты** выберите следующие атрибуты (щелкните каждый из них, удерживая нажатой клавишу CTRL):  
  
    -   **Город**  
  
    -   `Country-Region`  
  
    -   **Почтовый индекс**  
  
    -   `State-Province`  
  
3.  В окно свойств щелкните поле свойства **AttributeHierarchyDisplayFolder** в верхней части страницы (может потребоваться указать его, чтобы увидеть полное имя), а затем введите `Location` .  
  
4.  На панели **иерархии** щелкните `Customer Geography` , а затем в окно свойств справа выберите в `Location` качестве значения свойства **DisplayFolder** .  
  
5.  На панели **Атрибуты** выберите следующие атрибуты (щелкните каждый из них, удерживая нажатой клавишу CTRL):  
  
    -   **Расстояние до работы**  
  
    -   `Education`  
  
    -   **Gender**  
  
    -   **House Owner Flag**  
  
    -   **Семейное положение**  
  
    -   **Number Cars Owned**  
  
    -   **Число детей в домашней сети**  
  
    -   `Occupation`  
  
    -   **Общее количество детей**  
  
    -   **Годовой доход**  
  
6.  В окно свойств щелкните поле свойства **AttributeHierarchyDisplayFolder** в верхней части, а затем введите `Demographic` .  
  
7.  На панели **Атрибуты** выберите следующие атрибуты (щелкните каждый из них, удерживая нажатой клавишу CTRL):  
  
    -   **Электронная почта**  
  
    -   **Факс**  
  
8.  В окно свойств щелкните поле свойства **AttributeHierarchyDisplayFolder** и введите `Contacts` .  
  
9. В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="defining-composite-keycolumns"></a>Определение составных ключевых столбцов  
 Свойство **KeyColumns** содержит столбец или столбцы, представляющие ключ для атрибута. На этом занятии вы создадите составной ключ для **города** и `State-Province` атрибутов. Составные ключи могут оказаться полезными для уникальной идентификации атрибута. Например, при определении связей атрибутов далее в этом руководстве атрибут **City** должен однозначно идентифицировать `State-Province` атрибут. Однако в разных областях бывают города с одинаковыми названиями. Поэтому для атрибута **City** необходимо создать составной ключ, состоящий из столбцов **StateProvinceName** и **City** . Дополнительные сведения см. в разделе [Изменение свойства KeyColumn атрибута](multidimensional-models/attribute-properties-modify-the-keycolumn-property.md).  
  
#### <a name="to-define-composite-keycolumns-for-the-city-attribute"></a>Определение составного свойства KeyColumns для атрибута City  
  
1.  Откройте вкладку **Структура измерения** для измерения "Заказчик".  
  
2.  На панели **Атрибуты** щелкните атрибут **City** .  
  
3.  В окне **Свойства** щелкните в поле **KeyColumns** ближе к нижней части и нажмите кнопку обзора (**...**).  
  
4.  В диалоговом окне **Ключевые столбцы** в списке **Доступные столбцы** выберите столбец **StateProvinceName**и нажмите кнопку **>** .  
  
     Теперь в списке **Ключевые столбцы** отображаются столбцы **City** и **StateProvinceName** .  
  
5.  Нажмите кнопку **ОК**.  
  
6.  Чтобы задать свойство **NameColumn** атрибута **City** , щелкните в окне свойств поле **NameColumn** и нажмите кнопку обзора (**...**).  
  
7.  В диалоговом окне **Столбец имени** в списке **Исходный столбец** выберите **City**и нажмите кнопку **ОК**.  
  
8.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
#### <a name="to-define-composite-keycolumns-for-the-state-province-attribute"></a>Определение составного свойства KeyColumns для атрибута «Республика, область или край»  
  
1.  Убедитесь в том, что вкладка **Структура измерения** для измерения "Заказчик" открыта.  
  
2.  На панели **атрибуты** щелкните `State-Province` атрибут.  
  
3.  В окне **Свойства** щелкните в поле **KeyColumns** и нажмите кнопку обзора (**...**).  
  
4.  В диалоговом окне **Ключевые столбцы** в списке **Доступные столбцы** выберите столбец **EnglishCountryRegionName**и нажмите кнопку **>** .  
  
     Теперь в списке **Ключевые столбцы** отображаются столбцы **EnglishCountryRegionName** и **StateProvinceName** .  
  
5.  Нажмите кнопку **ОК**.  
  
6.  Чтобы задать свойство **NameColumn** `State-Province` атрибута, щелкните поле **NameColumn** в окно свойств и нажмите кнопку обзора (**...**).  
  
7.  В диалоговом окне **Столбец имени** в списке **Исходный столбец** выберите **StateProvinceName**и нажмите кнопку **ОК**.  
  
8.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="defining-attribute-relationships"></a>Определение связей атрибутов  
 Необходимо определять связи между атрибутами, если базовые данные это поддерживают. Определение связей между атрибутами ускоряет обработку измерений, секций и запросов. Дополнительные сведения см. в разделах [Определение связей атрибутов](multidimensional-models/attribute-relationships-define.md) и [Связи атрибутов](multidimensional-models-olap-logical-dimension-objects/attribute-relationships.md).  
  
#### <a name="to-define-attribute-relationships"></a>Определение связей атрибутов  
  
1.  В **конструкторе измерений** для измерения «Заказчик» перейдите на вкладку **связи атрибутов** . Может потребоваться подождать.  
  
2.  На диаграмме щелкните правой кнопкой мыши атрибут **Город** и выберите команду **Создать связь атрибутов**.  
  
3.  В диалоговом окне **Создание связи атрибутов** поле **Исходный атрибут** содержит значение **Город**. Задайте для параметра **связанный атрибут** значение `State-Province` .  
  
4.  В списке **Тип связи** выберите тип **Жесткая**.  
  
     Связь имеет тип **Жесткая** , так как связи между элементами не будут меняться с течением времени. Например, переход города под юрисдикцию другого штата или провинции — явление крайне редкое.  
  
5.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
6.  На диаграмме щелкните правой кнопкой мыши `State-Province` атрибут и выберите пункт **создать связь атрибутов**.  
  
7.  В диалоговом окне **Создание связи атрибутов** в поле **Исходный атрибут** имеет значение `State-Province` . Задайте для параметра **связанный атрибут** значение `Country-Region` .  
  
8.  В списке **Тип связи** выберите тип **Жесткая**.  
  
9. Нажмите кнопку **ОК**.  
  
10. В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="deploying-changes-processing-the-objects-and-viewing-the-changes"></a>Развертывание изменений, обработка объектов и просмотр изменений  
 После изменения атрибутов и иерархий необходимо произвести развертывание произведенных изменений и повторную обработку связанных объектов, прежде чем эти изменения можно будет просмотреть.  
  
#### <a name="to-deploy-the-changes-process-the-objects-and-view-the-changes"></a>Развертывание изменений, обработка объектов и просмотр изменений  
  
1.  В меню **Построение** среды [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  Получив сообщение **Развертывание выполнено успешно** , в конструкторе измерений перейдите на вкладку **Браузер** измерения "Заказчик" и щелкните на панели инструментов значок повторного соединения.  
  
3.  Убедитесь, что `Customer Geography` в списке **Иерархия** выбрано значение, а затем в области браузер разверните **все**, разверните **Австралия**, разверните узел **Новый Южный**, а затем разверните узел **Коффс Харбор**.  
  
     В браузере отображаются заказчики, живущие в этом городе.  
  
4.  Переключитесь в **конструктор кубов** для куба учебника по службам [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] . Чтобы сделать это, дважды щелкните куб **Учебник по службам Analysis Services** , который находится в узле **Кубы** в дереве **обозревателя решений**.  
  
5.  Перейдите на вкладку **Браузер** и на панели инструментов конструктора нажмите кнопку повторного соединения.  
  
6.  На панели **Группа мер** разверните узел **Заказчик**.  
  
     Обратите внимание, что вместо длинного списка атрибутов для измерения «Заказчик» отображаются только папки отображения и те атрибуты, для которых не указана папка отображения.  
  
7.  В меню **File** (Файл) выберите команду **Save All** (Сохранить все).  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Изменение измерения Product](lesson-3-3-modifying-the-product-dimension.md)  
  
## <a name="see-also"></a>См. также:  
 [Справочник по свойствам атрибутов измерения](multidimensional-models/dimension-attribute-properties-reference.md)   
 [Удаление атрибута из измерения](multidimensional-models/attribute-properties-remove-an-attribute-from-a-dimension.md)   
 [Переименование атрибута](multidimensional-models/attribute-properties-rename-an-attribute.md)   
 [Определение именованных вычислений в представлении источника данных (службы Analysis Services)](multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md)  
  
  

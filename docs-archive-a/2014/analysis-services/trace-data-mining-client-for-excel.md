---
title: Трассировка (клиент интеллектуального анализа данных для Excel) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- tracer
- connections
ms.assetid: 4aea3e17-cd0f-48dd-8f22-b54a6c716426
author: minewiskan
ms.author: owend
ms.openlocfilehash: 74e1a5be21aa6981ccefa76f7bb1892d8d517be5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738774"
---
# <a name="trace-data-mining-client-for-excel"></a><span data-ttu-id="27357-102">Трассировка (клиент интеллектуального анализа данных для Excel)</span><span class="sxs-lookup"><span data-stu-id="27357-102">Trace (Data Mining Client for Excel)</span></span>
  <span data-ttu-id="27357-103">![Кнопка «Трассировка»](media/misc-trace.gif "Кнопка «Трассировка»")</span><span class="sxs-lookup"><span data-stu-id="27357-103">![Trace button](media/misc-trace.gif "Trace button")</span></span>

 <span data-ttu-id="27357-104">Диалоговое окно **Трассировщик** служит для наблюдения за инструкциями, которые передаются в экземпляр служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , используемый для интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="27357-104">The **Tracer** dialog box helps you monitor the statements that are sent to the instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] that you are using for data mining.</span></span> <span data-ttu-id="27357-105">После создания соединения с экземпляром служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]взаимодействие клиента и сервера регистрируется в области **Трассировка** , в том числе инструкции создания структур, добавления моделей интеллектуального анализа данных, прогнозирования, а также некоторые сообщения, возвращаемые с сервера.</span><span class="sxs-lookup"><span data-stu-id="27357-105">After you have created a connection to an instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], all interactions between the client and the server are logged in the **Tracer** pane, including statements that create structures, add mining models, and make predictions, as well as some messages returning from the server.</span></span>

 <span data-ttu-id="27357-106">В зависимости от запрашиваемого действия инструкция может быть запросом определения данных или запросом обработки данных расширений интеллектуального анализа данных, пакетом языка ASSL или вызовом хранимой процедуры служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="27357-106">Depending on the action that is requested, the statement might be a Data Mining Extensions (DMX) data definition query or data manipulation query, an Analysis Services Scripting Language (ASSL) packet, or a call to an Analysis Services stored procedure.</span></span> <span data-ttu-id="27357-107">Однако фактические числовые результаты и значения данных не показываются.</span><span class="sxs-lookup"><span data-stu-id="27357-107">Actual numerical results and data values are not shown, however.</span></span>

 <span data-ttu-id="27357-108">На панели**Трассировка** отслеживаются только текущие соединения, а содержимое диалогового окна **Трассировкаr** не сохраняется.</span><span class="sxs-lookup"><span data-stu-id="27357-108">**Trace** monitors only the current connection, and the contents of the **Tracer** dialog box are not stored.</span></span>

## <a name="options"></a><span data-ttu-id="27357-109">Варианты</span><span class="sxs-lookup"><span data-stu-id="27357-109">Options</span></span>
 <span data-ttu-id="27357-110">В панели трассировщика перечислены все инструкции, отправленные с клиента Excel на сервер.</span><span class="sxs-lookup"><span data-stu-id="27357-110">Tracer pane Lists all statements sent from the Excel client to the server.</span></span>

 <span data-ttu-id="27357-111">В зависимости от запрашиваемого действия инструкция может быть инструкцией расширений интеллектуального анализа данных для обработки или определения данных, вызовом хранимой процедуры служб Analysis Services или пакетом XML/A.</span><span class="sxs-lookup"><span data-stu-id="27357-111">Depending on the action that is being requested, the statement might be a DMX data manipulation or data definition statement, a call to an Analysis Services stored procedure, or an XML/A packet.</span></span>

 <span data-ttu-id="27357-112">**Текущее соединение** Выберите эту команду, чтобы отобразить описание текущего соединения.</span><span class="sxs-lookup"><span data-stu-id="27357-112">**Current Connection** Click to display the definition of the current connection.</span></span> <span data-ttu-id="27357-113">Это описание включает имя соединения, поставщика, источник данных, каталог, время соединения, использовавшееся для транзакции, и текущее состояние (активное, неактивное).</span><span class="sxs-lookup"><span data-stu-id="27357-113">The definition includes the name of the connection, the provider, data source, and catalog, the time the connection was last used for a transaction, and the current state (Open, Inactive).</span></span>

 <span data-ttu-id="27357-114">**Использовать модели сеанса** Установите этот флажок, чтобы сохранить на сервере модели и структуры интеллектуального анализа данных как временные объекты.</span><span class="sxs-lookup"><span data-stu-id="27357-114">**Use session models** Select this check box to store data mining models and structures as temporary objects on the server.</span></span> <span data-ttu-id="27357-115">Создаваемые модели и структуры доступны только до конца текущего сеанса.</span><span class="sxs-lookup"><span data-stu-id="27357-115">The models and structures that you create will be available only for the duration of the current session.</span></span>

 <span data-ttu-id="27357-116">Снимите этот флажок, чтобы сохранить модели или структуры на сервере служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="27357-116">Deselect this option to save your models or structures by storing them on an Analysis Services server.</span></span>

 <span data-ttu-id="27357-117">**Примечание.** Возможность использовать временные объекты доступна только в том случае, если используются средства анализа таблиц для Excel.</span><span class="sxs-lookup"><span data-stu-id="27357-117">**Note** The ability to use temporary objects is available only when you are using the Table Analysis Tools for Excel.</span></span> <span data-ttu-id="27357-118">Для шаблонов интеллектуального анализа данных Visio и клиента интеллектуального анализа данных для Excel требуется, чтобы структуры и модели сохранялись на сервере.</span><span class="sxs-lookup"><span data-stu-id="27357-118">The Visio Data Mining templates and the Data Mining Client for Excel require structures and models to be stored on the server.</span></span>

## <a name="tracing-temporary-structures-and-models"></a><span data-ttu-id="27357-119">Временные структуры и модели трассировки</span><span class="sxs-lookup"><span data-stu-id="27357-119">Tracing Temporary Structures and Models</span></span>
 <span data-ttu-id="27357-120">При использовании средств анализа таблиц, по умолчанию создающих временные структуры и модели, действия сервера и клиента регистрируются, но созданные модели или структуры не сохраняются на сервере.</span><span class="sxs-lookup"><span data-stu-id="27357-120">If you are using the Table Analysis Tools, which by default create temporary structures and models, the activity between the server and the client is monitored, but the models or structures that you create are not saved permanently to the server.</span></span>

 <span data-ttu-id="27357-121">Если нужно сохранить результаты работы с одним из средств анализа таблиц, можно снять флажок **Использовать модели сеанса**, в результате чего модели будут сохранены на сервере.</span><span class="sxs-lookup"><span data-stu-id="27357-121">If you want to preserve your work when using one of the Table Analysis Tools, you can deselect the option, **Use session models**, to cause your models to be permanently saved on the server.</span></span> <span data-ttu-id="27357-122">Можно также скопировать инструкции из области **Трассировка** в файл, чтобы позже можно было создать повторно проделанную работу.</span><span class="sxs-lookup"><span data-stu-id="27357-122">You can also copy the statements in the **Tracer** pane to a file so that you can re-create your work later.</span></span>

## <a name="understanding-sessions"></a><span data-ttu-id="27357-123">Основные сведения о сеансах</span><span class="sxs-lookup"><span data-stu-id="27357-123">Understanding Sessions</span></span>
 <span data-ttu-id="27357-124">При соединении с экземпляром служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]надстройка интеллектуального анализа данных инициирует сеанс.</span><span class="sxs-lookup"><span data-stu-id="27357-124">When you connect to an instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], the data mining add-in initiates a session.</span></span> <span data-ttu-id="27357-125">Каждый сеанс получает идентификатор сеанса, определяющий его в экземпляре служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="27357-125">Each session receives a session identifier that identifies an existing session on the [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="27357-126">Однако идентификатор сеанса не гарантирует того, что сеанс остается допустимым.</span><span class="sxs-lookup"><span data-stu-id="27357-126">However, a session identifier does not guarantee that a session remains valid.</span></span> <span data-ttu-id="27357-127">Срок действия сеанса может истечь, если будет превышено время ожидания или произойдет отключение соединения, связанного с этим сеансом.</span><span class="sxs-lookup"><span data-stu-id="27357-127">The session can expire if the session times out or the connection associated with the session is disconnected.</span></span> <span data-ttu-id="27357-128">Если время сеанса истекает и он становится недействительным, службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] завершают сеанс и выполняют откат текущих транзакций.</span><span class="sxs-lookup"><span data-stu-id="27357-128">If the session expires and is no longer valid, [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] ends the session and rolls back any transactions that are in process.</span></span> <span data-ttu-id="27357-129">Если сообщение отправляется с идентификатором недействительного сеанса, то происходит возврат ошибки, указывающей, что заданный сеанс не найден.</span><span class="sxs-lookup"><span data-stu-id="27357-129">If a message is sent with a session identifier that is no longer valid, the message fails with an error indicating that the specified session cannot be found.</span></span>

 <span data-ttu-id="27357-130">Несмотря на то, что некоторые модели интеллектуального анализа данных хранятся на сервере в явном виде, на нем не сохраняются применяемые в сеансе модели и структуры интеллектуального анализа данных, а также не сохраняются записи о действиях по интеллектуальному анализу данных во время сеанса.</span><span class="sxs-lookup"><span data-stu-id="27357-130">Although some data mining models are explicitly stored on the server, session mining models and structures are not, and no record is persisted of session data mining activity.</span></span> <span data-ttu-id="27357-131">Так как временные модели и структуры интеллектуального анализа данных удаляются сразу же после завершения сеанса, не следует закрывать книгу Excel, не сохранив ту работу, которая понадобится в дальнейшем.</span><span class="sxs-lookup"><span data-stu-id="27357-131">Because temporary mining models and structures are deleted as soon as you end the session, you should avoid closing your Excel workbook until after you have saved any work that you want to keep.</span></span>

## <a name="changing-connections"></a><span data-ttu-id="27357-132">Изменение соединений</span><span class="sxs-lookup"><span data-stu-id="27357-132">Changing Connections</span></span>
 <span data-ttu-id="27357-133">При смене соединения трассировки предыдущих соединений не удаляются.</span><span class="sxs-lookup"><span data-stu-id="27357-133">Changing connections does not delete traces from previous connections.</span></span> <span data-ttu-id="27357-134">Сеанс удаляется только закрытием книги.</span><span class="sxs-lookup"><span data-stu-id="27357-134">Only closing the workbook erases the session.</span></span>

 <span data-ttu-id="27357-135">Если изменить соединение, продолжая работать в книге Excel, это изменение не отражается на панели **Трассировка** .</span><span class="sxs-lookup"><span data-stu-id="27357-135">If you change connections while working in an Excel workbook, the change of connections is not recorded in the **Tracer** pane.</span></span> <span data-ttu-id="27357-136">Чтобы явно отобразить имя и состояние текущего соединения, нужно щелкнуть **Текущее соединение**.</span><span class="sxs-lookup"><span data-stu-id="27357-136">To explicitly display the name and status of the current connection, you must click **Current Connection**.</span></span>

## <a name="understanding-statements-in-the-tracer"></a><span data-ttu-id="27357-137">Основные сведения об инструкциях в трассировщике</span><span class="sxs-lookup"><span data-stu-id="27357-137">Understanding Statements in the Tracer</span></span>
 <span data-ttu-id="27357-138">На языке расширений интеллектуального анализа данных можно создавать модели интеллектуального анализа данных в службах [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]и работать с ними.</span><span class="sxs-lookup"><span data-stu-id="27357-138">DMX is a language that you can use to create and work with data mining models in [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="27357-139">Расширения интеллектуального анализа данных могут использоваться для создания структуры новых моделей интеллектуального анализа данных, обучения этих моделей, а также для их просмотра, управления и выполнения прогнозов с их помощью.</span><span class="sxs-lookup"><span data-stu-id="27357-139">You can use DMX to create the structure of new data mining models, train these models, and to browse, manage, and predict against them.</span></span> <span data-ttu-id="27357-140">Расширения интеллектуального анализа данных состоят из инструкций языка определения данных (DDL), инструкций языка обработки данных (DML), а также функций и операторов.</span><span class="sxs-lookup"><span data-stu-id="27357-140">DMX is composed of data definition language (DDL) statements, data manipulation language (DML) statements, and functions and operators.</span></span>

 <span data-ttu-id="27357-141">Подробное обсуждение инструкций расширений интеллектуального анализа данных и их синтаксиса не является темой этого раздела.</span><span class="sxs-lookup"><span data-stu-id="27357-141">A complete discussion of DMX statements and their syntax is beyond the scope of this topic.</span></span> <span data-ttu-id="27357-142">Однако сведения на панели **Трассировка** позволяют использовать для поиска подробных сведений о работе инструкции расширений интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="27357-142">However, you can use the information in the **Tracer** pane to find detailed information about the behavior of a DMX statement.</span></span> <span data-ttu-id="27357-143">Надстройки интеллектуального анализа данных для Excel дают возможность легко создавать сложные инструкции расширений интеллектуального анализа данных и взаимодействовать с сервером служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="27357-143">The Data Mining Add-ins for Excel can also help you build complex DMX statements and interact with an [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] server.</span></span> <span data-ttu-id="27357-144">Дополнительные сведения см. в разделе [Query &#40;SQL Server надстроек интеллектуального анализа данных&#41;](query-sql-server-data-mining-add-ins.md).</span><span class="sxs-lookup"><span data-stu-id="27357-144">For more information, see [Query &#40;SQL Server Data Mining Add-ins&#41;](query-sql-server-data-mining-add-ins.md).</span></span>

> [!NOTE]
>  <span data-ttu-id="27357-145">Многие инструкции DMX параметризируются.</span><span class="sxs-lookup"><span data-stu-id="27357-145">Many DMX statements are parameterized.</span></span> <span data-ttu-id="27357-146">Для простых типов значения параметров перечисляются в инструкции.</span><span class="sxs-lookup"><span data-stu-id="27357-146">For simple types, the values of the parameters are listed under the statement.</span></span> <span data-ttu-id="27357-147">Однако для сложных типов перечисляются только типы параметров.</span><span class="sxs-lookup"><span data-stu-id="27357-147">However, for complex types, only the type of the parameter is listed.</span></span>

 <span data-ttu-id="27357-148">Службы SQL Server Analysis Services используют протокол XML для аналитики (XMLA) для обработки любого взаимодействия клиентских приложений (включая клиент интеллектуального анализа данных для Excel) и экземпляра служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="27357-148">SQL Server Analysis Services also uses the XML for Analysis (XMLA) protocol to handle all communications between client applications, including the Data Mining Client for Excel and an instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)].</span></span>

 <span data-ttu-id="27357-149">Дополнительные сведения о синтаксисе расширений интеллектуального анализа данных и о командах и элементах XMLA см. в электронной документации по [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="27357-149">For more information about DMX syntax, and about the commands and elements in XMLA, see [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Books Online.</span></span>

 <span data-ttu-id="27357-150">Некоторые инструкции, посылаемые на сервер, могут включать запросы, вызывающие системные хранимые процедуры служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="27357-150">Some of the statements sent to the server may include queries that call Analysis Services system stored procedures.</span></span> <span data-ttu-id="27357-151">Дополнительные сведения см. в электронной документации по SQL Server.</span><span class="sxs-lookup"><span data-stu-id="27357-151">For more information, see SQL Server Books Online.</span></span>



---
title: Определение свойств родительского атрибута в иерархии типа «родители-потомки» | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 2d78fa73-a13b-4e12-bbd0-43e5307f760c
author: minewiskan
ms.author: owend
ms.openlocfilehash: 1dfa4340bdc161809cf3821e5cb1f0609399e1d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665640"
---
# <a name="defining-parent-attribute-properties-in-a-parent-child-hierarchy"></a>Определение свойств родительского атрибута в иерархии «родители-потомки»
  Иерархия типа «родители-потомки» представляет собой иерархию в измерении, которая основана на двух столбцах таблицы. Вместе эти столбцы определяют иерархическую связь между элементами измерения. Первый столбец, называемый *ключевым столбцом элемента*, идентифицирует каждый элемент измерения. Второй столбец, называемый *родительским столбцом*, идентифицирует родителя для каждого из элементов измерения. Свойство **NamingTemplate** родительского атрибута определяет имя каждого уровня в иерархии типа "родители-потомки", а свойство **MembersWithData** — будут ли отображаться данные для родительских элементов.

 Дополнительные сведения см. в разделе [Иерархия "родители-потомки](multidimensional-models/parent-child-dimension.md)", [атрибуты в иерархиях "родители-потомки](multidimensional-models/parent-child-dimension-attributes.md) "

> [!NOTE]
>  Если измерение создается с помощью мастера измерений, мастер распознает таблицы, которые имеют связи типа «родители-потомки», и автоматически определяет иерархию типа «родители-потомки».

 При выполнении задач этого раздела будет создан шаблон именования, определяющий имя каждого из уровней в иерархии типа "родители-потомки" в измерении **Сотрудник** . Затем этот родительский атрибут будет настроен таким образом, чтобы все данные о родителях были скрыты и отображались только данные по продажам для элементов конечного уровня.

## <a name="browsing-the-employee-dimension"></a>Просмотр измерения Employee

1.  В обозревателе решений дважды щелкните файл **Employee.dim** в папке **Измерения** , чтобы открыть конструктор измерений для измерения "Сотрудник".

2.  Перейдите на вкладку **Браузер** , убедитесь в том, что в списке **Иерархия** выбран элемент **Сотрудники** , а затем разверните элемент **Все сотрудники** .

     Обратите внимание, что сотрудник **Кен Дж. Санчес** — менеджер высшего уровня в этой иерархии типа "родители-потомки".

3.  Выберите элемент **Кен Дж. Санчес** .

     Обратите внимание, что имя уровня для этого элемента — **Уровень 02**. (Имя уровня указано сразу после значения **Текущий уровень:** над элементом **Все сотрудники** .) В следующей задаче будут определены более понятные имена для каждого уровня.

4.  Разверните элемент **Кен Дж. Санчес** , чтобы увидеть имена всех сотрудников, подчиняющихся этому менеджеру, а затем выберите элемент **Брайан С. Уэлкер** , чтобы узнать имя этого уровня.

     Обратите внимание, что имя уровня для этого элемента — **Уровень 03**.

5.  В обозревателе решений дважды щелкните файл **Analysis Services Tutorial.cube** в папке **Кубы** , чтобы открыть конструктор кубов для куба "Учебник по [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] ".

6.  Перейдите на вкладку **Браузер** .

7.  Щелкните значок Excel, а затем выберите **Включить** при появлении запроса на включение подключений.

8.  В списке полей сводной таблицы разверните узел **Продажи через торговых посредников**. Перетащите меру **Товарооборот посредников — объем продаж** в область значений.

9. В списке полей сводной таблицы разверните узел **Сотрудник**, а затем перетащите иерархию **Сотрудники** в область **Строки** .

     Все элементы иерархии Employees будут добавлены в столбец A в отчете сводной таблицы.

     На следующем рисунке показана развернутая иерархия Employees.

10. ![Сводная таблица, отображающая иерархию Employees](../../2014/tutorials/media/l4-employee-1.gif "Сводная таблица, отображающая иерархию Employees")

     Обратите внимание, что продажи, совершенные каждым менеджером уровня 03, отображаются и на уровне 04. Это связано с тем, что каждый менеджер является также подчиненным другого менеджера. В следующей задаче предстоит скрыть эти суммы продаж.

## <a name="modifying-parent-attribute-properties-in-the-employee-dimension"></a>Изменение свойств родительского атрибута в измерении Employee

1.  В конструкторе измерений откройте измерение **Сотрудник** .

2.  Перейдите на вкладку **Структура измерения** , а затем выберите иерархию атрибута **Сотрудники** на панели **Атрибуты** .

     Обратите внимание на уникальный значок атрибута. Этот значок указывает, что атрибут является ключом родителя в иерархии типа «родители-потомки». Обратите внимание, что в окне свойств свойство **Использование** для этого атрибута определено как **Родитель**. Это свойство устанавливается мастером измерений во время создания измерения. Мастер автоматически выявляет связи типа «родители-потомки».

3.  В окне свойств в ячейке свойств**NamingTemplate**нажмите кнопку с многоточием ( **...** ).

     В диалоговом окне **Шаблон именования уровней** необходимо задать шаблон именования уровней, который определяет имена уровней в иерархии типа "родители-потомки", отображаемых при просмотре кубов.

4.  Во второй строке **\*** введите в столбце **имя** значение **уровень \* сотрудника** , а затем щелкните третью строку.

     Обратите внимание, что в поле **Результат** каждый уровень теперь называется "Уровень сотрудника", за которым следует последовательно увеличивающееся число.

     На рисунке ниже показаны изменения в диалоговом окне **Шаблон именования уровней** .

     ![Диалоговое окно «Шаблон именования уровней»](../../2014/tutorials/media/l4-namingtemplate.gif "Диалоговое окно «Шаблон именования уровней»")

5.  Нажмите кнопку **ОК**.

6.  В окне "Свойства" для атрибута **Сотрудники** в ячейке свойств **MembersWithData** выберите **NonLeafDataHidden** , чтобы изменить это значение для атрибута **Сотрудники** .

     Данные в иерархии типа «родители-потомки», которые относятся к элементам уровня, не являющегося конечными, будут скрыты.

## <a name="browsing-the-employee-dimension-with-the-modified-attributes"></a>Просмотр измерения Employee с измененными атрибутами

1.  В меню **Построение** среды [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]выберите команду **Развернуть Analysis Services Tutorial**.

2.  После успешного завершения развертывания перейдите в конструктор кубов и откройте куб "Учебник по [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] ". Затем нажмите кнопку **Повторное соединение** на панели инструментов вкладки **Браузер** .

3.  Щелкните ярлык Excel, а затем выберите **Включить**.

4.  Перетащите меру **Товарооборот посредников — объем продаж** в область значений.

5.  Перетащите иерархию **Сотрудники** в область "Метки строк".

     На следующем рисунке показаны изменения, внесенные в иерархию Employees. Обратите внимание на то, что Stephen Y. Jiang больше не отображается как сотрудник самого себя.

     ![Измененная иерархия Employees](../../2014/tutorials/media/l4-employee-2.png "Измененная иерархия Employees")

## <a name="next-task-in-lesson"></a>Следующая задача занятия
 [Автоматическое группирование элементов атрибута](lesson-4-3-automatically-grouping-attribute-members.md)

## <a name="see-also"></a>См. также:
 Атрибуты [иерархии «родители-потомки](multidimensional-models/parent-child-dimension.md) [» в иерархиях «родители-потомки](multidimensional-models/parent-child-dimension-attributes.md) »



---
title: Занятие 6. Определение вычислений | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e0a1e354-e879-4eb8-bb2b-6c3809e32cb6
author: minewiskan
ms.author: owend
ms.openlocfilehash: e0b3f7e925a11146204dc6c55e9ddd6820ecb802
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658492"
---
# <a name="lesson-6-defining-calculations"></a><span data-ttu-id="8ff03-102">Занятие 6: Определение вычислений</span><span class="sxs-lookup"><span data-stu-id="8ff03-102">Lesson 6: Defining Calculations</span></span>
  <span data-ttu-id="8ff03-103">На этом занятии будет показано, как определять вычисления, являющиеся многомерными выражениями или сценариями многомерных выражений.</span><span class="sxs-lookup"><span data-stu-id="8ff03-103">In this lesson, you learn to define calculations, which are Multidimensional Expressions (MDX) expressions or scripts.</span></span> <span data-ttu-id="8ff03-104">Вычисления позволяют определять вычисляемые элементы, именованные наборы и другие команды скриптов, расширяющие возможности куба служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ff03-104">Calculations enable you to define calculated members, named sets, and execute other script commands to extend the capabilities of an [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] cube.</span></span> <span data-ttu-id="8ff03-105">Например, с помощью команды скрипта можно определить вложенный куб и присвоить вычисление его ячейкам.</span><span class="sxs-lookup"><span data-stu-id="8ff03-105">For example, you can run a script command to define a subcube and then assign a calculation to the cells in the subcube.</span></span>  
  
 <span data-ttu-id="8ff03-106">При определении нового вычисления в конструкторе кубов оно добавляется на панель **Организатор скриптов** на вкладке **Вычисления** конструктора кубов, а поля для конкретного типа вычисления отображаются в форме вычислений на панели **Выражения вычисления** .</span><span class="sxs-lookup"><span data-stu-id="8ff03-106">When you define a new calculation in Cube Designer, the calculation is added to the **Script Organizer** pane of the **Calculations** tab of Cube Designer, and the fields for the particular calculation type are displayed in a calculations form in the **Calculation Expressions** pane.</span></span> <span data-ttu-id="8ff03-107">Вычисления выполняются в порядке, в котором они перечислены на панели **Организатор скриптов** .</span><span class="sxs-lookup"><span data-stu-id="8ff03-107">Calculations are executed in the order in which they are listed in the **Script Organizer** pane.</span></span> <span data-ttu-id="8ff03-108">Вы можете изменить порядок вычислений, щелкнув отдельное вычисление правой кнопкой мыши и выбрав команду **Переместить вверх** или **Переместить вниз**или выбрав вычисление и воспользовавшись значками **Переместить вверх** или **Переместить вниз** на панели инструментов вкладки **Вычисления** .</span><span class="sxs-lookup"><span data-stu-id="8ff03-108">You can reorder the calculations by right-clicking on a particular calculation and then selecting **Move Up** or **Move Down**, or by clicking a particular calculation and then using the **Move Up** or **Move Down** icons on the toolbar of the **Calculations** tab.</span></span>  
  
 <span data-ttu-id="8ff03-109">На вкладке **Вычисления** можно добавить новые вычисления, а также просмотреть или изменить существующие вычисления в одном из следующих представлений на панели **Выражения вычисления** .</span><span class="sxs-lookup"><span data-stu-id="8ff03-109">On the **Calculations** tab, you can add new calculations and view or edit existing calculations in the following views in the **Calculation Expressions** pane:</span></span>  
  
-   <span data-ttu-id="8ff03-110">Представление формы.</span><span class="sxs-lookup"><span data-stu-id="8ff03-110">Form view.</span></span> <span data-ttu-id="8ff03-111">В этом представлении отображаются выражения и свойства отдельной команды в графическом формате.</span><span class="sxs-lookup"><span data-stu-id="8ff03-111">This view shows the expressions and properties for a single command in a graphical format.</span></span> <span data-ttu-id="8ff03-112">При редактировании скрипта многомерных выражений поле выражения занимает все представление формы.</span><span class="sxs-lookup"><span data-stu-id="8ff03-112">When you edit an MDX script, an expression box fills the Form view.</span></span>  
  
-   <span data-ttu-id="8ff03-113">Представление скрипта.</span><span class="sxs-lookup"><span data-stu-id="8ff03-113">Script view.</span></span> <span data-ttu-id="8ff03-114">В этом представлении отображаются все сценарии вычислений в редакторе кода, что позволяет легко изменять сценарии вычислений.</span><span class="sxs-lookup"><span data-stu-id="8ff03-114">This view displays all calculation scripts in a code editor, which lets you easily change the calculation scripts.</span></span> <span data-ttu-id="8ff03-115">Если панель **Выражения вычисления** находится в представлении скрипта, окно **Организатор скриптов** скрыто.</span><span class="sxs-lookup"><span data-stu-id="8ff03-115">When the **Calculation Expressions** pane is in Script view, the **Script Organizer** is hidden.</span></span> <span data-ttu-id="8ff03-116">Представление скрипта поддерживает выделение кода цветом, сопоставление скобок, автоматическую подстановку, а также области кода многомерных выражений.</span><span class="sxs-lookup"><span data-stu-id="8ff03-116">The Script view provides color coding, parenthesis matching, auto-complete, and MDX code regions.</span></span> <span data-ttu-id="8ff03-117">Можно развернуть или свернуть области кода многомерных выражений, чтобы упростить редактирование.</span><span class="sxs-lookup"><span data-stu-id="8ff03-117">You can expand or collapse the MDX code regions to make editing easier.</span></span>  
  
 <span data-ttu-id="8ff03-118">Для переключения между этими представлениями на панели **Выражения вычисления** на панели инструментов вкладки **Вычисления** нажмите кнопку **Представление формы** или **Представление скрипта** .</span><span class="sxs-lookup"><span data-stu-id="8ff03-118">To switch between these views in the **Calculation Expressions** pane, click **Form View** or **Script View** on the toolbar of the **Calculations** tab.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8ff03-119">Если службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] обнаружат синтаксическую ошибку в каком-либо вычислении, представление формы не будет отображаться до тех пор, пока эта ошибка не будет исправлена в представлении скрипта.</span><span class="sxs-lookup"><span data-stu-id="8ff03-119">If [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] detects a syntax error in any calculation, the Form view will not display until the error is corrected in the Script view.</span></span>  
  
 <span data-ttu-id="8ff03-120">Для добавления к кубу определенных вычислений также можно использовать мастер бизнес-аналитики.</span><span class="sxs-lookup"><span data-stu-id="8ff03-120">You can also use the Business Intelligence Wizard to add certain calculations to a cube.</span></span> <span data-ttu-id="8ff03-121">Например, с помощью этого мастера можно добавить к кубу логику операций со временем, то есть определить вычисляемые элементы для времязависимых расчетов, таких, как временные интервалы, скользящие средние или рост за период.</span><span class="sxs-lookup"><span data-stu-id="8ff03-121">For example, you can use this wizard to add time intelligence to a cube, which means defining calculated members for time-related calculations such as period-to-date, moving averages, or period over period growth.</span></span> <span data-ttu-id="8ff03-122">Дополнительные сведения см. в разделе [Определение вычислений логики операций со временем с использованием мастера бизнес-аналитики](multidimensional-models/define-time-intelligence-calculations-using-the-business-intelligence-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="8ff03-122">For more information, see [Define Time Intelligence Calculations using the Business Intelligence Wizard](multidimensional-models/define-time-intelligence-calculations-using-the-business-intelligence-wizard.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="8ff03-123">На вкладке **Вычисления** скрипт вычисления начинается с команды CALCULATE.</span><span class="sxs-lookup"><span data-stu-id="8ff03-123">On the **Calculations** tab, the calculation script starts with the CALCULATE command.</span></span> <span data-ttu-id="8ff03-124">Команда CALCULATE управляет статистическими вычислениями ячеек куба. Эту команду следует изменять только в том случае, если планируется вручную указывать, как должны выполняться статистические вычисления ячеек куба.</span><span class="sxs-lookup"><span data-stu-id="8ff03-124">The CALCULATE command controls the aggregation of the cells in the cube and you should edit this command only if you intend to manually specify how the cube cells should be aggregated.</span></span>  
  
 <span data-ttu-id="8ff03-125">Дополнительные сведения см. в разделах [Вычисления](multidimensional-models-olap-logical-cube-objects/calculations.md)и [Вычисления в многомерных моделях](multidimensional-models/calculations-in-multidimensional-models.md).</span><span class="sxs-lookup"><span data-stu-id="8ff03-125">For more information, see [Calculations](multidimensional-models-olap-logical-cube-objects/calculations.md), and [Calculations in Multidimensional Models](multidimensional-models/calculations-in-multidimensional-models.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8ff03-126">Завершенные проекты для всех занятий в этом учебнике доступны через Интернет.</span><span class="sxs-lookup"><span data-stu-id="8ff03-126">Completed projects for all of the lessons in this tutorial are available online.</span></span> <span data-ttu-id="8ff03-127">Можно перейти вперед к любому занятию, используя в качестве отправной точки завершенный проект из предыдущего урока.</span><span class="sxs-lookup"><span data-stu-id="8ff03-127">You can jump ahead to any lesson by using the completed project from the previous lesson as a starting point.</span></span> <span data-ttu-id="8ff03-128">[Щелкните здесь](https://go.microsoft.com/fwlink/?LinkID=221866) для загрузки образцов проектов, прилагаемых к этому учебнику.</span><span class="sxs-lookup"><span data-stu-id="8ff03-128">[Click here](https://go.microsoft.com/fwlink/?LinkID=221866) to download the sample projects that go with this tutorial.</span></span>  
  
 <span data-ttu-id="8ff03-129">Это занятие содержит следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="8ff03-129">This lesson contains the following tasks:</span></span>  
  
 [<span data-ttu-id="8ff03-130">Определение вычисляемых элементов</span><span class="sxs-lookup"><span data-stu-id="8ff03-130">Defining Calculated Members</span></span>](lesson-6-1-defining-calculated-members.md)  
 <span data-ttu-id="8ff03-131">В этой задаче предстоит определить вычисляемые элементы.</span><span class="sxs-lookup"><span data-stu-id="8ff03-131">In this task, you learn to define calculated members.</span></span>  
  
 [<span data-ttu-id="8ff03-132">Определение именованных наборов</span><span class="sxs-lookup"><span data-stu-id="8ff03-132">Defining Named Sets</span></span>](lesson-6-2-defining-named-sets.md)  
 <span data-ttu-id="8ff03-133">В этой задаче предстоит определить именованные наборы.</span><span class="sxs-lookup"><span data-stu-id="8ff03-133">In this task, you learn to define named sets.</span></span>  
  
## <a name="next-lesson"></a><span data-ttu-id="8ff03-134">Следующее занятие</span><span class="sxs-lookup"><span data-stu-id="8ff03-134">Next Lesson</span></span>  
 [<span data-ttu-id="8ff03-135">Занятие 7. Определение ключевых показателей эффективности</span><span class="sxs-lookup"><span data-stu-id="8ff03-135">Lesson 7: Defining Key Performance Indicators &#40;KPIs&#41;</span></span>](lesson-7-defining-key-performance-indicators-kpis.md)  
  
## <a name="see-also"></a><span data-ttu-id="8ff03-136">См. также:</span><span class="sxs-lookup"><span data-stu-id="8ff03-136">See Also</span></span>  
 <span data-ttu-id="8ff03-137">[Analysis Services сценарий учебника](analysis-services-tutorial-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="8ff03-137">[Analysis Services Tutorial Scenario](analysis-services-tutorial-scenario.md) </span></span>  
 <span data-ttu-id="8ff03-138">[&#40;учебника по Adventure Works в многомерном моделировании&#41;](multidimensional-modeling-adventure-works-tutorial.md) </span><span class="sxs-lookup"><span data-stu-id="8ff03-138">[Multidimensional Modeling &#40;Adventure Works Tutorial&#41;](multidimensional-modeling-adventure-works-tutorial.md) </span></span>  
 <span data-ttu-id="8ff03-139">[Создание именованных наборов](multidimensional-models/create-named-sets.md) </span><span class="sxs-lookup"><span data-stu-id="8ff03-139">[Create Named Sets](multidimensional-models/create-named-sets.md) </span></span>  
 [<span data-ttu-id="8ff03-140">Создание вычисляемых элементов</span><span class="sxs-lookup"><span data-stu-id="8ff03-140">Create Calculated Members</span></span>](multidimensional-models/create-calculated-members.md)  
  
  

---
title: Сортировка элементов атрибута на основе вторичного атрибута | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 67dacf68-9ab7-4524-8698-844d0f6e6c6d
author: minewiskan
ms.author: owend
ms.openlocfilehash: b90888c331a1ae1f8dd886e88d5c84afebd99cf5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751520"
---
# <a name="sorting-attribute-members-based-on-a-secondary-attribute"></a><span data-ttu-id="c7b06-102">Сортировка элементов атрибута по вторичному атрибуту</span><span class="sxs-lookup"><span data-stu-id="c7b06-102">Sorting Attribute Members Based on a Secondary Attribute</span></span>
  <span data-ttu-id="c7b06-103">На третьем занятии рассматривалась сортировка элементов атрибута по имени или значению ключа.</span><span class="sxs-lookup"><span data-stu-id="c7b06-103">In Lesson 3, you learned how to sort attribute members based on either their name or key value.</span></span> <span data-ttu-id="c7b06-104">Кроме того, было показано, как изменять элементы атрибута и порядок сортировки с помощью составных ключей элементов.</span><span class="sxs-lookup"><span data-stu-id="c7b06-104">You also learned how to use a composite member key to affect attribute members and sort order.</span></span> <span data-ttu-id="c7b06-105">Дополнительные сведения см. в разделе [Изменение измерения Date](lesson-3-4-modifying-the-date-dimension.md).</span><span class="sxs-lookup"><span data-stu-id="c7b06-105">For more information, see [Modifying the Date Dimension](lesson-3-4-modifying-the-date-dimension.md).</span></span> <span data-ttu-id="c7b06-106">Однако, если ни имя, ни значение ключа первичного атрибута не обеспечивают требуемого порядка сортировки, можно использовать вторичный атрибут.</span><span class="sxs-lookup"><span data-stu-id="c7b06-106">However, if neither the name nor the key of the attribute provide the sort order that you want, you can use a secondary attribute to achieve the desired sort order.</span></span> <span data-ttu-id="c7b06-107">Посредством определения связи между атрибутами можно использовать второй атрибут для сортировки элементов первого атрибута.</span><span class="sxs-lookup"><span data-stu-id="c7b06-107">By defining a relationship between the attributes, you can use the second attribute to sort the members of the first attribute.</span></span>  
  
 <span data-ttu-id="c7b06-108">Связи атрибутов определяют связи или зависимости между атрибутами.</span><span class="sxs-lookup"><span data-stu-id="c7b06-108">Attribute relationships define the relationships or dependencies between attributes.</span></span> <span data-ttu-id="c7b06-109">В измерении, основанном на единственной реляционной таблице, все атрибуты обычно связаны друг с другом через ключевой атрибут.</span><span class="sxs-lookup"><span data-stu-id="c7b06-109">In a dimension that is based on a single relational table, all attributes are typically related to each other through the key attribute.</span></span> <span data-ttu-id="c7b06-110">Причиной этого является то, что все атрибуты измерения предоставляют сведения об элементах, связанных ключевым атрибутом измерения с фактами таблицы фактов для каждой связанной группы мер.</span><span class="sxs-lookup"><span data-stu-id="c7b06-110">This is because all the attributes for a dimension provide information about the members linked by the key attribute of the dimension to the facts in the fact table for each related measure group.</span></span> <span data-ttu-id="c7b06-111">В измерении, которое основано на нескольких таблицах, атрибуты обычно связаны посредством ключа соединения между таблицами.</span><span class="sxs-lookup"><span data-stu-id="c7b06-111">In a dimension that is based on multiple tables, attributes are typically linked based on the join key between the tables.</span></span> <span data-ttu-id="c7b06-112">Если базовые данные поддерживают эту возможность, то для указания порядка сортировки можно использовать соответствующие атрибуты.</span><span class="sxs-lookup"><span data-stu-id="c7b06-112">If the underlying data supports it, related attributes can be used to specify a sort order.</span></span> <span data-ttu-id="c7b06-113">Например, можно создать новый атрибут, обеспечивающий логику сортировки для связанного атрибута.</span><span class="sxs-lookup"><span data-stu-id="c7b06-113">For example, you might create a new attribute that provides the sort logic for a related attribute.</span></span>  
  
 <span data-ttu-id="c7b06-114">Конструктор измерений позволяет определить дополнительные связи атрибутов или изменить установленные по умолчанию связи в целях повышения производительности.</span><span class="sxs-lookup"><span data-stu-id="c7b06-114">Dimension Designer lets you define additional relationships between attributes or change the default relationships to increase performance.</span></span> <span data-ttu-id="c7b06-115">Основное ограничение при создании связи атрибутов состоит в необходимости обеспечить, чтобы упоминаемый атрибут имел только одно значение для каждого элемента атрибута, с которым он связан.</span><span class="sxs-lookup"><span data-stu-id="c7b06-115">The main constraint when you create an attribute relationship is to make sure that the attribute referred to has no more than one value for any member in the attribute to which it is related.</span></span> <span data-ttu-id="c7b06-116">При определении связи двух атрибутов ее можно сделать жесткой или гибкой в зависимости от того, могут ли связи между элементами со временем меняться.</span><span class="sxs-lookup"><span data-stu-id="c7b06-116">When you define a relationship between two attributes, you can define the relationship as rigid or flexible, based on whether the relationships between members will change over time.</span></span> <span data-ttu-id="c7b06-117">Например, сотрудник может быть переведен в другой регион продаж, однако город не переместится в другой регион.</span><span class="sxs-lookup"><span data-stu-id="c7b06-117">For example, an employee might move to a different sales region, but a city will not move to a different state.</span></span> <span data-ttu-id="c7b06-118">Если связь определена как жесткая, статистические выражения для атрибутов не будут повторно вычисляться каждый раз при инкрементной обработке измерения.</span><span class="sxs-lookup"><span data-stu-id="c7b06-118">If a relationship is defined as rigid, attribute aggregations are not recalculated every time the dimension is incrementally processed.</span></span> <span data-ttu-id="c7b06-119">Тем не менее, если связь между элементами изменяется, измерение должно обрабатываться полностью.</span><span class="sxs-lookup"><span data-stu-id="c7b06-119">However, if the relationship between members does change, the dimension must be fully processed.</span></span> <span data-ttu-id="c7b06-120">Дополнительные сведения см. в разделах [Связи атрибутов](multidimensional-models-olap-logical-dimension-objects/attribute-relationships.md), [Определение связей атрибутов](multidimensional-models/attribute-relationships-define.md), [Настройка свойств связи атрибута](multidimensional-models/attribute-relationships-configure-attribute-properties.md)и [Определение связей атрибутов в определенной пользователем иерархии](4-6-specifying-attribute-relationships-in-user-defined-hierarchy.md).</span><span class="sxs-lookup"><span data-stu-id="c7b06-120">For more information, see [Attribute Relationships](multidimensional-models-olap-logical-dimension-objects/attribute-relationships.md), [Define Attribute Relationships](multidimensional-models/attribute-relationships-define.md), [Configure Attribute Relationship Properties](multidimensional-models/attribute-relationships-configure-attribute-properties.md), and [Specifying Attribute Relationships Between Attributes in a User-Defined Hierarchy](4-6-specifying-attribute-relationships-in-user-defined-hierarchy.md).</span></span>  
  
 <span data-ttu-id="c7b06-121">В задачах этого раздела будет определен новый атрибут в измерении **Date** на основе существующего столбца базовой таблицы измерения.</span><span class="sxs-lookup"><span data-stu-id="c7b06-121">In the tasks in this topic, you will define a new attribute in the **Date** dimension based on an existing column in the underlying dimension table.</span></span> <span data-ttu-id="c7b06-122">Созданный атрибут будет использован для сортировки элементов календарного месяца хронологически, а не по алфавиту.</span><span class="sxs-lookup"><span data-stu-id="c7b06-122">You will use this new attribute to sort calendar month members chronologically instead of alphabetically.</span></span> <span data-ttu-id="c7b06-123">Кроме того, будет определен новый атрибут в измерении **Customer** на основе именованного вычисления, которое будет использовано для сортировки элементов атрибута **Commute Distance** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-123">You will also define a new attribute in the **Customer** dimension based on the named calculation that you will use to sort the **Commute Distance** attribute members.</span></span> <span data-ttu-id="c7b06-124">В задачах следующего раздела будет изучено, как использовать связи атрибутов для повышения производительности запросов.</span><span class="sxs-lookup"><span data-stu-id="c7b06-124">In the tasks in the next topic, you will learn to use attribute relationships to increase query performance.</span></span>  
  
## <a name="defining-an-attribute-relationship-and-sort-order-in-the-date-dimension"></a><span data-ttu-id="c7b06-125">Определение связей атрибутов и порядка сортировки в измерении Date</span><span class="sxs-lookup"><span data-stu-id="c7b06-125">Defining an Attribute Relationship and Sort Order in the Date Dimension</span></span>  
  
1.  <span data-ttu-id="c7b06-126">Откройте измерение **Date** в конструкторе измерений и в окне свойств просмотрите свойство **OrderBy** для атрибута **Название месяца** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-126">Open Dimension Designer for the **Date** dimension, and then review the **OrderBy** property for the **Month Name** attribute in the Properties window.</span></span>  
  
     <span data-ttu-id="c7b06-127">Обратите внимание, что элементы атрибута **Название месяца** отсортированы по ключевым значениям.</span><span class="sxs-lookup"><span data-stu-id="c7b06-127">Notice that the **Month Name** attribute members are ordered by their key values.</span></span>  
  
2.  <span data-ttu-id="c7b06-128">Перейдите на вкладку **Браузер** , убедитесь в том, что в списке **Иерархии** выбрано значение **Calendar Date** , после чего разверните уровни пользовательской иерархии и просмотрите порядок сортировки календарных месяцев.</span><span class="sxs-lookup"><span data-stu-id="c7b06-128">Switch to the **Browser** tab, verify that **Calendar Date** is selected in the **Hierarchy** list, and then expand the levels in the user-defined hierarchy to review the sort order for the calendar months.</span></span>  
  
     <span data-ttu-id="c7b06-129">Обратите внимание, что элементы иерархии атрибута отсортированы по ASCII-значениям ключей их элементов, то есть месяца и года.</span><span class="sxs-lookup"><span data-stu-id="c7b06-129">Notice that the members of the attribute hierarchy are sorted based on the ASCII values of their member keys, which are month and year.</span></span> <span data-ttu-id="c7b06-130">В этом случае сортировка по имени атрибута или ключу не сортирует календарные месяцы хронологически.</span><span class="sxs-lookup"><span data-stu-id="c7b06-130">In this case, sorting by the attribute name or key does not sort calendar months chronologically.</span></span> <span data-ttu-id="c7b06-131">Для решения этой проблемы элементы иерархии атрибута будут отсортированы на основе нового атрибута **MonthNumberOfYear** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-131">To solve this, you will sort the members of the attribute hierarchy based on a new attribute, the **MonthNumberOfYear** attribute.</span></span> <span data-ttu-id="c7b06-132">Этот атрибут будет создан на основе столбца, который удачным образом содержится в таблице измерения **Date** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-132">You will create this attribute based on a column that conveniently exists in the **Date** dimension table.</span></span>  
  
3.  <span data-ttu-id="c7b06-133">Перейдите на вкладку **Структура измерения** для измерения Date, щелкните правой кнопкой мыши пункт **MonthNumberOfYear** на панели **Представление источника данных** и выберите команду **Создать атрибут из столбца**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-133">Switch to the **Dimension Structure** tab for the Date dimension, right-click **MonthNumberOfYear** in the **Data Source View** pane, and then click **New Attribute from Column**.</span></span>  
  
4.  <span data-ttu-id="c7b06-134">На панели **Атрибуты** выберите атрибут **Номер месяца года**и в окне "Свойства" установите для свойства **AttributeHierarchyEnabled** значение **False** , для свойства **AttributeHierarchyOptimizedState** — значение **NotOptimized**, а для свойства **AttributeHierarchyOrdered** — значение **False**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-134">In the **Attributes** pane, select **Month Number Of Year**, and then set the **AttributeHierarchyEnabled** property to **False** in the Properties window, set the **AttributeHierarchyOptimizedState** property to **NotOptimized**, and set the **AttributeHierarchyOrdered** property to **False**.</span></span>  
  
     <span data-ttu-id="c7b06-135">Установка этих значений скроет атрибут от пользователей и сократит время обработки.</span><span class="sxs-lookup"><span data-stu-id="c7b06-135">These settings will hide the attribute from users and will improve processing time.</span></span> <span data-ttu-id="c7b06-136">Этот атрибут не будет использоваться для просмотра.</span><span class="sxs-lookup"><span data-stu-id="c7b06-136">This attribute will not be used for browsing.</span></span> <span data-ttu-id="c7b06-137">Он будет использован только для упорядочивания элементов другого атрибута.</span><span class="sxs-lookup"><span data-stu-id="c7b06-137">It will only be used for ordering the members of another attribute.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c7b06-138">Сортировка по алфавиту свойств в окне «Свойства» упростит задачу, поскольку эти три свойства будут отсортированы и помещены рядом друг с другом.</span><span class="sxs-lookup"><span data-stu-id="c7b06-138">Sorting properties in the Properties window alphabetically will simplify this task as these three properties will be sorted adjacent to each other.</span></span>  
  
5.  <span data-ttu-id="c7b06-139">Перейдите на вкладку **Связи атрибутов** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-139">Click the **Attribute Relationships** tab.</span></span>  
  
     <span data-ttu-id="c7b06-140">Обратите внимание, что все атрибуты в измерении **Date** связаны непосредственно с атрибутом **Date** , который является ключевым элементом, связывающим элементы измерения с фактами в связанных группах мер.</span><span class="sxs-lookup"><span data-stu-id="c7b06-140">Notice that all the attributes in the **Date** dimension are related directly to the **Date** attribute, which is the member key that relates the dimension members to the facts in the related measure groups.</span></span> <span data-ttu-id="c7b06-141">Между атрибутом **названия месяца** и атрибутом **номер месяца года** не определена связь.</span><span class="sxs-lookup"><span data-stu-id="c7b06-141">There is no relationship defined between the **Month Name** attribute and the **Month Number Of Year** attribute.</span></span>  
  
6.  <span data-ttu-id="c7b06-142">На диаграмме щелкните правой кнопкой мыши атрибут **Название месяца** и выберите команду **Создать связь атрибутов**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-142">In the diagram, right-click the **Month Name** attribute and then select **New Attribute Relationship**.</span></span>  
  
7.  <span data-ttu-id="c7b06-143">В диалоговом окне **Создание связи атрибутов** поле **Исходный атрибут** имеет значение **Название месяца**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-143">In the **Create Attribute Relationship** dialog box, the **Source Attribute** is **Month Name**.</span></span> <span data-ttu-id="c7b06-144">Задайте для свойства **Связанный атрибут** значение **Номер месяца года**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-144">Set the **Related Attribute** to **Month Number Of Year**.</span></span>  
  
8.  <span data-ttu-id="c7b06-145">В списке **Тип связи** выберите тип **Жесткая**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-145">In the **Relationship type** list, set the relationship type to **Rigid**.</span></span>  
  
     <span data-ttu-id="c7b06-146">Связи между элементами атрибута **названия месяца** и **номера месяца года** не изменятся со временем.</span><span class="sxs-lookup"><span data-stu-id="c7b06-146">The relationships between the members of the **Month Name** attribute and the **Month Number Of Year** attribute will not change over time.</span></span> <span data-ttu-id="c7b06-147">В результате службы Analysis Services не удалят статистические выражения для этой связи во время добавочной обработки.</span><span class="sxs-lookup"><span data-stu-id="c7b06-147">As a result, Analysis Services will not drop aggregations for this relationship during incremental processing.</span></span> <span data-ttu-id="c7b06-148">Если происходит изменение, возникнет ошибка изменений во время добавочной обработки, и нужно будет выполнить полную обработку измерения.</span><span class="sxs-lookup"><span data-stu-id="c7b06-148">If a change does occur, a processing error will occur during incremental processing and you will need to perform a full process of the dimension.</span></span> <span data-ttu-id="c7b06-149">Теперь можно приступить к выбору порядка сортировки элементов атрибута **Название месяца**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-149">You are now ready to set the sort order for the members of **Month Name**.</span></span>  
  
9. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
10. <span data-ttu-id="c7b06-150">Перейдите на вкладку **Структура измерения** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-150">Click the **Dimension Structure** tab.</span></span>  
  
11. <span data-ttu-id="c7b06-151">Выберите **название месяца** на панели **атрибуты** , а затем измените значение свойства **OrderBy** в окно свойств на **AttributeKey** и измените значение свойства **OrderByAttribute —** на **номер месяца года**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-151">Select **Month Name** in the **Attributes** pane, and then change the value of the **OrderBy** property in the Properties window to **AttributeKey** and change the value of the **OrderByAttribute** property to **Month Number Of Year**.</span></span>  
  
12. <span data-ttu-id="c7b06-152">В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-152">On the **Build** menu, click **Deploy Analysis Services Tutorial**.</span></span>  
  
13. <span data-ttu-id="c7b06-153">После успешного завершения развертывания перейдите на вкладку **Браузер** измерения Date, нажмите кнопку **Повторное соединение**и просмотрите пользовательские иерархии **Календарная дата** и **Финансовая дата** , чтобы убедиться в том, что месяцы отсортированы в хронологическом порядке.</span><span class="sxs-lookup"><span data-stu-id="c7b06-153">When deployment has successfully completed, switch to the **Browser** tab for the Date dimension, click **Reconnect**, and then browse the **Calendar Date** and **Fiscal Date** user hierarchies to verify that months now sort in chronological order.</span></span>  
  
     <span data-ttu-id="c7b06-154">Обратите внимание, что месяцы теперь отсортированы в хронологическом порядке, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="c7b06-154">Notice that the months are now sorted in chronological order, as shown in the following image.</span></span>  
  
     <span data-ttu-id="c7b06-155">![Измененная пользовательская иерархия в хронологическом порядке](../../2014/tutorials/media/l4-memberproperties-3.gif "Измененная пользовательская иерархия в хронологическом порядке")</span><span class="sxs-lookup"><span data-stu-id="c7b06-155">![Modified user hierarchy in chronological order](../../2014/tutorials/media/l4-memberproperties-3.gif "Modified user hierarchy in chronological order")</span></span>  
  
## <a name="defining-attribute-relationships-and-sort-order-in-the-customer-dimension"></a><span data-ttu-id="c7b06-156">Определение связей атрибутов и порядка сортировки в измерении «Заказчик»</span><span class="sxs-lookup"><span data-stu-id="c7b06-156">Defining Attribute Relationships and Sort Order in the Customer Dimension</span></span>  
  
1.  <span data-ttu-id="c7b06-157">Перейдите в конструкторе измерений на вкладку **Браузер** измерения "Заказчик" и просмотрите элементы иерархии атрибута **Commute Distance** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-157">Switch to the **Browser** tab in Dimension Designer for the Customer dimension, and then browse the members of the **Commute Distance** attribute hierarchy.</span></span>  
  
     <span data-ttu-id="c7b06-158">Обратите внимание, что элементы иерархии атрибута отсортированы по ASCII-значениям ключа элементов.</span><span class="sxs-lookup"><span data-stu-id="c7b06-158">Notice that the members of this attribute hierarchy are sorted based on the ASCII values of the member key.</span></span> <span data-ttu-id="c7b06-159">В этом случае сортировка по имени или ключу атрибута не сортирует расстояние до работы от меньшего к большему.</span><span class="sxs-lookup"><span data-stu-id="c7b06-159">In this case, sorting by the attribute name or key does not sort the commute distances from least to most.</span></span> <span data-ttu-id="c7b06-160">В этой задаче будет выполнена сортировка элементов иерархии атрибута на основе именованного вычисления **CommuteDistanceSort** , которое присваивает подходящий номер сортировки каждому значению столбца.</span><span class="sxs-lookup"><span data-stu-id="c7b06-160">In this task, you sort the members of the attribute hierarchy based on the **CommuteDistanceSort** named calculation that ascribes the appropriate sort number to each distinct value in the column.</span></span> <span data-ttu-id="c7b06-161">В целях экономии времени это именованное вычисление уже добавлено в таблицу **Заказчик** в представлении источника данных [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] DW.</span><span class="sxs-lookup"><span data-stu-id="c7b06-161">To save time, this named calculation has already been added to the **Customer** table in the [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] DW data source view.</span></span> <span data-ttu-id="c7b06-162">Чтобы просмотреть скрипт SQL, используемый в этом именованном вычислении, перейдите в это представление источника данных.</span><span class="sxs-lookup"><span data-stu-id="c7b06-162">You can switch to this data source view to view the SQL script that is used in this named calculation.</span></span> <span data-ttu-id="c7b06-163">Дополнительные сведения см. [в разделе Определение именованных вычислений в представлении источника данных &#40;Analysis Services&#41;](multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="c7b06-163">For more information, see [Define Named Calculations in a Data Source View &#40;Analysis Services&#41;](multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span></span>  
  
     <span data-ttu-id="c7b06-164">На рисунке ниже показаны элементы иерархии атрибута **Commute Distance** , отсортированные по ASCII-значению ключа элемента.</span><span class="sxs-lookup"><span data-stu-id="c7b06-164">The following image shows the members of the **Commute Distance** attribute hierarchy, sorted by the ASCII values of the member key.</span></span>  
  
     <span data-ttu-id="c7b06-165">![Иерархия атрибута Commute Distance](../../2014/tutorials/media/l4-memberproperties-4.gif "Иерархия атрибута Commute Distance")</span><span class="sxs-lookup"><span data-stu-id="c7b06-165">![Commute Distance attribute hierarchy](../../2014/tutorials/media/l4-memberproperties-4.gif "Commute Distance attribute hierarchy")</span></span>  
  
2.  <span data-ttu-id="c7b06-166">Чтобы перейти на вкладку **Структура измерения** конструктора измерений для измерения "Заказчик", щелкните правой кнопкой мыши пункт **CommuteDistanceSort** в таблице **Заказчик** на панели **Представление источника данных** и выберите команду **Создать атрибут из столбца**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-166">Switch to the **Dimension Structure** tab in Dimension Designer for the Customer dimension, right-click **CommuteDistanceSort** in the **Customer** table in the **Data Source View** pane, and then click **New Attribute from Column**.</span></span>  
  
3.  <span data-ttu-id="c7b06-167">На панели **Атрибуты** выберите атрибут **Commute Distance Sort**, затем укажите для свойства **AttributeHierarchyEnabled** этого атрибута значение **False** . В окне свойств укажите для свойства **AttributeHierarchyOptimizedState** значение **NotOptimized**, а для свойства **AttributeHierarchyOrdered** — значение **False**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-167">In the **Attributes** pane, select **Commute Distance Sort**, and then set the **AttributeHierarchyEnabled** property for this attribute to **False** in the Properties window, set the **AttributeHierarchyOptimizedState** property to **NotOptimized**, and set the **AttributeHierarchyOrdered** property to **False**.</span></span>  
  
     <span data-ttu-id="c7b06-168">Установка этих значений скроет атрибут от пользователей и сократит время обработки.</span><span class="sxs-lookup"><span data-stu-id="c7b06-168">These settings will hide the attribute from users and will improve processing time.</span></span> <span data-ttu-id="c7b06-169">Этот атрибут не будет использоваться для просмотра.</span><span class="sxs-lookup"><span data-stu-id="c7b06-169">This attribute will not be used for browsing.</span></span> <span data-ttu-id="c7b06-170">Он будет использован только для упорядочивания элементов другого атрибута.</span><span class="sxs-lookup"><span data-stu-id="c7b06-170">It will only be used for ordering the members of another attribute.</span></span>  
  
4.  <span data-ttu-id="c7b06-171">Выберите атрибут **Geography**, в окне свойств задайте для его свойства **AttributeHierarchyVisible** значение **False** , для свойства **AttributeHierarchyOptimizedState** — значение **NotOptimized**, а для свойства **AttributeHierarchyOrdered** — значение **False**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-171">Select **Geography**, and then set its **AttributeHierarchyVisible** property to **False** in the Properties window, set its **AttributeHierarchyOptimizedState** property to **NotOptimized**, and set its **AttributeHierarchyOrdered** property to **False**.</span></span>  
  
     <span data-ttu-id="c7b06-172">Установка этих значений скроет атрибут от пользователей и сократит время обработки.</span><span class="sxs-lookup"><span data-stu-id="c7b06-172">These settings will hide the attribute from users and will improve processing time.</span></span> <span data-ttu-id="c7b06-173">Этот атрибут не будет использоваться для просмотра.</span><span class="sxs-lookup"><span data-stu-id="c7b06-173">This attribute will not be used for browsing.</span></span> <span data-ttu-id="c7b06-174">Он может быть использован только для упорядочивания элементов другого атрибута.</span><span class="sxs-lookup"><span data-stu-id="c7b06-174">It will be only be used for ordering the members of another attribute.</span></span> <span data-ttu-id="c7b06-175">Так как атрибут **Geography** имеет свойства элемента, его свойство **AttributeHierarchyEnabled** должно иметь значение **True**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-175">Because **Geography** has member properties, its **AttributeHierarchyEnabled** property must be set to **True**.</span></span> <span data-ttu-id="c7b06-176">Таким образом, чтобы скрыть атрибут, необходимо присвоить его свойству **AttributeHierarchyVisible** значение **False**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-176">Therefore, to hide the attribute, you set the **AttributeHierarchyVisible** property to **False**.</span></span>  
  
5.  <span data-ttu-id="c7b06-177">Перейдите на вкладку **Связи атрибутов** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-177">Click the **Attribute Relationships** tab.</span></span>  
  
6.  <span data-ttu-id="c7b06-178">В списке атрибутов щелкните правой кнопкой мыши атрибут **Commute Distance** и выберите команду **Создать связь атрибутов**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-178">In the attributes list, right-click the **Commute Distance** attribute and then select **New Attribute Relationship**.</span></span>  
  
7.  <span data-ttu-id="c7b06-179">В диалоговом окне **Создание связи атрибутов** свойство **Исходный атрибут** имеет значение **Commute Distance**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-179">In the **Create Attribute Relationship** dialog box, the **Source Attribute** is **Commute Distance**.</span></span> <span data-ttu-id="c7b06-180">Задайте для свойства **Связанный атрибут** значение **Commute Distance Sort**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-180">Set the **Related Attribute** to **Commute Distance Sort**.</span></span>  
  
8.  <span data-ttu-id="c7b06-181">В списке **Тип связи** выберите тип **Жесткая**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-181">In the **Relationship type** list, set the relationship type to **Rigid**.</span></span>  
  
     <span data-ttu-id="c7b06-182">Связь между элементами атрибута **Commute Distance** и **Commute Distance Sort** не меняется со временем.</span><span class="sxs-lookup"><span data-stu-id="c7b06-182">The relationship between the members of the **Commute Distance** attribute and the **Commute Distance Sort** attribute will not change over time.</span></span>  
  
9. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
     <span data-ttu-id="c7b06-183">Теперь можно приступить к определению порядка сортировки атрибута **Commute Distance** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-183">You are now ready to set the sort order for the **Commute Distance** attribute.</span></span>  
  
10. <span data-ttu-id="c7b06-184">Перейдите на вкладку **Структура измерения** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-184">Click the **Dimension Structure** tab.</span></span>  
  
11. <span data-ttu-id="c7b06-185">На панели **Атрибуты** выберите атрибут **Commute Distance**, после чего в окне свойств измените значение свойства **OrderBy** на **AttributeKey**, а значение свойства **OrderByAttribute** — на **Commute Distance Sort**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-185">In the **Attributes** pane, select **Commute Distance**, and then change the value of the **OrderBy** property in the Properties window to **AttributeKey**, and change the value of the **OrderByAttribute** property to **Commute Distance Sort**.</span></span>  
  
12. <span data-ttu-id="c7b06-186">В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.</span><span class="sxs-lookup"><span data-stu-id="c7b06-186">On the **Build** menu, click **Deploy Analysis Services Tutorial**.</span></span>  
  
13. <span data-ttu-id="c7b06-187">После успешного завершения развертывания перейдите на вкладку **Браузер** конструктора измерений для измерения "Заказчик", нажмите кнопку **Повторное соединение**и просмотрите иерархию атрибута **Commute Distance** .</span><span class="sxs-lookup"><span data-stu-id="c7b06-187">When deployment has successfully completed, switch to the **Browser** tab of Dimension Designer for the Customer dimension, click **Reconnect**, and then browse the **Commute Distance** attribute hierarchy.</span></span>  
  
     <span data-ttu-id="c7b06-188">Обратите внимание, что элементы иерархии атрибута теперь отсортированы в логическом порядке, основанном на увеличении расстояния, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="c7b06-188">Notice that the attribute hierarchy members are now sorted in a logical order based on increasing distance, as shown in the following image.</span></span>  
  
     <span data-ttu-id="c7b06-189">![Повторно отсортированная иерархия атрибута Commute Distance](../../2014/tutorials/media/l4-memberproperties-5.gif "Повторно отсортированная иерархия атрибута Commute Distance")</span><span class="sxs-lookup"><span data-stu-id="c7b06-189">![Re-sorted Commute Distance attribute hierarchy](../../2014/tutorials/media/l4-memberproperties-5.gif "Re-sorted Commute Distance attribute hierarchy")</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="c7b06-190">Следующая задача занятия</span><span class="sxs-lookup"><span data-stu-id="c7b06-190">Next Task in Lesson</span></span>  
 [<span data-ttu-id="c7b06-191">Определение связей атрибутов в определенной пользователем иерархии</span><span class="sxs-lookup"><span data-stu-id="c7b06-191">Specifying Attribute Relationships Between Attributes in a User-Defined Hierarchy</span></span>](4-6-specifying-attribute-relationships-in-user-defined-hierarchy.md)  
  
  

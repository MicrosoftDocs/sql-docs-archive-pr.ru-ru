---
title: Секции (многомерные данные Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- storage [Analysis Services], partitions
- incremental updates [Analysis Services]
- data sources [Analysis Services], partitions
- data storage [Analysis Services]
- aggregations [Analysis Services], partitions
- OLAP objects [Analysis Services], partitions
- storing data [Analysis Services], partitions
- partitions [Analysis Services], about partitions
- cubes [Analysis Services], partitions
- partitions [Analysis Services]
- remote partitions [Analysis Services]
- measure groups [Analysis Services], partitions
ms.assetid: cd10ad00-468c-4d49-9f8d-873494d04b4f
author: minewiskan
ms.author: owend
ms.openlocfilehash: 86057c14655b3fd2f0322387beb16a4a94717b68
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669140"
---
# <a name="partitions-analysis-services---multidimensional-data"></a><span data-ttu-id="140b5-102">Секции (службы Analysis Services — многомерные данные)</span><span class="sxs-lookup"><span data-stu-id="140b5-102">Partitions (Analysis Services - Multidimensional Data)</span></span>
  <span data-ttu-id="140b5-103">Секция — это контейнер для части данных группы мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-103">A partition is a container for a portion of the measure group data.</span></span> <span data-ttu-id="140b5-104">В запросах многомерных выражений секции не различаются; все запросы отражают полное содержимое группы мер независимо от того, сколько секций определено для этой группы мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-104">Partitions are not seen from MDX queries; all queries reflect the whole content of the measure group, regardless of how many partitions are defined for the measure group.</span></span> <span data-ttu-id="140b5-105">Содержимое данных секции определяется путем связывания запроса с секцией, а также с помощью выражения выделения среза.</span><span class="sxs-lookup"><span data-stu-id="140b5-105">The data content of a partition is defined by the query bindings of the partition, and by the slicing expression.</span></span>  
  
 <span data-ttu-id="140b5-106">Простой объект <xref:Microsoft.AnalysisServices.Partition> состоит из основной информации, определения среза, статистической схемы и других компонентов.</span><span class="sxs-lookup"><span data-stu-id="140b5-106">A simple <xref:Microsoft.AnalysisServices.Partition> object is composed of: basic information, slicing definition, aggregation design, and others.</span></span> <span data-ttu-id="140b5-107">Основная информация включает имя секции, режим хранения, режим обработки и др.</span><span class="sxs-lookup"><span data-stu-id="140b5-107">Basic information includes the name of the partition, the storage mode, the processing mode, and others.</span></span> <span data-ttu-id="140b5-108">Определение среза представляет собой многомерное выражение, определяющее кортеж или набор.</span><span class="sxs-lookup"><span data-stu-id="140b5-108">The slicing definition is an MDX expression specifying a tuple or a set.</span></span> <span data-ttu-id="140b5-109">На определение среза распространяются такие же ограничения, как и на функцию многомерного выражения StrToSet.</span><span class="sxs-lookup"><span data-stu-id="140b5-109">The slicing definition has the same restrictions as the StrToSet MDX function.</span></span> <span data-ttu-id="140b5-110">Наряду с параметром CONSTRAINED в определении среза могут использоваться имена измерений, иерархий, уровней и членов, ключи, уникальные имена или другие именованные объекты в кубе, но не могут использоваться функции многомерных выражений.</span><span class="sxs-lookup"><span data-stu-id="140b5-110">Together with the CONSTRAINED parameter, the slicing definition can use dimension, hierarchy, level and member names, keys, unique names, or other named objects in the cube, but cannot use MDX functions.</span></span> <span data-ttu-id="140b5-111">Статистическая схема представляет собой коллекцию определений статистической обработки, которая может совместно использоваться в нескольких секциях.</span><span class="sxs-lookup"><span data-stu-id="140b5-111">The aggregation design is a collection of aggregation definitions that can be shared across multiple partitions.</span></span> <span data-ttu-id="140b5-112">Значение по умолчанию берется из статистической схемы родительского куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-112">The default is taken from the parent cube's aggregation design.</span></span>  
  
 <span data-ttu-id="140b5-113">Секции используются [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] для управления и хранения данных и агрегатов для группы мер в Кубе.</span><span class="sxs-lookup"><span data-stu-id="140b5-113">Partitions are used by [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to manage and store data and aggregations for a measure group in a cube.</span></span> <span data-ttu-id="140b5-114">Каждая группа мер имеет не менее одной секции. Эта секция создается при определении группы мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-114">Every measure group has at least one partition; this partition is created when the measure group is defined.</span></span> <span data-ttu-id="140b5-115">Новая секция, создаваемая для группы мер, добавляется к набору уже существующих секций для этой группы мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-115">When you create a new partition for a measure group, the new partition is added to the set of partitions that already exist for the measure group.</span></span> <span data-ttu-id="140b5-116">Группа мер отражает комбинированные данные всех своих секций.</span><span class="sxs-lookup"><span data-stu-id="140b5-116">The measure group reflects the combined data that is contained in all its partitions.</span></span> <span data-ttu-id="140b5-117">Это означает, что для гарантии того, что данные не отражаются в группе мер более одного раза, необходимо убедиться в том, что данные для секции в группе мер отличаются от данных для любой другой секции в этой группе мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-117">This means that you must ensure that the data for a partition in a measure group is exclusive of the data for any other partition in the measure group to ensure that data is not reflected in the measure group more than once.</span></span> <span data-ttu-id="140b5-118">Первоначальная секция для группы мер основана на одной таблице фактов в представлении источника данных куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-118">The original partition for a measure group is based on a single fact table in the data source view of the cube.</span></span> <span data-ttu-id="140b5-119">При наличии нескольких секций каждая может ссылаться на другую таблицу либо в представлении источника данных, либо в базовом реляционном источнике данных для куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-119">When there are multiple partitions for a measure group, each partition can reference a different table in either the data source view or in the underlying relational data source for the cube.</span></span> <span data-ttu-id="140b5-120">Несколько секций в группе мер могут ссылаться на одну и ту же таблицу посредством ограничения каждой из секций различными строками в таблице.</span><span class="sxs-lookup"><span data-stu-id="140b5-120">More than one partition in a measure group can reference the same table, if each partition is restricted to different rows in the table.</span></span>  
  
 <span data-ttu-id="140b5-121">Секции являются эффективным и гибким средством управления кубами, особенно крупными.</span><span class="sxs-lookup"><span data-stu-id="140b5-121">Partitions are a powerful and flexible means of managing cubes, especially large cubes.</span></span> <span data-ttu-id="140b5-122">Например, куб, содержащий данные о продажах, может содержать секции для каждого прошедшего года, а также секции для каждого квартала текущего года.</span><span class="sxs-lookup"><span data-stu-id="140b5-122">For example, a cube that contains sales information can contain a partition for the data of each past year and also partitions for each quarter of the current year.</span></span> <span data-ttu-id="140b5-123">При добавлении в куб текущих данных необходимо обрабатывать только текущую четверть секции. Обработка меньшего количества данных улучшит производительность обработки за счет уменьшения времени обработки.</span><span class="sxs-lookup"><span data-stu-id="140b5-123">Only the current quarter partition needs to be processed when current information is added to the cube; processing a smaller amount of data will improve processing performance by decreasing processing time.</span></span> <span data-ttu-id="140b5-124">В конце года четыре квартальные секции могут быть объединены в одну, годовую секцию, а для первого квартала нового года создается новая секция.</span><span class="sxs-lookup"><span data-stu-id="140b5-124">At the end of the year the four quarterly partitions can be merged into a single partition for the year and a new partition created for the first quarter of the new year.</span></span> <span data-ttu-id="140b5-125">В дальнейшем этот процесс создания новой секции может быть автоматизирован как часть загрузки хранилища данных и процедур обработки куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-125">Further, this new partition creation process can be automated as part of your data warehouse loading and cube processing procedures.</span></span>  
  
 <span data-ttu-id="140b5-126">Секции не являются видимыми для пользователей куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-126">Partitions are not visible to business users of the cube.</span></span> <span data-ttu-id="140b5-127">Однако администраторы могут настраивать, добавлять или сбрасывать секции.</span><span class="sxs-lookup"><span data-stu-id="140b5-127">However, administrators can configure, add, or drop partitions.</span></span> <span data-ttu-id="140b5-128">Каждая секция хранится в отдельном наборе файлов.</span><span class="sxs-lookup"><span data-stu-id="140b5-128">Each partition is stored in a separate set of files.</span></span> <span data-ttu-id="140b5-129">Статистические данные каждой секции могут храниться на экземпляре служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , на котором определена секция, на другом экземпляре служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]или в источнике данных, который используется для предоставления данных для секций.</span><span class="sxs-lookup"><span data-stu-id="140b5-129">The aggregate data of each partition can be stored on the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] where the partition is defined, on another instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], or in the data source that is used to supply the partition's source data.</span></span> <span data-ttu-id="140b5-130">Секции позволяют осуществлять распределение данных источника и данных агрегатов куба между несколькими жесткими дисками и между несколькими серверами.</span><span class="sxs-lookup"><span data-stu-id="140b5-130">Partitions allow the source data and aggregate data of a cube to be distributed across multiple hard drives and among multiple server computers.</span></span> <span data-ttu-id="140b5-131">Для куба со средним или крупным размером секции могут значительно увеличить производительность запросов, производительность нагрузки и простоту обслуживания куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-131">For a cube of moderate to large size, partitions can greatly improve query performance, load performance, and ease of cube maintenance.</span></span> <span data-ttu-id="140b5-132">Дополнительные сведения об удаленных секциях см. в разделе [Удаленные секции](partitions-remote-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="140b5-132">For more information about remote partitions, see [Remote Partitions](partitions-remote-partitions.md).</span></span>  
  
 <span data-ttu-id="140b5-133">Режим хранилища каждой секции можно настраивать независимо от других секций в группе мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-133">The storage mode of each partition can be configured independently of other partitions in the measure group.</span></span> <span data-ttu-id="140b5-134">Секции могут храниться с помощью любого сочетания параметров расположения данных источников, режима хранилища, упреждающего кэширования и статистической схемы.</span><span class="sxs-lookup"><span data-stu-id="140b5-134">Partitions can be stored by using any combination of options for source data location, storage mode, proactive caching, and aggregation design.</span></span> <span data-ttu-id="140b5-135">Параметры для OLAP реального времени и предупреждающее кэширование позволяют сбалансировать скорость запроса и задержку во время разработки секции.</span><span class="sxs-lookup"><span data-stu-id="140b5-135">Options for real-time OLAP and proactive caching let you balance query speed against latency when you design a partition.</span></span> <span data-ttu-id="140b5-136">Параметры хранилища могут применяться к соответствующим измерениям и к фактам в группе мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-136">Storage options can also be applied to related dimensions and to facts in a measure group.</span></span> <span data-ttu-id="140b5-137">Эта гибкость позволяет разрабатывать стратегии хранилищ кубов, соответствующие потребностям.</span><span class="sxs-lookup"><span data-stu-id="140b5-137">This flexibility lets you design cube storage strategies appropriate to your needs.</span></span> <span data-ttu-id="140b5-138">Дополнительные сведения см. в разделах [режимы хранения и обработка](partitions-partition-storage-modes-and-processing.md), [агрегаты и статистические](aggregations-and-aggregation-designs.md) схемы и [упреждающее кэширование &#40;секции&#41;](partitions-proactive-caching.md).</span><span class="sxs-lookup"><span data-stu-id="140b5-138">For more information, see [Partition Storage Modes and Processing](partitions-partition-storage-modes-and-processing.md), [Aggregations and Aggregation Designs](aggregations-and-aggregation-designs.md) and [Proactive Caching &#40;Partitions&#41;](partitions-proactive-caching.md).</span></span>  
  
## <a name="partition-structure"></a><span data-ttu-id="140b5-139">Структура секции</span><span class="sxs-lookup"><span data-stu-id="140b5-139">Partition Structure</span></span>  
 <span data-ttu-id="140b5-140">Структура секции должна соответствовать структуре ее группы мер; это означает, что меры, которые определяют группу мер, также должны быть определены в секциях, вместе со всеми связанными измерениями.</span><span class="sxs-lookup"><span data-stu-id="140b5-140">The structure of a partition must match the structure of its measure group, which means that the measures that define the measure group must also be defined in the partition, along with all related dimensions.</span></span> <span data-ttu-id="140b5-141">По этой причине при создании секции она автоматически наследует набор мер и соответствующих измерений, определенный для группы мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-141">Therefore, when a partition is created, it automatically inherits the same set of measures and related dimensions that were defined for the measure group.</span></span>  
  
 <span data-ttu-id="140b5-142">Однако каждая секция в группе мер может иметь свою таблицу фактов, и эти таблицы фактов могут быть от различных источников данных.</span><span class="sxs-lookup"><span data-stu-id="140b5-142">However, each partition in a measure group can have a different fact table, and these fact tables can be from different data sources.</span></span> <span data-ttu-id="140b5-143">Если различные секции в группе мер имеют различные таблицы фактов, эти таблицы должны быть достаточно схожи. Это облегчает обслуживание структуры групп измерений и означает, что обрабатывающий запрос возвращает те же самые столбцы и те же самые типы данных для всех таблиц фактов во всех секциях.</span><span class="sxs-lookup"><span data-stu-id="140b5-143">When different partitions in a measure group have different fact tables, the tables must be sufficiently similar to maintain the structure of the measure group, which means that the processing query returns the same columns and same data types for all fact tables for all partitions.</span></span>  
  
 <span data-ttu-id="140b5-144">Если таблицы фактов для различных секций получаются из различных источников данных, таблицы источников для соответствующего измерения и все промежуточные таблицы должны присутствовать во всех источниках данных и иметь одинаковую структуру во всех базах данных.</span><span class="sxs-lookup"><span data-stu-id="140b5-144">When fact tables for different partitions are from different data sources, the source tables for any related dimensions, and also any intermediate fact tables, must also be present in all data sources and must have the same structure in all the databases.</span></span> <span data-ttu-id="140b5-145">Все столбцы таблицы измерения, используемые для определения атрибутов измерений кубов, относящихся к группе мер, должны присутствовать во всех источниках данных.</span><span class="sxs-lookup"><span data-stu-id="140b5-145">Also, all dimension table columns that are used to define attributes for cube dimensions related to the measure group must be present in all of the data sources.</span></span> <span data-ttu-id="140b5-146">Нет необходимости определять все соединения между таблицей источника секции и соответствующей таблицей измерения, если таблица источника секции имеет структуру, аналогичную таблице источника для группы мер.</span><span class="sxs-lookup"><span data-stu-id="140b5-146">There is no need to define all the joins between the source table of a partition and a related dimension table if the partition source table has the identical structure as the source table for the measure group.</span></span>  
  
 <span data-ttu-id="140b5-147">Столбцы, не используемые для определения мер в группе мер, могут присутствовать в некоторых таблицах фактов, но отсутствовать в других.</span><span class="sxs-lookup"><span data-stu-id="140b5-147">Columns that are not used to define measures in the measure group can be present in some fact tables but absent in others.</span></span> <span data-ttu-id="140b5-148">Аналогично, столбцы, не используемые для определения атрибутов в соответствующих таблицах измерений, могут присутствовать в некоторых базах данных, но отсутствовать в других.</span><span class="sxs-lookup"><span data-stu-id="140b5-148">Similarly, columns that are not used to define attributes in related dimension tables can be present in some databases but absent in others.</span></span> <span data-ttu-id="140b5-149">Таблицы, не используемые таблицами фактов или связанными таблицами измерений, могут присутствовать в некоторых базах данных, но отсутствовать в других.</span><span class="sxs-lookup"><span data-stu-id="140b5-149">Tables that are not used for either fact tables or related dimension tables can be present in some databases but absent in others.</span></span>  
  
## <a name="data-sources-and-partition-storage"></a><span data-ttu-id="140b5-150">Источники данных и хранилище секции</span><span class="sxs-lookup"><span data-stu-id="140b5-150">Data Sources and Partition Storage</span></span>  
 <span data-ttu-id="140b5-151">Секция основана на таблице или представлении в источнике данных либо на таблице или именованном запросе в представлении источника данных.</span><span class="sxs-lookup"><span data-stu-id="140b5-151">A partition is based either on a table or view in a data source, or on a table or named query in a data source view.</span></span> <span data-ttu-id="140b5-152">Местоположение для данных секции определяется привязкой источника данных.</span><span class="sxs-lookup"><span data-stu-id="140b5-152">The location where partition data is stored is defined by the data source binding.</span></span> <span data-ttu-id="140b5-153">Обычно группу мер можно секционировать горизонтально или вертикально.</span><span class="sxs-lookup"><span data-stu-id="140b5-153">Typically, you can partition a measure group horizontally or vertically:</span></span>  
  
-   <span data-ttu-id="140b5-154">В горизонтально секционированной группе каждая секция в группе мер основана на отдельной таблице.</span><span class="sxs-lookup"><span data-stu-id="140b5-154">In a horizontally partitioned measure group, each partition in a measure group is based on a separate table.</span></span> <span data-ttu-id="140b5-155">Этот тип секционирования подходит, когда данные разделены на несколько таблиц.</span><span class="sxs-lookup"><span data-stu-id="140b5-155">This kind of partitioning is appropriate when data is separated into multiple tables.</span></span> <span data-ttu-id="140b5-156">Например, некоторые реляционные базы данных имеют отдельную таблицу для данных каждого месяца.</span><span class="sxs-lookup"><span data-stu-id="140b5-156">For example, some relational databases have a separate table for each month's data.</span></span>  
  
-   <span data-ttu-id="140b5-157">В вертикально секционированной группе мер группа мер основана на одной таблице, поэтому каждая секция основана на системном запросе к источнику, который фильтрует данные для этой секции.</span><span class="sxs-lookup"><span data-stu-id="140b5-157">In a vertically partitioned measure group, a measure group is based on a single table, and each partition is based on a source system query that filters the data for the partition.</span></span> <span data-ttu-id="140b5-158">Например, если одна таблица содержит данные за несколько месяцев, то группу мер можно секционировать по месяцам, применяя предложение WHERE языка Transact SQL, возвращающее данные за отдельный месяц для каждой секции.</span><span class="sxs-lookup"><span data-stu-id="140b5-158">For example, if a single table contains several months data, the measure group could still be partitioned by month by applying a Transact-SQL WHERE clause that returns a separate month's data for each partition.</span></span>  
  
 <span data-ttu-id="140b5-159">Каждая секция имеет настройки хранения, которые определяют, что данные и статистики для секций хранятся на локальных экземплярах служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , или в удаленной секции, использующей другой экземпляр служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="140b5-159">Each partition has storage settings that determine whether the data and aggregations for the partition are stored in the local instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or in a remote partition using another instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="140b5-160">Настройки хранения также могут задавать режим хранения и возможность использования упреждающего кэширования для управления задержками в секциях.</span><span class="sxs-lookup"><span data-stu-id="140b5-160">The storage settings can also specify the storage mode and whether proactive caching is used to control latency for a partition.</span></span> <span data-ttu-id="140b5-161">Дополнительные сведения см. в разделах [режимы и обработка хранилища секций](partitions-partition-storage-modes-and-processing.md), [упреждающее кэширование &#40;секций&#41;](partitions-proactive-caching.md)и [удаленных секций](partitions-remote-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="140b5-161">For more information, see [Partition Storage Modes and Processing](partitions-partition-storage-modes-and-processing.md), [Proactive Caching &#40;Partitions&#41;](partitions-proactive-caching.md), and [Remote Partitions](partitions-remote-partitions.md).</span></span>  
  
## <a name="incremental-updates"></a><span data-ttu-id="140b5-162">Добавочные обновления</span><span class="sxs-lookup"><span data-stu-id="140b5-162">Incremental Updates</span></span>  
 <span data-ttu-id="140b5-163">При создании и управлении секциями в многосекционных группах мер необходимо принимать специальные меры предосторожности для обеспечения точности данных куба.</span><span class="sxs-lookup"><span data-stu-id="140b5-163">When you create and manage partitions in multiple-partition measure groups, you must take special precautions to guarantee that cube data is accurate.</span></span> <span data-ttu-id="140b5-164">Несмотря на то, что эти меры предосторожности обычно не применяются к односекционным группам мер, они применяются к ним при добавочном обновлении секций.</span><span class="sxs-lookup"><span data-stu-id="140b5-164">Although these precautions do not usually apply to single-partition measure groups, they do apply when you incrementally update partitions.</span></span> <span data-ttu-id="140b5-165">При добавочном обновлении секции создается новая временная секция со структурой, идентичной структуре секции источника.</span><span class="sxs-lookup"><span data-stu-id="140b5-165">When you incrementally update a partition, a new temporary partition is created that has a structure identical to that of the source partition.</span></span> <span data-ttu-id="140b5-166">Производится обработка и последующее слияние этой временной секции с секцией источника.</span><span class="sxs-lookup"><span data-stu-id="140b5-166">The temporary partition is processed and then merged with the source partition.</span></span> <span data-ttu-id="140b5-167">Поэтому необходимо убедиться, что обрабатывающий запрос, заполняющий временную секцию, не дублирует какие-либо данные, уже представленные в существующей секции.</span><span class="sxs-lookup"><span data-stu-id="140b5-167">Therefore, you must ensure that the processing query that populates the temporary partition does not duplicate any data already present in an existing partition.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="140b5-168">См. также:</span><span class="sxs-lookup"><span data-stu-id="140b5-168">See Also</span></span>  
 <span data-ttu-id="140b5-169">[Настройка свойств мер](../multidimensional-models/configure-measure-properties.md) </span><span class="sxs-lookup"><span data-stu-id="140b5-169">[Configure Measure Properties](../multidimensional-models/configure-measure-properties.md) </span></span>  
 [<span data-ttu-id="140b5-170">Кубы в многомерных моделях</span><span class="sxs-lookup"><span data-stu-id="140b5-170">Cubes in Multidimensional Models</span></span>](../multidimensional-models/cubes-in-multidimensional-models.md)  
  
  

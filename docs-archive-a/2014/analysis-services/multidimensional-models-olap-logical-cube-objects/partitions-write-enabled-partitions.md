---
title: Секции, доступные для записи | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- storage [Analysis Services], partitions
- write-enabled partitions [Analysis Services]
- partitions [Analysis Services], write-enabled
- partitions [Analysis Services], storage
- writeback [Analysis Services], partitions
- storing data [Analysis Services], partitions
ms.assetid: 46e7683f-03ce-4af2-bd99-a5203733d723
author: minewiskan
ms.author: owend
ms.openlocfilehash: bd4bd012847c3aee231767e94bead86a507ecc53
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733234"
---
# <a name="write-enabled-partitions"></a><span data-ttu-id="95c87-102">Секции, доступные для записи</span><span class="sxs-lookup"><span data-stu-id="95c87-102">Write-Enabled Partitions</span></span>
  <span data-ttu-id="95c87-103">Как правило, данные в кубе доступны только для чтения.</span><span class="sxs-lookup"><span data-stu-id="95c87-103">The data in a cube is generally read-only.</span></span> <span data-ttu-id="95c87-104">Однако для определенных сценариев может быть необходимым иметь доступ к секции с возможностью записи.</span><span class="sxs-lookup"><span data-stu-id="95c87-104">However, for certain scenarios, you may want to write-enable a partition.</span></span> <span data-ttu-id="95c87-105">Секции, доступные для записи, позволяют пользователям исследовать сценарии, изменяя значения ячеек и анализируя влияние этих изменений на данные куба.</span><span class="sxs-lookup"><span data-stu-id="95c87-105">Write-enabled partitions are used to enable business users to explore scenarios by changing cell values and analyzing the effects of the changes on cube data.</span></span> <span data-ttu-id="95c87-106">При разрешении записи в секцию клиентские приложения могут записывать изменения данных секции.</span><span class="sxs-lookup"><span data-stu-id="95c87-106">When you write-enable a partition, client applications can record changes to the data in the partition.</span></span> <span data-ttu-id="95c87-107">Эти изменения, называющиеся данными обратной записи, сохраняются в отдельной таблице, и не перезаписывают существующие данные в группе мер.</span><span class="sxs-lookup"><span data-stu-id="95c87-107">These changes, known as writeback data, are stored in a separate table and do not overwrite any existing data in a measure group.</span></span> <span data-ttu-id="95c87-108">Однако они включены в результаты запросов, поскольку являются частью данных куба.</span><span class="sxs-lookup"><span data-stu-id="95c87-108">However, they are incorporated into query results as if they are part of the cube data.</span></span>  
  
 <span data-ttu-id="95c87-109">Доступ для записи может быть предоставлен всему кубу или определенным секциям в кубе.</span><span class="sxs-lookup"><span data-stu-id="95c87-109">You can write-enable an entire cube or only certain partitions in the cube.</span></span> <span data-ttu-id="95c87-110">Измерения, доступные для записи, являются различными, но взаимодополняющими объектами. </span><span class="sxs-lookup"><span data-stu-id="95c87-110">Write-enabled dimensions are different but complementary.</span></span> <span data-ttu-id="95c87-111">Секция, доступная для записи, дает возможность пользователям обновлять ячейки секции, в то время как доступное для записи измерение позволяет пользователям обновлять элементы измерения.</span><span class="sxs-lookup"><span data-stu-id="95c87-111">A write-enabled partition lets users update partition cells, whereas a write-enabled dimension lets users update dimension members.</span></span> <span data-ttu-id="95c87-112">Эти две функции можно сочетать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="95c87-112">You can also use these two features in combination.</span></span> <span data-ttu-id="95c87-113">Например, куб или секция, доступные для записи, необязательно должны включать в себя какие-либо измерения, доступные для записи.</span><span class="sxs-lookup"><span data-stu-id="95c87-113">For example, a write-enabled cube or a write-enabled partition does not have to include any write-enabled dimensions.</span></span> <span data-ttu-id="95c87-114">**Связанные разделы:**[измерения, доступные для записи](../multidimensional-models-olap-logical-dimension-objects/write-enabled-dimensions.md).</span><span class="sxs-lookup"><span data-stu-id="95c87-114">**Related topic:**[Write-Enabled Dimensions](../multidimensional-models-olap-logical-dimension-objects/write-enabled-dimensions.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="95c87-115">При необходимости разрешения записи в куб, источником данных которого является база данных Microsoft Access, не используйте поставщик Microsoft OLE DB для драйверов ODBC в определениях источника данных для куба, его секций или его измерений.</span><span class="sxs-lookup"><span data-stu-id="95c87-115">If you want to write-enable a cube that has a Microsoft Access database as a data source, do not use Microsoft OLE DB Provider for ODBC Drivers in the data source definitions for the cube, its partitions, or its dimensions.</span></span> <span data-ttu-id="95c87-116">Вместо этого можно использовать поставщик Microsoft Jet 4.0 OLE DB или любую версию пакета обновления Jet Service Pack, включающего Jet 4.0 OLE</span><span class="sxs-lookup"><span data-stu-id="95c87-116">Instead, you can use Microsoft Jet 4.0 OLE DB Provider, or any version of the Jet Service Pack that includes Jet 4.0 OLE.</span></span> <span data-ttu-id="95c87-117">Дополнительные сведения см. в статье базы знаний Майкрософт [как получить последний пакет обновления для ядро СУБД Microsoft Jet 4,0](https://support.microsoft.com/?kbid=239114).</span><span class="sxs-lookup"><span data-stu-id="95c87-117">For more information, see the Microsoft Knowledge Base article [How to obtain the latest service pack for the Microsoft Jet 4.0 Database Engine](https://support.microsoft.com/?kbid=239114).</span></span>  
  
 <span data-ttu-id="95c87-118">Куб может быть доступен для записи только в том случае, если все его меры используют агрегатную функцию `Sum`.</span><span class="sxs-lookup"><span data-stu-id="95c87-118">A cube can be write-enabled only if all its measures use the `Sum` aggregate function.</span></span> <span data-ttu-id="95c87-119">Для связанных групп мер и локальных кубов нельзя разрешить запись.</span><span class="sxs-lookup"><span data-stu-id="95c87-119">Linked measure groups and local cubes cannot be write-enabled.</span></span>  
  
## <a name="writeback-storage"></a><span data-ttu-id="95c87-120">Хранилище обратной записи</span><span class="sxs-lookup"><span data-stu-id="95c87-120">Writeback Storage</span></span>  
 <span data-ttu-id="95c87-121">Пользовательское изменение сохраняется в таблице обратной записи в виде разницы со значением, отображающимся в текущий момент.</span><span class="sxs-lookup"><span data-stu-id="95c87-121">Any change made by the business user is stored in the writeback table as a difference from the currently displayed value.</span></span> <span data-ttu-id="95c87-122">Например, если пользователь изменяет значение ячейки с 90 на 100, в таблице обратной записи сохраняется значение `+10` вместе со временем изменения и данными о пользователе, который выполнил это изменение.</span><span class="sxs-lookup"><span data-stu-id="95c87-122">For example, if an end user changes a cell value from 90 to 100, the value `+10` is stored in the writeback table, together with the time of the change and information about the business user who made it.</span></span> <span data-ttu-id="95c87-123">Клиентским приложениям показывается суммарный эффект накопленных изменений.</span><span class="sxs-lookup"><span data-stu-id="95c87-123">The net effect of accumulated changes is displayed to client applications.</span></span> <span data-ttu-id="95c87-124">Первоначальное значение в кубе сохраняется, а контрольный след изменений записывается в таблицу обратной записи.</span><span class="sxs-lookup"><span data-stu-id="95c87-124">The original value in the cube is preserved, and an audit trail of changes is recorded in the writeback table.</span></span>  
  
 <span data-ttu-id="95c87-125">Изменения конечных и неконечных ячеек обрабатываются различным образом.</span><span class="sxs-lookup"><span data-stu-id="95c87-125">Changes to leaf and nonleaf cells are handled differently.</span></span> <span data-ttu-id="95c87-126">Концевая ячейка представляет собой пересечение меры и конечного элемента из каждого измерения, на которое ссылается группа мер.</span><span class="sxs-lookup"><span data-stu-id="95c87-126">A leaf cell represents an intersection of a measure and a leaf member from every dimension referenced by the measure group.</span></span> <span data-ttu-id="95c87-127">Значение конечной ячейки берется непосредственно из таблицы фактов, и оно больше не подлежит дополнительной детализации.</span><span class="sxs-lookup"><span data-stu-id="95c87-127">The value of a leaf cell is taken directly from the fact table, and cannot be divided further by drilling down.</span></span> <span data-ttu-id="95c87-128">Если куб или секция доступны для записи, в конечную ячейку можно вносить изменения.</span><span class="sxs-lookup"><span data-stu-id="95c87-128">If a cube or any partition is write-enabled, changes can be made to a leaf cell.</span></span> <span data-ttu-id="95c87-129">В неконечную ячейку изменения вносить можно, только если клиентское приложение предоставляет средства распределения изменений между конечными ячейками, образующими неконечную ячейку.</span><span class="sxs-lookup"><span data-stu-id="95c87-129">Changes can be made to a nonleaf cell only if the client application provides a way of distributing the changes among the leaf cells that make up the nonleaf cell.</span></span> <span data-ttu-id="95c87-130">Управление этим процессом, называемым размещением, осуществляется посредством инструкции UPDATE CUBE в многомерных выражениях.</span><span class="sxs-lookup"><span data-stu-id="95c87-130">This process, called allocation, is managed through the UPDATE CUBE statement in Multidimensional Expressions (MDX).</span></span> <span data-ttu-id="95c87-131">Разработчики приложений бизнес-аналитики могут использовать инструкцию UPDATE CUBE для включения функции размещения.</span><span class="sxs-lookup"><span data-stu-id="95c87-131">Business intelligence developers can use the UPDATE CUBE statement to include allocation functionality.</span></span> <span data-ttu-id="95c87-132">Дополнительные сведения см. в разделе [инструкция UPDATE CUBE &#40;&#41;многомерных выражений ](/sql/mdx/mdx-data-manipulation-update-cube).</span><span class="sxs-lookup"><span data-stu-id="95c87-132">For more information, see [UPDATE CUBE Statement &#40;MDX&#41;](/sql/mdx/mdx-data-manipulation-update-cube).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="95c87-133">Если обновленные ячейки не пересекаются, свойство строки подключения `Update Isolation Level` может быть использовано для повышения производительности инструкции UPDATE CUBE.</span><span class="sxs-lookup"><span data-stu-id="95c87-133">When updated cells do not overlap, the `Update Isolation Level` connection string property can be used to enhance performance for UPDATE CUBE.</span></span> <span data-ttu-id="95c87-134">Дополнительные сведения см. в разделе <xref:Microsoft.AnalysisServices.AdomdClient.AdomdConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="95c87-134">For more information, see <xref:Microsoft.AnalysisServices.AdomdClient.AdomdConnection.ConnectionString%2A>.</span></span>  
  
 <span data-ttu-id="95c87-135">Вне зависимости от того, распределяет ли клиентское приложение изменения, внесенные в неконечные ячейки, при оценке запросов изменения в таблице обратной записи применяются как к конечным, так и к неконечным ячейкам, поэтому пользователи могут просматривать влияние изменений по всему кубу.</span><span class="sxs-lookup"><span data-stu-id="95c87-135">Regardless of whether a client application distributes changes that were made to nonleaf cells, whenever queries are evaluated, changes in the writeback table are applied to both leaf and nonleaf cells so that business users can view the effects of the changes throughout the cube.</span></span>  
  
 <span data-ttu-id="95c87-136">Изменения, выполненные пользователем, содержатся в отдельной таблице обратной записи, с которой можно работать следующим образом.</span><span class="sxs-lookup"><span data-stu-id="95c87-136">Changes that were made by the business user are kept in a separate writeback table that you can work with as follows:</span></span>  
  
-   <span data-ttu-id="95c87-137">Преобразовать в секцию, чтобы навсегда внести изменения в куб.</span><span class="sxs-lookup"><span data-stu-id="95c87-137">Convert to a partition to permanently incorporate changes into the cube.</span></span> <span data-ttu-id="95c87-138">Однако при этом действии группа мер становится доступной только для чтения.</span><span class="sxs-lookup"><span data-stu-id="95c87-138">This action makes the measure group read-only.</span></span> <span data-ttu-id="95c87-139">Можно задать критерий фильтра для выбора изменений, которые необходимо преобразовать.</span><span class="sxs-lookup"><span data-stu-id="95c87-139">You can specify a filter expression to select the changes you want to convert.</span></span>  
  
-   <span data-ttu-id="95c87-140">Сбросить, чтобы вернуть секцию в ее первоначальное состояние.</span><span class="sxs-lookup"><span data-stu-id="95c87-140">Discard to return the partition to its original state.</span></span> <span data-ttu-id="95c87-141">При этом действии секция станет доступной только для чтения.</span><span class="sxs-lookup"><span data-stu-id="95c87-141">This action makes the partition read-only.</span></span>  
  
## <a name="security"></a><span data-ttu-id="95c87-142">Безопасность</span><span class="sxs-lookup"><span data-stu-id="95c87-142">Security</span></span>  
 <span data-ttu-id="95c87-143">Пользователю разрешается записывать изменения в таблицу обратной записи куба, только если этот пользователь принадлежит роли с разрешением на чтение и запись в ячейки куба.</span><span class="sxs-lookup"><span data-stu-id="95c87-143">A business user is permitted to record changes in a cube's writeback table only if the business user belongs to a role that has read/write permission to the cube's cells.</span></span> <span data-ttu-id="95c87-144">Для каждой роли можно управлять тем, какие ячейки куба можно обновлять, а какие нельзя.</span><span class="sxs-lookup"><span data-stu-id="95c87-144">For each role, you can control which cube cells can and cannot be updated.</span></span> <span data-ttu-id="95c87-145">Дополнительные сведения см. в разделе [предоставление разрешений куба или модели &#40;Analysis Services&#41;](../multidimensional-models/grant-cube-or-model-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="95c87-145">For more information, see [Grant cube or model permissions &#40;Analysis Services&#41;](../multidimensional-models/grant-cube-or-model-permissions-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="95c87-146">См. также:</span><span class="sxs-lookup"><span data-stu-id="95c87-146">See Also</span></span>  
 <span data-ttu-id="95c87-147">[Измерения, доступные для записи](../multidimensional-models-olap-logical-dimension-objects/write-enabled-dimensions.md) </span><span class="sxs-lookup"><span data-stu-id="95c87-147">[Write-Enabled Dimensions](../multidimensional-models-olap-logical-dimension-objects/write-enabled-dimensions.md) </span></span>  
 <span data-ttu-id="95c87-148">[Агрегаты и статистические схемы](../multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md) </span><span class="sxs-lookup"><span data-stu-id="95c87-148">[Aggregations and Aggregation Designs](../multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md) </span></span>  
 <span data-ttu-id="95c87-149">[Секции &#40;Analysis Services многомерных данных&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span><span class="sxs-lookup"><span data-stu-id="95c87-149">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span></span>  
 [<span data-ttu-id="95c87-150">Измерения, доступные для записи</span><span class="sxs-lookup"><span data-stu-id="95c87-150">Write-Enabled Dimensions</span></span>](../multidimensional-models-olap-logical-dimension-objects/write-enabled-dimensions.md)  
  
  

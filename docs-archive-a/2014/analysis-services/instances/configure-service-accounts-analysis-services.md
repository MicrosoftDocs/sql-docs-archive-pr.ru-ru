---
title: Настройка учетных записей служб (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- security [Analysis Services], logon accounts
- logon accounts [Analysis Services]
- accounts [Analysis Services]
- logon accounts [Analysis Services], about logon accounts
ms.assetid: b481bd51-e077-42f6-8598-ce08c1a38716
author: minewiskan
ms.author: owend
ms.openlocfilehash: 455277acc9928b9569ad586c38865ba58a125917
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87731114"
---
# <a name="configure-service-accounts-analysis-services"></a><span data-ttu-id="ee7c0-102">Настройка учетных записей служб (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="ee7c0-102">Configure Service Accounts (Analysis Services)</span></span>
  <span data-ttu-id="ee7c0-103">Подготовка учетной записи для большого спектра продуктов описана в разделе [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md), который содержит полные сведения об учетной записи службы для всех служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , включая службу [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ee7c0-103">Product-wide account provisioning is documented in [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md), a topic that provides comprehensive service account information for all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services, including [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="ee7c0-104">Обратитесь к ней для изучения допустимых типов учетных записей, привилегий Windows, назначенных при установке, разрешений файловой системы, разрешений регистра и другой информации.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-104">Refer to it to learn about valid account types, Windows privileges assigned by setup, file system permissions, registry permissions, and more.</span></span>  
  
 <span data-ttu-id="ee7c0-105">Данная тема предоставляет дополнительную информацию для службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], включая дополнительные разрешения, необходимые для табличной и кластерной установки.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-105">This topic provides supplemental information for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], including additional permissions necessary for tabular and clustered installations.</span></span> <span data-ttu-id="ee7c0-106">Она также охватывает разрешения, необходимые для поддержки операций сервера.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-106">It also covers permissions needed to support server operations.</span></span> <span data-ttu-id="ee7c0-107">Например, вы можете настроить выполнение операций и запросов обработки под учетной записью службы - в этом случае вам необходимо предоставить дополнительные разрешения , чтобы это заработало.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-107">For example, you can configure processing and query operations to execute under the service account ─ in which case you will need to grant additional permissions to get this to work.</span></span>  
  
-   [<span data-ttu-id="ee7c0-108">Привилегии доступа Windows, назначенные для служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="ee7c0-108">Windows privileges assigned to Analysis Services</span></span>](#bkmk_winpriv)  
  
-   [<span data-ttu-id="ee7c0-109">Разрешения файловой системы, назначенные для служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="ee7c0-109">File System Permissions assigned to Analysis Services</span></span>](#bkmk_FilePermissions)  
  
-   [<span data-ttu-id="ee7c0-110">Предоставление дополнительных разрешений для определенных операций сервера</span><span class="sxs-lookup"><span data-stu-id="ee7c0-110">Granting additional permissions for specific server operations</span></span>](#bkmk_tasks)  
  
 <span data-ttu-id="ee7c0-111">Дополнительным шагом настройки, не описанным здесь, является регистрация Имя Участника-Службы (SPN) для экземпляра и учетной записи службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-111">An additional configuration step, not documented here, is to register a Service Principal Name (SPN) for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance and service account.</span></span> <span data-ttu-id="ee7c0-112">Данный шаг позволяет пройти проверку подлинности от приложений клиента до внутренних источников данных посредством сценариев двойного прыжка.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-112">This step enables pass-through authentication from client applications to backend data sources in double-hop scenarios.</span></span> <span data-ttu-id="ee7c0-113">Данный шаг применим только к службам, настроенных для ограниченного делегирования Kerberos.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-113">This step only applies for services configured for Kerberos constrained delegation.</span></span> <span data-ttu-id="ee7c0-114">Обратитесь к разделу [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) за дополнительными инструкциями.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-114">See [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) for further instructions.</span></span>  
  
## <a name="logon-account-recommendations"></a><span data-ttu-id="ee7c0-115">Рекомендации по учетной записи входа в систему</span><span class="sxs-lookup"><span data-stu-id="ee7c0-115">Logon account recommendations</span></span>  
 <span data-ttu-id="ee7c0-116">В отказоустойчивом кластере все экземпляры служб Analysis Services должны быть настроены для использования учетной записи пользователя домена Windows.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-116">In a failover cluster, all instances of Analysis Services should be configured to use a Windows domain user account.</span></span> <span data-ttu-id="ee7c0-117">Назначьте одну и ту же учетную запись для всех экземпляров.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-117">Assign the same account to all instances.</span></span> <span data-ttu-id="ee7c0-118">Подробные сведения см. в разделе [Кластеризация служб Analysis Services](https://msdn.microsoft.com/library/dn736073.aspx) .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-118">See [How to Cluster Analysis Services](https://msdn.microsoft.com/library/dn736073.aspx) for details.</span></span>  
  
 <span data-ttu-id="ee7c0-119">Изолированные экземпляры должны использовать виртуальную учетную запись по умолчанию, **NT Service\MSSQLServerOLAPService** для экземпляра по умолчанию или **NT Service\MSOLAP$**_имя_экземпляра_ для именованного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-119">Standalone instances should use the default virtual account, **NT Service\MSSQLServerOLAPService** for the default instance, or **NT Service\MSOLAP$**_instance-name_ for a named instance.</span></span> <span data-ttu-id="ee7c0-120">Данная рекомендация применяется для экземпляров служб Analysis Services во всех режимах сервера, при условии, что в качестве операционной системы используется Windows Server 2008 R2 и более поздних версий, а для служб Analysis Services используется SQL Server 2012 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-120">This recommendation applies to Analysis Services instances in all server modes, assuming Windows Server 2008 R2 and later for the operating system, and SQL Server 2012 and later for Analysis Services.</span></span>  
  
## <a name="granting-permissions-to-analysis-services"></a><span data-ttu-id="ee7c0-121">Предоставление разрешений для служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="ee7c0-121">Granting permissions to Analysis Services</span></span>  
 <span data-ttu-id="ee7c0-122">В этом разделе описаны разрешения, необходимые для локальных, внутренних операций служб Analysis Services, например запуск исполняемого файла, чтение файла конфигурации и загрузка баз данных из каталога данных.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-122">This section explains the permissions that Analysis Services requires for local, internal operations, such as starting the executable, reading the configuration file, and loading databases from the data directory.</span></span> <span data-ttu-id="ee7c0-123">Если вместо этого вы ищете рекомендации по установке разрешений для доступа к внешним данным и взаимодействия с другими службами и приложениями, см. раздел [Предоставление дополнительных разрешений для определенных операций сервера](#bkmk_tasks) далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-123">If instead you're looking for guidance on setting permissions for external data access and interoperability with other services and applications, see [Granting additional permissions for specific server operations](#bkmk_tasks) further on in this topic.</span></span>  
  
 <span data-ttu-id="ee7c0-124">Для внутренних операций держателем разрешений в службах Analysis Services является не учетная запись входа, а локальная группа безопасности Windows, созданная программой установки и содержащая идентификатор безопасности, связанный с конкретной службой.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-124">For internal operations, the permission holder in Analysis Services is not the logon account, but a local Windows security group created by Setup that contains the per-service SID.</span></span> <span data-ttu-id="ee7c0-125">Назначение разрешений для группы безопасности согласуется с предыдущими версиями служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-125">Assigning permissions to the security group is consistent with previous versions of Analysis Services.</span></span> <span data-ttu-id="ee7c0-126">Кроме того, учетные записи входа могут изменяться со временем, но идентификатор безопасности конкретной службы и локальная группа безопасности являются постоянными в течение всего времени существования установленного сервера.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-126">Also, logon accounts can change over time, but the per-service SID and local security group are constant for the lifetime of the server installation.</span></span> <span data-ttu-id="ee7c0-127">Для служб Analysis Services это делает именно группу безопасности, а не учетную запись входа, лучшим выбором для размещения разрешений.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-127">For Analysis Services, this makes the security group, rather than the logon account, a better choice for holding permissions.</span></span> <span data-ttu-id="ee7c0-128">Всякий раз, когда необходимо вручную предоставить права доступа к экземпляру службы, будь это разрешения файловой системы или привилегии доступа Windows, убедитесь в том, что предоставляете разрешения локальной группе безопасности, созданной для экземпляра сервера.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-128">Whenever you manually grant rights to the service instance, whether file system permissions or Windows privileges, be sure to grant permissions to the local security group created for the server instance.</span></span>  
  
 <span data-ttu-id="ee7c0-129">Имя группы безопасности соответствует шаблону.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-129">The name of the security group follows a pattern.</span></span> <span data-ttu-id="ee7c0-130">Всегда используется префикс `SQLServerMSASUser$`, затем имя компьютера, и в конце стоит имя экземпляра.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-130">The prefix is always `SQLServerMSASUser$`, followed by the computer name, ending with the instance name.</span></span> <span data-ttu-id="ee7c0-131">Экземпляром по умолчанию является `MSSQLSERVER`.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-131">The default instance is `MSSQLSERVER`.</span></span> <span data-ttu-id="ee7c0-132">Именованный экземпляр имеет имя, заданное во время установки.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-132">A named instance is the name given during set up.</span></span>  
  
 <span data-ttu-id="ee7c0-133">Можно найти эту группу безопасности в локальных параметрах безопасности:</span><span class="sxs-lookup"><span data-stu-id="ee7c0-133">You can see this security group in the local security settings:</span></span>  
  
-   <span data-ttu-id="ee7c0-134">Выполнение compmgmt. msc | **Локальные пользователи и группы**  |  **Groups**  |  `SQLServerMSASUser$` Группы \<server-name> `$MSSQLSERVER` (для экземпляра по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-134">Run compmgmt.msc | **Local Users and Groups** | **Groups** | `SQLServerMSASUser$`\<server-name>`$MSSQLSERVER` (for a default instance).</span></span>  
  
-   <span data-ttu-id="ee7c0-135">Дважды щелкните группу безопасности для просмотра ее элементов.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-135">Double-click the security group to view its members.</span></span>  
  
 <span data-ttu-id="ee7c0-136">Единственным членом группы является идентификатор безопасности конкретной службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-136">The sole member of the group is the per-service SID.</span></span> <span data-ttu-id="ee7c0-137">Рядом с ним находится учетная запись входа в систему.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-137">Right next to it is the logon account.</span></span> <span data-ttu-id="ee7c0-138">Имя учетной записи для входа в систему является декоративным и предоставляет контекст для идентификатора безопасности конкретной службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-138">The logon account name is cosmetic, there to provide context to the per-service SID.</span></span> <span data-ttu-id="ee7c0-139">Если впоследствии изменить учетную запись входа, а затем вернуться на эту страницу, можно заметить, что группа безопасности и идентификатор безопасности по службе остались прежними, но изменилась метка учетной записи входа.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-139">If you subsequently change the logon account and then return to this page, you'll notice that the security group and per-service SID do not change, but the logon account label is different.</span></span>  
  
##  <a name="windows-privileges-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_winpriv"></a><span data-ttu-id="ee7c0-140">Привилегии Windows, назначенные учетной записи службы Analysis Services</span><span class="sxs-lookup"><span data-stu-id="ee7c0-140">Windows privileges assigned to the Analysis Services service account</span></span>  
 <span data-ttu-id="ee7c0-141">Службе Analysis Services необходимы разрешения от операционной системы для запуска службы и для запроса ресурсов системы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-141">Analysis Services needs permissions from the operating system for service startup and to request system resources.</span></span> <span data-ttu-id="ee7c0-142">Требования различаются в зависимости от режима сервера и от того, является ли экземпляр кластеризованным.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-142">Requirements vary by server mode and whether the instance is clustered.</span></span> <span data-ttu-id="ee7c0-143">Если вы не знакомы с правами доступа Windows, обратитесь к разделу [Права доступа](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) и [Константы прав доступа (Windows)](/windows/desktop/SecAuthZ/privilege-constants) за дополнительной информацией.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-143">If you are unfamiliar with Windows privileges, see [Privileges](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) and [Privilege Constants (Windows)](/windows/desktop/SecAuthZ/privilege-constants) for details.</span></span>  
  
 <span data-ttu-id="ee7c0-144">Всем экземплярам службы Analysis Services необходимо право доступа **Вход в качестве службы** (SeServiceLogonRight).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-144">All instances of Analysis Services require the **Log on as a service** (SeServiceLogonRight) privilege.</span></span> <span data-ttu-id="ee7c0-145">Установка SQL Server назначает для вас право доступа под учетной записью службы, определенной во время установки.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-145">SQL Server Setup assigns the privilege for you on the service account specified during installation.</span></span> <span data-ttu-id="ee7c0-146">Для серверов, запущенных в Многомерном режиме и в режиме Интеллектуального анализа данных, данное право доступа Windows является единственным правом, необходимым учетной записи службы Analysis Services для установок отдельного сервера, а также единственным правом, настраиваемым Установкой для службы Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-146">For servers running in Multidimensional and Data Mining mode, this is the only Windows privilege required by the Analysis Services service account for standalone server installations, and it is the only privilege that Setup configures for Analysis Services.</span></span> <span data-ttu-id="ee7c0-147">Для кластерных и табличных экземпляров вручную должны быть добавлены дополнительные права доступа Windows.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-147">For clustered and tabular instances, additional Windows privileges must be added manually.</span></span>  
  
 <span data-ttu-id="ee7c0-148">Отказоустойчивые экземпляры кластера, либо в табличном режиме, либо в многомерном режиме, должны иметь **Увеличение приоритета выполнения** (SeIncreaseBasePriorityPrivilege).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-148">Failover cluster instances, in either Tabular or Multidimensional mode, must have **Increase scheduling priority** (SeIncreaseBasePriorityPrivilege).</span></span>  
  
 <span data-ttu-id="ee7c0-149">Табличные экземпляры используют следующие три дополнительных права доступа, которые должны быть предоставлены вручную после установки экземпляра.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-149">Tabular instances use the following three additional privileges, which must be granted manually after the instance is installed.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ee7c0-150">**Увеличение рабочего набора процесса** (SeIncreaseWorkingSetPrivilege)</span><span class="sxs-lookup"><span data-stu-id="ee7c0-150">**Increase a process working set** (SeIncreaseWorkingSetPrivilege)</span></span>|<span data-ttu-id="ee7c0-151">Данное право доступа доступно всем пользователям по умолчанию через группу безопасности **Пользователи** .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-151">This privilege is available to all users by default through the **Users** security group.</span></span> <span data-ttu-id="ee7c0-152">Если вы блокируете сервер посредством удаления прав доступа для данной группы, служба Analysis Services не запустится, выдав следующую ошибку: "Клиент не обладает требуемыми правами".</span><span class="sxs-lookup"><span data-stu-id="ee7c0-152">If you lock down a server by removing privileges for this group, Analysis Services might fail to start, logging this error: "A required privilege is not held by the client."</span></span> <span data-ttu-id="ee7c0-153">Когда происходит данная ошибка, восстановите право доступа службе Analysis Services, передав его соответствующей группе безопасности службы Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-153">When this error occurs, restore the privilege to Analysis Services by granting it to the appropriate Analysis Services security group.</span></span>|  
|<span data-ttu-id="ee7c0-154">**Настройка квот памяти для процесса** (SeIncreaseQuotaSizePrivilege)</span><span class="sxs-lookup"><span data-stu-id="ee7c0-154">**Adjust memory quotas for a process** (SeIncreaseQuotaSizePrivilege)</span></span>|<span data-ttu-id="ee7c0-155">Данное право доступа используется для запроса большего количества памяти, если процессу не хватает ресурсов для завершения своего выполнения в связи с порогами памяти, установленными для экземпляра.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-155">This privilege is used to request more memory if a process has insufficient resources to complete its execution, subject to the memory thresholds established for the instance.</span></span>|  
|<span data-ttu-id="ee7c0-156">**Блокировка страниц в памяти** (SeLockMemoryPrivilege)</span><span class="sxs-lookup"><span data-stu-id="ee7c0-156">**Lock pages in memory** (SeLockMemoryPrivilege)</span></span>|<span data-ttu-id="ee7c0-157">Данное право доступа необходимо только когда страница полностью отключена.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-157">This privilege is needed only when paging is turned off entirely.</span></span> <span data-ttu-id="ee7c0-158">По умолчанию, экземпляр табличного сервера использует файл подкачки Windows, но вы можете запретить ему использование подкачки Windows, установив значение `VertiPaqPagingPolicy` на 0.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-158">By default, a tabular server instance uses the Windows paging file, but you can prevent it from using Windows paging by setting `VertiPaqPagingPolicy` to 0.</span></span><br /><br /> <span data-ttu-id="ee7c0-159">Значение "1" для `VertiPaqPagingPolicy` (по умолчанию) указывает экземпляру табличного сервера использовать файл подкачки Windows.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-159">`VertiPaqPagingPolicy` to 1 (default), instructs the tabular server instance to use the Windows paging file.</span></span> <span data-ttu-id="ee7c0-160">Распределения не заблокированы, что позволяет Windows откачивать страницы из оперативной памяти по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-160">Allocations are not locked, allowing Windows to page out as needed.</span></span> <span data-ttu-id="ee7c0-161">Так как была использована подкачка, нет необходимости блокировать страницы в памяти.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-161">Because paging is being used, there is no need to lock pages in memory.</span></span> <span data-ttu-id="ee7c0-162">Таким же для конфигурации по умолчанию (где `VertiPaqPagingPolicy` = 1) не нужно предоставлять разрешение **Блокировка страниц в памяти** табличному экземпляру.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-162">Thus, for the default configuration (where `VertiPaqPagingPolicy` = 1), you do not need to grant the **Lock pages in memory** privilege to a tabular instance.</span></span><br /><br /> <span data-ttu-id="ee7c0-163">`VertiPaqPagingPolicy`значение 0.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-163">`VertiPaqPagingPolicy` to 0.</span></span> <span data-ttu-id="ee7c0-164">Если вы отключаете подкачку для службы Analysis Services, распределения будут заблокированы, при условии, что право доступа **Блокировка страниц в памяти** предоставлено табличному экземпляру.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-164">If you turn off paging for Analysis Services, allocations are locked, assuming the **Lock pages in memory** privilege is granted to the tabular instance.</span></span> <span data-ttu-id="ee7c0-165">Установив данную настройку и право доступа **Блокировка страниц в памяти** , Windows не сможет откачивать распределения памяти, выделенные службе Analysis Services, когда системе не будет хватать памяти.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-165">Given this setting and the **Lock pages in memory** privilege, Windows cannot page out memory allocations made to Analysis Services when the system is under memory pressure.</span></span> <span data-ttu-id="ee7c0-166">Analysis Services полагается на разрешение **Блокировка страниц в памяти** , так как принудительное применение `VertiPaqPagingPolicy` = 0.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-166">Analysis Services relies on the **Lock pages in memory** permission as the enforcement behind `VertiPaqPagingPolicy` = 0.</span></span> <span data-ttu-id="ee7c0-167">Обратите внимание на то, что отключение подкачки Windows не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-167">Note that turning off Windows paging is not recommended.</span></span> <span data-ttu-id="ee7c0-168">Оно увеличит число ошибок в связи с нехваткой памяти для операций, которые в противном случае, при разрешенной подкачке, должны были завершиться успешно.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-168">It will increase the rate of out-of-memory errors for operations that might otherwise succeed if paging were allowed.</span></span> <span data-ttu-id="ee7c0-169">Дополнительные сведения о см. в разделе [Свойства памяти](../server-properties/memory-properties.md) `VertiPaqPagingPolicy` .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-169">See [Memory Properties](../server-properties/memory-properties.md) for more information about `VertiPaqPagingPolicy`.</span></span>|  
  
#### <a name="to-view-or-add-windows-privileges-on-the-service-account"></a><span data-ttu-id="ee7c0-170">Для просмотра или добавления прав доступа Windows учетной записи службы</span><span class="sxs-lookup"><span data-stu-id="ee7c0-170">To view or add Windows privileges on the service account</span></span>  
  
1.  <span data-ttu-id="ee7c0-171">Запустите GPEDIT.msc | Политика Локального Компьютера | Конфигурация Компьютера | Настройки Windows | Настройки Безопасности | Локальные Политики | Назначения Прав Пользователя.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-171">Run GPEDIT.msc | Local Computer Policy | Computer Configuration | Windows Settings | Security Settings | Local Policies | User Rights Assignments.</span></span>  
  
2.  <span data-ttu-id="ee7c0-172">Проверьте существующие политики, включающие `SQLServerMSASUser$` .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-172">Review existing policies that include `SQLServerMSASUser$`.</span></span> <span data-ttu-id="ee7c0-173">Это локальная группа безопасности, расположенная на компьютерах, имеющих установку службы Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-173">This is a local security group found on computers having an Analysis Services installation.</span></span> <span data-ttu-id="ee7c0-174">И права доступа Windows и разрешения файловой папки предоставляются данной группе безопасности.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-174">Both Windows privileges and file folder permissions are granted to this security group.</span></span> <span data-ttu-id="ee7c0-175">Дважды щелкните на политику **Вход в качестве службы** , чтобы увидеть как определена группа безопасности в вашей системе.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-175">Double-click **Log on as a service** policy to see how the security group is specified on your system.</span></span> <span data-ttu-id="ee7c0-176">Полное название группы безопасности будет изменяться в зависимости от того, установили ли вы службу Analysis Services в качестве именованного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-176">The full name of the security group will vary depending on whether you installed Analysis Services as a named instance.</span></span> <span data-ttu-id="ee7c0-177">Используйте эту группу безопасности вместо фактической учетной записи службы при добавлении прав доступа учетной записи.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-177">Use this security group, rather than the actual service account, when adding account privileges.</span></span>  
  
3.  <span data-ttu-id="ee7c0-178">Для того, чтобы добавить права доступа в GPEDIT, щелкните правой кнопкой мыши **Увеличение рабочего набора процесса** и выберите **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-178">To add account privileges in GPEDIT, right-click **Increase a process working set** and select **Properties**.</span></span>  
  
4.  <span data-ttu-id="ee7c0-179">Щелкните **Добавить пользователя или группу**.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-179">Click **Add User or Group**.</span></span>  
  
5.  <span data-ttu-id="ee7c0-180">Введите группу пользователей для экземпляра службы Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-180">Enter the user group for the Analysis Services instance.</span></span> <span data-ttu-id="ee7c0-181">Помните о том, что учетная запись службы является элементом локальной группы безопасности, которая требует добавить в начало имя локального компьютера в качестве домена учетной записи.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-181">Remember that the service account is a member of a local security group, requiring that you prepend the local computer name as the domain of the account.</span></span>  
  
     <span data-ttu-id="ee7c0-182">Следующий список демонстрирует два примера для экземпляра по умолчанию и именованного экземпляра с названием "Табличный", на компьютере с названием "SQL01-WIN12", где имя компьютера является локальным доменом.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-182">The following list shows two examples for a default instance and named instance called "Tabular" on a machine called "SQL01-WIN12", where the machine name is the local domain.</span></span>  
  
    -   <span data-ttu-id="ee7c0-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="ee7c0-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span></span>  
  
    -   <span data-ttu-id="ee7c0-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span><span class="sxs-lookup"><span data-stu-id="ee7c0-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span></span>  
  
6.  <span data-ttu-id="ee7c0-185">Повторите для **Корректировка квоты памяти для процесса**, и, при необходимости, для **Блокировка страниц в памяти** или для **Увеличение приоритета выполнения**.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-185">Repeat for **Adjust memory quotas for a process**, and optionally, for **Lock pages in memory** or **Increase scheduling priority**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ee7c0-186">Предыдущие версии программы установки непреднамеренно добавляли учетную запись службы Analysis Services в группу **Пользователи журнала производительности** .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-186">Previous versions of Setup inadvertently added the Analysis Services service account to the **Performance Log Users** group.</span></span> <span data-ttu-id="ee7c0-187">Это ошибка была исправлена, но существующие установки могут иметь это ненужное членство в группе.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-187">Although this defect has been fixed, existing installations might have this unnecessary group membership.</span></span> <span data-ttu-id="ee7c0-188">Поскольку для учетной записи службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] не требуется членство в группе **Пользователи журнала производительности** , ее можно удалить из этой группы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-188">Because the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account does not require membership in the **Performance Log Users** group, you can remove it from the group.</span></span>  
  
##  <a name="file-system-permissions-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_FilePermissions"></a> <span data-ttu-id="ee7c0-189">Разрешения файловой системы, назначенные учетной записи служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="ee7c0-189">File System Permissions assigned to the Analysis Services service account</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ee7c0-190">Список разрешений, связанных с каждой программной папкой, см. в разделе [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-190">See [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) for a list of permissions associated with each program folder.</span></span>  
>   
>  <span data-ttu-id="ee7c0-191">Сведения о разрешениях, относящихся к конфигурации IIS и [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], см. в разделе [Настройка HTTP-доступа к службам Analysis Services в службах Internet Information Services (IIS) 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-191">See [Configure HTTP Access to Analysis Services on Internet Information Services &#40;IIS&#41; 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md) for file permission information related to IIS configuration and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="ee7c0-192">Все разрешения файловой систем, необходимые для операций сервера- включая разрешения, которые требуются для загрузки и выгрузки баз данных из назначенной папки данных- назначены Установкой SQL Server во время установки.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-192">All file system permissions required for server operations─ including permissions needed for loading and unloading databases from a designated data folder─ are assigned by SQL Server Setup during installation.</span></span>  
  
 <span data-ttu-id="ee7c0-193">Держатель разрешений в отношении файлов данных, исполняемых программных файлов, файлов конфигурации, файлов журнала и временных файлов является локальная группа безопасности, созданная Установкой SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-193">The permission holder on data files, program file executables, configuration files, log files, and temporary files is a local security group created by SQL Server Setup.</span></span>  
  
 <span data-ttu-id="ee7c0-194">Для каждого устанавливаемого вами экземпляра создается одна группа безопасности.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-194">There is one security group created for each instance that you install.</span></span> <span data-ttu-id="ee7c0-195">Имя группы безопасности определяется после того, как экземпляр ─ **SQLServerMSASUser $ MSSQLSERVER** для экземпляра по умолчанию или `SQLServerMSASUser$` \<servername> $ \<instancename> для именованного экземпляра.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-195">The security group is named after the instance ─ either **SQLServerMSASUser$MSSQLSERVER** for the default instance, or `SQLServerMSASUser$`\<servername>$\<instancename> for a named instance.</span></span> <span data-ttu-id="ee7c0-196">Установка обеспечивает данную группу безопасности разрешениями файла, необходимые для осуществления операций сервера.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-196">Setup provisions this security group with the file permissions required to perform server operations.</span></span> <span data-ttu-id="ee7c0-197">При проверке прав доступа на каталог \MSAS12.MSSQLSERVER\OLAP\BIN можно увидеть, что группа безопасности (а не учетная запись службы или ее идентификатор безопасности) является держателем разрешения в этом каталоге.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-197">If you check the security permissions on the \MSAS12.MSSQLSERVER\OLAP\BIN directory, you will see that the security group (not the service account or its per-service SID) is the permission holder on that directory.</span></span>  
  
 <span data-ttu-id="ee7c0-198">Группа безопасности содержит только один элемент: идентификатор безопасности службы стартовой учетной записи экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-198">The security group contains one member only: the per-service Security Identifier (SID) of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance startup account.</span></span> <span data-ttu-id="ee7c0-199">Установка добавляет идентификатор безопасности по службе в локальную группу безопасности.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-199">Setup adds the per-service SID to the local security group.</span></span> <span data-ttu-id="ee7c0-200">Использование локальной группы безопасности с ее членством идентификатора безопасности службы немного, но заметно отличается от того, как Установка SQL Server обеспечивает службу Analysis Services, в сравнении с ядром СУБД.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-200">The use of a local security group, with its SID membership, is a small but noticeable difference in how SQL Server Setup provisions Analysis Services, as compared to the Database Engine.</span></span>  
  
 <span data-ttu-id="ee7c0-201">Если вы думаете, что разрешения файла повреждены, следуйте данной инструкции для удостоверения, что служба все еще обеспечена надлежащим образом:</span><span class="sxs-lookup"><span data-stu-id="ee7c0-201">If you believe that file permissions are corrupted, follow these steps to verify the service is still correctly provisioned:</span></span>  
  
1.  <span data-ttu-id="ee7c0-202">Используйте средство командной строки Управления службой (sc.exe) для получения идентификатора безопасности службы экземпляра службы по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-202">Use the Service Control command line tool (sc.exe) to obtain the SID of a default service instance.</span></span>  
  
     `SC showsid MSSqlServerOlapService`  
  
     <span data-ttu-id="ee7c0-203">Для именованного экземпляра (где имя экземпляра - Табличный) используйте следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="ee7c0-203">For a named instance (where the instance name is Tabular), use this syntax:</span></span>  
  
     `SC showsid MSOlap$Tabular`  
  
2.  <span data-ttu-id="ee7c0-204">Используйте **Computer Manager**  |  **локальные группы пользователей и групп**диспетчера компьютеров  |  **Groups** для проверки членства в \<servername> $ \<instancename> группе безопасности SQLServerMSASUser $.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-204">Use **Computer Manager** | **Local Users and Groups** | **Groups** to inspect the membership of the SQLServerMSASUser$\<servername>$\<instancename> security group.</span></span>  
  
     <span data-ttu-id="ee7c0-205">Элемент идентификатора безопасности службы должен совпадать с идентификатором безопасности по службе из пункта 1.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-205">The member SID should match the per-service SID from step 1.</span></span>  
  
3.  <span data-ttu-id="ee7c0-206">Использование **Windows Explorer**  |  **программных файлов**проводника Windows  |  **Microsoft SQL Server** | MSASxx. MSSQLServer | **OLAP**  |  **bin** для проверки того, что свойства безопасности папки предоставлены группе безопасности на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-206">Use **Windows Explorer** | **Program Files** | **Microsoft SQL Server** | MSASxx.MSSQLServer | **OLAP** | **bin** to verify folder Security properties are granted to the security group in step 2.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ee7c0-207">Никогда не удаляйте и не изменяйте идентификатор безопасности службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-207">Never remove or modify a SID.</span></span> <span data-ttu-id="ee7c0-208">Сведения о восстановлении идентификатора безопасности службы, который был случайно удален, см [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201) . в разделе.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-208">To restore a per-service SID that was inadvertently deleted, see [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201).</span></span>  
  
 <span data-ttu-id="ee7c0-209">**Дополнительная информация об идентификаторах безопасности по службе**</span><span class="sxs-lookup"><span data-stu-id="ee7c0-209">**More about per-service SIDs**</span></span>  
  
 <span data-ttu-id="ee7c0-210">Каждая учетная запись Windows имеет связанный [идентификатор безопасности](http://en.wikipedia.org/wiki/Security_Identifier), однако службы также могут иметь идентификаторы безопасности, которые именуются идентификаторами безопасности по службе.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-210">Every Windows account has an associated [SID](http://en.wikipedia.org/wiki/Security_Identifier), but services can also have SIDs, hence referred to as per-service SIDs.</span></span> <span data-ttu-id="ee7c0-211">Идентификатор безопасности по службе создается при установке экземпляра службы в качестве уникального постоянного оборудования службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-211">A per-service SID is created when the service instance is installed, as a unique, permanent fixture of the service.</span></span> <span data-ttu-id="ee7c0-212">Идентификатор безопасности по службе является локальным ИД безопасности на уровне компьютера, создаваемым от имени службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-212">The per-service SID is a local, machine-level SID generated from the service name.</span></span> <span data-ttu-id="ee7c0-213">Понятное имя экземпляра по умолчанию — NT SERVICE\MSSQLServerOLAPService.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-213">On a default instance, its user friendly name is NT SERVICE\MSSQLServerOLAPService.</span></span>  
  
 <span data-ttu-id="ee7c0-214">Преимуществом идентификатора безопасности конкретной службы является то, что он позволяет произвольным образом менять более широко видимую учетную запись входа, не затрагивая разрешений на файлы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-214">The benefit of a per-service SID is that it allows the more widely-visible logon account to be changed arbitrarily, without affecting file permissions.</span></span> <span data-ttu-id="ee7c0-215">Например, предположим, что вы установили два экземпляра служб Analysis Services, экземпляр по умолчанию и именованный экземпляр, при этом оба они работают под одной учетной записью Windows.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-215">For example, suppose you installed two instances of Analysis Services, a default instance and named instance, both running under the same Windows user account.</span></span> <span data-ttu-id="ee7c0-216">Хотя учетная запись входа является общей, каждый экземпляр службы будет иметь уникальный идентификатор безопасности по службе.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-216">While the logon account is shared, each service instance will have a unique per-service SID.</span></span> <span data-ttu-id="ee7c0-217">Этот идентификатор безопасности отличается от такового для учетной записи входа.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-217">This SID is distinct from the SID of the logon account.</span></span> <span data-ttu-id="ee7c0-218">Идентификатор безопасности конкретной службы используется для разрешений на файлы и привилегий Windows.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-218">The per-service SID is used for file permissions and Windows privileges.</span></span> <span data-ttu-id="ee7c0-219">В противоположность этому идентификатор безопасности учетной записи входа используется для сценариев проверки подлинности и авторизации — разные идентификаторы безопасности используются для разных целей.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-219">In contrast, the logon account SID is used for authentication and authorization scenarios ─ different SIDS, used for different purposes.</span></span>  
  
 <span data-ttu-id="ee7c0-220">Так как идентификатор безопасности службы является неизменным, файловая система ACLs, созданная в процессе установки службы, может неограниченно использоваться, несмотря на то, как часто вы меняете учетную запись службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-220">Because the SID is immutable, file system ACLs created during service installation can be used indefinitely, regardless of how often you change the service account.</span></span> <span data-ttu-id="ee7c0-221">В качестве дополнительной меры безопасности списки управления доступом, которые задают разрешения через идентификаторы безопасности, гарантируют, что исполняемые файлы и папки данных будут доступны только одному экземпляру службы, даже если под этой же учетной записью выполняются другие службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-221">As an added security measure, ACLs that specify permissions via a SID ensure that program executables and data folders are accessed only by a single instance of a service, even if other services run under the same account.</span></span>  
  
##  <a name="granting-additional-analysis-services-permissions-for-specific-server-operations"></a><a name="bkmk_tasks"></a><span data-ttu-id="ee7c0-222">Предоставление дополнительных разрешений Analysis Services для конкретных операций сервера</span><span class="sxs-lookup"><span data-stu-id="ee7c0-222">Granting additional Analysis Services permissions for specific server operations</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="ee7c0-223">выполняют одни задачи в контексте безопасности учетной записи службы (или входа), используемой для запуска служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], и другие задачи в контексте безопасности пользователя, который запрашивает выполнение задания.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-223">executes some tasks in the security context of the service account (or logon account) that is used to start [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and executes other tasks in the security context of the user who is requesting the task.</span></span>  
  
 <span data-ttu-id="ee7c0-224">В следующей таблице приведено описание дополнительных разрешений, необходимых для выполнения задач, исполняемых в качестве учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-224">The following table describes additional permissions required to support tasks executing as the service account.</span></span>  
  
|<span data-ttu-id="ee7c0-225">Операция сервера</span><span class="sxs-lookup"><span data-stu-id="ee7c0-225">Server Operation</span></span>|<span data-ttu-id="ee7c0-226">Рабочий элемент</span><span class="sxs-lookup"><span data-stu-id="ee7c0-226">Work Item</span></span>|<span data-ttu-id="ee7c0-227">Обоснование</span><span class="sxs-lookup"><span data-stu-id="ee7c0-227">Justification</span></span>|  
|----------------------|---------------|-------------------|  
|<span data-ttu-id="ee7c0-228">Удаленный доступ к реляционным внешним источникам данных</span><span class="sxs-lookup"><span data-stu-id="ee7c0-228">Remote access to external relational data sources</span></span>|<span data-ttu-id="ee7c0-229">Создание имени для входа в базу данных для учетной записи службы</span><span class="sxs-lookup"><span data-stu-id="ee7c0-229">Create a database login for the service account</span></span>|<span data-ttu-id="ee7c0-230">Под обработкой подразумевается получение данных из внешних источников (обычно из реляционной базы данных), которые затем загружается в базу данных [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-230">Processing refers to data retrieval from an external data source (usually a relational database), which is subsequently loaded into an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="ee7c0-231">Один из способов использования учетных данных для доступа к внешним данным является применение учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-231">One of the credential options for retrieving external data is to use the service account.</span></span> <span data-ttu-id="ee7c0-232">Этот вариант работает только в том случае, если вы создали имя входа в базу данных для учетной записи службы и предоставили разрешение на чтение в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-232">This credential option works only if you create a database login for the service account and grant read permissions on the source database.</span></span> <span data-ttu-id="ee7c0-233">Дополнительные сведения об использовании параметра учетной записи службы для выполнения этой задачи см. в разделе [Задание параметров олицетворения (службы SSAS — многомерные)](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-233">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="ee7c0-234">Аналогично, если в качестве режима хранения используется ROLAP, доступны такие же варианты применения олицетворения.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-234">Similarly, if ROLAP is used as the storage mode, the same impersonation options are available.</span></span> <span data-ttu-id="ee7c0-235">В этом случае учетная запись также должна иметь права на ведение записи в данных источника для обработки секций ROLAP (для сохранения агрегатов).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-235">In this case, the account must also have write access to the source data to process the ROLAP partitions (that is, to store aggregations).</span></span>|  
|<span data-ttu-id="ee7c0-236">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="ee7c0-236">DirectQuery</span></span>|<span data-ttu-id="ee7c0-237">Создание имени для входа в базу данных для учетной записи службы</span><span class="sxs-lookup"><span data-stu-id="ee7c0-237">Create a database login for the service account</span></span>|<span data-ttu-id="ee7c0-238">DirectQuery — это табличный компонент, используемый для запросов ко внешним наборам данных, которые либо слишком велики и не помещаются в табличную модель, либо имеют другие характеристики, делающие DirectQuery более удачным вариантом, чем используемое по умолчанию хранение в памяти.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-238">DirectQuery is a tabular feature used to query external datasets that are either too large to fit inside the tabular model or have other characteristics that make DirectQuery a better fit than the default in-memory storage option.</span></span> <span data-ttu-id="ee7c0-239">В режиме DirectQuery в качестве одного из вариантов соединения можно использовать учетную запись службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-239">One of the connection options available in DirectQuery mode is to use the service account.</span></span> <span data-ttu-id="ee7c0-240">Как и раньше, этот вариант работает только в том случае, если учетная запись имеет имя входа в базу данных и разрешения на чтение из целевого источника данных.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-240">Once again, this option works only when the service account has a database login and read permissions on the target data source.</span></span> <span data-ttu-id="ee7c0-241">Дополнительные сведения об использовании параметра учетной записи службы для выполнения этой задачи см. в разделе [Задание параметров олицетворения (службы SSAS — многомерные)](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-241">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="ee7c0-242">Кроме того, для получения данных могут использоваться учетные данные текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-242">Alternatively, the credentials of the current user can be used to retrieve data.</span></span> <span data-ttu-id="ee7c0-243">В большинстве случаев этот вариант означает применение соединения с двойным переходом, поэтому необходимо настроить учетную запись службы на использование ограниченного делегирования Kerberos, чтобы учетная запись службы могла делегировать идентификаторы принимающему серверу.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-243">In most cases this option entails a double-hop connection, so be sure to configure the service account for Kerberos constrained delegation so that the service account can delegate identities to a downstream server.</span></span> <span data-ttu-id="ee7c0-244">Дополнительные сведения см. в разделе [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-244">For more information, see [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span></span>|  
|<span data-ttu-id="ee7c0-245">Удаленный доступ к другим экземплярам служб SSAS</span><span class="sxs-lookup"><span data-stu-id="ee7c0-245">Remote access to other SSAS instances</span></span>|<span data-ttu-id="ee7c0-246">Добавьте учетную запись службы к ролям базы данных службы Analysis Services, определенных на удаленном сервере</span><span class="sxs-lookup"><span data-stu-id="ee7c0-246">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="ee7c0-247">Для работы с удаленными секциями и обращения к связанным объектам на других экземплярах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] требуются разрешения на удаленном компьютере или устройстве.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-247">Remote partitions and referencing linked objects on other remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instances are both system capabilities requiring permissions on a remote computer or device.</span></span> <span data-ttu-id="ee7c0-248">Если пользователь создает и заполняет удаленные секции или настраивает связанный объект, то подобные операции выполняются в контексте безопасности текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-248">When a person creates and populates remote partitions, or sets up a linked object, that operation runs in the security context of the current user.</span></span> <span data-ttu-id="ee7c0-249">Если последовательно автоматизировать эти операции, то при доступе к удаленным экземплярам служба [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] будет работать в контексте безопасности собственной учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-249">If you subsequently automate these operations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will access remote instances in the security context of its service account.</span></span> <span data-ttu-id="ee7c0-250">Для доступа к связанным объектам на удаленном экземпляре служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]эта учетная запись входа должна иметь разрешение на чтение соответствующих объектов на удаленном экземпляре, например доступ на чтение определенных измерений.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-250">In order to access linked objects on a remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the logon account must have permission to read the appropriate objects on the remote instance, such as Read access to certain dimensions.</span></span> <span data-ttu-id="ee7c0-251">Аналогично для использования удаленных секций учетная запись должна иметь права администратора на удаленном экземпляре.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-251">Similarly, using remote partitions requires that the service account have administrative rights on the remote instance.</span></span> <span data-ttu-id="ee7c0-252">Такие разрешения предоставляются на удаленном экземпляре служб Analysis Services с помощью ролей, которые связывают разрешенные операции с определенным объектом.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-252">Such permissions are granted on the remote Analysis Services instance, using roles that associate permitted operations with a specific object.</span></span> <span data-ttu-id="ee7c0-253">Инструкции о том, как предоставить разрешения полного доступа, которые позволяют выполнять операции и запросы, см. в разделе [Предоставление разрешений базы данных (службы Analysis Services)](../multidimensional-models/grant-database-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-253">See [Grant database permissions &#40;Analysis Services&#41;](../multidimensional-models/grant-database-permissions-analysis-services.md) for instructions on how to grant Full Control permissions that allow processing and query operations.</span></span> <span data-ttu-id="ee7c0-254">Дополнительные сведения об удаленных секциях см. в разделе [Создание удаленной секции и управление ей (Analysis Services)](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-254">See [Create and Manage a Remote Partition &#40;Analysis Services&#41;](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md) for more information about remote partitions.</span></span>|  
|<span data-ttu-id="ee7c0-255">Обратная запись</span><span class="sxs-lookup"><span data-stu-id="ee7c0-255">Writeback</span></span>|<span data-ttu-id="ee7c0-256">Добавьте учетную запись службы к ролям базы данных службы Analysis Services, определенных на удаленном сервере</span><span class="sxs-lookup"><span data-stu-id="ee7c0-256">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="ee7c0-257">Обратная запись — функция многомерных моделей, которая может быть включена в клиентских приложениях и которая позволяет создавать новые значения данных во время анализа.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-257">When enabled in client applications, writeback is a feature of multidimensional models that allows the creation of new data values during data analysis.</span></span> <span data-ttu-id="ee7c0-258">Если обратная запись разрешена во всех измерениях или кубах, то учетная запись служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должна иметь разрешения на запись в таблицу обратной записи в исходной реляционной базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-258">If writeback is enabled within any dimension or cube, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the writeback table in the source [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database.</span></span> <span data-ttu-id="ee7c0-259">Если эта таблица еще не существует и ее необходимо создать, то учетная запись службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должна обладать разрешениями для создания таблиц в указанной базе данных служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-259">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>|  
|<span data-ttu-id="ee7c0-260">Запись в таблицу журнала запросов в реляционной базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ee7c0-260">Write to a query log table in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database</span></span>|<span data-ttu-id="ee7c0-261">Создайте имя для входа в базу данных для учетной записи службы и назначьте разрешения на чтение для таблицы журнала запросов.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-261">Create a database login for the service account and assign write permissions on the query log table</span></span>|<span data-ttu-id="ee7c0-262">Можно включить функцию ведения журнала запросов для сбора сведений об использовании запросов в таблицу базы данных для последующего возможного анализа.</span><span class="sxs-lookup"><span data-stu-id="ee7c0-262">You can enable query logging to collect usage data in a database table for subsequent analysis.</span></span> <span data-ttu-id="ee7c0-263">Учетная запись службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должна иметь разрешения на запись в таблицу журнала запросов в указанной базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-263">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the query log table in the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="ee7c0-264">Если эта таблица еще не существует и ее необходимо создать, то учетная запись входа [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должна обладать разрешениями для создания таблиц в указанной базе данных служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ee7c0-264">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] logon account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="ee7c0-265">Дополнительные сведения см. в блогах [Improve SQL Server Analysis Services Performance with the Usage Based Optimization Wizard](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) (Улучшение производительности служб SQL Server Analysis Services с помощью мастера оптимизации с учетом использования служб) и [Query Logging in Analysis Servicess](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx)(Ведение журнала запросов в службах Analysis Services).</span><span class="sxs-lookup"><span data-stu-id="ee7c0-265">For more information, see [Improve SQL Server Analysis Services Performance with the Usage Based Optimization Wizard (Blog)](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) and [Query Logging in Analysis Services (Blog)](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="ee7c0-266">См. также:</span><span class="sxs-lookup"><span data-stu-id="ee7c0-266">See Also</span></span>  
 <span data-ttu-id="ee7c0-267">[Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span><span class="sxs-lookup"><span data-stu-id="ee7c0-267">[Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span></span>  
 <span data-ttu-id="ee7c0-268">[Учетная запись службы SQL Server и идентификатор безопасности службы (блог)](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span><span class="sxs-lookup"><span data-stu-id="ee7c0-268">[SQL Server Service Account and Per-Service SID (Blog)](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span></span>  
 <span data-ttu-id="ee7c0-269">[SQL Server использует идентификатор безопасности службы для обеспечения изоляции служб (статья базы знаний)](https://support.microsoft.com/kb/2620201) </span><span class="sxs-lookup"><span data-stu-id="ee7c0-269">[SQL Server uses a service SID to provide service isolation (KB Article)](https://support.microsoft.com/kb/2620201) </span></span>  
 <span data-ttu-id="ee7c0-270">[Маркер доступа (MSDN)](/windows/desktop/SecAuthZ/access-tokens) </span><span class="sxs-lookup"><span data-stu-id="ee7c0-270">[Access Token (MSDN)](/windows/desktop/SecAuthZ/access-tokens) </span></span>  
 <span data-ttu-id="ee7c0-271">[Идентификаторы безопасности (MSDN)](/windows/desktop/SecAuthZ/security-identifiers) </span><span class="sxs-lookup"><span data-stu-id="ee7c0-271">[Security Identifiers (MSDN)](/windows/desktop/SecAuthZ/security-identifiers) </span></span>  
 <span data-ttu-id="ee7c0-272">[Маркер доступа (Википедии)](http://en.wikipedia.org/wiki/Access_token) </span><span class="sxs-lookup"><span data-stu-id="ee7c0-272">[Access Token (Wikipedia)](http://en.wikipedia.org/wiki/Access_token) </span></span>  
 [<span data-ttu-id="ee7c0-273">Списки управления доступом (Википедия)</span><span class="sxs-lookup"><span data-stu-id="ee7c0-273">Access Control Lists (Wikipedia)</span></span>](http://en.wikipedia.org/wiki/Access_control_list)  
  
  

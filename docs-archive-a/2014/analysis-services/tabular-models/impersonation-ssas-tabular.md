---
title: Олицетворение (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: fcc79e96-182a-45e9-8ae2-aeb440e9bedd
author: minewiskan
ms.author: owend
ms.openlocfilehash: 9919c106d83e62ad02e49ca6cd21ed0e6197be8c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728829"
---
# <a name="impersonation-ssas-tabular"></a>Олицетворение (табличные службы SSAS)
  В этом разделе авторы табличных моделей узнают, каким образом учетные данные используются службами Analysis Services при подключении к источнику данных для импорта и обработки (обновления) данных.  
  
 В этом разделе содержатся следующие подразделы:  
  
-   [Преимущества](#bkmk_how_imper)  
  
-   [Параметры](#bkmk_imp_info_options)  
  
-   [Безопасность](#bkmk_impers_sec)  
  
-   [Олицетворение при импорте модели](#bkmk_imp_newmodel)  
  
-   [Настройка олицетворения](#bkmk_conf_imp_info)  
  
##  <a name="benefits"></a><a name="bkmk_how_imper"></a> Преимущества  
 *Олицетворение* — это способность серверного приложения, например служб Analysis Services, выступать от имени клиентского приложения. Службы Analysis Services работают под учетной записью службы, однако, когда сервер подключается к источнику данных, он использует олицетворение, что позволяет выполнить проверку доступа для импорта и обработки данных.  
  
 Учетные данные, используемые для олицетворения, отличаются от учетных данных пользователя, находящегося в системе в данный момент. Учетные данные пользователя, вошедшего в систему, используются для выполнения определенных операций на стороне клиента при создании модели.  
  
 Важно понимать, как задаются и защищаются учетные данные олицетворения, а также различия между контекстами, в которых используются учетные данные текущего пользователя, вошедшего в систему, и при использовании других учетных данных.  
  
 **Общее представление об учетных данных на стороне сервера**  
  
 В среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]учетные данные задаются для каждого источника данных на странице **Сведения об олицетворении** мастера импорта таблиц либо путем изменения существующего подключения к источнику данных в диалоговом окне **Существующие подключения** .  
  
 При импорте или обработке данных учетные данные, указанные на странице **Сведения об олицетворении** , служат для подключения к источнику данных и получения данных. Эта операция *на стороне сервера* выполняется в контексте клиентского приложения, поскольку сервер служб Analysis Services, на котором размещена база данных рабочей области, соединяется с источником данных и получает данные.  
  
 Если при развертывании модели на сервере служб Analysis Services база данных рабочей области находится в памяти, учетные данные передаются на сервер служб Analysis Services, на котором выполняется развертывание модели. Учетные данные пользователя никогда не сохраняются на диске.  
  
 Когда развернутая модель обрабатывает данные из источника данных, учетные данные олицетворения, которые сохраняются в базе данных, находящейся в памяти, служат для подключения к источнику данных и получения данных. Поскольку этот процесс обрабатывается сервером служб Analysis Services, управляющим шаблоном базы данных, эта операция также выполняется на стороне сервера.  
  
 **Общее представление об учетных данных на стороне клиента**  
  
 При создании новой модели или добавлении источника данных к существующей модели для подключения к источнику данных и выбора таблиц и представлений для импорта в модель используется мастер импорта таблиц. В мастере импорта таблиц в окне на странице **Выбор таблиц и представлений** с помощью функции **Просмотр и фильтр** можно просмотреть образец (ограниченный 50 строками) данных, которые будут импортированы. Также можно указать фильтры для исключения данных, которые не требуется включать в модель.  
  
 Аналогичным образом для существующих моделей, которые уже были созданы, в диалоговом коне **Изменение свойств таблицы** можно просматривать и фильтровать данные, импортируемые в таблицу. Функции предварительного просмотра и фильтрации здесь используют ту технологию, на основе которой работает функция **Просмотр и фильтр** на странице **Выбор таблиц и представлений** мастера импорта таблиц.  
  
 Функция **Просмотр и фильтр** , диалоговые окна **Свойства таблицы** и **Диспетчер секций** являются внутрипроцессными операциями *на стороне клиента* , то есть они отличаются от операций на стороне сервера, в рамках которых происходит подключение к источнику данных и получение из него данных. Для просмотра и фильтрации данных используются учетные данные пользователя, находящегося в системе в данный момент. Операции на стороне клиента всегда используют учетные данные Windows текущего пользователя для подключения к источнику данных.  
  
 Такое разделение учетных данных для выполнения операций на стороне клиента и на стороне сервера может привести к несоответствию того, что пользователь видит при использовании функции **Просмотр и фильтрация** или в диалоговом окне **Свойства таблицы** (операции на стороне клиента), и данных, полученных в результате импорта или обработки (операции на стороне сервера). Если учетные данные пользователя, вошедшего в систему, и указанные учетные данные олицетворения различаются, то данные, отображаемые функцией **Просмотр и фильтр** или в диалоговом окне **Свойства таблицы** , и данные, полученные в результате импорта или обработки, могут оказаться различными, в зависимости от того, какие учетные данные были запрошены источником данных.  
  
> [!IMPORTANT]  
>  При создании модели необходимо предоставить учетным данным пользователя, вошедшего в систему, и учетным данным, заданным для олицетворения, достаточные права для получения данных из источника данных.  
  
##  <a name="options"></a><a name="bkmk_imp_info_options"></a>Параметры  
 При настройке олицетворения или при изменении свойств для существующего подключения к источнику данных в службах Analysis Services можно указать один из следующих параметров.  
  
|Параметр|ImpersonationMode<sup>1</sup>|Описание|  
|------------|-----------------------------------|-----------------|  
|**Конкретное имя пользователя Windows и пароль** <sup>2</sup>|ImpersonateWindowsUserAccount|Этот параметр указывает, что модель будет использовать учетную запись пользователя Windows для импорта или обработки данных из источника данных. Домен и имя учетной записи пользователя используют следующий формат:** \<Domain name> \\<имя \> учетной записи пользователя**. При создании новой модели с помощью мастера импорта таблиц это значение установлено по умолчанию.|  
|**Учетная запись службы**|ImpersonateServiceAccount|Этот параметр указывает модели использовать учетные данные безопасности, связанные с экземпляром служб Analysis Services, управляющим моделью.|  
  
 <sup>1</sup> ImpersonationMode задает значение для [элемента DataSourceImpersonationInfo &#40;свойство ASSL&#41;](https://docs.microsoft.com/bi-reference/assl/properties/impersonationinfo-element-assl) в источнике данных.  
  
 <sup>2</sup> Если при использовании этого параметра база данных рабочей области удаляется из памяти из-за перезагрузки или если для свойства **Сохранение рабочей области** задано значение **выгрузить из памяти** или **удалить из рабочей области**, а проект модели закрыт, в следующем сеансе при попытке обработать данные таблицы вам будет предложено ввести учетные данные для каждого источника данных. Аналогичным образом, если база данных развернутой модели удаляется из памяти, система попросит указать учетные данные для каждого источника данных.  
  
##  <a name="security"></a><a name="bkmk_impers_sec"></a> безопасность  
 Учетные данные, используемые для олицетворения, сохраняются в памяти подсистемой аналитики в памяти xVelocity (VertiPaq)™, связанной с сервером служб Analysis Services, который управляет базой данных рабочей области или развернутой моделью.  Учетные данные никогда не записываются на диск. Если при развертывании модели база данных рабочей области не находится в памяти, система попросит пользователя ввести учетные данные, используемые для подключения к источнику данных и получения данных.  
  
> [!NOTE]  
>  В качестве учетных данных для олицетворения рекомендуется указать учетную запись и пароль пользователя Windows. Учетной записи пользователя Windows можно предоставить наименьшие права доступа, обеспечивающие соединение с источником данных и чтение данных из него.  
  
##  <a name="impersonation-when-importing-a-model"></a><a name="bkmk_imp_newmodel"></a>Олицетворение при импорте модели  
 В отличие от табличных моделей, где может использоваться несколько разных режимов олицетворения для поддержки внепроцессорного сбора данных, PowerPivot использует только один режим — ImpersonateCurrentUser. Поскольку PowerPivot всегда выполняется в процессе, он соединяется с источниками данных, используя учетные данные пользователя, находящегося в системе. При работе с табличными моделями учетные данные пользователя, вошедшего в систему, используются только с функцией **Просмотр и фильтр** из мастера импорта таблиц, а также в диалоговом окне **Свойства таблицы**. Учетные данные олицетворения используются при импорте и обработке данных в базе данных рабочей области либо при импорте или обработке данных в базе данных развернутой модели.  
  
 При создании новой модели путем импорта существующей книги PowerPivot конструктор моделей по умолчанию настраивает олицетворение для использования учетной записи службы (ImpersonateServiceAccount). Рекомендуется изменить учетные данные олицетворения в моделях, импортированных из PowerPivot, на учетную запись пользователя Windows. После импорта книги PowerPivot и создания новой модели в конструкторе моделей можно изменить учетные данные с помощью диалогового окна **существующие соединения** .  
  
 При создании новой модели путем импорта из существующей модели на сервер служб Analysis Services учетные данные олицетворения передается из базы данных существующей модели в базу данных рабочей области новой модели. При необходимости учетные данные для новой модели можно изменить с помощью диалогового окна **Существующие подключения** .  
  
##  <a name="configuring-impersonation"></a><a name="bkmk_conf_imp_info"></a>Настройка олицетворения  
 Расположение и контекст модели определяет порядок настройки сведений об олицетворении. Для моделей, создаваемых в среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], сведения об олицетворении можно настроить на странице **Сведения об олицетворении** мастера импорта таблиц либо путем изменения подключения к источнику данных в диалоговом окне **Существующие подключения** . Чтобы просмотреть существующие подключения в среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], в меню **Модель** выберите пункт **Существующие подключения**.  
  
 Для моделей, развернутых на сервере Analysis Services, сведения об олицетворении можно настроить, нажав кнопку с многоточием (...) в свойстве **сведения об олицетворении источника данных** в диалоговом окне **Свойства базы данных** в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .  
  
## <a name="see-also"></a>См. также:  
 [Режим DirectQuery &#40;табличные&#41;SSAS](directquery-mode-ssas-tabular.md)   
 [Источники данных &#40;табличные&#41;SSAS](../data-sources-ssas-tabular.md)   
 [Развертывание решений табличной модели (табличные службы SSAS)](tabular-model-solution-deployment-ssas-tabular.md)  
  
  

---
title: Иерархии (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e3e50e89-f85d-485b-a271-1e0550520212
author: minewiskan
ms.author: owend
ms.openlocfilehash: a50b014dd6096b0bfa66ff34389789fcd34efdae
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728830"
---
# <a name="hierarchies-ssas-tabular"></a><span data-ttu-id="e8ae8-102">Иерархии (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="e8ae8-102">Hierarchies (SSAS Tabular)</span></span>
  <span data-ttu-id="e8ae8-103">В табличных моделях иерархии это метаданные, определяющие отношения между двумя или более столбцами в таблице.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-103">Hierarchies, in tabular models, are metadata that define relationships between two or more columns in a table.</span></span> <span data-ttu-id="e8ae8-104">В списке полей клиентского средства создания отчетов иерархии могут отображаться отдельно от других столбцов, что упрощает переход по иерархиям и их включение в отчет для пользователей клиента.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-104">Hierarchies can appear separate from other columns in a reporting client field list, making them easier for client users to navigate and include in a report.</span></span>  
  
 <span data-ttu-id="e8ae8-105">Разделы данной темы:</span><span class="sxs-lookup"><span data-stu-id="e8ae8-105">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="e8ae8-106">Преимущества</span><span class="sxs-lookup"><span data-stu-id="e8ae8-106">Benefits</span></span>](#bkmk_benefits)  
  
-   [<span data-ttu-id="e8ae8-107">Определение иерархий</span><span class="sxs-lookup"><span data-stu-id="e8ae8-107">Defining Hierarchies</span></span>](#bkmk_define)  
  
-   [<span data-ttu-id="e8ae8-108">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="e8ae8-108">Related Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits"></a><a name="bkmk_benefits"></a> <span data-ttu-id="e8ae8-109">Преимущества</span><span class="sxs-lookup"><span data-stu-id="e8ae8-109">Benefits</span></span>  
 <span data-ttu-id="e8ae8-110">Таблица может содержать десятки и даже сотни столбцов, имеющих нестандартные имена и расположенных неупорядоченно.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-110">Tables can include dozens or even hundreds of columns with unusual column names in no apparent order.</span></span> <span data-ttu-id="e8ae8-111">Из-за этого в списках полей клиентского средства создания отчетов данные могут отображаться неупорядоченно, что осложняет пользователю поиск нужных данных для включения в отчет.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-111">This can lead to an unordered appearance in reporting client field lists, making it difficult for users to find and include data in a report.</span></span> <span data-ttu-id="e8ae8-112">Иерархии предоставляют упрощенное и наглядное представление структуры данных, которая без их использования видится очень сложной.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-112">Hierarchies can provide a simple, intuitive view of an otherwise complex data structure.</span></span>  
  
 <span data-ttu-id="e8ae8-113">Например, в таблице даты можно создать иерархию «Календарь».</span><span class="sxs-lookup"><span data-stu-id="e8ae8-113">For example, in a Date table, you can create a Calendar hierarchy.</span></span> <span data-ttu-id="e8ae8-114">Узлом высшего уровня будет «Календарный год», а его дочерними узлами станут «Месяц», «Неделя» и «День» (Календарный год->Месяц->Неделя->День).</span><span class="sxs-lookup"><span data-stu-id="e8ae8-114">Calendar Year is used as the top-most parent level, with Month, Week, and Day included as child levels (Calendar Year->Month->Week->Day).</span></span> <span data-ttu-id="e8ae8-115">Эта иерархия представляет логическое взаимоотношение между объектами от календарного года и до дня.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-115">This hierarchy shows a logical relationship from Calendar Year to Day.</span></span> <span data-ttu-id="e8ae8-116">Пользователь клиента может выбрать «Календарный год» в списке полей, чтобы включить в сводную таблицу все уровни или раскрыть иерархию и выбрать для включения в сводную таблицу только определенные уровни.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-116">A client user can then select Calendar Year from a Field List to include all levels in a PivotTable, or expand the hierarchy, and select only particular levels to be included in the PivotTable.</span></span>  
  
 <span data-ttu-id="e8ae8-117">Поскольку каждый уровень иерархии является представлением столбца таблицы, уровень можно переименовать.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-117">Because each level in a hierarchy is a representation of a column in a table, the level can be renamed.</span></span> <span data-ttu-id="e8ae8-118">Хотя это не является монопольной особенностью иерархий (в табличной модели можно переименовать любой столбец), с помощью переименования уровней иерархии можно упростить поиск уровней для включения в отчет.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-118">While not exclusive to hierarchies (any column can be renamed in a tabular model), renaming hierarchy levels can make it easier for users to find and include levels in a report.</span></span> <span data-ttu-id="e8ae8-119">При переименовании уровня столбец, на который он ссылается, не переименовывается. Это просто позволяет сделать уровень более наглядным.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-119">Renaming a level does not rename the column it references; it simply makes the level more identifiable.</span></span> <span data-ttu-id="e8ae8-120">Например, в иерархии "Календарный год" следующие столбцы из таблицы "Дата" в представлении данных: CalendarYear, CalendarMonth, CalendarWeek и CalendarDay — были переименованы в "Календарный год", "Месяц", "Неделя" и "День", чтобы сделать их названия более понятными.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-120">In our Calendar Year hierarchy example, in the Date table in Data View, the columns: CalendarYear, CalendarMonth, CalendarWeek, and CalendarDay were renamed to Calendar Year, Month, Week, and Day to make them more easily identifiable.</span></span> <span data-ttu-id="e8ae8-121">Переименование уровней также позволяет обеспечить согласованность в отчетах, поскольку вероятность того, что пользователям придется изменять имена столбцов, чтобы сделать данные из них, отображаемые в сводных таблицах, на диаграммах и т. д., более наглядными, намного меньше.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-121">Renaming levels has the additional benefit of providing consistency in reports, since users will less likely need to change column names to make them more readable in PivotTables, charts, etc.</span></span>  
  
 <span data-ttu-id="e8ae8-122">Иерархии могут включаться в перспективы.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-122">Hierarchies can be included in perspectives.</span></span> <span data-ttu-id="e8ae8-123">Перспективы определяют просматриваемые подмножества модели, реализующие точки наблюдения модели, которые сосредоточены на определенном аспекте либо предназначены для конкретных деловых целей или использования в конкретном приложении.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-123">Perspectives define viewable subsets of a model that provide focused, business-specific, or application-specific viewpoints of the model.</span></span> <span data-ttu-id="e8ae8-124">Например, перспектива может предоставлять пользователю список для просмотра (иерархию) лишь тех элементов данных, которые требуются для создания необходимых этому пользователю отчетов.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-124">A perspective, for example, could provide users a viewable list (hierarchy) of only those data items necessary for their specific reporting requirements.</span></span> <span data-ttu-id="e8ae8-125">Дополнительные сведения см. в разделе [Перспективы (табличные службы SSAS)](perspectives-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae8-125">For more information, see [Perspectives &#40;SSAS Tabular&#41;](perspectives-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="e8ae8-126">Иерархии не предназначены для использования в качестве механизма обеспечения безопасности, они применяются только как средство улучшения качества работы пользователя.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-126">Hierarchies are not meant to be used as a security mechanism, but as a tool for providing a better user experience.</span></span> <span data-ttu-id="e8ae8-127">Все параметры безопасности иерархии наследуются из базовой модели.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-127">All security for a particular hierarchy is inherited from the underlying model.</span></span> <span data-ttu-id="e8ae8-128">Иерархии не могут обеспечить доступ к объектам модели, к которым пользователь не имеет доступа.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-128">Hierarchies cannot provide access to model objects to which a user does not already have access.</span></span> <span data-ttu-id="e8ae8-129">Безопасность для базы данных модели должна быть разрешена, прежде чем будет предоставлен доступ к объектам в модели через иерархию.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-129">Security for the model database must be resolved before access to objects in the model can be provided through a hierarchy.</span></span> <span data-ttu-id="e8ae8-130">Для защиты данных и метаданных модели можно использовать роли безопасности.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-130">Security roles can be used to secure model metadata and data.</span></span> <span data-ttu-id="e8ae8-131">Дополнительные сведения см. в разделе [Роли (табличные службы SSAS)](roles-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae8-131">For more information, see [Roles &#40;SSAS Tabular&#41;](roles-ssas-tabular.md).</span></span>  
  
##  <a name="defining-hierarchies"></a><a name="bkmk_define"></a><span data-ttu-id="e8ae8-132">Определение иерархий</span><span class="sxs-lookup"><span data-stu-id="e8ae8-132">Defining Hierarchies</span></span>  
 <span data-ttu-id="e8ae8-133">Создавать иерархии и управлять ими можно с помощью конструктора моделей в представлении диаграммы.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-133">You create and manage hierarchies by using the model designer in Diagram View.</span></span> <span data-ttu-id="e8ae8-134">Создание иерархий и управление ими с помощью конструктора моделей в представлении данных не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-134">Creating and managing hierarchies is not supported in the model designer in Data View.</span></span> <span data-ttu-id="e8ae8-135">Для просмотра представления диаграммы в конструкторе моделей откройте меню **Модель** , выберите пункт **Представление модели**, а затем пункт **Представление диаграммы**.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-135">To view the model designer in Diagram View, click the **Model** menu, then point to **Model View**, and then click **Diagram View**.</span></span>  
  
 <span data-ttu-id="e8ae8-136">Чтобы создать иерархию, щелкните правой кнопкой мыши столбец, который требуется указать в качестве родительского уровня, и выберите команду **Создать иерархию**.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-136">To create a hierarchy, right-click a column you want to specify as the parent level, and then click **Create Hierarchy**.</span></span> <span data-ttu-id="e8ae8-137">Для включения в иерархию одновременно можно выбрать любое количество столбцов (в одной таблице), либо столбцы можно будет добавлять в дальнейшем в качестве дочерних уровней путем их перетаскивания на родительский уровень.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-137">You can multi-select any number of columns (within a single table) to include, or you can later add columns as child levels by clicking and dragging columns to the parent level.</span></span> <span data-ttu-id="e8ae8-138">Если выбрано несколько столбцов, они автоматически размещаются в порядке, основанном на количестве элементов.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-138">When multiple columns are selected, columns are automatically placed in an order based on cardinality.</span></span> <span data-ttu-id="e8ae8-139">Изменить порядок можно путем перетаскивания столбца (уровня) в другое расположение либо с помощью команд «Вверх» и «Вниз» контекстного меню.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-139">You can change the order by clicking and dragging a column (level) to a different order or by using Up and Down navigation controls on the context menu.</span></span> <span data-ttu-id="e8ae8-140">При добавлении столбца в качестве дочернего уровня можно использовать автоматическое определение. Для этого столбец следует перетащить на родительский уровень.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-140">When adding a column as a child level, you can use auto-detect by dragging and dropping the column onto the parent level.</span></span>  
  
 <span data-ttu-id="e8ae8-141">Столбец может использоваться в нескольких иерархиях.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-141">A column can appear in more than one hierarchy.</span></span> <span data-ttu-id="e8ae8-142">Иерархии могут содержать только столбцы. В них нельзя включить объекты других типов (такие как меры или ключевые показатели эффективности).</span><span class="sxs-lookup"><span data-stu-id="e8ae8-142">Hierarchies cannot include non-column objects such as measures or KPIs.</span></span> <span data-ttu-id="e8ae8-143">Иерархия может быть основана на столбцах только из одной таблицы.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-143">A hierarchy can be based on columns from within a single table only.</span></span> <span data-ttu-id="e8ae8-144">Если вместе с одним или более столбцами выбрано несколько мер или столбцы из нескольких таблиц, команда **Создать иерархию** в контекстном меню будет недоступна.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-144">If you multi-select a measure along with one or more columns, or if you select columns from multiple tables, the **Create Hierarchy** command is disabled in the context menu.</span></span> <span data-ttu-id="e8ae8-145">Чтобы добавить столбец из другой таблицы, воспользуйтесь функцией DAX RELATED для добавления вычисляемого столбца, который ссылается на столбец из связанной таблицы.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-145">To add a column from a different table, use the RELATED DAX function to add a calculated column that references the column from the related table.</span></span> <span data-ttu-id="e8ae8-146">В этой функции применяется следующий синтаксис: `=RELATED(TableName[ColumnName])`</span><span class="sxs-lookup"><span data-stu-id="e8ae8-146">The function uses the following syntax: `=RELATED(TableName[ColumnName])`.</span></span> <span data-ttu-id="e8ae8-147">Дополнительные сведения о функциях см. в разделе «Функция RELATED».</span><span class="sxs-lookup"><span data-stu-id="e8ae8-147">For more information, see RELATED Function.</span></span>  
  
 <span data-ttu-id="e8ae8-148">По умолчанию новым иерархиям присваивается имя «иерархия1», «иерархия2» и т. д. Необходимо переименовывать иерархии с учетом характера связи «родители-потомки», чтобы они были более наглядными для пользователей.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-148">By default, new hierarchies are named hierarchy1, hierarchy 2, etc. You should change hierarchy names to reflect the nature of the parent-child relationship, making them more identifiable to users.</span></span>  
  
 <span data-ttu-id="e8ae8-149">После создания иерархии ее эффективность можно проверить с помощью функции «Анализировать в Excel».</span><span class="sxs-lookup"><span data-stu-id="e8ae8-149">After you have created hierarchies, you can test their efficacy by using the Analyze in Excel feature.</span></span> <span data-ttu-id="e8ae8-150">Дополнительные сведения см. далее в подразделе [Анализ в Excel (табличные службы SSAS)](analyze-in-excel-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="e8ae8-150">For more information, see [Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_related_tasks"></a> <span data-ttu-id="e8ae8-151">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="e8ae8-151">Related Tasks</span></span>  
  
|<span data-ttu-id="e8ae8-152">Задача</span><span class="sxs-lookup"><span data-stu-id="e8ae8-152">Task</span></span>|<span data-ttu-id="e8ae8-153">Описание</span><span class="sxs-lookup"><span data-stu-id="e8ae8-153">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="e8ae8-154">Создание иерархий и управление ими (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="e8ae8-154">Create and Manage Hierarchies &#40;SSAS Tabular&#41;</span></span>](hierarchies-ssas-tabular.md)|<span data-ttu-id="e8ae8-155">Описание создания иерархий и управления ими с помощью конструктора моделей в представлении диаграммы.</span><span class="sxs-lookup"><span data-stu-id="e8ae8-155">Describes how to create and manage hierarchies by using the model designer in Diagram View.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e8ae8-156">См. также:</span><span class="sxs-lookup"><span data-stu-id="e8ae8-156">See Also</span></span>  
 <span data-ttu-id="e8ae8-157">[Конструктор табличных моделей &#40;табличные&#41;SSAS](../tabular-model-designer-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="e8ae8-157">[Tabular Model Designer &#40;SSAS Tabular&#41;](../tabular-model-designer-ssas-tabular.md) </span></span>  
 <span data-ttu-id="e8ae8-158">[Перспективы &#40;табличные&#41;SSAS](perspectives-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="e8ae8-158">[Perspectives &#40;SSAS Tabular&#41;](perspectives-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="e8ae8-159">Роли (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="e8ae8-159">Roles &#40;SSAS Tabular&#41;</span></span>](roles-ssas-tabular.md)  
  
  

---
title: Роли (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e547382a-c064-4bc6-818c-5127890af334
author: minewiskan
ms.author: owend
ms.openlocfilehash: 0293bf6d9ac4ee71df34ece92672311ca9f90436
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87727369"
---
# <a name="roles-ssas-tabular"></a><span data-ttu-id="741a5-102">Роли (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="741a5-102">Roles (SSAS Tabular)</span></span>
  <span data-ttu-id="741a5-103">В табличной модели роли определяют разрешения члена для модели.</span><span class="sxs-lookup"><span data-stu-id="741a5-103">Roles, in tabular models, define member permissions for a model.</span></span> <span data-ttu-id="741a5-104">В каждой роли имеются члены, различаемые по имени пользователя или группе Windows, а также разрешениям (чтение, обработка, администрирование).</span><span class="sxs-lookup"><span data-stu-id="741a5-104">Each role contains members, by Windows username or by Windows group, and permissions (read, process, administrator).</span></span> <span data-ttu-id="741a5-105">Члены роли могут выполнять с моделью действия, заданные в разрешении роли.</span><span class="sxs-lookup"><span data-stu-id="741a5-105">Members of the role can perform actions on the model as defined by the role permission.</span></span> <span data-ttu-id="741a5-106">Роли, которым заданы разрешения на чтение, также могут обеспечивать дополнительную защиту на уровне строк с помощью фильтров уровня строк.</span><span class="sxs-lookup"><span data-stu-id="741a5-106">Roles defined with read permissions can also provide additional security at the row-level by using row-level filters.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="741a5-107">Чтобы пользователь мог подключиться к развернутой модели с помощью клиентского приложения для создания отчетов или анализа данных, необходимо создать хотя бы одну роль с разрешением на чтение, членом которой должен быть этот пользователь.</span><span class="sxs-lookup"><span data-stu-id="741a5-107">In-order for users to connect to a deployed model by using a reporting or data analysis client application, you must create at least one role with at least Read permission to which those users are members.</span></span>  
  
 <span data-ttu-id="741a5-108">Сведения в этом разделе предназначены для создателей табличных моделей, определяющих роли с помощью диалогового окна «Диспетчер моделей» в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="741a5-108">Information in this topic is meant for tabular model authors who define roles by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="741a5-109">Роли, определенные при создании модели, применяются к базе данных рабочей области модели.</span><span class="sxs-lookup"><span data-stu-id="741a5-109">Roles defined during model authoring apply to the model workspace database.</span></span> <span data-ttu-id="741a5-110">После развертывания базы данных модели администраторы этой базы данных могут управлять (добавлять, изменять, удалять) членами роли с помощью среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="741a5-110">After a model database has been deployed, model database administrators can manage (add, edit, delete) role members using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="741a5-111">Сведения об управлении членами ролей в развернутой базе данных модели см. в разделе [Роли табличных моделей (табличные службы SSAS)](tabular-model-roles-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="741a5-111">To learn about managing members of roles in a deployed database, see [Tabular Model Roles &#40;SSAS Tabular&#41;](tabular-model-roles-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="741a5-112">Раздел [Табличное моделирование (учебник по Adventure Works)](../tabular-modeling-adventure-works-tutorial.md) содержит дополнительные сведения об использовании этой функции и обучающие материалы.</span><span class="sxs-lookup"><span data-stu-id="741a5-112">The [Tabular Modeling &#40;Adventure Works Tutorial&#41;](../tabular-modeling-adventure-works-tutorial.md) includes additional information and lessons on how to use this feature.</span></span>  
  
 <span data-ttu-id="741a5-113">Разделы данной темы:</span><span class="sxs-lookup"><span data-stu-id="741a5-113">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="741a5-114">Основные сведения о ролях</span><span class="sxs-lookup"><span data-stu-id="741a5-114">Understanding Roles</span></span>](#bkmk_underst)  
  
-   [<span data-ttu-id="741a5-115">Разрешения</span><span class="sxs-lookup"><span data-stu-id="741a5-115">Permissions</span></span>](#bkmk_permissions)  
  
-   [<span data-ttu-id="741a5-116">Фильтры строк</span><span class="sxs-lookup"><span data-stu-id="741a5-116">Row Filters</span></span>](#bkmk_rowfliters)  
  
-   [<span data-ttu-id="741a5-117">Проверка ролей</span><span class="sxs-lookup"><span data-stu-id="741a5-117">Testing Roles</span></span>](#bkmk_testroles)  
  
-   [<span data-ttu-id="741a5-118">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="741a5-118">Related Tasks</span></span>](#bkmk_rt)  
  
##  <a name="understanding-roles"></a><a name="bkmk_underst"></a><span data-ttu-id="741a5-119">Основные сведения о ролях</span><span class="sxs-lookup"><span data-stu-id="741a5-119">Understanding Roles</span></span>  
 <span data-ttu-id="741a5-120">Роли используются в [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] для управления безопасностью [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и данными.</span><span class="sxs-lookup"><span data-stu-id="741a5-120">Roles are used in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to manage security for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and data.</span></span> <span data-ttu-id="741a5-121">В службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]существует два типа ролей.</span><span class="sxs-lookup"><span data-stu-id="741a5-121">There are two types of roles in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="741a5-122">Роль сервера — фиксированная роль, предоставляющая права администратора для доступа к экземпляру служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="741a5-122">The server role, a fixed role that provides administrator access to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="741a5-123">Роли базы данных — роли, определенные авторами моделей и администраторами для контроля доступа к шаблонам базы данных и данным пользователями, которые не являются администраторами.</span><span class="sxs-lookup"><span data-stu-id="741a5-123">Database roles, roles defined by model authors and administrators to control access to a model database and data for non-administrator users.</span></span>  
  
 <span data-ttu-id="741a5-124">Роли, определенные для табличной модели, являются ролями базы данных.</span><span class="sxs-lookup"><span data-stu-id="741a5-124">Roles defined for a tabular model are database roles.</span></span> <span data-ttu-id="741a5-125">Иными словами, членами этих ролей являются пользователи и группы Windows, обладающие определенными разрешениями. Эти разрешения определяют действия, которые члены ролей могут совершать в шаблоне базы данных.</span><span class="sxs-lookup"><span data-stu-id="741a5-125">That is, the roles contain members consisting of Windows users or groups that have specific permissions that define the action those members can take on the model database.</span></span> <span data-ttu-id="741a5-126">Роль базы данных создается как отдельный объект в базе данных и применяется только к базе данных, в которой она создана.</span><span class="sxs-lookup"><span data-stu-id="741a5-126">A database role is created as a separate object in the database, and applies only to the database in which that role is created.</span></span> <span data-ttu-id="741a5-127">Пользователи и/или группы Windows включаются в роль автором модели, который по умолчанию обладает разрешениями администратора на сервере базы данных рабочей области (или администратором, если речь идет о развернутой модели).</span><span class="sxs-lookup"><span data-stu-id="741a5-127">Windows users and/or Windows groups are included in the role by the model author, which, by default, has Administrator permissions on the workspace database server; for a deployed model, by an administrator.</span></span>  
  
 <span data-ttu-id="741a5-128">В табличных моделях роли можно детализировать с помощью фильтров строк.</span><span class="sxs-lookup"><span data-stu-id="741a5-128">Roles in tabular models can be further defined with row filters.</span></span> <span data-ttu-id="741a5-129">Фильтры строк используют выражения DAX для определения строк в таблице и любых строк на стороне связи «многие», которые может просматривать пользователь.</span><span class="sxs-lookup"><span data-stu-id="741a5-129">Row filters use DAX expressions to define the rows in a table, and any related rows in the many direction, that a user can query.</span></span> <span data-ttu-id="741a5-130">Фильтры строк, в которых используются выражения DAX, могут быть определены только для разрешений на чтение, чтение и обработку.</span><span class="sxs-lookup"><span data-stu-id="741a5-130">Row filters using DAX expressions can only be defined for the Read and Read and Process permissions.</span></span> <span data-ttu-id="741a5-131">Дополнительные сведения см. в подразделе [фильтры строк](#bkmk_rowfliters) далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="741a5-131">For more information, see [Row Filters](#bkmk_rowfliters) later in this topic.</span></span>  
  
 <span data-ttu-id="741a5-132">По умолчанию при создании нового проекта табличной модели в нем нет никаких ролей.</span><span class="sxs-lookup"><span data-stu-id="741a5-132">By default, when you create a new tabular model project, the model project does not have any roles.</span></span> <span data-ttu-id="741a5-133">Роли можно определять с помощью диалогового окна «Диспетчер ролей» в среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="741a5-133">Roles can be defined by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="741a5-134">При определении ролей во время создания модели они применяются к базе данных рабочей области модели.</span><span class="sxs-lookup"><span data-stu-id="741a5-134">When roles are defined during model authoring, they are applied to the model workspace database.</span></span> <span data-ttu-id="741a5-135">Когда модель развернута, те же роли применяются к развернутой модели.</span><span class="sxs-lookup"><span data-stu-id="741a5-135">When the model is deployed, the same roles are applied to the deployed model.</span></span> <span data-ttu-id="741a5-136">После развертывания модели члены роли сервера (администратор служб[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ) и администраторы базы данных с помощью среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]могут управлять ролями, связанными в этой моделью, а также членами, связанными с каждой ролью.</span><span class="sxs-lookup"><span data-stu-id="741a5-136">After a model has been deployed, members of the server role ([!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Administrator) and database administrators can manage the roles associated with the model and the members associated with each role by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="741a5-137">В ролях, определенных для модели в режиме DirectQuery, нельзя использовать фильтры строк, однако определенные для каждой роли разрешения продолжают действовать.</span><span class="sxs-lookup"><span data-stu-id="741a5-137">Roles defined for a model configured for DirectQuery mode cannot use row filters, however, permissions defined for each role will apply.</span></span>  
  
##  <a name="permissions"></a><a name="bkmk_permissions"></a> <span data-ttu-id="741a5-138">Permissions</span><span class="sxs-lookup"><span data-stu-id="741a5-138">Permissions</span></span>  
 <span data-ttu-id="741a5-139">Каждая роль определяет одно разрешение для базы данных (за исключением объединенного разрешения на чтение и обработку).</span><span class="sxs-lookup"><span data-stu-id="741a5-139">Each role has a single defined database permission (except for the combined Read and Process permission).</span></span> <span data-ttu-id="741a5-140">По умолчанию новая роль имеет разрешение «Нет».</span><span class="sxs-lookup"><span data-stu-id="741a5-140">By default, a new role will have the None permission.</span></span> <span data-ttu-id="741a5-141">То есть члены этой роли, добавленные с разрешением «Нет», не смогут изменять базу данных, выполнять операции по обработке, запрашивать данные и даже видеть базу данных, пока им не будет предоставлено другое разрешение.</span><span class="sxs-lookup"><span data-stu-id="741a5-141">That is, once members are added to the role with the None permission, they cannot modify the database, run a process operation, query data, or see the database unless a different permission is granted.</span></span>  
  
 <span data-ttu-id="741a5-142">Пользователь или группа Windows может быть членом любого числа ролей, при этом каждая роль может обладать разными разрешениями.</span><span class="sxs-lookup"><span data-stu-id="741a5-142">A Windows group or user can be a member of any number of roles, each role with a different permission.</span></span> <span data-ttu-id="741a5-143">Когда пользователь является членом нескольких ролей, он обладает всеми разрешениями, определенными для каждой из них.</span><span class="sxs-lookup"><span data-stu-id="741a5-143">When a user is a member of multiple roles, the permissions defined for each role are cumulative.</span></span> <span data-ttu-id="741a5-144">Например, если пользователь является членом роли с разрешением на чтение, а также роли с разрешением «Нет», этот пользователь будет обладать разрешением на чтение.</span><span class="sxs-lookup"><span data-stu-id="741a5-144">For example, if a user is a member of a role with the Read permission, and also a member of a role with None permission, that user will have Read permissions.</span></span>  
  
 <span data-ttu-id="741a5-145">Каждой роли можно назначить одно из следующих разрешений.</span><span class="sxs-lookup"><span data-stu-id="741a5-145">Each role can have one the following permissions defined:</span></span>  
  
|<span data-ttu-id="741a5-146">Разрешения</span><span class="sxs-lookup"><span data-stu-id="741a5-146">Permissions</span></span>|<span data-ttu-id="741a5-147">Описание</span><span class="sxs-lookup"><span data-stu-id="741a5-147">Description</span></span>|<span data-ttu-id="741a5-148">Фильтры строк с DAX</span><span class="sxs-lookup"><span data-stu-id="741a5-148">Row  filters using DAX</span></span>|  
|-----------------|-----------------|----------------------------|  
|<span data-ttu-id="741a5-149">Нет</span><span class="sxs-lookup"><span data-stu-id="741a5-149">None</span></span>|<span data-ttu-id="741a5-150">Члены не могут вносить изменения в схему шаблона базы данных, а также просматривать данные.</span><span class="sxs-lookup"><span data-stu-id="741a5-150">Members cannot make any modifications to the model database schema and cannot query data.</span></span>|<span data-ttu-id="741a5-151">Фильтры строк не применяются.</span><span class="sxs-lookup"><span data-stu-id="741a5-151">Row filters do not apply.</span></span> <span data-ttu-id="741a5-152">Пользователи в этой роли не могут видеть данные</span><span class="sxs-lookup"><span data-stu-id="741a5-152">No data is visible to users in this role</span></span>|  
|<span data-ttu-id="741a5-153">Чтение</span><span class="sxs-lookup"><span data-stu-id="741a5-153">Read</span></span>|<span data-ttu-id="741a5-154">Члены могут запрашивать данные (с учетом фильтров строк), но не могут видеть шаблон базы данных в среде SSMS, не могут вносить изменения в схему шаблона базы данных, и пользователь не может обработать модель.</span><span class="sxs-lookup"><span data-stu-id="741a5-154">Members are allowed to query data (based on row filters) but cannot see the model database in SSMS, cannot make any changes to the model database schema, and the user cannot process the model.</span></span>|<span data-ttu-id="741a5-155">Фильтры строк могут применяться.</span><span class="sxs-lookup"><span data-stu-id="741a5-155">Row filters can be applied.</span></span> <span data-ttu-id="741a5-156">Пользователи могут видеть только данные, указанные в формуле DAX фильтра строк.</span><span class="sxs-lookup"><span data-stu-id="741a5-156">Only data specified in the row filter DAX formula is visible to users.</span></span>|  
|<span data-ttu-id="741a5-157">Чтение и обработка</span><span class="sxs-lookup"><span data-stu-id="741a5-157">Read and Process</span></span>|<span data-ttu-id="741a5-158">Члены могут просматривать данные (с учетом фильтров уровня строк) и выполнять операции по обработке, запуская скрипты или пакеты, содержащие команду обработки, но не могут вносить изменения в базу данных.</span><span class="sxs-lookup"><span data-stu-id="741a5-158">Members are allowed to query data (based on row-level filters) and run process operations by running a script or package that contains a process command, but cannot make any changes to the database.</span></span> <span data-ttu-id="741a5-159">Не могут просматривать базу данных модели в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="741a5-159">Cannot view the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="741a5-160">Фильтры строк могут применяться.</span><span class="sxs-lookup"><span data-stu-id="741a5-160">Row filters can be applied.</span></span> <span data-ttu-id="741a5-161">Выполнять запросы можно только к данным, указанным в формуле DAX фильтра строк.</span><span class="sxs-lookup"><span data-stu-id="741a5-161">Only data specified in the row filter DAX formula can be queried.</span></span>|  
|<span data-ttu-id="741a5-162">Процесс</span><span class="sxs-lookup"><span data-stu-id="741a5-162">Process</span></span>|<span data-ttu-id="741a5-163">Члены могут выполнять операции по обработке путем запуска скриптов или пакетов, содержащих команды обработки.</span><span class="sxs-lookup"><span data-stu-id="741a5-163">Members can run process operations by running a script or package that contains a process command.</span></span> <span data-ttu-id="741a5-164">Не могут изменять схему шаблона базы данных.</span><span class="sxs-lookup"><span data-stu-id="741a5-164">Cannot modify the model database schema.</span></span> <span data-ttu-id="741a5-165">Запросы к данным невозможны.</span><span class="sxs-lookup"><span data-stu-id="741a5-165">Cannot query data.</span></span> <span data-ttu-id="741a5-166">Запросы к шаблону базы данных в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]невозможны.</span><span class="sxs-lookup"><span data-stu-id="741a5-166">Cannot query the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="741a5-167">Фильтры строк не применяются.</span><span class="sxs-lookup"><span data-stu-id="741a5-167">Row filters do not apply.</span></span> <span data-ttu-id="741a5-168">Члены этой роли не могут запрашивать данные</span><span class="sxs-lookup"><span data-stu-id="741a5-168">No data can be queried in this role</span></span>|  
|<span data-ttu-id="741a5-169">Администратор</span><span class="sxs-lookup"><span data-stu-id="741a5-169">Administrator</span></span>|<span data-ttu-id="741a5-170">Члены могут вносить изменения в схему базы данных модели и запрашивать любые данные в конструкторе модели, клиенте отчетов и среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="741a5-170">Members can make modifications to the model schema and can query all data in the model designer, reporting client, and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="741a5-171">Фильтры строк не применяются.</span><span class="sxs-lookup"><span data-stu-id="741a5-171">Row filters do not apply.</span></span> <span data-ttu-id="741a5-172">Члены этой роли могут запрашивать любые данные</span><span class="sxs-lookup"><span data-stu-id="741a5-172">All data can be queried in this role.</span></span>|  
  
##  <a name="row-filters"></a><a name="bkmk_rowfliters"></a><span data-ttu-id="741a5-173">Фильтры строк</span><span class="sxs-lookup"><span data-stu-id="741a5-173">Row Filters</span></span>  
 <span data-ttu-id="741a5-174">Фильтры строк определяют, какие строки в таблице могут запросить участники определенной роли.</span><span class="sxs-lookup"><span data-stu-id="741a5-174">Row filters define which rows in a table can be queried by members of a particular role.</span></span> <span data-ttu-id="741a5-175">Фильтры строк для каждой таблицы модели определяются с помощью формул DAX.</span><span class="sxs-lookup"><span data-stu-id="741a5-175">Row filters are defined for each table in a model by using DAX formulas.</span></span>  
  
 <span data-ttu-id="741a5-176">Они могут быть определены только для ролей с разрешениями "Чтение" и "Чтение и обработка".</span><span class="sxs-lookup"><span data-stu-id="741a5-176">Row filters can be defined only for roles with Read and Read and Process permissions.</span></span> <span data-ttu-id="741a5-177">По умолчанию, если фильтр строк не задан для какой-то таблицы, члены роли с разрешением на чтение или на чтение и обработку могут просматривать все строки таблицы, если нет перекрестной фильтрации из другой таблицы.</span><span class="sxs-lookup"><span data-stu-id="741a5-177">By default, if a row filter is not defined for a particular table, members of a role that has Read or Read and Process permission can query all rows in the table unless cross-filtering applies from another table.</span></span>  
  
 <span data-ttu-id="741a5-178">Если для таблицы задан фильтр строк, формула DAX, результат вычисления которой должен быть равен TRUE или FALSE, определяет строки, которые могут запрашиваться членами этой роли.</span><span class="sxs-lookup"><span data-stu-id="741a5-178">Once a row filter is defined for a particular table, a DAX formula, which must evaluate to a TRUE/FALSE value, defines the rows that can be queried by members of that particular role.</span></span> <span data-ttu-id="741a5-179">Строки, не включенные в формулу DAX, запрашиваться не могут.</span><span class="sxs-lookup"><span data-stu-id="741a5-179">Rows not included in the DAX formula will cannot be queried.</span></span> <span data-ttu-id="741a5-180">Например, для членов роли Sales таблица Customers со следующим выражением фильтров строк *= Customers [Country] = "USA"*, участники роли "продажи", смогут видеть только клиентов в США.</span><span class="sxs-lookup"><span data-stu-id="741a5-180">For example, for members of the Sales role, the Customers table with the following row filters expression, *=Customers [Country] = "USA"*, members of the Sales role, will only be able to see customers in the USA.</span></span>  
  
 <span data-ttu-id="741a5-181">Фильтры строк применяются к указанным, а также к связанным строкам.</span><span class="sxs-lookup"><span data-stu-id="741a5-181">Row filters apply to the specified rows as well as related rows.</span></span> <span data-ttu-id="741a5-182">Когда таблица содержит несколько связей, фильтры применяют защиту к связи, которая является активной.</span><span class="sxs-lookup"><span data-stu-id="741a5-182">When a table has multiple relationships, filters apply security for the relationship that is active.</span></span> <span data-ttu-id="741a5-183">Фильтры строк пересекаются с другими фильтрами строк, определенными в связанных таблицах, например:</span><span class="sxs-lookup"><span data-stu-id="741a5-183">Row filters will be intersected with other row filers defined for related tables, for example:</span></span>  
  
|<span data-ttu-id="741a5-184">Таблица</span><span class="sxs-lookup"><span data-stu-id="741a5-184">Table</span></span>|<span data-ttu-id="741a5-185">Выражение DAX</span><span class="sxs-lookup"><span data-stu-id="741a5-185">DAX expression</span></span>|  
|-----------|--------------------|  
|<span data-ttu-id="741a5-186">Регион</span><span class="sxs-lookup"><span data-stu-id="741a5-186">Region</span></span>|<span data-ttu-id="741a5-187">=Region[Country]="USA"</span><span class="sxs-lookup"><span data-stu-id="741a5-187">=Region[Country]="USA"</span></span>|  
|<span data-ttu-id="741a5-188">Категория продукта</span><span class="sxs-lookup"><span data-stu-id="741a5-188">ProductCategory</span></span>|<span data-ttu-id="741a5-189">=ProductCategory[Name]="Bicycles"</span><span class="sxs-lookup"><span data-stu-id="741a5-189">=ProductCategory[Name]="Bicycles"</span></span>|  
|<span data-ttu-id="741a5-190">Транзакции</span><span class="sxs-lookup"><span data-stu-id="741a5-190">Transactions</span></span>|<span data-ttu-id="741a5-191">=Transactions[Year]=2008</span><span class="sxs-lookup"><span data-stu-id="741a5-191">=Transactions[Year]=2008</span></span>|  
  
 <span data-ttu-id="741a5-192">В результате применения этих разрешений к таблице Transactions члены роли смогут запрашивать только строки данных, в которых клиенты находятся в США, категория продуктов — велосипеды, а год — 2008.</span><span class="sxs-lookup"><span data-stu-id="741a5-192">The net effect of these permissions on the Transactions table is that members will be allowed to query rows of data where the customer is in the USA, and the product category is bicycles, and the year is 2008.</span></span> <span data-ttu-id="741a5-193">Пользователи не смогут запрашивать сделки, совершенные не в США, не по велосипедам и не в 2008 году, если они не являются членами другой роли, которая предоставляет такие разрешения.</span><span class="sxs-lookup"><span data-stu-id="741a5-193">Users would not be able to query any transactions outside of the USA, or any transactions that are not bicycles, or any transactions not in 2008 unless they are a member of another role that grants these permissions.</span></span>  
  
 <span data-ttu-id="741a5-194">Вы можете использовать фильтр *=FALSE()*, чтобы запретить доступ ко всем строкам для всей таблицы.</span><span class="sxs-lookup"><span data-stu-id="741a5-194">You can use the filter, *=FALSE()*, to deny access to all rows for an entire table.</span></span>  
  
### <a name="dynamic-security"></a><span data-ttu-id="741a5-195">Динамическая безопасность</span><span class="sxs-lookup"><span data-stu-id="741a5-195">Dynamic Security</span></span>  
 <span data-ttu-id="741a5-196">Динамическая безопасность позволяет задать защиту на уровне строк с учетом имени пользователя, который находится в системе в данный момент, или свойства CustomData из строки подключения.</span><span class="sxs-lookup"><span data-stu-id="741a5-196">Dynamic security provides a way to define row level security based on the user name of the user currently logged on or the CustomData property returned from a connection string.</span></span> <span data-ttu-id="741a5-197">Для реализации динамической безопасности в модель необходимо включить таблицу со значениями имен входа (имена пользователей Windows) для пользователей, а также поле, которое можно использовать для определения конкретных разрешений, например таблицу dimEmployees с идентификаторами входа (домен или имя пользователя) и значением подразделения для каждого сотрудника.</span><span class="sxs-lookup"><span data-stu-id="741a5-197">In order to implement dynamic security, you must include in your model a table with login (Windows user name) values for users as well as a field that can be used to define a particular permission; for example, a dimEmployees table with a login ID (domain\username) as well as a department value for each employee.</span></span>  
  
 <span data-ttu-id="741a5-198">Для реализации динамической безопасности можно использовать следующие функции в формуле DAX для получения имени пользователя, который находится в системе в данный момент, или свойства CustomData из строки подключения.</span><span class="sxs-lookup"><span data-stu-id="741a5-198">To implement dynamic security, you can use the following functions as part of a DAX formula to return the user name of the user currently logged on, or the CustomData property in a connection string:</span></span>  
  
|<span data-ttu-id="741a5-199">Функция</span><span class="sxs-lookup"><span data-stu-id="741a5-199">Function</span></span>|<span data-ttu-id="741a5-200">Описание</span><span class="sxs-lookup"><span data-stu-id="741a5-200">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="741a5-201">Функция USERNAME &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="741a5-201">USERNAME Function &#40;DAX&#41;</span></span>](/dax/username-function-dax)|<span data-ttu-id="741a5-202">Возвращает значение вида «домен\имя пользователя» для пользователя, который находится в системе в настоящий момент.</span><span class="sxs-lookup"><span data-stu-id="741a5-202">Returns the domain\ username of the user currently logged on.</span></span>|  
|[<span data-ttu-id="741a5-203">CUSTOMDATA &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="741a5-203">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)|<span data-ttu-id="741a5-204">Возвращает свойство CustomData в строке подключения.</span><span class="sxs-lookup"><span data-stu-id="741a5-204">Returns the CustomData property in a connection string.</span></span>|  
  
 <span data-ttu-id="741a5-205">Функция LOOKUPVALUE позволяет возвращать значения для столбца, в котором имя пользователя Windows соответствует имени пользователя, возвращенного функцией USERNAME, или строке, возвращенной функцией CustomData.</span><span class="sxs-lookup"><span data-stu-id="741a5-205">You can use the LOOKUPVALUE function to return values for a column in which the Windows user name is the same as the user name returned by the USERNAME function or a string returned by the CustomData function.</span></span> <span data-ttu-id="741a5-206">После этого можно ограничить запросы строками, в которых значения, возвращенные функцией LOOKUPVALUE, совпадают со значениями в этой же или связанной таблице.</span><span class="sxs-lookup"><span data-stu-id="741a5-206">Queries can then be restricted where the values returned by LOOKUPVALUE match values in the same or related table.</span></span>  
  
 <span data-ttu-id="741a5-207">Пример использования формулы</span><span class="sxs-lookup"><span data-stu-id="741a5-207">For example, using this formula:</span></span>  
  
 `='dimDepartmentGroup'[DepartmentGroupId]=LOOKUPVALUE('dimEmployees'[DepartmentGroupId], 'dimEmployees'[LoginId], USERNAME(), 'dimEmployees'[LoginId], 'dimDepartmentGroup'[DepartmentGroupId])`  
  
 <span data-ttu-id="741a5-208">Функция LOOKUPVALUE возвращает значения для столбца dimEmployees[DepartmentId], где значение dimEmployees[LoginId] равно идентификатору входа текущего пользователя, возвращенному функцией USERNAME, а значения для dimEmployees[DepartmentId] равны значениям для dimDepartmentGroup[DepartmentId].</span><span class="sxs-lookup"><span data-stu-id="741a5-208">The LOOKUPVALUE function returns values for the dimEmployees[DepartmentId] column where the dimEmployees[LoginId] is the same as the LoginID of the user currently logged on, returned by USERNAME, and values for dimEmployees[DepartmentId] are the same as values for dimDepartmentGroup[DepartmentId].</span></span> <span data-ttu-id="741a5-209">Значения в поле DepartmentId, возвращенные функцией LOOKUPVALUE, используются для ограничения строк, запрашиваемых в таблице dimDepartment и любых таблицах, связанных по столбцу DepartmentId.</span><span class="sxs-lookup"><span data-stu-id="741a5-209">The values in DepartmentId returned by LOOKUPVALUE are then used to restrict the rows queried in the dimDepartment table, and any tables related by DepartmentId.</span></span> <span data-ttu-id="741a5-210">Возвращаются только строки, столбец DepartmentId в которых входит в список значений DepartmentId, возвращенных функцией LOOKUPVALUE.</span><span class="sxs-lookup"><span data-stu-id="741a5-210">Only rows where DepartmentId are also in the values for the DepartmentId returned by LOOKUPVALUE function are returned.</span></span>  
  
 <span data-ttu-id="741a5-211">**dimEmployees**</span><span class="sxs-lookup"><span data-stu-id="741a5-211">**dimEmployees**</span></span>  
  
|<span data-ttu-id="741a5-212">LastName</span><span class="sxs-lookup"><span data-stu-id="741a5-212">LastName</span></span>|<span data-ttu-id="741a5-213">FirstName</span><span class="sxs-lookup"><span data-stu-id="741a5-213">FirstName</span></span>|<span data-ttu-id="741a5-214">LoginID</span><span class="sxs-lookup"><span data-stu-id="741a5-214">LoginID</span></span>|<span data-ttu-id="741a5-215">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="741a5-215">DepartmentName</span></span>|<span data-ttu-id="741a5-216">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="741a5-216">DepartmentId</span></span>|  
|--------------|---------------|-------------|--------------------|------------------|  
|<span data-ttu-id="741a5-217">Коричневый</span><span class="sxs-lookup"><span data-stu-id="741a5-217">Brown</span></span>|<span data-ttu-id="741a5-218">Кевин</span><span class="sxs-lookup"><span data-stu-id="741a5-218">Kevin</span></span>|<span data-ttu-id="741a5-219">Adventure-works\kevin0</span><span class="sxs-lookup"><span data-stu-id="741a5-219">Adventure-works\kevin0</span></span>|<span data-ttu-id="741a5-220">Marketing</span><span class="sxs-lookup"><span data-stu-id="741a5-220">Marketing</span></span>|<span data-ttu-id="741a5-221">7</span><span class="sxs-lookup"><span data-stu-id="741a5-221">7</span></span>|  
|<span data-ttu-id="741a5-222">Bradley</span><span class="sxs-lookup"><span data-stu-id="741a5-222">Bradley</span></span>|<span data-ttu-id="741a5-223">David</span><span class="sxs-lookup"><span data-stu-id="741a5-223">David</span></span>|<span data-ttu-id="741a5-224">Adventure-works\david0</span><span class="sxs-lookup"><span data-stu-id="741a5-224">Adventure-works\david0</span></span>|<span data-ttu-id="741a5-225">Marketing</span><span class="sxs-lookup"><span data-stu-id="741a5-225">Marketing</span></span>|<span data-ttu-id="741a5-226">7</span><span class="sxs-lookup"><span data-stu-id="741a5-226">7</span></span>|  
|<span data-ttu-id="741a5-227">Dobney</span><span class="sxs-lookup"><span data-stu-id="741a5-227">Dobney</span></span>|<span data-ttu-id="741a5-228">JoLynn</span><span class="sxs-lookup"><span data-stu-id="741a5-228">JoLynn</span></span>|<span data-ttu-id="741a5-229">Adventure-works\JoLynn0</span><span class="sxs-lookup"><span data-stu-id="741a5-229">Adventure-works\JoLynn0</span></span>|<span data-ttu-id="741a5-230">Рабочие</span><span class="sxs-lookup"><span data-stu-id="741a5-230">Production</span></span>|<span data-ttu-id="741a5-231">4</span><span class="sxs-lookup"><span data-stu-id="741a5-231">4</span></span>|  
|<span data-ttu-id="741a5-232">Baretto DeMattos</span><span class="sxs-lookup"><span data-stu-id="741a5-232">Baretto DeMattos</span></span>|<span data-ttu-id="741a5-233">Paula</span><span class="sxs-lookup"><span data-stu-id="741a5-233">Paula</span></span>|<span data-ttu-id="741a5-234">Adventure-works\Paula0</span><span class="sxs-lookup"><span data-stu-id="741a5-234">Adventure-works\Paula0</span></span>|<span data-ttu-id="741a5-235">Human Resources</span><span class="sxs-lookup"><span data-stu-id="741a5-235">Human Resources</span></span>|<span data-ttu-id="741a5-236">2</span><span class="sxs-lookup"><span data-stu-id="741a5-236">2</span></span>|  
  
 <span data-ttu-id="741a5-237">**dimDepartment**</span><span class="sxs-lookup"><span data-stu-id="741a5-237">**dimDepartment**</span></span>  
  
|<span data-ttu-id="741a5-238">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="741a5-238">DepartmentId</span></span>|<span data-ttu-id="741a5-239">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="741a5-239">DepartmentName</span></span>|  
|------------------|--------------------|  
|<span data-ttu-id="741a5-240">1</span><span class="sxs-lookup"><span data-stu-id="741a5-240">1</span></span>|<span data-ttu-id="741a5-241">Корпоративный</span><span class="sxs-lookup"><span data-stu-id="741a5-241">Corporate</span></span>|  
|<span data-ttu-id="741a5-242">2</span><span class="sxs-lookup"><span data-stu-id="741a5-242">2</span></span>|<span data-ttu-id="741a5-243">Executive General and Administration</span><span class="sxs-lookup"><span data-stu-id="741a5-243">Executive General and Administration</span></span>|  
|<span data-ttu-id="741a5-244">3</span><span class="sxs-lookup"><span data-stu-id="741a5-244">3</span></span>|<span data-ttu-id="741a5-245">Inventory Management</span><span class="sxs-lookup"><span data-stu-id="741a5-245">Inventory Management</span></span>|  
|<span data-ttu-id="741a5-246">4</span><span class="sxs-lookup"><span data-stu-id="741a5-246">4</span></span>|<span data-ttu-id="741a5-247">Производство</span><span class="sxs-lookup"><span data-stu-id="741a5-247">Manufacturing</span></span>|  
|<span data-ttu-id="741a5-248">5</span><span class="sxs-lookup"><span data-stu-id="741a5-248">5</span></span>|<span data-ttu-id="741a5-249">Контроль качества</span><span class="sxs-lookup"><span data-stu-id="741a5-249">Quality Assurance</span></span>|  
|<span data-ttu-id="741a5-250">6</span><span class="sxs-lookup"><span data-stu-id="741a5-250">6</span></span>|<span data-ttu-id="741a5-251">Научные исследования и разработки</span><span class="sxs-lookup"><span data-stu-id="741a5-251">Research and Development</span></span>|  
|<span data-ttu-id="741a5-252">7</span><span class="sxs-lookup"><span data-stu-id="741a5-252">7</span></span>|<span data-ttu-id="741a5-253">Сбыт и маркетинг</span><span class="sxs-lookup"><span data-stu-id="741a5-253">Sales and Marketing</span></span>|  
  
##  <a name="testing-roles"></a><a name="bkmk_testroles"></a><span data-ttu-id="741a5-254">Тестирование ролей</span><span class="sxs-lookup"><span data-stu-id="741a5-254">Testing Roles</span></span>  
 <span data-ttu-id="741a5-255">При создании проекта модели с помощью функции «Анализ в Excel» можно протестировать эффективность заданных ролей.</span><span class="sxs-lookup"><span data-stu-id="741a5-255">When authoring a model project, you can use the Analyze in Excel feature to test the efficacy of the roles you have defined.</span></span> <span data-ttu-id="741a5-256">Если в меню **Модель** конструктора моделей выбрать команду **Анализ в Excel**, еще до открытия окна Excel появляется диалоговое окно **Выбор учетных данных и перспективы** .</span><span class="sxs-lookup"><span data-stu-id="741a5-256">From the **Model** menu in the model designer, when you click **Analyze in Excel**, before Excel opens, the **Choose Credentials and Perspective** dialog box appears.</span></span> <span data-ttu-id="741a5-257">В этом диалоговом окне можно указать текущее имя пользователя, другое имя пользователя, роль и перспективу, которые будут использоваться для подключения к базе данных рабочей области модели в качестве источника данных.</span><span class="sxs-lookup"><span data-stu-id="741a5-257">In this dialog, you can specify the current username, a different username, a role, and a perspective with which you will use to connect to the workspace model as a data source.</span></span> <span data-ttu-id="741a5-258">Дополнительные сведения см. далее в подразделе [Анализ в Excel (табличные службы SSAS)](analyze-in-excel-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="741a5-258">For more information, see [Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_rt"></a> <span data-ttu-id="741a5-259">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="741a5-259">Related Tasks</span></span>  
  
|<span data-ttu-id="741a5-260">Раздел</span><span class="sxs-lookup"><span data-stu-id="741a5-260">Topic</span></span>|<span data-ttu-id="741a5-261">Описание</span><span class="sxs-lookup"><span data-stu-id="741a5-261">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="741a5-262">Создание ролей и управление ими (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="741a5-262">Create and Manage Roles &#40;SSAS Tabular&#41;</span></span>](create-and-manage-roles-ssas-tabular.md)|<span data-ttu-id="741a5-263">Задачи в этом разделе демонстрируют создание ролей и управление ими с помощью диалогового окна **Диспетчер ролей** .</span><span class="sxs-lookup"><span data-stu-id="741a5-263">Tasks in this topic describe how to create and manage roles by using the **Role Manager** dialog box.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="741a5-264">См. также:</span><span class="sxs-lookup"><span data-stu-id="741a5-264">See Also</span></span>  
 <span data-ttu-id="741a5-265">[Перспективы &#40;табличные&#41;SSAS](perspectives-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="741a5-265">[Perspectives &#40;SSAS Tabular&#41;](perspectives-ssas-tabular.md) </span></span>  
 <span data-ttu-id="741a5-266">[Анализ в Excel &#40;табличные&#41;SSAS](analyze-in-excel-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="741a5-266">[Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md) </span></span>  
 <span data-ttu-id="741a5-267">[Функция USERNAME &#40;DAX&#41;](/dax/username-function-dax) </span><span class="sxs-lookup"><span data-stu-id="741a5-267">[USERNAME Function &#40;DAX&#41;](/dax/username-function-dax) </span></span>  
 <span data-ttu-id="741a5-268">[Функция LOOKUPVALUE &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span><span class="sxs-lookup"><span data-stu-id="741a5-268">[LOOKUPVALUE Function &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span></span>  
 [<span data-ttu-id="741a5-269">CUSTOMDATA &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="741a5-269">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)  
  
  

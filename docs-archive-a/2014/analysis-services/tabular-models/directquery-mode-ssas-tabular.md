---
title: Режим DirectQuery (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.bidtoolset.realtime.f1
ms.assetid: 45ad2965-05ec-4fb1-a164-d8060b562ea5
author: minewiskan
ms.author: owend
ms.openlocfilehash: ceb58c211b52c1fbd184aafe316e5ea77d364529
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728842"
---
# <a name="directquery-mode-ssas-tabular"></a><span data-ttu-id="32ed3-102">Режим DirectQuery (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="32ed3-102">DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="32ed3-103">Службы Analysis Services позволяют получать данные и создавать отчеты из табличной модели путем получения данных и агрегатов напрямую из системы реляционных баз данных, используя *режим DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="32ed3-103">Analysis Services lets you retrieve data and create reports from a tabular model by retrieving data and aggregates directly from a relational database system, using *DirectQuery mode*.</span></span> <span data-ttu-id="32ed3-104">В этом разделе объясняются отличия между стандартными табличными моделями, которые находятся только в памяти, и табличными моделями, которые могут отправлять запросы к реляционному источнику данных, а также способы создания и развертывания модели для использования в режиме DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-104">This topic introduces the differences between standard tabular models that reside only in memory and tabular models that can query a relational data source, and explains how you can author and deploy a model for use in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="32ed3-105">Разделы данной темы:</span><span class="sxs-lookup"><span data-stu-id="32ed3-105">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="32ed3-106">Преимущества режима DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-106">Benefits of DirectQuery Mode</span></span>](#bkmk_Benefits)  
  
-   [<span data-ttu-id="32ed3-107">Создание моделей для использования в режиме DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-107">Authoring Models for Use with DirectQuery Mode</span></span>](#bkmk_Design)  
  
    -   [<span data-ttu-id="32ed3-108">Data Sources for DirectQuery Models</span><span class="sxs-lookup"><span data-stu-id="32ed3-108">Data Sources for DirectQuery Models</span></span>](directquery-mode-ssas-tabular.md#bkmk_DataSources)  
  
    -   [<span data-ttu-id="32ed3-109">Ограничения проверки и проектирования для режима DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-109">Validation and Design Restrictions for DirectQuery Mode</span></span>](#bkmk_Validation)  
  
    -   [<span data-ttu-id="32ed3-110">Совместимость формул для моделей DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-110">Formula Compatibility for DirectQuery Models</span></span>](#bkmk_FormulaCompat)  
  
    -   [<span data-ttu-id="32ed3-111">Безопасность в режиме DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-111">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
    -   [<span data-ttu-id="32ed3-112">Безопасность в режиме DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-112">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
-   [<span data-ttu-id="32ed3-113">Свойства DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-113">DirectQuery Properties</span></span>](#bkmk_PropertyList)  
  
-   [<span data-ttu-id="32ed3-114">Связанные темы и задачи</span><span class="sxs-lookup"><span data-stu-id="32ed3-114">Related Topics and Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits-of-directquery-mode"></a><a name="bkmk_Benefits"></a><span data-ttu-id="32ed3-115">Преимущества режима DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-115">Benefits of DirectQuery Mode</span></span>  
 <span data-ttu-id="32ed3-116">По умолчанию табличные модели используют кэш в памяти для хранения данных и отправки запросов к данным.</span><span class="sxs-lookup"><span data-stu-id="32ed3-116">By default, tabular models use an in-memory cache to store and query data.</span></span> <span data-ttu-id="32ed3-117">Поскольку табличные модели используют данные, находящиеся в памяти, даже сложные запросы могут выполняться очень быстро.</span><span class="sxs-lookup"><span data-stu-id="32ed3-117">Because tabular models use data that resides in memory, even complex queries can be incredibly fast.</span></span> <span data-ttu-id="32ed3-118">Однако есть некоторые недостатки использования кэшированных данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-118">However, there are some drawbacks to using cached data:</span></span>  
  
-   <span data-ttu-id="32ed3-119">Данные не обновляются при изменении исходных данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-119">Data is not refreshed when the source data changes.</span></span> <span data-ttu-id="32ed3-120">Необходимо обработать модель для внедрения обновлений в данные.</span><span class="sxs-lookup"><span data-stu-id="32ed3-120">You must process the model to get updates to the data.</span></span>  
  
-   <span data-ttu-id="32ed3-121">При отключении компьютера, на котором располагается модель, кэш сохраняется на диск, поэтому после загрузки модели или открытия файла PowerPivot кэш нужно открыть заново.</span><span class="sxs-lookup"><span data-stu-id="32ed3-121">When you turn off the computer that hosts the model, the cache is saved to disk and must be reopened when you load the model or open the PowerPivot file.</span></span> <span data-ttu-id="32ed3-122">Операции сохранения и загрузки могут занимать много времени.</span><span class="sxs-lookup"><span data-stu-id="32ed3-122">The save and load operations can be time-consuming.</span></span>  
  
 <span data-ttu-id="32ed3-123">В противоположность этому режим DirectQuery использует данные, хранящиеся в базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-123">In contrast, DirectQuery mode uses data that is stored in a SQL Server database.</span></span>  <span data-ttu-id="32ed3-124">Обычно при проектировании модели в кэш импортируются все данные или их небольшая часть. При развертывании модели пользователь должен указать, что источником данных для запросов к модели должен быть SQL Server, а не кэшированные данные.</span><span class="sxs-lookup"><span data-stu-id="32ed3-124">Generally, you import all or a small sample of the data into the cache while authoring the model, and when you deploy the model, you specify that the data source for queries against the model should be SQL Server, not the cached data.</span></span> <span data-ttu-id="32ed3-125">Любые DAX-запросы преобразуются службами [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] в эквивалентные инструкции SQL для заданного реляционного источника данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-125">Any DAX queries on the data are translated by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] into equivalent SQL statements against the specified relational data source.</span></span>  
  
 <span data-ttu-id="32ed3-126">У развертывания модели с использованием режима DirectQuery есть много преимуществ.</span><span class="sxs-lookup"><span data-stu-id="32ed3-126">There are many advantages to deploying a model using DirectQuery mode:</span></span>  
  
-   <span data-ttu-id="32ed3-127">Для наборов данных, которые не помещаются в памяти на сервере служб Analysis Services, можно настроить модель.</span><span class="sxs-lookup"><span data-stu-id="32ed3-127">It is possible to have a model over data sets that are too large to fit in memory on the Analysis Services server.</span></span>  
  
-   <span data-ttu-id="32ed3-128">Данные всегда будут обновленными, при этом нет необходимости хранить и поддерживать отдельную копию данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-128">The data is guaranteed to be up-to-date, and there is no extra management overhead of having to maintain a separate copy of the data.</span></span> <span data-ttu-id="32ed3-129">Изменения данных базового источника могут быть сразу же отражены в запросах к модели данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-129">Changes to the underlying source data can be immediately reflected in queries against the data model.</span></span>  
  
-   <span data-ttu-id="32ed3-130">DirectQuery может воспользоваться ускорением запросов на стороне поставщика, например за счет оптимизированных для памяти индексов столбцов xVelocity.</span><span class="sxs-lookup"><span data-stu-id="32ed3-130">DirectQuery can take advantage of provider-side query acceleration, such as that provided by xVelocity memory optimized column indexes.</span></span>  
  
-   <span data-ttu-id="32ed3-131">Безопасность, обеспечиваемая серверной базой данных, гарантирована на уровне строк.</span><span class="sxs-lookup"><span data-stu-id="32ed3-131">Any security enforced by the back-end database is guaranteed to be enforced, using row-level security.</span></span> <span data-ttu-id="32ed3-132">В противоположность этому при использовании кэшированных данных могут возникнуть трудности при обеспечении безопасности для кэша, сравнимой с безопасностью данных на сервере.</span><span class="sxs-lookup"><span data-stu-id="32ed3-132">In contrast, if you are using cached data, it can be difficult to ensure that the cache is secured exactly as on the server.</span></span>  
  
-   <span data-ttu-id="32ed3-133">Если модель содержит сложные формулы, которым могут потребоваться несколько запросов, службы Analysis Services могут выполнять оптимизацию для того, чтобы план запроса к серверной базе данных был как можно более эффективным.</span><span class="sxs-lookup"><span data-stu-id="32ed3-133">If the model contains complex formulas that might require multiple queries, Analysis Services can perform optimization to ensure that the query plan for the query executed against the back-end database will be as efficient as possible.</span></span>  
  
##  <a name="authoring-models-for-use-with-directquery-mode"></a><a name="bkmk_Design"></a><span data-ttu-id="32ed3-134">Создание моделей для использования с режимом DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-134">Authoring Models for Use with DirectQuery Mode</span></span>  
 <span data-ttu-id="32ed3-135">Табличные модели создаются с помощью конструктора моделей [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32ed3-135">Tabular models are authored by using the model designer [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="32ed3-136">Конструктор моделей создает все модели в памяти. Это означает, что если во время моделирования объем данных оказывается слишком велик и они не помещаются в памяти, в кэш, используемый базой данных рабочей области, придется импортировать только подмножество данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-136">The model designer creates all models in memory, which means that when you are modeling, if your data is too large to fit into memory, you should import only a subset of data into the cache used by the workspace database.</span></span>  
  
 <span data-ttu-id="32ed3-137">Когда нужно переключиться в режим DirectQuery, достаточно изменить свойство, которое включает режим DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-137">When you are ready to switch to DirectQuery mode, you can change a property that enables DirectQuery mode.</span></span> <span data-ttu-id="32ed3-138">Дополнительные сведения см. в разделе [Включение режима разработки DirectQuery &#40;табличных&#41;SSAS ](enable-directquery-mode-in-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-138">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>  
  
 <span data-ttu-id="32ed3-139">Для этого конструктор моделей автоматически настраивает базу данных рабочей области для работы в гибридном режиме, который позволяет продолжить работу с кэшированными данными.</span><span class="sxs-lookup"><span data-stu-id="32ed3-139">When you do this, the model designer automatically configures the workspace database to run in a hybrid mode that lets you continue to work with the cached data.</span></span> <span data-ttu-id="32ed3-140">Конструктор моделей также уведомит о функциях модели, несовместимых с режимом DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-140">The model designer will also notify you of any features in your model that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="32ed3-141">В следующем списке перечислены основные требования, о которых следует помнить.</span><span class="sxs-lookup"><span data-stu-id="32ed3-141">The following list summarizes the main requirements to keep in mind:</span></span>  
  
-   <span data-ttu-id="32ed3-142">**Источники данных.** Модели DirectQuery могут использовать данные только одного источника данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-142">**Data sources:** DirectQuery models can only use data from a single SQL Server data source.</span></span> <span data-ttu-id="32ed3-143">Если для модели был включен режим DirectQuery, в конструкторе модели нельзя использовать другие типы данных, включая таблицы, добавленные путем копирования и вставки.</span><span class="sxs-lookup"><span data-stu-id="32ed3-143">When DirectQuery mode has been turned on for a model, you can use no other types of data in the model designer, including tables added by copy-paste operations.</span></span> <span data-ttu-id="32ed3-144">Все остальные параметры импорта отключены.</span><span class="sxs-lookup"><span data-stu-id="32ed3-144">All other import options are disabled.</span></span> <span data-ttu-id="32ed3-145">Включенные в запрос таблицы должны быть частью источника данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-145">Any tables included in a query must be part of the SQL Server data source.</span></span> <span data-ttu-id="32ed3-146">Дополнительные сведения можно узнать в разделе [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources).</span><span class="sxs-lookup"><span data-stu-id="32ed3-146">See [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources)for more information.</span></span>  
  
-   <span data-ttu-id="32ed3-147">**Поддержка вычисляемых столбцов.** Вычисляемые столбцы для моделей DirectQuery не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="32ed3-147">**Support for calculated columns:** Calculated columns are not supported for DirectQuery models.</span></span> <span data-ttu-id="32ed3-148">Однако можно создавать меры и ключевые индикаторы производительности для работы с наборами данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-148">However, you can create measures and KPIs, which operate over sets of data.</span></span> <span data-ttu-id="32ed3-149">Дополнительные сведения см. в разделе, посвященном [проверке](#bkmk_Validation) .</span><span class="sxs-lookup"><span data-stu-id="32ed3-149">See the section on [validation](#bkmk_Validation) for more information.</span></span>  
  
-   <span data-ttu-id="32ed3-150">**Ограниченное использование DAX-функций.** Некоторые DAX-функции не могут быть использованы в режиме DirectQuery, поэтому их необходимо заменить другими функциями или создать значения с использованием производных столбцов в источнике данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-150">**Limited use of DAX functions:** Some DAX functions cannot be used in DirectQuery mode, so you must replace them with other functions, or create the values using derived columns in the data source.</span></span> <span data-ttu-id="32ed3-151">Конструктор моделей во время разработки обеспечивает проверку ошибок, возникающих при создании формул, несовместимых с режимом DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-151">The model designer provides design-time validation for any errors that arise when you create formulas that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="32ed3-152">Дополнительные сведения см. в следующих разделах: [Проверка](#bkmk_Validation).</span><span class="sxs-lookup"><span data-stu-id="32ed3-152">See the following sections for more information: [Validation](#bkmk_Validation).</span></span>  
  
-   <span data-ttu-id="32ed3-153">**Совместимость формул.** В некоторых известных случаях одна и та же формула может возвращать разные результаты в кэшированной или гибридной модели по сравнению с моделью DirectQuery, которая использует только реляционное хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-153">**Formula compatibility:** In certain known cases, the same formula can return different results in a cached or hybrid model compared to a DirectQuery model that uses only the relational data store.</span></span> <span data-ttu-id="32ed3-154">Эти отличия являются следствием семантических отличий между подсистемой аналитики в памяти xVelocity (VertiPaq) и SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-154">These differences are a consequence of the semantic differences between the xVelocity in-memory analytics (VertiPaq) engine and SQL Server.</span></span> <span data-ttu-id="32ed3-155">Дополнительные сведения об этих различиях см. в разделе: [Совместимость формул](#bkmk_FormulaCompat).</span><span class="sxs-lookup"><span data-stu-id="32ed3-155">For more information about these differences, see this section: [Formula Compatibility](#bkmk_FormulaCompat).</span></span>  
  
-   <span data-ttu-id="32ed3-156">**Безопасность.** В зависимости от способа развертывания модели используются различные методы обеспечения ее безопасности.</span><span class="sxs-lookup"><span data-stu-id="32ed3-156">**Security:** You can use different methods to secure models depending on how they are deployed.</span></span> <span data-ttu-id="32ed3-157">Безопасность кэшированных данных для табличных моделей обеспечивается с помощью модели безопасности экземпляра служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="32ed3-157">Cached data for tabular models is secured by using the security model of the Analysis Services instance.</span></span> <span data-ttu-id="32ed3-158">Безопасность моделей DirectQuery обеспечивается с помощью ролей, однако, помимо этого, можно использовать модель безопасности, определенную в реляционном хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-158">DirectQuery models can be secured by using roles, but you can also use security defined in the relational data store.</span></span> <span data-ttu-id="32ed3-159">Модель может быть настроена таким образом, чтобы пользователи, открывающие отчет, созданный только на основе модели DirectQuery, видели только те данные, которые им разрешено видеть согласно разрешениям в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-159">The model can be configured so that users who open a report based on a DirectQuery-only model can see only the data that is allowed to them under their permissions in SQL Server.</span></span> <span data-ttu-id="32ed3-160">Дополнительные сведения см. в разделе: [Безопасность.](#bkmk_Security)</span><span class="sxs-lookup"><span data-stu-id="32ed3-160">See this section for more information: [Security](#bkmk_Security).</span></span>  
  
-   <span data-ttu-id="32ed3-161">**Клиентские ограничения.** Когда модель используется в режиме DirectQuery, к ней можно обращаться только с помощью DAX-запросов.</span><span class="sxs-lookup"><span data-stu-id="32ed3-161">**Client restrictions:** When a model is in DirectQuery mode, it can only be queried by using DAX.</span></span> <span data-ttu-id="32ed3-162">Многомерные выражения нельзя использовать для создания запросов.</span><span class="sxs-lookup"><span data-stu-id="32ed3-162">You cannot use MDX to create queries.</span></span> <span data-ttu-id="32ed3-163">Это означает, что использовать клиент сводных таблиц и диаграмм Excel нельзя, поскольку в Excel используются многомерные выражения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-163">This means that you cannot use the Excel Pivot Client, because Excel uses MDX.</span></span>  
  
     <span data-ttu-id="32ed3-164">Однако можно создать запросы к модели DirectQuery в, [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Если вы используете запрос таблицы DAX в составе инструкции XMLA Execute, дополнительные сведения см. в разделе [справочник по синтаксису запросов DAX] (/Дакс/Дакс-синтакс-референце</span><span class="sxs-lookup"><span data-stu-id="32ed3-164">However, you can create queries against a DirectQuery model in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] if you use a DAX table query as part of an XMLA Execute statement, For more information, see [DAX Query Syntax Reference](/dax/dax-syntax-reference</span></span>
  
 <span data-ttu-id="32ed3-165">После разрешения всех вопросов проектирования и тестирования модели можно переходить к ее развертыванию.</span><span class="sxs-lookup"><span data-stu-id="32ed3-165">When you have resolved all the design issues and tested your model, you are ready for deployment.</span></span> <span data-ttu-id="32ed3-166">На данный момент пользователь может сам определить предпочтительный метод ответа на запросы к модели.</span><span class="sxs-lookup"><span data-stu-id="32ed3-166">At this point, you can set the preferred method for answering queries against the model.</span></span> <span data-ttu-id="32ed3-167">Разрешить пользователям доступ к кэшу или всегда использовать только реляционный источник данных?</span><span class="sxs-lookup"><span data-stu-id="32ed3-167">Do you want users to have access to the cache, or always use only the relational data source?</span></span>  
  
 <span data-ttu-id="32ed3-168">При развертывании модели в *гибридном режиме*кэш по-прежнему доступен и может быть использован для запросов.</span><span class="sxs-lookup"><span data-stu-id="32ed3-168">If you deploy the model in a *hybrid mode*, the cache is still available and can be used for queries.</span></span> <span data-ttu-id="32ed3-169">Гибридный режим предоставляет множество вариантов.</span><span class="sxs-lookup"><span data-stu-id="32ed3-169">A hybrid mode provides you with many options:</span></span>  
  
-   <span data-ttu-id="32ed3-170">Если доступны как кэш, так и реляционный источник данных, можно задать предпочтительный метод подключения, но в конечном счете именно клиент выбирает используемый источник с помощью свойства DirectQueryMode строки подключения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-170">When both the cache and the relational data source are available, you can set the preferred connection method, but ultimately the client controls which source is used, using the DirectQueryMode connection string property.</span></span>  
  
-   <span data-ttu-id="32ed3-171">Можно также настроить секции в кэше таким образом, чтобы первичная секция, используемая для режима DirectQuery, никогда не обрабатывалась и всегда ссылалась на реляционный источник.</span><span class="sxs-lookup"><span data-stu-id="32ed3-171">You can also configure partitions on the cache in such a way that the primary partition used for DirectQuery mode is never processed and must always reference the relational source.</span></span> <span data-ttu-id="32ed3-172">Есть много способов использования секций для оптимизации проектирования моделей и составления отчетов.</span><span class="sxs-lookup"><span data-stu-id="32ed3-172">There are many ways to use partitions to optimize the model design and reporting experience.</span></span> <span data-ttu-id="32ed3-173">Дополнительные сведения см. в [разделах partitions и режим DirectQuery &#40;табличные&#41;SSAS ](define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-173">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
-   <span data-ttu-id="32ed3-174">После развертывания модели можно изменить предпочтительный метод подключения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-174">After the model has been deployed, you can change the preferred connection method.</span></span> <span data-ttu-id="32ed3-175">Например, можно использовать гибридную модель для тестирования и переключать модель в режим **Только DirectQuery** лишь после тщательного тестирования отчетов или запросов, использующих модель.</span><span class="sxs-lookup"><span data-stu-id="32ed3-175">For example, you might use a hybrid mode for testing, and switch the model over to **DirectQuery only** mode only after thoroughly testing any reports or queries that use the model.</span></span> <span data-ttu-id="32ed3-176">Дополнительные сведения см. в разделе [Установка или изменение предпочтительного метода подключения для DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-176">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>  
  
###  <a name="data-sources-for-directquery-models"></a><a name="bkmk_DataSources"></a><span data-ttu-id="32ed3-177">Источники данных для моделей DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-177">Data Sources for DirectQuery Models</span></span>  
 <span data-ttu-id="32ed3-178">Сразу после включения в среде проектирования режима DirectQuery источники данных для базы данных рабочей области проверяются на предмет их происхождения от одного источника данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-178">As soon as you change the design environment to enable DirectQuery mode, the data sources for the workspace database are validated to ensure that they come from a single SQL Server data source.</span></span> <span data-ttu-id="32ed3-179">Данные из других источников, включая вставляемые из буфера обмена данные, в моделях DirectQuery запрещены.</span><span class="sxs-lookup"><span data-stu-id="32ed3-179">Data from other sources, including copy-pasted data, is not allowed in DirectQuery models.</span></span>  
  
 <span data-ttu-id="32ed3-180">Если планируется использовать модель в режиме DirectQuery, нужно, чтобы все данные для составления отчетов хранились в указанной базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-180">If you intend to use the model in DirectQuery mode, you must ensure that all the data you need for reporting is stored in the specified SQL Server database.</span></span> <span data-ttu-id="32ed3-181">Если данные, необходимые для моделирования, недоступны в указанном источнике, можно использовать службы Integration Services или другие средства хранения данных для импорта данных в базу данных SQL Server, которая служит источником данных DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-181">If the data you need for modeling is not available in that source, consider use of Integration Services or other data warehousing tools to import the data into a SQL Server database that serves as the DirectQuery data source.</span></span>  
  
###  <a name="validation-and-design-restrictions-for-directquery-mode"></a><a name="bkmk_Validation"></a><span data-ttu-id="32ed3-182">Ограничения проверки и проектирования для режима DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-182">Validation and Design Restrictions for DirectQuery Mode</span></span>  
 <span data-ttu-id="32ed3-183">При создании модели для использования в режиме DirectQuery сначала необходимо загрузить в кэш некую часть данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-183">When you author a model for use in DirectQuery mode, you must initially load some portion of the data into the cache.</span></span> <span data-ttu-id="32ed3-184">Если данные, которые в конечном итоге будут использоваться, слишком велики для размещения в памяти, можно использовать параметр **Предварительный просмотр & фильтр** в мастере импорта таблиц для выбора подмножества данных или написать скрипт SQL для получения нужных данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-184">If the data you will eventually use is too large to fit into memory, you can use the **Preview & Filter** option in the Table Import wizard to select a subset of data, or write a SQL script to get the data that you want.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="32ed3-185">Поскольку режим DirectQuery не поддерживает использование вычисляемых столбцов, если есть столбцы, которые необходимо объединить или выполнить другие операции, это необходимо предусмотреть заранее и создать определение столбца при создании запроса импорта данных или скрипта.</span><span class="sxs-lookup"><span data-stu-id="32ed3-185">Because DirectQuery mode does not support the use of calculated columns, if there are columns that you wish to combine or perform other operations on, you should plan ahead and create the column definition as part of your data import query or script.</span></span>  
  
 <span data-ttu-id="32ed3-186">Чтобы просмотреть и устранить ошибки проверки, откройте **Список ошибок** в [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32ed3-186">To view and resolve validation errors, open the **Error List** in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="32ed3-187">Критические ошибки, препятствующие использованию режима DirectQuery, отображаются на вкладке **ошибки** . Эти ошибки необходимо устранить перед переходом в режим DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-187">Critical errors that prevent use of DirectQuery mode are displayed on the **Errors** tab. You must fix these errors before changing to DirectQuery mode.</span></span> <span data-ttu-id="32ed3-188">Ошибки проверки, которые трудно разрешить, обычно связаны с формулами, неподдерживаемыми в режиме DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-188">The validation errors that are more difficult to resolve typically are related to formulas that are not supported in DirectQuery mode.</span></span> <span data-ttu-id="32ed3-189">Обзор ошибок, связанных с формулами и вычисляемыми столбцами, см. в разделе [Совместимость формул](#bkmk_FormulaCompat).</span><span class="sxs-lookup"><span data-stu-id="32ed3-189">See the section, [Formula Compatibility](#bkmk_FormulaCompat), for an overview of errors related to formulas and calculated columns.</span></span>  
  
 <span data-ttu-id="32ed3-190">Ниже приводятся другие рекомендации, о которых следует помнить при создании модели для доступа в режиме DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-190">The following list describes other considerations to keep in mind when authoring a model for DirectQuery access:</span></span>  
  
-   <span data-ttu-id="32ed3-191">В режиме *Только DirectQuery* результаты в отчете могут отличаться в зависимости от контекста безопасности пользователя, который просматривает результаты.</span><span class="sxs-lookup"><span data-stu-id="32ed3-191">When in *DirectQuery only* mode, the results in a report can vary depending on the security context of the user who is viewing the results.</span></span> <span data-ttu-id="32ed3-192">Чтобы убедиться, чтобы пользователи получают необходимые результаты, следует протестировать модели с различными учетными данными.</span><span class="sxs-lookup"><span data-stu-id="32ed3-192">You should test models with different credentials to ensure that users get the expected results.</span></span>  
  
-   <span data-ttu-id="32ed3-193">Если настроить модель для работы в гибридном режиме, который позволяет использовать как кэш, так и данные из SQL Server, необходимо помнить о том, что клиенты, подключающиеся к разным источникам, могут видеть разные результаты в зависимости от режима, указанного в строке подключения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-193">If you configure a model to operate in hybrid mode, which allows the use of either the cache or data from SQL Server, you should be aware of the possibility that clients connecting to each source might see different results, depending on the mode specified in the connection string.</span></span> <span data-ttu-id="32ed3-194">Если нужно, чтобы пользователи, просматривающие отчеты, видели только данные из SQL Server, необходимо очистить кэш или изменить модель на DirectQueryOnly.</span><span class="sxs-lookup"><span data-stu-id="32ed3-194">If you need to ensure that your report users see only data from SQL Server, you must clear the cache or change the model to DirectQueryOnly.</span></span>  
  
###  <a name="formula-compatibility-for-directquery-models"></a><a name="bkmk_FormulaCompat"></a><span data-ttu-id="32ed3-195">Совместимость формул для моделей DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-195">Formula Compatibility for DirectQuery Models</span></span>  
 <span data-ttu-id="32ed3-196">Некоторые модели могут содержать формулы, которые не поддерживаются в режиме DirectQuery, поэтому для предотвращения ошибок проверки следует выполнить повторное проектирование модели.</span><span class="sxs-lookup"><span data-stu-id="32ed3-196">Some models might contain formulas that are not supported in DirectQuery mode, and the model must be redesigned to prevent validation errors.</span></span> <span data-ttu-id="32ed3-197">Существуют следующие ограничения для формул, поддерживаемых в режиме DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-197">Restrictions on formulas that are supported in DirectQuery mode include the following:</span></span>  
  
-   <span data-ttu-id="32ed3-198">Вычисляемые столбцы не поддерживаются в табличных моделях со включенным режимом DirectQuery и в гибридных моделях.</span><span class="sxs-lookup"><span data-stu-id="32ed3-198">Calculated columns are not supported in any tabular model that has DirectQuery mode enabled, not even hybrid models.</span></span> <span data-ttu-id="32ed3-199">Если для модели требуются вычисляемые столбцы, попробуйте преобразовать их в производные столбцы путем использования Transact-SQL в определении импорта.</span><span class="sxs-lookup"><span data-stu-id="32ed3-199">If you need calculated columns for a model, consider converting them to derived columns by using Transact-SQL in your import definition.</span></span>  
  
-   <span data-ttu-id="32ed3-200">Модели DirectQuery не поддерживают использование DAX-формул в мерах, которые преобразуются в операции на основе наборов для реляционного хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-200">DirectQuery models do support the use of DAX formulas for use in measures, which are converted to set-based operations against the relational data store.</span></span> <span data-ttu-id="32ed3-201">Поддерживаются все меры, создаваемые с помощью неявных мер.</span><span class="sxs-lookup"><span data-stu-id="32ed3-201">All measures that you create by using implicit measures are supported.</span></span>  
  
-   <span data-ttu-id="32ed3-202">Не все функции поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="32ed3-202">Not all functions are supported.</span></span> <span data-ttu-id="32ed3-203">Поскольку службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] преобразуют все DAX-формулы и определения мер в инструкции SQL при отправке запросов к модели DirectQuery, формула, содержащая элементы, которые не могут быть преобразованы в Transact-SQL, вызовет ошибку проверки модели.</span><span class="sxs-lookup"><span data-stu-id="32ed3-203">Because [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] converts all DAX formulas and measure definitions into SQL statements when querying a DirectQuery model, any formula containing elements that cannot be converted into Transact-SQL will trigger validation errors on the model.</span></span> <span data-ttu-id="32ed3-204">Например, не поддерживаются функции логики операций со временем.</span><span class="sxs-lookup"><span data-stu-id="32ed3-204">For example, time intelligence functions are not supported.</span></span> <span data-ttu-id="32ed3-205">Даже поддерживаемые функции, например статистические функции, могут вести себя по-другому.</span><span class="sxs-lookup"><span data-stu-id="32ed3-205">Even functions that are supported might behave differently, such as statistical functions.</span></span> <span data-ttu-id="32ed3-206">Полный список проблем совместимости см. [в разделе Совместимость формул в режиме DirectQuery](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-206">For a complete list of compatibility issues, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
-   <span data-ttu-id="32ed3-207">Некоторые формулы в модели могут проходить проверку при переводе модели в режим DirectQuery, но при этом возвращать другие результаты при обращении к кэшу по сравнению с реляционным хранилищем данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-207">Some formulas in the model might validate when you switch the model to DirectQuery mode, but return different results when executed against the cache vs. the relational data store.</span></span> <span data-ttu-id="32ed3-208">Это происходит, потому что вычисления для кэша используют семантику подсистемы аналитики в памяти xVelocity (VertiPaq), которая содержит многие функции, предназначенные для моделирования поведения Excel, в то время как запросы к данным, хранимым в реляционном хранилище данных, всегда используют семантику SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32ed3-208">This is because calculations against the cache use the semantics of the xVelocity in-memory analytics (VertiPaq) engine, which contains many features meant to emulate the behavior of Excel, whereas queries against data stored in the relational data store necessarily use the semantics of SQL Server.</span></span> <span data-ttu-id="32ed3-209">Список функций DAX, которые могут возвращать различные результаты при развертывании модели в режиме реального времени, см. [в разделе Совместимость формул в режиме DirectQuery](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-209">For a list of DAX functions that might return different results when the model is deployed to real-time, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
###  <a name="connecting-to-directquery-models"></a><a name="bkmk_Connecting"></a><span data-ttu-id="32ed3-210">Подключение к моделям DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-210">Connecting to DirectQuery Models</span></span>  
 <span data-ttu-id="32ed3-211">Клиенты, использующие для отчетов язык многомерных выражений, не могут подключаться к моделям, использующим режим DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-211">Clients that use MDX as the query language cannot connect to models that use DirectQuery mode.</span></span> <span data-ttu-id="32ed3-212">К примеру, если вы попытаетесь создать запрос многомерных выражений к модели DirectQuery, будет возвращена ошибка, сообщающая, что куб не найден или не обработан.</span><span class="sxs-lookup"><span data-stu-id="32ed3-212">For example, if you attempt to create an MDX query against a DirectQuery model, you will get an error indicating that the cube cannot be found, or has not been processed.</span></span> <span data-ttu-id="32ed3-213">Запросы для моделей DirectQuery можно создавать с помощью [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], DAX-формул или запросов XMLA.</span><span class="sxs-lookup"><span data-stu-id="32ed3-213">You can create queries against DirectQuery models by using [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], DAX formulas, or XMLA queries.</span></span> <span data-ttu-id="32ed3-214">Дополнительные сведения о том, как выполнять нерегламентированные запросы к табличным моделям, см. в разделе [Tabular Model Data Access](tabular-model-data-access.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-214">For more information about how you can perform ad hoc queries against tabular models, see [Tabular Model Data Access](tabular-model-data-access.md).</span></span>  
  
 <span data-ttu-id="32ed3-215">Если используется гибридная модель, можно указать, будут ли пользователи подключаться к кэшу или использовать данные DirectQuery, установив свойство DirectQueryMode строки подключения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-215">If you are using a hybrid model, you can specify whether users connect to the cache or use DirectQuery data by specifying the connection string property, DirectQueryMode.</span></span>  
  
###  <a name="security-in-directquery-mode"></a><a name="bkmk_Security"></a><span data-ttu-id="32ed3-216">Безопасность в режиме DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-216">Security in DirectQuery Mode</span></span>  
 <span data-ttu-id="32ed3-217">В ходе создания модели необходимо указать разрешения, используемые для извлечения исходных данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-217">During model authoring, you specify the permissions that are used to retrieve the source data.</span></span> <span data-ttu-id="32ed3-218">Часто это будут собственные учетные данные пользователя либо учетная запись, используемая для разработки.</span><span class="sxs-lookup"><span data-stu-id="32ed3-218">This will often be your own credentials, or an account used for development.</span></span> <span data-ttu-id="32ed3-219">Однако при переключении модели в режим DirectQuery контекст безопасности становиться более сложным.</span><span class="sxs-lookup"><span data-stu-id="32ed3-219">However, when you switch the model to use DirectQuery mode, the security context is more complex:</span></span>  
  
-   <span data-ttu-id="32ed3-220">Необходимо определять, имеют ли пользователи необходимый уровень доступа к данным в реляционном хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-220">Consider whether users have the necessary level of access to the data in the relational data store.</span></span>  
  
-   <span data-ttu-id="32ed3-221">Пользователи, просматривающие одну и ту же модель или отчет, могут видеть разные данные в зависимости от контекста безопасности пользователя.</span><span class="sxs-lookup"><span data-stu-id="32ed3-221">Users who view the same model or report might see different data, depending on the user's security context.</span></span>  
  
-   <span data-ttu-id="32ed3-222">Если кэш модели был сохранен, он защищается с помощью модели (ролей) безопасности [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32ed3-222">If the model cache has been preserved, the cache is secured using the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] security model (roles).</span></span> <span data-ttu-id="32ed3-223">Кэш может содержать данные, которые имеют право видеть разработчики моделей, но не пользователи.</span><span class="sxs-lookup"><span data-stu-id="32ed3-223">The cache might contain data that the model designer is privileged to see but the user is not.</span></span> <span data-ttu-id="32ed3-224">Конструкторы моделей и отчетов должны очищать кэш либо обеспечивать безопасность данных путем контроля доступа с помощью ролей.</span><span class="sxs-lookup"><span data-stu-id="32ed3-224">Model and report designers should either clear the cache, or secure this data by controlling access via roles.</span></span>  
  
-   <span data-ttu-id="32ed3-225">Модель, отвечающая на запросы из кэша, не может олицетворять текущего пользователя при подключении к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-225">A model that answers queries from the cache cannot impersonate the current user when connecting to the data source.</span></span> <span data-ttu-id="32ed3-226">Если нужно олицетворять текущего пользователя при подключении к источнику данных, следует использовать режим DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-226">If you want to impersonate the current user when connecting to the data source, you must use DirectQuery mode.</span></span>  
  
-   <span data-ttu-id="32ed3-227">Если для вашей модели отчета требуется обеспечить безопасность, есть два возможных варианта: можно использовать роли служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] либо задать разрешения доступа к данным на уровне строк.</span><span class="sxs-lookup"><span data-stu-id="32ed3-227">If your report model requires security, you have two options: you can either use [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] roles, or you can set row-level permissions on the data source.</span></span> <span data-ttu-id="32ed3-228">Безопасность в реляционном источнике данных используется для управления доступом к таблицам, при этом безопасность уровня столбцов не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="32ed3-228">Security in the relational data source is used to control access to tables, and column-level security is not supported.</span></span> <span data-ttu-id="32ed3-229">Таким образом, если пользователи одного региона не имеют разрешения просматривать результаты продаж из других регионов, отчет, который включает меру на основе таблицы «Продажи», будет возвращать пустые ячейки или ошибку.</span><span class="sxs-lookup"><span data-stu-id="32ed3-229">Therefore, if users in one region do not have permission to view sales figures from different regions, a report that includes a measure based on the Sales table would return blanks or an error.</span></span>  
  
 <span data-ttu-id="32ed3-230">Свойство параметров олицетворения указывает учетные данные, используемые для подключения к модели с помощью DirectQuery, для модели DirectQuery или для гибридной модели, отвечающей на запросы с помощью DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-230">The impersonation settings property specifies the credentials used when you are connecting to a model using DirectQuery, either for a DirectQuery only model or for a hybrid model answering queries using DirectQuery.</span></span> <span data-ttu-id="32ed3-231">Свойство может принимать следующие значения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-231">The property has the following values:</span></span>  
  
 <span data-ttu-id="32ed3-232">**Default**</span><span class="sxs-lookup"><span data-stu-id="32ed3-232">**Default**</span></span>  
 <span data-ttu-id="32ed3-233">Использует учетные данные, заданные в мастере импорта для подключения к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-233">Uses the credentials specified in the import wizard to connect to the data source.</span></span> <span data-ttu-id="32ed3-234">Это может быть определенный пользователь Windows или учетная запись службы.</span><span class="sxs-lookup"><span data-stu-id="32ed3-234">This can be a specific Windows user or the service account.</span></span>  
  
 `ImpersonateCurrentUser`  
 <span data-ttu-id="32ed3-235">Использует для подключения к источнику данных учетные данные текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="32ed3-235">Uses the credentials of the current user to connect to the data source.</span></span>  
  
 <span data-ttu-id="32ed3-236">Сведения о настройке этих свойств см. в разделе [сценарии развертывания DirectQuery &#40;табличные&#41;SSAS ](../directquery-deployment-scenarios-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-236">For information on how to set these properties, see [DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;](../directquery-deployment-scenarios-ssas-tabular.md).</span></span>  
  
##  <a name="directquery-properties"></a><a name="bkmk_PropertyList"></a><span data-ttu-id="32ed3-237">Свойства DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-237">DirectQuery Properties</span></span>  
 <span data-ttu-id="32ed3-238">В следующей таблице перечислены свойства, которые можно задать в среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]и [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], чтобы включить режим DirectQuery и управлять источником данных, используемым для запросов к модели.</span><span class="sxs-lookup"><span data-stu-id="32ed3-238">The following table lists the properties that you can set in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], and in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], to enable DirectQuery and to control the source of data used for queries against the model.</span></span>  
  
|<span data-ttu-id="32ed3-239">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="32ed3-239">Property name</span></span>|<span data-ttu-id="32ed3-240">Описание</span><span class="sxs-lookup"><span data-stu-id="32ed3-240">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="32ed3-241">**Свойство DirectQueryMode**</span><span class="sxs-lookup"><span data-stu-id="32ed3-241">**DirectQueryMode property**</span></span>|<span data-ttu-id="32ed3-242">Это свойство позволяет использовать режим DirectQuery в конструкторе моделей.</span><span class="sxs-lookup"><span data-stu-id="32ed3-242">This property enables use of DirectQuery mode in the model designer.</span></span> <span data-ttu-id="32ed3-243">Чтобы изменить другие свойства DirectQuery, этому свойству следует задать значение `On`.</span><span class="sxs-lookup"><span data-stu-id="32ed3-243">You must set this property to `On` to change any of the other DirectQuery properties.</span></span><br /><br /> <span data-ttu-id="32ed3-244">Дополнительные сведения см. в разделе [Включение режима разработки DirectQuery &#40;табличных&#41;SSAS ](enable-directquery-mode-in-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-244">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>|  
|<span data-ttu-id="32ed3-245">**Свойство QueryMode**</span><span class="sxs-lookup"><span data-stu-id="32ed3-245">**QueryMode property**</span></span>|<span data-ttu-id="32ed3-246">Это свойство указывает метод отправки запросов по умолчанию для модели DirectQuery. Свойство задается в конструкторе моделей при развертывании модели, однако позже его можно изменить.</span><span class="sxs-lookup"><span data-stu-id="32ed3-246">This property specifies the default query method for a DirectQuery model, You set this property in the model designer when you deploy the model, but you can override it later.</span></span> <span data-ttu-id="32ed3-247">Свойство может принимать следующие значения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-247">The property has these values:</span></span><br /><br /> <span data-ttu-id="32ed3-248">**DirectQuery** — этот параметр указывает, что все запросы к модели должны использовать только реляционный источник данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-248">**DirectQuery** - This setting specifies all queries to the model should use the relational data source only.</span></span><br /><br /> <span data-ttu-id="32ed3-249">**DirectQuery и в памяти** . Указывает, что по умолчанию запросы должны получать ответ из реляционного источника, если иное не указано в строке подключения клиента.</span><span class="sxs-lookup"><span data-stu-id="32ed3-249">**DirectQuery with In-Memory** - This setting specifies, by default, queries should be answered by using the relational source, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="32ed3-250">**В памяти** . Этот параметр указывает, что запросы должны получать ответ только из кэша.</span><span class="sxs-lookup"><span data-stu-id="32ed3-250">**In-Memory** - This setting specifies  queries should be answered by using the cache only.</span></span><br /><br /> <span data-ttu-id="32ed3-251">**В памяти с DirectQuery** . Этот параметр указывает, что по умолчанию</span><span class="sxs-lookup"><span data-stu-id="32ed3-251">**In-Memory with DirectQuery** - This setting specifies, by default.</span></span> <span data-ttu-id="32ed3-252">запросы должны получать ответ из кэша, если иное не указано в строке подключения клиента.</span><span class="sxs-lookup"><span data-stu-id="32ed3-252">queries should be answered by using the cache, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <br /><br /> <span data-ttu-id="32ed3-253">Дополнительные сведения см. в разделе [Установка или изменение предпочтительного метода подключения для DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-253">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="32ed3-254">**Свойство DirectQueryMode**</span><span class="sxs-lookup"><span data-stu-id="32ed3-254">**DirectQueryMode property**</span></span>|<span data-ttu-id="32ed3-255">После развертывания модели предпочтительный источник данных запросов для модели DirectQuery можно изменить, задав свойство в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]</span><span class="sxs-lookup"><span data-stu-id="32ed3-255">After the model has been deployed, you can change the preferred query data source for a DirectQuery model, by changing this property in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]</span></span><br /><br /> <span data-ttu-id="32ed3-256">Как и в случае с предыдущим свойством, это свойство указывает источник данных по умолчанию для модели и может принимать следующие значения.</span><span class="sxs-lookup"><span data-stu-id="32ed3-256">Like the previous property, this property specifies the default data source for the model, and has these values:</span></span><br /><br /> <span data-ttu-id="32ed3-257">**InMemory**. Запросы могут использовать только кэш.</span><span class="sxs-lookup"><span data-stu-id="32ed3-257">**InMemory**: Queries can use the cache only.</span></span><br /><br /> <span data-ttu-id="32ed3-258">**DirectQuerywithInMemory**. По умолчанию запросы используют реляционный источник данных, если иное не указано в строке подключения клиента.</span><span class="sxs-lookup"><span data-stu-id="32ed3-258">**DirectQuerywithInMemory**: Queries use the relational data source by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="32ed3-259">**InMemorywithDirectQuery**. По умолчанию запросы используют кэш, если иное не указано в строке подключения клиента.</span><span class="sxs-lookup"><span data-stu-id="32ed3-259">**InMemorywithDirectQuery**: Queries use the cache by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="32ed3-260">(**DirectQuery**. Запросы используют только реляционный источник данных.</span><span class="sxs-lookup"><span data-stu-id="32ed3-260">(**DirectQuery**: Queries use the relational data source only.</span></span><br /><br /> <br /><br /> <span data-ttu-id="32ed3-261">Дополнительные сведения см. в разделе [Установка или изменение предпочтительного метода подключения для DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-261">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="32ed3-262">**Свойство «Параметры олицетворения»**</span><span class="sxs-lookup"><span data-stu-id="32ed3-262">**Impersonation Settings property**</span></span>|<span data-ttu-id="32ed3-263">Это свойство определяет учетные данные, используемые для подключения к источнику данных SQL Server во время отправки запроса.</span><span class="sxs-lookup"><span data-stu-id="32ed3-263">This property defines the credentials used to connect to the SQL Server data source at query time.</span></span> <span data-ttu-id="32ed3-264">Это свойство можно задать в конструкторе моделей и изменить его позже после развертывания модели.</span><span class="sxs-lookup"><span data-stu-id="32ed3-264">You can set this property in the model designer, and you can change the value later, after the model has been deployed.</span></span><br /><br /> <span data-ttu-id="32ed3-265">Обратите внимание, что эти учетные данные используются только для ответа на запросы к реляционному хранилищу данных. Они отличаются от учетных данных, используемых для обработки кэша гибридной модели.</span><span class="sxs-lookup"><span data-stu-id="32ed3-265">Note that these credentials are used only for answering queries against the relational data store; they are not the same as the credentials used for processing the cache of a hybrid model.</span></span><br /><br /> <span data-ttu-id="32ed3-266">Олицетворение не может использоваться, когда модель находится только в памяти.</span><span class="sxs-lookup"><span data-stu-id="32ed3-266">Impersonation cannot be used when the model is used within memory only.</span></span> <span data-ttu-id="32ed3-267">Параметр `ImpersonateCurrentUser` недействителен, если модель не использует режим DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-267">The setting `ImpersonateCurrentUser`, is invalid unless the model is using DirectQuery mode.</span></span>|  
  
 <span data-ttu-id="32ed3-268">Помимо этого, если модель включает секции, следует выбрать одну секцию для использования в качестве источника для запросов в режиме DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-268">Additionally, if your model includes partitions, you must choose one partition to use as the source for queries in DirectQuery mode.</span></span> <span data-ttu-id="32ed3-269">Дополнительные сведения см. в [разделах partitions и режим DirectQuery &#40;табличные&#41;SSAS ](define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="32ed3-269">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
##  <a name="related-topics-and-tasks"></a><a name="bkmk_related_tasks"></a><span data-ttu-id="32ed3-270">Связанные разделы и задачи</span><span class="sxs-lookup"><span data-stu-id="32ed3-270">Related Topics and Tasks</span></span>  
  
|<span data-ttu-id="32ed3-271">Раздел</span><span class="sxs-lookup"><span data-stu-id="32ed3-271">Topic</span></span>|<span data-ttu-id="32ed3-272">Описание</span><span class="sxs-lookup"><span data-stu-id="32ed3-272">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="32ed3-273">Секции и режим DirectQuery &#40;табличные&#41;SSAS</span><span class="sxs-lookup"><span data-stu-id="32ed3-273">Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;</span></span>](define-partitions-in-directquery-models-ssas-tabular.md)|<span data-ttu-id="32ed3-274">Описывает, как секции используются в моделях, настроенных для режима DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-274">Describes how partitions are used in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="32ed3-275">Совместимость формул в режиме DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-275">DAX Formula Compatibility in DirectQuery Mode</span></span>](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md)|<span data-ttu-id="32ed3-276">Описывает ограничения и требования совместимости для формул, которые используются в моделях, настроенных для режима DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-276">Describes restrictions and compatibility requirements on the formulas that you can use in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="32ed3-277">Включение режима конструктора DirectQuery &#40;табличных&#41;SSAS</span><span class="sxs-lookup"><span data-stu-id="32ed3-277">Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;</span></span>](enable-directquery-mode-in-ssdt.md)|<span data-ttu-id="32ed3-278">Описывает, как можно изменить среду времени разработки так, чтобы она поддерживала использование режима DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-278">Describes how you can change the design-time environment so that it supports using DirectQuery mode</span></span>|  
|[<span data-ttu-id="32ed3-279">Изменение секции DirectQuery &#40;табличных&#41;SSAS</span><span class="sxs-lookup"><span data-stu-id="32ed3-279">Change the DirectQuery Partition &#40;SSAS Tabular&#41;</span></span>](../change-the-directquery-partition-ssas-tabular.md)|<span data-ttu-id="32ed3-280">Описывает, как изменить секцию DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-280">Describes how to change the DirectQuery partition.</span></span>|  
|[<span data-ttu-id="32ed3-281">Установка или изменение предпочтительного метода подключения для DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-281">Set or Change the Preferred Connection Method for DirectQuery</span></span>](../set-or-change-the-preferred-connection-method-for-directquery.md)|<span data-ttu-id="32ed3-282">Описывает, как задать или изменить метод соединения для моделей, настроенных для DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-282">Describes how to set or change the connection method for models configured for DirectQuery.</span></span>|  
|[<span data-ttu-id="32ed3-283">Сценарии развертывания DirectQuery &#40;табличных&#41;SSAS</span><span class="sxs-lookup"><span data-stu-id="32ed3-283">DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;</span></span>](../directquery-deployment-scenarios-ssas-tabular.md)|<span data-ttu-id="32ed3-284">Описывает сценарии развертывания DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="32ed3-284">Describes DirectQuery deployment scenarios.</span></span>|  
|[<span data-ttu-id="32ed3-285">Настройка доступа в памяти или доступа DirectQuery для базы данных табличной модели</span><span class="sxs-lookup"><span data-stu-id="32ed3-285">Configure In-Memory or DirectQuery Access for a Tabular Model Database</span></span>](enable-directquery-mode-in-ssms.md)|<span data-ttu-id="32ed3-286">Обзор конфигураций DirectQuery</span><span class="sxs-lookup"><span data-stu-id="32ed3-286">Understand DirectQuery configurations</span></span>|  
|[<span data-ttu-id="32ed3-287">Очистка кэша служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="32ed3-287">Clear the Analysis Services Caches</span></span>](../instances/clear-the-analysis-services-caches.md)|<span data-ttu-id="32ed3-288">Очистите кэш табличной модели</span><span class="sxs-lookup"><span data-stu-id="32ed3-288">Clear the cache of the tabular model</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="32ed3-289">См. также:</span><span class="sxs-lookup"><span data-stu-id="32ed3-289">See Also</span></span>  
 <span data-ttu-id="32ed3-290">[Секции &#40;табличные&#41;SSAS](partitions-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="32ed3-290">[Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md) </span></span>  
 <span data-ttu-id="32ed3-291">[Проекты табличной модели &#40;табличные&#41;SSAS](tabular-model-projects-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="32ed3-291">[Tabular Model Projects &#40;SSAS Tabular&#41;](tabular-model-projects-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="32ed3-292">Анализ в Excel (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="32ed3-292">Analyze in Excel &#40;SSAS Tabular&#41;</span></span>](analyze-in-excel-ssas-tabular.md)  

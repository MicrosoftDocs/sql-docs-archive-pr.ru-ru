---
title: Связи (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21e0144a-3cfd-4bc7-87ff-bb7d1800ed2f
author: minewiskan
ms.author: owend
ms.openlocfilehash: eac90102e4595bf19cbeb7eefc22e975ecf53610
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738822"
---
# <a name="relationships-ssas-tabular"></a><span data-ttu-id="22cb1-102">Связи (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="22cb1-102">Relationships (SSAS Tabular)</span></span>
  <span data-ttu-id="22cb1-103">В табличных моделях связь — это соединение между двумя таблицами данных.</span><span class="sxs-lookup"><span data-stu-id="22cb1-103">In tabular models, a relationship is a connection between two tables of data.</span></span> <span data-ttu-id="22cb1-104">Связь определяет, как должны соотноситься данные в двух таблицах.</span><span class="sxs-lookup"><span data-stu-id="22cb1-104">The relationship establishes how the data in the two tables should be correlated.</span></span> <span data-ttu-id="22cb1-105">Например, таблица «Customers» и таблица «Orders» могут быть связаны, чтобы отображалось имя клиента, соответствующее каждому заказу.</span><span class="sxs-lookup"><span data-stu-id="22cb1-105">For example, a Customers table and an Orders table can be related in order to show the customer name that is associated with each order.</span></span>  
  
 <span data-ttu-id="22cb1-106">При использовании мастера импорта таблиц для импорта из одного и того же источника данных связи, существующие в таблицах (в источнике данных), которые выбраны для импорта, будут повторно созданы в модели.</span><span class="sxs-lookup"><span data-stu-id="22cb1-106">When using the Table Import Wizard to import from the same data source, relationships that already exist in tables (at the data source) that you choose to import will be re-created in the model.</span></span> <span data-ttu-id="22cb1-107">Можно просмотреть связи, которые были автоматически обнаружены и созданы повторно, с помощью конструктора моделей в представлении диаграммы либо с помощью диалогового окна «Управление связями».</span><span class="sxs-lookup"><span data-stu-id="22cb1-107">You can view relationships that were detected and re-created automatically by using the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="22cb1-108">Можно также вручную создавать новые связи между таблицами при помощи конструктора моделей в представлении диаграмм или при помощи диалоговых окон «Создание связи» или «Управление связями».</span><span class="sxs-lookup"><span data-stu-id="22cb1-108">You can also create new relationships between tables manually by using the model designer in Diagram View or by using the Create Relationship or Manage Relationships dialog box.</span></span>  
  
 <span data-ttu-id="22cb1-109">После определения связи между заданными таблицами (автоматически, во время импорта или вручную) можно будет выполнять фильтрацию данных с помощью связанных столбцов и выполнять поиск значений в связанных таблицах.</span><span class="sxs-lookup"><span data-stu-id="22cb1-109">After relationships between tables have been defined, either automatically during import or created manually, you will be able to filter data by using related columns and look up values in related tables.</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="22cb1-110">Если модель содержит много связей, представление диаграммы лучше поможет визуально представить и создавать связи между таблицами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-110">If your model contains many relationships, Diagram View can better help you better visualize and create new relationships between tables.</span></span>  
  
 <span data-ttu-id="22cb1-111">Разделы данной темы:</span><span class="sxs-lookup"><span data-stu-id="22cb1-111">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="22cb1-112">Преимущества</span><span class="sxs-lookup"><span data-stu-id="22cb1-112">Benefits</span></span>](#what)  
  
-   [<span data-ttu-id="22cb1-113">Требования к связям</span><span class="sxs-lookup"><span data-stu-id="22cb1-113">Requirements for Relationships</span></span>](#requirements)  
  
-   [<span data-ttu-id="22cb1-114">Вывод связей</span><span class="sxs-lookup"><span data-stu-id="22cb1-114">Inference of Relationships</span></span>](#detection)  
  
-   [<span data-ttu-id="22cb1-115">Обнаружение связей при импорте данных</span><span class="sxs-lookup"><span data-stu-id="22cb1-115">Detection of Relationships When Importing Data</span></span>](#bkmk_detection)  
  
-   [<span data-ttu-id="22cb1-116">Создание связей вручную</span><span class="sxs-lookup"><span data-stu-id="22cb1-116">Manually Create Relationships</span></span>](#bkmk_manually_create)  
  
-   [<span data-ttu-id="22cb1-117">Дублирующиеся значения и другие ошибки</span><span class="sxs-lookup"><span data-stu-id="22cb1-117">Duplicate Values and Other Errors</span></span>](#bkmk_dupl_errors)  
  
-   [<span data-ttu-id="22cb1-118">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="22cb1-118">Related Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits"></a><a name="what"></a> <span data-ttu-id="22cb1-119">Преимущества</span><span class="sxs-lookup"><span data-stu-id="22cb1-119">Benefits</span></span>  
 <span data-ttu-id="22cb1-120">Связь представляет собой соединение двух таблиц данных на основании одного или нескольких столбцов в каждой таблице.</span><span class="sxs-lookup"><span data-stu-id="22cb1-120">A relationship is a connection between two tables of data, based on one or more columns in each table.</span></span> <span data-ttu-id="22cb1-121">Чтобы понять, чем полезны связи, представим, что отслеживаются данные для заказов клиентов в бизнесе.</span><span class="sxs-lookup"><span data-stu-id="22cb1-121">To see why relationships are useful, imagine that you track data for customer orders in your business.</span></span> <span data-ttu-id="22cb1-122">Можно отслеживать все данные в одной таблице, имеющей структуру, подобную следующей.</span><span class="sxs-lookup"><span data-stu-id="22cb1-122">You could track all the data in a single table that has a structure like the following:</span></span>  
  
|<span data-ttu-id="22cb1-123">CustomerID</span><span class="sxs-lookup"><span data-stu-id="22cb1-123">CustomerID</span></span>|<span data-ttu-id="22cb1-124">Имя</span><span class="sxs-lookup"><span data-stu-id="22cb1-124">Name</span></span>|<span data-ttu-id="22cb1-125">EMail</span><span class="sxs-lookup"><span data-stu-id="22cb1-125">EMail</span></span>|<span data-ttu-id="22cb1-126">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="22cb1-126">DiscountRate</span></span>|<span data-ttu-id="22cb1-127">OrderID</span><span class="sxs-lookup"><span data-stu-id="22cb1-127">OrderID</span></span>|<span data-ttu-id="22cb1-128">OrderDate</span><span class="sxs-lookup"><span data-stu-id="22cb1-128">OrderDate</span></span>|<span data-ttu-id="22cb1-129">Продукт</span><span class="sxs-lookup"><span data-stu-id="22cb1-129">Product</span></span>|<span data-ttu-id="22cb1-130">Количество</span><span class="sxs-lookup"><span data-stu-id="22cb1-130">Quantity</span></span>|  
|----------------|----------|-----------|------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="22cb1-131">1</span><span class="sxs-lookup"><span data-stu-id="22cb1-131">1</span></span>|<span data-ttu-id="22cb1-132">Эштон</span><span class="sxs-lookup"><span data-stu-id="22cb1-132">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="22cb1-133">0,05</span><span class="sxs-lookup"><span data-stu-id="22cb1-133">.05</span></span>|<span data-ttu-id="22cb1-134">256</span><span class="sxs-lookup"><span data-stu-id="22cb1-134">256</span></span>|<span data-ttu-id="22cb1-135">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="22cb1-135">2010-01-07</span></span>|<span data-ttu-id="22cb1-136">Компактный цифровой</span><span class="sxs-lookup"><span data-stu-id="22cb1-136">Compact Digital</span></span>|<span data-ttu-id="22cb1-137">11</span><span class="sxs-lookup"><span data-stu-id="22cb1-137">11</span></span>|  
|<span data-ttu-id="22cb1-138">1</span><span class="sxs-lookup"><span data-stu-id="22cb1-138">1</span></span>|<span data-ttu-id="22cb1-139">Эштон</span><span class="sxs-lookup"><span data-stu-id="22cb1-139">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="22cb1-140">0,05</span><span class="sxs-lookup"><span data-stu-id="22cb1-140">.05</span></span>|<span data-ttu-id="22cb1-141">255</span><span class="sxs-lookup"><span data-stu-id="22cb1-141">255</span></span>|<span data-ttu-id="22cb1-142">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="22cb1-142">2010-01-03</span></span>|<span data-ttu-id="22cb1-143">Однообъективный зеркальный фотоаппарат</span><span class="sxs-lookup"><span data-stu-id="22cb1-143">SLR Camera</span></span>|<span data-ttu-id="22cb1-144">15</span><span class="sxs-lookup"><span data-stu-id="22cb1-144">15</span></span>|  
|<span data-ttu-id="22cb1-145">2</span><span class="sxs-lookup"><span data-stu-id="22cb1-145">2</span></span>|<span data-ttu-id="22cb1-146">Яворски</span><span class="sxs-lookup"><span data-stu-id="22cb1-146">Jaworski</span></span>|michal.jaworski@contoso.com|<span data-ttu-id="22cb1-147">0,10</span><span class="sxs-lookup"><span data-stu-id="22cb1-147">.10</span></span>|<span data-ttu-id="22cb1-148">254</span><span class="sxs-lookup"><span data-stu-id="22cb1-148">254</span></span>|<span data-ttu-id="22cb1-149">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="22cb1-149">2010-01-03</span></span>|<span data-ttu-id="22cb1-150">Недорогая видеокамера</span><span class="sxs-lookup"><span data-stu-id="22cb1-150">Budget Movie-Maker</span></span>|<span data-ttu-id="22cb1-151">27</span><span class="sxs-lookup"><span data-stu-id="22cb1-151">27</span></span>|  
  
 <span data-ttu-id="22cb1-152">Этот подход может быть эффективным, но он подразумевает хранение множества избыточных данных, таких как адрес электронной почты клиента для каждого заказа.</span><span class="sxs-lookup"><span data-stu-id="22cb1-152">This approach can work, but it involves storing a lot of redundant data, such as the customer e-mail address for every order.</span></span> <span data-ttu-id="22cb1-153">Хранение не требует больших затрат, но нужно быть уверенным в том, что при изменении адреса электронной почты будет обновлена каждая строка для этого клиента.</span><span class="sxs-lookup"><span data-stu-id="22cb1-153">Storage is cheap, but you have to make sure you update every row for that customer if the e-mail address changes.</span></span> <span data-ttu-id="22cb1-154">Одним из решений этой проблемы является разбиение данных на множество таблиц и определение связей между этими таблицами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-154">One solution to this problem is to split the data into multiple tables and define relationships between those tables.</span></span> <span data-ttu-id="22cb1-155">Именно этот подход используется в *реляционных базах данных* наподобие [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22cb1-155">This is the approach used in *relational databases* like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="22cb1-156">Например, база данных, которая импортируется в модель, может представлять данные заказов, используя три связанные таблицы.</span><span class="sxs-lookup"><span data-stu-id="22cb1-156">For example, a database that you import into a model might represent order data by using three related tables:</span></span>  
  
### <a name="customers"></a><span data-ttu-id="22cb1-157">Клиенты</span><span class="sxs-lookup"><span data-stu-id="22cb1-157">Customers</span></span>  
  
|<span data-ttu-id="22cb1-158">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="22cb1-158">[CustomerID]</span></span>|<span data-ttu-id="22cb1-159">Имя</span><span class="sxs-lookup"><span data-stu-id="22cb1-159">Name</span></span>|<span data-ttu-id="22cb1-160">Email</span><span class="sxs-lookup"><span data-stu-id="22cb1-160">Email</span></span>|  
|--------------------|----------|-----------|  
|<span data-ttu-id="22cb1-161">1</span><span class="sxs-lookup"><span data-stu-id="22cb1-161">1</span></span>|<span data-ttu-id="22cb1-162">Эштон</span><span class="sxs-lookup"><span data-stu-id="22cb1-162">Ashton</span></span>|chris.ashton@contoso.com|  
|<span data-ttu-id="22cb1-163">2</span><span class="sxs-lookup"><span data-stu-id="22cb1-163">2</span></span>|<span data-ttu-id="22cb1-164">Яворски</span><span class="sxs-lookup"><span data-stu-id="22cb1-164">Jaworski</span></span>|michal.jaworski@contoso.com|  
  
### <a name="customerdiscounts"></a><span data-ttu-id="22cb1-165">CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="22cb1-165">CustomerDiscounts</span></span>  
  
|<span data-ttu-id="22cb1-166">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="22cb1-166">[CustomerID]</span></span>|<span data-ttu-id="22cb1-167">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="22cb1-167">DiscountRate</span></span>|  
|--------------------|------------------|  
|<span data-ttu-id="22cb1-168">1</span><span class="sxs-lookup"><span data-stu-id="22cb1-168">1</span></span>|<span data-ttu-id="22cb1-169">0,05</span><span class="sxs-lookup"><span data-stu-id="22cb1-169">.05</span></span>|  
|<span data-ttu-id="22cb1-170">2</span><span class="sxs-lookup"><span data-stu-id="22cb1-170">2</span></span>|<span data-ttu-id="22cb1-171">0,10</span><span class="sxs-lookup"><span data-stu-id="22cb1-171">.10</span></span>|  
  
### <a name="orders"></a><span data-ttu-id="22cb1-172">Orders</span><span class="sxs-lookup"><span data-stu-id="22cb1-172">Orders</span></span>  
  
|<span data-ttu-id="22cb1-173">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="22cb1-173">[CustomerID]</span></span>|<span data-ttu-id="22cb1-174">OrderID</span><span class="sxs-lookup"><span data-stu-id="22cb1-174">OrderID</span></span>|<span data-ttu-id="22cb1-175">OrderDate</span><span class="sxs-lookup"><span data-stu-id="22cb1-175">OrderDate</span></span>|<span data-ttu-id="22cb1-176">Продукт</span><span class="sxs-lookup"><span data-stu-id="22cb1-176">Product</span></span>|<span data-ttu-id="22cb1-177">Количество</span><span class="sxs-lookup"><span data-stu-id="22cb1-177">Quantity</span></span>|  
|--------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="22cb1-178">1</span><span class="sxs-lookup"><span data-stu-id="22cb1-178">1</span></span>|<span data-ttu-id="22cb1-179">256</span><span class="sxs-lookup"><span data-stu-id="22cb1-179">256</span></span>|<span data-ttu-id="22cb1-180">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="22cb1-180">2010-01-07</span></span>|<span data-ttu-id="22cb1-181">Компактный цифровой</span><span class="sxs-lookup"><span data-stu-id="22cb1-181">Compact Digital</span></span>|<span data-ttu-id="22cb1-182">11</span><span class="sxs-lookup"><span data-stu-id="22cb1-182">11</span></span>|  
|<span data-ttu-id="22cb1-183">1</span><span class="sxs-lookup"><span data-stu-id="22cb1-183">1</span></span>|<span data-ttu-id="22cb1-184">255</span><span class="sxs-lookup"><span data-stu-id="22cb1-184">255</span></span>|<span data-ttu-id="22cb1-185">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="22cb1-185">2010-01-03</span></span>|<span data-ttu-id="22cb1-186">Однообъективный зеркальный фотоаппарат</span><span class="sxs-lookup"><span data-stu-id="22cb1-186">SLR Camera</span></span>|<span data-ttu-id="22cb1-187">15</span><span class="sxs-lookup"><span data-stu-id="22cb1-187">15</span></span>|  
|<span data-ttu-id="22cb1-188">2</span><span class="sxs-lookup"><span data-stu-id="22cb1-188">2</span></span>|<span data-ttu-id="22cb1-189">254</span><span class="sxs-lookup"><span data-stu-id="22cb1-189">254</span></span>|<span data-ttu-id="22cb1-190">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="22cb1-190">2010-01-03</span></span>|<span data-ttu-id="22cb1-191">Недорогая видеокамера</span><span class="sxs-lookup"><span data-stu-id="22cb1-191">Budget Movie-Maker</span></span>|<span data-ttu-id="22cb1-192">27</span><span class="sxs-lookup"><span data-stu-id="22cb1-192">27</span></span>|  
  
 <span data-ttu-id="22cb1-193">При импорте этих таблиц из одной и той же базы данных мастер импорта таблиц может обнаружить связи между таблицами, основанные на столбцах, заключенных в [квадратные скобки], и воспроизвести эти связи в конструкторе моделей.</span><span class="sxs-lookup"><span data-stu-id="22cb1-193">If you import these tables from the same database, the Table Import Wizard can detect the relationships between the tables based on the columns that are in [brackets], and can reproduce these relationships in the model designer.</span></span> <span data-ttu-id="22cb1-194">Дополнительные сведения см. в подразделе [Автоматическое обнаружение и вывод связей](#detection) этого раздела.</span><span class="sxs-lookup"><span data-stu-id="22cb1-194">For more information, see [Automatic Detection and Inference of Relationships](#detection) in this topic.</span></span> <span data-ttu-id="22cb1-195">Если таблицы импортируются из нескольких источников, то связи можно создавать вручную, как описано в разделе [Создание связи между двумя таблицами (табличные службы SSAS)](create-a-relationship-between-two-tables-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="22cb1-195">If you import tables from multiple sources, you can manually create relationships as described in [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
### <a name="columns-and-keys"></a><span data-ttu-id="22cb1-196">Столбцы и ключи</span><span class="sxs-lookup"><span data-stu-id="22cb1-196">Columns and Keys</span></span>  
 <span data-ttu-id="22cb1-197">Связи основаны на столбцах в каждой таблице, содержащих одинаковые данные.</span><span class="sxs-lookup"><span data-stu-id="22cb1-197">Relationships are based on columns in each table that contain the same data.</span></span> <span data-ttu-id="22cb1-198">Например, таблицы Customers и Orders могут быть связаны друг с другом, поскольку обе содержат столбец, в котором хранится идентификатор клиента.</span><span class="sxs-lookup"><span data-stu-id="22cb1-198">For example, the Customers and Orders tables can be related to each other because they both contain a column that stores a customer ID.</span></span> <span data-ttu-id="22cb1-199">В данном примере имена столбцов одинаковы, но это не является обязательным условием.</span><span class="sxs-lookup"><span data-stu-id="22cb1-199">In the example, the column names are the same, but this is not a requirement.</span></span> <span data-ttu-id="22cb1-200">Один столбец может называться CustomerID, а другой — CustomerNumber, при условии, что все строки в таблице Orders содержат идентификатор, который также хранится в таблице Customers.</span><span class="sxs-lookup"><span data-stu-id="22cb1-200">One could be CustomerID and another CustomerNumber, as long as all of the rows in the Orders table contain an ID that is also stored in the Customers table.</span></span>  
  
 <span data-ttu-id="22cb1-201">В реляционной базе данных имеется несколько типов *ключей*, которые обычно представлены столбцами со специальными свойствами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-201">In a relational database, there are several types of *keys*, which are typically just columns with special properties.</span></span> <span data-ttu-id="22cb1-202">Следующие четыре типа ключей могут использоваться в реляционных базах данных:</span><span class="sxs-lookup"><span data-stu-id="22cb1-202">The following four types of keys can be used in relational databases:</span></span>  
  
-   <span data-ttu-id="22cb1-203">*Первичный ключ*: однозначно определяет строку в таблице, например CustomerID в таблице Customers.</span><span class="sxs-lookup"><span data-stu-id="22cb1-203">*Primary key*: uniquely identifies a row in a table, such as CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="22cb1-204">*Альтернативный ключ* (или *потенциальный ключ*): уникальный столбец, который не является первичным ключом.</span><span class="sxs-lookup"><span data-stu-id="22cb1-204">*Alternate key* (or *candidate key*): a column other than the primary key that is unique.</span></span> <span data-ttu-id="22cb1-205">Например, таблица Employees может хранить идентификатор работника и номер карточки социального страхования, при том что оба они являются уникальными.</span><span class="sxs-lookup"><span data-stu-id="22cb1-205">For example, an Employees table might store an employee ID and a social security number, both of which are unique.</span></span>  
  
-   <span data-ttu-id="22cb1-206">*Внешний ключ*: столбец, который ссылается на уникальный столбец в другой таблице, например CustomerID в таблице Orders, который ссылается на CustomerID в таблице Customers.</span><span class="sxs-lookup"><span data-stu-id="22cb1-206">*Foreign key*: a column that refers to a unique column in another table, such as CustomerID in the Orders table, which refers to CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="22cb1-207">*Составной ключ*— это ключ, состоящий из нескольких столбцов.</span><span class="sxs-lookup"><span data-stu-id="22cb1-207">*Composite key*: a key that is composed of more than one column.</span></span> <span data-ttu-id="22cb1-208">Составные ключи в табличных моделях не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="22cb1-208">Composite keys are not supported in tabular models.</span></span> <span data-ttu-id="22cb1-209">Дополнительные сведения см. в подразделе «Составные ключи и столбцы подстановки» в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="22cb1-209">For more information, see "Composite Keys and Lookup Columns" in this topic.</span></span>  
  
 <span data-ttu-id="22cb1-210">В табличных моделях первичный ключ или резервный ключ называется *связанным столбцом подстановки*или просто *столбцом подстановки*.</span><span class="sxs-lookup"><span data-stu-id="22cb1-210">In tabular models, the primary key or alternate key is referred to as the *related lookup column*, or just *lookup column*.</span></span> <span data-ttu-id="22cb1-211">Если таблица имеет и первичный и резервный ключ, в качестве столбца подстановки можно использовать любой из них.</span><span class="sxs-lookup"><span data-stu-id="22cb1-211">If a table has both a primary and alternate key, you can use either as the lookup column.</span></span> <span data-ttu-id="22cb1-212">Внешний ключ называется *исходным столбцом* или просто *столбцом*.</span><span class="sxs-lookup"><span data-stu-id="22cb1-212">The foreign key is referred to as the *source column* or just *column*.</span></span> <span data-ttu-id="22cb1-213">В нашем примере связь была бы определена между CustomerID в таблице Orders (столбец) и CustomerID (столбец подстановки) в таблице Customers.</span><span class="sxs-lookup"><span data-stu-id="22cb1-213">In our example, a relationship would be defined between CustomerID in the Orders table (the column) and CustomerID (the lookup column) in the Customers table.</span></span> <span data-ttu-id="22cb1-214">Если данные импортируются из реляционной базы данных, по умолчанию конструктор моделей выбирает внешний ключ из одной таблицы и соответствующий первичный ключ из другой таблицы.</span><span class="sxs-lookup"><span data-stu-id="22cb1-214">If you import data from a relational database, by default the model designer chooses the foreign key from one table and the corresponding primary key from the other table.</span></span> <span data-ttu-id="22cb1-215">Однако в качестве столбца подстановки можно использовать любой столбец, имеющий уникальные значения.</span><span class="sxs-lookup"><span data-stu-id="22cb1-215">However, you can use any column that has unique values for the lookup column.</span></span>  
  
### <a name="types-of-relationships"></a><span data-ttu-id="22cb1-216">Типы связей</span><span class="sxs-lookup"><span data-stu-id="22cb1-216">Types of Relationships</span></span>  
 <span data-ttu-id="22cb1-217">Связь между таблицами Customers и Orders является связью *один ко многим*.</span><span class="sxs-lookup"><span data-stu-id="22cb1-217">The relationship between Customers and Orders is a *one-to-many relationship*.</span></span> <span data-ttu-id="22cb1-218">Каждый клиент может иметь несколько заказов, но заказ не может иметь несколько клиентов.</span><span class="sxs-lookup"><span data-stu-id="22cb1-218">Every customer can have multiple orders, but an order cannot have multiple customers.</span></span> <span data-ttu-id="22cb1-219">Другими типами связей являются связи *один к одному* и *многие ко многим*.</span><span class="sxs-lookup"><span data-stu-id="22cb1-219">The other types of relationships are *one-to-one* and *many-to-many*.</span></span> <span data-ttu-id="22cb1-220">Таблица CustomerDiscounts, которая определяет по одному льготному тарифу для каждого клиента, находится в связи «один к одному» с таблицей Customers.</span><span class="sxs-lookup"><span data-stu-id="22cb1-220">The CustomerDiscounts table, which defines a single discount rate for each customer, is in a one-to-one relationship with the Customers table.</span></span> <span data-ttu-id="22cb1-221">Примером связи "многие ко многим" является прямая связь между таблицами Products и Customers, когда один клиент может купить много продуктов и один продукт может быть куплен несколькими клиентами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-221">An example of a many-to-many relationship is a direct relationship between Products and Customers, in which a customer can buy many products and the same product can be bought by many customers.</span></span> <span data-ttu-id="22cb1-222">Конструктор моделей не поддерживает связи "многие ко многим" в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="22cb1-222">The model designer does not support many-to-many relationships in the user interface.</span></span> <span data-ttu-id="22cb1-223">Дополнительные сведения можно узнать в разделе "[Связи «многие ко многим»](#bkmk_many_to_many)" этой темы.</span><span class="sxs-lookup"><span data-stu-id="22cb1-223">For more information, see "[Many-to-Many Relationships](#bkmk_many_to_many)" in this topic.</span></span>  
  
 <span data-ttu-id="22cb1-224">В следующей таблице представлены связи между тремя таблицами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-224">The following table shows the relationships between the three tables:</span></span>  
  
|<span data-ttu-id="22cb1-225">Связь</span><span class="sxs-lookup"><span data-stu-id="22cb1-225">Relationship</span></span>|<span data-ttu-id="22cb1-226">Type</span><span class="sxs-lookup"><span data-stu-id="22cb1-226">Type</span></span>|<span data-ttu-id="22cb1-227">столбцом подстановки</span><span class="sxs-lookup"><span data-stu-id="22cb1-227">Lookup Column</span></span>|<span data-ttu-id="22cb1-228">Столбец</span><span class="sxs-lookup"><span data-stu-id="22cb1-228">Column</span></span>|  
|------------------|----------|-------------------|------------|  
|<span data-ttu-id="22cb1-229">Customers — CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="22cb1-229">Customers-CustomerDiscounts</span></span>|<span data-ttu-id="22cb1-230">один к одному</span><span class="sxs-lookup"><span data-stu-id="22cb1-230">one-to-one</span></span>|<span data-ttu-id="22cb1-231">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="22cb1-231">Customers.CustomerID</span></span>|<span data-ttu-id="22cb1-232">CustomerDiscounts.CustomerID</span><span class="sxs-lookup"><span data-stu-id="22cb1-232">CustomerDiscounts.CustomerID</span></span>|  
|<span data-ttu-id="22cb1-233">Customers — Orders</span><span class="sxs-lookup"><span data-stu-id="22cb1-233">Customers-Orders</span></span>|<span data-ttu-id="22cb1-234">один ко многим</span><span class="sxs-lookup"><span data-stu-id="22cb1-234">one-to-many</span></span>|<span data-ttu-id="22cb1-235">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="22cb1-235">Customers.CustomerID</span></span>|<span data-ttu-id="22cb1-236">Orders.CustomerID</span><span class="sxs-lookup"><span data-stu-id="22cb1-236">Orders.CustomerID</span></span>|  
  
### <a name="relationships-and-performance"></a><span data-ttu-id="22cb1-237">Связи и производительность</span><span class="sxs-lookup"><span data-stu-id="22cb1-237">Relationships and Performance</span></span>  
 <span data-ttu-id="22cb1-238">После создания любой связи конструктор моделей, как правило, должен повторно вычислить формулы, использующие столбцы из таблиц, участвующих в созданной связи.</span><span class="sxs-lookup"><span data-stu-id="22cb1-238">After any relationship has been created, the model designer typically must recalculate any formulas that use columns from tables in the newly created relationship.</span></span> <span data-ttu-id="22cb1-239">Обработка может занять некоторое время, в зависимости от объема данных и сложности связей.</span><span class="sxs-lookup"><span data-stu-id="22cb1-239">Processing can take some time depending on the amount of data and the complexity of the relationships.</span></span>  
  
##  <a name="requirements-for-relationships"></a><a name="requirements"></a><span data-ttu-id="22cb1-240">Требования к связям</span><span class="sxs-lookup"><span data-stu-id="22cb1-240">Requirements for Relationships</span></span>  
 <span data-ttu-id="22cb1-241">Конструктор моделей предъявляет несколько требований, которые должны учитываться при создании связей.</span><span class="sxs-lookup"><span data-stu-id="22cb1-241">The model designer has several requirements that must be followed when creating relationships:</span></span>  
  
### <a name="single-active-relationship-between-tables"></a><span data-ttu-id="22cb1-242">Одиночная активная связь между таблицами</span><span class="sxs-lookup"><span data-stu-id="22cb1-242">Single Active Relationship between Tables</span></span>  
 <span data-ttu-id="22cb1-243">Наличие нескольких связей может привести к неоднозначной зависимости между таблицами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-243">Multiple relationships could result in ambiguous dependencies between tables.</span></span> <span data-ttu-id="22cb1-244">Для создания точных вычислений необходимо, чтобы от одной таблицы к другой вел единственный путь.</span><span class="sxs-lookup"><span data-stu-id="22cb1-244">To create accurate calculations, you need a single path from one table to the next.</span></span> <span data-ttu-id="22cb1-245">Поэтому между каждой парой таблиц может существовать только одна активная связь.</span><span class="sxs-lookup"><span data-stu-id="22cb1-245">Therefore, there can be only one active relationship between each pair of tables.</span></span> <span data-ttu-id="22cb1-246">Например, в базе данных AdventureWorks DW 2012 содержится таблица DimDate со столбцом DateKey, который связан с тремя различными столбцами из таблицы FactInternetSales: OrderDate, DueDate и ShipDate.</span><span class="sxs-lookup"><span data-stu-id="22cb1-246">For example, in AdventureWorks DW 2012, the table, DimDate, contains a column, DateKey, that is related to three different columns in the table, FactInternetSales: OrderDate, DueDate, and ShipDate.</span></span> <span data-ttu-id="22cb1-247">Если импортировать эти таблицы без изменений, то первая связь будет создана успешно, однако для последующих связей с участием того же столбца будет получено следующее сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="22cb1-247">If you attempt to import these tables, the first relationship is created successfully, but you will receive the following error on successive relationships that involve the same column:</span></span>  
  
 <span data-ttu-id="22cb1-248">\*Связь: таблица [столбец 1]-> таблица [столбец 2]-состояние: Ошибка-Причина: невозможно создать связь между таблицами \<table 1> и \<table 2> .</span><span class="sxs-lookup"><span data-stu-id="22cb1-248">\* Relationship: table[column 1]-> table[column 2]   - Status: error   - Reason: A relationship cannot be created between tables \<table 1> and \<table 2>.</span></span> <span data-ttu-id="22cb1-249">Между двумя таблицами может существовать только одна прямая или косвенная связь.</span><span class="sxs-lookup"><span data-stu-id="22cb1-249">Only one direct or indirect relationship can exist between two tables.</span></span>  
  
 <span data-ttu-id="22cb1-250">Если имеются две таблицы, между которыми существует несколько связей, то необходимо импортировать несколько копий таблицы, содержащей столбец подстановки, и создать между каждой парой таблиц одну связь.</span><span class="sxs-lookup"><span data-stu-id="22cb1-250">If you have two tables and multiple relationships between them, then you will need to import multiple copies of the table that contains the lookup column, and create one relationship between each pair of tables.</span></span>  
  
 <span data-ttu-id="22cb1-251">Между таблицами может быть много неактивных связей.</span><span class="sxs-lookup"><span data-stu-id="22cb1-251">There can be many inactive relationships between tables.</span></span> <span data-ttu-id="22cb1-252">Путь для использования между таблицами указывается клиентским средством создания отчетов во время запроса.</span><span class="sxs-lookup"><span data-stu-id="22cb1-252">The path to use between tables is specified by the reporting client at query time.</span></span>  
  
### <a name="one-relationship-for-each-source-column"></a><span data-ttu-id="22cb1-253">Наличие одной связи для каждого исходного столбца</span><span class="sxs-lookup"><span data-stu-id="22cb1-253">One Relationship for Each Source Column</span></span>  
 <span data-ttu-id="22cb1-254">Исходный столбец не может участвовать в нескольких связях.</span><span class="sxs-lookup"><span data-stu-id="22cb1-254">A source column cannot participate in multiple relationships.</span></span> <span data-ttu-id="22cb1-255">Если вы уже использовали столбец в качестве исходного столбца в одной связи, но его необходимо связать с другим столбцом подстановки в другой таблице, можно создать копию столбца и использовать ее в новой связи.</span><span class="sxs-lookup"><span data-stu-id="22cb1-255">If you have used a column as a source column in one relationship already, but want to use that column to connect to another related lookup column in a different table, you can create a copy of the column, and use that column for the new relationship.</span></span>  
  
 <span data-ttu-id="22cb1-256">Создание копии столбца, имеющего те же значения, упрощается посредством применения формулы DAX в вычисляемом столбце.</span><span class="sxs-lookup"><span data-stu-id="22cb1-256">It is easy to create a copy of a column that has the exact same values, by using a DAX formula in a calculated column.</span></span> <span data-ttu-id="22cb1-257">Дополнительные сведения см. в разделе [Вычисляемые столбцы (табличные службы SSAS)](ssas-calculated-columns-create-a-calculated-column.md).</span><span class="sxs-lookup"><span data-stu-id="22cb1-257">For more information, see [Create a Calculated Column &#40;SSAS Tabular&#41;](ssas-calculated-columns-create-a-calculated-column.md).</span></span>  
  
### <a name="unique-identifier-for-each-table"></a><span data-ttu-id="22cb1-258">Применение уникального идентификатора для каждой таблицы</span><span class="sxs-lookup"><span data-stu-id="22cb1-258">Unique Identifier for Each Table</span></span>  
 <span data-ttu-id="22cb1-259">Каждая таблица должна иметь один столбец, который однозначно идентифицирует каждую строку в этой таблице.</span><span class="sxs-lookup"><span data-stu-id="22cb1-259">Each table must have a single column that uniquely identifies each row in that table.</span></span> <span data-ttu-id="22cb1-260">Такой столбец часто именуется первичным ключом.</span><span class="sxs-lookup"><span data-stu-id="22cb1-260">This column is often referred to as the primary key.</span></span>  
  
### <a name="unique-lookup-columns"></a><span data-ttu-id="22cb1-261">Уникальные столбцы подстановки</span><span class="sxs-lookup"><span data-stu-id="22cb1-261">Unique Lookup Columns</span></span>  
 <span data-ttu-id="22cb1-262">Значения данных в столбце подстановки должны быть уникальными.</span><span class="sxs-lookup"><span data-stu-id="22cb1-262">The data values in the lookup column must be unique.</span></span> <span data-ttu-id="22cb1-263">Иными словами, столбец не может содержать повторяющиеся значения.</span><span class="sxs-lookup"><span data-stu-id="22cb1-263">In other words, the column cannot contain duplicates.</span></span> <span data-ttu-id="22cb1-264">В табличных моделях значения NULL и пустые строки считаются эквивалентными пустому значению, которое является отдельным значением данных.</span><span class="sxs-lookup"><span data-stu-id="22cb1-264">In Tabular models, nulls and empty strings are equivalent to a blank, which is a distinct data value.</span></span> <span data-ttu-id="22cb1-265">Это значит, что столбец подстановки не может содержать несколько значений NULL.</span><span class="sxs-lookup"><span data-stu-id="22cb1-265">This means that you cannot have multiple nulls in the lookup column.</span></span>  
  
### <a name="compatible-data-types"></a><span data-ttu-id="22cb1-266">Совместимые типы данных</span><span class="sxs-lookup"><span data-stu-id="22cb1-266">Compatible Data Types</span></span>  
 <span data-ttu-id="22cb1-267">Типы данных в исходном столбце и в столбце подстановки должны быть совместимыми.</span><span class="sxs-lookup"><span data-stu-id="22cb1-267">The data types in the source column and lookup column must be compatible.</span></span> <span data-ttu-id="22cb1-268">Дополнительные сведения о типах данных см. в разделе [Поддерживаемые типы данных (табличные службы SSAS)](data-types-supported-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="22cb1-268">For more information about data types, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
### <a name="composite-keys-and-lookup-columns"></a><span data-ttu-id="22cb1-269">Составные ключи и столбцы подстановки</span><span class="sxs-lookup"><span data-stu-id="22cb1-269">Composite Keys and Lookup Columns</span></span>  
 <span data-ttu-id="22cb1-270">Составные ключи нельзя использовать в табличной модели. Необходимо иметь только один столбец, однозначно определяющий каждую строку в таблице.</span><span class="sxs-lookup"><span data-stu-id="22cb1-270">You cannot use composite keys in a tabular model; you must always have one column that uniquely identifies each row in the table.</span></span> <span data-ttu-id="22cb1-271">Если импортировать таблицы, для которых существует связь по составному ключу, мастер импорта таблиц будет игнорировать такую связь, поскольку ее нельзя создать в табличной модели.</span><span class="sxs-lookup"><span data-stu-id="22cb1-271">If you try to import tables that have an existing relationship based on a composite key, the Table Import Wizard will ignore that relationship because it cannot be created in the tabular model.</span></span>  
  
 <span data-ttu-id="22cb1-272">Если нужно создать связь между двумя таблицами в конструкторе моделей, а первичный и внешний ключи определяются несколькими столбцами, то перед созданием связи необходимо объединить значения, чтобы создать один ключевой столбец.</span><span class="sxs-lookup"><span data-stu-id="22cb1-272">If you want to create a relationship between two tables in the model designer, and there are multiple columns defining the primary and foreign keys, you must combine the values to create a single key column before creating the relationship.</span></span> <span data-ttu-id="22cb1-273">Это можно сделать перед импортом данных или осуществить в конструкторе моделей, создав вычисляемый столбец.</span><span class="sxs-lookup"><span data-stu-id="22cb1-273">You can do this before you import the data, or you can do this in the model designer by creating a calculated column.</span></span>  
  
###  <a name="many-to-many-relationships"></a><a name="bkmk_many_to_many"></a><span data-ttu-id="22cb1-274">Связи «многие ко многим»</span><span class="sxs-lookup"><span data-stu-id="22cb1-274">Many-to-Many Relationships</span></span>  
 <span data-ttu-id="22cb1-275">Табличные модели не поддерживают связи "многие ко многим", что не позволяет добавлять *соединяющие таблицы* в конструктор моделей.</span><span class="sxs-lookup"><span data-stu-id="22cb1-275">Tabular models do not support many-to-many relationships, and you cannot add *junction tables* in the model designer.</span></span> <span data-ttu-id="22cb1-276">Тем не менее можно использовать функции DAX для моделирования связи «многие ко многим».</span><span class="sxs-lookup"><span data-stu-id="22cb1-276">However, you can use DAX functions to model many-to-many relationships.</span></span>  
  
### <a name="self-joins-and-loops"></a><span data-ttu-id="22cb1-277">Самосоединения и циклы</span><span class="sxs-lookup"><span data-stu-id="22cb1-277">Self-Joins and Loops</span></span>  
 <span data-ttu-id="22cb1-278">В таблицах табличной модели не допускаются самосоединения.</span><span class="sxs-lookup"><span data-stu-id="22cb1-278">Self-joins are not permitted in tabular model tables.</span></span> <span data-ttu-id="22cb1-279">Самосоединение — это рекурсивная связь таблицы с самой собой.</span><span class="sxs-lookup"><span data-stu-id="22cb1-279">A self-join is a recursive relationship between a table and itself.</span></span> <span data-ttu-id="22cb1-280">Самосоединения часто используются для определения иерархий типа «родители-потомки».</span><span class="sxs-lookup"><span data-stu-id="22cb1-280">Self-joins are often used to define parent-child hierarchies.</span></span> <span data-ttu-id="22cb1-281">Например, можно соединить таблицу Employees с самой собой, чтобы сформировать иерархию, которая показывает цепочку подчиненности на предприятии.</span><span class="sxs-lookup"><span data-stu-id="22cb1-281">For example, you could join an Employees table to itself to produce a hierarchy that shows the management chain at a business.</span></span>  
  
 <span data-ttu-id="22cb1-282">Конструктор моделей не позволяет создавать циклы между связями в модели.</span><span class="sxs-lookup"><span data-stu-id="22cb1-282">The model designer does not allow loops to be created among relationships in a model.</span></span> <span data-ttu-id="22cb1-283">Иными словами, следующий набор связей запрещается.</span><span class="sxs-lookup"><span data-stu-id="22cb1-283">In other words, the following set of relationships is prohibited.</span></span>  
  
 <span data-ttu-id="22cb1-284">От таблицы 1, столбец a   к   таблице 2, столбец f</span><span class="sxs-lookup"><span data-stu-id="22cb1-284">Table 1, column a   to   Table 2, column f</span></span>  
  
 <span data-ttu-id="22cb1-285">От таблицы 2, столбец f   к   таблице 3, столбец n</span><span class="sxs-lookup"><span data-stu-id="22cb1-285">Table 2, column f   to   Table 3, column n</span></span>  
  
 <span data-ttu-id="22cb1-286">От таблицы 3, столбец n   к   таблице 1, столбец a</span><span class="sxs-lookup"><span data-stu-id="22cb1-286">Table 3, column n   to   Table 1, column a</span></span>  
  
 <span data-ttu-id="22cb1-287">При попытке создания такой связи, которая приведет к образованию цикла, выдается ошибка.</span><span class="sxs-lookup"><span data-stu-id="22cb1-287">If you try to create a relationship that would result in a loop being created, an error is generated.</span></span>  
  
##  <a name="inference-of-relationships"></a><a name="detection"></a><span data-ttu-id="22cb1-288">Вывод связей</span><span class="sxs-lookup"><span data-stu-id="22cb1-288">Inference of Relationships</span></span>  
 <span data-ttu-id="22cb1-289">В некоторых случаях связи между таблицами автоматически объединяются в цепочки.</span><span class="sxs-lookup"><span data-stu-id="22cb1-289">In some cases, relationships between tables are automatically chained.</span></span> <span data-ttu-id="22cb1-290">Например, если создать связь между первыми двумя наборами таблиц, указанных ниже, то определяется наличие связи между другими двумя таблицами и эта связь устанавливается автоматически.</span><span class="sxs-lookup"><span data-stu-id="22cb1-290">For example, if you create a relationship between the first two sets of tables below, a relationship is inferred to exist between the other two tables, and a relationship is automatically established.</span></span>  
  
 <span data-ttu-id="22cb1-291">Products и Category — связь создается вручную</span><span class="sxs-lookup"><span data-stu-id="22cb1-291">Products and Category -- created manually</span></span>  
  
 <span data-ttu-id="22cb1-292">Category и SubCategory — связь создается вручную</span><span class="sxs-lookup"><span data-stu-id="22cb1-292">Category and SubCategory -- created manually</span></span>  
  
 <span data-ttu-id="22cb1-293">Products и SubCategory — связь определяется автоматически</span><span class="sxs-lookup"><span data-stu-id="22cb1-293">Products and SubCategory -- relationship is inferred</span></span>  
  
 <span data-ttu-id="22cb1-294">Для автоматического объединения связей в цепочки эти связи должны идти в одном направлении, как показано выше.</span><span class="sxs-lookup"><span data-stu-id="22cb1-294">In order for relationships to be automatically chained, the relationships must go in one direction, as shown above.</span></span> <span data-ttu-id="22cb1-295">Если исходные связи были установлены, например между таблицами Sales и Products, а также между Sales и Customers, то связь не выводится.</span><span class="sxs-lookup"><span data-stu-id="22cb1-295">If the initial relationships were between, for example, Sales and Products, and Sales and Customers, a relationship is not inferred.</span></span> <span data-ttu-id="22cb1-296">Это вызвано тем, что связь между таблицами Products и Customer является связью «многие ко многим».</span><span class="sxs-lookup"><span data-stu-id="22cb1-296">This is because the relationship between Products and Customers is a many-to-many relationship.</span></span>  
  
##  <a name="detection-of-relationships-when-importing-data"></a><a name="bkmk_detection"></a><span data-ttu-id="22cb1-297">Обнаружение связей при импорте данных</span><span class="sxs-lookup"><span data-stu-id="22cb1-297">Detection of Relationships When Importing Data</span></span>  
 <span data-ttu-id="22cb1-298">При импорте из таблицы реляционного источника данных, мастер импорта таблиц обнаруживает существующие связи в этих исходных таблицах на основе данных схемы источника.</span><span class="sxs-lookup"><span data-stu-id="22cb1-298">When you import from a relational data source table, the Table Import Wizard detects existing relationships in those source tables based on the source schema data.</span></span> <span data-ttu-id="22cb1-299">При импорте связанных таблиц их связи будут продублированы в модели.</span><span class="sxs-lookup"><span data-stu-id="22cb1-299">If related tables are imported, those relationships will be duplicated in the model.</span></span>  
  
##  <a name="manually-create-relationships"></a><a name="bkmk_manually_create"></a><span data-ttu-id="22cb1-300">Создание связей вручную</span><span class="sxs-lookup"><span data-stu-id="22cb1-300">Manually Create Relationships</span></span>  
 <span data-ttu-id="22cb1-301">Хотя большинство связей между таблицами в едином реляционном источнике данных обнаруживаются автоматически и создаются в табличной модели, во многих случаях необходимо создать связи между таблицами модели вручную.</span><span class="sxs-lookup"><span data-stu-id="22cb1-301">While most relationships between tables in a single relational data source will be detected automatically, and created in the tabular model, there are also many instances where you must manually create relationships between model tables.</span></span>  
  
 <span data-ttu-id="22cb1-302">Если модель содержит данные из нескольких источников, то, вероятно, придется создавать связи вручную.</span><span class="sxs-lookup"><span data-stu-id="22cb1-302">If your model contains data from multiple sources, you will likely have to manually create relationships.</span></span> <span data-ttu-id="22cb1-303">Например, можно импортировать таблицы Customers, CustomerDiscounts и Orders из реляционного источника данных.</span><span class="sxs-lookup"><span data-stu-id="22cb1-303">For example, you may import Customers, CustomerDiscounts, and Orders tables from a relational data source.</span></span> <span data-ttu-id="22cb1-304">Связи, существующие между этими таблицами в источнике, будут автоматически созданы в модели.</span><span class="sxs-lookup"><span data-stu-id="22cb1-304">Relationships existing between those tables at the source are automatically created in the model.</span></span> <span data-ttu-id="22cb1-305">Затем можно добавить другую таблицу из другого источника, например региональные данные из таблицы Geography в книге Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="22cb1-305">You may then add another table from a different source, for example, you import region data from a Geography table in a Microsoft Excel workbook.</span></span> <span data-ttu-id="22cb1-306">Затем можно вручную создать связь между столбцом таблицы Customers и столбцом таблицы Geography.</span><span class="sxs-lookup"><span data-stu-id="22cb1-306">You can then manually create a relationship between a column in the Customers table and a column in the Geography table.</span></span>  
  
 <span data-ttu-id="22cb1-307">Чтобы вручную создавать новые связи в табличной модели, можно воспользоваться конструктором моделей в представлении диаграмм либо диалоговым окном «Управление связями».</span><span class="sxs-lookup"><span data-stu-id="22cb1-307">To manually create relationships in a tabular model, you can use the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="22cb1-308">В представлении диаграммы графически отображаются таблицы и связи между ними.</span><span class="sxs-lookup"><span data-stu-id="22cb1-308">The diagram view displays tables, with relationships between them, in a graphical format.</span></span> <span data-ttu-id="22cb1-309">Связь можно легко создать, щелкнув столбец в одной таблице и перетащив курсор в другую таблицу. Между таблицами будет создана связь в правильном порядке.</span><span class="sxs-lookup"><span data-stu-id="22cb1-309">You can click a column in one table and drag the cursor to another table to easily create a relationship, in the correct order, between the tables.</span></span> <span data-ttu-id="22cb1-310">Связи между таблицами отображаются в диалоговом окне «Управление связями» в простом табличном формате.</span><span class="sxs-lookup"><span data-stu-id="22cb1-310">The Manage Relationships dialog box displays relationships between tables in a simple table format.</span></span> <span data-ttu-id="22cb1-311">Дополнительные сведения о том, как создавать связи вручную, см. в разделе [Создание связи между двумя таблицами (табличные службы SSAS)](create-a-relationship-between-two-tables-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="22cb1-311">To learn how to manually create relationships, see [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
##  <a name="duplicate-values-and-other-errors"></a><a name="bkmk_dupl_errors"></a><span data-ttu-id="22cb1-312">Дублирующиеся значения и другие ошибки</span><span class="sxs-lookup"><span data-stu-id="22cb1-312">Duplicate Values and Other Errors</span></span>  
 <span data-ttu-id="22cb1-313">Если выбрать столбец, который нельзя использовать в связи, рядом с ним появится красный значок X.</span><span class="sxs-lookup"><span data-stu-id="22cb1-313">If you choose a column that cannot be used in the relationship, a red X appears next to the column.</span></span> <span data-ttu-id="22cb1-314">Если навести курсор мыши на значок ошибки, можно просмотреть сообщение с подробными сведениями о проблеме.</span><span class="sxs-lookup"><span data-stu-id="22cb1-314">You can pause the cursor over the error icon to view a message that provides more information about the problem.</span></span> <span data-ttu-id="22cb1-315">Следующие проблемы могут сделать невозможным создание связи между выбранными столбцами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-315">Problems that can make it impossible to create a relationship between the selected columns include the following:</span></span>  
  
|<span data-ttu-id="22cb1-316">Проблема или сообщение</span><span class="sxs-lookup"><span data-stu-id="22cb1-316">Problem or message</span></span>|<span data-ttu-id="22cb1-317">Решение</span><span class="sxs-lookup"><span data-stu-id="22cb1-317">Resolution</span></span>|  
|------------------------|----------------|  
|<span data-ttu-id="22cb1-318">Связь не удается создать, поскольку оба выбранных столбца содержат повторяющиеся значения.</span><span class="sxs-lookup"><span data-stu-id="22cb1-318">The relationship cannot be created because both columns selected contain duplicate values.</span></span>|<span data-ttu-id="22cb1-319">Для создания допустимой связи необходимо, чтобы хотя бы один столбец в паре содержал только уникальные значения.</span><span class="sxs-lookup"><span data-stu-id="22cb1-319">To create a valid relationship, at least one column of the pair that you select must contain only unique values.</span></span><br /><br /> <span data-ttu-id="22cb1-320">Можно изменить столбцы, чтобы удалить повторяющиеся значения, или изменить порядок столбцов на обратный, чтобы столбец, содержащий уникальные значения, использовался как **Связанный столбец уточняющих запросов**.</span><span class="sxs-lookup"><span data-stu-id="22cb1-320">You can either edit the columns to remove duplicates, or you can reverse the order of the columns so that the column that contains the unique values is used as the **Related Lookup Column**.</span></span>|  
|<span data-ttu-id="22cb1-321">Столбец содержит пустое значение или значение NULL.</span><span class="sxs-lookup"><span data-stu-id="22cb1-321">The column contains a null or empty value.</span></span>|<span data-ttu-id="22cb1-322">Столбцы данных не могут соединяться по значению NULL.</span><span class="sxs-lookup"><span data-stu-id="22cb1-322">Data columns cannot be joined to each other on a null value.</span></span> <span data-ttu-id="22cb1-323">Для каждой строки должно быть значение в обоих столбцах, используемых в связи.</span><span class="sxs-lookup"><span data-stu-id="22cb1-323">For every row, there must be a value in both of the columns that are used in a relationship.</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_related_tasks"></a> <span data-ttu-id="22cb1-324">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="22cb1-324">Related Tasks</span></span>  
  
|<span data-ttu-id="22cb1-325">Раздел</span><span class="sxs-lookup"><span data-stu-id="22cb1-325">Topic</span></span>|<span data-ttu-id="22cb1-326">Описание</span><span class="sxs-lookup"><span data-stu-id="22cb1-326">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="22cb1-327">Создание связи между двумя таблицами (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="22cb1-327">Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;</span></span>](create-a-relationship-between-two-tables-ssas-tabular.md)|<span data-ttu-id="22cb1-328">Содержит описание того, как вручную создать связь между двумя таблицами.</span><span class="sxs-lookup"><span data-stu-id="22cb1-328">Describes how to manually create a relationship between two tables.</span></span>|  
|[<span data-ttu-id="22cb1-329">Удаление связей (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="22cb1-329">Delete Relationships &#40;SSAS Tabular&#41;</span></span>](relationships-ssas-tabular.md)|<span data-ttu-id="22cb1-330">Содержит описание того, как удалить связь, а также последствий удаления отношений.</span><span class="sxs-lookup"><span data-stu-id="22cb1-330">Describes how to delete a relationship and the ramifications of deleting relationships.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="22cb1-331">См. также:</span><span class="sxs-lookup"><span data-stu-id="22cb1-331">See Also</span></span>  
 <span data-ttu-id="22cb1-332">[Таблицы и столбцы &#40;табличные&#41;SSAS](tables-and-columns-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="22cb1-332">[Tables and Columns &#40;SSAS Tabular&#41;](tables-and-columns-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="22cb1-333">Импорт данных (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="22cb1-333">Import Data &#40;SSAS Tabular&#41;</span></span>](../import-data-ssas-tabular.md)  
  
  

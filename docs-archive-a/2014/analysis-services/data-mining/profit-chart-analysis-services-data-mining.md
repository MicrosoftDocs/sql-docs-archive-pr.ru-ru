---
title: Диаграмма роста прибыли (Analysis Services — интеллектуальный анализ данных) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- accuracy, charting
- revenue, estimating
- benefits, estimating
- charts [Analysis Services]
- profit charts [Analysis Services]
ms.assetid: 760ee051-6fd8-48e3-8d2e-82db3ab45e45
author: minewiskan
ms.author: owend
ms.openlocfilehash: a38a1d5062f53de4be9129c2305d8d3c84593f9e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87734597"
---
# <a name="profit-chart-analysis-services---data-mining"></a><span data-ttu-id="454bb-102">Диаграмма роста прибыли (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="454bb-102">Profit Chart (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="454bb-103">В диаграмме роста прибыли отображается теоретический прирост прибыли, связанный с использованием модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="454bb-103">A profit chart displays the estimated profitability associated with using a mining model.</span></span> <span data-ttu-id="454bb-104">Например, предположим, что модель прогнозирует, какие клиенты должны связываться с компанией в бизнес-сценарии.</span><span class="sxs-lookup"><span data-stu-id="454bb-104">For example, let's assume your model predicts which customers a company should contact in a business scenario.</span></span> <span data-ttu-id="454bb-105">В этом случае следует добавить в диаграмму роста прибыли данные о стоимости проведения кампании целевой рассылки.</span><span class="sxs-lookup"><span data-stu-id="454bb-105">In that case, you would add to the profit chart information about the cost of conducting the targeted mailing campaign.</span></span> <span data-ttu-id="454bb-106">И тогда в готовой диаграмме вы увидите сравнение прибыли при правильном выборе целевых клиентов и при обращении к клиентам случайным образом.</span><span class="sxs-lookup"><span data-stu-id="454bb-106">Then, in the completed chart, you can see the estimated profit if customers are correctly targeted, as compared to randomly contacting customers.</span></span>  
  
## <a name="build-a-profit-chart"></a><span data-ttu-id="454bb-107">Создание диаграммы роста прибыли</span><span class="sxs-lookup"><span data-stu-id="454bb-107">Build a Profit Chart</span></span>  
 <span data-ttu-id="454bb-108">Диаграмма роста прибыли аналогична диаграмме точности прогнозов.</span><span class="sxs-lookup"><span data-stu-id="454bb-108">A profit chart is similar to a lift chart.</span></span> <span data-ttu-id="454bb-109">Начните с создания диаграммы точности прогнозов, а затем добавьте сведения об издержках и прибыли.</span><span class="sxs-lookup"><span data-stu-id="454bb-109">You start by creating a lift chart, and then add in the cost and profit information.</span></span>  
  
 <span data-ttu-id="454bb-110">Чтобы построить диаграмму роста прибыли, у вас должна быть существующая модель.</span><span class="sxs-lookup"><span data-stu-id="454bb-110">To build a profit chart, you must have an existing model.</span></span>  
  
 <span data-ttu-id="454bb-111">В этом примере мы использовали модель дерева принятия решений по целевой рассылке.</span><span class="sxs-lookup"><span data-stu-id="454bb-111">For this example, we used the Targeted Mailing decision tree model.</span></span> <span data-ttu-id="454bb-112">Модель выделяет тех клиентов, которые, скорее всего, купят велосипед.</span><span class="sxs-lookup"><span data-stu-id="454bb-112">The model identifies customers who are likely to buy a bike.</span></span> <span data-ttu-id="454bb-113">**Диаграмма роста прибыли** позволит определить, сколько нужно отобрать клиентов для обращений, чтобы получить максимальную прибыль.</span><span class="sxs-lookup"><span data-stu-id="454bb-113">You can apply the **Profit Chart** to determine how many of your customers to target to maximize your profit.</span></span>  
  
 <span data-ttu-id="454bb-114">Если у вас нет образца модели, его можно создать с помощью [учебника по основам интеллектуального анализа данных](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="454bb-114">If you don't have the sample model, you can create it using the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span>  
  
1.  <span data-ttu-id="454bb-115">Откройте средство построения диаграммы точности интеллектуального анализа.</span><span class="sxs-lookup"><span data-stu-id="454bb-115">Open the mining accuracy chart builder.</span></span>  
  
    -   <span data-ttu-id="454bb-116">В SQL Server Management Studio щелкните правой кнопкой мыши имя модели и выберите **Просмотр диаграммы точности прогнозов**.</span><span class="sxs-lookup"><span data-stu-id="454bb-116">In SQL Server Management Studio, right-click the model, and select **View Lift Chart**.</span></span>  
  
    -   <span data-ttu-id="454bb-117">В SQL Server Data Tools откройте проект, в котором создана эта модель, и щелкните вкладку **Диаграмма точности интеллектуального анализа** .</span><span class="sxs-lookup"><span data-stu-id="454bb-117">In SQL Server Data Tools, open the project in which you created the model, and click the **Mining Accuracy Chart** tab.</span></span>  
  
2.  <span data-ttu-id="454bb-118">На вкладке **Выбор входа** выберите модель и прогнозируемое значение атрибута.</span><span class="sxs-lookup"><span data-stu-id="454bb-118">In **the Input Selection** tab, select the model and choose the predictable attribute value.</span></span>  
  
     <span data-ttu-id="454bb-119">В данном конкретном случае вас интересует только рентабельность точного прогнозирования одного значения: [Bike Buyer] =1.</span><span class="sxs-lookup"><span data-stu-id="454bb-119">For this particular scenario, you are interested only in the profitability of accurately predicting one value: [Bike Buyer] =1.</span></span>  
  
     <span data-ttu-id="454bb-120">Но бывают ситуации, в которых не менее важно правильно прогнозировать ложные значения.</span><span class="sxs-lookup"><span data-stu-id="454bb-120">However, there are other scenarios in which you are equally interested in predicting false values correctly.</span></span> <span data-ttu-id="454bb-121">Например, получение ложных положительных заключений при медицинской диагностике может повлечь существенные расходы. При прогнозной оценке прибыльности нужно учесть этот вариант, а также стоимость ложных отрицательных результатов.</span><span class="sxs-lookup"><span data-stu-id="454bb-121">For example, the cost of a false positive on a medical diagnostic test can be significant and needs to be factored into the profitability of the prediction, as does the cost of false negatives.</span></span> <span data-ttu-id="454bb-122">В таких сценариях следует оценивать все возможные исходы.</span><span class="sxs-lookup"><span data-stu-id="454bb-122">In such scenarios, you would measure all outcomes.</span></span>  
  
3.  <span data-ttu-id="454bb-123">Выберите набор данных для проверки.</span><span class="sxs-lookup"><span data-stu-id="454bb-123">Select a data set for testing.</span></span> <span data-ttu-id="454bb-124">В нашем примере выберите тестовый набор данных.</span><span class="sxs-lookup"><span data-stu-id="454bb-124">For this example, select the testing data set.</span></span>  
  
4.  <span data-ttu-id="454bb-125">Затем щелкните вкладку **Диаграмма точности прогнозов** .</span><span class="sxs-lookup"><span data-stu-id="454bb-125">Now click the **Lift Chart** tab.</span></span>  
  
     <span data-ttu-id="454bb-126">Диаграмма точности прогнозов создается автоматически.</span><span class="sxs-lookup"><span data-stu-id="454bb-126">A lift chart is automatically generated.</span></span>  
  
5.  <span data-ttu-id="454bb-127">Чтобы преобразовать ее в диаграмму роста прибыли, выберите пункт **Диаграмма роста прибыли** в списке **Тип диаграммы** .</span><span class="sxs-lookup"><span data-stu-id="454bb-127">To change this to a profit chart, select **Profit Chart** from the **Chart type** list.</span></span>  
  
6.  <span data-ttu-id="454bb-128">Как только вы выберете диаграмму роста прибыли, автоматически откроется диалоговое окно **Настройка диаграммы роста прибыли** .</span><span class="sxs-lookup"><span data-stu-id="454bb-128">As soon as you choose profit chart as the chart type, the **Profit Chart Setting** dialog box automatically opens.</span></span>  
  
     <span data-ttu-id="454bb-129">Это диалоговое окно помогает указать издержки и прибыль, связанные с кампанией целевой рассылки.</span><span class="sxs-lookup"><span data-stu-id="454bb-129">This dialog box helps you specify the costs and benefits associated with a targeted mailing campaign.</span></span> <span data-ttu-id="454bb-130">Для диаграммы в этом примере были использованы следующие значения.</span><span class="sxs-lookup"><span data-stu-id="454bb-130">For the chart shown in these examples, we used the following values:</span></span>  
  
    |<span data-ttu-id="454bb-131">Параметр</span><span class="sxs-lookup"><span data-stu-id="454bb-131">Setting</span></span>|<span data-ttu-id="454bb-132">Значение</span><span class="sxs-lookup"><span data-stu-id="454bb-132">Value</span></span>|<span data-ttu-id="454bb-133">Комментарии</span><span class="sxs-lookup"><span data-stu-id="454bb-133">Comments</span></span>|  
    |-------------|-----------|--------------|  
    |<span data-ttu-id="454bb-134">**Повтор**</span><span class="sxs-lookup"><span data-stu-id="454bb-134">**Population**</span></span>|<span data-ttu-id="454bb-135">20 000</span><span class="sxs-lookup"><span data-stu-id="454bb-135">20,000</span></span>|<span data-ttu-id="454bb-136">Установите значение для всей целевой популяции</span><span class="sxs-lookup"><span data-stu-id="454bb-136">Set the value for the total target population</span></span><br /><br /> <span data-ttu-id="454bb-137">База данных может содержать много заказчиков, но чтобы сэкономить на рассылке, выберите только 20 000 заказчиков, которых модель определяет как наиболее вероятных покупателей.</span><span class="sxs-lookup"><span data-stu-id="454bb-137">Your database might contain many customers, but to save on mailing expenses you might choose to target only the 20,000 customers who are most likely to respond.</span></span> <span data-ttu-id="454bb-138">Такой список можно получить, выполнив прогнозирующий запрос с сортировкой по значению вероятности из прогнозирующей модели.</span><span class="sxs-lookup"><span data-stu-id="454bb-138">You can get this list by running a prediction query and sorting by the probability output by the predictive model.</span></span>|  
    |<span data-ttu-id="454bb-139">**Фиксированные издержки**</span><span class="sxs-lookup"><span data-stu-id="454bb-139">**Fixed cost**</span></span>|<span data-ttu-id="454bb-140">500</span><span class="sxs-lookup"><span data-stu-id="454bb-140">500</span></span>|<span data-ttu-id="454bb-141">Введите единовременные затраты по организации кампании целевой рассылки, рассчитанной на 20 000 человек.</span><span class="sxs-lookup"><span data-stu-id="454bb-141">Enter the one-time cost of setting up a targeted mailing campaign for 20,000 people.</span></span> <span data-ttu-id="454bb-142">Сюда относятся расходы на печать или расходы на рассылку электронных писем.</span><span class="sxs-lookup"><span data-stu-id="454bb-142">This might include printing, or the cost of setting up an e-mail campaign.</span></span>|  
    |<span data-ttu-id="454bb-143">**Индивидуальные издержки**</span><span class="sxs-lookup"><span data-stu-id="454bb-143">**Individual cost**</span></span>|<span data-ttu-id="454bb-144">3</span><span class="sxs-lookup"><span data-stu-id="454bb-144">3</span></span>|<span data-ttu-id="454bb-145">Введите удельные затраты для кампании целевой рассылки.</span><span class="sxs-lookup"><span data-stu-id="454bb-145">Enter the per-unit cost for the targeted mailing campaign.</span></span><br /><br /> <span data-ttu-id="454bb-146">Эта сумма будет умножена на 20 000 или меньшее число, в зависимости от количества клиентов, которых модель оценит как возможных покупателей.</span><span class="sxs-lookup"><span data-stu-id="454bb-146">This amount will be multiplied by a number equal to or less than 20000, depending on how many customers the model predicts are good prospects.</span></span>|  
    |<span data-ttu-id="454bb-147">**Доход на единицу**</span><span class="sxs-lookup"><span data-stu-id="454bb-147">**Revenue per individual**</span></span>|<span data-ttu-id="454bb-148">400</span><span class="sxs-lookup"><span data-stu-id="454bb-148">400</span></span>|<span data-ttu-id="454bb-149">Введите значение, представляющее объем прибыли или дохода, который можно ожидать при удачном исходе.</span><span class="sxs-lookup"><span data-stu-id="454bb-149">Enter a value that represents the amount of profit or income that can be expected from a successful result.</span></span> <span data-ttu-id="454bb-150">В этом случае предполагается, что рассылка каталога приводит к приобретению аксессуаров или велосипедов с усреднением $400.</span><span class="sxs-lookup"><span data-stu-id="454bb-150">In this case, we'll assume that mailing a catalog results in purchase of accessories or bikes averaging $400.</span></span><br /><br /> <span data-ttu-id="454bb-151">Эта сумма будет использоваться для проектирования общей прибыли, связанной с весьма вероятными вариантами.</span><span class="sxs-lookup"><span data-stu-id="454bb-151">This amount will be used to project the total profit associated with high probability cases.</span></span>|  
  
7.  <span data-ttu-id="454bb-152">Когда будут готовы все нужные параметры, нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="454bb-152">After you have set the required parameters, click **OK**.</span></span>  
  
8.  <span data-ttu-id="454bb-153">Диаграмма обновится и покажет кривую прибыли.</span><span class="sxs-lookup"><span data-stu-id="454bb-153">The chart updates to show the profit curve.</span></span>  
  
## <a name="understanding-the-profit-chart"></a><span data-ttu-id="454bb-154">Основные сведения о диаграмме роста прибыли</span><span class="sxs-lookup"><span data-stu-id="454bb-154">Understanding the Profit Chart</span></span>  
 <span data-ttu-id="454bb-155">На следующей диаграмме показана диаграмма, которая была основана на этих параметрах.</span><span class="sxs-lookup"><span data-stu-id="454bb-155">The following diagram shows the chart that was based on these parameters.</span></span> <span data-ttu-id="454bb-156">Ось Y на диаграмме представляет прибыль, а ось X — количество клиентов, с которыми связалась компания, в процентах от общего количества.</span><span class="sxs-lookup"><span data-stu-id="454bb-156">The Y-axis of the chart represents the profit, while the X-axis represents the percentage of the customers who were contacted by the targeted mailing campaign.</span></span>  
  
 <span data-ttu-id="454bb-157">Как видите, диаграмма роста прибыли может сравнивать разные модели, если они прогнозируют один и тот же дискретный атрибут.</span><span class="sxs-lookup"><span data-stu-id="454bb-157">As shown here, you can use a profit chart to compare multiple models, as long as they all predict the same discrete attribute.</span></span>  
  
 <span data-ttu-id="454bb-158">![диаграмма роста прибыли, в которой сравниваются три модели](../media/dm14-profitchartupdated.gif "диаграмма роста прибыли, в которой сравниваются три модели")</span><span class="sxs-lookup"><span data-stu-id="454bb-158">![a profit chart comparing three models](../media/dm14-profitchartupdated.gif "a profit chart comparing three models")</span></span>  
  
 <span data-ttu-id="454bb-159">Обратите внимание на серую вертикальную линию на диаграмме.</span><span class="sxs-lookup"><span data-stu-id="454bb-159">Notice the gray vertical line in the chart.</span></span> <span data-ttu-id="454bb-160">Если щелкнуть и перетащить эту линию, появится всплывающая подсказка с указанием процента целевой аудитории, соответствующего этой точке кривой.</span><span class="sxs-lookup"><span data-stu-id="454bb-160">As you click and drag the line, the ToolTip display the percentage of the target population that is included under the curve at that point.</span></span>  
  
 <span data-ttu-id="454bb-161">Когда вы перемещаете линию, окно **Обозначения интеллектуального анализа данных** также обновляется, отображая процентное отношение, оценку прибыли и вероятность прогноза, связанную с процентной долей целевой аудитории на серой вертикальной линии.</span><span class="sxs-lookup"><span data-stu-id="454bb-161">The **Mining Legend** is also updated as you drag the line, to display the percentage value, a profit score, and the predict probability that is associated with the population percentage at the vertical gray line.</span></span>  
  
 <span data-ttu-id="454bb-162">Например, если по этой модели вы определяете, кому отправлять свои рекламные материалы, на основании прогноза вероятности вы можете выбрать 25 % целевой аудитории. При этом площадь под кривой прибыли будет максимальной в диапазоне от 40 % до 70 %. Это означает, что вы можете увеличить прибыль, включив в рассылку большее количество людей, несмотря на снижение процента откликнувшихся.</span><span class="sxs-lookup"><span data-stu-id="454bb-162">For example, if you were using this model to decide who to send your promotional material to, you might decide to target 25% of the population, based on the predict probabilities, However, the area under the profit curve of the chart is greatest between 40 and 70 percent, indicating that by mailing to more people, you can maximize your return, even if a smaller overall percentage responds.</span></span>  
  
## <a name="saving-charts"></a><span data-ttu-id="454bb-163">Сохранение диаграмм</span><span class="sxs-lookup"><span data-stu-id="454bb-163">Saving Charts</span></span>  
 <span data-ttu-id="454bb-164">При создании диаграммы точности прогнозов или диаграммы роста прибыли никакие объекты на сервере не создаются.</span><span class="sxs-lookup"><span data-stu-id="454bb-164">When you create an accuracy chart or profit chart, no objects are created on the server.</span></span> <span data-ttu-id="454bb-165">Выполняются только запросы к существующей модели, результаты которых отображаются в средстве просмотра.</span><span class="sxs-lookup"><span data-stu-id="454bb-165">Instead, queries are executed against an existing model and the results are rendered in the viewer.</span></span> <span data-ttu-id="454bb-166">Если требуется сохранить результаты, следует скопировать диаграмму или результаты в Excel или другой файл.</span><span class="sxs-lookup"><span data-stu-id="454bb-166">If you need to save the results, you must copy either the chart or the results to Excel or another file.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="454bb-167">См. также</span><span class="sxs-lookup"><span data-stu-id="454bb-167">Related Content</span></span>  
 <span data-ttu-id="454bb-168">Следующие разделы содержат дополнительные сведения о том, как создавать и использовать диаграммы точности.</span><span class="sxs-lookup"><span data-stu-id="454bb-168">The following topics contain more information about how you can build and use accuracy charts.</span></span>  
  
|<span data-ttu-id="454bb-169">Разделы</span><span class="sxs-lookup"><span data-stu-id="454bb-169">Topics</span></span>|<span data-ttu-id="454bb-170">Ссылки</span><span class="sxs-lookup"><span data-stu-id="454bb-170">Links</span></span>|  
|------------|-----------|  
|<span data-ttu-id="454bb-171">Объясняет, как создать диаграмму точности прогнозов для модели целевой рассылки.</span><span class="sxs-lookup"><span data-stu-id="454bb-171">Provides a walkthrough of how to create a lift chart for the Targeted Mailing model.</span></span>|[<span data-ttu-id="454bb-172">Учебник по основам интеллектуального анализа данных</span><span class="sxs-lookup"><span data-stu-id="454bb-172">Basic Data Mining Tutorial</span></span>](../../tutorials/basic-data-mining-tutorial.md)<br /><br /> [<span data-ttu-id="454bb-173">Проверка точности с помощью диаграмм точности прогнозов (учебник интеллектуального анализа данных — начальный уровень)</span><span class="sxs-lookup"><span data-stu-id="454bb-173">Testing Accuracy with Lift Charts &#40;Basic Data Mining Tutorial&#41;</span></span>](../../tutorials/testing-accuracy-with-lift-charts-basic-data-mining-tutorial.md)|  
|<span data-ttu-id="454bb-174">Объясняет типы соответствующих диаграмм.</span><span class="sxs-lookup"><span data-stu-id="454bb-174">Explains related chart types.</span></span>|[<span data-ttu-id="454bb-175">Диаграмма точности прогнозов (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="454bb-175">Lift Chart &#40;Analysis Services - Data Mining&#41;</span></span>](lift-chart-analysis-services-data-mining.md)<br /><br /> [<span data-ttu-id="454bb-176">Матрица классификации (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="454bb-176">Classification Matrix &#40;Analysis Services - Data Mining&#41;</span></span>](classification-matrix-analysis-services-data-mining.md)<br /><br /> [<span data-ttu-id="454bb-177">Точечная диаграмма (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="454bb-177">Scatter Plot &#40;Analysis Services - Data Mining&#41;</span></span>](scatter-plot-analysis-services-data-mining.md)|  
|<span data-ttu-id="454bb-178">Описывает перекрестную проверку для моделей интеллектуального анализа данных и структур интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="454bb-178">Describes cross-validation for mining models and mining structures.</span></span>|[<span data-ttu-id="454bb-179">Перекрестная проверка (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="454bb-179">Cross-Validation &#40;Analysis Services - Data Mining&#41;</span></span>](cross-validation-analysis-services-data-mining.md)|  
|<span data-ttu-id="454bb-180">Описывает шаги для создания диаграммы точности прогнозов и других диаграмм точности.</span><span class="sxs-lookup"><span data-stu-id="454bb-180">Describes steps for creating lift charts and other accuracy charts.</span></span>|[<span data-ttu-id="454bb-181">Задачи и решения по тестированию и проверке (интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="454bb-181">Testing and Validation Tasks and How-tos &#40;Data Mining&#41;</span></span>](testing-and-validation-tasks-and-how-tos-data-mining.md)|  
  
## <a name="see-also"></a><span data-ttu-id="454bb-182">См. также:</span><span class="sxs-lookup"><span data-stu-id="454bb-182">See Also</span></span>  
 <span data-ttu-id="454bb-183">[Тестирование и проверка &#40;&#41;интеллектуального анализа данных](testing-and-validation-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="454bb-183">[Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md) </span></span>  
 [<span data-ttu-id="454bb-184">Проверка точности с помощью диаграмм точности прогнозов (учебник интеллектуального анализа данных — начальный уровень)</span><span class="sxs-lookup"><span data-stu-id="454bb-184">Testing Accuracy with Lift Charts &#40;Basic Data Mining Tutorial&#41;</span></span>](../../tutorials/testing-accuracy-with-lift-charts-basic-data-mining-tutorial.md)  
  
  

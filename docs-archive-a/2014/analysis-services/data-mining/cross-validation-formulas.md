---
title: Формулы перекрестной проверки | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: fd1ea582-29a1-4154-8de2-47bab3539b4d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 878d88f695b2cdbf3c999c54568304accc54e3d9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658560"
---
# <a name="cross-validation-formulas"></a><span data-ttu-id="145af-102">Формулы перекрестной проверки</span><span class="sxs-lookup"><span data-stu-id="145af-102">Cross-Validation Formulas</span></span>
  <span data-ttu-id="145af-103">Если создается отчет перекрестной проверки, он содержит меры точности для каждой модели, которые зависят от типа модели интеллектуального анализа данных (т. е. алгоритма, который использовался для ее создания), типа данных прогнозируемого атрибута и значения прогнозируемого атрибута (если есть).</span><span class="sxs-lookup"><span data-stu-id="145af-103">When you generate a cross-validation report, it contains accuracy measures for each model, depending on the type of mining model (that is, the algorithm that was used to create the model), the data type of the predictable attribute, and the predictable attribute value, if any.</span></span>  
  
 <span data-ttu-id="145af-104">В этом разделе указаны меры, используемые в отчете перекрестной проверки, и способ их вычисления.</span><span class="sxs-lookup"><span data-stu-id="145af-104">This section lists the measures used in the cross-validation report and describes the method of calculation.</span></span>  
  
 <span data-ttu-id="145af-105">Описание разбивки мер точности по типам моделей см. в разделе [Меры в отчете перекрестной проверки](measures-in-the-cross-validation-report.md).</span><span class="sxs-lookup"><span data-stu-id="145af-105">For a breakdown of the accuracy measures by model type, see [Measures in the Cross-Validation Report](measures-in-the-cross-validation-report.md).</span></span>  
  
## <a name="formulas-used-for-cross-validation-measures"></a><span data-ttu-id="145af-106">Формулы мер перекрестной проверки</span><span class="sxs-lookup"><span data-stu-id="145af-106">Formulas used for Cross-Validation Measures</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="145af-107">**Важно!** Эти меры точности вычисляются для каждого целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-107">**Important:** These measures of accuracy are computed for each target attribute.</span></span> <span data-ttu-id="145af-108">Указывать целевое значение для каждого атрибута необязательно.</span><span class="sxs-lookup"><span data-stu-id="145af-108">For each attribute you can specify or omit a target value.</span></span> <span data-ttu-id="145af-109">Если значение целевого атрибута для набора данных не задано, используется особое значение — так называемое *отсутствующее значение*.</span><span class="sxs-lookup"><span data-stu-id="145af-109">If a case in the data set does not have any value for the target attribute, the case is treated as having a special value called the *missing value*.</span></span> <span data-ttu-id="145af-110">Строки, в которых отсутствуют значения, не подсчитываются при вычислении меры точности для конкретного целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-110">Rows that have missing values are not counted when computing the accuracy measure for a particular target attribute.</span></span> <span data-ttu-id="145af-111">Следует подчеркнуть, что оценки вычисляются отдельно для каждого атрибута, поэтому, если значения для целевого атрибута заданы, а для других атрибутов отсутствуют, это не влияет на оценку целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-111">Note that because the scores are computed for each attribute individually, if values are present for the target attribute but missing for other attributes, it does not affect the score for the target attribute.</span></span>  
  
|<span data-ttu-id="145af-112">Measure</span><span class="sxs-lookup"><span data-stu-id="145af-112">Measure</span></span>|<span data-ttu-id="145af-113">Применение</span><span class="sxs-lookup"><span data-stu-id="145af-113">Applies To</span></span>|<span data-ttu-id="145af-114">Реализация</span><span class="sxs-lookup"><span data-stu-id="145af-114">Implementation</span></span>|  
|-------------|----------------|--------------------|  
|<span data-ttu-id="145af-115">**Истинный положительный результат**</span><span class="sxs-lookup"><span data-stu-id="145af-115">**True positive**</span></span>|<span data-ttu-id="145af-116">Дискретный атрибут, значение указано</span><span class="sxs-lookup"><span data-stu-id="145af-116">Discrete attribute, value is specified</span></span>|<span data-ttu-id="145af-117">Число вариантов, удовлетворяющих этим условиям.</span><span class="sxs-lookup"><span data-stu-id="145af-117">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="145af-118">Вариант содержит целевое значение.</span><span class="sxs-lookup"><span data-stu-id="145af-118">Case contains the target value.</span></span><br /><br /> <span data-ttu-id="145af-119">Модель предсказала, что вариант содержит целевое значение.</span><span class="sxs-lookup"><span data-stu-id="145af-119">Model predicted that case contains the target value.</span></span>|  
|<span data-ttu-id="145af-120">**Истинный отрицательный результат**</span><span class="sxs-lookup"><span data-stu-id="145af-120">**True Negative**</span></span>|<span data-ttu-id="145af-121">Дискретный атрибут, значение указано</span><span class="sxs-lookup"><span data-stu-id="145af-121">Discrete attribute, value is specified</span></span>|<span data-ttu-id="145af-122">Число вариантов, удовлетворяющих этим условиям.</span><span class="sxs-lookup"><span data-stu-id="145af-122">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="145af-123">Вариант не содержит целевого значения.</span><span class="sxs-lookup"><span data-stu-id="145af-123">Case does not contain the target value.</span></span><br /><br /> <span data-ttu-id="145af-124">Модель предсказала, что вариант не содержит целевого значения.</span><span class="sxs-lookup"><span data-stu-id="145af-124">Model predicted that case does not contain the target value.</span></span>|  
|<span data-ttu-id="145af-125">**Ложный положительный результат**</span><span class="sxs-lookup"><span data-stu-id="145af-125">**False positive**</span></span>|<span data-ttu-id="145af-126">Дискретный атрибут, значение указано</span><span class="sxs-lookup"><span data-stu-id="145af-126">Discrete attribute, value is specified</span></span>|<span data-ttu-id="145af-127">Число вариантов, удовлетворяющих этим условиям.</span><span class="sxs-lookup"><span data-stu-id="145af-127">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="145af-128">Фактическое значение равно целевому.</span><span class="sxs-lookup"><span data-stu-id="145af-128">Actual value is equal to target value.</span></span><br /><br /> <span data-ttu-id="145af-129">Модель предсказала, что вариант содержит целевое значение.</span><span class="sxs-lookup"><span data-stu-id="145af-129">Model predicted that case contains the target value.</span></span>|  
|<span data-ttu-id="145af-130">**Ложный отрицательный результат**</span><span class="sxs-lookup"><span data-stu-id="145af-130">**False Negative**</span></span>|<span data-ttu-id="145af-131">Дискретный атрибут, значение указано</span><span class="sxs-lookup"><span data-stu-id="145af-131">Discrete attribute, value is specified</span></span>|<span data-ttu-id="145af-132">Число вариантов, удовлетворяющих этим условиям.</span><span class="sxs-lookup"><span data-stu-id="145af-132">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="145af-133">Фактическое значение не равно целевому.</span><span class="sxs-lookup"><span data-stu-id="145af-133">Actual value not equal to target value.</span></span><br /><br /> <span data-ttu-id="145af-134">Модель предсказала, что вариант не содержит целевого значения.</span><span class="sxs-lookup"><span data-stu-id="145af-134">Model predicted that case does not contain the target value.</span></span>|  
|<span data-ttu-id="145af-135">**Успех или неудача**</span><span class="sxs-lookup"><span data-stu-id="145af-135">**Pass/fail**</span></span>|<span data-ttu-id="145af-136">Дискретный атрибут, цель не указана</span><span class="sxs-lookup"><span data-stu-id="145af-136">Discrete attribute, no specified target</span></span>|<span data-ttu-id="145af-137">Число вариантов, удовлетворяющих этим условиям.</span><span class="sxs-lookup"><span data-stu-id="145af-137">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="145af-138">Проверка будет считаться пройденной успешно, если спрогнозированное состояние с наибольшей вероятностью совпадает с входным состоянием и вероятность больше значения **Порог состояния**.</span><span class="sxs-lookup"><span data-stu-id="145af-138">Pass if the predicted state with the highest probability is the same as the input state and probability is greater than the value of **State Threshold**.</span></span><br /><br /> <span data-ttu-id="145af-139">В противном случае проверка завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="145af-139">Otherwise, fail.</span></span>|  
|<span data-ttu-id="145af-140">**Ликвидирован**</span><span class="sxs-lookup"><span data-stu-id="145af-140">**Lift**</span></span>|<span data-ttu-id="145af-141">Дискретный атрибут.</span><span class="sxs-lookup"><span data-stu-id="145af-141">Discrete attribute.</span></span> <span data-ttu-id="145af-142">Можно указать целевое значение, но это не является необходимым.</span><span class="sxs-lookup"><span data-stu-id="145af-142">Target value can be specified but is not required.</span></span>|<span data-ttu-id="145af-143">Средняя логарифмическая вероятность для всех строк со значениями целевого атрибута, где логарифмическая вероятность для каждого варианта вычисляется как Log(ActualProbability/MarginalProbability).</span><span class="sxs-lookup"><span data-stu-id="145af-143">The mean log likelihood for all rows with values for the target attribute, where log likelihood for each case is calculated as Log(ActualProbability/MarginalProbability).</span></span> <span data-ttu-id="145af-144">Для вычисления среднего значения сумма значений логарифма правдоподобия делится на число строк входного набора данных, исключая строки с отсутствующими значениями целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-144">To compute the mean, the sum of the log likelihood values is divided by the number of rows in the input dataset, excluding rows with missing values for the target attribute.</span></span><br /><br /> <span data-ttu-id="145af-145">Величина сдвига может быть положительной или отрицательной.</span><span class="sxs-lookup"><span data-stu-id="145af-145">Lift can be either a negative or positive value.</span></span> <span data-ttu-id="145af-146">Положительное значение указывает на то, что эффективность модели выше, чем у случайного предположения.</span><span class="sxs-lookup"><span data-stu-id="145af-146">A positive value means an effective model that outperforms the random guess.</span></span>|  
|<span data-ttu-id="145af-147">**Оценка журнала**</span><span class="sxs-lookup"><span data-stu-id="145af-147">**Log score**</span></span>|<span data-ttu-id="145af-148">Дискретный атрибут.</span><span class="sxs-lookup"><span data-stu-id="145af-148">Discrete attribute.</span></span> <span data-ttu-id="145af-149">Можно указать целевое значение, но это не является необходимым.</span><span class="sxs-lookup"><span data-stu-id="145af-149">Target value can be specified but is not required.</span></span>|<span data-ttu-id="145af-150">Сумма логарифмов фактической вероятности для каждого случая, деленная на число строк во входном наборе данных, исключая строки с отсутствующими значениями целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-150">Log of the actual probability for each case, summed, and then divided by the number of rows in the input dataset, excluding rows with missing values for the target attribute.</span></span><br /><br /> <span data-ttu-id="145af-151">Поскольку вероятность выражается десятичной дробью, логарифмическая оценка всегда отрицательные.</span><span class="sxs-lookup"><span data-stu-id="145af-151">Because probability is represented as a decimal fraction, log scores are always negative numbers.</span></span> <span data-ttu-id="145af-152">Чем ближе число к 0, тем выше оценка.</span><span class="sxs-lookup"><span data-stu-id="145af-152">A score that is closer to 0 is a better score.</span></span>|  
|<span data-ttu-id="145af-153">**Правдоподобие варианта**</span><span class="sxs-lookup"><span data-stu-id="145af-153">**Case likelihood**</span></span>|<span data-ttu-id="145af-154">Кластер</span><span class="sxs-lookup"><span data-stu-id="145af-154">Cluster</span></span>|<span data-ttu-id="145af-155">Сумма кластерных оценок правдоподобия для всех случаев, деленная на число случаев в секции, исключая строки с отсутствующими значениями целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-155">Sum of the cluster likelihood scores for all cases, divided by the number of cases in the partition, excluding rows with missing values for the target attribute.</span></span>|  
|<span data-ttu-id="145af-156">**Средняя абсолютная погрешность**</span><span class="sxs-lookup"><span data-stu-id="145af-156">**Mean absolute error**</span></span>|<span data-ttu-id="145af-157">Непрерывный атрибут</span><span class="sxs-lookup"><span data-stu-id="145af-157">Continuous attribute</span></span>|<span data-ttu-id="145af-158">Сумма абсолютных значений погрешности для всех случаев в секции, деленная на число случаев в секции.</span><span class="sxs-lookup"><span data-stu-id="145af-158">Sum of the absolute error for all cases in the partition, divided by the number of cases in the partition.</span></span>|  
|<span data-ttu-id="145af-159">**Ошибка среднего значения корня**</span><span class="sxs-lookup"><span data-stu-id="145af-159">**Root mean square error**</span></span>|<span data-ttu-id="145af-160">Непрерывный атрибут</span><span class="sxs-lookup"><span data-stu-id="145af-160">Continuous attribute</span></span>|<span data-ttu-id="145af-161">Среднеквадратичное отклонение для секции.</span><span class="sxs-lookup"><span data-stu-id="145af-161">Square root of the mean squared error for the partition.</span></span>|  
|<span data-ttu-id="145af-162">**Среднеквадратическая погрешность**</span><span class="sxs-lookup"><span data-stu-id="145af-162">**Root mean squared error**</span></span>|<span data-ttu-id="145af-163">Дискретный атрибут.</span><span class="sxs-lookup"><span data-stu-id="145af-163">Discrete attribute.</span></span> <span data-ttu-id="145af-164">Можно указать целевое значение, но это не является необходимым.</span><span class="sxs-lookup"><span data-stu-id="145af-164">Target value can be specified but is not required.</span></span>|<span data-ttu-id="145af-165">Квадратный корень из среднего значения квадратов дополнений к оценке вероятности, деленный на число случаев в секции, исключая строки с отсутствующими значениями целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-165">Square root of the mean of the squares of complement of the probability score, divided by the number of cases in the partition, excluding rows with missing values for the target attribute.</span></span>|  
|<span data-ttu-id="145af-166">**Среднеквадратическая погрешность**</span><span class="sxs-lookup"><span data-stu-id="145af-166">**Root mean squared error**</span></span>|<span data-ttu-id="145af-167">Дискретный атрибут, цель не указана.</span><span class="sxs-lookup"><span data-stu-id="145af-167">Discrete attribute, no specified target.</span></span>|<span data-ttu-id="145af-168">Квадратный корень из среднего значения квадратов дополнений к оценке вероятности, деленный на число случаев в секции, исключая случаи с отсутствующими значениями целевого атрибута.</span><span class="sxs-lookup"><span data-stu-id="145af-168">Square root of the mean of the squares of complement of the probability score, divided by the number of cases in the partition, excluding cases with missing values for the target attribute.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="145af-169">См. также:</span><span class="sxs-lookup"><span data-stu-id="145af-169">See Also</span></span>  
 <span data-ttu-id="145af-170">[Тестирование и проверка &#40;&#41;интеллектуального анализа данных](testing-and-validation-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="145af-170">[Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md) </span></span>  
 [<span data-ttu-id="145af-171">Перекрестная проверка (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="145af-171">Cross-Validation &#40;Analysis Services - Data Mining&#41;</span></span>](cross-validation-analysis-services-data-mining.md)  
  
  

---
title: Алгоритм взаимосвязей (Майкрософт) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- MinimumProbability property
- itemsets [Analysis Services]
- MaximumItemsetCount property
- MinimumSupport property
- OPTIMIZED_PREDICTION_COUNT
- OptimizedPredictionCount property
- MaximumSupport property
- MINIMUM_PROBABILITY
- algorithms [data mining]
- association algorithms [Analysis Services]
- rules [Data Mining]
- association rules
- MinimumItemsetSize property
- market basket analysis [Analysis Services]
- associations [Analysis Services]
- MINIMUM_SUPPORT
- MAXIMUM_SUPPORT
- MINIMUM_ITEMSET_SIZE
- MaximumItemsetSize property
ms.assetid: 8b6b8247-62f9-4f6f-b1af-d01dab290e4c
author: minewiskan
ms.author: owend
ms.openlocfilehash: cba1ded76def941da520b546445b8634dd06f349
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87659027"
---
# <a name="microsoft-association-algorithm"></a>Алгоритм взаимосвязей (Майкрософт)
  Алгоритм взаимосвязей [!INCLUDE[msCoName](../../includes/msconame-md.md)] является алгоритмом взаимосвязей, предоставляемым службами [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. Этот алгоритм полезен для механизмов выработки рекомендаций. Ядро рекомендаций рекомендует программы пользователям на основе элементов, которые они уже купили, или к которым проявили интерес. Алгоритм взаимосвязей [!INCLUDE[msCoName](../../includes/msconame-md.md)] удобно использовать для анализа потребительской корзины. Пример анализа потребительской корзины см. в разделе [занятие 3. Создание сценария потребительской корзины &#40;учебник по интеллектуальному анализу данных&#41;](../../tutorials/lesson-3-building-a-market-basket-scenario-intermediate-data-mining-tutorial.md) в учебнике по интеллектуальному анализу данных.

 Модели взаимосвязей построены на наборах данных, содержащих идентификаторы для отдельных вариантов и элементов этих вариантов. Группа элементов в варианте называется *набор элементов*. Модель взаимосвязей состоит из рядов наборов элементов и правил, описывающих, как эти элементы группируются в вариантах. Правила, определяемые алгоритмом, могут использоваться для прогнозирования вероятных будущих покупок покупателей на основе элементов, уже имеющихся в корзине покупателя. На следующей диаграмме представлен ряд правил в наборе элементов.

 ![Набор правил для модели взаимосвязей](../media/association.gif "Набор правил для модели взаимосвязей")

 Как видно на схеме, алгоритм взаимосвязей [!INCLUDE[msCoName](../../includes/msconame-md.md)] потенциально может находить множество правил внутри набора данных. Для описания набора элементов и формируемых ими правил алгоритм использует два параметра: мощность несущего множества и вероятность. Например, если X и Y представляют два элемента, которые могут находиться в корзине для покупок, то параметр несущего множества будет равен количеству вариантов в наборе данных, содержащих сочетание элементов X и Y. Используя параметр несущего множества в сочетании с пользовательскими параметрами *MINIMUM_SUPPORT* и *MAXIMUM_SUPPORT* , алгоритм управляет количеством создаваемых наборов элементов. Параметр вероятности, называемый также *достоверностью*, представляет часть вариантов в наборе данных, содержащих X и Y. Используя параметр вероятности в сочетании с параметром *MINIMUM_PROBABILITY* , этот алгоритм управляет количеством сформированных правил.

## <a name="example"></a>Пример
 Компания [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] изменяет функциональные возможности своего веб-сайта. Цель этого изменения заключается в увеличении успешных продаж продукции. Записи организации о каждой продаже хранятся в транзакционной базе данных, поэтому можно использовать алгоритм взаимосвязей [!INCLUDE[msCoName](../../includes/msconame-md.md)] для определения набора продуктов, которые часто покупаются вместе. Затем на основе продуктов, имеющихся в корзине клиентов, можно прогнозировать дополнительные продукты, в которых могут быть заинтересованы эти клиенты.

## <a name="how-the-algorithm-works"></a>Принцип работы алгоритма
 Алгоритм взаимосвязей [!INCLUDE[msCoName](../../includes/msconame-md.md)] просматривает набор данных для поиска элементов, которые находятся в варианте совместно. Затем алгоритм группирует в наборы элементов любые связанные элементы, найденные, как минимум, в количестве вариантов, определенных параметром *MINIMUM_SUPPORT* . Например, возможен набор элементов «Горный 200=Существующий, Спортивный 100=Существующий», поддержка которого может составлять 710. Затем алгоритм формирует правила из наборов элементов. Правила используются для прогнозирования наличия элемента в базе данных на основе наличия других определенных элементов, которые алгоритм определяет как значимые. Например, возможно правило «если Туристический 1000=существующий и Контейнер для фляги=существующий, то Фляга=существующий» с вероятностью 0,812. В этом примере алгоритм определяет, что если в корзине имеется туристическая шина 1000 и контейнер для фляги, то, вероятно, там может быть и фляга для воды.

 Более подробное описание алгоритма, наряду со списком параметров для настройки поведения алгоритма и контроля над результатами в модели интеллектуального анализа данных, см. в разделе [Технический справочник по алгоритму взаимосвязей (Майкрософт)](microsoft-association-algorithm-technical-reference.md).

## <a name="data-required-for-association-models"></a>Данные, необходимые для моделей взаимосвязей
 При подготовке данных для использования в модели правил взаимосвязей, необходимо учитывать требования к конкретному алгоритму, включая то, сколько данных для него требуется и как эти данные используются.

 Требования к модели правил взаимосвязей являются следующими.

-   **Единичный ключевой столбец** Каждая модель должна содержать один числовой или текстовый столбец, который уникальным образом определяет каждую запись. Составные ключи не допускаются.

-   **Единственный прогнозируемый столбец** .   Модель взаимосвязей может иметь только один прогнозируемый столбец. Как правило, он представляет собой ключевой столбец вложенной таблицы, такой как перечень приобретенных продуктов. Эти значения должны быть дискретными или дискретизированными.

-   **Входные столбцы** . Входные столбцы должны быть дискретными. Входные данные для модели взаимосвязей часто содержатся в двух таблицах. Например, в одной таблице могут содержаться сведения о клиенте, а в другой — сведения о покупках клиента. Можно ввести эти данные в модель с помощью вложенной таблицы. Дополнительные сведения о вложенных таблицах см. в разделе [Вложенные таблицы (службы Analysis Services — интеллектуальный анализ данных)](nested-tables-analysis-services-data-mining.md).

 Дополнительные сведения о типах содержимого и типах данных, поддерживаемых моделями взаимосвязей, см. в подразделе "Требования" раздела [Технический справочник по алгоритму взаимосвязей (Майкрософт)](microsoft-association-algorithm-technical-reference.md).

## <a name="viewing-an-association-model"></a>Просмотр модели взаимосвязей
 Чтобы исследовать модель, можно использовать **Средство просмотра взаимосвязей (Майкрософт)**. При просмотре модели взаимосвязей в службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] представлены корреляции под различными углами зрения, что позволяет лучше понять связи и правила, обнаруживаемые в данных. На панели **Набор элементов** средства просмотра предоставлена подробная классификация наиболее часто встречающихся сочетаний или наборов элементов. На панели **Правила** представлен список правил, которые были выведены на основании данных, дополнительно приведены результаты вычисления вероятностей, а сами правила ранжированы по относительной важности. Средство просмотра сети зависимостей позволяет исследовать визуально, как связаны отдельные элементы. Дополнительные сведения см. в разделе [Просмотр модели с помощью средства просмотра кластеров (Майкрософт)](browse-a-model-using-the-microsoft-cluster-viewer.md).

 Более подробные сведения о любом из наборов элементов и правил можно найти, открыв модель в [средстве просмотра деревьев содержимого общего вида (Майкрософт)](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md). С моделью связано хранимое содержимое, которое включает несущее множество для каждого набора элементов, оценку для каждого правила и другие статистические данные. Дополнительные сведения см. в разделе [Содержимое моделей интеллектуального анализа данных для моделей взаимосвязей (службы Analysis Services — интеллектуальный анализ данных)](mining-model-content-for-association-models-analysis-services-data-mining.md).

## <a name="creating-predictions"></a>Создание прогнозов
 После обработки модели полученные правила и наборы элементов можно использовать для прогнозов. Прогнозы, выполняемые с помощью модели взаимосвязей, позволяют определить, какой элемент, скорее всего, обнаружится, если имеются сведения о присутствии указанного элемента, а сам прогноз может включать такую информацию, как вероятность, несущее множество или важность. Примеры создания запросов применительно к модели взаимосвязей см. в разделе [Примеры запросов моделей взаимосвязей](association-model-query-examples.md).

 Дополнительные сведения о создании запроса к модели интеллектуального анализа данных см. в разделе [Запросы интеллектуального анализа данных](data-mining-queries.md).

## <a name="performance"></a>Производительность
 Процесс создания наборов элементов и расчета значений корреляции может потребовать много времени. Несмотря на то, [!INCLUDE[msCoName](../../includes/msconame-md.md)] что алгоритм правил взаимосвязей использует методы оптимизации для экономии пространства и ускорения обработки, следует помнить, что проблемы с производительностью могут возникнуть в следующих условиях:

-   Применяется крупный набор данных, состоящий из большого количества отдельных элементов.

-   Задано слишком маленькое значение минимального размера набора элементов.

 Чтобы свести к минимуму время обработки и уменьшить сложность наборов элементов, можно попытаться сгруппировать связанные элементы по категориям перед выполнением анализа данных.

## <a name="remarks"></a>Remarks

-   Не поддерживается использование языка разметки прогнозирующих моделей (PMML) для создания моделей интеллектуального анализа данных.

-   Поддерживается детализация.

-   Поддерживается использование моделей интеллектуального анализа OLAP.

-   Поддерживается создание измерений интеллектуального анализа данных.

## <a name="see-also"></a>См. также:
 [Алгоритмы интеллектуального анализа данных &#40;Analysis Services — интеллектуальный анализ данных&#41;](data-mining-algorithms-analysis-services-data-mining.md) [Просмотр модели с помощью средства просмотра правил взаимосвязей (Майкрософт) Просмотр](browse-a-model-using-the-microsoft-association-rules-viewer.md) [содержимого модели интеллектуального анализа данных для моделей взаимосвязей &#40;Analysis Services — интеллектуальный анализ,&#41;](mining-model-content-for-association-models-analysis-services-data-mining.md) [Microsoft Association Algorithm Справочник](microsoft-association-algorithm-technical-reference.md) [Association Model Query Examples](association-model-query-examples.md)



---
title: Технический справочник по алгоритму логистической регрессии (Майкрософт) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- logistic regression [Analysis Services]
- MAXIMUM_INPUT_ATTRIBUTES parameter
- HOLDOUT_PERCENTAGE parameter
- MAXIMUM_OUTPUT_ATTRIBUTES parameter
- MAXIMUM_STATES parameter
- SAMPLE_SIZE parameter
- regression algorithms [Analysis Services]
- HOLDOUT_SEED parameter
ms.assetid: cf32f1f3-153e-476f-91a4-bb834ec7c88d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 72597453c9a52b890c822dd7c46aff46bc3ba44e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668518"
---
# <a name="microsoft-logistic-regression-algorithm-technical-reference"></a>техническом справочнике по алгоритму логистической регрессии (Майкрософт)
  Алгоритм логистической регрессии [!INCLUDE[msCoName](../../includes/msconame-md.md)] представляет собой вариант алгоритма нейронной сети [!INCLUDE[msCoName](../../includes/msconame-md.md)] , в котором параметр *HIDDEN_NODE_RATIO* равен 0. Эта настройка создает модель нейронной сети, которая не содержит скрытого слоя и, таким образом, эквивалентна логистической регрессии.

## <a name="implementation-of-the-microsoft-logistic-regression-algorithm"></a>Реализация алгоритма логистической регрессии (Майкрософт)
 Предположим, что прогнозируемый столбец содержит только два состояния, но все же необходимо провести регрессионный анализ, сопоставляя входные столбцы с вероятностью того, что прогнозируемый столбец будет содержать конкретное состояние. На следующей диаграмме показаны результаты, которые будут получены, если состояниям прогнозируемого столбца присвоить значения 1 и 0, рассчитать вероятность того, что столбец будет содержать конкретное состояние, и рассчитать линейную регрессию по отношению к входной переменной.

 ![Данные, плохо смоделированные с помощью линейной регрессии](../media/logistic-linear-regression.gif "Данные, плохо смоделированные с помощью линейной регрессии")

 Ось X содержит значения входного столбца. Ось Y содержит вероятности того, что прогнозируемый столбец будет в том или ином состоянии. Проблемой в этой ситуации является то, что линейная регрессия не ограничивает значения столбца значениями 0 и 1, несмотря на то что они являются минимальным и максимальным значениями этого столбца. Одним из способов решения этой проблемы является расчет логистической регрессии. Вместо создания прямой линии при логистическом регрессионном анализе создается кривая в форме латинской буквы «S», содержащая максимальное и минимальное ограничения. Например, на следующей диаграмме показаны результаты, которые будут получены при расчете логистической регрессии на основе тех же данных, которые использовались в предыдущем примере.

 ![Данные, смоделированные с помощью логистической регрессии](../media/logistic-regression.gif "Данные, смоделированные с помощью логистической регрессии")

 Заметьте, что кривая никогда не выходит за пределы выше 1 или ниже 0. Логистическую регрессию можно использовать для описания того, какие входные столбцы являются важными для определения состояния прогнозируемого столбца.

### <a name="feature-selection"></a>Выбор компонентов
 Выбор компонентов автоматически применяется всеми алгоритмами интеллектуального анализа данных служб Analysis Services для улучшения качества анализа и снижения вычислительной нагрузки. Метод выбора компонентов в моделях логистической регрессии зависит от типа данных атрибута. Поскольку логистическая регрессия основана на алгоритме нейронной сети Майкрософт, она использует подмножество методов выбора компонентов, применимых к нейронным сетям. Дополнительные сведения см. в разделе [Выбор компонентов (интеллектуальный анализ данных)](feature-selection-data-mining.md).

### <a name="scoring-inputs"></a>Количественная оценка входных данных
 *Количественная оценка* в контексте модели нейронной сети или модели логистической регрессии представляет собой процесс преобразования величин данных в наборы значений на одной и той же шкале, чтобы их можно было сравнивать между собой. Допустим, входные значения атрибута «Доход» варьируются от 0 до 100 000, в то время как значения атрибута «Количество детей» — от 0 до 5. Процесс преобразования позволяет *оценить*или сравнить важность каждого входного параметра независимо от разницы между значениями.

 Модель создает вход для каждого состояния, присутствующего в обучающем наборе. Для дискретных и дискретизированных входов создается дополнительный вход, представляющий отсутствие значения, если это значение хотя бы раз отсутствует в обучающем наборе. Для непрерывных входов создаются по крайней мере два входных узла: один для отсутствующих значений, если они отсутствуют в обучающих данных, и один вход для всех существующих, то есть не равных NULL, значений. Каждый вход масштабируется до числового формата с помощью метода нормализации z-оценки (x-μ)/Стддев.

 При нормализации с помощью z-показателя значение среднего (μ) и стандартного отклонения вычисляются на основании полного обучающего набора.

 **Непрерывные величины**

 Значение указано: (X-μ)/σ//X — это фактическое значение, которое кодируется.)

 Отсутствует:-μ/σ//отрицательное среднее значение, деленное на Сигма)

 **Дискретные значения**

 μ = p — (прошлая вероятность состояния)

 StdDev  = sqrt(p(1-p))

 Значение: (1-μ)/σ//(одно минус MU), деленное на Сигма)

 Отсутствует: (-μ)/σ//отрицательное среднее значение, деленное на Сигма)

### <a name="understanding-logistic-regression-coefficients"></a>Основные сведения о коэффициентах логистической регрессии
 В литературе по статистике описываются различные методы проведения логистической регрессии, но важной частью является оценка соответствия модели. Было предложено множество критериев для определения соответствия, в том числе относительные риски и шаблоны ковариаций. Сравнение методов измерения соответствия модели выходит за рамки данного раздела; однако можно получить значения коэффициентов модели и использовать их для создания собственных критериев соответствия.

> [!NOTE]
>  Коэффициенты, созданные как часть модели логистической регрессии, не представляют собой относительных рисков и не должны интерпретироваться как таковые.

 Коэффициенты для каждого узла в графе модели представляют собой взвешенную сумму входов этого узла. В модели логистической регрессии скрытый слой пуст; следовательно, существует только один набор коэффициентов, который хранится в выходных узлах. Значения коэффициентов можно определить с помощью следующего запроса:

```
SELECT FLATTENED [NODE_UNIQUE NAME],
(SELECT ATTRIBUTE_NAME< ATTRIBUTE_VALUE
FROM NODE_DISTRIBUTION) AS t
FROM <model name>.CONTENT
WHERE NODE_TYPE = 23
```

 Для каждого выходного значения этот запрос возвращает коэффициенты и идентификатор, указывающий на связанный входной узел. Запрос также возвращает строку, содержащую значение выхода и отсекаемого отрезка. Каждый входной X имеет свой собственный коэффициент (CI), но вложенная таблица также содержит коэффициент "Free" (CO), вычисленный в соответствии со следующей формулой:

 F (X) = x1 * C1 + x2 \* C2 +... + xn \* CN + x0

 Активация: exp(F(X)) / (1 + exp(F(X)) )

 Дополнительные сведения см. в разделе [Примеры запросов модели логистической регрессии](logistic-regression-model-query-examples.md).

## <a name="customizing-the-logistic-regression-algorithm"></a>Настройка алгоритма логистической регрессии
 Алгоритм логистической регрессии [!INCLUDE[msCoName](../../includes/msconame-md.md)] поддерживает несколько параметров, влияющих на поведение, производительность и точность итоговой модели интеллектуального анализа данных. Поведение модели можно также изменять, устанавливая на входных столбцах флаги моделирования

### <a name="setting-algorithm-parameters"></a>Задание параметров алгоритма
 В следующей таблице описываются параметры, которые можно использовать с алгоритмом логистической регрессии (Майкрософт).

 HOLDOUT_PERCENTAGE указывает процент вариантов в обучающих данных, используемых для вычисления контрольной ошибки. Параметр HOLDOUT_PERCENTAGE используется как один из критериев остановки во время обучения модели интеллектуального анализа данных.

 Значение по умолчанию равно 30.

 HOLDOUT_SEED указывает число, используемое для заполнения генератора псевдо-Random при случайном определении контрольных данных. Если для параметра HOLDOUT_SEED задано значение 0, то алгоритм формирует начальное значение на основе имени модели интеллектуального анализа данных, что гарантирует неизменность содержимого модели во время повторной обработки.

 Значение по умолчанию равно 0.

 MAXIMUM_INPUT_ATTRIBUTES определяет количество входных атрибутов, которые алгоритм может обменять перед вызовом выбора компонентов. Установите значение 0, чтобы отключить выбор компонентов.

 Значение по умолчанию — 255.

 MAXIMUM_OUTPUT_ATTRIBUTES определяет количество выходных атрибутов, которые алгоритм может обменять перед вызовом выбора компонентов. Установите значение 0, чтобы отключить выбор компонентов.

 Значение по умолчанию — 255.

 MAXIMUM_STATES указывает максимальное количество состояний атрибутов, поддерживаемое алгоритмом. Если количество состояний атрибута превышает максимально возможное количество состояний, то алгоритм использует наиболее частые состояния атрибута и пропускает остальные состояния.

 Значение по умолчанию — 100.

 SAMPLE_SIZE указывает количество вариантов, используемых для обучения модели. Поставщик алгоритма использует либо это число, либо процент от суммарного количества вариантов, не включенных в процент контрольных данных, в соответствии с параметром HOLDOUT_PERCENTAGE, выбирая наименьшее из этих двух значений.

 Другими словами, если значение параметра HOLDOUT_PERCENTAGE установлено равным 30, то алгоритм будет использовать либо значение этого параметра, либо значение, равное 70 процентам от общего количества вариантов — в зависимости от того, которое из двух указанных значений меньше.

 Значение по умолчанию — 10000.

### <a name="modeling-flags"></a>Флаги моделирования
 Далее перечислены флаги моделирования, которые поддерживает алгоритм логистической регрессии [!INCLUDE[msCoName](../../includes/msconame-md.md)] .

 NOT NULL указывает, что столбец не может содержать значение null. Если во время обучения модели службы Analysis Services обнаружат значение NULL, возникнет ошибка.

 Применяется к столбцам структуры интеллектуального анализа данных.

 MODEL_EXISTENCE_ONLY означает, что столбец будет рассматриваться как имеющий два возможных состояния: `Missing` и `Existing` . NULL означает отсутствие значения.

 Применяется к столбцу модели интеллектуального анализа данных.

## <a name="requirements"></a>Требования
 Модель логистической регрессии должна содержать ключевой столбец, входные столбцы и хотя бы один прогнозируемый столбец.

### <a name="input-and-predictable-columns"></a>Входные и прогнозируемые столбцы
 В следующей таблице перечислены конкретные типы содержимого входных столбцов, типы содержимого прогнозируемых столбцов и флаги моделирования, поддерживаемые алгоритмом логистической регрессии [!INCLUDE[msCoName](../../includes/msconame-md.md)] . Дополнительные сведения о значении типов содержимого в применении к модели интеллектуального анализа данных см. в разделе [Типы содержимого (интеллектуальный анализ данных)](content-types-data-mining.md).

|Столбец|Типы содержимого|
|------------|-------------------|
|Входной атрибут|Continuous, Discrete, Discretized, Key, Table|
|Прогнозируемый атрибут|Continuous, Discrete, Discretized|

## <a name="see-also"></a>См. также:
 [Примеры запросов модели линейной](linear-regression-model-query-examples.md) регрессии для [алгоритма логистической](microsoft-logistic-regression-algorithm.md) регрессии (Майкрософт [) содержимое модели интеллектуального анализа данных для моделей логистической регрессии &#40;Analysis Services-интеллектуальный анализ&#41;](mining-model-content-for-logistic-regression-models.md) [алгоритм нейронной сети Майкрософт](microsoft-neural-network-algorithm.md)



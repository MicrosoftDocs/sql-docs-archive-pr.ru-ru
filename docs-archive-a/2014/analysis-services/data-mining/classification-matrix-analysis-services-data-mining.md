---
title: Матрица классификации (Analysis Services — интеллектуальный анализ данных) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models [Analysis Services], validating
- validating data mining models
- viewing mining accuracy
- displaying mining accuracy
- confusion matrix [data mining]
- classification matrix [Analysis Services]
- accuracy testing [data mining]
ms.assetid: 5c12f202-2ed9-41fa-bee2-0f7ab3ff058a
author: minewiskan
ms.author: owend
ms.openlocfilehash: d880eb48e249d5e26611765fea7c9bd3b3e2216f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666899"
---
# <a name="classification-matrix-analysis-services---data-mining"></a><span data-ttu-id="85109-102">Матрица классификации (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-102">Classification Matrix (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="85109-103">*Матрица классификации* сортирует все варианты из модели по категориям, определяя, соответствовало ли прогнозируемое значение действительному.</span><span class="sxs-lookup"><span data-stu-id="85109-103">A *classification matrix* sorts all cases from the model into categories, by determining whether the predicted value matched the actual value.</span></span> <span data-ttu-id="85109-104">Затем все варианты в каждой категории пересчитываются, и полученные количества выводятся в виде матрицы.</span><span class="sxs-lookup"><span data-stu-id="85109-104">All the cases in each category are then counted, and the totals are displayed in the matrix.</span></span> <span data-ttu-id="85109-105">Матрица классификации — это стандартный инструмент для оценки статистических моделей, иногда ее называют *матрицей противоречий*.</span><span class="sxs-lookup"><span data-stu-id="85109-105">The classification matrix is a standard tool for evaluation of statistical models and is sometimes referred to as a *confusion matrix*.</span></span>  
  
 <span data-ttu-id="85109-106">Диаграмма, созданная с выбранным параметром **Матрица классификации** , сравнивает действительное значение с прогнозируемым для каждого заданного прогнозируемого варианта.</span><span class="sxs-lookup"><span data-stu-id="85109-106">The chart that is created when you choose the **Classification Matrix** option compares actual to predicted values for each predicted state that you specify.</span></span> <span data-ttu-id="85109-107">Строки в матрице представляют прогнозируемые значения для модели, а в столбцах представлены действительные значения.</span><span class="sxs-lookup"><span data-stu-id="85109-107">The rows in the matrix represent the predicted values for the model, whereas the columns represent the actual values.</span></span> <span data-ttu-id="85109-108">В анализе используются категории *ложный положительный результат*, *истинный положительный результат*, *ложный отрицательный результат*и *истинный отрицательный результат*</span><span class="sxs-lookup"><span data-stu-id="85109-108">The categories used in analysis are *false positive*, *true positive*, *false negative*, and *true negative*</span></span>  
  
 <span data-ttu-id="85109-109">Матрица классификации — это важный инструмент для оценки результатов прогнозирования, так как позволяет легко понять и объяснить последствия неверных прогнозов.</span><span class="sxs-lookup"><span data-stu-id="85109-109">A classification matrix is an important tool for assessing the results of prediction because it makes it easy to understand and account for the effects of wrong predictions.</span></span> <span data-ttu-id="85109-110">Просматривая суммы и проценты в каждой ячейке этой матрицы, можно быстро понять, как часто предсказания модели были верны.</span><span class="sxs-lookup"><span data-stu-id="85109-110">By viewing the amount and percentages in each cell of this matrix, you can quickly see how often the model predicted accurately.</span></span>  
  
 <span data-ttu-id="85109-111">В этом разделе поясняется, как создать матрицу классификации и интерпретировать получаемые результаты.</span><span class="sxs-lookup"><span data-stu-id="85109-111">This section explains how to create a classification matrix and how to interpret the results.</span></span>  
  
## <a name="understanding-the-classification-matrix"></a><span data-ttu-id="85109-112">Основные сведение о матрице классификации</span><span class="sxs-lookup"><span data-stu-id="85109-112">Understanding the Classification Matrix</span></span>  
 <span data-ttu-id="85109-113">Рассмотрим модель, созданную для учебника по интеллектуальному анализу данных.</span><span class="sxs-lookup"><span data-stu-id="85109-113">Consider the model that you created as part of the Basic Data Mining Tutorial.</span></span> <span data-ttu-id="85109-114">Модель [TM_DecisionTree] помогает создать целевую рассылку и позволит спрогнозировать, какие клиенты с наибольшей вероятностью купят велосипед.</span><span class="sxs-lookup"><span data-stu-id="85109-114">The [TM_DecisionTree] model is used to help create a targeted mailing campaign, and can be used to predict which customers are most likely to buy a bike.</span></span> <span data-ttu-id="85109-115">Для проверки эффективности модели используется набор данных, для которого значения атрибута результата [Bike Buyer] уже известны.</span><span class="sxs-lookup"><span data-stu-id="85109-115">To test this expected usefulness of this model, you use a data set for which the values of the outcome attribute, [Bike Buyer], are already known.</span></span> <span data-ttu-id="85109-116">Обычно используется набор проверочных данных, сохраненный со времени создания структуры интеллектуального анализа данных, которая используется для обучения модели.</span><span class="sxs-lookup"><span data-stu-id="85109-116">Typically, you would use the testing data set that you set aside when you created the mining structure that is used for training the model.</span></span>  
  
 <span data-ttu-id="85109-117">Возможны два результата: "да" (существует вероятность того, что клиент купит велосипед) и "нет" (скорее всего, клиент велосипед не купит).</span><span class="sxs-lookup"><span data-stu-id="85109-117">There are only two possible outcomes: yes (the customer is likely to buy a bike), and no (the customer will likely not purchase a bike).</span></span> <span data-ttu-id="85109-118">Таким образом, результирующая матрица классификации относительно проста.</span><span class="sxs-lookup"><span data-stu-id="85109-118">Therefore, the resulting classification matrix is relatively simple.</span></span>  
  
## <a name="interpreting-the-results"></a><span data-ttu-id="85109-119">Интерпретация результатов</span><span class="sxs-lookup"><span data-stu-id="85109-119">Interpreting the Results</span></span>  
 <span data-ttu-id="85109-120">В следующей таблице показана матрица классификации для модели TM_DecisionTree.</span><span class="sxs-lookup"><span data-stu-id="85109-120">The following table shows the classification matrix for the TM_DecisionTree model.</span></span> <span data-ttu-id="85109-121">Помните, что для этого прогнозируемого атрибута значение 0 означает «нет», а значение 1 — «да».</span><span class="sxs-lookup"><span data-stu-id="85109-121">Remember that for this predictable attribute, 0 means No and 1 means Yes.</span></span>  
  
|<span data-ttu-id="85109-122">Прогноз</span><span class="sxs-lookup"><span data-stu-id="85109-122">Predicted</span></span>|<span data-ttu-id="85109-123">0 (фактическое значение)</span><span class="sxs-lookup"><span data-stu-id="85109-123">0 (Actual)</span></span>|<span data-ttu-id="85109-124">1 (фактическое значение)</span><span class="sxs-lookup"><span data-stu-id="85109-124">1 (Actual)</span></span>|  
|---------------|------------------|------------------|  
|<span data-ttu-id="85109-125">0</span><span class="sxs-lookup"><span data-stu-id="85109-125">0</span></span>|<span data-ttu-id="85109-126">362</span><span class="sxs-lookup"><span data-stu-id="85109-126">362</span></span>|<span data-ttu-id="85109-127">144</span><span class="sxs-lookup"><span data-stu-id="85109-127">144</span></span>|  
|<span data-ttu-id="85109-128">1</span><span class="sxs-lookup"><span data-stu-id="85109-128">1</span></span>|<span data-ttu-id="85109-129">121</span><span class="sxs-lookup"><span data-stu-id="85109-129">121</span></span>|<span data-ttu-id="85109-130">373</span><span class="sxs-lookup"><span data-stu-id="85109-130">373</span></span>|  
  
 <span data-ttu-id="85109-131">Первая ячейка результата, которая содержит значение 362, указывает количество *истинных положительных результатов* для значения 0.</span><span class="sxs-lookup"><span data-stu-id="85109-131">The first result cell, which contains the value 362, indicates the number of *true positives* for the value 0.</span></span> <span data-ttu-id="85109-132">Поскольку 0 означает, что клиент не приобрел велосипед, этот статистический показатель сообщает, что модель спрогнозировала правильное значение для клиентов, не купивших велосипед, в 362 случаях.</span><span class="sxs-lookup"><span data-stu-id="85109-132">Because 0 indicates that the customer did not purchase a bike, this statistic tells you that model predicted the correct value for non bike-buyers in 362 cases.</span></span>  
  
 <span data-ttu-id="85109-133">Ячейка, которая расположена непосредственно ниже и содержит значение 121, указывает число *ложных положительных результатов*, то есть количество раз, когда ожидалось, что клиент приобретет велосипед, но в действительности покупка не состоялась.</span><span class="sxs-lookup"><span data-stu-id="85109-133">The cell directly underneath that one, which contains the value 121, tells you the number of *false positives*, or how many times the model predicted that someone would buy a bike when actually they did not.</span></span>  
  
 <span data-ttu-id="85109-134">Ячейка, которая содержит значение 144, указывает количество *ложных положительных результатов* для значения 1.</span><span class="sxs-lookup"><span data-stu-id="85109-134">The cell that contains the value 144 indicates the number of *false positives* for the value 1.</span></span> <span data-ttu-id="85109-135">Поскольку 1 означает, что клиент приобрел велосипед, этот статистический показатель сообщает, что модель в 144 случаях спрогнозировала, что клиент не приобретет велосипед, а в действительности покупка состоялась.</span><span class="sxs-lookup"><span data-stu-id="85109-135">Because 1 means that the customer did purchase a bike, this statistic tells you that in 144 cases, the model predicted someone would not buy a bike when in fact they did.</span></span>  
  
 <span data-ttu-id="85109-136">Наконец, ячейка результата, которая содержит значение 373, указывает количество истинных положительных результатов для целевого значения 1.</span><span class="sxs-lookup"><span data-stu-id="85109-136">Finally, the cell that contains the value 373 indicates the number of true positives for the target value of 1.</span></span> <span data-ttu-id="85109-137">Другими словами, в 373 случаях модель правильно предсказала, что некто приобретет велосипед.</span><span class="sxs-lookup"><span data-stu-id="85109-137">In other words, in 373 cases the model correctly predicted that someone would buy a bike.</span></span>  
  
 <span data-ttu-id="85109-138">Сложив значения в ячейках, расположенных на одной диагонали, можно определить общую точность модели.</span><span class="sxs-lookup"><span data-stu-id="85109-138">By summing the values in cells that are diagonally adjacent, you can determine the overall accuracy of the model.</span></span> <span data-ttu-id="85109-139">Одна диагональ позволяет определить общее число точных прогнозов, а вторая — общее число ошибочных прогнозов.</span><span class="sxs-lookup"><span data-stu-id="85109-139">One diagonal tells you the total number of accurate predictions, and the other diagonal tells you the total number of erroneous predictions.</span></span>  
  
### <a name="using-multiple-predictable-values"></a><span data-ttu-id="85109-140">Использование нескольких прогнозируемых значений</span><span class="sxs-lookup"><span data-stu-id="85109-140">Using Multiple Predictable Values</span></span>  
 <span data-ttu-id="85109-141">Вариант [Bike Buyer] особенно просто интерпретировать, поскольку для него возможны только два значения.</span><span class="sxs-lookup"><span data-stu-id="85109-141">The [Bike Buyer] case is especially easy to interpret because there are only two possible values.</span></span> <span data-ttu-id="85109-142">Если прогнозируемый атрибут имеет несколько возможных значений, матрица классификации добавляет новый столбец для каждого возможного фактического значения и затем подсчитывает число совпадений для каждого прогнозируемого значения.</span><span class="sxs-lookup"><span data-stu-id="85109-142">When the predictable attribute has multiple possible values, the classification matrix adds a new column for each possible actual value and then counts the number of matches for each predicted value.</span></span> <span data-ttu-id="85109-143">В следующей таблице показаны результаты для другой модели, когда возможны три значения (0, 1, 2).</span><span class="sxs-lookup"><span data-stu-id="85109-143">The following table shows the results on a different model, where three values (0, 1, 2) are possible.</span></span>  
  
|<span data-ttu-id="85109-144">Прогноз</span><span class="sxs-lookup"><span data-stu-id="85109-144">Predicted</span></span>|<span data-ttu-id="85109-145">0 (фактическое значение)</span><span class="sxs-lookup"><span data-stu-id="85109-145">0 (Actual)</span></span>|<span data-ttu-id="85109-146">1 (фактическое значение)</span><span class="sxs-lookup"><span data-stu-id="85109-146">1 (Actual)</span></span>|<span data-ttu-id="85109-147">2 (действительное значение)</span><span class="sxs-lookup"><span data-stu-id="85109-147">2 (Actual)</span></span>|  
|---------------|------------------|------------------|------------------|  
|<span data-ttu-id="85109-148">0</span><span class="sxs-lookup"><span data-stu-id="85109-148">0</span></span>|<span data-ttu-id="85109-149">111</span><span class="sxs-lookup"><span data-stu-id="85109-149">111</span></span>|<span data-ttu-id="85109-150">3</span><span class="sxs-lookup"><span data-stu-id="85109-150">3</span></span>|<span data-ttu-id="85109-151">5</span><span class="sxs-lookup"><span data-stu-id="85109-151">5</span></span>|  
|<span data-ttu-id="85109-152">1</span><span class="sxs-lookup"><span data-stu-id="85109-152">1</span></span>|<span data-ttu-id="85109-153">2</span><span class="sxs-lookup"><span data-stu-id="85109-153">2</span></span>|<span data-ttu-id="85109-154">123</span><span class="sxs-lookup"><span data-stu-id="85109-154">123</span></span>|<span data-ttu-id="85109-155">17</span><span class="sxs-lookup"><span data-stu-id="85109-155">17</span></span>|  
|<span data-ttu-id="85109-156">2</span><span class="sxs-lookup"><span data-stu-id="85109-156">2</span></span>|<span data-ttu-id="85109-157">19</span><span class="sxs-lookup"><span data-stu-id="85109-157">19</span></span>|<span data-ttu-id="85109-158">0</span><span class="sxs-lookup"><span data-stu-id="85109-158">0</span></span>|<span data-ttu-id="85109-159">20</span><span class="sxs-lookup"><span data-stu-id="85109-159">20</span></span>|  
  
 <span data-ttu-id="85109-160">Хотя добавление столбцов делает отчет более сложным, дополнительные данные могут оказаться очень полезными, когда необходимо оценить совокупную стоимость неправильных прогнозов.</span><span class="sxs-lookup"><span data-stu-id="85109-160">Although the addition of more columns makes the report look more complex, the additional detail can be very useful when you want to assess the cumulative cost of making the wrong prediction.</span></span> <span data-ttu-id="85109-161">Чтобы вычислить суммы по диагоналям или сравнить результаты для различных сочетаний строк, можно нажать кнопку **Копировать** на вкладке **Матрица классификации** и вставить отчет в Excel.</span><span class="sxs-lookup"><span data-stu-id="85109-161">To create sums on the diagonals or to compare the results for different combinations of rows, you can click the **Copy** button provided in the **Classification Matrix** tab and paste the report into Excel.</span></span> <span data-ttu-id="85109-162">Кроме того, можно использовать клиент (например, клиент интеллектуального анализа данных для Excel), который поддерживает [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] и более поздние версии, для создания прямо в Excel классификационного отчета, включающего как численные, так и процентные результаты.</span><span class="sxs-lookup"><span data-stu-id="85109-162">Alternatively, you can use a client such as the Data Mining Client for Excel, which supports [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions, to create a classification report directly in Excel that includes both counts and percentages.</span></span> <span data-ttu-id="85109-163">Дополнительные сведения см. в разделе [Интеллектуальный анализ в SQL Server](https://go.microsoft.com/fwlink/?LinkID=77733).</span><span class="sxs-lookup"><span data-stu-id="85109-163">For more information, see [SQL Server Data Mining](https://go.microsoft.com/fwlink/?LinkID=77733).</span></span>  
  
## <a name="restrictions-on-the-classification-matrix"></a><span data-ttu-id="85109-164">Ограничения для матрицы классификации</span><span class="sxs-lookup"><span data-stu-id="85109-164">Restrictions on the Classification Matrix</span></span>  
 <span data-ttu-id="85109-165">Матрицу классификации можно использовать только с дискретными прогнозируемыми атрибутами.</span><span class="sxs-lookup"><span data-stu-id="85109-165">A classification matrix can be used only with discrete predictable attributes.</span></span>  
  
 <span data-ttu-id="85109-166">Хотя при выборе моделей на вкладке **Выбор входа** конструктора **Диаграмма точности интеллектуального анализа** можно добавить несколько моделей, на вкладке **Матрица классификации** будет показана отдельная матрица для каждой модели.</span><span class="sxs-lookup"><span data-stu-id="85109-166">Although you can add multiple models when selecting models on the **Input Selection** tab of the **Mining Accuracy Chart** designer, the **Classification Matrix** tab will display a separate matrix for each model.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="85109-167">См. также</span><span class="sxs-lookup"><span data-stu-id="85109-167">Related Content</span></span>  
 <span data-ttu-id="85109-168">В следующих разделах содержатся дополнительные сведения о том, как создать и использовать матрицу классификации и другие диаграммы.</span><span class="sxs-lookup"><span data-stu-id="85109-168">The following topics contain more information about how you can build and use classification matrices and other charts.</span></span>  
  
|<span data-ttu-id="85109-169">Разделы</span><span class="sxs-lookup"><span data-stu-id="85109-169">Topics</span></span>|<span data-ttu-id="85109-170">Ссылки</span><span class="sxs-lookup"><span data-stu-id="85109-170">Links</span></span>|  
|------------|-----------|  
|<span data-ttu-id="85109-171">Объясняет, как создать диаграмму точности прогнозов для модели целевой рассылки.</span><span class="sxs-lookup"><span data-stu-id="85109-171">Provides a walkthrough of how to create a lift chart for the Targeted Mailing model.</span></span>|[<span data-ttu-id="85109-172">Учебник по основам интеллектуального анализа данных</span><span class="sxs-lookup"><span data-stu-id="85109-172">Basic Data Mining Tutorial</span></span>](../../tutorials/basic-data-mining-tutorial.md)<br /><br /> [<span data-ttu-id="85109-173">Проверка точности с помощью диаграмм точности прогнозов (учебник интеллектуального анализа данных — начальный уровень)</span><span class="sxs-lookup"><span data-stu-id="85109-173">Testing Accuracy with Lift Charts &#40;Basic Data Mining Tutorial&#41;</span></span>](../../tutorials/testing-accuracy-with-lift-charts-basic-data-mining-tutorial.md)|  
|<span data-ttu-id="85109-174">Объясняет типы соответствующих диаграмм.</span><span class="sxs-lookup"><span data-stu-id="85109-174">Explains related chart types.</span></span>|[<span data-ttu-id="85109-175">Диаграмма точности прогнозов (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-175">Lift Chart &#40;Analysis Services - Data Mining&#41;</span></span>](lift-chart-analysis-services-data-mining.md)<br /><br /> [<span data-ttu-id="85109-176">Диаграмма роста прибыли (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-176">Profit Chart &#40;Analysis Services - Data Mining&#41;</span></span>](profit-chart-analysis-services-data-mining.md)<br /><br /> [<span data-ttu-id="85109-177">Точечная диаграмма (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-177">Scatter Plot &#40;Analysis Services - Data Mining&#41;</span></span>](scatter-plot-analysis-services-data-mining.md)|  
|<span data-ttu-id="85109-178">Описывает использование перекрестной проверки для моделей интеллектуального анализа данных и структур интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="85109-178">Describes uses of cross-validation for mining models and mining structures.</span></span>|[<span data-ttu-id="85109-179">Перекрестная проверка (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-179">Cross-Validation &#40;Analysis Services - Data Mining&#41;</span></span>](cross-validation-analysis-services-data-mining.md)|  
|<span data-ttu-id="85109-180">Описывает шаги для создания диаграммы точности прогнозов и других диаграмм точности.</span><span class="sxs-lookup"><span data-stu-id="85109-180">Describes steps for creating lift charts and other accuracy charts.</span></span>|[<span data-ttu-id="85109-181">Задачи и решения по тестированию и проверке (интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-181">Testing and Validation Tasks and How-tos &#40;Data Mining&#41;</span></span>](testing-and-validation-tasks-and-how-tos-data-mining.md)|  
  
## <a name="see-also"></a><span data-ttu-id="85109-182">См. также:</span><span class="sxs-lookup"><span data-stu-id="85109-182">See Also</span></span>  
 [<span data-ttu-id="85109-183">Тестирование и проверка (интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="85109-183">Testing and Validation &#40;Data Mining&#41;</span></span>](testing-and-validation-data-mining.md)  
  
  

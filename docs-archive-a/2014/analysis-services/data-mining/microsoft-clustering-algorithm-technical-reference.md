---
title: Технический справочник по алгоритму кластеризации (Майкрософт) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- clustering [Data Mining]
- MAXIMUM_INPUT_ATTRIBUTES parameter
- CLUSTER_SEED parameter
- MODELLING_CARDINALITY parameter
- MINIMUM_SUPPORT parameter
- STOPPING_TOLERANCE parameter
- MAXIMUM_STATES parameter
- SAMPLE_SIZE parameter
- CLUSTERING_METHOD parameter
- soft clustering [Data Mining]
- clustering algorithms [Analysis Services]
- CLUSTER_COUNT parameter
ms.assetid: ec40868a-6dc7-4dfa-aadc-dedf69e555eb
author: minewiskan
ms.author: owend
ms.openlocfilehash: ee9019f821c5608527e0bdca5eddc8f1ead52f41
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665668"
---
# <a name="microsoft-clustering-algorithm-technical-reference"></a><span data-ttu-id="b26bc-102">Технический справочник по алгоритму кластеризации (Майкрософт)</span><span class="sxs-lookup"><span data-stu-id="b26bc-102">Microsoft Clustering Algorithm Technical Reference</span></span>
  <span data-ttu-id="b26bc-103">Этот раздел посвящен алгоритму кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] , в том числе параметрам, с помощью которых можно управлять поведением моделей кластеризации.</span><span class="sxs-lookup"><span data-stu-id="b26bc-103">This section explains the implementation of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm, including the parameters that you can use to control the behavior of clustering models.</span></span> <span data-ttu-id="b26bc-104">В разделе также содержатся советы по ускорению создания и обработки моделей кластеризации.</span><span class="sxs-lookup"><span data-stu-id="b26bc-104">It also provides guidance about how to improve performance when you create and process clustering models.</span></span>  
  
 <span data-ttu-id="b26bc-105">Дополнительные сведения об использовании моделей кластеризации см. в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="b26bc-105">For additional information about how to use clustering models, see the following topics:</span></span>  
  
-   [<span data-ttu-id="b26bc-106">Содержимое моделей интеллектуального анализа данных для моделей кластеризации (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="b26bc-106">Mining Model Content for Clustering Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-clustering-models-analysis-services-data-mining.md)  
  
-   [<span data-ttu-id="b26bc-107">Примеры запросов к модели кластеризации</span><span class="sxs-lookup"><span data-stu-id="b26bc-107">Clustering Model Query Examples</span></span>](clustering-model-query-examples.md)  
  
## <a name="implementation-of-the-microsoft-clustering-algorithm"></a><span data-ttu-id="b26bc-108">Реализация алгоритма кластеризации (Майкрософт)</span><span class="sxs-lookup"><span data-stu-id="b26bc-108">Implementation of the Microsoft Clustering Algorithm</span></span>  
 <span data-ttu-id="b26bc-109">Алгоритм кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] предоставляет два метода создания кластеров и назначения кластеров точкам данных.</span><span class="sxs-lookup"><span data-stu-id="b26bc-109">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm provides two methods for creating clusters and assigning data points to the clusters.</span></span> <span data-ttu-id="b26bc-110">Первый метод, алгоритм *К-средних* , — метод жесткой кластеризации.</span><span class="sxs-lookup"><span data-stu-id="b26bc-110">The first, the *K-means* algorithm, is a hard clustering method.</span></span> <span data-ttu-id="b26bc-111">Это значит, что точка данных может принадлежать только одному кластеру и для принадлежности каждой точки данных этому кластеру вычисляется одно значение вероятности.</span><span class="sxs-lookup"><span data-stu-id="b26bc-111">This means that a data point can belong to only one cluster, and that a single probability is calculated for the membership of each data point in that cluster.</span></span> <span data-ttu-id="b26bc-112">Второй метод, *максимизация ожиданий* (EM), — это метод *мягкой кластеризации* .</span><span class="sxs-lookup"><span data-stu-id="b26bc-112">The second method, the *Expectation Maximization* (EM) method, is a *soft clustering* method.</span></span> <span data-ttu-id="b26bc-113">Это значит, что точка данных всегда принадлежит к нескольким кластерам и для всех возможных сочетаний точек данных с кластерами вычисляются вероятности.</span><span class="sxs-lookup"><span data-stu-id="b26bc-113">This means that a data point always belongs to multiple clusters, and that a probability is calculated for each combination of data point and cluster.</span></span>  
  
 <span data-ttu-id="b26bc-114">Алгоритм кластеризации можно задать с помощью параметра *CLUSTERING_METHOD* .</span><span class="sxs-lookup"><span data-stu-id="b26bc-114">You can choose which algorithm to use by setting the *CLUSTERING_METHOD* parameter.</span></span> <span data-ttu-id="b26bc-115">По умолчанию используется масштабируемая максимизация ожидания.</span><span class="sxs-lookup"><span data-stu-id="b26bc-115">The default method for clustering is scalable EM.</span></span>  
  
### <a name="em-clustering"></a><span data-ttu-id="b26bc-116">Кластеризация методом EM</span><span class="sxs-lookup"><span data-stu-id="b26bc-116">EM Clustering</span></span>  
 <span data-ttu-id="b26bc-117">При кластеризации методом EM алгоритм итеративно уточняет начальную модель кластеризации, подгоняя ее к данным, и определяет вероятность принадлежности точки данных кластеру.</span><span class="sxs-lookup"><span data-stu-id="b26bc-117">In EM clustering, the algorithm iteratively refines an initial cluster model to fit the data and determines the probability that a data point exists in a cluster.</span></span> <span data-ttu-id="b26bc-118">Этот алгоритм заканчивает работу, когда вероятностная модель соответствует данным.</span><span class="sxs-lookup"><span data-stu-id="b26bc-118">The algorithm ends the process when the probabilistic model fits the data.</span></span> <span data-ttu-id="b26bc-119">Функция, используемая для установления соответствия, — логарифм правдоподобия данных, вводимых в модель.</span><span class="sxs-lookup"><span data-stu-id="b26bc-119">The function used to determine the fit is the log-likelihood of the data given the model.</span></span>  
  
 <span data-ttu-id="b26bc-120">Если в процессе формируются пустые кластеры или количество элементов в одном или нескольких кластерах оказывается меньше заданного минимального значения, малочисленные кластеры заполняются повторно с помощью новых точек и алгоритм EM запускается снова.</span><span class="sxs-lookup"><span data-stu-id="b26bc-120">If empty clusters are generated during the process, or if the membership of one or more of the clusters falls below a given threshold, the clusters with low populations are reseeded at new points and the EM algorithm is rerun.</span></span>  
  
 <span data-ttu-id="b26bc-121">Результаты метода масштабируемой максимизации ожидания являются вероятностными.</span><span class="sxs-lookup"><span data-stu-id="b26bc-121">The results of the EM clustering method are probabilistic.</span></span> <span data-ttu-id="b26bc-122">Это значит, что каждая точка данных принадлежит всем кластерам, но с разной вероятностью.</span><span class="sxs-lookup"><span data-stu-id="b26bc-122">This means that every data point belongs to all clusters, but each assignment of a data point to a cluster has a different probability.</span></span> <span data-ttu-id="b26bc-123">Поскольку метод допускает перекрытие кластеров, сумма элементов всех кластеров может превышать число элементов обучающего набора.</span><span class="sxs-lookup"><span data-stu-id="b26bc-123">Because the method allows for clusters to overlap, the sum of items in all the clusters may exceed the total items in the training set.</span></span> <span data-ttu-id="b26bc-124">Поэтому в результирующей модели интеллектуального анализа данных в показатели, выражающие мощность несущего множества, вносится соответствующая поправка.</span><span class="sxs-lookup"><span data-stu-id="b26bc-124">In the mining model results, scores that indicate support are adjusted to account for this.</span></span>  
  
 <span data-ttu-id="b26bc-125">По умолчанию модели кластеризации Майкрософт используют алгоритм масштабируемой максимизации ожидания.</span><span class="sxs-lookup"><span data-stu-id="b26bc-125">The EM algorithm is the default algorithm used in Microsoft clustering models.</span></span> <span data-ttu-id="b26bc-126">Этот алгоритм используется по умолчанию, поскольку он обладает несколькими преимуществами в сравнении с методом кластеризации К-средних:</span><span class="sxs-lookup"><span data-stu-id="b26bc-126">This algorithm is used as the default because it offers multiple advantages in comparison to k-means clustering:</span></span>  
  
-   <span data-ttu-id="b26bc-127">не требует больше одного просмотра базы данных;</span><span class="sxs-lookup"><span data-stu-id="b26bc-127">Requires one database scan, at most.</span></span>  
  
-   <span data-ttu-id="b26bc-128">работает даже при ограниченном объеме оперативной памяти;</span><span class="sxs-lookup"><span data-stu-id="b26bc-128">Will work despite limited memory (RAM).</span></span>  
  
-   <span data-ttu-id="b26bc-129">может использовать однопроходный курсор;</span><span class="sxs-lookup"><span data-stu-id="b26bc-129">Has the ability to use a forward-only cursor.</span></span>  
  
-   <span data-ttu-id="b26bc-130">по производительности опережает методы, требующие выборки.</span><span class="sxs-lookup"><span data-stu-id="b26bc-130">Outperforms sampling approaches.</span></span>  
  
 <span data-ttu-id="b26bc-131">Реализация Майкрософт предоставляет два режима: масштабируемую и немасштабируемую максимизацию ожидания.</span><span class="sxs-lookup"><span data-stu-id="b26bc-131">The Microsoft implementation provides two options: scalable and non-scalable EM.</span></span> <span data-ttu-id="b26bc-132">По умолчанию при масштабируемой максимизации ожидания просматривается 50 000 записей.</span><span class="sxs-lookup"><span data-stu-id="b26bc-132">By default, in scalable EM, the first 50,000 records are used to seed the initial scan.</span></span> <span data-ttu-id="b26bc-133">В случае успеха модель использует только эти данные.</span><span class="sxs-lookup"><span data-stu-id="b26bc-133">If this is successful, the model uses this data only.</span></span> <span data-ttu-id="b26bc-134">Если модель не удается подогнать на основании 50 000 записей, считываются еще 50 000 записей.</span><span class="sxs-lookup"><span data-stu-id="b26bc-134">If the model cannot be fit using 50,000 records, an additional 50,000 records are read.</span></span> <span data-ttu-id="b26bc-135">При немасштабируемой максимизации ожидания считывается весь набор данных, независимо от его размера.</span><span class="sxs-lookup"><span data-stu-id="b26bc-135">In non-scalable EM, the entire dataset is read regardless of its size.</span></span> <span data-ttu-id="b26bc-136">Этот метод создает кластеры более точно, но предъявляет значительные требования к объему памяти.</span><span class="sxs-lookup"><span data-stu-id="b26bc-136">This method might create more accurate clusters, but the memory requirements can be significant.</span></span> <span data-ttu-id="b26bc-137">Поскольку метод масштабируемой максимизации ожидания использует локальный буфер, итерации с просмотром всех данных работают быстрее и этот алгоритм гораздо лучше использует кэш памяти процессора, чем метод немасштабируемой максимизации ожидания.</span><span class="sxs-lookup"><span data-stu-id="b26bc-137">Because scalable EM operates on a local buffer, iterating through the data is much faster, and the algorithm makes much better use of the CPU memory cache than non-scalable EM.</span></span> <span data-ttu-id="b26bc-138">Более того, метод масштабируемой максимизации ожидания втрое быстрее метода немасштабируемой максимизации ожидания, даже если все данные умещаются в оперативной памяти.</span><span class="sxs-lookup"><span data-stu-id="b26bc-138">Moreover, scalable EM is three times faster than non-scalable EM, even if all the data can fit in main memory.</span></span> <span data-ttu-id="b26bc-139">В большинстве случаев выигрыш в скорости не ведет к ухудшению качества окончательной модели.</span><span class="sxs-lookup"><span data-stu-id="b26bc-139">In the majority of cases, the performance improvement does not lead to lower quality of the complete model.</span></span>  
  
 <span data-ttu-id="b26bc-140">Техническое описание реализации алгоритма максимизации ожидания в алгоритме кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] можно найти в статье [Масштабирование кластеризации EM (максимизация ожидания) под большие базы данных](https://go.microsoft.com/fwlink/?LinkId=45964).</span><span class="sxs-lookup"><span data-stu-id="b26bc-140">For a technical report that describes the implementation of EM in the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm, see [Scaling EM (Expectation Maximization) Clustering to Large Databases](https://go.microsoft.com/fwlink/?LinkId=45964).</span></span>  
  
### <a name="k-means-clustering"></a><span data-ttu-id="b26bc-141">Кластеризация методом K-средних</span><span class="sxs-lookup"><span data-stu-id="b26bc-141">K-Means Clustering</span></span>  
 <span data-ttu-id="b26bc-142">Кластеризация методом К-средних — хорошо известный метод определения принадлежности элементов кластерам с помощью минимизации разницы между элементами кластера и максимизации расстояния между кластерами.</span><span class="sxs-lookup"><span data-stu-id="b26bc-142">K-means clustering is a well-known method of assigning cluster membership by minimizing the differences among items in a cluster while maximizing the distance between clusters.</span></span> <span data-ttu-id="b26bc-143">Слово "средние" в названии метода относится к *центроидам* кластеров. Центроид — точка данных, которая выбирается произвольно, а затем итеративно уточняется, пока не начинает представлять собой истинное среднее всех точек данных кластера.</span><span class="sxs-lookup"><span data-stu-id="b26bc-143">The "means" in k-means refers to the *centroid* of the cluster, which is a data point that is chosen arbitrarily and then refined iteratively until it represents the true mean of all data points in the cluster.</span></span> <span data-ttu-id="b26bc-144">«К» означает произвольное количество точек, используемых для формирования начальных значений процесса кластеризации.</span><span class="sxs-lookup"><span data-stu-id="b26bc-144">The "k" refers to an arbitrary number of points that are used to seed the clustering process.</span></span> <span data-ttu-id="b26bc-145">Алгоритм К-средних вычисляет квадраты евклидовых расстояний между записями данных в кластере и вектор, представляющий собой среднее данного кластера. Метод сходится, выдавая окончательный набор из К кластеров, когда упомянутая сумма минимизирована.</span><span class="sxs-lookup"><span data-stu-id="b26bc-145">The k-means algorithm calculates the squared Euclidean distances between data records in a cluster and the vector that represents the cluster mean, and converges on a final set of k clusters when that sum reaches its minimum value.</span></span>  
  
 <span data-ttu-id="b26bc-146">Алгоритм К-средних назначает каждой точке данных ровно один кластер и не допускает неопределенности в принадлежности точки кластеру.</span><span class="sxs-lookup"><span data-stu-id="b26bc-146">The k-means algorithm assigns each data point to exactly one cluster, and does not allow for uncertainty in membership.</span></span> <span data-ttu-id="b26bc-147">Принадлежность к классу выражается расстоянием от центроида.</span><span class="sxs-lookup"><span data-stu-id="b26bc-147">Membership in a cluster is expressed as a distance from the centroid.</span></span>  
  
 <span data-ttu-id="b26bc-148">Обычно алгоритм К-средних используется для создания кластеров непрерывных атрибутов, для которых несложно вычислить расстояние до среднего.</span><span class="sxs-lookup"><span data-stu-id="b26bc-148">Typically, the k-means algorithm is used for creating clusters of continuous attributes, where calculating distance to a mean is straightforward.</span></span> <span data-ttu-id="b26bc-149">Однако реализация [!INCLUDE[msCoName](../../includes/msconame-md.md)] использует метод К-средних и для кластеризации дискретных атрибутов с помощью вероятностей.</span><span class="sxs-lookup"><span data-stu-id="b26bc-149">However, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] implementation adapts the k-means method to cluster discrete attributes, by using probabilities.</span></span>  <span data-ttu-id="b26bc-150">Для дискретных атрибутов расстояние от точки данных до конкретного кластера вычисляется следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b26bc-150">For discrete attributes, the distance of a data point from a particular cluster is calculated as follows:</span></span>  
  
 <span data-ttu-id="b26bc-151">1 - P(точка данных, кластер).</span><span class="sxs-lookup"><span data-stu-id="b26bc-151">1 - P(data point, cluster)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b26bc-152">Алгоритм кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] не предоставляет доступа к функции расстояния, с помощью которой вычисляются К-средние, и в окончательной модели вычисление расстояний недоступно.</span><span class="sxs-lookup"><span data-stu-id="b26bc-152">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm does not expose the distance function used in computing k-means, and measures of distance are not available in the completed model.</span></span> <span data-ttu-id="b26bc-153">Однако с помощью прогнозирующей функции можно получить величину, соответствующую расстоянию, где расстояние вычисляется как вероятность принадлежности точки данных к кластеру.</span><span class="sxs-lookup"><span data-stu-id="b26bc-153">However, you can use a prediction function to return a value that corresponds to distance, where distance is computed as the probability of a data point belonging to the cluster.</span></span> <span data-ttu-id="b26bc-154">Дополнительные сведения см. в статье [ClusterProbability (расширения интеллектуального анализа данных)](/sql/dmx/clusterprobability-dmx).</span><span class="sxs-lookup"><span data-stu-id="b26bc-154">For more information, see [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx).</span></span>  
  
 <span data-ttu-id="b26bc-155">Алгоритм К-средних предоставляет два метода выборки из набора данных: немасштабируемые К-средние, когда загружается весь набор данных и выполняется кластеризация за один проход, и масштабируемые К-средние, когда загружаются первые 50 000 вариантов, а дополнительные — только если это необходимо для улучшения модели.</span><span class="sxs-lookup"><span data-stu-id="b26bc-155">The k-means algorithm provides two methods of sampling the data set: non-scalable K-means, which loads the entire data set and makes one clustering pass, or scalable k-means, where the algorithm uses the first 50,000 cases and reads more cases only if it needs more data to achieve a good fit of model to data.</span></span>  
  
### <a name="updates-to-the-microsoft-clustering-algorithm-in-sql-server-2008"></a><span data-ttu-id="b26bc-156">Обновляется до алгоритма кластеризации (Майкрософт) в SQL Server 2008</span><span class="sxs-lookup"><span data-stu-id="b26bc-156">Updates to the Microsoft Clustering Algorithm in SQL Server 2008</span></span>  
 <span data-ttu-id="b26bc-157">В SQL Server 2008 конфигурация по умолчанию для алгоритма кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] была изменена для использования внутреннего параметра NORMALIZATION = 1.</span><span class="sxs-lookup"><span data-stu-id="b26bc-157">In SQL Server 2008, the default configuration of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] clustering algorithm was changed to use the internal parameter, NORMALIZATION = 1.</span></span> <span data-ttu-id="b26bc-158">Нормализация выполняется с использованием статистики z-показателя и предполагает наличие нормального распределения.</span><span class="sxs-lookup"><span data-stu-id="b26bc-158">Normalization is performed using z-score statistics, and assumes normal distribution.</span></span> <span data-ttu-id="b26bc-159">Целью данного изменения в поведении по умолчанию является минимизация влияния атрибутов, которые могут иметь большие размеры и много выбросов.</span><span class="sxs-lookup"><span data-stu-id="b26bc-159">The intent of this change in the default behavior is to minimize the effect of attributes that might have large magnitudes and many outliers.</span></span> <span data-ttu-id="b26bc-160">Однако нормализация по z-показателю может изменить результаты кластеризации для распределений, отличных от нормальных (например, равномерных распределений).</span><span class="sxs-lookup"><span data-stu-id="b26bc-160">However, z-score normalization may alter the clustering results on distributions that are not normal (such as uniform distributions).</span></span> <span data-ttu-id="b26bc-161">Чтобы избежать нормализации и получить то же поведение, что существовало в алгоритме кластеризации методом K-средних в SQL Server 2005, можно использовать диалоговое окно **Настройки параметров** для добавления пользовательского параметра, NORMALIZATION, и задать для него значение 0.</span><span class="sxs-lookup"><span data-stu-id="b26bc-161">To prevent normalization and obtain the same behavior as the K-means clustering algorithm in SQL Server 2005, you can use the **Parameter Settings** dialog box to add the custom parameter, NORMALIZATION, and set its value to 0.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b26bc-162">Параметр NORMALIZATION представляет собой внутреннее свойство алгоритма кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] и не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b26bc-162">The NORMALIZATION parameter is an internal property of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm and is not supported.</span></span> <span data-ttu-id="b26bc-163">В целом в моделях кластеризации рекомендуется использовать нормализацию для улучшения результатов модели.</span><span class="sxs-lookup"><span data-stu-id="b26bc-163">In general, the use of normalization is recommended in clustering models to improve model results.</span></span>  
  
## <a name="customizing-the-microsoft-clustering-algorithm"></a><span data-ttu-id="b26bc-164">Настройка алгоритма кластеризации (Майкрософт)</span><span class="sxs-lookup"><span data-stu-id="b26bc-164">Customizing the Microsoft Clustering Algorithm</span></span>  
 <span data-ttu-id="b26bc-165">Алгоритм кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] поддерживает несколько параметров, влияющих на работу, производительность и точность результирующей модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b26bc-165">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm supports several parameters that affect the behavior, performance, and accuracy of the resulting mining model.</span></span>  
  
### <a name="setting-algorithm-parameters"></a><span data-ttu-id="b26bc-166">Задание параметров алгоритма</span><span class="sxs-lookup"><span data-stu-id="b26bc-166">Setting Algorithm Parameters</span></span>  
 <span data-ttu-id="b26bc-167">В следующей таблице описываются параметры, которые можно использовать с алгоритмом кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b26bc-167">The following table describes the parameters that can be used with the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm.</span></span> <span data-ttu-id="b26bc-168">Эти параметры влияют на скорость и точность результирующей модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b26bc-168">These parameters affect both the performance and accuracy of the resulting mining model.</span></span>  
  
 <span data-ttu-id="b26bc-169">CLUSTERING_METHOD</span><span class="sxs-lookup"><span data-stu-id="b26bc-169">CLUSTERING_METHOD</span></span>  
 <span data-ttu-id="b26bc-170">Указывает метод кластеризации, используемый алгоритмом.</span><span class="sxs-lookup"><span data-stu-id="b26bc-170">Specifies the clustering method for the algorithm to use.</span></span> <span data-ttu-id="b26bc-171">Доступны следующие методы кластеризации:</span><span class="sxs-lookup"><span data-stu-id="b26bc-171">The following clustering methods are available:</span></span>  
  
|<span data-ttu-id="b26bc-172">ID</span><span class="sxs-lookup"><span data-stu-id="b26bc-172">ID</span></span>|<span data-ttu-id="b26bc-173">Метод</span><span class="sxs-lookup"><span data-stu-id="b26bc-173">Method</span></span>|  
|--------|------------|  
|<span data-ttu-id="b26bc-174">1</span><span class="sxs-lookup"><span data-stu-id="b26bc-174">1</span></span>|<span data-ttu-id="b26bc-175">Масштабируемая максимизация ожидания</span><span class="sxs-lookup"><span data-stu-id="b26bc-175">Scalable EM</span></span>|  
|<span data-ttu-id="b26bc-176">2</span><span class="sxs-lookup"><span data-stu-id="b26bc-176">2</span></span>|<span data-ttu-id="b26bc-177">Немасштабируемая максимизация ожидания</span><span class="sxs-lookup"><span data-stu-id="b26bc-177">Non-scalable EM</span></span>|  
|<span data-ttu-id="b26bc-178">3</span><span class="sxs-lookup"><span data-stu-id="b26bc-178">3</span></span>|<span data-ttu-id="b26bc-179">Масштабируемые К-средние</span><span class="sxs-lookup"><span data-stu-id="b26bc-179">Scalable K-Means</span></span>|  
|<span data-ttu-id="b26bc-180">4</span><span class="sxs-lookup"><span data-stu-id="b26bc-180">4</span></span>|<span data-ttu-id="b26bc-181">Немасштабируемые К-средние</span><span class="sxs-lookup"><span data-stu-id="b26bc-181">Non-scalable K-Means.</span></span>|  
  
 <span data-ttu-id="b26bc-182">Значение по умолчанию — 1 (масштабируемая максимизация ожидания).</span><span class="sxs-lookup"><span data-stu-id="b26bc-182">The default is 1 (scalable EM).</span></span>  
  
 <span data-ttu-id="b26bc-183">CLUSTER_COUNT</span><span class="sxs-lookup"><span data-stu-id="b26bc-183">CLUSTER_COUNT</span></span>  
 <span data-ttu-id="b26bc-184">Указывает примерное количество кластеров, строящихся данным алгоритмом.</span><span class="sxs-lookup"><span data-stu-id="b26bc-184">Specifies the approximate number of clusters to be built by the algorithm.</span></span> <span data-ttu-id="b26bc-185">Если это примерное количество кластеров не может быть построено из данных, то алгоритм строит столько кластеров, сколько возможно.</span><span class="sxs-lookup"><span data-stu-id="b26bc-185">If the approximate number of clusters cannot be built from the data, the algorithm builds as many clusters as possible.</span></span> <span data-ttu-id="b26bc-186">Значение 0 параметра CLUSTER_COUNT приводит к тому, что алгоритм начинает использовать эвристический подход для наиболее эффективного определения числа строящихся кластеров.</span><span class="sxs-lookup"><span data-stu-id="b26bc-186">Setting the CLUSTER_COUNT to 0 causes the algorithm to use heuristics to best determine the number of clusters to build.</span></span>  
  
 <span data-ttu-id="b26bc-187">Значение по умолчанию равно 10.</span><span class="sxs-lookup"><span data-stu-id="b26bc-187">The default is 10.</span></span>  
  
 <span data-ttu-id="b26bc-188">CLUSTER_SEED</span><span class="sxs-lookup"><span data-stu-id="b26bc-188">CLUSTER_SEED</span></span>  
 <span data-ttu-id="b26bc-189">Указывает начальное значение, используемое для случайного формирования кластеров в начальной стадии построения модели.</span><span class="sxs-lookup"><span data-stu-id="b26bc-189">Specifies the seed number that is used to randomly generate clusters for the initial stage of model building.</span></span>  
  
 <span data-ttu-id="b26bc-190">Изменив этот параметр, можно изменить метод построения начальных кластеров, а затем сравнить модели, построенные на основании различных начальных значений.</span><span class="sxs-lookup"><span data-stu-id="b26bc-190">By changing this number, you can change the way that the initial clusters are built, and then compare models that have been built using different seeds.</span></span> <span data-ttu-id="b26bc-191">Если начальное значение изменилось, но получившиеся кластеры изменились незначительно, модель можно считать относительно устойчивой.</span><span class="sxs-lookup"><span data-stu-id="b26bc-191">If the seed is changed but the clusters that are found do not change greatly , the model can be considered relatively stable.</span></span>  
  
 <span data-ttu-id="b26bc-192">Значение по умолчанию равно 0.</span><span class="sxs-lookup"><span data-stu-id="b26bc-192">The default is 0.</span></span>  
  
 <span data-ttu-id="b26bc-193">MINIMUM_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="b26bc-193">MINIMUM_SUPPORT</span></span>  
 <span data-ttu-id="b26bc-194">Задает минимальное число вариантов, нужных для построения кластера.</span><span class="sxs-lookup"><span data-stu-id="b26bc-194">Specifies the minimum number of cases that are required to build a cluster.</span></span> <span data-ttu-id="b26bc-195">Если число вариантов в кластере меньше этого значения, кластер считается пустым и отбрасывается.</span><span class="sxs-lookup"><span data-stu-id="b26bc-195">If the number of cases in the cluster is lower than this number, the cluster is treated as empty and discarded.</span></span>  
  
 <span data-ttu-id="b26bc-196">Если задать слишком высокое значение для этого параметра, можно пропустить допустимые кластеры.</span><span class="sxs-lookup"><span data-stu-id="b26bc-196">If you set this number too high, you may miss valid clusters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b26bc-197">При использовании максимизации ожидания, что является методом кластеризации по умолчанию, мощность несущего множества некоторых кластеров может быть меньше указанной.</span><span class="sxs-lookup"><span data-stu-id="b26bc-197">If you use EM, which is the default clustering method, some clusters may have a support value that is lower than the specified value.</span></span> <span data-ttu-id="b26bc-198">Это происходит потому, что каждый вариант оценивается на принадлежность ко всем возможным кластерам, а для некоторых кластеров мощность несущего множества минимальна.</span><span class="sxs-lookup"><span data-stu-id="b26bc-198">This is because each case is evaluated for its membership in all possible clusters, and for some clusters there may be only minimal support.</span></span>  
  
 <span data-ttu-id="b26bc-199">Значение по умолчанию — 1.</span><span class="sxs-lookup"><span data-stu-id="b26bc-199">The default is 1.</span></span>  
  
 <span data-ttu-id="b26bc-200">MODELLING_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="b26bc-200">MODELLING_CARDINALITY</span></span>  
 <span data-ttu-id="b26bc-201">Указывает число образцов моделей, создаваемое в процессе кластеризации.</span><span class="sxs-lookup"><span data-stu-id="b26bc-201">Specifies the number of sample models that are constructed during the clustering process.</span></span>  
  
 <span data-ttu-id="b26bc-202">Сокращение количества потенциальных моделей может повысить производительность, повышая при этом риск пропуска хороших моделей.</span><span class="sxs-lookup"><span data-stu-id="b26bc-202">Reducing the number of candidate models can improve performance at the risk of missing some good candidate models.</span></span>  
  
 <span data-ttu-id="b26bc-203">Значение по умолчанию равно 10.</span><span class="sxs-lookup"><span data-stu-id="b26bc-203">The default is 10.</span></span>  
  
 <span data-ttu-id="b26bc-204">STOPPING_TOLERANCE</span><span class="sxs-lookup"><span data-stu-id="b26bc-204">STOPPING_TOLERANCE</span></span>  
 <span data-ttu-id="b26bc-205">Указывает значение, используемое для определения момента достижения конвергенции и завершения построения модели.</span><span class="sxs-lookup"><span data-stu-id="b26bc-205">Specifies the value that is used to determine when convergence is reached and the algorithm is finished building the model.</span></span> <span data-ttu-id="b26bc-206">Конвергенция достигается, когда общее изменение вероятностей кластеров становится меньше, чем отношение параметра STOPPING_TOLERANCE к размеру модели.</span><span class="sxs-lookup"><span data-stu-id="b26bc-206">Convergence is reached when the overall change in cluster probabilities is less than the ratio of the STOPPING_TOLERANCE parameter divided by the size of the model.</span></span>  
  
 <span data-ttu-id="b26bc-207">Значение по умолчанию равно 10.</span><span class="sxs-lookup"><span data-stu-id="b26bc-207">The default is 10.</span></span>  
  
 <span data-ttu-id="b26bc-208">SAMPLE_SIZE</span><span class="sxs-lookup"><span data-stu-id="b26bc-208">SAMPLE_SIZE</span></span>  
 <span data-ttu-id="b26bc-209">Указывает количество объектов, которые этот алгоритм использует при каждом проходе, если для параметра CLUSTERING_METHOD задан один из методов масштабируемой кластеризации.</span><span class="sxs-lookup"><span data-stu-id="b26bc-209">Specifies the number of cases that the algorithm uses on each pass if the CLUSTERING_METHOD parameter is set to one of the scalable clustering methods.</span></span> <span data-ttu-id="b26bc-210">Значение 0 параметра SAMPLE_SIZE приводит к тому, что весь набор данных кластеризуется за один проход.</span><span class="sxs-lookup"><span data-stu-id="b26bc-210">Setting the SAMPLE_SIZE parameter to 0 will cause the whole dataset to be clustered in a single pass.</span></span> <span data-ttu-id="b26bc-211">При загрузке всего набора данных за один проход могут возникать проблемы с памятью и производительностью.</span><span class="sxs-lookup"><span data-stu-id="b26bc-211">Loading the entire dataset in a single pass can cause memory and performance issues.</span></span>  
  
 <span data-ttu-id="b26bc-212">Значение по умолчанию — 50 000.</span><span class="sxs-lookup"><span data-stu-id="b26bc-212">The default is 50000.</span></span>  
  
 <span data-ttu-id="b26bc-213">MAXIMUM_INPUT_ATTRIBUTES</span><span class="sxs-lookup"><span data-stu-id="b26bc-213">MAXIMUM_INPUT_ATTRIBUTES</span></span>  
 <span data-ttu-id="b26bc-214">Указывает максимальное количество входных атрибутов, которые алгоритм может обработать перед вызовом выбора компонентов.</span><span class="sxs-lookup"><span data-stu-id="b26bc-214">Specifies the maximum number of input attributes that the algorithm can handle before it invokes feature selection.</span></span> <span data-ttu-id="b26bc-215">Значение 0 указывает, что количество атрибутов не ограничено.</span><span class="sxs-lookup"><span data-stu-id="b26bc-215">Setting this value to 0 specifies that there is no maximum number of attributes.</span></span>  
  
 <span data-ttu-id="b26bc-216">Увеличение числа атрибутов может значительно ухудшить производительность.</span><span class="sxs-lookup"><span data-stu-id="b26bc-216">Increasing the number of attributes can significantly degrade performance.</span></span>  
  
 <span data-ttu-id="b26bc-217">Значение по умолчанию — 255.</span><span class="sxs-lookup"><span data-stu-id="b26bc-217">The default is 255.</span></span>  
  
 <span data-ttu-id="b26bc-218">MAXIMUM_STATES</span><span class="sxs-lookup"><span data-stu-id="b26bc-218">MAXIMUM_STATES</span></span>  
 <span data-ttu-id="b26bc-219">Указывает максимальное количество состояний атрибутов, поддерживаемое алгоритмом.</span><span class="sxs-lookup"><span data-stu-id="b26bc-219">Specifies the maximum number of attribute states that the algorithm supports.</span></span> <span data-ttu-id="b26bc-220">Если количество состояний атрибута превышает максимально допустимое, алгоритм использует наиболее часто встречающиеся состояния, не учитывая все остальные.</span><span class="sxs-lookup"><span data-stu-id="b26bc-220">If an attribute has more states than the maximum, the algorithm uses the most popular states and ignores the remaining states.</span></span>  
  
 <span data-ttu-id="b26bc-221">Увеличение числа состояний может значительно ухудшить производительность.</span><span class="sxs-lookup"><span data-stu-id="b26bc-221">Increasing the number of states can significantly degrade performance.</span></span>  
  
 <span data-ttu-id="b26bc-222">Значение по умолчанию — 100.</span><span class="sxs-lookup"><span data-stu-id="b26bc-222">The default is 100.</span></span>  
  
### <a name="modeling-flags"></a><span data-ttu-id="b26bc-223">Флаги моделирования</span><span class="sxs-lookup"><span data-stu-id="b26bc-223">Modeling Flags</span></span>  
 <span data-ttu-id="b26bc-224">Алгоритм поддерживает следующие флаги моделирования.</span><span class="sxs-lookup"><span data-stu-id="b26bc-224">The algorithm supports the following modeling flags.</span></span> <span data-ttu-id="b26bc-225">Флаги моделирования определяются при создании структуры или модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b26bc-225">You define modeling flags when you create the mining structure or mining model.</span></span> <span data-ttu-id="b26bc-226">Флаги моделирования определяют, как происходит обработка значений в каждом столбце при анализе.</span><span class="sxs-lookup"><span data-stu-id="b26bc-226">The modeling flags specify how values in each column are handled during analysis.</span></span>  
  
|<span data-ttu-id="b26bc-227">Флаг моделирования</span><span class="sxs-lookup"><span data-stu-id="b26bc-227">Modeling Flag</span></span>|<span data-ttu-id="b26bc-228">Описание</span><span class="sxs-lookup"><span data-stu-id="b26bc-228">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="b26bc-229">MODEL_EXISTENCE_ONLY</span><span class="sxs-lookup"><span data-stu-id="b26bc-229">MODEL_EXISTENCE_ONLY</span></span>|<span data-ttu-id="b26bc-230">Столбец будет обрабатываться так, как будто у него два возможных состояния: отсутствует и присутствует.</span><span class="sxs-lookup"><span data-stu-id="b26bc-230">The column will be treated as having two possible states: Missing and Existing.</span></span> <span data-ttu-id="b26bc-231">NULL означает отсутствие значения.</span><span class="sxs-lookup"><span data-stu-id="b26bc-231">A null is a missing value.</span></span><br /><br /> <span data-ttu-id="b26bc-232">Применяется к столбцу модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b26bc-232">Applies to mining model column.</span></span>|  
|<span data-ttu-id="b26bc-233">NOT NULL</span><span class="sxs-lookup"><span data-stu-id="b26bc-233">NOT NULL</span></span>|<span data-ttu-id="b26bc-234">Этот столбец не может содержать значение NULL.</span><span class="sxs-lookup"><span data-stu-id="b26bc-234">The column cannot contain a null.</span></span> <span data-ttu-id="b26bc-235">Если во время обучения модели службы Analysis Services обнаружат значение NULL, возникнет ошибка.</span><span class="sxs-lookup"><span data-stu-id="b26bc-235">An error will result if Analysis Services encounters a null during model training.</span></span><br /><br /> <span data-ttu-id="b26bc-236">Применяется к столбцу структуры интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b26bc-236">Applies to mining structure column.</span></span>|  
  
## <a name="requirements"></a><span data-ttu-id="b26bc-237">Требования</span><span class="sxs-lookup"><span data-stu-id="b26bc-237">Requirements</span></span>  
 <span data-ttu-id="b26bc-238">Модель кластеризации должна содержать ключевой столбец и входные столбцы.</span><span class="sxs-lookup"><span data-stu-id="b26bc-238">A clustering model must contain a key column and input columns.</span></span> <span data-ttu-id="b26bc-239">Входные столбцы также можно определить как прогнозируемые.</span><span class="sxs-lookup"><span data-stu-id="b26bc-239">You can also define input columns as being predictable.</span></span> <span data-ttu-id="b26bc-240">Столбцы, для которых задано значение `Predict Only`, для построения кластеров не используются.</span><span class="sxs-lookup"><span data-stu-id="b26bc-240">Columns set to `Predict Only` are not used to build clusters.</span></span> <span data-ttu-id="b26bc-241">Их распределения в кластерах вычисляются после построения кластеров.</span><span class="sxs-lookup"><span data-stu-id="b26bc-241">The distribution of these values in the clusters are calculated after the clusters are built.</span></span>  
  
### <a name="input-and-predictable-columns"></a><span data-ttu-id="b26bc-242">Входные и прогнозируемые столбцы</span><span class="sxs-lookup"><span data-stu-id="b26bc-242">Input and Predictable Columns</span></span>  
 <span data-ttu-id="b26bc-243">Алгоритм кластеризации [!INCLUDE[msCoName](../../includes/msconame-md.md)] поддерживает определенные входные столбцы данных и прогнозируемые столбцы, которые перечислены ниже в таблице.</span><span class="sxs-lookup"><span data-stu-id="b26bc-243">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm supports the specific input columns and predictable columns that are listed in the following table.</span></span> <span data-ttu-id="b26bc-244">Дополнительные сведения о значении типов содержимого в применении к модели интеллектуального анализа данных см. в разделе [Типы содержимого (интеллектуальный анализ данных)](content-types-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="b26bc-244">For more information about what the content types mean when used in a mining model, see [Content Types &#40;Data Mining&#41;](content-types-data-mining.md).</span></span>  
  
|<span data-ttu-id="b26bc-245">Столбец</span><span class="sxs-lookup"><span data-stu-id="b26bc-245">Column</span></span>|<span data-ttu-id="b26bc-246">Типы содержимого</span><span class="sxs-lookup"><span data-stu-id="b26bc-246">Content types</span></span>|  
|------------|-------------------|  
|<span data-ttu-id="b26bc-247">Входной атрибут</span><span class="sxs-lookup"><span data-stu-id="b26bc-247">Input attribute</span></span>|<span data-ttu-id="b26bc-248">Непрерывные, циклические, дискретные, дискретизированные, ключевые, табличные и упорядоченные</span><span class="sxs-lookup"><span data-stu-id="b26bc-248">Continuous, Cyclical, Discrete, Discretized, Key, Table, Ordered</span></span>|  
|<span data-ttu-id="b26bc-249">Прогнозируемый атрибут</span><span class="sxs-lookup"><span data-stu-id="b26bc-249">Predictable attribute</span></span>|<span data-ttu-id="b26bc-250">Continuous, Cyclical, Discrete, Discretized, Table, Ordered</span><span class="sxs-lookup"><span data-stu-id="b26bc-250">Continuous, Cyclical, Discrete, Discretized, Table, Ordered</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="b26bc-251">Типы содержимого Cyclical и Ordered поддерживаются, но алгоритм обрабатывает их как дискретные величины и не производит их особой обработки.</span><span class="sxs-lookup"><span data-stu-id="b26bc-251">Cyclical and Ordered content types are supported, but the algorithm treats them as discrete values and does not perform special processing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b26bc-252">См. также:</span><span class="sxs-lookup"><span data-stu-id="b26bc-252">See Also</span></span>  
 <span data-ttu-id="b26bc-253">[Алгоритм кластеризации (Майкрософт)](microsoft-clustering-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="b26bc-253">[Microsoft Clustering Algorithm](microsoft-clustering-algorithm.md) </span></span>  
 <span data-ttu-id="b26bc-254">[Примеры запросов к модели кластеризации](clustering-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="b26bc-254">[Clustering Model Query Examples](clustering-model-query-examples.md) </span></span>  
 [<span data-ttu-id="b26bc-255">Содержимое моделей интеллектуального анализа данных для моделей кластеризации (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="b26bc-255">Mining Model Content for Clustering Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-clustering-models-analysis-services-data-mining.md)  
  
  

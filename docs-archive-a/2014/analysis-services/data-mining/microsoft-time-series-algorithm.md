---
title: Алгоритм временных рядов (Майкрософт) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ARTXP
- time series algorithms [Analysis Services]
- ARIMA
- time series [Analysis Services]
- algorithms [data mining]
- cross predictions
- series [Analysis Services]
- regression algorithms [Analysis Services]
ms.assetid: 642297cc-f32a-499b-b26e-fdc7ee24361e
author: minewiskan
ms.author: owend
ms.openlocfilehash: d840d581fe4dba1ce9d65dfef6878a1e5a697864
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657986"
---
# <a name="microsoft-time-series-algorithm"></a><span data-ttu-id="7838a-102">Алгоритм временных рядов (Майкрософт)</span><span class="sxs-lookup"><span data-stu-id="7838a-102">Microsoft Time Series Algorithm</span></span>
  <span data-ttu-id="7838a-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)]Алгоритм временных рядов () предоставляет алгоритмы регрессии, оптимизированные для прогнозирования непрерывных значений, таких как продажи продуктов, с течением времени.</span><span class="sxs-lookup"><span data-stu-id="7838a-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm provides regression algorithms that are optimized for the forecasting of continuous values, such as product sales, over time.</span></span> <span data-ttu-id="7838a-104">В отличие от других алгоритмов [!INCLUDE[msCoName](../../includes/msconame-md.md)] , таких как деревья принятия решений, модель временных рядов не требует дополнительных столбцов новых сведений, чтобы прогнозировать тренд.</span><span class="sxs-lookup"><span data-stu-id="7838a-104">Whereas other [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, such as decision trees, require additional columns of new information as input to predict a trend, a time series model does not.</span></span> <span data-ttu-id="7838a-105">С помощью модели временных рядов можно прогнозировать тенденции на основе только исходного набора данных, использованного для создания модели.</span><span class="sxs-lookup"><span data-stu-id="7838a-105">A time series model can predict trends based only on the original dataset that is used to create the model.</span></span> <span data-ttu-id="7838a-106">При прогнозировании можно вводить в модель новые данные и автоматически задействовать их при анализе тенденций.</span><span class="sxs-lookup"><span data-stu-id="7838a-106">You can also add new data to the model when you make a prediction and automatically incorporate the new data in the trend analysis.</span></span>  
  
 <span data-ttu-id="7838a-107">На примере следующей диаграммы показана типичная модель прогнозирования продаж продукта в четырех различных регионах в течение определенного времени.</span><span class="sxs-lookup"><span data-stu-id="7838a-107">The following diagram shows a typical model for forecasting sales of a product in four different sales regions over time.</span></span> <span data-ttu-id="7838a-108">Модель на диаграмме отображает продажи в каждом регионе, показанные красной, желтой, сиреневой и синей линиями.</span><span class="sxs-lookup"><span data-stu-id="7838a-108">The model that is shown in the diagram shows sales for each region plotted as red, yellow, purple, and blue lines.</span></span> <span data-ttu-id="7838a-109">Линия для каждого региона состоит из двух частей.</span><span class="sxs-lookup"><span data-stu-id="7838a-109">The line for each region has two parts:</span></span>  
  
-   <span data-ttu-id="7838a-110">Данные предыстории отображаются слева от вертикальной линии и представляют данные, используемые алгоритмом для создания модели.</span><span class="sxs-lookup"><span data-stu-id="7838a-110">Historical information appears to the left of the vertical line and represents the data that the algorithm uses to create the model.</span></span>  
  
-   <span data-ttu-id="7838a-111">Прогнозируемые данные отображаются справа от вертикальной линии и представляют прогноз, подготовленный моделью.</span><span class="sxs-lookup"><span data-stu-id="7838a-111">Predicted information appears to the right of the vertical line and represents the forecast that the model makes.</span></span>  
  
 <span data-ttu-id="7838a-112">Сочетание исходных данных и прогнозируемых данных называется *рядом*.</span><span class="sxs-lookup"><span data-stu-id="7838a-112">The combination of the source data and the prediction data is called a *series*.</span></span>  
  
 <span data-ttu-id="7838a-113">![Пример временного ряда](../media/time-series.gif "Пример временного ряда")</span><span class="sxs-lookup"><span data-stu-id="7838a-113">![An example of a time series](../media/time-series.gif "An example of a time series")</span></span>  
  
 <span data-ttu-id="7838a-114">Важной характеристикой алгоритма временных рядов ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) является его способность выполнять перекрестный прогноз.</span><span class="sxs-lookup"><span data-stu-id="7838a-114">An important feature of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm is that it can perform cross prediction.</span></span> <span data-ttu-id="7838a-115">При обучении алгоритма двумя отдельными, но связанными друг с другом рядами можно использовать итоговую модель для прогнозирования исхода одного ряда на основе поведения другого ряда.</span><span class="sxs-lookup"><span data-stu-id="7838a-115">If you train the algorithm with two separate, but related, series, you can use the resulting model to predict the outcome of one series based on the behavior of the other series.</span></span> <span data-ttu-id="7838a-116">Например, наблюдаемые продажи одного продукта могут оказать влияние на прогнозируемые продажи другого продукта.</span><span class="sxs-lookup"><span data-stu-id="7838a-116">For example, the observed sales of one product can influence the forecasted sales of another product.</span></span> <span data-ttu-id="7838a-117">Перекрестные прогнозы также полезны при создании общей модели, которую можно применить к нескольким рядам.</span><span class="sxs-lookup"><span data-stu-id="7838a-117">Cross prediction is also useful for creating a general model that can be applied to multiple series.</span></span> <span data-ttu-id="7838a-118">Например, прогнозы для определенного региона нестабильны, так как в ряду недостаточно данных хорошего качества.</span><span class="sxs-lookup"><span data-stu-id="7838a-118">For example, the predictions for a particular region are unstable because the series lacks good quality data.</span></span> <span data-ttu-id="7838a-119">Общую модель можно обучить на среднем значении всех четырех регионов, а затем применить модель к отдельным рядам, чтобы подготовить более стабильные прогнозы для каждого региона.</span><span class="sxs-lookup"><span data-stu-id="7838a-119">You could train a general model on an average of all four regions, and then apply the model to the individual series to create more stable predictions for each region.</span></span>  
  
## <a name="example"></a><span data-ttu-id="7838a-120">Пример</span><span class="sxs-lookup"><span data-stu-id="7838a-120">Example</span></span>  
 <span data-ttu-id="7838a-121">Руководству компании [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] необходим прогноз ежемесячных продаж велосипедов на следующий год.</span><span class="sxs-lookup"><span data-stu-id="7838a-121">The management team at [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] wants to predict monthly bicycle sales for the coming year.</span></span> <span data-ttu-id="7838a-122">Компанию особенно интересует, можно ли использовать продажи одной модели велосипедов для прогнозирования продаж другой модели.</span><span class="sxs-lookup"><span data-stu-id="7838a-122">The company is especially interested in whether the sale of one bike model can be used to predict the sale of another model.</span></span> <span data-ttu-id="7838a-123">Применив алгоритм временных рядов ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) в отношении данных, накопленных за последние три года, компания может получить модель интеллектуального анализа данных, прогнозирующую продажи велосипедов в будущем.</span><span class="sxs-lookup"><span data-stu-id="7838a-123">By using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm on historical data from the past three years, the company can produce a data mining model that forecasts future bike sales.</span></span> <span data-ttu-id="7838a-124">Кроме того, чтобы выявить связь между тенденциями продаж отдельных моделей велосипедов, компания может выполнять перекрестные прогнозы.</span><span class="sxs-lookup"><span data-stu-id="7838a-124">Additionally, the company can perform cross predictions to see whether the sales trends of individual bike models are related.</span></span>  
  
 <span data-ttu-id="7838a-125">Каждый квартал компания планирует дополнять модель свежими данными о продажах и обновлять прогнозы, чтобы моделировать последние тенденции.</span><span class="sxs-lookup"><span data-stu-id="7838a-125">Each quarter, the company plans to update the model with recent sales data and update their predictions to model recent trends.</span></span> <span data-ttu-id="7838a-126">Чтобы внести поправки для магазинов, которые неаккуратно или нерегулярно обновляют данные о продажах, будет создана общая модель прогнозирования для всех регионов.</span><span class="sxs-lookup"><span data-stu-id="7838a-126">To correct for stores that do not accurately or consistently update sales data, they will create a general prediction model, and use that to create predictions for all regions.</span></span>  
  
## <a name="how-the-algorithm-works"></a><span data-ttu-id="7838a-127">Принцип работы алгоритма</span><span class="sxs-lookup"><span data-stu-id="7838a-127">How the Algorithm Works</span></span>  
 <span data-ttu-id="7838a-128">В [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[msCoName](../../includes/msconame-md.md)] алгоритм временных рядов использовал один алгоритм ARTXP.</span><span class="sxs-lookup"><span data-stu-id="7838a-128">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm used a single algorithm, ARTXP.</span></span> <span data-ttu-id="7838a-129">Алгоритм ARTXP был оптимизирован для краткосрочных прогнозов и, следовательно, прогнозирует следующее вероятное значение в ряде.</span><span class="sxs-lookup"><span data-stu-id="7838a-129">The ARTXP algorithm was optimized for short-term predictions, and therefore, predicted the next likely value in a series.</span></span> <span data-ttu-id="7838a-130">Начиная с [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] , [!INCLUDE[msCoName](../../includes/msconame-md.md)] алгоритм временных рядов () использует как алгоритм ARTXP, так и второй алгоритм, ARIMA.</span><span class="sxs-lookup"><span data-stu-id="7838a-130">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm uses both the ARTXP algorithm and a second algorithm, ARIMA.</span></span> <span data-ttu-id="7838a-131">Алгоритм ARIMA оптимизирован для долгосрочного прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="7838a-131">The ARIMA algorithm is optimized for long-term prediction.</span></span> <span data-ttu-id="7838a-132">Подробное описание реализации алгоритмов ARTXP и ARIMA см. в разделе [Технический справочник по алгоритму временных рядов (Майкрософт)](microsoft-time-series-algorithm-technical-reference.md).</span><span class="sxs-lookup"><span data-stu-id="7838a-132">For a detailed explanation about the implementation of the ARTXP and ARIMA algorithms, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
 <span data-ttu-id="7838a-133">По умолчанию в алгоритме временных рядов ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) используется комбинация алгоритмов для анализа закономерностей и подготовки прогнозов.</span><span class="sxs-lookup"><span data-stu-id="7838a-133">By default, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm uses a mix of the algorithms when it analyzes patterns and making predictions.</span></span> <span data-ttu-id="7838a-134">Алгоритм обучает две отдельные модели для одних и тех же данных: одна модель использует алгоритм ARTXP, а одна модель использует алгоритм ARIMA.</span><span class="sxs-lookup"><span data-stu-id="7838a-134">The algorithm trains two separate models on the same data: one model uses the ARTXP algorithm and one model uses the ARIMA algorithm.</span></span> <span data-ttu-id="7838a-135">Затем алгоритм объединяет результаты обеих моделей, чтобы сформировать наилучший прогноз для переменного числа временных срезов.</span><span class="sxs-lookup"><span data-stu-id="7838a-135">The algorithm then blends the results of the two models to yield the best prediction over a variable number of time slices.</span></span> <span data-ttu-id="7838a-136">Алгоритм ARTXP лучше подходит для краткосрочных прогнозов, поэтому, начиная ряд прогнозов, на него следует полагаться в большей степени.</span><span class="sxs-lookup"><span data-stu-id="7838a-136">Because ARTXP is best for short-term predictions, it is weighted more heavily at the beginning of a series of predictions.</span></span> <span data-ttu-id="7838a-137">Но по мере того как временные срезы, применяемые для прогнозирования, уходят все дальше в будущее, становится все более полезным алгоритм ARIMA.</span><span class="sxs-lookup"><span data-stu-id="7838a-137">However, as the time slices that you are predicting move further into the future, ARIMA is weighted more heavily.</span></span>  
  
 <span data-ttu-id="7838a-138">Можно управлять сочетанием алгоритмов, перенося акцент во временных рядах на краткосрочный или долгосрочный прогноз.</span><span class="sxs-lookup"><span data-stu-id="7838a-138">You can also control the mix of algorithms to favor either short- or long-term prediction in the times series.</span></span> <span data-ttu-id="7838a-139">Начиная с [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] Standard, можно указать, что [!INCLUDE[msCoName](../../includes/msconame-md.md)] алгоритм временных рядов может использовать один из следующих параметров:</span><span class="sxs-lookup"><span data-stu-id="7838a-139">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] Standard, you can specify that the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm use one of the following settings:</span></span>  
  
-   <span data-ttu-id="7838a-140">Использование только алгоритма ARTXP для краткосрочного прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="7838a-140">Use only ARTXP for short-term prediction.</span></span>  
  
-   <span data-ttu-id="7838a-141">Использование только алгоритма ARIMA для долгосрочного прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="7838a-141">Use only ARIMA for long-term prediction.</span></span>  
  
-   <span data-ttu-id="7838a-142">Использование сочетания двух алгоритмов (по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="7838a-142">Use the default blending of the two algorithms.</span></span>  
  
 <span data-ttu-id="7838a-143">Начиная с [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] , можно настроить, как [!INCLUDE[msCoName](../../includes/msconame-md.md)] алгоритм временных рядов смешивает модели для прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="7838a-143">Beginning in [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)], you can customize how the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm blends the models for prediction.</span></span> <span data-ttu-id="7838a-144">При использовании смешанной модели алгоритм временных рядов ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) объединяет два алгоритма следующим образом.</span><span class="sxs-lookup"><span data-stu-id="7838a-144">When you use a mixed model, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm blends the two algorithms in the following way:</span></span>  
  
-   <span data-ttu-id="7838a-145">Для формирования двух первых прогнозов всегда используется только алгоритм ARTXP.</span><span class="sxs-lookup"><span data-stu-id="7838a-145">Only ARTXP is always used for making the first couple of predictions.</span></span>  
  
-   <span data-ttu-id="7838a-146">После первых двух прогнозов используется сочетание алгоритмов ARIMA и ARTXP.</span><span class="sxs-lookup"><span data-stu-id="7838a-146">After the first couple of predictions, a combination of ARIMA and ARTXP is used.</span></span>  
  
-   <span data-ttu-id="7838a-147">С последующими шагами прогнозирования доля алгоритма ARIMA в прогнозах возрастает до полного отказа от использования ARTXP.</span><span class="sxs-lookup"><span data-stu-id="7838a-147">As the number of prediction steps increases, predictions rely more heavily on ARIMA until ARTXP is no longer used.</span></span>  
  
-   <span data-ttu-id="7838a-148">Управлять моментом сочетания алгоритмов, скоростью снижения доли алгоритма ARTXP и повышения доли алгоритма ARIMA можно, изменяя параметр PREDICTION_SMOOTHING.</span><span class="sxs-lookup"><span data-stu-id="7838a-148">You control the mixing point, the rate at which the weight of ARTXP is decreased, and the weight of ARIMA is increased by setting the PREDICTION_SMOOTHING parameter.</span></span>  
  
 <span data-ttu-id="7838a-149">Оба алгоритма могут обнаруживать влияние сезонных факторов на данные на нескольких уровнях.</span><span class="sxs-lookup"><span data-stu-id="7838a-149">Both algorithms can detect seasonality in data at multiple levels.</span></span> <span data-ttu-id="7838a-150">Например, внутри годовых циклов могут существовать месячные циклы изменения данных.</span><span class="sxs-lookup"><span data-stu-id="7838a-150">For example, your data might contain monthly cycles nested within yearly cycles.</span></span> <span data-ttu-id="7838a-151">Чтобы определить сезонные циклы, можно ввести сведения о периодичности или указать режим автоматического обнаружения периодичности.</span><span class="sxs-lookup"><span data-stu-id="7838a-151">To detect these seasonal cycles, you can either provide a periodicity hint or specify that the algorithm should automatically detect periodicity.</span></span>  
  
 <span data-ttu-id="7838a-152">В дополнение к периодичности существует несколько других параметров, которые управляют поведением алгоритма временных рядов ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) в процессе обнаружения периодичности, подготовки прогнозов или анализа вариантов.</span><span class="sxs-lookup"><span data-stu-id="7838a-152">In addition to periodicity, there are several other parameters that control the behavior of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm when it detects periodicity, makes predictions, or analyzes cases.</span></span> <span data-ttu-id="7838a-153">Дополнительные сведения о параметрах этого алгоритма см. в разделе [Технический справочник по алгоритму временных рядов (Майкрософт)](microsoft-time-series-algorithm-technical-reference.md).</span><span class="sxs-lookup"><span data-stu-id="7838a-153">For information about how to set algorithm parameters, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
## <a name="data-required-for-time-series-models"></a><span data-ttu-id="7838a-154">Данные, необходимые для моделей временных рядов</span><span class="sxs-lookup"><span data-stu-id="7838a-154">Data Required for Time Series Models</span></span>  
 <span data-ttu-id="7838a-155">При подготовке данных для использования в обучении любой модели интеллектуального анализа данных необходимо понимать требования конкретной модели и способы использования данных.</span><span class="sxs-lookup"><span data-stu-id="7838a-155">When you prepare data for use in training any data mining model, make sure that you understand the requirements for the particular model and how the data is used.</span></span>  
  
 <span data-ttu-id="7838a-156">В каждой модели прогнозирования должен содержаться набор вариантов, то есть столбец, указывающий срезы времени, или другой ряд, по которому происходят изменения.</span><span class="sxs-lookup"><span data-stu-id="7838a-156">Each forecasting model must contain a case series, which is the column that specifies the time slices or other series over which change occurs.</span></span> <span data-ttu-id="7838a-157">Например, данные в предыдущей диаграмме показывают ряд для накопленных и прогнозируемых продаж велосипедов за несколько месяцев.</span><span class="sxs-lookup"><span data-stu-id="7838a-157">For example, the data in the previous diagram shows the series for historical and forecasted bicycle sales over a period of several months.</span></span> <span data-ttu-id="7838a-158">Для этой модели каждый регион представляет собой ряд, а столбец данных содержит временной ряд, который также является набором вариантов.</span><span class="sxs-lookup"><span data-stu-id="7838a-158">For this model, each region is a series, and the date column contains the time series, which is also the case series.</span></span> <span data-ttu-id="7838a-159">В других моделях набор вариантов может быть текстовым полем или каким-нибудь идентификатором, таким как код потребителя или код транзакции.</span><span class="sxs-lookup"><span data-stu-id="7838a-159">In other models, the case series can be a text field or some identifier such as a customer ID or transaction ID.</span></span> <span data-ttu-id="7838a-160">Однако модель временных рядов должна всегда использовать дату, время или другое уникальное числовое значение, такое как набор вариантов.</span><span class="sxs-lookup"><span data-stu-id="7838a-160">However, a time series model must always use a date, time, or some other unique numeric value for its case series.</span></span>  
  
 <span data-ttu-id="7838a-161">Требования к модели временных рядов.</span><span class="sxs-lookup"><span data-stu-id="7838a-161">The requirements for a time series model are as follows:</span></span>  
  
-   <span data-ttu-id="7838a-162">**Отдельный ключевой столбец времени** . Каждая модель должна содержать один столбец числового типа или типа date, который применяется в качестве набора вариантов, определяющего временные срезы, используемые моделью.</span><span class="sxs-lookup"><span data-stu-id="7838a-162">**A single key time column** Each model must contain one numeric or date column that is used as the case series, which defines the time slices that the model will use.</span></span> <span data-ttu-id="7838a-163">Типом данных столбца «key time» может быть datetime или любой числовой.</span><span class="sxs-lookup"><span data-stu-id="7838a-163">The data type for the key time column can be either a datetime data type or a numeric data type.</span></span> <span data-ttu-id="7838a-164">Однако этот столбец должен содержать непрерывные значения, которые должны быть уникальными для каждого ряда.</span><span class="sxs-lookup"><span data-stu-id="7838a-164">However, the column must contain continuous values, and the values must be unique for each series.</span></span> <span data-ttu-id="7838a-165">Набор вариантов для модели временных рядов не может храниться в двух столбцах, таких как столбец «Год» или столбец «Месяц».</span><span class="sxs-lookup"><span data-stu-id="7838a-165">The case series for a time series model cannot be stored in two columns, such as a Year column and a Month column.</span></span>  
  
-   <span data-ttu-id="7838a-166">**Прогнозируемый столбец** . Каждая модель должна содержать по крайней мере один прогнозируемый столбец, на основании которого алгоритм будет строить модель временных рядов.</span><span class="sxs-lookup"><span data-stu-id="7838a-166">**A predictable column** Each model must contain at least one predictable column around which the algorithm will build the time series model.</span></span> <span data-ttu-id="7838a-167">Прогнозируемый столбец должен иметь тип данных с непрерывными значениями.</span><span class="sxs-lookup"><span data-stu-id="7838a-167">The data type of the predictable column must have continuous values.</span></span> <span data-ttu-id="7838a-168">Например, можно прогнозировать, как изменяются со временем числовые атрибуты, такие как доход, объем продаж или температура.</span><span class="sxs-lookup"><span data-stu-id="7838a-168">For example, you can predict how numeric attributes, such as income, sales, or temperature, change over time.</span></span> <span data-ttu-id="7838a-169">Однако нельзя использовать в качестве прогнозируемого столбец, содержащий дискретные значения, такие как потребительский статус или уровень образования.</span><span class="sxs-lookup"><span data-stu-id="7838a-169">However, you cannot use a column that contains discrete values, such as purchasing status or level of education, as the predictable column.</span></span>  
  
-   <span data-ttu-id="7838a-170">**Необязательный ключевой столбец ряда** . Каждая модель имеет дополнительный ключевой столбец, содержащий уникальные значения, идентифицирующие ряд.</span><span class="sxs-lookup"><span data-stu-id="7838a-170">**An optional series key column** Each model can have an additional key column that contains unique values that identify a series.</span></span> <span data-ttu-id="7838a-171">Этот необязательный ключевой столбец ряда должен содержать уникальные значения.</span><span class="sxs-lookup"><span data-stu-id="7838a-171">The optional series key column must contain unique values.</span></span> <span data-ttu-id="7838a-172">Например, одна модель может содержать данные о продажах многих моделей продуктов, если существует только одна запись для каждого названия продукта в каждом временном срезе.</span><span class="sxs-lookup"><span data-stu-id="7838a-172">For example, a single model can contain sales for many product models, as long as there is only one record for each product name for every time slice.</span></span>  
  
 <span data-ttu-id="7838a-173">Входные данные для модели временных рядов ( [!INCLUDE[msCoName](../../includes/msconame-md.md)] ) можно задавать несколькими различными способами.</span><span class="sxs-lookup"><span data-stu-id="7838a-173">You can define input data for the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series model in several different ways.</span></span> <span data-ttu-id="7838a-174">Однако поскольку формат входных вариантов влияет на определение модели интеллектуального анализа данных, необходимо учитывать производственные требования и соответствующим образом подготовить данные.</span><span class="sxs-lookup"><span data-stu-id="7838a-174">However, because the format of the input cases affects the definition of the mining model, you must consider your business needs and prepare your data accordingly.</span></span> <span data-ttu-id="7838a-175">В следующих двух примерах иллюстрируется влияние входных данных на модель.</span><span class="sxs-lookup"><span data-stu-id="7838a-175">The following two examples illustrate how the input data affects the model.</span></span> <span data-ttu-id="7838a-176">В обоих примерах завершенная модель интеллектуального анализа данных содержит закономерности для четырех различных рядов.</span><span class="sxs-lookup"><span data-stu-id="7838a-176">In both examples, the completed mining model contains patterns for four distinct series:</span></span>  
  
-   <span data-ttu-id="7838a-177">Продажи продукта А.</span><span class="sxs-lookup"><span data-stu-id="7838a-177">Sales for Product A</span></span>  
  
-   <span data-ttu-id="7838a-178">Продажи продукта Б.</span><span class="sxs-lookup"><span data-stu-id="7838a-178">Sales for Product B</span></span>  
  
-   <span data-ttu-id="7838a-179">Количество продукта А.</span><span class="sxs-lookup"><span data-stu-id="7838a-179">Volume for Product A</span></span>  
  
-   <span data-ttu-id="7838a-180">Количество продукта Б.</span><span class="sxs-lookup"><span data-stu-id="7838a-180">Volume for Product B</span></span>  
  
 <span data-ttu-id="7838a-181">В обоих примерах можно прогнозировать новые будущие продажи и поставки каждого продукта.</span><span class="sxs-lookup"><span data-stu-id="7838a-181">In both examples, you can predict new future sales and volume for each product.</span></span> <span data-ttu-id="7838a-182">Нельзя прогнозировать новые значения для продукта или времени.</span><span class="sxs-lookup"><span data-stu-id="7838a-182">You cannot predict new values for product or for time.</span></span>  
  
### <a name="example-1-time-series-data-set-with-series-represented-as-column-values"></a><span data-ttu-id="7838a-183">Пример 1. Набор данных временного ряда со значениями ряда, представленными в виде значений столбцов</span><span class="sxs-lookup"><span data-stu-id="7838a-183">Example 1: Time Series Data Set with Series Represented as Column Values</span></span>  
 <span data-ttu-id="7838a-184">В этом примере используется следующая таблица входных вариантов.</span><span class="sxs-lookup"><span data-stu-id="7838a-184">This example uses the following table of input cases:</span></span>  
  
|<span data-ttu-id="7838a-185">TimeID</span><span class="sxs-lookup"><span data-stu-id="7838a-185">TimeID</span></span>|<span data-ttu-id="7838a-186">Продукт</span><span class="sxs-lookup"><span data-stu-id="7838a-186">Product</span></span>|<span data-ttu-id="7838a-187">Sales</span><span class="sxs-lookup"><span data-stu-id="7838a-187">Sales</span></span>|<span data-ttu-id="7838a-188">Громкость</span><span class="sxs-lookup"><span data-stu-id="7838a-188">Volume</span></span>|  
|------------|-------------|-----------|------------|  
|<span data-ttu-id="7838a-189">1/2001</span><span class="sxs-lookup"><span data-stu-id="7838a-189">1/2001</span></span>|<span data-ttu-id="7838a-190">A</span><span class="sxs-lookup"><span data-stu-id="7838a-190">A</span></span>|<span data-ttu-id="7838a-191">1000</span><span class="sxs-lookup"><span data-stu-id="7838a-191">1000</span></span>|<span data-ttu-id="7838a-192">600</span><span class="sxs-lookup"><span data-stu-id="7838a-192">600</span></span>|  
|<span data-ttu-id="7838a-193">2/2001</span><span class="sxs-lookup"><span data-stu-id="7838a-193">2/2001</span></span>|<span data-ttu-id="7838a-194">A</span><span class="sxs-lookup"><span data-stu-id="7838a-194">A</span></span>|<span data-ttu-id="7838a-195">1100</span><span class="sxs-lookup"><span data-stu-id="7838a-195">1100</span></span>|<span data-ttu-id="7838a-196">500</span><span class="sxs-lookup"><span data-stu-id="7838a-196">500</span></span>|  
|<span data-ttu-id="7838a-197">1/2001</span><span class="sxs-lookup"><span data-stu-id="7838a-197">1/2001</span></span>|<span data-ttu-id="7838a-198">B</span><span class="sxs-lookup"><span data-stu-id="7838a-198">B</span></span>|<span data-ttu-id="7838a-199">500</span><span class="sxs-lookup"><span data-stu-id="7838a-199">500</span></span>|<span data-ttu-id="7838a-200">900</span><span class="sxs-lookup"><span data-stu-id="7838a-200">900</span></span>|  
|<span data-ttu-id="7838a-201">2/2001</span><span class="sxs-lookup"><span data-stu-id="7838a-201">2/2001</span></span>|<span data-ttu-id="7838a-202">B</span><span class="sxs-lookup"><span data-stu-id="7838a-202">B</span></span>|<span data-ttu-id="7838a-203">300</span><span class="sxs-lookup"><span data-stu-id="7838a-203">300</span></span>|<span data-ttu-id="7838a-204">890</span><span class="sxs-lookup"><span data-stu-id="7838a-204">890</span></span>|  
  
 <span data-ttu-id="7838a-205">В столбце TimeID таблицы содержится идентификатор времени и по две записи на каждый день.</span><span class="sxs-lookup"><span data-stu-id="7838a-205">The TimeID column in the table contains a time identifier, and has two entries for each day.</span></span> <span data-ttu-id="7838a-206">Столбец TimeID становится набором вариантов.</span><span class="sxs-lookup"><span data-stu-id="7838a-206">The TimeID column becomes the case series.</span></span> <span data-ttu-id="7838a-207">Поэтому этот столбец назначается ключевым столбцом времени для модели временных рядов.</span><span class="sxs-lookup"><span data-stu-id="7838a-207">Therefore, you would designate this column as the key time column for the time series model.</span></span>  
  
 <span data-ttu-id="7838a-208">В столбце Product определяется продукт в базе данных.</span><span class="sxs-lookup"><span data-stu-id="7838a-208">The Product column defines a product in the database.</span></span> <span data-ttu-id="7838a-209">Этот столбец содержит ряд продуктов.</span><span class="sxs-lookup"><span data-stu-id="7838a-209">This column contains the product series.</span></span> <span data-ttu-id="7838a-210">Поэтому этот столбец назначается вторым ключевым столбцом для модели временных рядов.</span><span class="sxs-lookup"><span data-stu-id="7838a-210">Therefore, you would designate this column as a second key for the time series model.</span></span>  
  
 <span data-ttu-id="7838a-211">В столбце Sales описывается валовая прибыль от конкретного продукта за один день, а в столбце Volume описывается количество конкретного продукта, остающегося на складе.</span><span class="sxs-lookup"><span data-stu-id="7838a-211">The Sales column describes the gross profits of the specified product for one day, and the Volume column describes the quantity of the specified product that remains in the warehouse.</span></span> <span data-ttu-id="7838a-212">Эти два столбца содержат данные, которые будут использованы для обучения модели.</span><span class="sxs-lookup"><span data-stu-id="7838a-212">These two columns contain the data that is used to train the model.</span></span> <span data-ttu-id="7838a-213">Как атрибут Sales, так и атрибут Volume могут быть прогнозируемыми для каждого ряда в столбце Product.</span><span class="sxs-lookup"><span data-stu-id="7838a-213">Both Sales and Volume  can be predictable attributes for each series in the Product column.</span></span>  
  
### <a name="example-2-time-series-data-set-with-each-series-in-separate-column"></a><span data-ttu-id="7838a-214">Пример 2. Набор данных временного ряда со значениями каждого ряда в отдельном столбце</span><span class="sxs-lookup"><span data-stu-id="7838a-214">Example 2: Time Series Data Set with Each Series in Separate Column</span></span>  
 <span data-ttu-id="7838a-215">Входные данные в этом примере в основном те же, что и в первом примере, но структура входных данных иная, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="7838a-215">Although this example uses basically the same input data as the first example, the input data is structured differently, as shown in the following table:</span></span>  
  
|<span data-ttu-id="7838a-216">TimeID</span><span class="sxs-lookup"><span data-stu-id="7838a-216">TimeID</span></span>|<span data-ttu-id="7838a-217">A_Sales</span><span class="sxs-lookup"><span data-stu-id="7838a-217">A_Sales</span></span>|<span data-ttu-id="7838a-218">A_Volume</span><span class="sxs-lookup"><span data-stu-id="7838a-218">A_Volume</span></span>|<span data-ttu-id="7838a-219">B_Sales</span><span class="sxs-lookup"><span data-stu-id="7838a-219">B_Sales</span></span>|<span data-ttu-id="7838a-220">B_Volume</span><span class="sxs-lookup"><span data-stu-id="7838a-220">B_Volume</span></span>|  
|------------|--------------|---------------|--------------|---------------|  
|<span data-ttu-id="7838a-221">1/2001</span><span class="sxs-lookup"><span data-stu-id="7838a-221">1/2001</span></span>|<span data-ttu-id="7838a-222">1000</span><span class="sxs-lookup"><span data-stu-id="7838a-222">1000</span></span>|<span data-ttu-id="7838a-223">600</span><span class="sxs-lookup"><span data-stu-id="7838a-223">600</span></span>|<span data-ttu-id="7838a-224">500</span><span class="sxs-lookup"><span data-stu-id="7838a-224">500</span></span>|<span data-ttu-id="7838a-225">900</span><span class="sxs-lookup"><span data-stu-id="7838a-225">900</span></span>|  
|<span data-ttu-id="7838a-226">2/2001</span><span class="sxs-lookup"><span data-stu-id="7838a-226">2/2001</span></span>|<span data-ttu-id="7838a-227">1100</span><span class="sxs-lookup"><span data-stu-id="7838a-227">1100</span></span>|<span data-ttu-id="7838a-228">500</span><span class="sxs-lookup"><span data-stu-id="7838a-228">500</span></span>|<span data-ttu-id="7838a-229">300</span><span class="sxs-lookup"><span data-stu-id="7838a-229">300</span></span>|<span data-ttu-id="7838a-230">890</span><span class="sxs-lookup"><span data-stu-id="7838a-230">890</span></span>|  
  
 <span data-ttu-id="7838a-231">В этой таблице столбец TimeID по-прежнему содержит набор вариантов для модели временных рядов и назначается ключевым столбцом времени.</span><span class="sxs-lookup"><span data-stu-id="7838a-231">In this table, the TimeID column still contains the case series for the time series model, which you designate as the key time column.</span></span> <span data-ttu-id="7838a-232">Однако каждый из предыдущих столбцов Sales и Volume делится на два столбца, и перед каждым из них указывается наименование продукта.</span><span class="sxs-lookup"><span data-stu-id="7838a-232">However, the previous Sales and Volume columns are now split into two columns and each of those columns are preceded by the product name.</span></span> <span data-ttu-id="7838a-233">В результате в столбце TimeID для каждого дня существует только одна запись.</span><span class="sxs-lookup"><span data-stu-id="7838a-233">As a result, only a single entry exists for each day in the TimeID column.</span></span> <span data-ttu-id="7838a-234">В результате формируется модель временных рядов, которая содержит четыре прогнозируемых столбца: A_Sales, A_Volume, B_Sales и B_Volume.</span><span class="sxs-lookup"><span data-stu-id="7838a-234">This creates a time series model that would contain four predictable columns: A_Sales, A_Volume, B_Sales, and B_Volume.</span></span>  
  
 <span data-ttu-id="7838a-235">Кроме того, поскольку продукты разделены по разным столбцам, нет необходимости указывать дополнительный ключевой столбец ряда.</span><span class="sxs-lookup"><span data-stu-id="7838a-235">Furthermore, because you have separated the products into different columns, you do not have to specify an additional series key column.</span></span> <span data-ttu-id="7838a-236">Каждый столбец в этой модели является столбцом набора вариантов или прогнозируемым столбцом.</span><span class="sxs-lookup"><span data-stu-id="7838a-236">All the columns in the model are either a case series column or a predictable column.</span></span>  
  
## <a name="viewing-a-time-series-model"></a><span data-ttu-id="7838a-237">Просмотр модели временных рядов</span><span class="sxs-lookup"><span data-stu-id="7838a-237">Viewing a Time Series Model</span></span>  
 <span data-ttu-id="7838a-238">После обучения модели результаты хранятся в виде набора закономерностей, которые можно исследовать или делать на их основе прогнозы.</span><span class="sxs-lookup"><span data-stu-id="7838a-238">After the model has been trained, the results are stored as a set of patterns, which you can explore or use to make predictions.</span></span>  
  
 <span data-ttu-id="7838a-239">Чтобы исследовать модель, можно использовать [Средство просмотра временных рядов](browse-a-model-using-the-microsoft-time-series-viewer.md).</span><span class="sxs-lookup"><span data-stu-id="7838a-239">To explore the model, you can use the [Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md).</span></span> <span data-ttu-id="7838a-240">Это средство располагает диаграммой, которая отображает будущие прогнозы, и древовидным представлением периодических структур, присутствующих в данных.</span><span class="sxs-lookup"><span data-stu-id="7838a-240">The viewer includes a chart that displays future predictions, and a tree view of the periodic structures in the data.</span></span>  
  
 <span data-ttu-id="7838a-241">Чтобы получить дополнительные сведения о расчете прогнозов, можно просмотреть модель в [средстве просмотра деревьев содержимого общего вида (Майкрософт)](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md).</span><span class="sxs-lookup"><span data-stu-id="7838a-241">If you want to know more about how the predictions are calculated, you can browse the model in the [Microsoft Generic Content Tree Viewer](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md).</span></span> <span data-ttu-id="7838a-242">В модели хранятся периодические структуры, обнаруженные алгоритмами ARIMA и ARTXP, уравнением для объединения алгоритмов и другими статистические операциями.</span><span class="sxs-lookup"><span data-stu-id="7838a-242">The content stored for the model includes details such as the periodic structures detected by the ARIMA and ARTXP algorithms, the equation used to blend the algorithms, and other statistics.</span></span>  
  
## <a name="creating-time-series-predictions"></a><span data-ttu-id="7838a-243">Создание прогнозов временных рядов</span><span class="sxs-lookup"><span data-stu-id="7838a-243">Creating Time Series Predictions</span></span>  
 <span data-ttu-id="7838a-244">По умолчанию при просмотре модели временных рядов службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] отображают пять прогнозов для ряда.</span><span class="sxs-lookup"><span data-stu-id="7838a-244">By default, when you view a time series model, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] shows you five predictions for the series.</span></span> <span data-ttu-id="7838a-245">Однако можно создать запросы, которые возвращают переменное число прогнозов, и добавить столбцы в прогнозы, чтобы получить описательные статистические данные.</span><span class="sxs-lookup"><span data-stu-id="7838a-245">However, you can create queries to return a variable number of predictions, and you can extra columns to the predictions to return descriptive statistics.</span></span> <span data-ttu-id="7838a-246">Дополнительные сведения о создании запросов к модели временных рядов см. в разделе [Примеры запросов моделей временных рядов](time-series-model-query-examples.md).</span><span class="sxs-lookup"><span data-stu-id="7838a-246">For information about how to create queries against a time series model, see [Time Series Model Query Examples](time-series-model-query-examples.md).</span></span> <span data-ttu-id="7838a-247">Примеры использования расширений интеллектуального анализа данных (DMX) для подготовки прогнозов временных рядов см. в разделе [PredictTimeSeries (расширения интеллектуального анализа данных)](/sql/dmx/predicttimeseries-dmx).</span><span class="sxs-lookup"><span data-stu-id="7838a-247">For examples of how to use Data Mining Extensions (DMX) to make time series predictions, see [PredictTimeSeries &#40;DMX&#41;](/sql/dmx/predicttimeseries-dmx).</span></span>  
  
 <span data-ttu-id="7838a-248">При использовании [!INCLUDE[msCoName](../../includes/msconame-md.md)] алгоритма временных рядов (Майкрософт) для составления прогнозов следует учитывать следующие дополнительные ограничения и требования.</span><span class="sxs-lookup"><span data-stu-id="7838a-248">When using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm to make predictions, you should consider the following additional restrictions and requirements:</span></span>  
  
-   <span data-ttu-id="7838a-249">Перекрестное прогнозирование доступно только при использовании смешанной модели или модели на основе алгоритма ARTXP.</span><span class="sxs-lookup"><span data-stu-id="7838a-249">Cross-prediction is only available when you use a mixed model, or a model based on the ARTXP algorithm.</span></span> <span data-ttu-id="7838a-250">Перекрестное прогнозирование невозможно при использовании модели, основанной исключительно на алгоритме ARIMA.</span><span class="sxs-lookup"><span data-stu-id="7838a-250">If you use a model based only on the ARIMA algorithm, cross-prediction is not possible.</span></span>  
  
-   <span data-ttu-id="7838a-251">Прогнозы модели временных рядов могут различаться, иногда существенно, в зависимости от 64-разрядной операционной системы сервера.</span><span class="sxs-lookup"><span data-stu-id="7838a-251">A time series model can make predictions that differ, sometimes significantly, depending on the 64-bit operating system that the server uses.</span></span> <span data-ttu-id="7838a-252">Эти различия возникают в связи с тем, что в системе на платформе [!INCLUDE[vcpritanium](../../includes/vcpritanium-md.md)]числовые данные, относящиеся к арифметике с плавающей запятой, представляются и обрабатываются иначе, чем в системе на платформе [!INCLUDE[vcprx64](../../includes/vcprx64-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7838a-252">These differences occur due to the way that an [!INCLUDE[vcpritanium](../../includes/vcpritanium-md.md)]-based system represents and handles numbers for floating-point arithmetic, which differs from the way that an [!INCLUDE[vcprx64](../../includes/vcprx64-md.md)]-based system does these calculations.</span></span> <span data-ttu-id="7838a-253">Поскольку результаты прогнозирования зависят от операционной системы, рекомендуется оценивать модели под управлением операционной системы, используемой в производственных условиях.</span><span class="sxs-lookup"><span data-stu-id="7838a-253">Because prediction results can be specific to the operating system, we recommend that you evaluate models on the same operating system that you will use in production.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="7838a-254">Remarks</span><span class="sxs-lookup"><span data-stu-id="7838a-254">Remarks</span></span>  
  
-   <span data-ttu-id="7838a-255">Не поддерживается использование языка разметки прогнозирующих моделей (PMML) для создания моделей интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="7838a-255">Does not support using the Predictive Model Markup Language (PMML) to create mining models.</span></span>  
  
-   <span data-ttu-id="7838a-256">Поддерживается использование моделей интеллектуального анализа OLAP.</span><span class="sxs-lookup"><span data-stu-id="7838a-256">Supports the use of OLAP mining models.</span></span>  
  
-   <span data-ttu-id="7838a-257">Не поддерживается создание измерений интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="7838a-257">Does not support the creation of data mining dimensions.</span></span>  
  
-   <span data-ttu-id="7838a-258">Поддерживается детализация.</span><span class="sxs-lookup"><span data-stu-id="7838a-258">Supports drillthrough.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7838a-259">См. также:</span><span class="sxs-lookup"><span data-stu-id="7838a-259">See Also</span></span>  
 <span data-ttu-id="7838a-260">[Алгоритмы интеллектуального анализа данных &#40;Analysis Services — интеллектуальный анализ данных&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="7838a-260">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="7838a-261">[Просмотр модели с помощью средства просмотра временных рядов (Майкрософт)](browse-a-model-using-the-microsoft-time-series-viewer.md) </span><span class="sxs-lookup"><span data-stu-id="7838a-261">[Browse a Model Using the Microsoft Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md) </span></span>  
 <span data-ttu-id="7838a-262">[Технический справочник по алгоритму временных рядов (Майкрософт)](microsoft-time-series-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="7838a-262">[Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="7838a-263">[Примеры запросов модели временных рядов](time-series-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="7838a-263">[Time Series Model Query Examples](time-series-model-query-examples.md) </span></span>  
 [<span data-ttu-id="7838a-264">Содержимое моделей интеллектуального анализа данных для моделей временных рядов (службы Analysis Services — интеллектуальный анализ данных)</span><span class="sxs-lookup"><span data-stu-id="7838a-264">Mining Model Content for Time Series Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-time-series-models-analysis-services-data-mining.md)  
  
  

---
title: Запросы детализации (интеллектуальный анализ данных) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- AllowDrillThrough property
- drillthrough [Analysis Services]
- drillthrough [DMX]
ms.assetid: 246c784b-1b0c-4f0b-96f7-3af265e67051
author: minewiskan
ms.author: owend
ms.openlocfilehash: 21e8c6f7cb6938e629be9d252c208c61c04d17d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666890"
---
# <a name="drillthrough-queries-data-mining"></a>Запросы детализации (интеллектуальный анализ данных)
  *Запрос детализации* позволяет извлекать сведения из базовых вариантов или данных структуры, отсылая запрос в модель интеллектуального анализа данных. Детализация применяется в том случае, если нужно просмотреть варианты, использованные для обучения модели, в отличие от вариантов, которые используются для ее проверки, либо чтобы просмотреть дополнительных сведения из данных варианта.  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] предусматривает два различных варианта детализации.  
  
-   Детализация до **вариантов модели**  
  
     Детализация до вариантов модели используется, если нужно перейти от определенного шаблона в модели, такого как кластер или ветвь дерева принятия решений, и просмотреть сведения об отдельных вариантах.  
  
-   Детализация до **вариантов структуры**  
  
     Детализация до вариантов структуры используется в том случае, когда структура содержит сведения, которые могут не быть доступными в модели. Например, не используются контактные сведения покупателей в модели кластеризации, даже если эти данные включены в структуру. Однако после создания модели может потребоваться получить контактные сведения покупателей, сгруппированных в определенный кластер.  
  
 В данном разделе будут приведены примеры создания таких запросов.  
  
 [Использование детализации в конструкторе интеллектуального анализа данных](#bkmk_Designer)  
  
 [Создание запросов детализации с помощью расширений интеллектуального анализа данных](#bkmk_DMX)  
  
 [Вопросы, связанные с использованием детализации](#bkmk_Considerations)  
  
-   [Проблемы с безопасностью](#bkmk_Security)  
  
-   [Ограничения](#bkmk_Limits)  
  
##  <a name="using-drillthrough-in-data-mining-designer"></a><a name="bkmk_Designer"></a>Использование детализации в конструкторе интеллектуального анализа данных  
 Возможность детализации предусмотрена в модели интеллектуального анализа данных, и при наличии соответствующих разрешений во время просмотра модели можно щелкнуть узел в соответствующем средстве просмотра и получить подробные сведения о вариантах в данном узле.  
  
 [Детализация до данных вариантов из модели интеллектуального анализа](drill-through-to-case-data-from-a-mining-model.md)данных.  
  
 Если при обработке структуры интеллектуального анализа данных обучающие варианты кэшировались и у пользователя есть необходимые разрешения, то можно получать сведения из вариантов модели и структуры интеллектуального анализа данных, включая столбцы, не включенные в модель интеллектуального анализа данных.  
  
##  <a name="creating-drillthrough-queries-using-dmx"></a><a name="bkmk_DMX"></a>Создание запросов детализации с помощью расширений интеллектуального анализа данных  
 Можно выполнять детализацию данных варианта путем создания запроса расширений интеллектуального анализа данных в том случае, если у вас имеются разрешения для модели или для структуры. Примеры синтаксиса для создания запросов детализации в расширении интеллектуального анализа данных содержатся в следующих разделах:  
  
 [Создание запросов детализации с помощью расширений интеллектуального анализа данных](create-drillthrough-queries-using-dmx.md)  
  
##  <a name="considerations-when-using-drillthrough"></a><a name="bkmk_Considerations"></a>Рекомендации по использованию детализации  
  
-   Если используется мастер интеллектуального анализа данных, то включить детализацию можно на его последней странице. По умолчанию детализация отключена. Дополнительные сведения см. в разделе [Завершение работы мастера (мастер интеллектуального анализа данных)](../completing-the-wizard-data-mining-wizard.md).  
  
-   Возможность детализации можно добавить в существующую модель интеллектуального анализа данных, но в этом случае модель необходимо обработать повторно, чтобы изменения вступили в силу.  
  
-   Детализация работает посредством получения информации об обучающих вариантах структуры интеллектуального анализа данных. Эта информация была кэширована при обработке структуры. Поэтому, если произвести удаление всех кэшированных данных изменением свойства <xref:Microsoft.AnalysisServices.MiningStructureCacheMode> на `ClearAfterProcessing`, детализация работать не будет. Чтобы разрешить детализацию до столбцов структуры, нужно изменить значение свойства <xref:Microsoft.AnalysisServices.MiningStructureCacheMode> на `KeepTrainingCases` а затем выполнить повторную обработку структуры.  
  
-   Если детализация разрешена в модели интеллектуального анализа данных, но не разрешена в структуре, то сведения можно просматривать только из вариантов модели, но не из структуры интеллектуального анализа данных.  
  
###  <a name="security-issues-for-drillthrough"></a><a name="bkmk_Security"></a>Проблемы безопасности для детализации  
 Если необходимо выполнить детализацию до вариантов структуры из модели, необходимо убедиться, что свойство [AllowDrillthrough](https://docs.microsoft.com/bi-reference/assl/properties/allowdrillthrough-element-assl) в структуре интеллектуального анализа данных и модели интеллектуального анализа данных имеет значение `True` . Более того, необходимо быть членом роли, обладающей разрешением на детализацию как в структуре, так и в модели. Дополнительные сведения о создании ролей см. в разделе [Конструктор ролей (службы Analysis Services — многомерные данные)](https://msdn.microsoft.com/library/ms189696(v=sql.120).aspx). см.  
  
 Разрешения на детализацию устанавливаются отдельно для структуры и для модели. Разрешение на детализацию модели позволяет проводить детализацию на основе модели, даже если у пользователя нет разрешения на детализацию структуры. Разрешения на детализацию структуры предоставляют дополнительную возможность включать столбцы структуры в запросы детализации с помощью функции [StructureColumn (DMX)](/sql/dmx/structurecolumn-dmx).  
  
> [!NOTE]  
>  Если включить детализацию как структуры, так и модели интеллектуального анализа данных, то любой пользователь, являющийся членом роли с разрешениями детализации в модели, также видит столбцы в структуре, даже если эти столбцы не входят в модель интеллектуального анализа данных. Поэтому, чтобы защитить конфиденциальные данные, необходимо настроить в представлении источника данных маскирование персональных данных и разрешать доступ к детализации структуры интеллектуального анализа данных только при необходимости.  
  
###  <a name="limitations-on-drillthrough"></a><a name="bkmk_Limits"></a>Ограничения детализации  
  
-   Приведенные ниже ограничения относятся к операциям по детализации с моделью и зависят от алгоритма, с помощью которого была создана модель.  
  
|Имя алгоритма|Проблема|  
|--------------------|-----------|  
|Упрощенный алгоритм Байеса (Майкрософт)|Не поддерживается. В этих алгоритмах не назначаются варианты для отдельных узлов содержимого.|  
|Алгоритм нейронной сети (Майкрософт)|Не поддерживается. В этих алгоритмах не назначаются варианты для отдельных узлов содержимого.|  
|Алгоритм логистической регрессии (Майкрософт)|Не поддерживается. В этих алгоритмах не назначаются варианты для отдельных узлов содержимого.|  
|Алгоритм линейной регрессии (Майкрософт)|Поддерживается. Однако, поскольку модель содержит только один узел, `All`, при детализации возвращаются все обучающие варианты модели. Если задан большой обучающий набор, то загрузка результатов может занять много времени.|  
|Алгоритм временных рядов (Майкрософт)|Поддерживается. Однако нельзя выполнять детализацию структуры или данных вариантов с помощью **Средства просмотра моделей интеллектуального анализа данных** в конструкторе интеллектуального анализа данных. Вместо этого необходимо создать DMX-запрос.<br /><br /> Кроме того, нельзя выполнять детализацию по конкретным узлам или писать DMX-запросы для получения вариантов из конкретных узлов модели временных рядов. Данные вариантов можно извлечь либо из модели, либо из структуры по другим критериям, например по значениям атрибутов.<br /><br /> Можно также получить даты вариантов в модели с помощью функции [Журнал (DMX)](/sql/dmx/lag-dmx).<br /><br /> Просмотреть узлы ARTXP и ARIMA, созданные алгоритмом временных рядов (Майкрософт), может быть проще с помощью [средства просмотра деревьев содержимого общего вида (Майкрософт) (интеллектуальный анализ данных)](../microsoft-generic-content-tree-viewer-data-mining.md).|  
  
##  <a name="related-tasks"></a><a name="bkmk_Tasks"></a> Связанные задачи  
 Используйте следующие ссылки для работы с детализацией в конкретных сценариях.  
  
|Задача|Ссылка|  
|----------|----------|  
|Процедуры, описывающие использование детализации в конструкторе интеллектуального анализа данных|[выполнить детализацию до данных вариантов из модели интеллектуального анализа данных](drill-through-to-case-data-from-a-mining-model.md)|  
|Изменение существующей модели интеллектуального анализа данных для разрешения детализации|[включить детализацию для модели интеллектуального анализа данных](enable-drillthrough-for-a-mining-model.md)|  
|Включение детализации для структуры интеллектуального анализа данных с помощью предложения DMX WITH DRILLTHROUGH|[СОЗДАНИЕ СТРУКТУРЫ ИНТЕЛЛЕКТУАЛЬНОГО АНАЛИЗА ДАННЫХ (DMX)](/sql/dmx/create-mining-structure-dmx)|  
|Сведения о присвоении разрешений, относящихся к детализации структур и моделей интеллектуального анализа данных|[Предоставление разрешений структурам интеллектуального анализа данных и моделям интеллектуального анализа данных (службы Analysis Services)](../multidimensional-models/grant-permissions-on-data-mining-structures-and-models-analysis-services.md)|  
  
## <a name="see-also"></a>См. также:  
 [Средства просмотра моделей интеллектуального анализа данных](data-mining-model-viewers.md)   
 [Запросы интеллектуального анализа данных](data-mining-queries.md)  
  
  

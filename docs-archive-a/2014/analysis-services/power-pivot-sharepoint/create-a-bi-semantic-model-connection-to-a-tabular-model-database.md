---
title: Создание соединения семантической модели бизнес-аналитики с базой данных табличной модели | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 69b306f6-ee8a-44d2-8f51-0cad2c0bc135
author: minewiskan
ms.author: owend
ms.openlocfilehash: 42b4281050b8672891fc01e8bbeb4b3bc1920c94
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666794"
---
# <a name="create-a-bi-semantic-model-connection-to-a-tabular-model-database"></a>Create a BI Semantic Model Connection to a Tabular Model Database
  Сведения, приведенные в этом разделе, помогут настроить соединение семантической модели бизнес-аналитики, которое перенаправляется на базу данных табличной модели, запущенную в экземпляре служб Analysis Services за пределами фермы SharePoint.  
  
 После создания соединения семантической модели бизнес-аналитики и настройки разрешений SharePoint и служб Analysis Services это соединение можно использовать в качестве источника данных для отчетов Excel или [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] .  
  
 Этот раздел включает следующие подразделы: Выполните задачи в указанном порядке.  
  
 [Проверка предварительных требований](#bkmk_prereq)  
  
 [Предоставление административных разрешений служб Analysis Services приложениям общих служб](#bkmk_ssas)  
  
 [Предоставление разрешений на чтение для базы данных табличной модели](#bkmk_BISM)  
  
 [Create a BI Semantic Model Connection to a Tabular Model Database](#bkmk_connect)  
  
 [Настройка разрешений SharePoint для соединения семантической модели бизнес-аналитики](#bkmk_permissions)  
  
 [Следующие шаги](#bkmk_next)  
  
##  <a name="review-prerequisites"></a><a name="bkmk_prereq"></a>Проверка предварительных требований  
 Для создания файла соединения семантической модели бизнес-аналитики требуется разрешение «Участие» или выше.  
  
 Необходима библиотека, поддерживающая тип содержимого соединения семантической модели бизнес-аналитики. Дополнительные сведения см. в разделе [Добавление типа содержимого соединения семантической модели бизнес-аналитики в библиотеку &#40;PowerPivot для SharePoint&#41;](add-bi-semantic-model-connection-content-type-to-library.md).  
  
 Необходимо знать имя сервера и базы данных, для которой настраивается соединение семантической модели бизнес-аналитики. Службы Analysis Services должны быть настроены для табличного режима. Базы данных на сервере должны быть табличным шаблоном баз данных. Инструкции по проверке режима сервера см. в разделе [Определение режима работы сервера экземпляра служб Analysis Services](../instances/determine-the-server-mode-of-an-analysis-services-instance.md).  
  
 В некоторых сценариях общие службы в среде SharePoint должны иметь административные разрешения в экземпляре служб Analysis Services. К таким службам относятся приложения службы PowerPivot, приложения службы Reporting Services и приложения службы PerformancePoint. Перед предоставлением административных разрешений необходимо проверить удостоверение этих приложений службы. Для определения удостоверения используется центр администрирования.  
  
 Для просмотра сведений о безопасности в центре администрирования требуются права администратора служб SharePoint.  
  
 Для предоставления административных прав в среде Management Studio требуются права системного администратора служб Analysis Services.  
  
 Доступ к PowerPivot для SharePoint осуществляется посредством веб-приложений, использующих классический режим проверки подлинности. Соединение семантической модели бизнес-аналитики с внешними источниками данных имеет зависимость от входа в систему в классическом режиме. Дополнительные сведения см. в статье [Проверка подлинности и авторизация PowerPivot](power-pivot-authentication-and-authorization.md).  
  
 Все компьютеры и пользователи, участвующие в последовательности соединения, должны относиться к одному домену или находиться в доверенном домене (двустороннее доверие).  
  
##  <a name="grant-analysis-services-administrative-permissions-to-shared-service-applications"></a><a name="bkmk_ssas"></a>Предоставление Analysis Services административных разрешений для приложений общих служб  
 Соединения от SharePoint к базе данных табличной модели на сервере служб Analysis Services иногда устанавливаются общей службой от имени пользователя, запрашивающего данные. Служба, создающая запрос, может быть приложением службы PowerPivot, приложением службы Reporting Services или приложением службы PerformancePoint. Для успешного соединения служба должна иметь административные разрешения на сервере служб Analysis Services. На сервере служб Analysis Services только администратор может устанавливать олицетворенные соединения от имени других пользователей.  
  
 Административные разрешения необходимы, если соединение используется в следующих условиях.  
  
-   Проверяются сведения о соединении при настройке файла соединения с семантической моделью бизнес-аналитики.  
  
-   Отчет Power View запускается с помощью соединения с семантической моделью бизнес-аналитики.  
  
-   Веб-часть PerformancePoint заполняется с использованием соединения с семантической моделью бизнес-аналитики.  
  
 Чтобы обеспечить надлежащую работу этих функций, предоставьте каждому удостоверению службы административные разрешения в экземпляре служб Analysis Services. Чтобы предоставить необходимые разрешения, выполните следующие инструкции.  
  
 **Добавьте удостоверения служб в роль «Администратор сервера».**  
  
1.  Установите соединение с экземпляром служб Analysis Services в среде SQL Server Management Studio.  
  
2.  Щелкните имя сервера правой кнопкой мыши и выберите пункт **Свойства**.  
  
3.  Щелкните **Безопасность**и нажмите кнопку **Добавить**. Введите данные учетной записи пользователя Windows, которая используется для выполнения приложения службы.  
  
     Для определения удостоверения используется центр администрирования. В разделе "Безопасность" откройте окно **Настройка учетных записей служб** , чтобы просмотреть, какая учетная запись Windows связана с пулом приложений службы, используемым для каждого приложения, а затем выполните инструкции из этого раздела, чтобы предоставить учетной записи административные разрешения.  
  
##  <a name="grant-read-permissions-on-the-tabular-model-database"></a><a name="bkmk_BISM"></a> Предоставление разрешений на чтение табличного шаблона базы данных  
 Поскольку база данных запущена на сервере за пределами фермы, частью настройки соединения является предоставление административных и пользовательских разрешений для внутреннего сервера служб Analysis Services. Службы Analysis Services используют модель разрешений на основе ролей. Пользователи, подключающиеся к шаблонам базы данных, должны иметь разрешения «Чтение» или выше, которые они получили от роли, предоставляющей своим членам разрешения на чтение.  
  
 Роли, а иногда членство в ролях, определяются при создании модели в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]. Для создания ролей нельзя использовать среду SQL Server Management Studio, однако ее можно использовать для добавления членов в уже определенную роль. Дополнительные сведения о создании ролей см. в разделе [Создание ролей и управление ими (табличные службы SSAS)](../tabular-models/roles-ssas-tabular.md).  
  
#### <a name="assign-role-membership"></a>Назначение членства в ролях  
  
1.  В среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]выполните подключение к экземпляру [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], разверните в обозревателе объектов базу данных, а затем узел **Роли**. В списке должна быть уже определенная роль. Если роль не существует, свяжитесь с автором модели и попросите его добавить роль. Модель должна быть развернута повторно, прежде чем роль появится в среде Management Studio.  
  
2.  Щелкните правой кнопкой мыши роль и выберите пункт **Свойства**.  
  
3.  На странице «Членство» добавьте группу Windows и учетные записи пользователей, которым требуется доступ.  
  
##  <a name="create-a-bi-semantic-model-connection-to-a-tabular-model-database"></a><a name="bkmk_connect"></a>Создание соединения семантической модели бизнес-аналитики с базой данных табличной модели  
 После задания разрешений в службах Analysis Services можно вернуться в SharePoint и создать соединение семантической модели бизнес-аналитики.  
  
1.  В библиотеке, в которой будет размещаться соединение семантической модели бизнес-аналитики, нажмите кнопку **Документы** на ленте SharePoint.  
  
2.  Щелкните стрелку вниз на кнопке "Новый документ" и выберите **Файл соединения BISM** , чтобы открыть страницу "Создание соединения BISM".  
  
3.  Задайте значения свойств **Сервер** и **База данных** . Если имя базы данных неизвестно, просмотрите список баз данных, развернутых на сервере, с помощью среды SQL Server Management Studio.  
  
     **Имя сервера** — это сетевое имя сервера, IP-адрес или полное доменное имя (например: myserver.mydomain.corp.adventure-works.com). Если сервер установлен как именованный экземпляр, введите имя сервера в следующем формате: имя_компьютера\имя_экземпляра.  
  
     **База данных** должна быть табличной базой данных, доступной на сервере. Не указывайте другой файл соединения BISM, ODC-файл, базу данных OLAP служб Analysis Services или книгу PowerPivot. Для получения имени базы данных воспользуйтесь средой Management Studio для подключения к серверу и просмотра списка доступных баз данных. Чтобы проверить имя, перейдите на страницу свойств базы данных.  
  
4.  Нажмите кнопку **ОК** , чтобы сохранить страницу. В этот момент приложение службы PowerPivot проверяет соединение.  
  
     Проверка завершается успешно, если правильно заданы сведения о соединении и предоставлены административные разрешения приложению службы PowerPivot, которые позволяют подключаться к службам Analysis Services от имени текущего пользователя.  
  
     Проверка завершается ошибкой, если сведения о соединении заданы неправильно или у приложения службы отсутствуют необходимые разрешения. На странице появится сообщение проверки, предлагающее сохранить файл. Если известно, что соединение задано правильно, следует сохранить файл, поскольку ошибка возникает в результате отсутствия разрешений, а не ошибочных сведений о соединении.  
  
     Можно проверить соединение в Excel или Power View, установив подключение к базе данных табличной модели. Если подключение к источнику данных устанавливается успешно, то соединение задано правильно несмотря на то, что в ходе проверки создано предупреждение.  
  
##  <a name="configure-sharepoint-permissions-on-the-bi-semantic-model-connection"></a><a name="bkmk_permissions"></a>Настройка разрешений SharePoint для соединения семантической модели бизнес-аналитики  
 Для использования соединения семантической модели бизнес-аналитики в качестве источника данных для книги Excel или отчета служб Reporting Services необходимо разрешение **Чтение** для элемента соединения семантической модели бизнес-аналитики в библиотеке SharePoint. Уровень разрешения "Чтение" включает разрешение **Открытие элементов** , которое позволяет загружать сведения о соединении семантической модели бизнес-аналитики в приложение Excel для рабочего стола.  
  
 В SharePoint имеется несколько способов предоставления разрешений. В следующей процедуре описывается создание новой группы с именем **Пользователи BISM** , которая получает уровень разрешений **Чтение** .  
  
 Изменять разрешения могут только владельцы сайтов.  
  
1.  В разделе "Действия сайта" щелкните **Разрешения сайта**.  
  
2.  Щелкните **Создать группу** и укажите для новой группы имя **Пользователи BISM**.  
  
3.  Выберите уровень разрешений **Чтение** и нажмите кнопку **Создать**.  
  
4.  Выберите **Пользователи BISM** в поле "Пользователи и группы".  
  
5.  Наведите указатель мыши на пункт "Создать", выберите **Добавить пользователей**и добавьте учетные записи пользователей или групп.  
  
     Теперь у этих пользователей и групп будет разрешение «Чтение» для всего сайта, включая все библиотеки и списки, которые наследуют разрешения на уровне сайта. Если эти разрешения оказываются слишком большими, можно удалить данную группу из определенных библиотек, списков или элементов.  
  
 Чтобы выборочно удалить разрешения на уровне элемента, выполните следующие действия.  
  
1.  Выберите документ в библиотеке. Нажмите правую кнопку со стрелкой вниз и выберите пункт **Управление разрешениями**.  
  
2.  По умолчанию элемент наследует разрешения. Чтобы изменить разрешения для отдельных документов в этой библиотеке, нажмите кнопку **Прекратить наследование разрешений**.  
  
3.  Установите флажок для группы **Пользователи BISM**.  
  
4.  Нажмите кнопку **Удалить разрешения пользователя**.  
  
##  <a name="next-steps"></a><a name="bkmk_next"></a> Дальнейшие действия  
 После создания и обеспечения безопасности соединения семантической модели бизнес-аналитики его можно указать в качестве источника данных. Дополнительные сведения см. в разделе [Использование соединения семантической модели бизнес-аналитики в службах Excel или Reporting Services](use-a-bi-semantic-model-connection-in-excel-or-reporting-services.md).  
  
## <a name="see-also"></a>См. также:  
 [Соединение семантической модели бизнес-аналитики PowerPivot &#40;. BISM&#41;](power-pivot-bi-semantic-model-connection-bism.md)   
 [Создание соединения семантической модели бизнес-аналитики с книгой PowerPivot](create-a-bi-semantic-model-connection-to-a-power-pivot-workbook.md)  
  
  

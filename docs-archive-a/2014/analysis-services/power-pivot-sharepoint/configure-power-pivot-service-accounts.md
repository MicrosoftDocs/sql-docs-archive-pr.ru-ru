---
title: Настройка учетных записей служб PowerPivot | Документация Майкрософт
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 76a85cd0-af93-40c9-9adf-9eb0f80b30c1
author: minewiskan
ms.author: owend
ms.openlocfilehash: aac841c3f88d8c43680d1414a50687e9de1d5a3c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666230"
---
# <a name="configure-powerpivot-service-accounts"></a><span data-ttu-id="ef83b-102">Указание учетных записей служб PowerPivot</span><span class="sxs-lookup"><span data-stu-id="ef83b-102">Configure PowerPivot Service Accounts</span></span>
  <span data-ttu-id="ef83b-103">Установка [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] включает в себя две службы, поддерживающие операции сервера.</span><span class="sxs-lookup"><span data-stu-id="ef83b-103">A [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] installation includes two services that support server operations.</span></span> <span data-ttu-id="ef83b-104">Службы **SQL Server Analysis Services (PowerPivot)** — это службы Windows, обеспечивающие обработку данных PowerPivot и поддержку запросов на сервере приложений.</span><span class="sxs-lookup"><span data-stu-id="ef83b-104">The **SQL Server Analysis Services (PowerPivot)** service is a Windows service that provides PowerPivot data processing and query support on an application server.</span></span> <span data-ttu-id="ef83b-105">Учетная запись входа для этих служб всегда указывается во время настройки SQL Server при установке служб Analysis Services в режиме интеграции SharePoint.</span><span class="sxs-lookup"><span data-stu-id="ef83b-105">The login account for this service is always specified during SQL Server Setup when you install Analysis Services in SharePoint integrated mode.</span></span>  
  
 <span data-ttu-id="ef83b-106">Для приложения службы PowerPivot, которая является общей веб-службой, работающей под идентификатором пула приложений на ферме SharePoint, необходимо указать вторую учетную запись.</span><span class="sxs-lookup"><span data-stu-id="ef83b-106">A second account must be specified for the PowerPivot service application, a shared web service that runs under an application pool identity in a SharePoint farm.</span></span> <span data-ttu-id="ef83b-107">Эта учетная запись указывается при настройке установки [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] с помощью средства настройки PowerPivot или PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ef83b-107">This account is specified when you configure a [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] installation using either the PowerPivot Configuration tool or PowerShell.</span></span>  
  
 <span data-ttu-id="ef83b-108">Все службы должны запускаться под выделенной специальной учетной записью, чтобы у пользователя была возможность аудита подключений и включения протокола проверки подлинности Kerberos в ферме.</span><span class="sxs-lookup"><span data-stu-id="ef83b-108">Each service should run under a dedicated account so that you can audit connections or enable Kerberos authentication protocol in the farm.</span></span>  
  
 <span data-ttu-id="ef83b-109">После настройки учетных записей служб все изменения любой из этих учетных записей должны выполняться в центре администрирования SharePoint.</span><span class="sxs-lookup"><span data-stu-id="ef83b-109">Once the service accounts are set, any changes to either account must be made through SharePoint Central Administration.</span></span> <span data-ttu-id="ef83b-110">При использовании других средств (таких как консольное приложение «Службы», диспетчер служб IIS или диспетчер конфигурации SQL Server) разрешения не будут обновляться для доступа к базам данных на ферме или для доступа к локальным файлам на физическом сервере.</span><span class="sxs-lookup"><span data-stu-id="ef83b-110">If you use alternative tools (such as the Services console application, IIS Manager, or SQL Server Configuration Manager), permissions will not be updated for database access in the farm or for local file access on the physical server.</span></span>  
  
 <span data-ttu-id="ef83b-111">Этот раздел состоит из следующих подразделов.</span><span class="sxs-lookup"><span data-stu-id="ef83b-111">This topic contains the following sections:</span></span>  
  
 [<span data-ttu-id="ef83b-112">Обновление пароля, срок действия которого истек, для экземпляра служб SQL Server Analysis Services (PowerPivot)</span><span class="sxs-lookup"><span data-stu-id="ef83b-112">Update an expired password for SQL Server Analysis Services (PowerPivot) instance</span></span>](#bkmk_passwordssas)  
  
 [<span data-ttu-id="ef83b-113">Обновление пароля, срок действия которого истек, для приложения службы PowerPivot</span><span class="sxs-lookup"><span data-stu-id="ef83b-113">Update an expired password for the PowerPivot Service Application</span></span>](configure-power-pivot-service-accounts.md#bkmk_passwordapp)  
  
 [<span data-ttu-id="ef83b-114">Изменение учетной записи, под которой выполняется служба</span><span class="sxs-lookup"><span data-stu-id="ef83b-114">Change the account under which each service runs</span></span>](#bkmk_newacct)  
  
 [<span data-ttu-id="ef83b-115">Создание или изменение пула приложений для приложения службы PowerPivot</span><span class="sxs-lookup"><span data-stu-id="ef83b-115">Create or change the application pool for a PowerPivot service application</span></span>](#bkmk_appPool)  
  
 [<span data-ttu-id="ef83b-116">Требования к учетной записи и разрешения</span><span class="sxs-lookup"><span data-stu-id="ef83b-116">Account Requirements and Permissions</span></span>](#requirements)  
  
 [<span data-ttu-id="ef83b-117">Устранение неполадок: предоставление административных разрешений вручную</span><span class="sxs-lookup"><span data-stu-id="ef83b-117">Troubleshooting: Grant Administrative Permissions Manually</span></span>](#updatemanually)  
  
 [<span data-ttu-id="ef83b-118">Устранение неполадок: устранение ошибок HTTP 503, вызванных истечением срока действия паролей для службы центра администрирования или службы веб-приложения SharePoint Foundation</span><span class="sxs-lookup"><span data-stu-id="ef83b-118">Troubleshooting: Resolve HTTP 503 Errors Due to Expired Passwords for Central Administration or the SharePoint Foundation Web Application Service</span></span>](#expired)  
  
##  <a name="update-an-expired-password-for-sql-server-analysis-services-powerpivot-instance"></a><a name="bkmk_passwordssas"></a><span data-ttu-id="ef83b-119">Обновление пароля с истекшим сроком действия для экземпляра SQL Server Analysis Services (PowerPivot)</span><span class="sxs-lookup"><span data-stu-id="ef83b-119">Update an expired password for SQL Server Analysis Services (PowerPivot) instance</span></span>  
  
1.  <span data-ttu-id="ef83b-120">Укажите «Пуск», выберите пункт **Администрирование**, а затем **Службы**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-120">Point to Start, click **Administrative Tools**, and then click **Services**.</span></span> <span data-ttu-id="ef83b-121">Дважды щелкните службу **SQL Server Analysis Services (PowerPivot)**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-121">Double-click **SQL Server Analysis Services (PowerPivot)**.</span></span> <span data-ttu-id="ef83b-122">Откройте вкладку **Вход в систему**и введите новый пароль для учетной записи.</span><span class="sxs-lookup"><span data-stu-id="ef83b-122">Click **Log On**, and then enter the new password for the account.</span></span>  
  
2.  <span data-ttu-id="ef83b-123">В центре администрирования в разделе «Безопасность» щелкните ссылку **Настройка управляемых учетных записей**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-123">In Central Administration, in the Security section, click **Configure managed accounts**.</span></span>  
  
3.  <span data-ttu-id="ef83b-124">Чтобы изменить нужную учетную запись, нажмите кнопку **Изменить** .</span><span class="sxs-lookup"><span data-stu-id="ef83b-124">Click **Edit** to change a specific account.</span></span>  
  
4.  <span data-ttu-id="ef83b-125">Установите флажок **Изменить пароль сейчас**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-125">Select **Change password now**.</span></span>  
  
5.  <span data-ttu-id="ef83b-126">Установите флажок **Задать новое значение для пароля учетной записи**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-126">Select **Set account password to new value**.</span></span> <span data-ttu-id="ef83b-127">Все службы, работающие с управляемой учетной записью, будут использовать обновленные учетные данные.</span><span class="sxs-lookup"><span data-stu-id="ef83b-127">All services that run under the managed account will use the updated credentials.</span></span>  
  
##  <a name="update-an-expired-password-for-the-powerpivot-service-application"></a><a name="bkmk_passwordapp"></a><span data-ttu-id="ef83b-128">Обновление пароля, срок действия которого истек, для приложения службы PowerPivot</span><span class="sxs-lookup"><span data-stu-id="ef83b-128">Update an expired password for the PowerPivot Service Application</span></span>  
  
1.  <span data-ttu-id="ef83b-129">В центре администрирования в разделе «Безопасность» щелкните ссылку **Настройка управляемых учетных записей**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-129">In Central Administration, in the Security section, click **Configure managed accounts**.</span></span>  
  
2.  <span data-ttu-id="ef83b-130">Чтобы изменить нужную учетную запись, нажмите кнопку **Изменить** .</span><span class="sxs-lookup"><span data-stu-id="ef83b-130">Click **Edit** to change a specific account.</span></span>  
  
3.  <span data-ttu-id="ef83b-131">Установите флажок **Изменить пароль сейчас**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-131">Select **Change password now**.</span></span>  
  
4.  <span data-ttu-id="ef83b-132">Установите флажок **Задать новое значение для пароля учетной записи**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-132">Select **Set account password to new value**.</span></span> <span data-ttu-id="ef83b-133">Все службы, работающие с управляемой учетной записью, будут использовать обновленные учетные данные.</span><span class="sxs-lookup"><span data-stu-id="ef83b-133">All services that run under the managed account will use the updated credentials.</span></span>  
  
##  <a name="change-the-account-under-which-each-service-runs"></a><a name="bkmk_newacct"></a><span data-ttu-id="ef83b-134">Изменение учетной записи, под которой выполняется каждая служба</span><span class="sxs-lookup"><span data-stu-id="ef83b-134">Change the account under which each service runs</span></span>  
  
1.  <span data-ttu-id="ef83b-135">В центре администрирования в разделе «Безопасность» щелкните ссылку **Настройка учетных записей служб**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-135">In Central Administration, in the Security section, click **Configure service accounts**.</span></span>  
  
2.  <span data-ttu-id="ef83b-136">Выберите **Служба Windows — службы SQL Server Analysis Services** и измените учетную запись службы Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ef83b-136">Select **Windows Service - SQL Server Analysis Services** to change the Analysis Services service account.</span></span>  
  
3.  <span data-ttu-id="ef83b-137">В списке **Выберите учетную запись для этой службы**выберите существующую управляемую учетную запись или создайте новую.</span><span class="sxs-lookup"><span data-stu-id="ef83b-137">In **Select an account for this service**, choose an existing managed account or create a new one.</span></span> <span data-ttu-id="ef83b-138">Это должна быть учетная запись пользователя домена.</span><span class="sxs-lookup"><span data-stu-id="ef83b-138">The account must be a domain user account.</span></span>  
  
4.  <span data-ttu-id="ef83b-139">Выберите **Пул приложений службы — система веб-служб SharePoint** и измените удостоверение пула приложений для приложения службы PowerPivot по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="ef83b-139">Select **Service Application Pool - SharePoint Web Services System** to change the application pool identity of the default PowerPivot service application.</span></span> <span data-ttu-id="ef83b-140">В зависимости от настройки установки, служба должна выполняться с использованием существующего пула приложений службы, созданного для служб SharePoint.</span><span class="sxs-lookup"><span data-stu-id="ef83b-140">Depending on how your installation was configured, the service might be running under an existing service application pool created for SharePoint services.</span></span> <span data-ttu-id="ef83b-141">По умолчанию средство настройки PowerPivot регистрирует службу как **Приложение службы PowerPivot по умолчанию (приложение службы PowerPivot)**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-141">By default, the PowerPivot Configuration Tool registers the service as **Default PowerPivot Service Application (PowerPivot Service Application)**.</span></span>  
  
     <span data-ttu-id="ef83b-142">Если служба настроена вручную администратором SharePoint, то, скорее всего, будет иметь собственный пул приложений службы.</span><span class="sxs-lookup"><span data-stu-id="ef83b-142">If the service was configured manually by a SharePoint administrator, the service most likely has its own service application pool.</span></span>  
  
5.  <span data-ttu-id="ef83b-143">В списке **Выберите учетную запись для этой службы**выберите существующую управляемую учетную запись или создайте новую.</span><span class="sxs-lookup"><span data-stu-id="ef83b-143">In **Select an account for this service**, choose an existing managed account or create a new one.</span></span> <span data-ttu-id="ef83b-144">Это должна быть учетная запись пользователя домена.</span><span class="sxs-lookup"><span data-stu-id="ef83b-144">The account must be a domain user account.</span></span>  
  
6.  <span data-ttu-id="ef83b-145">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-145">Click **OK**.</span></span>  
  
##  <a name="create-or-change-the-application-pool-for-a-powerpivot-service-application"></a><a name="bkmk_appPool"></a><span data-ttu-id="ef83b-146">Создание или изменение пула приложений для приложения службы PowerPivot</span><span class="sxs-lookup"><span data-stu-id="ef83b-146">Create or change the application pool for a PowerPivot service application</span></span>  
  
1.  <span data-ttu-id="ef83b-147">В разделе «Управление приложениями» центра администрирования выберите пункт **Управление приложениями служб**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-147">In Central Administration, in Application Management, click **Manage service applications**.</span></span>  
  
2.  <span data-ttu-id="ef83b-148">Выделите, но не щелкайте ссылку на приложение службы PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-148">Select, but do not click, the PowerPivot service application.</span></span> <span data-ttu-id="ef83b-149">Если щелкнуть имя приложения, то откроется панель управления PowerPivot, в которой не предусмотрена ссылка на страницу свойств, где указывается пул приложений.</span><span class="sxs-lookup"><span data-stu-id="ef83b-149">Clicking on the application name opens the PowerPivot Management Dashboard, which does not provide a link to the properties page that specifies the application pool.</span></span>  <span data-ttu-id="ef83b-150">Можно щелкнуть пустое место в строке или щелкнуть имя типа, чтобы выбрать приложение службы PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-150">You can click the empty white space in the row, or click on type name, to select the PowerPivot service application.</span></span>  
  
3.  <span data-ttu-id="ef83b-151">На ленте нажмите **Свойства** .</span><span class="sxs-lookup"><span data-stu-id="ef83b-151">Click **Properties** on the ribbon.</span></span>  
  
4.  <span data-ttu-id="ef83b-152">Выберите команду **Создать новый пул приложений**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-152">Select **Create a new application pool**.</span></span> <span data-ttu-id="ef83b-153">Укажите имя пула приложений и управляемую учетную запись для этого удостоверения.</span><span class="sxs-lookup"><span data-stu-id="ef83b-153">Provide a name for the application pool and specify a managed account for its identity.</span></span>  
  
##  <a name="account-requirements-and-permissions"></a><a name="requirements"></a> <span data-ttu-id="ef83b-154">Требования к учетным записям и разрешения</span><span class="sxs-lookup"><span data-stu-id="ef83b-154">Account Requirements and Permissions</span></span>  
 <span data-ttu-id="ef83b-155">В плане развертывания PowerPivot для SharePoint необходимо предусмотреть следующие учетные записи служб.</span><span class="sxs-lookup"><span data-stu-id="ef83b-155">When planning a PowerPivot for SharePoint deployment, you must plan for the following service accounts.</span></span>  
  
-   <span data-ttu-id="ef83b-156">Учетная запись службы Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ef83b-156">Analysis Services service account.</span></span> <span data-ttu-id="ef83b-157">Службы Analysis Services обрабатывают запросы и задания обновления данных PowerPivot в ферме.</span><span class="sxs-lookup"><span data-stu-id="ef83b-157">Analysis Services processes PowerPivot queries and data refresh jobs in the farm.</span></span> <span data-ttu-id="ef83b-158">Эта учетная запись всегда указывается при установке SQL Server, когда происходит установка PowerPivot для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="ef83b-158">This account is always specified during SQL Server Setup when you install PowerPivot for SharePoint.</span></span>  
  
-   <span data-ttu-id="ef83b-159">Пул приложений службы PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-159">PowerPivot Service Application Pool.</span></span> <span data-ttu-id="ef83b-160">Приложение службы PowerPivot связано с системной службой PowerPivot, которая обеспечивает интеграцию с SharePoint и инфраструктуру для обработки запросов PowerPivot в ферме.</span><span class="sxs-lookup"><span data-stu-id="ef83b-160">A PowerPivot service application is associated with a PowerPivot System Service that provides SharePoint integration and infrastructure for PowerPivot query processing in a farm.</span></span> <span data-ttu-id="ef83b-161">Пул приложений, указанный для приложения службы PowerPivot, является удостоверением системной службы PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-161">The application pool that you specify for a PowerPivot service application is the service identity of the PowerPivot System Service.</span></span> <span data-ttu-id="ef83b-162">В ферме может применяться несколько приложений службы PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-162">You can have multiple PowerPivot service applications in a farm.</span></span> <span data-ttu-id="ef83b-163">Каждое из созданных приложений должно запускаться в собственном пуле приложений.</span><span class="sxs-lookup"><span data-stu-id="ef83b-163">Each one that you create should run in its own application pool.</span></span>  
  
#### <a name="analysis-services-service-account"></a><span data-ttu-id="ef83b-164">Учетная запись службы Analysis Services</span><span class="sxs-lookup"><span data-stu-id="ef83b-164">Analysis Services Service Account</span></span>  
  
|<span data-ttu-id="ef83b-165">Требование</span><span class="sxs-lookup"><span data-stu-id="ef83b-165">Requirement</span></span>|<span data-ttu-id="ef83b-166">Описание</span><span class="sxs-lookup"><span data-stu-id="ef83b-166">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="ef83b-167">Требования провизионирования</span><span class="sxs-lookup"><span data-stu-id="ef83b-167">Provisioning requirement</span></span>|<span data-ttu-id="ef83b-168">Эта учетная запись должна быть указана во время установки SQL Server на **странице настройки Analysis Services** мастера установки (или в `ASSVCACCOUNT` параметре установки в командной строке).</span><span class="sxs-lookup"><span data-stu-id="ef83b-168">This account must be specified during SQL Server Setup using the **Analysis Services - Configuration page** in the installation wizard (or the `ASSVCACCOUNT` installation parameter in a command line setup).</span></span><br /><br /> <span data-ttu-id="ef83b-169">Имя пользователя или пароль могут быть изменены с помощью центра администрирования, PowerShell или средства настройки PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-169">You can modify the user name or password using Central Administration, PowerShell, or the PowerPivot Configuration Tool.</span></span> <span data-ttu-id="ef83b-170">Использование других средств для изменения учетных записей и паролей не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ef83b-170">Using other tools to change accounts and passwords is not supported.</span></span>|  
|<span data-ttu-id="ef83b-171">Требования к учетной записи пользователя домена</span><span class="sxs-lookup"><span data-stu-id="ef83b-171">Domain user account requirement</span></span>|<span data-ttu-id="ef83b-172">Эта учетная запись должна быть учетной записью пользователя домена Windows.</span><span class="sxs-lookup"><span data-stu-id="ef83b-172">This account must be a Windows domain user account.</span></span> <span data-ttu-id="ef83b-173">Использование встроенных учетных записей компьютера (таких как учетные записи локальной или сетевой службы) недопустимо.</span><span class="sxs-lookup"><span data-stu-id="ef83b-173">Built-in machine accounts (such as Network Service or Local Service) are prohibited.</span></span> <span data-ttu-id="ef83b-174">Программа установки SQL Server обеспечивает выполнение требования использовать учетную запись пользователя домена, блокируя установку при указании учетной записи компьютера.</span><span class="sxs-lookup"><span data-stu-id="ef83b-174">SQL Server Setup enforces the domain user account requirement by blocking installation whenever a machine account is specified.</span></span>|  
|<span data-ttu-id="ef83b-175">Требования к разрешениям</span><span class="sxs-lookup"><span data-stu-id="ef83b-175">Permission requirements</span></span>|<span data-ttu-id="ef83b-176">Эта учетная запись должна быть членом группы безопасности SQLServerMSASUser $ \<server> $PowerPivot и групп безопасности WSS_WPG на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="ef83b-176">This account must be a member of the SQLServerMSASUser$\<server>$PowerPivot security group and the WSS_WPG security groups on the local computer.</span></span> <span data-ttu-id="ef83b-177">Эти разрешения должны предоставляться автоматически.</span><span class="sxs-lookup"><span data-stu-id="ef83b-177">These permissions should be granted automatically.</span></span> <span data-ttu-id="ef83b-178">Дополнительные сведения о том, как проверить или предоставить разрешения, см. в разделе [предоставление административных разрешений учетной записи службы PowerPivot вручную](#updatemanually) в этой статье и [начальной конфигурации &#40;PowerPivot для SharePoint&#41;](../../sql-server/install/initial-configuration-powerpivot-for-sharepoint.md).</span><span class="sxs-lookup"><span data-stu-id="ef83b-178">For more information on how to check or grant permissions, see [Grant the PowerPivot Service Account Administrative Permissions Manually](#updatemanually) in this topic and [Initial Configuration &#40;PowerPivot for SharePoint&#41;](../../sql-server/install/initial-configuration-powerpivot-for-sharepoint.md).</span></span>|  
|<span data-ttu-id="ef83b-179">Требования к масштабированию</span><span class="sxs-lookup"><span data-stu-id="ef83b-179">Scale-out requirements</span></span>|<span data-ttu-id="ef83b-180">Если в ферме устанавливается несколько экземпляров PowerPivot для сервера SharePoint, то все экземпляры сервера служб Analysis Services должны запускаться от имени одной и той же учетной записи пользователя домена.</span><span class="sxs-lookup"><span data-stu-id="ef83b-180">If you install multiple PowerPivot for SharePoint server instances in a farm, all of the Analysis Services server instances must run under the same domain user account.</span></span> <span data-ttu-id="ef83b-181">Например, если первый экземпляр [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] настроен для запуска от имени Contoso\ssas-srv01, то все остальные экземпляры [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] , развернутые в той же ферме, также должны запускаться от имени Contoso\ssas-srv01 (имя учетной записи приведено для примера и может отличаться).</span><span class="sxs-lookup"><span data-stu-id="ef83b-181">For example, if you configure the first [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] instance to run as Contoso\ssas-srv01, then all additional [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] instances that you deploy thereafter in the same farm must also run as Contoso\ssas-srv01 (or whatever the current account happens to be).</span></span><br /><br /> <span data-ttu-id="ef83b-182">Настройка всех экземпляров службы для запуска под одной и той же учетной записью позволяет системной службе PowerPivot назначать задания по обработке запросов или обновлению данных любому экземпляру службы Analysis Services в ферме.</span><span class="sxs-lookup"><span data-stu-id="ef83b-182">Configuring all service instances to run under the same account allows the PowerPivot System service to allocate query processing or data refresh jobs to any Analysis Services service instance in the farm.</span></span> <span data-ttu-id="ef83b-183">Кроме того, это дает возможность администрировать экземпляры сервера служб Analysis Services с помощью функции управления учетными записями центра администрирования.</span><span class="sxs-lookup"><span data-stu-id="ef83b-183">In addition, it enables the use of the Managed Account feature in Central Administration for Analysis Services server instances.</span></span> <span data-ttu-id="ef83b-184">Поскольку для всех экземпляров [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] используется одна и та же учетная запись, появляется возможность изменить учетную запись или пароль только один раз, после чего все экземпляры службы, в которых используются эти учетные данные, будут обновлены автоматически.</span><span class="sxs-lookup"><span data-stu-id="ef83b-184">By using the same account for all [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] instances, you can change account or password once, and all service instances that use those credentials are updated automatically.</span></span><br /><br /> <span data-ttu-id="ef83b-185">Программа установки SQL Server обеспечивает соблюдение требования по использованию одной и той же учетной записи.</span><span class="sxs-lookup"><span data-stu-id="ef83b-185">SQL Server Setup enforces the same-account requirement.</span></span> <span data-ttu-id="ef83b-186">В масштабном развертывании, когда в ферме SharePoint уже имеется экземпляр PowerPivot для установленного сервера SharePoint, программа установки блокирует новую установку, если указанная учетная запись [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] отличается от уже используемой в ферме.</span><span class="sxs-lookup"><span data-stu-id="ef83b-186">In a scale-out deployment where a SharePoint farm already has an instance of PowerPivot for SharePoint installed, Setup will block the new installation if the [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] account you specified is different from the one already in use in the farm.</span></span>|  
  
#### <a name="powerpivot-service-application-pool"></a><span data-ttu-id="ef83b-187">Пул приложений службы PowerPivot</span><span class="sxs-lookup"><span data-stu-id="ef83b-187">PowerPivot Service Application Pool</span></span>  
  
|<span data-ttu-id="ef83b-188">Требование</span><span class="sxs-lookup"><span data-stu-id="ef83b-188">Requirement</span></span>|<span data-ttu-id="ef83b-189">Описание</span><span class="sxs-lookup"><span data-stu-id="ef83b-189">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="ef83b-190">Требования провизионирования</span><span class="sxs-lookup"><span data-stu-id="ef83b-190">Provisioning requirement</span></span>|<span data-ttu-id="ef83b-191">Служба PowerPivot System Service является общим ресурсом фермы, который становится доступным после создания приложения службы.</span><span class="sxs-lookup"><span data-stu-id="ef83b-191">PowerPivot System Service is a shared resource on the farm that becomes available when you create a service application.</span></span> <span data-ttu-id="ef83b-192">Пул приложений службы должен быть указан при его создании.</span><span class="sxs-lookup"><span data-stu-id="ef83b-192">The service application pool must be specified when the service application is created.</span></span> <span data-ttu-id="ef83b-193">Его можно указать двумя способами: с помощью средства настройки PowerPivot или помощью команд PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ef83b-193">It can be specified two ways: using the PowerPivot Configuration Tool, or through PowerShell commands.</span></span><br /><br /> <span data-ttu-id="ef83b-194">Удостоверение пула приложений можно настроить для запуска под уникальной учетной записью.</span><span class="sxs-lookup"><span data-stu-id="ef83b-194">You might have configured the application pool identity to run under a unique account.</span></span> <span data-ttu-id="ef83b-195">Но если вы этого не сделали, попробуйте изменить его сейчас, чтобы он выполнялся под другой учетной записью.</span><span class="sxs-lookup"><span data-stu-id="ef83b-195">But if you didn't, consider changing it now to run under a different account.</span></span>|  
|<span data-ttu-id="ef83b-196">Требования к учетной записи пользователя домена</span><span class="sxs-lookup"><span data-stu-id="ef83b-196">Domain user account requirement</span></span>|<span data-ttu-id="ef83b-197">Это удостоверение пула приложений должно быть учетной записью пользователя домена Windows.</span><span class="sxs-lookup"><span data-stu-id="ef83b-197">The application pool identity must be a Windows domain user account.</span></span> <span data-ttu-id="ef83b-198">Использование встроенных учетных записей компьютера (таких как учетные записи локальной или сетевой службы) недопустимо.</span><span class="sxs-lookup"><span data-stu-id="ef83b-198">Built-in machine accounts (such as Network Service or Local Service) are prohibited.</span></span>|  
|<span data-ttu-id="ef83b-199">Требования к разрешениям</span><span class="sxs-lookup"><span data-stu-id="ef83b-199">Permission requirements</span></span>|<span data-ttu-id="ef83b-200">Для этой учетной записи не требуется наличие разрешений администратора локальной системы на компьютере.</span><span class="sxs-lookup"><span data-stu-id="ef83b-200">This account does not need local system Administrator permissions on the computer.</span></span> <span data-ttu-id="ef83b-201">Однако эта учетная запись должна иметь разрешения системного администратора службы Analysis Services на локальном экземпляре [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] , установленном на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="ef83b-201">However, this account must have Analysis Services system administrator permissions on the local [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] that is installed on the same computer.</span></span> <span data-ttu-id="ef83b-202">Эти разрешения предоставляются либо автоматически программой установки SQL Server, либо при задании или смене удостоверения пула приложений в центре администрирования.</span><span class="sxs-lookup"><span data-stu-id="ef83b-202">These permissions are granted automatically by SQL Server Setup or when you set or change the application pool identity in Central Administration.</span></span><br /><br /> <span data-ttu-id="ef83b-203">Административные разрешения требуются для перенаправления запросов [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ef83b-203">Administrative permissions are required for forwarding queries to the [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)].</span></span> <span data-ttu-id="ef83b-204">Они также необходимы для наблюдения за исправностью, закрытия неактивных сеансов и прослушивания событий трассировки.</span><span class="sxs-lookup"><span data-stu-id="ef83b-204">They are also required for monitoring health, closing inactive sessions, and listening for trace events.</span></span><br /><br /> <span data-ttu-id="ef83b-205">Учетная запись должна иметь разрешения на подключение, чтение и запись для базы данных приложения службы PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-205">The account must have connect, read, and write permissions to the PowerPivot service application database.</span></span> <span data-ttu-id="ef83b-206">Эти разрешения предоставляются автоматически при автоматическом создании и обновлении приложения в случае смены учетной записи или пароля в центре администрирования.</span><span class="sxs-lookup"><span data-stu-id="ef83b-206">These permissions are granted automatically when the application is created, and updated automatically when you change accounts or passwords in Central Administration.</span></span><br /><br /> <span data-ttu-id="ef83b-207">Перед получением файла приложение службы PowerPivot проверяет, что пользователь SharePoint имеет право просматривать данные, однако оно не олицетворяет пользователя.</span><span class="sxs-lookup"><span data-stu-id="ef83b-207">The PowerPivot service application will check that a SharePoint user is authorized to view data before retrieving the file, but it does not impersonate the user.</span></span> <span data-ttu-id="ef83b-208">Требований в отношении разрешений для олицетворения нет.</span><span class="sxs-lookup"><span data-stu-id="ef83b-208">There are no permission requirements for impersonation.</span></span>|  
|<span data-ttu-id="ef83b-209">Требования к масштабированию</span><span class="sxs-lookup"><span data-stu-id="ef83b-209">Scale-out requirements</span></span>|<span data-ttu-id="ef83b-210">Нет.</span><span class="sxs-lookup"><span data-stu-id="ef83b-210">None.</span></span>|  
  
##  <a name="troubleshooting-grant-administrative-permissions-manually"></a><a name="updatemanually"></a><span data-ttu-id="ef83b-211">Устранение неполадок: предоставление административных разрешений вручную</span><span class="sxs-lookup"><span data-stu-id="ef83b-211">Troubleshooting: Grant Administrative Permissions Manually</span></span>  
 <span data-ttu-id="ef83b-212">Обновление административных разрешений невозможно, если пользователь, обновляющий учетные данные, не является локальным администратором на компьютере.</span><span class="sxs-lookup"><span data-stu-id="ef83b-212">Administrative permissions will fail to update if the person updating the credentials is not a local administrator on the computer.</span></span> <span data-ttu-id="ef83b-213">В таком случае можно предоставить административные разрешения вручную.</span><span class="sxs-lookup"><span data-stu-id="ef83b-213">If this occurs, you can grant administrative permissions manually.</span></span> <span data-ttu-id="ef83b-214">Простейшим способом для этого является выполнение задания таймера конфигурации PowerPivot в центре администрирования.</span><span class="sxs-lookup"><span data-stu-id="ef83b-214">The easiest way to do this is to run the PowerPivot Configuration timer job in Central Administration.</span></span> <span data-ttu-id="ef83b-215">Такой подход позволяет сбрасывать разрешения для всех серверов PowerPivot в пределах фермы.</span><span class="sxs-lookup"><span data-stu-id="ef83b-215">With this approach, you can reset permissions for all PowerPivot servers in the farm.</span></span> <span data-ttu-id="ef83b-216">Учтите, что данный метод работает только в случае, если задание таймера SharePoint выполняется одновременно с правами администратора фермы и локального администратора на компьютере.</span><span class="sxs-lookup"><span data-stu-id="ef83b-216">Note that this approach will only work if the SharePoint timer job is running as both farm administrator and as local administrator on the computer.</span></span>  
  
1.  <span data-ttu-id="ef83b-217">В разделе «Наблюдение» щелкните ссылку **Пересмотр определений заданий**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-217">In Monitoring, click **Review job definitions**.</span></span>  
  
2.  <span data-ttu-id="ef83b-218">Выберите пункт **Задание таймера конфигурации PowerPivot**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-218">Select **PowerPivot Configuration Timer Job**.</span></span>  
  
3.  <span data-ttu-id="ef83b-219">Нажмите кнопку **Запустить сейчас**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-219">Click **Run Now**.</span></span>  
  
 <span data-ttu-id="ef83b-220">В качестве последнего средства вы можете обеспечить правильные разрешения, предоставив Analysis Services разрешения системного администрирования приложению службы PowerPivot, а затем, в частности, добавьте удостоверение приложения службы в \<servername> группу безопасности Windows SQLServerMSASUser $ $PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-220">As a last resort, you can ensure correct permissions by granting Analysis Services System Administration permissions to the PowerPivot service application, and then specifically add the service application identity to the SQLServerMSASUser$\<servername>$PowerPivot Windows security group.</span></span> <span data-ttu-id="ef83b-221">Эти действия необходимо повторить для каждого экземпляра служб Analysis Services, интегрированного с фермой SharePoint.</span><span class="sxs-lookup"><span data-stu-id="ef83b-221">You must repeat these steps for every Analysis Services instance that is integrated with the SharePoint farm.</span></span>  
  
 <span data-ttu-id="ef83b-222">Группы безопасности Windows может обновить только локальный администратор.</span><span class="sxs-lookup"><span data-stu-id="ef83b-222">You must be a local administrator to update Windows security groups.</span></span>  
  
1.  <span data-ttu-id="ef83b-223">В SQL Server Management Studio подключитесь к экземпляру Analysis Services как \<server name> \POWERPIVOT.</span><span class="sxs-lookup"><span data-stu-id="ef83b-223">In SQL Server Management Studio, connect to the Analysis Services instance as \<server name>\POWERPIVOT.</span></span>  
  
2.  <span data-ttu-id="ef83b-224">Щелкните имя сервера правой кнопкой мыши и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-224">Right-click the server name and select **Properties**.</span></span>  
  
3.  <span data-ttu-id="ef83b-225">Перейдите на вкладку **Безопасность**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-225">Click **Security**.</span></span>  
  
4.  <span data-ttu-id="ef83b-226">Нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-226">Click **Add**.</span></span>  
  
5.  <span data-ttu-id="ef83b-227">Введите имя учетной записи, которая используется для пула приложений службы PowerPivot, и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-227">Type the name of the account that is used for PowerPivot service application pool, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="ef83b-228">В меню «Администрирование» выберите пункт **Управление компьютером**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-228">In Administrative Tools, click **Computer Management**.</span></span>  
  
7.  <span data-ttu-id="ef83b-229">Откройте папку **Локальные пользователи и группы**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-229">Open **Local Users and Groups**.</span></span>  
  
8.  <span data-ttu-id="ef83b-230">Откройте **Группы**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-230">Open **Groups**.</span></span>  
  
9. <span data-ttu-id="ef83b-231">Дважды щелкните SQLServerMSASUser $ \<servername> $PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="ef83b-231">Double-click SQLServerMSASUser$\<servername>$PowerPivot.</span></span>  
  
10. <span data-ttu-id="ef83b-232">Нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-232">Click **Add**.</span></span>  
  
11. <span data-ttu-id="ef83b-233">Введите имя учетной записи, которая используется для пула приложений службы PowerPivot, и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-233">Type the name of the account that is used for PowerPivot service application pool, and then click **OK**.</span></span>  
  
##  <a name="troubleshooting-resolve-http-503-errors-due-to-expired-passwords-for-central-administration-or-the-sharepoint-foundation-web-application-service"></a><a name="expired"></a><span data-ttu-id="ef83b-234">Устранение неполадок: устранение ошибок HTTP 503 из-за просроченных паролей для центра администрирования или службы веб-приложения SharePoint Foundation</span><span class="sxs-lookup"><span data-stu-id="ef83b-234">Troubleshooting: Resolve HTTP 503 Errors Due to Expired Passwords for Central Administration or the SharePoint Foundation Web Application Service</span></span>  
 <span data-ttu-id="ef83b-235">Если служба центра администрирования или служба веб-приложения SharePoint Foundation перестает работать из-за сброса учетной записи или истечения срока действия пароля, то при открытии центра администрирования SharePoint или сайта SharePoint будет выводиться сообщение об ошибке HTTP 503 «Служба недоступна».</span><span class="sxs-lookup"><span data-stu-id="ef83b-235">If Central Administration service or the SharePoint Foundation Web Application service stops working due to an account reset or password expiration, you will encounter HTTP 503 "Service unavailable" error messages when attempting to open SharePoint Central Administration or a SharePoint site.</span></span> <span data-ttu-id="ef83b-236">Чтобы восстановить работу сервера, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="ef83b-236">Follow these steps to bring your server back online.</span></span> <span data-ttu-id="ef83b-237">Когда центр администрирования станет доступен, можно продолжить обновление данных учетной записи с истекшим сроком действия.</span><span class="sxs-lookup"><span data-stu-id="ef83b-237">Once Central Administration is available, you can proceed to update expired account information.</span></span>  
  
1.  <span data-ttu-id="ef83b-238">В окне «Администрирование» выберите пункт **Диспетчер служб IIS**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-238">In Administrative tools, click **Internet Information Services Manager**.</span></span>  
  
2.  <span data-ttu-id="ef83b-239">Для учетной записи пользователя домена, которая служит удостоверением для сайта или пула приложений центра администрирования и имеет пароль с истекшим сроком действия, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="ef83b-239">For the identity of the site or Central Administration application pool is a domain user account that has an expired password, do the following:</span></span>  
  
    1.  <span data-ttu-id="ef83b-240">Щелкните имя пула приложений правой кнопкой мыши и выберите пункт **Дополнительные параметры**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-240">Right-click the application pool name and select **Advanced Settings**.</span></span>  
  
    2.  <span data-ttu-id="ef83b-241">Выберите **удостоверение** и нажмите кнопку... Нажмите кнопку, чтобы открыть диалоговое окно удостоверение пула приложений.</span><span class="sxs-lookup"><span data-stu-id="ef83b-241">Select **Identity** and click the ... button to open the Application Pool Identity dialog box.</span></span>  
  
    3.  <span data-ttu-id="ef83b-242">Нажмите кнопку **Установить**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-242">Click **Set**.</span></span>  
  
    4.  <span data-ttu-id="ef83b-243">Введите имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="ef83b-243">Type the username and password.</span></span>  
  
3.  <span data-ttu-id="ef83b-244">Запустите IISRESET.</span><span class="sxs-lookup"><span data-stu-id="ef83b-244">Run IISRESET.</span></span> <span data-ttu-id="ef83b-245">Для этого откройте командную строку администратора и введите команду `iisreset`.</span><span class="sxs-lookup"><span data-stu-id="ef83b-245">To do this, open an Administrator command prompt and type `iisreset` at the command.</span></span>  
  
4.  <span data-ttu-id="ef83b-246">В центре администрирования SharePoint в разделе «Безопасность» щелкните ссылку **Настройка управляемых учетных записей**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-246">In SharePoint Central Administration, in Security, select **Configure managed accounts**.</span></span>  
  
5.  <span data-ttu-id="ef83b-247">Нажмите кнопку **Изменить** , чтобы обновить данные для управляемой учетной записи с истекшим сроком действия пароля.</span><span class="sxs-lookup"><span data-stu-id="ef83b-247">Click **Edit** to update the information of the managed account that has the expired password.</span></span>  
  
6.  <span data-ttu-id="ef83b-248">Установите флажок **Изменить пароль сейчас**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-248">Select **Change password now**.</span></span>  
  
7.  <span data-ttu-id="ef83b-249">Установите флажок **Использовать существующий пароль**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-249">Click **Use existing password**.</span></span>  
  
8.  <span data-ttu-id="ef83b-250">Введите пароль и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="ef83b-250">Type the password, and then click **OK**.</span></span>  
  
 <span data-ttu-id="ef83b-251">Если установлены службы Reporting Services, используйте диспетчер конфигурации служб Reporting Services для обновления паролей сервера отчетов и соединения с базой данных сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="ef83b-251">If Reporting Services is installed, use the Reporting Services Configuration Manager to update passwords for the report server and the connection to the report server database.</span></span> <span data-ttu-id="ef83b-252">Дополнительные сведения см. в разделе [Настройка и администрирование сервера отчетов (режим интеграции с SharePoint служб Reporting Services)](../../reporting-services/configure-administer-report-server-reporting-services-sharepoint-mode.md).</span><span class="sxs-lookup"><span data-stu-id="ef83b-252">For more information, see [Configuration and Administration of a Report Server &#40;Reporting Services SharePoint Mode&#41;](../../reporting-services/configure-administer-report-server-reporting-services-sharepoint-mode.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ef83b-253">См. также:</span><span class="sxs-lookup"><span data-stu-id="ef83b-253">See Also</span></span>  
 <span data-ttu-id="ef83b-254">[Запуск или завершение работы сервера PowerPivot для SharePoint](start-or-stop-a-power-pivot-for-sharepoint-server.md) </span><span class="sxs-lookup"><span data-stu-id="ef83b-254">[Start or Stop a PowerPivot for SharePoint Server](start-or-stop-a-power-pivot-for-sharepoint-server.md) </span></span>  
 [<span data-ttu-id="ef83b-255">Настройте учетную запись автоматического обновления данных PowerPivot &#40;PowerPivot для SharePoint&#41;</span><span class="sxs-lookup"><span data-stu-id="ef83b-255">Configure the PowerPivot Unattended Data Refresh Account &#40;PowerPivot for SharePoint&#41;</span></span>](../configure-unattended-data-refresh-account-powerpivot-sharepoint.md)  
  
  

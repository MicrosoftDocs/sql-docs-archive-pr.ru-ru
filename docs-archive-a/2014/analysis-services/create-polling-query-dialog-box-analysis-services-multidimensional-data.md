---
title: Диалоговое окно «Создание опрашивающего запроса» (Analysis Services-многомерные данные) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.createpollingquerydialog.f1
ms.assetid: 0f2902b5-796a-4eb0-be03-01514dc01b9a
author: minewiskan
ms.author: owend
ms.openlocfilehash: 186f5d8c1838ed8edaba446e954e39f513bc6fca
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658578"
---
# <a name="create-polling-query-dialog-box-analysis-services---multidimensional-data"></a>Диалоговое окно «Создание опрашивающего запроса» (службы Analysis Services — многомерные данные)
  Используйте диалоговое окно **Создание опрашивающего запроса** в среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] для создания опрашивающего запроса на вкладке **Уведомления** диалогового окна **Параметры хранилища** . Опрашивающий запрос — это, как правило, одноэлементный запрос, возвращающий значение, по которому службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] могут определить, произошли ли изменения с таблицей или другим реляционным объектом. Открыть окно **Создание опрашивающего запроса** можно, нажав кнопку с многоточием (**...**) на столбце **Опрашивающий запрос** сетки для параметра **Плановый опрос** на вкладке **Уведомления** диалогового окна **Параметры хранилища**. Дополнительные сведения о вкладке **Уведомления** диалогового окна **Параметры хранилища** см. в разделе [Уведомления (диалоговое окно "Параметры хранилища") (службы Analysis Services — многомерные данные)](notifications-storage-options-dialog-analysis-services-multidimensional-data.md).  
  
 Тип возвращаемого опрашивающим запросом значения зависит от типа обновлений, запланированных для кэша многомерного OLAP (MOLAP) данного объекта на основании опрашиваемой таблицы:  
  
-   Если режим **Разрешить добавочные обновления** не выбран на вкладке **Уведомления** диалогового окна **Параметры хранилища** , службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] полностью обновляют кэш MOLAP для объекта, если при плановом опросе обнаружено изменение. Используемый опрашивающий запрос должен определить, были ли записи добавлены к этой таблице со времени последнего опроса.  
  
-   Если режим **Разрешить добавочные обновления** выбран на вкладке **Уведомления** диалогового окна **Параметры хранилища** , службы [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] выполняют добавочное обновление кэша MOLAP для объекта, если при плановом опросе обнаружено изменение. Используемый опрашивающий запрос должен определить последнюю запись в этой таблице.  
  
 Например, следующие опрашивающие запросы могут быть использованы для выполнения полного или добавочного обновления для измерения Customer в образце базы данных [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] :  
  
|Тип обновления|Опрашивающий запрос|  
|-----------------|-------------------|  
|Полное обновление|`SELECT`<br /><br /> `COUNT(*) AS TotalCount`<br /><br /> `FROM`<br /><br /> `[dbo].[DimCustomer]`|  
|Добавочное обновление|`SELECT`<br /><br /> `MAX([CustomerKey]) AS LastCustomerKey`<br /><br /> `FROM`<br /><br /> `[dbo].[DimCustomer]`|  
  
 Дополнительные сведения о полных и добавочных обновлениях для уведомлений о плановых опросах см. в разделе [Упреждающее кэширование (секции)](multidimensional-models-olap-logical-cube-objects/partitions-proactive-caching.md).  
  
 Введенный запрос должен представлять корректную команду запроса для базового поставщика. Запрос подготовлен с помощью базового поставщика для проверки и для идентификации возвращаемых столбцов. Диалоговое окно может иметь два представления.  
  
-   Визуальный построитель запросов  
  
     Для всех пользователей представление визуального построителя запросов предлагает набор инструментов пользовательского интерфейса для визуального конструирования и тестирования SQL-запросов.  
  
-   Обычный построитель запросов  
  
     Для опытных пользователей режим обычного построителя запросов предлагает более простой и непосредственный пользовательский интерфейс конструирования и проверки SQL-запросов.  
  
## <a name="options"></a>Варианты  
 **Источник данных**  
 Указывает источник данных для запроса.  
  
 **Определение запроса**  
 Определение запроса предоставляет панель инструментов и панели для определения и тестирования запроса, в зависимости от выбранного представления.  
  
 **Панель инструментов**  
 Панель инструментов используется для управления наборами данных, выбора панелей для отображения, а также для управления различными функциями запросов.  
  
|Значение|Описание|  
|-----------|-----------------|  
|**Переключиться в обычный построитель запросов**|Выберите этот пункт, чтобы отображать только параметры, доступные для представления обычного построителя запросов. Отображаются только следующие параметры:<br /><br /> **Панель SQL**<br /><br /> **Панель результатов**<br /><br /> **Панель инструментов**, содержащая только команды **Переключиться в построитель VDT-запросов** и **Выполнить**<br /><br /> <br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Переключиться в построитель VDT-запросов**|Выберите этот пункт, чтобы отображать только параметры, доступные для представления визуального построителя запросов.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в обычный построитель запросов** .|  
|**Показать/скрыть панель диаграмм**|Показывает или скрывает **панель диаграммы**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Показать/скрыть панель сетки**|Показывает или скрывает **Панель сетки**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Показать/скрыть панель SQL**|Показывает или скрывает **Панель SQL**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Показать/скрыть панель результатов**|Показывает или скрывает **Панель результатов**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Выполнить**|Выполняет запрос. Результаты отображаются на **Панели результатов**.|  
|**Проверить SQL**|Проверяет правильность инструкции SQL, содержащейся в запросе.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Сортировка по возрастанию**|Сортирует выходные строки в выбранном столбце на **Панели сетки**в порядке возрастания.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Сортировка по убыванию**|Сортирует выходные строки в выбранном столбце на **Панели сетки**в порядке убывания.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Удалить фильтр**|Удаляет критерии сортировки, если это возможно, для строк, выделенных на **Панели сетки**.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Использовать Group By**|Добавляет к запросу функциональность группирования.<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
|**Добавить таблицу**|Отображает диалоговое окно **Добавить таблицу** , при помощи которого можно добавить к запросу новую таблицу или представление. Дополнительные сведения о диалоговом окне **Добавление таблицы** см. в разделе [Диалоговое окно "Добавление таблицы" (службы Analysis Services — многомерные данные)](add-table-dialog-box-analysis-services-multidimensional-data.md).<br /><br /> Примечание. Этот параметр отображается только в том случае, если выбран параметр **Переключиться в построитель VDT-запросов** .|  
  
 **Панель диаграммы**  
 Отображает объекты, на которые ссылается запрос, в виде диаграммы. Диаграмма показывает включенные в запрос таблицы, а также способы их соединения. Установите или снимите флажок рядом со столбцом в таблице, чтобы добавить или исключить его из результатов запроса.  
  
 При добавлении таблиц в запрос диалоговое окно создает соединения таблиц на основе содержащихся в таблицах ключей. Чтобы добавить соединение, перетащите поле одной таблицы на поле другой таблицы. Для управления соединением щелкните его правой кнопкой мыши.  
  
 Щелкните правой кнопкой мыши **панель диаграмм** , чтобы добавить или удалить таблицы, выбрать все таблицы и отобразить или скрыть области.  
  
> [!NOTE]  
>   Содержимое **Панели диаграмм**, **Панели сетки**и **Панели SQL** синхронизовано таким образом, что изменения одной панели отображаются на двух других панелях.  
  
> [!IMPORTANT]  
>  Изменение типа запроса в данном диалоговом окне невозможно.  
  
 **Панель сетки**  
 Отображает объекты, на которые ссылается запрос, в виде сетки. Можно использовать эту панель для добавления или удаления столбцов из запроса, а также для изменения установок каждого столбца.  
  
> [!NOTE]  
>   Содержимое **Панели диаграмм**, **Панели сетки**и **Панели SQL** синхронизовано таким образом, что изменения одной панели отображаются на двух других панелях.  
  
 **Панель SQL**  
 Отображает запрос в виде инструкции SQL. Введите текст, чтобы изменить инструкцию SQL для запроса.  
  
> [!NOTE]  
>   Содержимое **Панели диаграмм**, **Панели сетки**и **Панели SQL** синхронизовано таким образом, что изменения одной панели отображаются на двух других панелях.  
  
 **Панель результатов**  
 Отображает результат запроса при нажатии кнопки **Выполнить** , расположенной на **панели инструментов** .  
  
## <a name="see-also"></a>См. также:  
 [Analysis Services конструкторов и диалоговых окон &#40;многомерных данных&#41;](analysis-services-designers-and-dialog-boxes-multidimensional-data.md)  
  
  

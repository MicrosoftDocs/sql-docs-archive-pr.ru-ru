---
title: Настройка свойств отчетов для Power View отчетов | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 0ffc5f44-17d3-42d4-bc2c-baf3b4485e2d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 7776d9af8b2eb98533ac9ff2e7b1b8a760b92565
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87736839"
---
# <a name="configure-reporting-properties-for-power-view-reports"></a>Настройка свойств отчетов для отчетов Power View
  На этом дополнительном занятии мы рассмотрим задание свойств отчетов для проекта модели интернет-продаж Adventure Works. Свойства отчетов упрощают пользователям выбор и отображение данных модели в Power View. Можно также задать свойства, позволяющие скрывать некоторые столбцы и таблицы, а также создавать новые данные для использования в диаграммах.  
  
 По окончании этого занятия и повторного развертывания модели на экземпляре служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] в режиме интеграции с SharePoint и служб [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)]вы сможете создать источник данных, задать информацию о подключении к данным, запустить Power View и после этого создавать отчеты по модели.  
  
 На этом занятии не рассматривается создание и использование отчетов Power View. Его целью является предоставление авторам табличной модели обзора свойств и параметров, оказывающих влияние на внешний вид отчета в Power View. Дополнительные сведения о создании отчетов Power View см. в документе [Учебник. Создание образца отчета в Power View](https://go.microsoft.com/fwlink/?LinkId=221204).  
  
 Предполагаемое время выполнения этого занятия: **30 минут**  
  
## <a name="prerequisites"></a>Предварительные требования  
 Это дополнительное занятие является частью учебника по табличному моделированию, который необходимо изучать по порядку. Прежде чем выполнять задачи в этом дополнительном занятии, нужно завершить предыдущие занятия.  
  
 Для выполнения этого дополнительного занятия необходимо иметь следующее.  
  
-   Модель интернет-продаж Adventure Works (выполняемая в этом учебнике) готова к развертыванию или уже развернута на экземпляре служб Analysis Services, работающем в табличном режиме.  
  
-   Сайт SharePoint интегрирован со службами [!INCLUDE[ssASCurrent](../includes/ssascurrent-md.md)] в табличном режиме и службами [!INCLUDE[ssRSCurrent](../includes/ssrscurrent-md.md)], настроенными для поддержки отчетов Power View.  
  
-   Необходимо иметь достаточные разрешения для создания подключения к данным на сайте SharePoint, который указывает на модель интернет-продаж Adventure Works.  
  
## <a name="model-properties-that-affect-reporting"></a>Свойства модели, влияющие на отчеты  
 При создании табличной модели имеются некоторые свойства, которые можно задать для отдельных столбцов и таблиц для улучшения работы пользователей с отчетами в Power View. Кроме того, можно создать дополнительные данные отчета для поддержки представления и других функций, специфичных для клиента построения отчетов. В образце модели интернет-продаж Adventure Works имеются некоторые изменения, которые нужно внести.  
  
-   **Добавление новых данных** . Добавление новых данных в вычисляемый столбец с помощью формулы DAX создает сведения о датах в формате, который проще отображать на диаграммах.  
  
-   **Скрытие столбцов и таблиц, ненужных пользователю** . Столбец **Скрытый** управляет отображением столбцов и таблиц в клиенте отчетов. Скрытые элементы будут по-прежнему частью модели и доступны для запросов и вычислений.  
  
-   **Включение таблиц одним щелчком** . по умолчанию никакие действия не выполняются, если пользователь щелкает таблицу в списке полей. Для изменения этого поведения, чтобы щелчок таблицы добавлял эту таблицу в отчет, необходимо задать набор полей по умолчанию для каждого столбца, который требуется включить в таблицу. Это свойство имеет значение для столбцов таблицы, которые пользователи, скорее всего, будут использовать.  
  
-   **Задание группирования по мере необходимости** . Свойство **Сохраните уникальные строки** определяет, нужно ли группировать значения в столбце по другому полю, например по идентификатору. Для столбцов, содержащих повторяющиеся значения, такие как имена клиентов (например, нескольких клиентов зовут Александр Иванов), важно выполнить группирование (по уникальным строкам) по полю **Идентификатор строки** , чтобы представить пользователю правильный результат.  
  
-   **Задание типов и форматов данных** . По умолчанию Power View применяет правила исходя из типа данных столбца, чтобы определить, может ли поле использоваться в качестве меры. Так как каждая визуализация данных в Power View также может иметь правила, касающиеся того, где могут быть помещены меры и данные, отличные от мер, важно задать тип данных в модели либо переопределить значение по умолчанию, чтобы добиться результата, необходимого пользователю.  
  
-   **Задание свойства "Сортировать по столбцу** ". свойство " **Сортировать по столбцу** " указывает, должны ли значения в столбце сортироваться по значениям в другом поле. Например, столбец Month Calendar, содержащий название месяца, должен сортироваться по столбцу Month Number.  
  
## <a name="hide-tables-from-client-tools"></a>Скрыть таблицы от клиентских средств  
 Поскольку в таблице Product уже есть вычисляемый столбец Product Category и Product Subcategory, не нужно делать таблицы Product Category и Product Subcategory видимыми для клиентских приложений.  
  
#### <a name="to-hide-the-product-category-and-product-subcategory-tables"></a>Скрытие таблиц Product Category и Product Subcategory  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Product Category** правой кнопкой мыши и выберите пункт **Скрыть из набора клиентских средств**.  
  
2.  Щелкните таблицу (вкладку) **Product Subcategory** правой кнопкой мыши и выберите пункт **Скрыть из набора клиентских средств**.  
  
## <a name="create-new-data-for-charts"></a>Создание новых данных для диаграмм  
 Иногда бывает необходимо создавать в модели новые данные с помощью формул DAX. В данной задаче будет добавлено два новых вычисляемых столбца в таблице Date. Эти новые столбцы представляют поля даты в формате, удобном для использования в диаграммах.  
  
#### <a name="to-create-new-data-for-charts"></a>Создание новых данных для диаграмм  
  
1.  В таблице **Date** выполните прокрутку до правого края и щелкните **Добавить столбец**.  
  
2.  Добавляется 2 новых вычисляемых столбца со следующими формулами в строке формул.  
  
    |Имя столбца|Формула|  
    |-----------------|-------------|  
    |Квартал года|=[Calendar Year] & " Q" & [Calendar Quarter]|  
    |Year Month|=[Calendar Year] & FORMAT([Month],"#00")|  
  
## <a name="default-field-set"></a>Набор полей по умолчанию  
 Набор полей по умолчанию представляет собой стандартный список столбцов и мер для таблицы, которые автоматически добавляются на лист отчета Power View при выборе таблицы из списка полей отчета. В сущности можно задать столбцы по умолчанию, меры и упорядочение полей, которые пользователи увидят, когда эта таблица будет визуализирована в отчетах Power View.  Для модели интернет-продаж нужно определить набор полей по умолчанию и порядок для таблиц Customer, Geography и Product. Включаются только наиболее распространенные столбцы, которые нужны пользователям во время анализа интернет-продаж Adventure Works в отчетах Power View.  
  
 Дополнительные сведения о наборе полей по умолчанию см. в разделе [Настройка набора полей по умолчанию для отчетов Power View (табличные службы SSAS)](tabular-models/power-view-configure-default-field-set-for-reports.md) электронной документации по SQL Server.  
  
#### <a name="to-set-default-field-set-for-tables"></a>Задание набора полей по умолчанию для таблиц  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Заказчик** .  
  
2.  В окне **Свойства** в разделе **Свойства отчетов**для свойства **Набор полей по умолчанию** щелкните текст **Щелкните, чтобы изменить** , чтобы открыть диалоговое окно **Набор полей по умолчанию** .  
  
3.  В диалоговом окне в списке **Набор полей по умолчанию** в разделе **Поля в таблице** нажмите клавишу CTRL и выберите следующие поля, а затем нажмите **Добавить**.  
  
     **Birth Date**, **Customer Alternate Id**, **First Name**, **Last Name**.  
  
4.  В окне **Поля по умолчанию по порядку** с помощью кнопок перемещения вверх и вниз разместите элементы в следующем порядке.  
  
     **Customer Alternate Id**  
  
     **First Name**  
  
     **Фамилия**  
  
     **Дата рождения**.  
  
5.  Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Набор полей по умолчанию** для таблицы **Customer** .  
  
6.  Выполните те же шаги для таблицы **Geography** , выбрав следующие поля и разместив их в этом порядке.  
  
     **City**, **State Province Code**, **State Region Code**.  
  
7.  Наконец, выполните те же действия для таблицы **Product** , выбрав следующие поля и разместив их в том же порядке.  
  
     **Product Alternate Id**, **Product Name**.  
  
## <a name="table-behavior"></a>Поведение таблиц  
 Свойства поведения таблиц позволяют изменить поведение по умолчанию для различных типов представления и группирования таблиц, используемых в отчетах Power View. Это повышает эффективность размещения и идентификации — имена, изображения, заголовки в мозаике, макеты карт и диаграмм.  
  
 Подробные сведения о свойствах поведения таблиц см. в разделе [Настройка свойств работы таблицы для отчетов Power View (табличные службы SSAS)](tabular-models/power-view-configure-table-behavior-properties-for-reports.md).  
  
#### <a name="to-set-table-behavior-for-tables"></a>Задание поведения таблиц  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Заказчик** .  
  
2.  В окне **Свойства** для свойства **Поведение таблицы** щелкните текст **Щелкните, чтобы изменить**, чтобы открыть диалоговое окно **Поведение таблицы** .  
  
3.  В диалоговом окне **Поведение таблиц** в раскрывающемся списке **Идентификатор строки** выберите столбец **Customer Id** .  
  
4.  В списке **Сохранять уникальные строки** выберите **First Name** и **Last Name**.  
  
     Этот параметр указывает, есть ли у этого столбца значения, которые должны рассматриваться как уникальные, даже если они содержат повторяющиеся значения, например если несколько сотрудников имеют одно и то же имя.  
  
5.  В раскрывающемся списке **Метка по умолчанию** выберите столбец **Last Name** .  
  
     Этот параметр указывает, что столбец содержит отображаемое имя для представления данных в строке.  
  
6.  Повторите эти шаги для таблицы **Geography** , выбрав столбец **Geography Id** в качестве идентификатора строки, а столбец **City** в списке **Сохранить уникальные строки** . Нет необходимости задавать метку по умолчанию для этой таблицы.  
  
7.  Повторите эти шаги для таблицы **Product** , выбрав столбец **Product Id** в качестве идентификатора строки, а столбец **Product Name** в списке **Сохранить уникальные строки** . В поле **Метка по умолчанию**выберите **Product Alternate Id**.  
  
## <a name="reporting-properties-for-columns"></a>Свойства отчетов для столбцов  
 Можно задать несколько основных свойств столбца и отдельные свойства отчетов по столбцам для улучшения моделей отчетов. Например, пользователю может потребоваться возможность видеть все столбцы во всех таблицах. Как и ранее, в таблицах «Категория продуктов» и «Подкатегория продукта» с помощью скрытого свойства столбца, можно скрыть определенные столбцы из таблицы, которая в противном случае отображается. Другие свойства, например «Формат данных» и «Сортировать по столбцу», также влияют на отображение данных в отчетах. Зададим некоторые из этих столбцов. Другие столбцы не требуют никаких действий и не отображаются ниже.  
  
 Здесь необходимо задать только несколько отличающихся свойств, но существует еще и множество других. Дополнительные сведения о свойствах столбцов отчетов см. в разделе [Свойства столбца (табличные службы SSAS)](tabular-models/properties-ssas-tabular.md) электронной документации по SQL Server.  
  
#### <a name="to-set-properties-for-columns"></a>Задание свойств столбцов  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Заказчик** .  
  
2.  Щелкните столбец **Customer Id** , чтобы свойства столбца отобразились в окне **Свойства** .  
  
3.  В окне **Свойства** установите свойство **Скрытый** равным True. Столбец **Customer Id** становится выделенным серым цветом в конструкторе моделей.  
  
4.  Повторите эти действия, задав следующий столбец и свойства для каждой указанной таблицы. Оставьте все остальные свойства в параметрах по умолчанию.  
  
     **Customer**  
  
    |Столбец|Свойство|Значение|  
    |------------|--------------|-----------|  
    |Geography Id|Скрытый|Верно|  
    |Birth Date|Формат данных|Short Date|  
  
     **Дата**  
  
    > [!NOTE]  
    >  Поскольку таблица Date была выбрана в модели в качестве таблицы дат с помощью параметра «Пометить как таблицу дат» на занятии 7, применяется параметр «Пометить как таблицу дат», столбец Date в таблице Date используется как уникальный идентификатор, а свойство «Идентификатор строки» для столбца Date автоматически устанавливается равным True и не может быть изменено. При использовании функций операций со временем в формулах DAX необходимо указание таблицы дат. В этой модели можно создать несколько мер с помощью функции логики операций со временем, подсчитывать продажи за различные периоды, например предыдущий и текущий кварталы, а также использовать ключевые показатели эффективности (KPI). Дополнительные сведения об определении таблицы дат см. в разделе [Указание таблицы дат для использования с логикой операций со временем (табличные службы SSAS)](tabular-models/specify-mark-as-date-table-for-use-with-time-intelligence-ssas-tabular.md) электронной документации по SQL Server.  
  
    |Столбец|Свойство|Значение|  
    |------------|--------------|-----------|  
    |Дата|Формат данных|Short Date|  
    |Номер дня недели|Скрытый|Верно|  
    |День недели|Сортировать по столбцу|Номер дня недели|  
    |День недели|Скрытый|Верно|  
    |День месяца|Скрытый|Верно|  
    |День года|Скрытый|Верно|  
    |Название месяца|Сортировать по столбцу|Месяц|  
    |Месяц|Скрытый|Верно|  
    |Месячный календарь|Скрытый|Верно|  
    |Финансовый квартал|Скрытый|Верно|  
    |Финансовый год|Скрытый|Верно|  
    |Финансовый семестр|Скрытый|Верно|  
  
     **География**  
  
    |Столбец|Свойство|Значение|  
    |------------|--------------|-----------|  
    |Geography Id|Скрытый|Верно|  
    |Идентификатор территории продаж|Скрытый|Верно|  
  
     **Продукт**  
  
    |Столбец|Свойство|Значение|  
    |------------|--------------|-----------|  
    |Product Id|Скрытый|Верно|  
    |Product Alternate Id|Метка по умолчанию|Верно|  
    |Идентификатор подкатегории продукта|Скрытый|Верно|  
    |Дата начала жизненного цикла продукта (Дата начала периода расчета стоимости продукта )|Формат данных|Short Date|  
    |Дата окончания жизненного цикла продукта (Дата окончания периода расчета стоимости продукта)|Формат данных|Short Date|  
    |Большое изображение|Скрытый|Верно|  
  
     **Internet Sales**  
  
    |Столбец|Свойство|Значение|  
    |------------|--------------|-----------|  
    |Product Id|Скрытый|Верно|  
    |Customer Id|Скрытый|Верно|  
    |Идентификатор продвижения|Скрытый|Верно|  
    |Идентификатор валюты|Скрытый|Верно|  
    |Идентификатор территории продаж|Скрытый|Верно|  
    |Заказанное количество|Тип данных<br /><br /> Формат данных<br /><br /> Число десятичных знаков|Десятичное число<br /><br /> Десятичное число<br /><br /> 0|  
    |Дата заказа|Тип данных|Short Date|  
    |Срок заказа|Тип данных|Short Date|  
    |Дата отгрузки|Тип данных|Short Date|  
  
## <a name="redeploy-the-adventure-works-internet-sales-tabular-model"></a>Повторное развертывание табличной модели интернет-продаж Adventure Works  
 Поскольку модель была изменена, необходимо развернуть ее повторно. Повторите задачи, которые выполнялись в разделе [Занятие 14. Развертывание](lesson-13-deploy.md).  
  
#### <a name="to-redeploy-the-adventure-works-internet-sales-tabular-model"></a>Повторное развертывание табличной модели интернет-продаж Adventure Works  
  
-   В среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]выберите в меню **Построение** команду **Развернуть табличную модель интернет-продаж Adventure Works**.  
  
     Откроется диалоговое окно **развертывание** , в котором отображается состояние развертывания метаданных, а также каждая таблица, входящая в модель.  
  
## <a name="next-steps"></a>Next Steps  
 После этого можно использовать Power View для визуализации данных модели. Убедитесь, что учетная запись служб Analysis Services и Reporting Services на сайте SharePoint имеет разрешения на экземпляре служб Analysis Services, на котором будет развернута модель.  
  
 Инструкции по созданию источника данных отчета служб Reporting Services, который указывает на модель, см. в разделе [Тип соединения табличной модели (служб SSRS)](https://msdn.microsoft.com/library/hh270317%28v=SQL.110%29.aspx).  
  
  

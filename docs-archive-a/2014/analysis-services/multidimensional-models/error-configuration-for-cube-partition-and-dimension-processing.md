---
title: Конфигурация ошибок при обработке кубов, секций и измерений (службы SSAS — многомерные) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.sqlserverstudio.cubeproperties.errorconfiguration.f1
- sql12.asvs.sqlserverstudio.dimensionproperties.errorconfiguration.f1
- sql12.asvs.sqlserverstudio.partitionproperties.errorconfiguration.f1
ms.assetid: 3f442645-790d-4dc8-b60a-709c98022aae
author: minewiskan
ms.author: owend
ms.openlocfilehash: 76202281ff6bff23bc2f2abcfd857a6f2102d667
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669129"
---
# <a name="error-configuration-for-cube-partition-and-dimension-processing-ssas---multidimensional"></a><span data-ttu-id="2a0fe-102">Конфигурация ошибок при обработке кубов, секций и измерений (службы SSAS — многомерные данные)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-102">Error Configuration for Cube, Partition, and Dimension Processing (SSAS - Multidimensional)</span></span>
  <span data-ttu-id="2a0fe-103">Свойства конфигурации ошибок для кубов, секций и объектов измерения определяют реакцию сервера на возникновение ошибок целостности данных во время обработки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-103">Error configuration properties on cube, partition, or dimension objects determine how the server responds when data integrity errors occur during processing.</span></span> <span data-ttu-id="2a0fe-104">Обычно такие ошибки вызваны повторяющимися или отсутствующими ключами и значения NULL в ключевом столбце. Хоть запись с ошибкой и не будет добавлена в базу данных, можно задать свойства, которые определят дальнейшую реакцию на ошибку.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-104">Duplicate keys, missing keys, and null values in a key column typically trigger such errors, and while the record causing the error will not be added to the database, you can set properties that determine what happens next.</span></span> <span data-ttu-id="2a0fe-105">По умолчанию обработка останавливается.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-105">By default, processing stops.</span></span> <span data-ttu-id="2a0fe-106">Однако во время разработки куба желательно продолжить обработку при возникновении ошибки для тестирования поведения куба с импортированным данными, даже если они не будут полными.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-106">However, during cube development, you might want processing to continue when errors occur so that you can test cube behaviors with imported data, even if it is incomplete.</span></span>  
  
 <span data-ttu-id="2a0fe-107">Этот раздел включает следующие подразделы:</span><span class="sxs-lookup"><span data-stu-id="2a0fe-107">This topic includes the following sections:</span></span>  
  
-   [<span data-ttu-id="2a0fe-108">Порядок выполнения</span><span class="sxs-lookup"><span data-stu-id="2a0fe-108">Execution order</span></span>](#bkmk_exec)  
  
-   [<span data-ttu-id="2a0fe-109">Поведение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="2a0fe-109">Default behaviors</span></span>](#bkmk_default)  
  
-   [<span data-ttu-id="2a0fe-110">Свойства конфигурации ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-110">Error Configuration Properties</span></span>](#bkmk_props)  
  
-   [<span data-ttu-id="2a0fe-111">Место установки свойств конфигурации ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-111">Where to set Error Configuration properties</span></span>](#bkmk_tools)  
  
-   [<span data-ttu-id="2a0fe-112">Отсутствующие ключи (KeyNotFound)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-112">Missing keys (KeyNotFound)</span></span>](#bkmk_missing)  
  
-   [<span data-ttu-id="2a0fe-113">Внешние ключи NULL в таблице фактов (KeyNotFound)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-113">Null foreign keys in a fact table (KeyNotFound)</span></span>](#bkmk_nullfact)  
  
-   [<span data-ttu-id="2a0fe-114">Ключи NULL в измерении</span><span class="sxs-lookup"><span data-stu-id="2a0fe-114">Null keys in a dimension</span></span>](#bkmk_nulldim)  
  
-   [<span data-ttu-id="2a0fe-115">Дублированные ключи, приводящие к неоднородным связям (KeyDuplicate)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-115">Duplicate keys resulting inconsistent relationships (KeyDuplicate)</span></span>](#bkmk_dupe)  
  
-   [<span data-ttu-id="2a0fe-116">Изменение предельного числа ошибок или ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-116">Change the error limit or error limit action</span></span>](#bkmk_limit)  
  
-   [<span data-ttu-id="2a0fe-117">Указание пути к журналу ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-117">Set the error log path</span></span>](#bkmk_log)  
  
-   [<span data-ttu-id="2a0fe-118">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="2a0fe-118">Next step</span></span>](#bkmk_next)  
  
##  <a name="execution-order"></a><a name="bkmk_exec"></a><span data-ttu-id="2a0fe-119">Порядок выполнения</span><span class="sxs-lookup"><span data-stu-id="2a0fe-119">Execution order</span></span>  
 <span data-ttu-id="2a0fe-120">Сервер для каждой записи всегда выполняет правила `NullProcessing` до правил `ErrorConfiguration`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-120">The server always executes `NullProcessing` rules before `ErrorConfiguration` rules for each record.</span></span> <span data-ttu-id="2a0fe-121">Это важно учитывать, потому что свойства обработки значения NULL, преобразующие NULL в нуль, могут впоследствии ввести ошибки повторяющихся ключей, когда две или более записи с ошибками будут иметь нуль в ключевом столбце.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-121">This is important to understand because null processing properties that convert nulls to zeroes can subsequently introduce duplicate key errors when two or more error records have zero in a key column.</span></span>  
  
##  <a name="default-behaviors"></a><a name="bkmk_default"></a><span data-ttu-id="2a0fe-122">Поведение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="2a0fe-122">Default behaviors</span></span>  
 <span data-ttu-id="2a0fe-123">По умолчанию обработка останавливается при обнаружении первой ошибки в каком-либо ключевом столбце.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-123">By default, processing stops at the first error implicating a key column.</span></span> <span data-ttu-id="2a0fe-124">Это поведение контролируется значением предельного количества ошибок, которое определяет нуль в качестве дозволенного количества ошибок и директиву «Остановить обработку», предписывающую серверу остановить обработку при достижении предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-124">This behavior is controlled by an error limit that specifies zero as the number of allowed errors and the Stop Processing directive that tells the server to stop processing when the error limit is reached.</span></span>  
  
 <span data-ttu-id="2a0fe-125">Записи, ведущие к ошибкам из-за наличия NULL и повторяющихся или отсутствующих значений, преобразуются в неизвестный элемент или отбрасываются.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-125">Records triggering an error, due to null or missing or duplicate values, are either converted to the unknown member or discarded.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="2a0fe-126">не импортирует данные, которые нарушают ограничения целостности данных.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-126">will not import data that violates data integrity constraints.</span></span>  
  
-   <span data-ttu-id="2a0fe-127">Преобразование в неизвестный элемент производится по умолчанию. Это происходит из-за параметра `ConvertToUnknown` для `KeyErrorAction`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-127">Conversion to unknown member occurs by default, due to the `ConvertToUnknown` setting for `KeyErrorAction`.</span></span> <span data-ttu-id="2a0fe-128">Записи, приписанные неизвестному элементу, помещаются в «карантин» базы данных в качестве свидетельства проблемы, которая впоследствии может быть исследована разработчиком после завершения обработки данных.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-128">Records allocated to unknown member are quarantined in the database as evidence of a problem that you might want to investigate after processing is finished.</span></span>  
  
     <span data-ttu-id="2a0fe-129">Неизвестные элементы исключаются из рабочих нагрузок запросов, но они будут отображаться в некоторых клиентских приложениях, если `UnknownMember` для параметра задано значение **Visible**.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-129">Unknown members are excluded from query workloads, but they will be visible in some client applications if the `UnknownMember` is set to **Visible**.</span></span>  
  
     <span data-ttu-id="2a0fe-130">Если нужно отслеживать, сколько значений NULL было преобразовано в неизвестный элемент, можно изменить свойство `NullKeyConvertedToUnknown` так, чтобы эти ошибки отмечались в журнале или в окне «Обработка».</span><span class="sxs-lookup"><span data-stu-id="2a0fe-130">If you want to track how many nulls were converted to the unknown member, you can modify the `NullKeyConvertedToUnknown` property to report these errors to the log or in the Processing window.</span></span>  
  
-   <span data-ttu-id="2a0fe-131">Записи будут отбрасываться, если вручную установить для свойства `KeyErrorAction` значение `DiscardRecord`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-131">Discard occurs when you manually set the `KeyErrorAction` property to `DiscardRecord`.</span></span>  
  
 <span data-ttu-id="2a0fe-132">С помощью свойств конфигурации ошибок можно определить, как сервер будет реагировать на возникновение ошибки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-132">Through error configuration properties, you can determine how the server responds when an error occurs.</span></span> <span data-ttu-id="2a0fe-133">Среди возможных вариантов: немедленная остановка обработки, продолжить обработку, но прервать ведение журнала или же продолжить обработку и ведение журнала ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-133">Options include stop processing immediately, continue processing but stop logging, or continue both processing and logging of errors.</span></span> <span data-ttu-id="2a0fe-134">Поведение по умолчанию зависит от серьезности ошибки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-134">Defaults vary based on the severity of the error.</span></span>  
  
 <span data-ttu-id="2a0fe-135">Подсчет ошибок отслеживает количество возникающих ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-135">The error count keeps track of how many errors occur.</span></span> <span data-ttu-id="2a0fe-136">Если установлен верхний предел, ответ сервера меняется при достижении этого предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-136">When you set an upper limit, server response changes when that limit is reached.</span></span> <span data-ttu-id="2a0fe-137">По умолчанию сервер останавливает обработку после достижения предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-137">By default, the server stops processing after the limit is reached.</span></span> <span data-ttu-id="2a0fe-138">По умолчанию предел равен 0, что приводит к остановке обработки при учете первой же ошибки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-138">The default limit is 0, causing processing to stop on the first error that is counted.</span></span>  
  
 <span data-ttu-id="2a0fe-139">Важные ошибки, такие как отсутствующий ключ или значение NULL в поле ключа, должны быть быстро устранены.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-139">High impact errors, such as a missing key or null value in a key field, should be addressed quickly.</span></span> <span data-ttu-id="2a0fe-140">По умолчанию эти ошибки подпадают под действие поведения сервера `ReportAndContinue` — сервер ловит ошибку, увеличивает подсчет ошибок и затем продолжает обработку (если только не задано нулевое предельное количество ошибок, тогда обработка прерывается сразу же).</span><span class="sxs-lookup"><span data-stu-id="2a0fe-140">By default, these errors adhere to `ReportAndContinue` server behaviors, where the server catches the error, adds it to the error count, and then continues processing (except the error limit is zero, so processing stops immediately).</span></span>  
  
 <span data-ttu-id="2a0fe-141">По умолчанию другие ошибки создаются, но не учитываются и не заносятся в журнал (это параметр `IgnoreError`), поскольку не обязательно нарушают целостность данных.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-141">Other errors are generated but not counted or logged by default (this is the `IgnoreError` setting) because the error does not necessarily pose a data integrity problem.</span></span>  
  
 <span data-ttu-id="2a0fe-142">На подсчеты количества ошибок влияют параметры обработки значений NULL.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-142">Error counts are affected by null processing settings.</span></span> <span data-ttu-id="2a0fe-143">Для атрибутов измерения эти параметры определяют реакцию сервера при обнаружении значений NULL.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-143">For dimension attributes, null processing options determine how the server responds when null values are encountered.</span></span> <span data-ttu-id="2a0fe-144">По умолчанию значения NULL в числовом столбце преобразуются в нули, а NULL в строковом столбце — в пустые строки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-144">By default, nulls in a numeric column are converted to zeroes, while nulls in a string column are processed as blank strings.</span></span> <span data-ttu-id="2a0fe-145">Свойства `NullProcessing` можно переопределить на отлов значений NULL до возникновения ошибок `KeyNotFound` и `KeyDuplicate`, связанных с ними.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-145">You can override `NullProcessing` properties to catch null values before they turn into `KeyNotFound` or `KeyDuplicate` errors.</span></span> <span data-ttu-id="2a0fe-146">Дополнительные сведения см. в разделе [Ключи NULL в измерении](#bkmk_nulldim) .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-146">See [Null keys in a dimension](#bkmk_nulldim) for details.</span></span>  
  
 <span data-ttu-id="2a0fe-147">Ошибки регистрируются в диалоговом окне «Обработка», но не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-147">Errors are logged in the Process dialog box but not saved.</span></span> <span data-ttu-id="2a0fe-148">Можно указать имя файла журнала ошибок ключа для сбора ошибок в текстовом файле.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-148">You can specify a key error log file name to collect errors in a text file.</span></span>  
  
##  <a name="error-configuration-properties"></a><a name="bkmk_props"></a><span data-ttu-id="2a0fe-149">Свойства конфигурации ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-149">Error Configuration Properties</span></span>  
 <span data-ttu-id="2a0fe-150">Есть девять свойств конфигурации ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-150">There are nine error configuration properties.</span></span> <span data-ttu-id="2a0fe-151">Пять из них определяют реакцию сервера на определенную ошибку.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-151">Five are used to determine server response when a specific error occurs.</span></span> <span data-ttu-id="2a0fe-152">Другие четыре свойства относятся к рабочим нагрузкам конфигурации ошибок и определяют разрешенное количество ошибок, действия при достижении предела и возможность сбора ошибок в файле журнала.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-152">The other four are scoped to error configuration workloads, such as how many errors to allow, what to do when that limit is reached, whether to collect errors in a log file.</span></span>  
  
 <span data-ttu-id="2a0fe-153">**Реакция сервера на определенные ошибки**</span><span class="sxs-lookup"><span data-stu-id="2a0fe-153">**Server response to specific errors**</span></span>  
  
|<span data-ttu-id="2a0fe-154">Свойство</span><span class="sxs-lookup"><span data-stu-id="2a0fe-154">Property</span></span>|<span data-ttu-id="2a0fe-155">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="2a0fe-155">Default</span></span>|<span data-ttu-id="2a0fe-156">Другие значения</span><span class="sxs-lookup"><span data-stu-id="2a0fe-156">Other Values</span></span>|  
|--------------|-------------|------------------|  
|`CalculationError`<br /><br /> <span data-ttu-id="2a0fe-157">Происходит при инициализации конфигурации ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-157">Occurs when initializing error configuration.</span></span>|<span data-ttu-id="2a0fe-158">`IgnoreError` не подсчитывает ошибки и не заносит их в журнал; обработка продолжается, пока количество ошибок меньше максимального предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-158">`IgnoreError` neither logs nor counts the error; processing continues as long as the error count is under the maximum limit.</span></span>|<span data-ttu-id="2a0fe-159">`ReportAndContinue` фиксирует ошибки в журнале и ведет их подсчет.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-159">`ReportAndContinue` logs and counts the error.</span></span><br /><br /> <span data-ttu-id="2a0fe-160">`ReportAndStop` сообщает об ошибке и сразу же прекращает обработку вне зависимости от значения предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-160">`ReportAndStop` reports the error and stops processing immediately, regardless of the error limit.</span></span>|  
|`KeyNotFound`<br /><br /> <span data-ttu-id="2a0fe-161">Возникает, когда для внешнего ключа в таблице фактов отсутствует совпадающий первичный ключ в связанной таблице измерения (например, таблица фактов Sales имеет запись с кодом продукта, которого нет в таблице измерения Product).</span><span class="sxs-lookup"><span data-stu-id="2a0fe-161">Occurs when a foreign key in a fact table does not have a matching primary key in a related dimension table (for example, a Sales fact table has a record with a product ID that doesn't exist in the Product dimension table).</span></span> <span data-ttu-id="2a0fe-162">Эта ошибка может произойти во время обработки секций или измерений, связанных по схеме «снежинка».</span><span class="sxs-lookup"><span data-stu-id="2a0fe-162">This error can occur during partition processing, or dimension processing of snowflaked dimensions.</span></span>|<span data-ttu-id="2a0fe-163">`ReportAndContinue` фиксирует ошибки в журнале и ведет их подсчет.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-163">`ReportAndContinue` logs and counts the error.</span></span>|<span data-ttu-id="2a0fe-164">`ReportAndStop` сообщает об ошибке и сразу же прекращает обработку вне зависимости от значения предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-164">`ReportAndStop` reports the error and stops processing immediately, regardless of the error limit.</span></span><br /><br /> <span data-ttu-id="2a0fe-165">`IgnoreError` не подсчитывает ошибки и не заносит их в журнал; обработка продолжается, пока количество ошибок меньше максимального предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-165">`IgnoreError` neither logs nor counts the error; processing continues as long as the error count is under the maximum limit.</span></span> <span data-ttu-id="2a0fe-166">По умолчанию записи, ведущие к этой ошибке, преобразуются в неизвестный элемент. Однако можно изменить свойство `KeyErrorAction`, тогда такие записи будут отбрасываться.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-166">Records that trigger this error are converted to the unknown member by default, but you can change the `KeyErrorAction` property to discard them instead.</span></span>|  
|`KeyDuplicate`<br /><br /> <span data-ttu-id="2a0fe-167">Возникает при обнаружении в измерении повторяющихся ключей атрибутов.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-167">Occurs when duplicate attribute keys are found in a dimension.</span></span> <span data-ttu-id="2a0fe-168">В большинстве случаев допустимо иметь повторяющиеся ключи атрибутов. Эта ошибка сообщает о повторах, чтобы разработчик мог проверить измерение на изъяны проектирования, которые приводят к возникновению несогласованных связей между атрибутами.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-168">In most cases, it is acceptable to have duplicate attribute keys, but this error informs you of the duplicates so that you can check the dimension for design flaws that might lead to inconsistent relationships between attributes.</span></span>|<span data-ttu-id="2a0fe-169">`IgnoreError` не подсчитывает ошибки и не заносит их в журнал; обработка продолжается, пока количество ошибок меньше максимального предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-169">`IgnoreError` neither logs nor counts the error; processing continues as long as the error count is under the maximum limit.</span></span>|<span data-ttu-id="2a0fe-170">`ReportAndContinue` фиксирует ошибки в журнале и ведет их подсчет.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-170">`ReportAndContinue` logs and counts the error.</span></span><br /><br /> <span data-ttu-id="2a0fe-171">`ReportAndStop` сообщает об ошибке и сразу же прекращает обработку вне зависимости от значения предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-171">`ReportAndStop` reports the error and stops processing immediately, regardless of the error limit.</span></span>|  
|`NullKeyNotAllowed`<br /><br /> <span data-ttu-id="2a0fe-172">Происходит `NullProcessing`  =  `Error` , когда задается для атрибута измерения или если в ключевом столбце атрибута имеются значения NULL, используемые для уникальной идентификации элемента.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-172">Occurs when `NullProcessing` = `Error` is set on a dimension attribute or when null values exists in an attribute key column used to uniquely identify a member.</span></span>|<span data-ttu-id="2a0fe-173">`ReportAndContinue` фиксирует ошибки в журнале и ведет их подсчет.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-173">`ReportAndContinue` logs and counts the error.</span></span>|<span data-ttu-id="2a0fe-174">`ReportAndStop` сообщает об ошибке и сразу же прекращает обработку вне зависимости от значения предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-174">`ReportAndStop` reports the error and stops processing immediately, regardless of the error limit.</span></span><br /><br /> <span data-ttu-id="2a0fe-175">`IgnoreError` не подсчитывает ошибки и не заносит их в журнал; обработка продолжается, пока количество ошибок меньше максимального предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-175">`IgnoreError` neither logs nor counts the error; processing continues as long as the error count is under the maximum limit.</span></span> <span data-ttu-id="2a0fe-176">По умолчанию записи, ведущие к этой ошибке, преобразуются в неизвестный элемент. Однако можно указать свойство `KeyErrorAction`, тогда такие записи будут отбрасываться.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-176">Records that trigger this error are converted to the unknown member by default, but you can set the `KeyErrorAction` property to discard them instead.</span></span>|  
|`NullKeyConvertedToUnknown`<br /><br /> <span data-ttu-id="2a0fe-177">Возникает, когда значения NULL впоследствии преобразуются в неизвестный элемент.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-177">Occurs when null values are subsequently converted to the unknown member.</span></span> <span data-ttu-id="2a0fe-178">`NullProcessing`  =  `ConvertToUnknown` При настройке атрибута измерения эта ошибка будет вызвана.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-178">Setting `NullProcessing` = `ConvertToUnknown` on a dimension attribute will trigger this error.</span></span>|<span data-ttu-id="2a0fe-179">`IgnoreError` не подсчитывает ошибки и не заносит их в журнал; обработка продолжается, пока количество ошибок меньше максимального предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-179">`IgnoreError` neither logs nor counts the error; processing continues as long as the error count is under the maximum limit.</span></span>|<span data-ttu-id="2a0fe-180">Если вы рассматриваете эту ошибку как информационное предупреждение, оставьте значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-180">If you consider this error to be informational, keep the default.</span></span> <span data-ttu-id="2a0fe-181">В ином случае можно выбрать `ReportAndContinue`, чтобы ошибка отмечалась в окне «Обработка» и учитывалась при подсчете предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-181">Otherwise, you can choose `ReportAndContinue` to report the error to the Processing window and count the error towards the error limit.</span></span><br /><br /> <span data-ttu-id="2a0fe-182">`ReportAndStop` сообщает об ошибке и сразу же прекращает обработку вне зависимости от значения предельного количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-182">`ReportAndStop` reports the error and stops processing immediately, regardless of the error limit.</span></span>|  
  
 <span data-ttu-id="2a0fe-183">**Общие свойства**</span><span class="sxs-lookup"><span data-stu-id="2a0fe-183">**General Properties**</span></span>  
  
|<span data-ttu-id="2a0fe-184">**Свойство**</span><span class="sxs-lookup"><span data-stu-id="2a0fe-184">**Property**</span></span>|<span data-ttu-id="2a0fe-185">**Значения**</span><span class="sxs-lookup"><span data-stu-id="2a0fe-185">**Values**</span></span>|  
|------------------|----------------|  
|`KeyErrorAction`|<span data-ttu-id="2a0fe-186">Это действие, выполняемое сервером при возникновении ошибки `KeyNotFound`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-186">This is the action taken by the server when a `KeyNotFound` error occurs.</span></span> <span data-ttu-id="2a0fe-187">Допустимая реакция на эту ошибку: `ConvertToUnknown` или `DiscardRecord`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-187">Valid responses to this error include `ConvertToUnknown` or `DiscardRecord`.</span></span>|  
|`KeyErrorLogFile`|<span data-ttu-id="2a0fe-188">Это определяемое пользователем имя файла должно иметь расширение LOG и находиться в папке, для которой учетная запись службы имеет разрешения на чтение и запись.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-188">This is a user-defined filename that must have a .log file extension, located in a folder on which the service account has read-write permissions.</span></span> <span data-ttu-id="2a0fe-189">Файл журнала будет содержать только ошибки, возникшие во время обработки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-189">This log file will only contain errors generated during processing.</span></span> <span data-ttu-id="2a0fe-190">Для сбора более подробной информации воспользуйтесь средством «черный ящик».</span><span class="sxs-lookup"><span data-stu-id="2a0fe-190">Use the Flight Recorder if you require more detailed information.</span></span>|  
|`KeyErrorLimit`|<span data-ttu-id="2a0fe-191">Максимальное число ошибок целостности данных, допустимых для сервера, прежде чем он остановит обработку.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-191">This is the maximum number of data integrity errors that the server will allow before failing the processing.</span></span> <span data-ttu-id="2a0fe-192">Значение -1 указывает, что предел не установлен.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-192">A value of -1 indicates that there is no limit.</span></span> <span data-ttu-id="2a0fe-193">Значение по умолчанию — 0, т. е. обработка останавливается при первой ошибке.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-193">The default is 0, which means processing stops after the first error occurs.</span></span> <span data-ttu-id="2a0fe-194">Также можно задать целое число.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-194">You can also set it to a whole number.</span></span>|  
|`KeyErrorLimitAction`|<span data-ttu-id="2a0fe-195">Это действие, выполняемое сервером, при достижении количества ключевых ошибок верхнего предела.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-195">This is the action taken by the server when the number of key errors has reached the upper limit.</span></span> <span data-ttu-id="2a0fe-196">Действие **Остановить обработку**сразу же завершает операцию обработки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-196">With **Stop Processing**, processing terminates immediately.</span></span> <span data-ttu-id="2a0fe-197">С действием **Остановить ведение журнала**обработка продолжается, но ошибки больше не учитываются и не отмечаются в журнале.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-197">With **Stop Logging**, processing continues but errors are no longer reported or counted.</span></span>|  
  
##  <a name="where-to-set-error-configuration-properties"></a><a name="bkmk_tools"></a> <span data-ttu-id="2a0fe-198">Место установки свойств конфигурации ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-198">Where to set Error Configuration properties</span></span>  
 <span data-ttu-id="2a0fe-199">Используйте страницы свойств в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] после развертывания базы данных или в проекте модели в [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a0fe-199">Use the property pages in either [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] after the database is deployed, or in the model project in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="2a0fe-200">Одинаковый набор свойств есть в обеих средах.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-200">The same properties are found in both tools.</span></span> <span data-ttu-id="2a0fe-201">Чтобы изменить значения по умолчанию, свойства конфигурации ошибок можно задать в файле msmdrsrv.ini либо сделать это с помощью команд `Batch` и `Process`, если обработка выполняется как скрипт.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-201">You can also set error configuration properties in the msmdrsrv.ini file to change server defaults for error configuration, and in `Batch` and `Process` commands if processing runs as a scripted operation.</span></span>  
  
 <span data-ttu-id="2a0fe-202">Конфигурацию ошибок можно задать для любого объекта, который может быть обработан в отдельной операции.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-202">You can set error configuration on any object that can be processed as a standalone operation.</span></span>  
  
#### <a name="sql-server-management-studio"></a><span data-ttu-id="2a0fe-203">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2a0fe-203">SQL Server Management Studio</span></span>  
  
1.  <span data-ttu-id="2a0fe-204">В обозревателе объектов щелкните правой кнопкой мыши элемент **Свойства** для одного из следующих объектов: измерение, куб или секция.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-204">In Object Explorer, rick-click **Properties** one of these objects: dimension, cube, or partition.</span></span>  
  
2.  <span data-ttu-id="2a0fe-205">В окне свойств щелкните по вкладке **Конфигурация ошибок**.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-205">In Properties, click **Error Configuration**.</span></span>  
  
#### <a name="sql-server-data-tools"></a><span data-ttu-id="2a0fe-206">SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="2a0fe-206">SQL Server Data Tools</span></span>  
  
1.  <span data-ttu-id="2a0fe-207">Дважды щелкните по измерению или кубу в обозревателе решений.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-207">In Solution Explorer, double-click a dimension or cube.</span></span> <span data-ttu-id="2a0fe-208">`ErrorConfiguration`отображается в свойствах на панели ниже.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-208">`ErrorConfiguration` appears in Properties in the pane below.</span></span>  
  
2.  <span data-ttu-id="2a0fe-209">Кроме того, только для одного измерения щелкните правой кнопкой мыши измерение в обозреватель решений, выберите `Process` , а затем выберите **изменить параметры** в диалоговом окне Обработка измерения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-209">Alternatively, for a single dimension only, right-click the dimension in Solution Explorer, choose `Process`, and then choose **Change Settings** in the Process Dimension dialog box.</span></span> <span data-ttu-id="2a0fe-210">Параметры конфигурации ошибок появятся на вкладке «Ошибки ключей измерения».</span><span class="sxs-lookup"><span data-stu-id="2a0fe-210">Error configuration options appear on the Dimension Key Errors tab.</span></span>  
  
##  <a name="missing-keys-keynotfound"></a><a name="bkmk_missing"></a><span data-ttu-id="2a0fe-211">Отсутствующие ключи (KeyNotFound)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-211">Missing keys (KeyNotFound)</span></span>  
 <span data-ttu-id="2a0fe-212">Записи с отсутствующим значением ключа не могут быть добавлены в базу данных, даже когда ошибки пропускаются или не задано предельное количество ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-212">Records with a missing key value cannot be added to the database, not even when errors are ignored or the error limit is unlimited.</span></span>  
  
 <span data-ttu-id="2a0fe-213">Сервер формирует ошибку `KeyNotFound` во время обработки секции, когда запись в таблице фактов содержит значение внешнего ключа, но внешний ключ не имеет соответствующей записи в связанной таблице измерения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-213">The server produces the `KeyNotFound` error during partition processing, when a table in fact record contains a foreign key value, but the foreign key has no corresponding record in a related dimension table.</span></span> <span data-ttu-id="2a0fe-214">Эта ошибка также происходит при обработке связанных или собранных по схеме «снежинка» таблиц измерений, когда запись в одном измерении указывает внешний ключ, который отсутствует в связанном измерении.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-214">This error also occurs when processing related or snowflaked dimension tables, where a record in one dimension specifies a foreign key that doesn't exist in the related dimension.</span></span>  
  
 <span data-ttu-id="2a0fe-215">Когда возникает ошибка `KeyNotFound`, запись, послужившая причиной, назначается неизвестному элементу.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-215">When a `KeyNotFound` error occurs, the offending record is allocated to the unknown member.</span></span> <span data-ttu-id="2a0fe-216">Это поведение контролируется с помощью **действия ключа**и устанавливается в значение `ConvertToUnknown` , чтобы можно было просматривать выделенные записи для дальнейшего изучения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-216">This behavior is controlled through the **Key Action**, set to `ConvertToUnknown`, so that you can view the allocated records for further investigation.</span></span>  
  
##  <a name="null-foreign-keys-in-a-fact-table-keynotfound"></a><a name="bkmk_nullfact"></a> <span data-ttu-id="2a0fe-217">Внешние ключи NULL в таблице фактов (KeyNotFound)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-217">Null foreign keys in a fact table (KeyNotFound)</span></span>  
 <span data-ttu-id="2a0fe-218">По умолчанию значение NULL в столбце внешнего ключа фактической таблицы преобразуется в нуль.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-218">By default, a null value in a foreign key column of a fact table is converted to zero.</span></span> <span data-ttu-id="2a0fe-219">С учетом того, что нуль не является допустимым значением внешнего ключа, ошибка `KeyNotFound` будет учтена и подсчитана для предельного количества ошибок, которое по умолчанию равно нулю.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-219">Assuming zero is not a valid foreign key value, the `KeyNotFound` error will be logged and counted towards the error limit that is zero by default.</span></span>  
  
 <span data-ttu-id="2a0fe-220">Чтобы разрешить продолжение обработки, можно оперировать значением NULL до его преобразования и проверки на ошибки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-220">To allow processing to continue, you can handle the null before it is converted and checked for errors.</span></span> <span data-ttu-id="2a0fe-221">Для этого задайте для значение `NullProcessing` `Error` .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-221">To do this, set `NullProcessing` to `Error`.</span></span>  
  
#### <a name="set-nullprocessing-property-on-a-measure"></a><span data-ttu-id="2a0fe-222">Установка свойства NullProcessing для меры</span><span class="sxs-lookup"><span data-stu-id="2a0fe-222">Set NullProcessing property on a measure</span></span>  
  
1.  <span data-ttu-id="2a0fe-223">В обозревателе решений среды SQL Server Data Tools дважды щелкните по кубу, чтобы открыть его в конструкторе кубов.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-223">In SQL Server Data Tools, in Solution Explorer, double-click the cube to open it in Cube Designer.</span></span>  
  
2.  <span data-ttu-id="2a0fe-224">На панели мер щелкните нужную меру правой кнопкой мыши и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-224">Right-click a measure in the Measures pane and choose **Properties**.</span></span>  
  
3.  <span data-ttu-id="2a0fe-225">В окне Свойства разверните узел **источник** , чтобы просмотреть `NullProcessing` свойство.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-225">In Properties, expand **Source** to view `NullProcessing` property.</span></span> <span data-ttu-id="2a0fe-226">По умолчанию свойству задано значение **Автоматическая** , что для элементов OLAP преобразует значения NULL в полях с числовыми данными в нули.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-226">It is set to **Automatic** by default, which for OLAP items, converts nulls to zeroes for fields containing numeric data.</span></span>  
  
4.  <span data-ttu-id="2a0fe-227">Измените значение на, `Error` чтобы исключить любые записи со значением NULL, избегая преобразования NULL в числовой (нуль).</span><span class="sxs-lookup"><span data-stu-id="2a0fe-227">Change the value to `Error` to exclude any records having a null value, avoiding the null-to-numeric (zero) conversion.</span></span> <span data-ttu-id="2a0fe-228">Это изменение позволяет избежать ошибок повторяющихся ключей, связанных с несколькими записями, нулевыми в ключевом столбце, и избежать `KeyNotFound` ошибок, если внешний ключ с нулевым значением не имеет эквивалента первичного ключа в связанной таблице измерения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-228">This modification lets you avoid duplicate key errors related to multiple records having zero in the key column, and also avoid `KeyNotFound` errors when a zero-valued foreign key has no primary key equivalent in a related dimension table.</span></span>  
  
##  <a name="null-keys-in-a-dimension"></a><a name="bkmk_nulldim"></a> <span data-ttu-id="2a0fe-229">Ключи NULL в измерении</span><span class="sxs-lookup"><span data-stu-id="2a0fe-229">Null keys in a dimension</span></span>  
 <span data-ttu-id="2a0fe-230">Чтобы продолжить обработку при обнаружении значений NULL во внешних ключах измерения, собранного по схеме «снежинка», сначала обработайте значения NULL, установив `NullProcessing` для свойства `KeyColumn` атрибута измерения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-230">To continue processing when null values are found in foreign keys in a snowflaked dimension, handle the null values first by setting `NullProcessing` on the `KeyColumn` of the dimension attribute.</span></span> <span data-ttu-id="2a0fe-231">Это приведет к отбрасыванию или преобразованию записи до возникновения ошибки `KeyNotFound`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-231">This discards or converts the record, before the `KeyNotFound` error can occur.</span></span>  
  
 <span data-ttu-id="2a0fe-232">Есть два варианта обработки значений NULL в атрибуте измерения:</span><span class="sxs-lookup"><span data-stu-id="2a0fe-232">You have two options for handling nulls on dimension attribute:</span></span>  
  
-   <span data-ttu-id="2a0fe-233">Задайте `NullProcessing` = `UnknownMember` для выделения записей со значениями NULL для неизвестного элемента.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-233">Set `NullProcessing`=`UnknownMember` to allocate records with null values to the unknown member.</span></span> <span data-ttu-id="2a0fe-234">Это формирует ошибку `NullKeyConvertedToUnknown`, которая по умолчанию пропускается.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-234">This produces the `NullKeyConvertedToUnknown` error, which is ignored by default.</span></span>  
  
-   <span data-ttu-id="2a0fe-235">Задайте `NullProcessing` = `Error` для исключения записей со значениями NULL.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-235">Set `NullProcessing`=`Error` to exclude records with null values.</span></span> <span data-ttu-id="2a0fe-236">Это формирует ошибку `NullKeyNotAllowed`, которая записывается в журнал и учитывается при подсчете предельного количества ошибок ключа.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-236">This produces the `NullKeyNotAllowed` error, which is logged and counts toward the key error limit.</span></span> <span data-ttu-id="2a0fe-237">Чтобы разрешить продолжение обработки, можно задать свойство конфигурации ошибки в **ключе NULL** `IgnoreError` .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-237">You can set error configuration property on **Null Key Not Allowed** to `IgnoreError` to allow processing to continue.</span></span>  
  
 <span data-ttu-id="2a0fe-238">Значения NULL могут быть проблемой для неключевых полей, так как запросы MDX возвращают различные результаты в зависимости от того, интерпретируется ли NULL как нуль или пустое значение.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-238">Nulls can be problem for non-key fields, in that MDX queries return different results depending on whether null is interpreted as zero or empty.</span></span> <span data-ttu-id="2a0fe-239">По этой причине [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] предоставляет варианты обработки значения NULL, которые позволяют заранее определить нужное поведение преобразования.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-239">For this reason, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] provides null processing options that let you predefine the conversion behavior you want.</span></span> <span data-ttu-id="2a0fe-240">Дополнительные сведения см. в разделе [Определение свойств Unknown Member и Null Processing](../lesson-4-7-defining-the-unknown-member-and-null-processing-properties.md) и <xref:Microsoft.AnalysisServices.NullProcessing> .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-240">See [Defining the Unknown Member and Null Processing Properties](../lesson-4-7-defining-the-unknown-member-and-null-processing-properties.md) and <xref:Microsoft.AnalysisServices.NullProcessing> for details.</span></span>  
  
#### <a name="set-nullprocessing-property-on-a-dimension-attribute"></a><span data-ttu-id="2a0fe-241">Установка свойства NullProcessing для атрибута измерения</span><span class="sxs-lookup"><span data-stu-id="2a0fe-241">Set NullProcessing property on a dimension attribute</span></span>  
  
1.  <span data-ttu-id="2a0fe-242">В обозревателе решений среды SQL Server Data Tools дважды щелкните по измерению, чтобы открыть его в конструкторе измерения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-242">In SQL Server Data Tools, in Solution Explorer, double-click the dimension to open it in Dimension Designer.</span></span>  
  
2.  <span data-ttu-id="2a0fe-243">На панели атрибутов щелкните нужный атрибут правой кнопкой мыши и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-243">Right-click an attribute in the Attributes pane and choose **Properties**.</span></span>  
  
3.  <span data-ttu-id="2a0fe-244">В окне Свойства разверните узел **KeyColumns** , чтобы просмотреть `NullProcessing` свойство.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-244">In Properties, expand **KeyColumns** to view `NullProcessing` property.</span></span> <span data-ttu-id="2a0fe-245">По умолчанию свойству задано значение **Автоматическая** , что преобразует значения NULL в полях с числовыми данными в нули.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-245">It is set to **Automatic** by default, which converts nulls to zeroes for fields containing numeric data.</span></span> <span data-ttu-id="2a0fe-246">Измените значение на `Error` или на `UnknownMember`.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-246">Change the value to either `Error` or `UnknownMember`.</span></span>  
  
     <span data-ttu-id="2a0fe-247">Это изменение удаляет базовые условия, которые инициируются `KeyNotFound` путем отмены или преобразования записи перед их проверкой на наличие ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-247">This modification removes the underlying conditions that trigger `KeyNotFound` by either discarding or converting the record before it is checked for errors.</span></span>  
  
     <span data-ttu-id="2a0fe-248">В зависимости от конфигурации ошибок одно из этих действий может привести к формированию ошибки, которая будет учтена.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-248">Depending on error configuration, either of these actions can result in an error that is reported and counted.</span></span> <span data-ttu-id="2a0fe-249">Возможно, потребуется настроить дополнительные свойства, например значение, равное `KeyNotFound` `ReportAndContinue` или `KeyErrorLimit` ненулевому значению, чтобы продолжить обработку после сообщения об ошибках и их подсчета.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-249">You might need to adjust additional properties, such as setting `KeyNotFound` to `ReportAndContinue` or `KeyErrorLimit` to a non-zero value, to allow processing to continue when these errors are reported and counted.</span></span>  
  
##  <a name="duplicate-keys-resulting-inconsistent-relationships-keyduplicate"></a><a name="bkmk_dupe"></a> <span data-ttu-id="2a0fe-250">Повторяющиеся ключи, ведущие к несогласованным связям (KeyDuplicate)</span><span class="sxs-lookup"><span data-stu-id="2a0fe-250">Duplicate keys resulting inconsistent relationships (KeyDuplicate)</span></span>  
 <span data-ttu-id="2a0fe-251">По умолчанию присутствие повторяющегося ключа не прерывает обработку, но эта ошибка пропускается, а повторяющаяся запись исключается из базы данных.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-251">By default, the presence of a duplicate key does not stop processing, but the error is ignored and the duplicate record is excluded from the database.</span></span>  
  
 <span data-ttu-id="2a0fe-252">Чтобы изменить такое поведение, установите `KeyDuplicate` в `ReportAndContinue` или `ReportAndStop`, чтобы эта ошибка была отмечена.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-252">To change this behavior, set `KeyDuplicate` to `ReportAndContinue` or `ReportAndStop` to report the error.</span></span> <span data-ttu-id="2a0fe-253">Затем эту ошибку можно изучить, чтобы определить потенциальные изъяны в проектировании измерения.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-253">You can then examine the error to determine potential flaws in dimension design.</span></span>  
  
##  <a name="change-the-error-limit-or-error-limit-action"></a><a name="bkmk_limit"></a> <span data-ttu-id="2a0fe-254">Изменение предельного количества ошибок или действия при его достижении</span><span class="sxs-lookup"><span data-stu-id="2a0fe-254">Change the error limit or error limit action</span></span>  
 <span data-ttu-id="2a0fe-255">Предельное количество ошибок можно поднять, чтобы разрешить формирование большего числа ошибок во время обработки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-255">You can raise the error limit to allow more errors through during processing.</span></span> <span data-ttu-id="2a0fe-256">У нас нет рекомендаций, до какого числа стоит увеличивать предельное количество ошибок. Подходящее значение будет зависеть от конкретного случая.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-256">There is no guidance for raising the error limit; the appropriate value will vary depending on your scenario.</span></span> <span data-ttu-id="2a0fe-257">Ограничения ошибок задаются как `KeyErrorLimit` в `ErrorConfiguration` свойствах в [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] или в виде **числа ошибок** на вкладке Конфигурация ошибок для свойств измерений, кубов или групп мер в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-257">Error limits are specified as `KeyErrorLimit` in `ErrorConfiguration` properties in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], or as **Number of Errors** in the Error Configuration tab for properties of dimensions, cubes, or measure groups in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="2a0fe-258">Можно задать действие, которое после достижения предельного количества ошибок остановит обработку или ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-258">Once the error limit is reached, you can specify that processing stops or that logging stops.</span></span> <span data-ttu-id="2a0fe-259">Предположим, что задано действие `StopLogging` для предельного количества ошибок в 100 штук.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-259">For example, suppose you set the action to `StopLogging` on an error limit of 100.</span></span> <span data-ttu-id="2a0fe-260">На 101-й ошибке обработка продолжится, но ошибки больше не будут учитываться и не будут отмечаться в журнале.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-260">On the 101st error, processing continues, but errors are no longer logged or counted.</span></span> <span data-ttu-id="2a0fe-261">Действия с ограничением ошибок задаются как `KeyErrorLimitAction` в `ErrorConfiguration` свойствах в [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] , так и в действии при **возникновении ошибки** на вкладке Конфигурация ошибок для свойств измерений, кубов или групп мер в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-261">Error limit actions are specified as `KeyErrorLimitAction` in `ErrorConfiguration` properties in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], or as **On error action** in the Error Configuration tab for properties of dimensions, cubes, or measure groups in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
##  <a name="set-the-error-log-path"></a><a name="bkmk_log"></a><span data-ttu-id="2a0fe-262">Настройка пути к журналу ошибок</span><span class="sxs-lookup"><span data-stu-id="2a0fe-262">Set the error log path</span></span>  
 <span data-ttu-id="2a0fe-263">Можно указать файл для хранения сообщения об ошибках, связанных с ключами и обнаруженных во время обработки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-263">You can specify a file to store key-related error messages that are reported during processing.</span></span> <span data-ttu-id="2a0fe-264">По умолчанию во время интерактивной обработки сообщения об ошибках можно просматривать в окне «Обработка». После закрытия окна или сеанса обработки сообщения они удаляются.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-264">By default, errors are visible during interactive processing in the Process window and then discarded when you close the window or session.</span></span> <span data-ttu-id="2a0fe-265">Журнал будет содержать только сведения об ошибках, относящихся к ключам, идентичных ошибкам, отображаемым в диалоговых окнах обработки.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-265">The log will only contain error information related to keys, identical to the errors you see reported in the processing dialog boxes.</span></span>  
  
 <span data-ttu-id="2a0fe-266">Ошибки будут заноситься в текстовый файл, который должен иметь расширение LOG.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-266">Errors will be logged to a text file and must have .log file extension.</span></span> <span data-ttu-id="2a0fe-267">Файл будет пустым в случае отсутствия ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-267">The file will be empty unless errors occur.</span></span> <span data-ttu-id="2a0fe-268">По умолчанию файл создается в папке DATA.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-268">By default, a file will be created in the DATA folder.</span></span> <span data-ttu-id="2a0fe-269">Можно указать и другую папку, главное, чтобы учетная запись служб Analysis Services имела разрешения на запись в это место.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-269">You can specify another folder as long as the Analysis Services service account can write to that location.</span></span>  
  
##  <a name="next-step"></a><a name="bkmk_next"></a><span data-ttu-id="2a0fe-270">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="2a0fe-270">Next step</span></span>  
 <span data-ttu-id="2a0fe-271">Определитесь, будут ошибки прерывать обработку или же пропускаться.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-271">Decide whether errors will stop processing or be ignored.</span></span> <span data-ttu-id="2a0fe-272">Помните, что пропускается только сама ошибка.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-272">Remember that only the error is ignored.</span></span> <span data-ttu-id="2a0fe-273">Запись, приведшая к ошибке, не пропускается; она отбрасывается либо преобразуется в неизвестный элемент.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-273">The record that caused the error is not ignored; it is either discarded or converted to unknown member.</span></span> <span data-ttu-id="2a0fe-274">Записи, нарушающие правила целостности данных, никогда не добавляются в базу данных.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-274">Records that violate data integrity rules are never added to the database.</span></span> <span data-ttu-id="2a0fe-275">По умолчанию обработка прерывается при возникновении первой ошибки, но это поведение можно изменить, увеличив предельное количество ошибок.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-275">By default, processing stops when the first error occurs, but you can change this by raising the error limit.</span></span> <span data-ttu-id="2a0fe-276">При разработке кубов может быть полезно сделать правила конфигурации ошибок менее строгими, чтобы разрешить продолжение обработки и собрать данные для тестирования.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-276">In cube development, it can be useful to relax error configuration rules, allowing processing to continue, so that there is data to test with.</span></span>  
  
 <span data-ttu-id="2a0fe-277">Определитесь, следует ли изменить стандартные правила обработки значений NULL.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-277">Decide whether to change default null processing behaviors.</span></span> <span data-ttu-id="2a0fe-278">По умолчанию значения NULL в строковом столбце обрабатываются как пустые значения, а NULL в числовом столбце — как нуль.</span><span class="sxs-lookup"><span data-stu-id="2a0fe-278">By default, nulls in a string column are processed as empty values, while nulls in a numeric column are processed as zero.</span></span> <span data-ttu-id="2a0fe-279">Инструкции по установке правил обработки значений NULL для атрибута см. в разделе [Defining the Unknown Member and Null Processing Properties](../lesson-4-7-defining-the-unknown-member-and-null-processing-properties.md) .</span><span class="sxs-lookup"><span data-stu-id="2a0fe-279">See [Defining the Unknown Member and Null Processing Properties](../lesson-4-7-defining-the-unknown-member-and-null-processing-properties.md) for instructions on setting null processing on an attribute.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2a0fe-280">См. также:</span><span class="sxs-lookup"><span data-stu-id="2a0fe-280">See Also</span></span>  
 <span data-ttu-id="2a0fe-281">[Свойства журнала](../server-properties/log-properties.md) </span><span class="sxs-lookup"><span data-stu-id="2a0fe-281">[Log Properties](../server-properties/log-properties.md) </span></span>  
 [<span data-ttu-id="2a0fe-282">Определение свойств Unknown Member и Null Processing</span><span class="sxs-lookup"><span data-stu-id="2a0fe-282">Defining the Unknown Member and Null Processing Properties</span></span>](../lesson-4-7-defining-the-unknown-member-and-null-processing-properties.md)  
  
  

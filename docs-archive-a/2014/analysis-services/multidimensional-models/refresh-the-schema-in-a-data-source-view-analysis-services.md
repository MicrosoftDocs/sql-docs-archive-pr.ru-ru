---
title: Обновление схемы в представлении источника данных (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- data source views [Analysis Services], schema updates
- refreshing data source views
- data source views [Analysis Services], refreshing
ms.assetid: 634b0504-1437-43e7-8ac7-3248ac7989a3
author: minewiskan
ms.author: owend
ms.openlocfilehash: 808f6ea431592aaecadf6f20a1ae16850cdb20e0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87656658"
---
# <a name="refresh-the-schema-in-a-data-source-view-analysis-services"></a><span data-ttu-id="c9eea-102">Обновление схемы в представлении источника данных (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="c9eea-102">Refresh the Schema in a Data Source View (Analysis Services)</span></span>
  <span data-ttu-id="c9eea-103">После определения представления источников данных в проекте или базе данных [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] можно изменить схему базового источника данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-103">After defining a data source view (DSV) in an [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] project or database, the schema in an underlying data source may change.</span></span> <span data-ttu-id="c9eea-104">Эти изменения не определяются и не обновляются автоматически в проекте разработки.</span><span class="sxs-lookup"><span data-stu-id="c9eea-104">These changes are not automatically detected or updated in a development project.</span></span> <span data-ttu-id="c9eea-105">Более того, при развертывании проекта на сервере будут возникать ошибки обработки, если службы Analysis Services не смогут подключиться к внешнему источнику данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-105">Moreover, if you deployed the project to a server, you will now encounter processing errors if Analysis Services can no longer connect to the external data source.</span></span>

 <span data-ttu-id="c9eea-106">Для обновления представления источников данных так, чтобы он соответствовал внешнему источнику данных, можно обновить представление источника данных в среде Business Intelligence Development Studio (BIDS).</span><span class="sxs-lookup"><span data-stu-id="c9eea-106">To update the DSV so that it matches the external data source, you can refresh the DSV in Business Intelligence Development Studio (BIDS).</span></span> <span data-ttu-id="c9eea-107">Обновление представления источников данных приводит к выявлению изменений относительно внешнего источника данных, на котором основывается представление, и созданию списка добавлений или удалений во внешнем источнике данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-107">Refreshing the DSV detects changes to the external data sources upon which the DSV is based, and builds a change list that enumerates the additions or deletions in the external data source.</span></span> <span data-ttu-id="c9eea-108">После этого можно применить набор изменений к представлению источников данных, который снова выровняет представление относительно базового источника данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-108">You can then apply the set of changes to the DSV that will realign it to the underlying data source.</span></span> <span data-ttu-id="c9eea-109">Обратите внимание, что для последующего обновления кубов и измерений в проекте, использующем представление источника данных, могут потребоваться дополнительные усилия.</span><span class="sxs-lookup"><span data-stu-id="c9eea-109">Note that additional work is often required to further update the cubes and dimensions in the project that use the DSV.</span></span>

 <span data-ttu-id="c9eea-110">Этот раздел включает следующие подразделы:</span><span class="sxs-lookup"><span data-stu-id="c9eea-110">This topic includes the following sections:</span></span>

 [<span data-ttu-id="c9eea-111">Изменения, поддерживаемые в обновлении</span><span class="sxs-lookup"><span data-stu-id="c9eea-111">Changes Supported in Refresh</span></span>](#bkmk_changlist)

 [<span data-ttu-id="c9eea-112">Обновить представление источника данных в SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="c9eea-112">Refresh a DSV in SQL Server Data Tools</span></span>](#bkmk_DSVrefresh)

##  <a name="changes-supported-in-refresh"></a><a name="bkmk_changlist"></a><span data-ttu-id="c9eea-113">Изменения, поддерживаемые при обновлении</span><span class="sxs-lookup"><span data-stu-id="c9eea-113">Changes Supported in Refresh</span></span>
 <span data-ttu-id="c9eea-114">Обновление представления источников данных может включать любые из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="c9eea-114">DSV Refresh can include any of the following the actions:</span></span>

-   <span data-ttu-id="c9eea-115">Удаление таблиц, столбцов и связей</span><span class="sxs-lookup"><span data-stu-id="c9eea-115">Deletion of tables, columns, and relationships</span></span>

-   <span data-ttu-id="c9eea-116">Добавление столбцов и связей относительно таблиц, уже включенных в представление источника данных</span><span class="sxs-lookup"><span data-stu-id="c9eea-116">Addition of columns and relationships, as applied to tables that are already included in the DSV</span></span>

-   <span data-ttu-id="c9eea-117">Добавление новых ограничений уникальностей.</span><span class="sxs-lookup"><span data-stu-id="c9eea-117">Addition of new unique constraints.</span></span> <span data-ttu-id="c9eea-118">Если для таблицы в представлении источника данных существует логический первичный ключ и при этом к таблице в источнике данных добавляется физический ключ, то логический ключ удаляется и заменяется физическим ключом.</span><span class="sxs-lookup"><span data-stu-id="c9eea-118">If a logical primary key exists for a table in the DSV and a physical key is added to the table in the data source, the logical key is removed and replaced by the physical key.</span></span>

 <span data-ttu-id="c9eea-119">Обновление никогда не добавляет новые таблицы в представление источника данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-119">Refresh never adds new tables to a DSV.</span></span> <span data-ttu-id="c9eea-120">Если нужно добавить новую таблицу, придется добавить ее вручную.</span><span class="sxs-lookup"><span data-stu-id="c9eea-120">If you want to add a new table, you must add it manually.</span></span> <span data-ttu-id="c9eea-121">Дополнительные сведения см. в разделе [Добавление или удаление таблиц или представлений в представлении источника данных (службы Analysis Services)](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="c9eea-121">For more information, see [Adding or Removing Tables or Views in a Data Source View &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md).</span></span>

##  <a name="refresh-a-dsv-in-sql-server-data-tools"></a><a name="bkmk_DSVrefresh"></a><span data-ttu-id="c9eea-122">Обновление представления источника данных в SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="c9eea-122">Refresh a DSV in SQL Server Data Tools</span></span>
 <span data-ttu-id="c9eea-123">Чтобы обновить представление источника данных (DSV), дважды щелкните его в обозревателе решений в [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], затем нажмите кнопку "Обновить представление источника данных" или выберите **Обновить** в меню "Представление источника данных".</span><span class="sxs-lookup"><span data-stu-id="c9eea-123">To refresh a DSV, double-click the DSV from Solution Explorer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], and then click the Refresh Data Source View button or choose **Refresh** from the Data Source View menu.</span></span>

 <span data-ttu-id="c9eea-124">При этом службы [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] запрашивают реляционный источник данных и выявляют изменения в соответствующих таблицах или представлениях.</span><span class="sxs-lookup"><span data-stu-id="c9eea-124">During refresh, [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] queries all underlying relational data sources to determine whether there have been changes in tables/views which are included in the DSV.</span></span> <span data-ttu-id="c9eea-125">Если не удается установить соединения со всеми базовыми источниками данных, но в них существуют изменения, то они будут отображены в диалоговом окне **Обновление представления источников данных** .</span><span class="sxs-lookup"><span data-stu-id="c9eea-125">If connections can be established to all underlying data sources and there have been any changes, you will see them in the **Refresh Data Source View** dialog box.</span></span>

 <span data-ttu-id="c9eea-126">![Диалоговое окно «Обновление представления источника данных»](../media/ssas-olapdsv-refresh.gif "Диалоговое окно «Обновление представления источников данных»")</span><span class="sxs-lookup"><span data-stu-id="c9eea-126">![Refresh Data Source View dialog box](../media/ssas-olapdsv-refresh.gif "Refresh Data Source View dialog box")</span></span>

 <span data-ttu-id="c9eea-127">В диалоговом окне перечисляются таблицы, столбцы, ограничения и связи, которые будут удалены или добавлены в представление источника данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-127">The dialog box lists tables, columns, constraints, and relationships that will be deleted or added in the DSV.</span></span> <span data-ttu-id="c9eea-128">В отчете также указывается любой именованный запрос или вычисление, которые не могут быть успешно подготовлены.</span><span class="sxs-lookup"><span data-stu-id="c9eea-128">The report also lists any named query or calculation that cannot be successfully prepared.</span></span> <span data-ttu-id="c9eea-129">Объекты, на которые оказывается влияние, представлены в древовидном представлении, в котором столбцы и связи расположены под таблицами, а для каждого объекта обозначается тип изменения (удаления или добавления).</span><span class="sxs-lookup"><span data-stu-id="c9eea-129">The affected objects are listed in a tree view with columns and relationships nested under tables and the type of change (deletion or addition) indicated for each object.</span></span> <span data-ttu-id="c9eea-130">Стандартные значки объектов представления источников данных обозначают тип объекта, на который оказывается влияние.</span><span class="sxs-lookup"><span data-stu-id="c9eea-130">The standard data source view object icons indicate the type of object affected.</span></span>

 <span data-ttu-id="c9eea-131">Обновление полностью основано на именах базовых объектов.</span><span class="sxs-lookup"><span data-stu-id="c9eea-131">Refresh is based completely on the names of the underlying objects.</span></span> <span data-ttu-id="c9eea-132">Таким образом, если базовый объект переименовывается в источнике данных, конструктор представлений источников данных рассматривает переименованный объект как две отдельные операции — Удаление и добавление.</span><span class="sxs-lookup"><span data-stu-id="c9eea-132">Therefore, if an underlying object is renamed in the data source, Data Source View Designer treats the renamed object as two separate operations-a deletion and an addition.</span></span> <span data-ttu-id="c9eea-133">В таком случае может возникнуть необходимость вручную добавить переименованный объект обратно в представление источника данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-133">In this case, you may have to manually add the renamed object back to the data source view.</span></span> <span data-ttu-id="c9eea-134">Также может возникнуть необходимость в повторном создании связей или логических первичных ключей.</span><span class="sxs-lookup"><span data-stu-id="c9eea-134">You may also have to re-create relationships or logical primary keys.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="c9eea-135">Если стало известно о переименовании таблицы в источнике данных, то может возникнуть необходимость применить команду **Заменить таблицу** для замены таблицы на переименованную таблицу до обновления представления источников данных.</span><span class="sxs-lookup"><span data-stu-id="c9eea-135">If you are aware that a table has been renamed in a data source, you may want to use the **Replace Table** command to replace the table with the renamed table before you refresh the data source view.</span></span> <span data-ttu-id="c9eea-136">Дополнительные сведения см. в разделе [Замена таблицы или именованного запроса в представлении источника данных (службы Analysis Services)](replace-a-table-or-a-named-query-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="c9eea-136">For more information, see [Replace a Table or a Named Query in a Data Source View &#40;Analysis Services&#41;](replace-a-table-or-a-named-query-in-a-data-source-view-analysis-services.md).</span></span>

 <span data-ttu-id="c9eea-137">После изучения отчета можно принять изменения или отменить обновления, аннулировав любые изменения.</span><span class="sxs-lookup"><span data-stu-id="c9eea-137">After you examine the report, you can either accept the changes or cancel the update to reject any changes.</span></span> <span data-ttu-id="c9eea-138">Все изменения должны быть приняты или отклонены вместе.</span><span class="sxs-lookup"><span data-stu-id="c9eea-138">All changes must be accepted or rejected together.</span></span> <span data-ttu-id="c9eea-139">Не предусмотрена возможность выбирать отдельные элементы в списке.</span><span class="sxs-lookup"><span data-stu-id="c9eea-139">You cannot choose individual items in the list.</span></span> <span data-ttu-id="c9eea-140">Также можно сохранить отчет об изменениях.</span><span class="sxs-lookup"><span data-stu-id="c9eea-140">You can also save a report of the changes.</span></span>

## <a name="see-also"></a><span data-ttu-id="c9eea-141">См. также:</span><span class="sxs-lookup"><span data-stu-id="c9eea-141">See Also</span></span>
 [<span data-ttu-id="c9eea-142">Представления источников данных в многомерных моделях</span><span class="sxs-lookup"><span data-stu-id="c9eea-142">Data Source Views in Multidimensional Models</span></span>](data-source-views-in-multidimensional-models.md)



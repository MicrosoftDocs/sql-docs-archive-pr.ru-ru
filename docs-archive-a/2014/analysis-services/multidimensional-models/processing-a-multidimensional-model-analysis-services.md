---
title: Обработка объектов многомерной модели | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- online mode [Analysis Services]
- processing objects [Analysis Services]
- partitions [Analysis Services], processing
- jobs [Analysis Services]
- objects [Analysis Services], processing
- reprocessing objects
- impact analysis [Analysis Services]
- dimensions [Analysis Services], processing
- project mode [Analysis Services]
- cubes [Analysis Services], processing
ms.assetid: 625aa5a6-aa09-4bac-be8a-778fa81c5a61
author: minewiskan
ms.author: owend
ms.openlocfilehash: e61ff8f80579bba59aced5de4e824f036d633cac
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665142"
---
# <a name="multidimensional-model-object-processing"></a><span data-ttu-id="82ed4-102">Обработка объектов многомерной модели</span><span class="sxs-lookup"><span data-stu-id="82ed4-102">Multidimensional Model Object Processing</span></span>
  <span data-ttu-id="82ed4-103">Обработка ― это шаг или последовательность шагов, в которых службы Analysis Services загружают данные из реляционного источника данных в многомерную модель.</span><span class="sxs-lookup"><span data-stu-id="82ed4-103">Processing is the step, or series of steps, in which Analysis Services loads data from a relational data source into a multidimensional model.</span></span> <span data-ttu-id="82ed4-104">Для объектов, использующих режим хранения MOLAP, данные сохраняются на диске в папке файла базы данных.</span><span class="sxs-lookup"><span data-stu-id="82ed4-104">For objects that use MOLAP storage, data is saved on disk in the database file folder.</span></span> <span data-ttu-id="82ed4-105">Для режима хранения ROLAP обработка происходит по запросу, в ответ на запрос многомерных выражений к объекту.</span><span class="sxs-lookup"><span data-stu-id="82ed4-105">For ROLAP storage, processing occurs on demand, in response to an MDX query on an object.</span></span> <span data-ttu-id="82ed4-106">Для объектов, использующих режим хранения ROLAP, обработка относится к обновлению кэш-памяти до возврата результатов запроса.</span><span class="sxs-lookup"><span data-stu-id="82ed4-106">For objects that use ROLAP storage, processing refers to updating the cache before returning query results.</span></span>  
  
 <span data-ttu-id="82ed4-107">По умолчанию обработка выполняется при развертывании решения на сервер.</span><span class="sxs-lookup"><span data-stu-id="82ed4-107">By default, processing occurs when you deploy a solution to the server.</span></span> <span data-ttu-id="82ed4-108">Можно также обработать все решение или его часть либо с помощью нерегламентированных средств, таких как [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] или [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], либо по расписанию с помощью служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] и агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="82ed4-108">You can also process all or part of a solution, either ad hoc using tools such as [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], or on a schedule using [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and SQL Server Agent.</span></span> <span data-ttu-id="82ed4-109">При выполнении структурных изменений в модель, например при удалении измерения или изменении его уровня совместимости, необходимо выполнить обработку повторно, чтобы синхронизировать физические и логические аспекты модели.</span><span class="sxs-lookup"><span data-stu-id="82ed4-109">When making a structural change to the model, such as removing a dimension or changing its compatibility level, you will need to process again to synchronize the physical and logical aspects of the model.</span></span>  
  
 <span data-ttu-id="82ed4-110">Этот раздел включает следующие подразделы:</span><span class="sxs-lookup"><span data-stu-id="82ed4-110">This topic includes the following sections:</span></span>  
  
 [<span data-ttu-id="82ed4-111">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="82ed4-111">Prerequisites</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="82ed4-112">Выбор средства или подхода</span><span class="sxs-lookup"><span data-stu-id="82ed4-112">Choosing a tool or approach</span></span>](#bkmk_tool)  
  
 [<span data-ttu-id="82ed4-113">Обработка объектов</span><span class="sxs-lookup"><span data-stu-id="82ed4-113">Processing Objects</span></span>](#bkmk_proc)  
  
 [<span data-ttu-id="82ed4-114">Повторная обработка объектов</span><span class="sxs-lookup"><span data-stu-id="82ed4-114">Reprocessing Objects</span></span>](#bkmk_reproc)  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="82ed4-115">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="82ed4-115">Prerequisites</span></span>  
  
-   <span data-ttu-id="82ed4-116">Процесс обработки требует административных разрешений для экземпляра служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="82ed4-116">Processing requires administrative permissions on the Analysis Services instance.</span></span> <span data-ttu-id="82ed4-117">При обработке в интерактивном режиме из среды [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] или [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]необходимо быть членом роли администратора сервера для экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="82ed4-117">If you are processing interactively from [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], you must be a member of the server administrator role on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="82ed4-118">Для обработки, которая выполняется автоматически, например при использовании пакета служб SSIS, который указан в расписании с помощью агента SQL Server, учетная запись для запуска пакета должна быть членом роли администратора сервера.</span><span class="sxs-lookup"><span data-stu-id="82ed4-118">For processing that runs unattended, for example using an SSIS package that you schedule through SQL Server Agent, the account used to run the package must be a member of the server administrator role.</span></span> <span data-ttu-id="82ed4-119">Дополнительные сведения о настройке разрешений администратора см. в статьях [предоставление разрешений администратора сервера &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md).</span><span class="sxs-lookup"><span data-stu-id="82ed4-119">For more information about setting administrator permissions, see [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md).</span></span>  
  
-   <span data-ttu-id="82ed4-120">Учетная запись, используемая для получения данных, указывается в объекте источника данных либо в качестве параметра олицетворения при использовании проверки подлинности Windows, либо в качестве идентификатора в строке подключения, если используется проверка подлинности базы данных.</span><span class="sxs-lookup"><span data-stu-id="82ed4-120">The account used to retrieve data is specified in the data source object, either as an impersonation option if you are using Windows authentication, or as the user name on the connection string if using database authentication.</span></span> <span data-ttu-id="82ed4-121">Учетная запись должна иметь разрешения на чтение данных из реляционных источников данных, используемых в модели.</span><span class="sxs-lookup"><span data-stu-id="82ed4-121">The account must have read permissions on relational data sources used by the model.</span></span>  
  
-   <span data-ttu-id="82ed4-122">Перед обработкой объектов необходимо развернуть проект или решение.</span><span class="sxs-lookup"><span data-stu-id="82ed4-122">The project or solution must be deployed before you can process any objects.</span></span>  
  
     <span data-ttu-id="82ed4-123">Изначально на ранних этапах разработки модели развертывание и обработка осуществляются совместно.</span><span class="sxs-lookup"><span data-stu-id="82ed4-123">Initially, during the early stages of model development, deployment and processing occur together.</span></span> <span data-ttu-id="82ed4-124">Однако можно установить такие параметры, согласно которым обработка модели будет производиться позже, после развертывания решения.</span><span class="sxs-lookup"><span data-stu-id="82ed4-124">However, you can set options to process the model later, after you deploy the solution.</span></span> <span data-ttu-id="82ed4-125">Дополнительные сведения о развертывании см. в статье [Развертывание проектов служб Analysis Services (среда SSDT)](deploy-analysis-services-projects-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="82ed4-125">For more information about deployment, see [Deploy Analysis Services Projects &#40;SSDT&#41;](deploy-analysis-services-projects-ssdt.md).</span></span>  
  
##  <a name="choosing-a-tool-or-approach"></a><a name="bkmk_tool"></a><span data-ttu-id="82ed4-126">Выбор средства или подхода</span><span class="sxs-lookup"><span data-stu-id="82ed4-126">Choosing a tool or approach</span></span>  
 <span data-ttu-id="82ed4-127">Объекты вы можете обрабатывать в интерактивном режиме с помощью клиентского приложения, например в среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] или [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]либо в скрипте, выполняемом в качестве задания агента SQL Server или пакета служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="82ed4-127">You can process objects interactively using a client application such as [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], or a scripted operation that run as a SQL Server Agent job or [!INCLUDE[ssIS](../../includes/ssis-md.md)] package.</span></span>  
  
 <span data-ttu-id="82ed4-128">Порядок обработки базы данных значительно меняется в зависимости от состояния модели: в активной разработке или в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="82ed4-128">How you process a database varies considerably depending on whether the model is in active development or in production.</span></span> <span data-ttu-id="82ed4-129">После развертывания модели на рабочем сервере обработка нуждается в строгом контроле, чтобы обеспечить целостность и доступность многомерных данных.</span><span class="sxs-lookup"><span data-stu-id="82ed4-129">Once a model is deployed to a production server, processing must be tightly controlled to ensure the integrity and availability of multidimensional data.</span></span> <span data-ttu-id="82ed4-130">Поскольку объекты зависят друг от друга, обработка обычно вызывает каскадный эффект в модели, когда другие объекты также обрабатываются или не обрабатываются попарно.</span><span class="sxs-lookup"><span data-stu-id="82ed4-130">Because objects are interdependent, processing typically has a cascading effect across the model as other objects are also processed or unprocessed in tandem.</span></span> <span data-ttu-id="82ed4-131">Если некоторые объекты остаются в необработанном состоянии, то запросы к этим данным не будут разрешаться, что приведет к нарушению отчетов или приложений, использующих их.</span><span class="sxs-lookup"><span data-stu-id="82ed4-131">If some objects are left in an unprocessed state, queries for that data will not resolve, breaking any reports or applications that use it.</span></span> <span data-ttu-id="82ed4-132">При разработке стратегии обработки рабочей базы данных рекомендуется использовать скрипт или пакеты служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , которые прошли отладку и тестирование, чтобы избежать ошибок оператора или пропущенных действий.</span><span class="sxs-lookup"><span data-stu-id="82ed4-132">When developing a strategy for processing a production database, consider using script or [!INCLUDE[ssIS](../../includes/ssis-md.md)] packages that you have debugged and tested to avoid operator error or overlooked steps.</span></span>  
  
 <span data-ttu-id="82ed4-133">Дополнительные сведения см. в разделе [средства и подходы для обработки &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="82ed4-133">For more information, see [Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md).</span></span>  
  
##  <a name="processing-objects"></a><a name="bkmk_proc"></a><span data-ttu-id="82ed4-134">Обработка объектов</span><span class="sxs-lookup"><span data-stu-id="82ed4-134">Processing Objects</span></span>  
 <span data-ttu-id="82ed4-135">Обрабатываются следующие объекты служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] : базы данных, группы мер, секции, измерения, кубы, а также структуры и модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="82ed4-135">Processing affects the following [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects: measure groups, partitions, dimensions, cubes, mining models, mining structures, and databases.</span></span> <span data-ttu-id="82ed4-136">Если в составе объекта содержится один или несколько объектов, то обработка объекта самого верхнего уровня вызывает поочередную обработку всех объектов, расположенных на нижних уровнях.</span><span class="sxs-lookup"><span data-stu-id="82ed4-136">When an object contains one or more objects, processing the highest-level object causes a cascade of processing all the lower-level objects.</span></span> <span data-ttu-id="82ed4-137">Например, в состав куба обычно входят одна или несколько групп мер (каждая из которых содержит одну или более секций) и измерения.</span><span class="sxs-lookup"><span data-stu-id="82ed4-137">For example, a cube typically contains one or more measure groups (each of which contains one or more partitions) and dimensions.</span></span> <span data-ttu-id="82ed4-138">Обработка куба вызывает обработку всех входящих в него групп мер и измерений, которые в данный момент не обработаны.</span><span class="sxs-lookup"><span data-stu-id="82ed4-138">Processing a cube causes processing of all the measure groups within the cube and the constituent dimensions that are currently in an unprocessed state.</span></span> <span data-ttu-id="82ed4-139">Дополнительные сведения об обработке объектов [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] см. в разделе [Обработка объектов служб Analysis Services](processing-analysis-services-objects.md).</span><span class="sxs-lookup"><span data-stu-id="82ed4-139">For more information about processing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, see [Processing Analysis Services Objects](processing-analysis-services-objects.md).</span></span>  
  
 <span data-ttu-id="82ed4-140">При запуске задания на обработку соответствующие объекты служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] могут стать недоступными для запросов.</span><span class="sxs-lookup"><span data-stu-id="82ed4-140">While the processing job is working, the affected [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects can be accessed for querying.</span></span> <span data-ttu-id="82ed4-141">Задание выполняется в транзакции, которая может быть зафиксирована или откачена.</span><span class="sxs-lookup"><span data-stu-id="82ed4-141">The processing job works inside a transaction and the transaction can be committed or rolled back.</span></span> <span data-ttu-id="82ed4-142">При сбое задания обработки выполняется откат транзакции.</span><span class="sxs-lookup"><span data-stu-id="82ed4-142">If the processing job fails, the transaction is rolled back.</span></span> <span data-ttu-id="82ed4-143">Если задание обработки завершилось успешно, на время фиксации изменений к объекту применяется монопольная блокировка, то есть он становится временно недоступным для запросов и обработки.</span><span class="sxs-lookup"><span data-stu-id="82ed4-143">If the processing job succeeds, an exclusive lock is put on the object when changes are being committed, which means the object is temporarily unavailable for query or processing.</span></span> <span data-ttu-id="82ed4-144">На этапе фиксации транзакции возможность отправки запросов объекту сохраняется, но все они до окончания фиксации сохраняются в очереди.</span><span class="sxs-lookup"><span data-stu-id="82ed4-144">During the commit phase of the transaction, queries can still be sent to the object, but they will be queued until the commit is completed.</span></span>  
  
 <span data-ttu-id="82ed4-145">Параметры обработки объекта определяют, будет ли он подвергнут обработке и если да, то каким образом.</span><span class="sxs-lookup"><span data-stu-id="82ed4-145">During a processing job, whether an object is processed, and how it will be processed, depends on the processing option that is set for that object.</span></span> <span data-ttu-id="82ed4-146">Дополнительные сведения о конкретных параметрах обработки, которые могут применяться в отношении объектов, см. в разделе [Настройка параметров обработки (службы Analysis Services)](processing-options-and-settings-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="82ed4-146">For more information about the specific processing options that can be applied to each object, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
##  <a name="reprocessing-objects"></a><a name="bkmk_reproc"></a><span data-ttu-id="82ed4-147">Повторная обработка объектов</span><span class="sxs-lookup"><span data-stu-id="82ed4-147">Reprocessing Objects</span></span>  
 <span data-ttu-id="82ed4-148">Прежде чем кубы, содержащие необработанные элементы, можно было просматривать, их необходимо повторно обработать.</span><span class="sxs-lookup"><span data-stu-id="82ed4-148">Cubes that contain unprocessed elements have to be reprocessed before they can be browsed.</span></span> <span data-ttu-id="82ed4-149">Кубы в службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] содержат группы мер и секции, которые необходимо обработать до отправки запроса в куб.</span><span class="sxs-lookup"><span data-stu-id="82ed4-149">Cubes in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] contain measure groups and partitions that must be processed before the cube can be queried.</span></span> <span data-ttu-id="82ed4-150">При обработке куба службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] обрабатывают входящие в его состав измерения, которые находятся в состоянии необработанных.</span><span class="sxs-lookup"><span data-stu-id="82ed4-150">Processing a cube causes [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to process constituent dimensions of the cube if those dimensions are in an unprocessed state.</span></span> <span data-ttu-id="82ed4-151">После обработки в первый раз объект необходимо обработать повторно, то есть частично или полностью, при возникновении одной из следующих ситуаций:</span><span class="sxs-lookup"><span data-stu-id="82ed4-151">After an object has been processed the first time, it must be reprocessed either partially or in full whenever one of the following situations occurs:</span></span>  
  
-   <span data-ttu-id="82ed4-152">Изменилась структура объекта, например удален столбец в таблице фактов.</span><span class="sxs-lookup"><span data-stu-id="82ed4-152">The structure of the object changes, such as dropping a column in a fact table.</span></span>  
  
-   <span data-ttu-id="82ed4-153">Изменяется статистическая схема объекта.</span><span class="sxs-lookup"><span data-stu-id="82ed4-153">The aggregation design for the object changes.</span></span>  
  
-   <span data-ttu-id="82ed4-154">Необходимо обновить данные в объекте.</span><span class="sxs-lookup"><span data-stu-id="82ed4-154">The data in the object needs to be updated.</span></span>  
  
 <span data-ttu-id="82ed4-155">При обработке объектов в службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]можно выбрать параметр обработки или включить службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] для определения соответствующего типа обработки.</span><span class="sxs-lookup"><span data-stu-id="82ed4-155">When you process objects in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can select a processing option, or you can enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to determine the appropriate type of processing.</span></span> <span data-ttu-id="82ed4-156">Доступные методы обработки отличаются от одного объекта к другому и зависят от типа объекта.</span><span class="sxs-lookup"><span data-stu-id="82ed4-156">The processing methods made available differ from one object to another, and are based on the type of object.</span></span> <span data-ttu-id="82ed4-157">Кроме того, доступные методы зависят от типа изменений, внесенных в объект с момента его последней обработки.</span><span class="sxs-lookup"><span data-stu-id="82ed4-157">Additionally, the methods available are based on what changes have occurred to the object since it was last processed.</span></span> <span data-ttu-id="82ed4-158">Если включить в службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] автоматический выбор типа обработки, будет использоваться метод, возвращающий объект в полностью обработанном состоянии за минимальное время.</span><span class="sxs-lookup"><span data-stu-id="82ed4-158">If you enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to automatically select a processing method, it will use the method that returns the object to a fully processed state in the least time.</span></span> <span data-ttu-id="82ed4-159">Дополнительные сведения см. в разделе [Настройка параметров обработки (службы Analysis Services)](processing-options-and-settings-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="82ed4-159">For more information, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="82ed4-160">См. также:</span><span class="sxs-lookup"><span data-stu-id="82ed4-160">See Also</span></span>  
 <span data-ttu-id="82ed4-161">[Логическая архитектура &#40;Analysis Services многомерных данных&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="82ed4-161">[Logical Architecture &#40;Analysis Services - Multidimensional Data&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span></span>  
 [<span data-ttu-id="82ed4-162">Объекты баз данных (службы Analysis Services — многомерные данные)</span><span class="sxs-lookup"><span data-stu-id="82ed4-162">Database Objects &#40;Analysis Services - Multidimensional Data&#41;</span></span>](olap-logical/database-objects-analysis-services-multidimensional-data.md)  
  
  

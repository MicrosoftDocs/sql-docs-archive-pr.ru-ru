---
title: Основные сведения о схемах баз данных | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, database schema
- database schema [Analysis Services]
- relational schema [Analysis Services], database schema
- subject area schema options [Analysis Services]
- staging area schema options [Analysis Services]
- denormalized schemas
ms.assetid: 51e411f9-ee3f-4b92-9833-c2bce8c6b752
author: minewiskan
ms.author: owend
ms.openlocfilehash: 84f44db1b7abca1b8cad45cf5f46fcc0006bd92a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732093"
---
# <a name="understanding-the-database-schemas"></a>Основные сведения о схемах баз данных
  Мастер формирования схем создает ненормализованную реляционную схему для предметной области базы данных на основе измерений и групп мер служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. Мастер создает реляционную таблицу для каждого измерения (таблица измерения), в которой хранятся данные измерений, которую называют таблицей измерения, и реляционную таблицу для каждой группы мер (таблица фактов), в которой хранятся данные фактов. При создании реляционных таблиц мастер игнорирует связанные измерения, связанные группы мер и серверные измерения времени.  
  
## <a name="validation"></a>Проверка  
 Перед созданием базовой реляционной схемы мастер формирования схем проверяет кубы служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и измерения. При обнаружении ошибок выполнение мастера останавливается, и выводится отчет об ошибках в окне «Список задач» в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]. Примеры ошибок, приводящих к остановке формирования:  
  
-   измерения, имеющие более одного ключевого атрибута;  
  
-   родительские атрибуты, типы данных которых отличаются от ключевых атрибутов;  
  
-   группы мер, которые не содержат мер;  
  
-   неправильно сконфигурированные вырожденные измерения или меры;  
  
-   неправильно сконфигурированные суррогатные ключи, например: несколько атрибутов используют тип атрибута `ScdOriginalID` или атрибут использует тип `ScdOriginalID`, не связанный со столбцом с целочисленным типом данных.  
  
## <a name="dimension-tables"></a>Таблицы измерений  
 Мастер формирования схем создает для каждого измерения таблицу, которая включается в предметную область базы данных. Структура таблицы измерения зависит от выборов, сделанных во время проектирования измерения, на котором основана таблица.  
  
 Столбцы  
 Мастер формирует один столбец для привязок, связанных с каждым атрибутом в измерении, на котором основана таблица, например привязок для свойств `KeyColumns`, `NameColumn`, `ValueColumn`, `CustomRollupColumn`, `CustomRollupPropertiesColumn` и `UnaryOperatorColumn` каждого атрибута.  
  
 Отношения  
 Мастер формирует связи между столбцом для каждого родительского атрибута и первичным ключом таблицы измерения.  
  
 Мастер также формирует связь с первичным ключом во всех имеющихся дополнительных таблицах измерений, определенных как ссылочное измерение в кубе.  
  
 Ограничения  
 По умолчанию мастер формирует ограничение первичного ключа для каждой таблицы измерения, основанное на ключевом атрибуте измерения. При создании ограничения первичного ключа по умолчанию формируется отдельный столбец имен. Если первичный ключ в базе данных решено не создавать, то в представлении источника данных создается логический первичный ключ.  
  
> [!NOTE]  
>  Если в измерении, на котором основана таблица измерения, имеется несколько ключевых атрибутов, то возникает ошибка.  
  
 Translations  
 Мастер формирует отдельную таблицу для переведенных значений любого атрибута, для которого требуется столбец перевода. Мастер также создает отдельный столбец для каждого из требуемых языков.  
  
## <a name="fact-tables"></a>Таблицы фактов  
 Для каждой группы мер в кубе мастер формирования схем формирует таблицу фактов, которая включается в предметную область базы данных. Структура таблицы фактов зависит от параметров, заданных при разработке группы мер, на которых основана таблица, и связей, определенных между группой мер и любыми включенными измерениями.  
  
 Столбцы  
 Мастер формирует по одному столбцу для всех мер, за исключением мер, использующих статистическую функцию `Count`. Для таких мер соответствующий столбец в таблице фактов не требуется.  
  
 Мастер также формирует по одному столбцу для всех столбцов атрибута гранулярности каждой обычной связи измерений в группе мер, а также по одному или несколько столбцов для привязок, связанных с каждым атрибутом измерения, имеющим фактическую связь измерений с группой мер, на которой основана таблица.  
  
 Отношения  
 Мастер формирует по одной связи для всех обычных связей измерений из таблицы фактов с атрибутом гранулярности таблицы измерения. Если гранулярность основана на ключевом атрибуте таблицы измерения, то связь создается в базе данных и в представлении источника данных. Если гранулярность основана на другом атрибуте, то связь создается только в представлении источника данных.  
  
 Если в мастере выбрано создание индексов, то для каждого из этих столбцов связи создается некластеризованный индекс.  
  
 Ограничения  
 Первичные ключи в таблицах фактов не формируются.  
  
 Если выбрано задание ссылочной целостности, то между таблицами измерений и таблицами фактов создаются ограничения ссылочной целостности.  
  
 Translations  
 Мастер формирует отдельную таблицу для переведенных значений любого свойства в группе мер, для которого требуется столбец перевода. Мастер также создает отдельный столбец для каждого из требуемых языков.  
  
## <a name="data-type-conversion-and-default-lengths"></a>Конвертация типов данных и длины по умолчанию  
 Мастер формирования схем игнорирует типы данных во всех случаях, за исключением столбцов, использующих [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] `wchar` тип данных. Размер данных `wchar` преобразуется непосредственно в тип данных `nvarchar`. Если заданная длина столбца, использующего размер `wchar`, превышает 4 000 байт, то мастер формирования схем формирует ошибку.  
  
 Если элемент данных, например привязка атрибута, не имеет заданной длины, то в столбце используется одно из значений длины по умолчанию, перечисленных в следующей таблице.  
  
|Элемент данных|Длина по умолчанию (в байтах)|  
|---------------|------------------------------|  
|KeyColumn|50|  
|NameColumn|50|  
|CustomRollupColumn|3000|  
|CustomRollupPropertiesColumn|500|  
|UnaryOperatorColumn|1|  
  
## <a name="see-also"></a>См. также:  
 [Основные сведения о добавочном создании](understanding-incremental-generation.md)   
 [Управление изменениями в источниках данных и представлениях источников данных](manage-changes-to-data-source-views-and-data-sources.md)  
  
  

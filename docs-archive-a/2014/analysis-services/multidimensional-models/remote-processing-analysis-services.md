---
title: Удаленная обработка (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: d58bcb3c-0b3f-4ab0-81eb-4fdcc86153af
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4e0d6ade25f5a321e49c748692a961abc369efad
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665625"
---
# <a name="remote-processing-analysis-services"></a><span data-ttu-id="499fa-102">Удаленная обработка (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="499fa-102">Remote Processing (Analysis Services)</span></span>
  <span data-ttu-id="499fa-103">Можно выполнять запланированную или автоматическую обработку на удаленном экземпляре [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , при этом запрос на обработку приходит с одного компьютера, но выполняется на другом компьютере из той же сети.</span><span class="sxs-lookup"><span data-stu-id="499fa-103">You can run scheduled or unattended processing on a remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, where the processing request originates from one computer but executes on another computer on the same network.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="499fa-104">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="499fa-104">Prerequisites</span></span>  
  
-   <span data-ttu-id="499fa-105">Если на каждом компьютере запущены разные версии SQL Server, то клиентские библиотеки должны иметь ту же версию, что и экземпляр [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , обрабатывающий модель.</span><span class="sxs-lookup"><span data-stu-id="499fa-105">If you are running different versions of SQL Server on each computer, the client libraries must match the version of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance that is processing the model.</span></span> <span data-ttu-id="499fa-106">Например, если обработка ведется в экземпляре [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] , то компьютер, от которого исходит запрос, должен иметь клиентскую библиотеку, соответствующую [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="499fa-106">For example, if processing is on a [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] instance, then the computer from which the request originates must have the client library corresponding to [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)].</span></span> <span data-ttu-id="499fa-107">Дополнительные сведения см. в разделе [Поставщики данных, используемые для соединений со службами Analysis Services](../instances/data-providers-used-for-analysis-services-connections.md).</span><span class="sxs-lookup"><span data-stu-id="499fa-107">See [Data providers used for Analysis Services connections](../instances/data-providers-used-for-analysis-services-connections.md).</span></span>  
  
-   <span data-ttu-id="499fa-108">На удаленном сервере должна быть включена функция **Разрешить удаленные соединения с данным компьютером** , а учетная запись, выдающая запрос на обработку, должна быть в списке разрешенных пользователей.</span><span class="sxs-lookup"><span data-stu-id="499fa-108">On the remote server, **Allow remote connections to this computer** must be enabled, and the account issuing the processing request must be listed as an allowed user.</span></span>  
  
-   <span data-ttu-id="499fa-109">Правила брандмауэра Windows должны разрешать входящие соединения с [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="499fa-109">Windows firewall rules must be configured to allow inbound connections to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="499fa-110">Проверьте возможность подключения к удаленному экземпляру [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] с помощью [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="499fa-110">Verify you can connect to the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="499fa-111">См. раздел [Configure the Windows Firewall to Allow Analysis Services Access](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span><span class="sxs-lookup"><span data-stu-id="499fa-111">See [Configure the Windows Firewall to Allow Analysis Services Access](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
-   <span data-ttu-id="499fa-112">Устраните все ошибки локальной обработки перед попыткой проведения удаленной обработки.</span><span class="sxs-lookup"><span data-stu-id="499fa-112">Resolve any existing local processing errors before attempting remote processing.</span></span> <span data-ttu-id="499fa-113">Проверьте, чтобы при получении локального запроса на обработку данные успешно извлекались из внешнего реляционного источника данных.</span><span class="sxs-lookup"><span data-stu-id="499fa-113">Verify that when the processing request is local, data can be successfully retrieved from the external relational data source.</span></span> <span data-ttu-id="499fa-114">Инструкции по настройке учетных данных для получения данных см. в разделе [Задание параметров олицетворения (службы SSAS — многомерные)](set-impersonation-options-ssas-multidimensional.md).</span><span class="sxs-lookup"><span data-stu-id="499fa-114">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](set-impersonation-options-ssas-multidimensional.md) for instructions on specifying credentials used to retrieve data.</span></span>  
  
## <a name="on-demand-remote-processing"></a><span data-ttu-id="499fa-115">Удаленная обработка по запросу</span><span class="sxs-lookup"><span data-stu-id="499fa-115">On-demand remote processing</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="499fa-116">принимает запросы на обработку от учетных записей пользователей или приложений с правами администратора [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="499fa-116">accepts processing requests from user or application accounts that have [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] administrator permissions.</span></span> <span data-ttu-id="499fa-117">Если вы являетесь администратором, проверьте возможность подключения к удаленному экземпляру и обработайте базу данных вручную через удаленное соединение.</span><span class="sxs-lookup"><span data-stu-id="499fa-117">If you are an administrator, verify that you can connect to the remote instance and process the database manually over the remote connection.</span></span>  
  
1.  <span data-ttu-id="499fa-118">На компьютере, который будет использоваться для планирования обработки, запустите [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] и подключитесь к удаленному экземпляру [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="499fa-118">On the computer that will be used to schedule processing, start [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and connect to the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span>  
  
2.  <span data-ttu-id="499fa-119">Щелкните правой кнопкой мыши базу данных, выберите команду **Обработать**, переведите указатель мыши на **Скрипт** и выберите **Действие со скриптом в новом окне запросов**.</span><span class="sxs-lookup"><span data-stu-id="499fa-119">Right-click the database, select **Process**, point to **Script** and choose **Script Action to New Query Window**.</span></span> <span data-ttu-id="499fa-120">В окне запроса появятся команды для начала обработки.</span><span class="sxs-lookup"><span data-stu-id="499fa-120">Commands used to invoke processing will appear in the query window.</span></span>  
  
3.  <span data-ttu-id="499fa-121">Нажмите кнопку **ОК** , чтобы начать обработку.</span><span class="sxs-lookup"><span data-stu-id="499fa-121">Click **OK** to begin processing.</span></span>  
  
     <span data-ttu-id="499fa-122">Успешное завершение данной задачи приведет к получению XMLA-запроса, который можно внедрить в запланированное задание.</span><span class="sxs-lookup"><span data-stu-id="499fa-122">Successful completion of this task provides an XMLA query that you can embed in a scheduled job.</span></span> <span data-ttu-id="499fa-123">Также это подтверждает, что нет никаких проблем с соединением.</span><span class="sxs-lookup"><span data-stu-id="499fa-123">It also confirms there are no connection problems.</span></span>  
  
## <a name="schedule-remote-processing-using-sql-server-agent-service"></a><span data-ttu-id="499fa-124">Планирование удаленной обработки с помощью службы агента SQL Server</span><span class="sxs-lookup"><span data-stu-id="499fa-124">Schedule remote processing using SQL Server Agent Service</span></span>  
 <span data-ttu-id="499fa-125">По умолчанию служба агента SQL Server запускается для виртуальной учетной записи с сетевыми подключениями, созданными с помощью учетной записи машины.</span><span class="sxs-lookup"><span data-stu-id="499fa-125">By default, SQL Server Agent service runs under a virtual account, with network connections made using the machine account.</span></span> <span data-ttu-id="499fa-126">Чтобы не давать административные права учетной записи машины на удаленном экземпляре [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , следует сменить параметры учетной записи службы агента SQL Server так, чтобы она выполнялась как учетная запись пользователя домена с наименьшими привилегиями.</span><span class="sxs-lookup"><span data-stu-id="499fa-126">To avoid having to give a machine account administrative rights on the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, you should change the SQL Server Agent service account to run as a least-privilege domain user account.</span></span>  
  
 <span data-ttu-id="499fa-127">Проверьте, чтобы были предоставлены все необходимые разрешения, включая права **sysadmin** , для экземпляра Database Engine, где выполняется служба.</span><span class="sxs-lookup"><span data-stu-id="499fa-127">Be sure to grant all of the necessary permissions, including giving the account **sysadmin** rights on the Database Engine instance providing the service.</span></span>  
  
 <span data-ttu-id="499fa-128">Используйте следующие ссылки для указания разрешений:</span><span class="sxs-lookup"><span data-stu-id="499fa-128">Use the following links to set permissions:</span></span>  
  
-   [<span data-ttu-id="499fa-129">Настройка агента SQL Server</span><span class="sxs-lookup"><span data-stu-id="499fa-129">Configure SQL Server Agent</span></span>](../../ssms/agent/configure-sql-server-agent.md)  
  
-   <span data-ttu-id="499fa-130">Если предоставление разрешений[SQL Server Agent Components](../../ssms/agent/sql-server-agent.md#Components) не поддерживается, **SQL Server Agent Components** предлагает альтернативные предопределенные роли сервера.</span><span class="sxs-lookup"><span data-stu-id="499fa-130">[SQL Server Agent Components](../../ssms/agent/sql-server-agent.md#Components) suggests alternative fixed server roles if granting **sysadmin** permissions is not possible.</span></span>  
  
 <span data-ttu-id="499fa-131">После настройки разрешений учетной записи выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="499fa-131">After account permissions are configured, continue with these steps.</span></span>  
  
#### <a name="grant-the-sql-server-agent-account-administrator-permission-on-ssas"></a><span data-ttu-id="499fa-132">Предоставьте учетной записи агента SQL Server разрешения администратора на службы SSAS.</span><span class="sxs-lookup"><span data-stu-id="499fa-132">Grant the SQL Server Agent account administrator permission on SSAS</span></span>  
  
1.  <span data-ttu-id="499fa-133">Используя среду [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], подключитесь к удаленному экземпляру [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="499fa-133">Using [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], connect to the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span>  
  
2.  <span data-ttu-id="499fa-134">Щелкните правой кнопкой мыши имя сервера и выберите пункт**Свойства**, а затем **Безопасность**.</span><span class="sxs-lookup"><span data-stu-id="499fa-134">Right-click the server name, click P**roperties**, and then click **Security**.</span></span>  
  
3.  <span data-ttu-id="499fa-135">Нажмите кнопку **Добавить** , чтобы добавить учетную запись агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="499fa-135">Click **Add** to add the SQL Server Agent account.</span></span>  
  
#### <a name="create-the-job"></a><span data-ttu-id="499fa-136">Создание задания</span><span class="sxs-lookup"><span data-stu-id="499fa-136">Create the Job</span></span>  
  
1.  <span data-ttu-id="499fa-137">В среде Management Studio подключитесь к локальному экземпляру Database Engine.</span><span class="sxs-lookup"><span data-stu-id="499fa-137">In Management Studio, connect to the local Database Engine instance.</span></span> <span data-ttu-id="499fa-138">Агент SQL Server будет показан в обозревателе объектов как последний элемент списка.</span><span class="sxs-lookup"><span data-stu-id="499fa-138">SQL Server Agent is the last item in Object Explorer.</span></span> <span data-ttu-id="499fa-139">При необходимости запустите службу.</span><span class="sxs-lookup"><span data-stu-id="499fa-139">If necessary, start the service.</span></span>  
  
2.  <span data-ttu-id="499fa-140">Щелкните правой кнопкой мыши узел **Задание**, выберите пункт **Создать** и введите имя.</span><span class="sxs-lookup"><span data-stu-id="499fa-140">Right-click **Job**s, click **New Job** and then enter a name.</span></span>  
  
3.  <span data-ttu-id="499fa-141">В мастере нажмите **Создать** и введите имя.</span><span class="sxs-lookup"><span data-stu-id="499fa-141">In Steps, click **New** and then enter a name.</span></span>  
  
4.  <span data-ttu-id="499fa-142">В поле "Тип" выберите **Команда служб SQL Server Analysis Services**.</span><span class="sxs-lookup"><span data-stu-id="499fa-142">In Type, choose **SQL Server Analysis Services Command**.</span></span>  
  
5.  <span data-ttu-id="499fa-143">В поле "Сервер" введите имя удаленного экземпляра [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="499fa-143">In Server, enter the name of the remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span>  
  
6.  <span data-ttu-id="499fa-144">В поле "Команда" вставьте XMLA-команду для обработки базы данных.</span><span class="sxs-lookup"><span data-stu-id="499fa-144">In Command, paste the XMLA command for processing the database.</span></span> <span data-ttu-id="499fa-145">Это XMLA-скрипт, сформированный на предыдущем шаге проверки удаленной обработки по запросу.</span><span class="sxs-lookup"><span data-stu-id="499fa-145">This is the XMLA script that you generated in the verification step for on-demand remote processing.</span></span> <span data-ttu-id="499fa-146">Нажмите кнопку **ОК** , чтобы сохранить задание.</span><span class="sxs-lookup"><span data-stu-id="499fa-146">Click **OK** to save the job.</span></span>  
  
#### <a name="start-sql-server-profiler"></a><span data-ttu-id="499fa-147">Запуск приложения SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="499fa-147">Start SQL Server Profiler</span></span>  
  
1.  <span data-ttu-id="499fa-148">На удаленном компьютере запустите приложения SQL Server Profiler.</span><span class="sxs-lookup"><span data-stu-id="499fa-148">On the remote computer, start SQL Server Profiler.</span></span> <span data-ttu-id="499fa-149">Подключитесь к экземпляру [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и нажмите **Запуск** , чтобы начать трассировку со стандартными событиями.</span><span class="sxs-lookup"><span data-stu-id="499fa-149">Connect to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, and click **Run** to start the trace using the default events.</span></span>  
  
     <span data-ttu-id="499fa-150">Приложение SQL Server Profiler позволяет отслеживать события обработки в реальном времени.</span><span class="sxs-lookup"><span data-stu-id="499fa-150">You will use SQL Server Profiler to monitor the processing events as they occur.</span></span>  
  
2.  <span data-ttu-id="499fa-151">Дополнительно можно задать свойства трассировки так, чтобы события сохранялись в файл или таблицу базы данных.</span><span class="sxs-lookup"><span data-stu-id="499fa-151">Optionally, you can set trace properties to send the trace to a file or table in a database.</span></span>  
  
#### <a name="run-the-job"></a><span data-ttu-id="499fa-152">Запуск задания</span><span class="sxs-lookup"><span data-stu-id="499fa-152">Run the job</span></span>  
  
1.  <span data-ttu-id="499fa-153">На компьютере, где запускается задание, проверьте, может ли задание выполнить базовую операцию.</span><span class="sxs-lookup"><span data-stu-id="499fa-153">On the computer used to run the job, verify that the job can perform the basic operation.</span></span> <span data-ttu-id="499fa-154">В обозревателе объектов агента SQL Server разверните узел **Задания**, щелкните правой кнопкой мыши только что созданное задание и выберите команду **Запустить задание по этапам**.</span><span class="sxs-lookup"><span data-stu-id="499fa-154">In Object Explorer, under SQL Server Agent, expand **Jobs**, right-click the job you just created, and click **Start Job at Step**.</span></span> <span data-ttu-id="499fa-155">Задание будет запущено немедленно.</span><span class="sxs-lookup"><span data-stu-id="499fa-155">The job starts immediately.</span></span> <span data-ttu-id="499fa-156">Ход его выполнения можно наблюдать в приложении SQL Server Profiler.</span><span class="sxs-lookup"><span data-stu-id="499fa-156">You can monitor progress in SQL Server Profiler.</span></span>  
  
2.  <span data-ttu-id="499fa-157">В качестве последнего шага измените задание так, чтобы оно выполнялось по вашему расписанию, добавив необходимые предупреждения и уведомления.</span><span class="sxs-lookup"><span data-stu-id="499fa-157">As a final step, modify the job to run on a schedule that you define, adding any alerts or notifications necessary to administer the job.</span></span> <span data-ttu-id="499fa-158">Также, возможно, потребуется доработать скрипт обработки или создать несколько этапов в задании, чтобы объекты обрабатывались независимо.</span><span class="sxs-lookup"><span data-stu-id="499fa-158">You might also want to refine the processing script, or create multiple steps in the job to process objects independently.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="499fa-159">См. также:</span><span class="sxs-lookup"><span data-stu-id="499fa-159">See Also</span></span>  
 <span data-ttu-id="499fa-160">[Компоненты агент SQL Server](../../ssms/agent/sql-server-agent.md#Components) </span><span class="sxs-lookup"><span data-stu-id="499fa-160">[SQL Server Agent Components](../../ssms/agent/sql-server-agent.md#Components) </span></span>  
 <span data-ttu-id="499fa-161">[Планирование административных задач SSAS с помощью агент SQL Server](../instances/schedule-ssas-administrative-tasks-with-sql-server-agent.md) </span><span class="sxs-lookup"><span data-stu-id="499fa-161">[Schedule SSAS Administrative Tasks with SQL Server Agent](../instances/schedule-ssas-administrative-tasks-with-sql-server-agent.md) </span></span>  
 <span data-ttu-id="499fa-162">[Пакетная обработка &#40;Analysis Services&#41;](batch-processing-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="499fa-162">[Batch Processing &#40;Analysis Services&#41;](batch-processing-analysis-services.md) </span></span>  
 <span data-ttu-id="499fa-163">[Обработка объектов многомерной модели](processing-a-multidimensional-model-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="499fa-163">[Multidimensional Model Object Processing](processing-a-multidimensional-model-analysis-services.md) </span></span>  
 [<span data-ttu-id="499fa-164">Обработка объектов (XMLA)</span><span class="sxs-lookup"><span data-stu-id="499fa-164">Processing Objects &#40;XMLA&#41;</span></span>](https://docs.microsoft.com/bi-reference/xmla/xml-elements-objects)  
  
  

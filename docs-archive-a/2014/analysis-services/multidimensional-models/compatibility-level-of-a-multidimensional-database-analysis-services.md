---
title: Установка уровня совместимости для многомерной базы данных (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 978279e6-a581-4184-af9d-8701b9826a89
author: minewiskan
ms.author: owend
ms.openlocfilehash: eea3d522abc5133e759cf476f3b169fd570b196f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87737121"
---
# <a name="set-the-compatibility-level-of-a-multidimensional-database-analysis-services"></a><span data-ttu-id="04a44-102">Задание уровня совместимости для многомерной базы данных (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="04a44-102">Set the Compatibility Level of a Multidimensional Database (Analysis Services)</span></span>
  <span data-ttu-id="04a44-103">В [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]свойство "уровень совместимости" базы данных определяет ее функциональный уровень.</span><span class="sxs-lookup"><span data-stu-id="04a44-103">In [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the database compatibility level property determines the functional level of a database.</span></span> <span data-ttu-id="04a44-104">Уровень совместимости уникален для каждого типа модели.</span><span class="sxs-lookup"><span data-stu-id="04a44-104">Compatibility levels are unique to each model type.</span></span> <span data-ttu-id="04a44-105">Например, уровень совместимости `1100` имеет различное значение в зависимости от того, является ли база данных многомерной или табличной.</span><span class="sxs-lookup"><span data-stu-id="04a44-105">For example, a compatibility level of `1100` has a different meaning depending on whether the database is multidimensional or tabular.</span></span>  
  
 <span data-ttu-id="04a44-106">Этот раздел описывает уровень совместимости только для многомерных баз данных.</span><span class="sxs-lookup"><span data-stu-id="04a44-106">This topic describes compatibility level for multidimensional databases only.</span></span> <span data-ttu-id="04a44-107">Дополнительные сведения о табличных решениях см. в разделе [уровень совместимости &#40;табличный пакет обновления 1 (SP1)&#41;](../tabular-models/compatibility-level-for-tabular-models-in-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="04a44-107">For more information about tabular solutions, see [Compatibility Level &#40;SSAS Tabular SP1&#41;](../tabular-models/compatibility-level-for-tabular-models-in-analysis-services.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="04a44-108">Табличные модели имеют дополнительные уровни совместимости базы данных, неприменимые к многомерным моделям.</span><span class="sxs-lookup"><span data-stu-id="04a44-108">Tabular models have additional database compatibility levels that are not applicable to multidimensional models.</span></span> <span data-ttu-id="04a44-109">Для многомерных моделей уровень совместимости `1103` не существует.</span><span class="sxs-lookup"><span data-stu-id="04a44-109">Compatibility level `1103` does not exist for multidimensional models.</span></span> <span data-ttu-id="04a44-110">Дополнительные сведения о табличных решениях см. [в статье новые возможности табличной модели в SQL Server 2012 с пакетом обновления 1 (SP1) и уровень совместимости](https://go.microsoft.com/fwlink/?LinkId=301727) `1103` .</span><span class="sxs-lookup"><span data-stu-id="04a44-110">See [What is new for the Tabular model in SQL Server 2012 SP1 and compatibility level](https://go.microsoft.com/fwlink/?LinkId=301727) for more information about `1103` for tabular solutions.</span></span>  
  
 <span data-ttu-id="04a44-111">**Уровень совместимости для многомерных баз данных**</span><span class="sxs-lookup"><span data-stu-id="04a44-111">**Compatibility Levels for multidimensional databases**</span></span>  
  
 <span data-ttu-id="04a44-112">В настоящее время единственной особенностью многомерных баз данных, зависящей от функционального уровня, является архитектура хранилища строк.</span><span class="sxs-lookup"><span data-stu-id="04a44-112">Currently, the only multidimensional database behavior that varies by functional level is string storage architecture.</span></span> <span data-ttu-id="04a44-113">Поднимая уровень совместимости базы данных, можно переопределить максимальный предел в 4 ГБ для хранилища строк с мерами и измерениями.</span><span class="sxs-lookup"><span data-stu-id="04a44-113">By raising the database compatibility level, you can override the 4 gigabyte maximum limit for string storage of measures and dimensions.</span></span>  
  
 <span data-ttu-id="04a44-114">Для многомерной базы данных допустимы следующие значения для свойства `CompatibilityLevel`.</span><span class="sxs-lookup"><span data-stu-id="04a44-114">For a multidimensional database, valid values for the `CompatibilityLevel` property include the following:</span></span>  
  
|<span data-ttu-id="04a44-115">Параметр</span><span class="sxs-lookup"><span data-stu-id="04a44-115">Setting</span></span>|<span data-ttu-id="04a44-116">Описание</span><span class="sxs-lookup"><span data-stu-id="04a44-116">Description</span></span>|  
|-------------|-----------------|  
|`1050`|<span data-ttu-id="04a44-117">Это значение недоступно в скриптах и инструментах, но соответствует базам данных, созданным в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]или [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span><span class="sxs-lookup"><span data-stu-id="04a44-117">This value is not visible in script or tools, but it corresponds to databases created in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], or [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="04a44-118">Любая база данных, в которой значение `CompatibilityLevel` явным образом не задано, неявно работает на уровне `1050`.</span><span class="sxs-lookup"><span data-stu-id="04a44-118">Any database that does not have `CompatibilityLevel` explicitly set is implicitly running at the `1050` level.</span></span>|  
|`1100`|<span data-ttu-id="04a44-119">Это значение по умолчанию для новых баз данных, созданных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="04a44-119">This is the default value for new databases that you create in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="04a44-120">К тому же его можно задавать для баз данных, созданных в более ранних версиях служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , чтобы разрешить использование функций, которые поддерживаются только на этом уровне совместимости, а именно увеличенного хранилища строк для атрибутов измерений или мер числа различных объектов, содержащих строковые данные.</span><span class="sxs-lookup"><span data-stu-id="04a44-120">You can also specify it for databases created in earlier versions of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to enable the use of features that are supported only at this compatibility level (namely, increased string storage for dimension attributes or distinct count measures that contain string data).</span></span><br /><br /> <span data-ttu-id="04a44-121">Базы данных, имеющие `CompatibilityLevel` набор для `1100` получения дополнительного свойства, `StringStoresCompatibilityLevel` , позволяющего выбрать альтернативное хранилище строк для секций и измерений.</span><span class="sxs-lookup"><span data-stu-id="04a44-121">Databases that have a `CompatibilityLevel` set to `1100` get an additional property, `StringStoresCompatibilityLevel`, that lets you choose alternative string storage for partitions and dimensions.</span></span>|  
  
> [!WARNING]  
>  <span data-ttu-id="04a44-122">Повышение уровня совместимости базы данных необратимо.</span><span class="sxs-lookup"><span data-stu-id="04a44-122">Setting the database compatibility to a higher level is irreversible.</span></span> <span data-ttu-id="04a44-123">После увеличения уровня совместимости до необходимо `1100` продолжить выполнение базы данных на новых серверах.</span><span class="sxs-lookup"><span data-stu-id="04a44-123">After you increase the compatibility level to `1100`, you must continue to run the database on newer servers.</span></span> <span data-ttu-id="04a44-124">Нельзя выполнить откат до `1050` .</span><span class="sxs-lookup"><span data-stu-id="04a44-124">You cannot rollback to `1050`.</span></span> <span data-ttu-id="04a44-125">Невозможно присоединить или восстановить `1100` базу данных на сервере версии, предшествующей [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="04a44-125">You cannot attach or restore an `1100` database on a server version that is earlier than [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="04a44-126">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="04a44-126">Prerequisites</span></span>  
 <span data-ttu-id="04a44-127">Уровни совместимости баз данных введены в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)].</span><span class="sxs-lookup"><span data-stu-id="04a44-127">Database compatibility levels are introduced in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)].</span></span> <span data-ttu-id="04a44-128">Для просмотра или установки уровня совместимости базы данных необходимо наличие служб [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или боле поздней версии.</span><span class="sxs-lookup"><span data-stu-id="04a44-128">You must have [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or higher to view or set the database compatibility level.</span></span>  
  
 <span data-ttu-id="04a44-129">База данных не может быть локальным кубом.</span><span class="sxs-lookup"><span data-stu-id="04a44-129">The database cannot be a local cube.</span></span> <span data-ttu-id="04a44-130">Локальные кубы не поддерживают свойство `CompatibilityLevel`.</span><span class="sxs-lookup"><span data-stu-id="04a44-130">Local cubes do not support the `CompatibilityLevel` property.</span></span>  
  
 <span data-ttu-id="04a44-131">База данных должна быть создана в предыдущем выпуске (SQL Server 2008 R2 или более раннем), затем присоединена или восстановлена на сервере [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или боле поздней версии с версии.</span><span class="sxs-lookup"><span data-stu-id="04a44-131">The database must have been created in a previous release (SQL Server 2008 R2 or earlier) and then attached or restored to a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or higher server.</span></span> <span data-ttu-id="04a44-132">Базы данных, развернутые в SQL Server 2012, уже на уровне `1100` и не могут быть понижены для выполнения на более низком уровне.</span><span class="sxs-lookup"><span data-stu-id="04a44-132">Databases deployed to SQL Server 2012 are already at `1100` and cannot be downgraded to run at a lower level.</span></span>  
  
## <a name="determine-the-existing-database-compatibility-level-for-a-multidimensional-database"></a><span data-ttu-id="04a44-133">Определите существующий уровень совместимости базы данных для многомерной базы данных</span><span class="sxs-lookup"><span data-stu-id="04a44-133">Determine the existing database compatibility level for a multidimensional database</span></span>  
 <span data-ttu-id="04a44-134">Существует только один способ просмотреть или изменить уровень совместимости базы данных — посредством XMLA.</span><span class="sxs-lookup"><span data-stu-id="04a44-134">The only way to view or modify the database compatibility level is through XMLA.</span></span> <span data-ttu-id="04a44-135">Можно просмотреть или изменить скрипт XML для аналитики, указывающий базу данных в SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="04a44-135">You can view or modify the XMLA script that specifies your database in SQL Server Management Studio.</span></span>  
  
 <span data-ttu-id="04a44-136">Если поиск определения XMLA базы данных на наличие свойства `CompatibilityLevel` показывает, что последнее не существует, то, по-видимому, база данных находится на уровне `1050`.</span><span class="sxs-lookup"><span data-stu-id="04a44-136">If you search the XMLA definition of a database for the property `CompatibilityLevel` and it does not exist, you most likely have a database at the `1050` level.</span></span>  
  
 <span data-ttu-id="04a44-137">Инструкции по просмотру и изменению скрипта XMLA даны в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="04a44-137">Instructions for viewing and modifying the XMLA script are provided in the next section.</span></span>  
  
## <a name="set-the-database-compatibility-level-in-sql-server-management-studio"></a><span data-ttu-id="04a44-138">Установка уровня совместимости базы данных в среде SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="04a44-138">Set the database compatibility level in SQL Server Management Studio</span></span>  
  
1.  <span data-ttu-id="04a44-139">Прежде чем повысить уровень совместимости, сделайте резервную копию базы данных на тот случай, если потребуется отменить изменения позже.</span><span class="sxs-lookup"><span data-stu-id="04a44-139">Before raising the compatibility level, backup the database in case you want to reverse your changes later.</span></span>  
  
2.  <span data-ttu-id="04a44-140">В SQL Server Management Studio подключитесь к серверу [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , на котором размещена база данных.</span><span class="sxs-lookup"><span data-stu-id="04a44-140">Using SQL Server Management Studio, connect to the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server that hosts the database.</span></span>  
  
3.  <span data-ttu-id="04a44-141">Щелкните правой кнопкой мыши имя базы данных, наведите указатель на команду **Создать скрипт для базы данных**, затем на команду **Используя ALTER**и выберите **В новом окне редактора запросов**.</span><span class="sxs-lookup"><span data-stu-id="04a44-141">Right-click the database name, point to **Script Database as**, point to **ALTER to**, and then select **New Query Editor Window**.</span></span> <span data-ttu-id="04a44-142">В новом окне откроется XMLA-представление базы данных.</span><span class="sxs-lookup"><span data-stu-id="04a44-142">An XMLA representation of the database will open in a new window.</span></span>  
  
4.  <span data-ttu-id="04a44-143">Скопируйте следующий XML-элемент:</span><span class="sxs-lookup"><span data-stu-id="04a44-143">Copy the following XML element:</span></span>  
  
    ```  
    <ddl200:CompatibilityLevel>1100</ddl200:CompatibilityLevel>  
    ```  
  
5.  <span data-ttu-id="04a44-144">Вставьте его после закрывающего элемента `</Annotations>` , но перед элементом `<Language>` .</span><span class="sxs-lookup"><span data-stu-id="04a44-144">Paste it after the `</Annotations>` closing element and before the `<Language>` element.</span></span> <span data-ttu-id="04a44-145">Код XML должен выглядеть, как в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="04a44-145">The XML should look similar to the following example:</span></span>  
  
    ```  
    </Annotations>  
    <ddl200:CompatibilityLevel>1100</ddl200:CompatibilityLevel>  
    <Language>1033</Language>  
    ```  
  
6.  <span data-ttu-id="04a44-146">Сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="04a44-146">Save the file.</span></span>  
  
7.  <span data-ttu-id="04a44-147">Чтобы выполнить скрипт, выберите пункт **Выполнить** в меню "Запрос" или нажмите клавишу F5.</span><span class="sxs-lookup"><span data-stu-id="04a44-147">To run the script, click **Execute** on the Query menu or press F5.</span></span>  
  
## <a name="supported-operations-that-require-the-same-compatibility-level"></a><span data-ttu-id="04a44-148">Поддерживаемые операции, требующие такого же уровня совместимости</span><span class="sxs-lookup"><span data-stu-id="04a44-148">Supported Operations that Require the Same Compatibility Level</span></span>  
 <span data-ttu-id="04a44-149">Следующие операции требуют, чтобы у баз данных-источников был одинаковый уровень совместимости.</span><span class="sxs-lookup"><span data-stu-id="04a44-149">The following operations require that the source databases share the same compatibility level.</span></span>  
  
1.  <span data-ttu-id="04a44-150">Слияние секций разных баз данных поддерживается, только если обе базы данных имеют одинаковый уровень совместимости.</span><span class="sxs-lookup"><span data-stu-id="04a44-150">Merging partitions from different databases is supported only if both databases share the same compatibility level.</span></span>  
  
2.  <span data-ttu-id="04a44-151">Использование связанных измерений из другой базы данных требует одинакового уровня совместимости.</span><span class="sxs-lookup"><span data-stu-id="04a44-151">Using linked dimensions from another database requires the same compatibility level.</span></span> <span data-ttu-id="04a44-152">Например, если необходимо использовать связанное измерение из [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] базы данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] базе данных, необходимо перенести [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] базу данных на [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] сервер и установить уровень совместимости `1100` .</span><span class="sxs-lookup"><span data-stu-id="04a44-152">For example, if you want to use a linked dimension from a [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] database in a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] database, you must port the [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] database to a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] server and set the compatibility level to `1100`.</span></span>  
  
3.  <span data-ttu-id="04a44-153">Синхронизация серверов поддерживается только для серверов с одинаковой версией и уровнем совместимости баз данных.</span><span class="sxs-lookup"><span data-stu-id="04a44-153">Synchronizing servers is only supported for servers that share the same version and database compatibility level.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="04a44-154">Next Steps</span><span class="sxs-lookup"><span data-stu-id="04a44-154">Next Steps</span></span>  
 <span data-ttu-id="04a44-155">После повышения уровня совместимости базы данных можно задать свойство `StringStoresCompatibilityLevel` в [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="04a44-155">After you increase the database compatibility level, you can set the `StringStoresCompatibilityLevel` property in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="04a44-156">Это увеличит строковое хранилище для измерений и мер.</span><span class="sxs-lookup"><span data-stu-id="04a44-156">This increases string storage for measures and dimensions.</span></span> <span data-ttu-id="04a44-157">Дополнительные сведения об этой функции см. в разделе [Настройка хранилища строк для измерений и секций](configure-string-storage-for-dimensions-and-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="04a44-157">For more information about this feature, see [Configure String Storage for Dimensions and Partitions](configure-string-storage-for-dimensions-and-partitions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="04a44-158">См. также:</span><span class="sxs-lookup"><span data-stu-id="04a44-158">See Also</span></span>  
 [<span data-ttu-id="04a44-159">Резервное копирование, восстановление и синхронизация баз данных (XMLA)</span><span class="sxs-lookup"><span data-stu-id="04a44-159">Backing Up, Restoring, and Synchronizing Databases &#40;XMLA&#41;</span></span>](../multidimensional-models-scripting-language-assl-xmla/backing-up-restoring-and-synchronizing-databases-xmla.md)  
  
  

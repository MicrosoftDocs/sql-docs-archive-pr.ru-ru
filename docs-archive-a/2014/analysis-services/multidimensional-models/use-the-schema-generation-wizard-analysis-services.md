---
title: Использование мастера формирования схем (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, steps
- relational schema [Analysis Services], Schema Generation Wizard
ms.assetid: 8c710745-d41d-4c31-b6a2-2956229df75a
author: minewiskan
ms.author: owend
ms.openlocfilehash: fa65c2c6f377a375d0fc6aa8298cdec749805b6c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665612"
---
# <a name="use-the-schema-generation-wizard-analysis-services"></a><span data-ttu-id="e3682-102">Использование мастера формирования схем (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="e3682-102">Use the Schema Generation Wizard (Analysis Services)</span></span>
  <span data-ttu-id="e3682-103">На стадии формирования мастер формирования схем требует ограниченный объем сведений.</span><span class="sxs-lookup"><span data-stu-id="e3682-103">The Schema Generation Wizard requires a limited amount of information during the generation phase.</span></span> <span data-ttu-id="e3682-104">Большая часть данных, необходимых мастеру формирования схем для формирования реляционных схем, извлекается из кубов и измерений служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , уже созданных в проекте.</span><span class="sxs-lookup"><span data-stu-id="e3682-104">Most of the information that the Schema Generation Wizard requires for generating relational schemas is extracted from the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions that you already created in the project.</span></span> <span data-ttu-id="e3682-105">Кроме того, можно настроить то, каким образом будет создана предметная область и как будут именоваться объекты схемы.</span><span class="sxs-lookup"><span data-stu-id="e3682-105">Additionally, you can customize how the subject area database schema is generated and how objects in the schema are named.</span></span>  
  
## <a name="start-the-wizard"></a><span data-ttu-id="e3682-106">Запуск мастера</span><span class="sxs-lookup"><span data-stu-id="e3682-106">Start the Wizard</span></span>  
 <span data-ttu-id="e3682-107">Мастер формирования схем можно открыть в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] несколькими способами.</span><span class="sxs-lookup"><span data-stu-id="e3682-107">You can open the Schema Generation Wizard from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] in several different ways:</span></span>  
  
-   <span data-ttu-id="e3682-108">Щелкните правой кнопкой мыши объект проекта служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и выберите в контекстном меню пункт **Сформировать реляционную схему** .</span><span class="sxs-lookup"><span data-stu-id="e3682-108">Right-click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object and then click **Generate Relational Schema** from the context menu.</span></span>  
  
-   <span data-ttu-id="e3682-109">Щелкните правой кнопкой мыши объект проекта служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и выберите в меню **База данных** пункт **Сформировать реляционную схему** .</span><span class="sxs-lookup"><span data-stu-id="e3682-109">Click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object, and then click **Generate Relational Schema** from the **Database** menu.</span></span>  
  
-   <span data-ttu-id="e3682-110">Запустите этот мастер из мастера измерений или мастера кубов, установив флажок **Сформировать схему** на последней странице этих мастеров.</span><span class="sxs-lookup"><span data-stu-id="e3682-110">Start the wizard from within the Dimension Wizard by clicking the **Generate Schema Now** check box on the last page of the wizard.</span></span>  
  
## <a name="step-1-specify-targets"></a><span data-ttu-id="e3682-111">Шаг 1. Указание целей</span><span class="sxs-lookup"><span data-stu-id="e3682-111">Step 1: Specify Targets</span></span>  
 <span data-ttu-id="e3682-112">Необходимо указать представление источника данных, в котором мастер формирования схем должен сформировать схему для базы данных предметной области.</span><span class="sxs-lookup"><span data-stu-id="e3682-112">You must specify the data source view (DSV) in which you want the Schema Generation Wizard to generate the schema for the subject area database.</span></span> <span data-ttu-id="e3682-113">Кроме того, можно выбрать существующее представление источника данных, основанное на источнике данных.</span><span class="sxs-lookup"><span data-stu-id="e3682-113">Although you can select an existing DSV, typically you create a new one based on a data source.</span></span> <span data-ttu-id="e3682-114">Можно создать источник данных, основанный на существующем или на новом соединении, или на основе другого объекта.</span><span class="sxs-lookup"><span data-stu-id="e3682-114">You can create the data source based on an existing or a new connection, or based on another object.</span></span> <span data-ttu-id="e3682-115">Мастер формирования схем формирует схему для базы данных предметной области в базе данных, на которую ссылается источник данных, а также в представлении источника данных.</span><span class="sxs-lookup"><span data-stu-id="e3682-115">The Schema Generation Wizard generates the schema for the subject area database in the database referenced by the data source, as well as the data source view.</span></span> <span data-ttu-id="e3682-116">Мастер формирования схем не создает саму базу данных предметной области, он создает реляционную схему для кубов и измерений в указанной существующей базе данных.</span><span class="sxs-lookup"><span data-stu-id="e3682-116">The Schema Generation Wizard does not create the subject area database itself; instead, the wizard creates the relational schema to support the cubes and dimensions in an existing database that you specify.</span></span>  
  
 <span data-ttu-id="e3682-117">Когда мастер формирования схем формирует базовые объекты, он привязывает измерения и кубы служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] к сформированным таблицам и столбцам с помощью стилевых привязок представления источников данных.</span><span class="sxs-lookup"><span data-stu-id="e3682-117">When the Schema Generation Wizard generates the underlying objects, it binds the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes to the generated tables and columns by using data source view-style bindings.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e3682-118">Чтобы отменить привязку измерений и кубов служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] с ранее созданными объектами, удалите представление источника данных, к которому привязаны кубы и измерения служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , а затем с помощью мастера формирования схем определите новое представление источника данных для кубов и измерений.</span><span class="sxs-lookup"><span data-stu-id="e3682-118">To unbind [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes from previously generated objects, delete the data source view to which the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions are bound, and then define a new data source view for the cubes and dimensions by using the Schema Generation Wizard.</span></span>  
  
## <a name="step-3-specify-schema-options-for-the-subject-area-database"></a><span data-ttu-id="e3682-119">Шаг 3. Указание параметров схемы для базы данных предметной области</span><span class="sxs-lookup"><span data-stu-id="e3682-119">Step 3: Specify Schema Options for the Subject Area Database</span></span>  
 <span data-ttu-id="e3682-120">Мастер формирования схем позволяет использовать различные параметры для определения схемы, формируемой для базы данных предметной области.</span><span class="sxs-lookup"><span data-stu-id="e3682-120">The Schema Generation Wizard provides a number of options for defining the schema that is generated for the subject area database.</span></span> <span data-ttu-id="e3682-121">Эти параметры можно задать на странице **Параметры схемы базы данных предметной области** мастера.</span><span class="sxs-lookup"><span data-stu-id="e3682-121">You can specify these options on the **Subject Area Database Schema Options** page of the wizard.</span></span>  
  
### <a name="specifying-the-schema-owner"></a><span data-ttu-id="e3682-122">Указание владельца схемы</span><span class="sxs-lookup"><span data-stu-id="e3682-122">Specifying the Schema Owner</span></span>  
 <span data-ttu-id="e3682-123">Можно указать владельца схемы с помощью задания значения параметра **Схема-владелец** равным действительной строке.</span><span class="sxs-lookup"><span data-stu-id="e3682-123">You can specify the owner of the schema by setting the value of **Owning schema** to a valid string.</span></span> <span data-ttu-id="e3682-124">По умолчанию владельцем схемы является проект служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , но можно задать другого владельца.</span><span class="sxs-lookup"><span data-stu-id="e3682-124">The default owner of the schema is the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project, but you can specify any desired schema owner.</span></span>  
  
### <a name="specifying-primary-keys-indexes-and-constraints"></a><span data-ttu-id="e3682-125">Указание первичных ключей, индексов и ограничений</span><span class="sxs-lookup"><span data-stu-id="e3682-125">Specifying Primary Keys, Indexes, and Constraints</span></span>  
 <span data-ttu-id="e3682-126">По умолчанию мастер формирования схем создает ограничение первичного ключа во всех таблицах измерений в базе данных предметной области.</span><span class="sxs-lookup"><span data-stu-id="e3682-126">The Schema Generation Wizard by default creates a primary key constraint in each dimension table in the subject area database.</span></span> <span data-ttu-id="e3682-127">Первичный ключ соответствует атрибуту, который используется в качестве ключевого атрибута в соответствующем измерении служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e3682-127">The primary key corresponds to the attribute that is designated as the key attribute in the corresponding [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimension.</span></span> <span data-ttu-id="e3682-128">Это ограничение улучшает производительность обработки в большинстве сред при минимальных расходах.</span><span class="sxs-lookup"><span data-stu-id="e3682-128">This constraint improves processing performance in most environments, with minimal cost.</span></span> <span data-ttu-id="e3682-129">Логические первичные ключи всегда создаются в представлении источника данных, даже если создание первичного ключа в базе данных предметной области не указано.</span><span class="sxs-lookup"><span data-stu-id="e3682-129">Logical primary keys are always created in the data source view, even if you choose not to create the primary key in the subject area database.</span></span> <span data-ttu-id="e3682-130">Для определения ограничений первичных ключей в таблицах измерений установите флажок **Создать первичные ключи в таблицах измерения**.</span><span class="sxs-lookup"><span data-stu-id="e3682-130">To define primary key constraints on dimension tables, select **Create primary keys on dimension tables**.</span></span>  
  
 <span data-ttu-id="e3682-131">По умолчанию мастер также создает в каждой таблице фактов индексы для внешних ключевых столбцов.</span><span class="sxs-lookup"><span data-stu-id="e3682-131">The wizard by default also creates indexes on the foreign key columns in each fact table.</span></span> <span data-ttu-id="e3682-132">Эти индексы улучшают производительность обработки в большинстве сред.</span><span class="sxs-lookup"><span data-stu-id="e3682-132">These indexes improve processing performance in most environments.</span></span> <span data-ttu-id="e3682-133">Как правило, производительность улучшается за счет обработки запросов, которые службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] формируют для получения новых данных из базы данных предметной области, обычно содержащих значительное количество инструкций соединения между таблицей фактов и таблицами измерений.</span><span class="sxs-lookup"><span data-stu-id="e3682-133">Performance is typically improved because the processing queries that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] generates to retrieve new data from the subject area database typically include a significant number of join statements between the fact table and the dimension tables.</span></span> <span data-ttu-id="e3682-134">Чтобы определить индексы для внешних ключевых столбцов во всех таблицах фактов, выберите пункт **Создать индексы**.</span><span class="sxs-lookup"><span data-stu-id="e3682-134">To define indexes on the foreign key columns in each fact table, select **Create indexes**.</span></span>  
  
 <span data-ttu-id="e3682-135">По умолчанию мастер задает обязательную целостность ссылок между таблицей фактов и каждой из таблиц измерений.</span><span class="sxs-lookup"><span data-stu-id="e3682-135">Finally, the wizard by default enforces referential integrity between the fact table and each of the dimension tables.</span></span> <span data-ttu-id="e3682-136">Если не задать обязательную целостность ссылок, то мастер формирования схем создает эти связи в базе данных и представлении источника данных.</span><span class="sxs-lookup"><span data-stu-id="e3682-136">If you choose not to enforce referential integrity, the Schema Generation Wizard still creates these relationships in the database and the data source view.</span></span> <span data-ttu-id="e3682-137">Чтобы задать обязательную целостность ссылок, выберите пункт **Обязательная целостность ссылок**.</span><span class="sxs-lookup"><span data-stu-id="e3682-137">To enforce referential integrity, select **Enforce referential integrity**.</span></span>  
  
### <a name="preserving-data-for-incremental-generation"></a><span data-ttu-id="e3682-138">Сохранение данных при постепенном создании</span><span class="sxs-lookup"><span data-stu-id="e3682-138">Preserving Data for Incremental Generation</span></span>  
 <span data-ttu-id="e3682-139">По умолчанию мастер формирования схем пытается сохранить данные при обновлении схемы базы данных.</span><span class="sxs-lookup"><span data-stu-id="e3682-139">The Schema Generation Wizard by default attempts to preserve data when the database schema is regenerated.</span></span> <span data-ttu-id="e3682-140">Если мастер формирования схем удаляет строки при изменении схемы, то перед их удалением выдается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="e3682-140">If the Schema Generation Wizard has to delete any rows because of a schema change, you receive a warning before the rows are deleted.</span></span> <span data-ttu-id="e3682-141">Например, необходимо удалить строки для разрешения проблем целостности ссылок после сброса измерения или изменения типа данных при изменении атрибута измерения.</span><span class="sxs-lookup"><span data-stu-id="e3682-141">For example, rows may have to be deleted to solve referential integrity issues because you dropped a dimension or because a data type changed when you changed a dimension attribute.</span></span> <span data-ttu-id="e3682-142">Чтобы сохранить данные при повторном формировании схемы базы данных, установите флажок **Сохранять данные при повторном создании**.</span><span class="sxs-lookup"><span data-stu-id="e3682-142">To preserve data when the database schema is regenerated, select **Preserve data on regeneration**.</span></span>  
  
## <a name="step-4-specify-naming-conventions"></a><span data-ttu-id="e3682-143">Шаг 4. Указание контекста именования</span><span class="sxs-lookup"><span data-stu-id="e3682-143">Step 4: Specify Naming Conventions</span></span>  
 <span data-ttu-id="e3682-144">На странице **Контекст именования** мастера можно определить контекст именования, которые мастер формирования схем использует при формировании определенных объектов в базе данных предметной области.</span><span class="sxs-lookup"><span data-stu-id="e3682-144">You can define the naming conventions that the Schema Generation Wizard uses when generating certain objects in the subject area database on the **Specify Naming Conventions** page of the wizard.</span></span> <span data-ttu-id="e3682-145">Дополнительные сведения о параметрах на странице **Соглашения о наименовании** см. в разделе [Указание контекста именования (мастер формирования схем) (службы Analysis Services — многомерные данные)](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md).</span><span class="sxs-lookup"><span data-stu-id="e3682-145">For more information about the options available on the **Specify Naming Conventions** page, see [Specify Naming Conventions &#40;Schema Generation Wizard&#41; &#40;Analysis Services - Multidimensional Data&#41;](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md).</span></span>  
  
  

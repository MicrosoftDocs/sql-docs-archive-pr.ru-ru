---
title: Иерархия "родители-потомки" | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- hierarchies [Analysis Services], parent-child
- dimensions [Analysis Services], parent-child
- parent attributes [Analysis Services]
- data members [Analysis Services]
- hierarchies [Analysis Services], multilevel
- self-joins
- self-referencing relationships
- members [Analysis Services], data
- parent-child dimensions [Analysis Services]
ms.assetid: 4657f5dc-d88e-48d2-a448-08f79bc89546
author: minewiskan
ms.author: owend
ms.openlocfilehash: b08641e9ba17e6ad2e2f4112e01073d448aa8564
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751516"
---
# <a name="parent-child-hierarchy"></a><span data-ttu-id="be4bc-102">Иерархия "родители-потомки"</span><span class="sxs-lookup"><span data-stu-id="be4bc-102">Parent-Child Hierarchy</span></span>
  <span data-ttu-id="be4bc-103">Иерархия типа «родители-потомки» представляет собой стандартное измерение, содержащее родительский атрибут.</span><span class="sxs-lookup"><span data-stu-id="be4bc-103">A parent-child hierarchy is a hierarchy in a standard dimension that contains a parent attribute.</span></span> <span data-ttu-id="be4bc-104">Родительский атрибут описывает *связь, ссылающуюся на себя*(или *самосоединение*) в пределах главной таблицы измерения.</span><span class="sxs-lookup"><span data-stu-id="be4bc-104">A parent attribute describes a *self-referencing relationship*, or *self-join*, within a dimension main table.</span></span> <span data-ttu-id="be4bc-105">Иерархии типа «родители-потомки» создаются из одного родительского атрибута.</span><span class="sxs-lookup"><span data-stu-id="be4bc-105">Parent-child hierarchies are constructed from a single parent attribute.</span></span> <span data-ttu-id="be4bc-106">Иерархии типа «родители-потомки» присваивается только один уровень, поскольку присутствующие в ней уровни наследуют связи типа «родители-потомки» между элементами, связанными с родительским атрибутом.</span><span class="sxs-lookup"><span data-stu-id="be4bc-106">Only one level is assigned to a parent-child hierarchy, because the levels present in the hierarchy are drawn from the parent-child relationships between members associated with the parent attribute.</span></span> <span data-ttu-id="be4bc-107">Положение элемента в пределах иерархии типа «родители-потомки» определяется свойствами `KeyColumns` и `RootMemberIf` родительского атрибута, в то время как положение элемента в пределах уровня определяется свойством `OrderBy` родительского атрибута.</span><span class="sxs-lookup"><span data-stu-id="be4bc-107">The position of a member in a parent-child hierarchy is determined by the `KeyColumns` and `RootMemberIf` properties of the parent attribute, whereas the position of a member in a level is determined by the `OrderBy` property of the parent attribute.</span></span> <span data-ttu-id="be4bc-108">Дополнительные сведения о свойствах атрибутов см. в статье [Атрибуты и иерархии атрибутов](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span><span class="sxs-lookup"><span data-stu-id="be4bc-108">For more information about attribute properties, see [Attributes and Attribute Hierarchies](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span></span>  
  
 <span data-ttu-id="be4bc-109">Из-за связей типа «родители-потомки» между уровнями в иерархии типа «родители-потомки» некоторые неконечные элементы, помимо данных, статистически вычисленных из дочерних элементов, могут также иметь данные, наследуемые из базовых источников данных.</span><span class="sxs-lookup"><span data-stu-id="be4bc-109">Because of parent-child relationships between levels in a parent-child hierarchy, some nonleaf members can also have data derived from underlying data sources, in addition to data aggregated from child members.</span></span>  
  
## <a name="dimension-schema"></a><span data-ttu-id="be4bc-110">Схема измерения</span><span class="sxs-lookup"><span data-stu-id="be4bc-110">Dimension Schema</span></span>  
 <span data-ttu-id="be4bc-111">Схема измерения иерархии типа «родители-потомки» зависит от связи, ссылающейся на себя, присутствующей в главной таблице измерения.</span><span class="sxs-lookup"><span data-stu-id="be4bc-111">The dimension schema of a parent-child hierarchy depends on a self-referencing relationship present on the dimension main table.</span></span> <span data-ttu-id="be4bc-112">Например, на следующей диаграмме показана главная таблица измерения **DimOrganization** в образце базы данных [!INCLUDE[ssSampleDBDWobject](../../includes/sssampledbdwobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="be4bc-112">For example, the following diagram illustrates the **DimOrganization** dimension main table in the [!INCLUDE[ssSampleDBDWobject](../../includes/sssampledbdwobject-md.md)] sample database.</span></span>  
  
 <span data-ttu-id="be4bc-113">![Ссылающееся на себя соединение в таблице DimOrganization](../dev-guide/media/dimorganization.gif "Ссылающееся на себя соединение в таблице DimOrganization")</span><span class="sxs-lookup"><span data-stu-id="be4bc-113">![Self-referencing join in DimOrganization table](../dev-guide/media/dimorganization.gif "Self-referencing join in DimOrganization table")</span></span>  
  
 <span data-ttu-id="be4bc-114">В этой таблице измерения столбец **ParentOrganizationKey** имеет связь по внешнему ключу с первичным ключевым столбцом **OrganizationKey** .</span><span class="sxs-lookup"><span data-stu-id="be4bc-114">In this dimension table, the **ParentOrganizationKey** column has a foreign key relationship with the **OrganizationKey** primary key column.</span></span> <span data-ttu-id="be4bc-115">Другими словами, каждая запись в этой таблице может быть соотнесена посредством связи типа «родители-потомки» с другой записью в таблице.</span><span class="sxs-lookup"><span data-stu-id="be4bc-115">In other words, each record in this table can be related through a parent-child relationship with another record in the table.</span></span> <span data-ttu-id="be4bc-116">Подобный тип самосоединения обычно используется для представления данных сущности организации (например, структуры управления сотрудниками в отделе).</span><span class="sxs-lookup"><span data-stu-id="be4bc-116">This kind of self-join is generally used to represent organization entity data, such as the management structure of employees in a department.</span></span>  
  
## <a name="hierarchies-and-levels"></a><span data-ttu-id="be4bc-117">Иерархии и уровни</span><span class="sxs-lookup"><span data-stu-id="be4bc-117">Hierarchies and Levels</span></span>  
 <span data-ttu-id="be4bc-118">Измерения, не имеющие связи типа «родители-потомки», образуют иерархии путем группирования и упорядочивания атрибутов.</span><span class="sxs-lookup"><span data-stu-id="be4bc-118">Dimensions that do not have a parent-child relationship construct hierarchies by grouping and ordering attributes.</span></span> <span data-ttu-id="be4bc-119">Эти измерения получают имена уровней для своих иерархий из имен атрибутов.</span><span class="sxs-lookup"><span data-stu-id="be4bc-119">These dimensions derive the level names for their hierarchies from the attribute names.</span></span>  
  
 <span data-ttu-id="be4bc-120">Однако измерения типа «родители-потомки» формируют иерархии типа «родители-потомки» путем проверки данных, которые содержатся в главной таблице измерения, и последующей оценки связей типа «родители-потомки» между записями в таблице.</span><span class="sxs-lookup"><span data-stu-id="be4bc-120">However, parent-child dimensions construct parent-child hierarchies by examining the data that the dimension main table contains, and then evaluating the parent-child relationships between the records in the table.</span></span> <span data-ttu-id="be4bc-121">Дополнительные сведения об иерархиях типа "родители-потомки" см. в разделе [Пользовательские иерархии](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md).</span><span class="sxs-lookup"><span data-stu-id="be4bc-121">For more information about parent-child hierarchies, see [User Hierarchies](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md).</span></span>  
  
 <span data-ttu-id="be4bc-122">Иерархии типа «родители-потомки» не создают имена для уровней в иерархии типа «родители-потомки» на основе атрибутов, используемых для создания иерархии.</span><span class="sxs-lookup"><span data-stu-id="be4bc-122">Parent-child hierarchies do not derive the names for the levels in a parent-child hierarchy from the attributes that are used to create the hierarchy.</span></span> <span data-ttu-id="be4bc-123">Вместо этого эти измерения автоматически создают имена уровней с помощью шаблона именования — строкового выражения, которое можно указать на уровне родительского атрибута, который управляет тем, как атрибут создает иерархию атрибутов.</span><span class="sxs-lookup"><span data-stu-id="be4bc-123">Instead, these dimensions create level names automatically by using a naming template-a string expression you can specify at the level of the parent attribute that controls how the attribute generates the attribute hierarchy.</span></span> <span data-ttu-id="be4bc-124">Дополнительные сведения о задании шаблона имен для родительского атрибута см. в разделе [Атрибуты и иерархии атрибутов](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span><span class="sxs-lookup"><span data-stu-id="be4bc-124">For more information about how to set the naming template for a parent attribute, see [Attributes and Attribute Hierarchies](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span></span>  
  
## <a name="data-members"></a><span data-ttu-id="be4bc-125">Элементы данных</span><span class="sxs-lookup"><span data-stu-id="be4bc-125">Data Members</span></span>  
 <span data-ttu-id="be4bc-126">Обычно конечные элементы в измерении содержат данные, получаемые непосредственно из базовых источников данных, а неконечные элементы содержат данные, получаемые в результате статистических вычислений, применяемых к дочерним элементам.</span><span class="sxs-lookup"><span data-stu-id="be4bc-126">Typically, leaf members in a dimension contain data derived directly from underlying data sources, whereas nonleaf members contain data derived from aggregations performed on child members.</span></span>  
  
 <span data-ttu-id="be4bc-127">Однако иерархии типа «родители-потомки» могут содержать некоторые неконечные элементы, данные которых выводятся из базовых источников данных в дополнение к данным, статистически вычисленным из дочерних элементов.</span><span class="sxs-lookup"><span data-stu-id="be4bc-127">However, parent-child hierarchies might have some nonleaf members whose data is derived from underlying data sources, in addition to data aggregated from child members.</span></span> <span data-ttu-id="be4bc-128">Для этих неконечных элементов в иерархии типа «родители-потомки» можно создавать специальные дочерние элементы, формируемые системой, которые содержат данные базовых таблиц фактов.</span><span class="sxs-lookup"><span data-stu-id="be4bc-128">For these nonleaf members in a parent-child hierarchy, special system-generated child members can be created that contain the underlying fact table data.</span></span> <span data-ttu-id="be4bc-129">Они называются *элементы данных*и содержат значение, которое непосредственно связано с неконечным элементом и независимо от сводного значения, вычисленного на основе наследников неконечного элемента.</span><span class="sxs-lookup"><span data-stu-id="be4bc-129">Referred to as *data members*, these special child members contain a value that is directly associated with a nonleaf member and is independent of the summary value calculated from the descendants of the nonleaf member.</span></span> <span data-ttu-id="be4bc-130">Дополнительные сведения об элементах данных см. в разделе [Атрибуты в иерархиях типа "родители-потомки"](parent-child-dimension-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="be4bc-130">For more information about data members, see [Attributes in Parent-Child Hierarchies](parent-child-dimension-attributes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="be4bc-131">См. также:</span><span class="sxs-lookup"><span data-stu-id="be4bc-131">See Also</span></span>  
 <span data-ttu-id="be4bc-132">[Атрибуты в иерархиях «родители-потомки»](parent-child-dimension-attributes.md) </span><span class="sxs-lookup"><span data-stu-id="be4bc-132">[Attributes in Parent-Child Hierarchies](parent-child-dimension-attributes.md) </span></span>  
 [<span data-ttu-id="be4bc-133">Свойства измерений базы данных</span><span class="sxs-lookup"><span data-stu-id="be4bc-133">Database Dimension Properties</span></span>](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties.md)  
  
  

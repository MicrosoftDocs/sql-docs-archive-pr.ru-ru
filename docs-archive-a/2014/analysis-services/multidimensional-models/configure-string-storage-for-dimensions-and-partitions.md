---
title: Настройка хранилища строк для измерений и секций | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 987f6cfc-da82-4b2e-96ef-a8af88339e5f
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2817af382599d4495dddbd8951a72a47629cf824
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87737106"
---
# <a name="configure-string-storage-for-dimensions-and-partitions"></a><span data-ttu-id="b5961-102">Настройка хранилища строк для измерений и секций</span><span class="sxs-lookup"><span data-stu-id="b5961-102">Configure String Storage for Dimensions and Partitions</span></span>
  <span data-ttu-id="b5961-103">Можно изменить конфигурацию хранилища строк, чтобы оно обеспечивало хранение очень больших строк в атрибутах измерений или секциях, превышающих предельный размер файла в 4 ГБ для хранилищ строк.</span><span class="sxs-lookup"><span data-stu-id="b5961-103">You can reconfigure string storage to accommodate very large strings in dimension attributes or partitions that exceed the 4 GB file size limit for string stores.</span></span> <span data-ttu-id="b5961-104">Если измерения или секции содержат хранилища строк такого размера, можно обойти ограничение размера файла, изменив свойство **StringStoresCompatibilityLevel** на уровне измерения или секции для локальных, а также связанных объектов (локальных или удаленных).</span><span class="sxs-lookup"><span data-stu-id="b5961-104">If your dimensions or partitions include string stores of this size, you can work around the file size constraint by changing the **StringStoresCompatibilityLevel** property at the dimension or partition level, for local as well as linked (local or remote) objects.</span></span>  
  
 <span data-ttu-id="b5961-105">Обратите внимание, что можно увеличить хранилище строк только на тех объектах, которые требуют дополнительной емкости.</span><span class="sxs-lookup"><span data-stu-id="b5961-105">Note that you can increase string storage on just those objects that require additional capacity.</span></span> <span data-ttu-id="b5961-106">В большинстве многомерных моделях строковые данные связаны с измерениями.</span><span class="sxs-lookup"><span data-stu-id="b5961-106">In most multidimensional models, string data is associated with dimensions.</span></span> <span data-ttu-id="b5961-107">Однако разделы, содержащие меры числа различных объектов на основе строк, также могут выиграть от этого параметра.</span><span class="sxs-lookup"><span data-stu-id="b5961-107">However, partitions that contain distinct count measures on top of strings can also benefit from this setting.</span></span> <span data-ttu-id="b5961-108">Поскольку этот параметр для строк, числовые данные не затрагиваются.</span><span class="sxs-lookup"><span data-stu-id="b5961-108">Because the setting is for strings, numeric data is unaffected.</span></span>  
  
 <span data-ttu-id="b5961-109">Ниже приведены допустимые значения для этого свойства.</span><span class="sxs-lookup"><span data-stu-id="b5961-109">Valid values for this property include the following:</span></span>  
  
|<span data-ttu-id="b5961-110">Значение</span><span class="sxs-lookup"><span data-stu-id="b5961-110">Value</span></span>|<span data-ttu-id="b5961-111">Описание</span><span class="sxs-lookup"><span data-stu-id="b5961-111">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="b5961-112">**1050**</span><span class="sxs-lookup"><span data-stu-id="b5961-112">**1050**</span></span>|<span data-ttu-id="b5961-113">Задает архитектуру хранилища строк по умолчанию, для которого действует ограничение максимального размера файла в 4 ГБ на одно хранилище.</span><span class="sxs-lookup"><span data-stu-id="b5961-113">Specifies the default string storage architecture, subject to a 4 GB maximum file size per store.</span></span>|  
|<span data-ttu-id="b5961-114">**1100**</span><span class="sxs-lookup"><span data-stu-id="b5961-114">**1100**</span></span>|<span data-ttu-id="b5961-115">Задает хранилище строк большего размера, поддерживает до 4 млрд уникальных строк в одном хранилище.</span><span class="sxs-lookup"><span data-stu-id="b5961-115">Specifies larger string storage, supports up to 4 billion unique strings per store.</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b5961-116">Для изменения параметров хранилища строк объекта требуется подвергнуть повторной обработке как сам объект, так и все зависимые объекты.</span><span class="sxs-lookup"><span data-stu-id="b5961-116">Changing the string storage settings of an object requires that you reprocess the object itself and any dependent object.</span></span> <span data-ttu-id="b5961-117">Обработка необходима для завершения процедуры.</span><span class="sxs-lookup"><span data-stu-id="b5961-117">Processing is required to complete the procedure.</span></span>  
  
 <span data-ttu-id="b5961-118">Этот раздел состоит из следующих подразделов.</span><span class="sxs-lookup"><span data-stu-id="b5961-118">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="b5961-119">Сведения о хранилищах строк</span><span class="sxs-lookup"><span data-stu-id="b5961-119">About String Stores</span></span>](#bkmk_background)  
  
-   [<span data-ttu-id="b5961-120">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="b5961-120">Prerequisites</span></span>](#bkmk_prereq)  
  
-   [<span data-ttu-id="b5961-121">Шаг 1. Задание свойства StringStoreCompatiblityLevel в SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="b5961-121">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>](#bkmk_step1)  
  
-   [<span data-ttu-id="b5961-122">Шаг 2. Обработка объектов</span><span class="sxs-lookup"><span data-stu-id="b5961-122">Step 2: Process the Objects</span></span>](#bkmk_step2)  
  
##  <a name="about-string-stores"></a><a name="bkmk_background"></a><span data-ttu-id="b5961-123">Сведения о хранилищах строк</span><span class="sxs-lookup"><span data-stu-id="b5961-123">About String Stores</span></span>  
 <span data-ttu-id="b5961-124">Конфигурация хранилища строк не является обязательной, а это означает, что даже в создаваемых новых базах данных используется архитектура хранилища строк по умолчанию, для которой действует ограничение на размер файла в 4 ГБ.</span><span class="sxs-lookup"><span data-stu-id="b5961-124">String storage configuration is optional, which means that even new databases that you create use the default string store architecture that is subject to the 4 GB maximum file size.</span></span> <span data-ttu-id="b5961-125">Использование архитектуры хранилища строк большего размера хоть и незначительно, но снижает производительность.</span><span class="sxs-lookup"><span data-stu-id="b5961-125">Using the larger string storage architecture has a small but noticeable impact on performance.</span></span> <span data-ttu-id="b5961-126">Его следует использовать, только если размер файлов хранилища приближается к максимальному пределу в 4 ГБ.</span><span class="sxs-lookup"><span data-stu-id="b5961-126">You should use it only if your string storage files are close to or at the maximum 4 GB limit.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b5961-127">Этот параметр не применяется к моделям интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b5961-127">This setting does not apply to data mining models.</span></span> <span data-ttu-id="b5961-128">В настоящее время все еще существует возможность столкнуться с ограничением размера файла в ГБ в тех моделях, которые содержат структуры интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b5961-128">Currently, it is still possible to encounter the GB file size limitation on models containing data mining structures.</span></span>  
  
 <span data-ttu-id="b5961-129">В многомерной базе данных служб Analysis Services строки хранятся отдельно от числовых данных, что обеспечивает возможность оптимизации, основанной на характеристиках данных.</span><span class="sxs-lookup"><span data-stu-id="b5961-129">In an Analysis Services multidimensional database, strings are stored separately from numeric data to allow for optimizations based on characteristics of the data.</span></span> <span data-ttu-id="b5961-130">Строковые данные обычно находятся в атрибутах измерений, представляющих имена или описания.</span><span class="sxs-lookup"><span data-stu-id="b5961-130">String data is typically found in dimension attributes that represent names or descriptions.</span></span> <span data-ttu-id="b5961-131">Строковые данные также могут быть в мерах числа различных объектов.</span><span class="sxs-lookup"><span data-stu-id="b5961-131">It is also possible to have string data in distinct count measures.</span></span> <span data-ttu-id="b5961-132">Кроме того, строковые данные также могут использоваться в ключах.</span><span class="sxs-lookup"><span data-stu-id="b5961-132">String data can also be used in keys.</span></span>  
  
 <span data-ttu-id="b5961-133">Распознать хранилище строк можно по расширению файла (например, файлы AASTORE. BSTORE, KSSTORE или STRING).</span><span class="sxs-lookup"><span data-stu-id="b5961-133">You can identify a string store by its file extension (for example, asstore, .bstore, .ksstore, or .string files).</span></span> <span data-ttu-id="b5961-134">По умолчанию каждый из этих файлов может иметь максимальный размер в 4 ГБ.</span><span class="sxs-lookup"><span data-stu-id="b5961-134">By default, each of these files is subject to a maximum 4 GB limit.</span></span> <span data-ttu-id="b5961-135">В [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]можно переопределить максимальный размер файла, указав другой механизм хранения, обеспечивающий рост хранилища строк по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="b5961-135">In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], you can override the maximum file size by specifying an alternative storage mechanism that allows a string store to grow as needed.</span></span>  
  
 <span data-ttu-id="b5961-136">В отличие от архитектуры хранилища строк по умолчанию, которая ограничивает размер физического файла, размер хранилища строк большего размера зависит от максимального количества строк.</span><span class="sxs-lookup"><span data-stu-id="b5961-136">In contrast with the default string storage architecture which limits the size of the physical file, larger string storage is based on a maximum number of strings.</span></span> <span data-ttu-id="b5961-137">Максимальное ограничение хранилища строк большего размера — 4 млрд уникальных строк или 4 млрд записей (в зависимости от того, какой предел будет достигнут первым).</span><span class="sxs-lookup"><span data-stu-id="b5961-137">The maximum limit for larger string storage is 4 billion unique strings or 4 billion records, whichever occurs first.</span></span> <span data-ttu-id="b5961-138">Хранилище строк большего размера создает записи одинакового размера, равного странице в 64 Кбайт.</span><span class="sxs-lookup"><span data-stu-id="b5961-138">Larger string storage creates records of an even size, where each record is equal to a 64K page.</span></span> <span data-ttu-id="b5961-139">При наличии очень длинных строк, которые не помещаются в одну запись, реальный предел будет составлять менее 4 млрд строк.</span><span class="sxs-lookup"><span data-stu-id="b5961-139">If you have very long strings that do not fit in a single record, your effective limit will be less than 4 billion strings.</span></span>  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="b5961-140">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="b5961-140">Prerequisites</span></span>  
 <span data-ttu-id="b5961-141">Необходимо наличие [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или более поздней версии [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5961-141">You must have a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="b5961-142">Измерения или секции должны использовать режим хранения MOLAP.</span><span class="sxs-lookup"><span data-stu-id="b5961-142">Dimensions and partitions must use MOLAP storage.</span></span>  
  
 <span data-ttu-id="b5961-143">Уровню совместимости базы данных должно быть присвоено значение 1100.</span><span class="sxs-lookup"><span data-stu-id="b5961-143">The database compatibility level must be set to 1100.</span></span> <span data-ttu-id="b5961-144">Если база данных создавалась или развертывалась с использованием [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] и [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или более поздней версии [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], то уровень совместимости базы данных уже установлен в значение 1100.</span><span class="sxs-lookup"><span data-stu-id="b5961-144">If you created or deployed a database using [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] and the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the database compatibility level is already set to 1100.</span></span> <span data-ttu-id="b5961-145">Если база данных, созданная в службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] более ранней версии, перемещалась в ssSQL11 или более позднюю версию, необходимо обновить уровень совместимости.</span><span class="sxs-lookup"><span data-stu-id="b5961-145">If you moved a database created in an earlier version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to ssSQL11 or later, you must update the compatibility level.</span></span> <span data-ttu-id="b5961-146">Для баз данных, которые перемещаются без повторного развертывания, можно задать уровень совместимости в среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b5961-146">For databases that you are moving, but not redeploying, you can use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to set the compatibility level.</span></span> <span data-ttu-id="b5961-147">Дополнительные сведения см. [в разделе Установка уровня совместимости многомерной базы данных &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="b5961-147">For more information, see [Set the Compatibility Level of a Multidimensional Database &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span></span>  
  
##  <a name="step-1-set-the-stringstorecompatiblitylevel-property-in-sql-server-data-tools"></a><a name="bkmk_step1"></a><span data-ttu-id="b5961-148">Шаг 1. Задание свойства StringStoreCompatiblityLevel в SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="b5961-148">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>  
  
1.  <span data-ttu-id="b5961-149">В среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]откройте проект, содержащий измерения или секции, которые необходимо изменить.</span><span class="sxs-lookup"><span data-stu-id="b5961-149">Using [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open the project that contains the dimensions or partitions you want to modify.</span></span>  
  
2.  <span data-ttu-id="b5961-150">Чтобы изменить хранилище строк для измерений, откройте обозреватель решений.</span><span class="sxs-lookup"><span data-stu-id="b5961-150">To change the string storage for dimensions, open Solution Explorer.</span></span> <span data-ttu-id="b5961-151">Дважды щелкните измерение, для которого изменяется хранилище строк.</span><span class="sxs-lookup"><span data-stu-id="b5961-151">Double-click the dimension for which you are modifying string storage.</span></span>  
  
3.  <span data-ttu-id="b5961-152">В конструкторе измерений на панели «Атрибуты» должен быть выбран родительский узел измерения (например, если измерение — Customers (Заказчики), выберите Customers без единого дочернего атрибута).</span><span class="sxs-lookup"><span data-stu-id="b5961-152">In Dimension Designer, in the Attributes pane, make sure that the parent node of the dimension is selected (for example, if the dimension is Customers, select Customers and not one of the child attributes).</span></span>  
  
4.  <span data-ttu-id="b5961-153">На панели свойств в разделе «Дополнительно» присвойте параметру **StringStoresCompatibilityLevel** значение **1100**.</span><span class="sxs-lookup"><span data-stu-id="b5961-153">In the Properties pane, in the Advanced section, set **StringStoresCompatibilityLevel** to **1100**.</span></span> <span data-ttu-id="b5961-154">Повторите для других измерений, которым требуется хранилище большего размера. Для остальных измерений оставьте значение **1050** .</span><span class="sxs-lookup"><span data-stu-id="b5961-154">Repeat for other dimensions that require larger storage, otherwise leave the remaining dimensions at the **1050** value.</span></span>  
  
5.  <span data-ttu-id="b5961-155">Для секций откройте куб из обозревателя решений.</span><span class="sxs-lookup"><span data-stu-id="b5961-155">For partitions, open a cube from Solution Explorer.</span></span>  
  
6.  <span data-ttu-id="b5961-156">Перейдите на вкладку «Секции».</span><span class="sxs-lookup"><span data-stu-id="b5961-156">Click the Partitions tab.</span></span>  
  
7.  <span data-ttu-id="b5961-157">Разверните секцию, выберите секцию, для которой необходимы дополнительные ресурсы хранения, и измените свойство **StringStoresCompatibilityLevel** .</span><span class="sxs-lookup"><span data-stu-id="b5961-157">Expand the partition, select the partition that requires extra storage capacity, and then modify the **StringStoresCompatibilityLevel** property.</span></span>  
  
8.  <span data-ttu-id="b5961-158">Сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="b5961-158">Save the file.</span></span>  
  
##  <a name="step-2-process-the-objects"></a><a name="bkmk_step2"></a><span data-ttu-id="b5961-159">Шаг 2. Обработка объектов</span><span class="sxs-lookup"><span data-stu-id="b5961-159">Step 2: Process the Objects</span></span>  
 <span data-ttu-id="b5961-160">После обработки объектов будет использоваться новая архитектура хранилища.</span><span class="sxs-lookup"><span data-stu-id="b5961-160">The new storage architecture will be used after you process the objects.</span></span> <span data-ttu-id="b5961-161">Обработка объектов также подтверждает успешное разрешение проблемы с ограничением размера хранилища, поскольку сообщение об ошибке переполнения хранилища строк больше не возникает.</span><span class="sxs-lookup"><span data-stu-id="b5961-161">Processing objects also proves you have successfully resolved storage constraint problem because the error that previously reported a string store overflow condition should no longer occur.</span></span>  
  
-   <span data-ttu-id="b5961-162">В обозревателе решений щелкните правой кнопкой мыши только что измененное измерение и выберите пункт **Обработать**.</span><span class="sxs-lookup"><span data-stu-id="b5961-162">In Solution Explorer, right-click the dimension or you just modified and select **Process**.</span></span>  
  
 <span data-ttu-id="b5961-163">Следует использовать параметр «Обработка. Полная» для каждого объекта, который использует новую архитектуру хранилища строк.</span><span class="sxs-lookup"><span data-stu-id="b5961-163">You must use the Process Full option on each object that is using the new string store architecture.</span></span> <span data-ttu-id="b5961-164">До обработки обязательно выполните анализ влияния для измерения, чтобы проверить необходимость повторной обработки зависимых объектов.</span><span class="sxs-lookup"><span data-stu-id="b5961-164">Before processing, be sure to run an impact analysis on the dimension to check whether dependent objects also require reprocessing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b5961-165">См. также:</span><span class="sxs-lookup"><span data-stu-id="b5961-165">See Also</span></span>  
 <span data-ttu-id="b5961-166">[Средства и подходы для обработки &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="b5961-166">[Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span></span>  
 <span data-ttu-id="b5961-167">[Параметры обработки и настройки &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="b5961-167">[Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span></span>  
 <span data-ttu-id="b5961-168">[Режимы и обработка хранилища секций](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span><span class="sxs-lookup"><span data-stu-id="b5961-168">[Partition Storage Modes and Processing](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span></span>  
 [<span data-ttu-id="b5961-169">Хранение измерений</span><span class="sxs-lookup"><span data-stu-id="b5961-169">Dimension Storage</span></span>](../multidimensional-models-olap-logical-dimension-objects/dimensions-storage.md)  
  
  

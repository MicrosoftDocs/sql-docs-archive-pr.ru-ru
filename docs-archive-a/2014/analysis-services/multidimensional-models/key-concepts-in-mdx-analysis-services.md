---
title: Основные понятия многомерных выражений (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Multidimensional Expressions [Analysis Services], about MDX
- dimensional modeling [MDX]
- MDX [Analysis Services], about MDX
- Multidimensional Expressions [Analysis Services], dimensional modeling
- MDX [Analysis Services], dimensional modeling
ms.assetid: 4797ddc8-6423-497a-9a43-81a1af7eb36c
author: minewiskan
ms.author: owend
ms.openlocfilehash: 1e6907913bd5e068f30cea2e652ccdad5247d965
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664595"
---
# <a name="key-concepts-in-mdx-analysis-services"></a><span data-ttu-id="24b28-102">Основные понятия многомерных выражений (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="24b28-102">Key Concepts in MDX (Analysis Services)</span></span>
  <span data-ttu-id="24b28-103">Прежде чем приступить к использованию многомерных выражений (MDX) для выполнения запросов к многомерным данным или для создания выражений MDX в кубе, следует понять соответствующие принципы действия и термины.</span><span class="sxs-lookup"><span data-stu-id="24b28-103">Before you can use Multidimensional Expressions (MDX) to query multidimensional data or create MDX expressions within a cube, it helps to understand multidimensional concepts and terms.</span></span>  
  
 <span data-ttu-id="24b28-104">Рекомендуется начать с уже известного примера обобщения данных, а затем посмотреть связь с MDX.</span><span class="sxs-lookup"><span data-stu-id="24b28-104">The best place to start is with a data summarization example you already know, and then see how MDX relates to it.</span></span> <span data-ttu-id="24b28-105">Ниже приведена сводная таблица, созданная в Excel и заполненная данными из Analysis Services образце Куба.</span><span class="sxs-lookup"><span data-stu-id="24b28-105">Here's a PivotTable created in Excel, populated with data from an Analysis Services sample cube.</span></span>  
  
 <span data-ttu-id="24b28-106">![Сводная таблица с вызванными мерами и размерами](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "Сводная таблица с вызванными мерами и размерами")</span><span class="sxs-lookup"><span data-stu-id="24b28-106">![PivotTable with measures and dimensions called out](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "PivotTable with measures and dimensions called out")</span></span>  
  
## <a name="measures-and-dimensions"></a><span data-ttu-id="24b28-107">Меры и измерения</span><span class="sxs-lookup"><span data-stu-id="24b28-107">Measures and Dimensions</span></span>  
 <span data-ttu-id="24b28-108">Куб служб Analysis Services состоит из мер, измерений и атрибутов измерений, которые присутствуют в сводной таблице.</span><span class="sxs-lookup"><span data-stu-id="24b28-108">An Analysis Services cube consists of measures, dimensions, and dimension attributes, all of which are evident in the PivotTable example.</span></span>  
  
 <span data-ttu-id="24b28-109">**Меры** — это находящиеся в ячейках числовые значения данных, выраженные в виде сумм, количеств, процентов, минимальных значений, максимальных значений, средних значений.</span><span class="sxs-lookup"><span data-stu-id="24b28-109">**Measures** are numeric data values found in cells, aggregated as a sum, count, percentage, min, max, or average.</span></span> <span data-ttu-id="24b28-110">Значения мер являются динамичными, вычисляются в режиме реального времени согласно переходам пользователя по таблице и работе с ней.</span><span class="sxs-lookup"><span data-stu-id="24b28-110">Measure values are dynamic, calculated in real time, in response to user navigation and interaction with the PivotTable.</span></span> <span data-ttu-id="24b28-111">В этом примере в ячейках показаны суммы продаж торговых посредников, которые увеличиваются или уменьшаются в зависимости от того, разворачиваются оси или сворачиваются.</span><span class="sxs-lookup"><span data-stu-id="24b28-111">In this example, the cells show Reseller Sales Amounts that increase or decrease based on whether you expand or collapse the axes.</span></span> <span data-ttu-id="24b28-112">Для любой комбинации даты (год, квартал, месяц или дата) и территории продаж (группа стран, страна, регион) можно получить значение суммы продаж торговых посредников, вычисленной для данной конкретной ситуации.</span><span class="sxs-lookup"><span data-stu-id="24b28-112">For any combination of Date (year, quarter, month, or date) and Sales Territory (Country group, Country, Region) you can get a Reseller Sales Amount, summed for that particular context.</span></span> <span data-ttu-id="24b28-113">Другие термины, которые являются синонимами мер, — это факты (в хранилищах данных) и вычисляемые поля (в табличной модели и модели данных Excel).</span><span class="sxs-lookup"><span data-stu-id="24b28-113">Other terms that are synonymous with measures are facts (in data warehouses) and calculated fields (in tabular and Excel data models).</span></span>  
  
 <span data-ttu-id="24b28-114">**Измерения** находятся на осях столбцов и строк сводной таблицы и определяют значение меры.</span><span class="sxs-lookup"><span data-stu-id="24b28-114">**Dimensions** are on the column and row axes of a PivotTable, providing the meaning behind the measure.</span></span> <span data-ttu-id="24b28-115">Измерения аналогичны таблицам в реляционной модели данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-115">Dimensions are analogous to Tables in a relational data model.</span></span> <span data-ttu-id="24b28-116">Распространенные примеры измерения — время, география, продукты, клиенты, сотрудники и т. д.</span><span class="sxs-lookup"><span data-stu-id="24b28-116">Common examples of a dimension include Time, Geography, Products, Customers, Employees, and so on.</span></span> <span data-ttu-id="24b28-117">В этом примере существует два измерения — «Территория продаж» в строках и «Дата» в верхней части. Однако вы можете легко перетаскивать другие измерения, связанные с компонентом «Продажи торгового посредника», такие как «Рекламные акции» или «Продукты», чтобы просматривать эффективность продаж по этим измерениям.</span><span class="sxs-lookup"><span data-stu-id="24b28-117">This example has two dimensions, Sales Territory on the rows, and Date across the top, but you could easily drag and drop other dimensions associated with Reseller Sales, such as Promotions or Products, to view sales performance along those dimensions.</span></span> <span data-ttu-id="24b28-118">Возможность изучения данных интересными способами зависит от создаваемых измерений и от того, будут ли они связаны с таблицами фактов в источнике данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-118">Your ability to explore data in interesting ways depends on the dimensions you create, and whether they are related to fact tables in your data source.</span></span>  
  
 <span data-ttu-id="24b28-119">**Атрибуты измерения** — это именованные элементы в измерении, схожие со столбцами в таблице.</span><span class="sxs-lookup"><span data-stu-id="24b28-119">**Dimension attributes** are the named items within a dimension, similar to columns in a table.</span></span> <span data-ttu-id="24b28-120">В этом примере используются следующие атрибуты измерения «Территория продаж»: «Группа стран» (Европа, Северная Америка, Тихоокеанский регион), «Страна» (Канада, США) и «Регион» (центральный, северо-восточный, северо-западный, юго-восточный и юго-западный).</span><span class="sxs-lookup"><span data-stu-id="24b28-120">In this example, the Sales Territory dimension attributes consist of Country Group (Europe, North America, Pacific), Country (Canada, United States), and Region (Central, Northeast, Northwest, Southeast, Southwest).</span></span>  
  
 <span data-ttu-id="24b28-121">Каждый атрибут имеет связанный с ним набор значений данных или элементов.</span><span class="sxs-lookup"><span data-stu-id="24b28-121">Each attribute has a collection of data values, or members, associated with it.</span></span> <span data-ttu-id="24b28-122">В этом примере элементами атрибута «Группа стран» являются Европа, Северная Америка и Тихоокеанский регион.</span><span class="sxs-lookup"><span data-stu-id="24b28-122">In our example, members of the Country Group attribute are Europe, North America, and Pacific.</span></span> <span data-ttu-id="24b28-123">**Элементы** — это реальные значения данных, принадлежащие атрибуту.</span><span class="sxs-lookup"><span data-stu-id="24b28-123">**Members** refers to the actual data values that belong to an attribute.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="24b28-124">Одним из аспектов моделирования данных является оформление шаблонов и отношений, уже существующих в данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-124">One aspect of data modeling is to formalize the patterns and relationships that already exist within the data itself.</span></span> <span data-ttu-id="24b28-125">При работе с данными, входящими в естественную иерархию, как в случае со странами-регионами-городами, это отношение можно оформить путем создания **связи атрибутов**.</span><span class="sxs-lookup"><span data-stu-id="24b28-125">When working with data that falls into a natural hierarchy, as is the case with countries-regions-cities, you can formalize that relationship by creating an **attribute relationship**.</span></span> <span data-ttu-id="24b28-126">Связь атрибутов — это связь типа «один ко многим» между атрибутами, например связь между штатом и городом — в штате есть много городов, но город принадлежит только одному штату.</span><span class="sxs-lookup"><span data-stu-id="24b28-126">An attribute relationship is a one-to-many relationship between attributes, for example a relationship between a state and a city - a state has many cities, but a city belongs to just one state.</span></span> <span data-ttu-id="24b28-127">Создание связей атрибутов в модели ускоряет производительность запросов, поэтому рекомендуется создавать их, если они поддерживаются данными.</span><span class="sxs-lookup"><span data-stu-id="24b28-127">Creating attribute relationships in the model speeds up query performance, so it's a best practice to create them if the data supports it.</span></span> <span data-ttu-id="24b28-128">Связь атрибутов создается в конструкторе измерений в SQL Server Data Tools.</span><span class="sxs-lookup"><span data-stu-id="24b28-128">You can create an attribute relationship in Dimension Designer in SQL Server Data Tools.</span></span> <span data-ttu-id="24b28-129">См. [Define Attribute Relationships](attribute-relationships-define.md).</span><span class="sxs-lookup"><span data-stu-id="24b28-129">See [Define Attribute Relationships](attribute-relationships-define.md).</span></span>  
  
 <span data-ttu-id="24b28-130">В приложении Excel модель метаданных отображается в списке полей сводной таблицы.</span><span class="sxs-lookup"><span data-stu-id="24b28-130">Inside Excel, model metadata shows up in the PivotTable field list.</span></span>  <span data-ttu-id="24b28-131">Сравните приведенную выше сводную таблицу с расположенным ниже списком полей.</span><span class="sxs-lookup"><span data-stu-id="24b28-131">Compare the PivotTable above to the field list below.</span></span> <span data-ttu-id="24b28-132">Обратите внимание, что список полей содержит компоненты «Территория продаж», «Группа», «Страна», «Регион» (метаданные), тогда как в сводной таблице находятся только элементы (значения данных).</span><span class="sxs-lookup"><span data-stu-id="24b28-132">Notice that the field list contains Sales Territory, Group, Country, Region (metadata), whereas the PivotTable contains just the members (data values).</span></span> <span data-ttu-id="24b28-133">Зная, как выглядит значок, можно без труда соотнести части многомерной модели со сводной таблицей в Excel.</span><span class="sxs-lookup"><span data-stu-id="24b28-133">Knowing what the icons look like can help you easily relate the parts of a multidimensional model to a PivotTable in Excel.</span></span>  
  
 <span data-ttu-id="24b28-134">![Список полей сводной таблицы](../media/ssas-keyconcepts-ptfieldlist.png "Список полей сводной таблицы")</span><span class="sxs-lookup"><span data-stu-id="24b28-134">![PivotTable field list](../media/ssas-keyconcepts-ptfieldlist.png "PivotTable field list")</span></span>  
  
## <a name="attribute-hierarchies"></a><span data-ttu-id="24b28-135">Иерархии атрибутов</span><span class="sxs-lookup"><span data-stu-id="24b28-135">Attribute Hierarchies</span></span>  
 <span data-ttu-id="24b28-136">Нам известно, что при разворачивании и сворачивании уровней по каждой оси значения в сводной таблице изменяются. Почему это происходит?</span><span class="sxs-lookup"><span data-stu-id="24b28-136">Almost without having to think about it, you know that values in a PivotTable go up or down as you expand and collapse the levels along each axis, but what makes this so?</span></span> <span data-ttu-id="24b28-137">Ответ следует искать в иерархии атрибутов.</span><span class="sxs-lookup"><span data-stu-id="24b28-137">The answer lies in attribute hierarchies.</span></span>  
  
 <span data-ttu-id="24b28-138">Сверните все уровни и обратите внимание на общие итоги для каждого компонента «Группа стран» и «Календарный год».</span><span class="sxs-lookup"><span data-stu-id="24b28-138">Collapse all the levels and notice the grand totals for each Country Group and Calendar Year.</span></span> <span data-ttu-id="24b28-139">Это значение получено из объекта **элемент (Все)** в иерархии.</span><span class="sxs-lookup"><span data-stu-id="24b28-139">This value is derived from something called the **(All) member** within a hierarchy.</span></span> <span data-ttu-id="24b28-140">Это вычисленное значение всех элементов в иерархии.</span><span class="sxs-lookup"><span data-stu-id="24b28-140">The (All) member is the calculated value of all members in an attribute hierarchy.</span></span>  
  
-   <span data-ttu-id="24b28-141">Значение элемента (Все) для всех групп стран и дат — $80 450 596,98</span><span class="sxs-lookup"><span data-stu-id="24b28-141">The (All) member for all Country Groups and Dates combined is $80,450,596.98</span></span>  
  
-   <span data-ttu-id="24b28-142">Значение элемента (Все) для 2008 календарного года — $16 038 062,60</span><span class="sxs-lookup"><span data-stu-id="24b28-142">The (All) member for CY2008 is $16,038,062.60</span></span>  
  
-   <span data-ttu-id="24b28-143">Значение элемента (Все) для Тихоокеанского региона — $1 594 335,38</span><span class="sxs-lookup"><span data-stu-id="24b28-143">The (All) member for Pacific is $1,594,335.38</span></span>  
  
 <span data-ttu-id="24b28-144">Подобные агрегаты предварительно вычисляются и заранее сохраняются. Именно поэтому службам Analysis Services свойственна высокая скорость обработки запросов.</span><span class="sxs-lookup"><span data-stu-id="24b28-144">Aggregations like this are pre-computed and stored in advance, which is part of the secret to fast query performance of Analysis Services.</span></span>  
  
 <span data-ttu-id="24b28-145">![Сводная таблица с вызванными всеми элементами](../media/ssas-keyconcepts-pivot2-allmember.png "Сводная таблица с вызванными всеми элементами")</span><span class="sxs-lookup"><span data-stu-id="24b28-145">![PivotTable with all member called out](../media/ssas-keyconcepts-pivot2-allmember.png "PivotTable with all member called out")</span></span>  
  
 <span data-ttu-id="24b28-146">Разверните иерархию и вы увидите самый нижний уровень.</span><span class="sxs-lookup"><span data-stu-id="24b28-146">Expand the hierarchy, and eventually you get to the lowest level.</span></span> <span data-ttu-id="24b28-147">Он называется **конечным элементом**.</span><span class="sxs-lookup"><span data-stu-id="24b28-147">This is called the **leaf member**.</span></span> <span data-ttu-id="24b28-148">У конечного элемента в иерархии нет дочерних элементов.</span><span class="sxs-lookup"><span data-stu-id="24b28-148">A leaf member is a member of a hierarchy that has no children.</span></span> <span data-ttu-id="24b28-149">В этом примере таким элементом является Австралия.</span><span class="sxs-lookup"><span data-stu-id="24b28-149">In this example, Australia is the leaf member.</span></span>  
  
 <span data-ttu-id="24b28-150">![Сводная таблица с вызванными конечными элементами](../media/ssas-keyconcepts-pivot3-leafparent.PNG "Сводная таблица с вызванными конечными элементами")</span><span class="sxs-lookup"><span data-stu-id="24b28-150">![PivotTable with leaf member calle dout](../media/ssas-keyconcepts-pivot3-leafparent.PNG "PivotTable with leaf member calle dout")</span></span>  
  
 <span data-ttu-id="24b28-151">Все, что выше этого элемента, называется **родительским элементом**.</span><span class="sxs-lookup"><span data-stu-id="24b28-151">Anything above it is called a **parent member**.</span></span> <span data-ttu-id="24b28-152">Родительским элементом Австралии выступает Тихоокеанский регион.</span><span class="sxs-lookup"><span data-stu-id="24b28-152">Pacific is the parent of Australia.</span></span>  
  
 <span data-ttu-id="24b28-153">**Компоненты иерархии атрибута**</span><span class="sxs-lookup"><span data-stu-id="24b28-153">**Components of an attribute hierarchy**</span></span>  
  
 <span data-ttu-id="24b28-154">Все эти компоненты работают на формирование понятия **иерархии атрибута**.</span><span class="sxs-lookup"><span data-stu-id="24b28-154">Together, all these concepts build towards the concept of an **attribute hierarchy**.</span></span> <span data-ttu-id="24b28-155">Иерархия атрибута представляет собой дерево элементов атрибута, содержащих следующие уровни.</span><span class="sxs-lookup"><span data-stu-id="24b28-155">An attribute hierarchy is a tree of attribute members containing the following levels:</span></span>  
  
-   <span data-ttu-id="24b28-156">Конечный уровень, содержащий все отдельные элементы атрибута, и все элементы конечного уровня ( **конечные элементы**).</span><span class="sxs-lookup"><span data-stu-id="24b28-156">A leaf level that contains each distinct attribute member, with each member of the leaf level also known as a **leaf member**.</span></span>  
  
-   <span data-ttu-id="24b28-157">Промежуточные уровни, если иерархия атрибута является иерархией родительских и дочерних элементов (подробнее об этом позже).</span><span class="sxs-lookup"><span data-stu-id="24b28-157">Intermediate levels if the attribute hierarchy is a parent-child hierarchy (more on that later).</span></span>  
  
-   <span data-ttu-id="24b28-158">Элемент (Все), содержащий совокупное значение всех дочерних атрибутов.</span><span class="sxs-lookup"><span data-stu-id="24b28-158">An (All) member that contains the aggregated value of all the child attributes.</span></span> <span data-ttu-id="24b28-159">При необходимости можно скрыть или отключить уровень (все), если он не имеет смысла для данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-159">Optionally, you can hide or turn off the (All) level when it doesn't make sense for the data.</span></span> <span data-ttu-id="24b28-160">Например, хотя код продукта является числовым, он не имеет смысла суммировать или усреднить или иным образом агрегировать все коды продуктов.</span><span class="sxs-lookup"><span data-stu-id="24b28-160">For example, although Product Code is numeric, it wouldn't make sense to sum or average or otherwise aggregate all of the Product Codes.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="24b28-161">Разработчики бизнес-аналитики часто задают свойства в иерархии атрибута, чтобы сформировать определенное поведение в клиентских приложениях или добиться максимальной производительности.</span><span class="sxs-lookup"><span data-stu-id="24b28-161">BI developers often set properties on the attribute hierarchy to achieve certain behaviors in client applications, or gain certain performance benefits.</span></span> <span data-ttu-id="24b28-162">Например, можно задать AttributeHierarchyEnabled = false для атрибутов, для которых элемент «(все)» не имеет смысла.</span><span class="sxs-lookup"><span data-stu-id="24b28-162">For example, you would set AttributeHierarchyEnabled=False on attributes for which the (All) member doesn't make sense.</span></span> <span data-ttu-id="24b28-163">С другой стороны, возможно, вы просто хотите скрыть элемент (Все), поэтому должны задать AttributeHierarchyVisible = False.</span><span class="sxs-lookup"><span data-stu-id="24b28-163">Alternatively, perhaps you simply want to hide the (All) member, in which case you would set AttributeHierarchyVisible=False.</span></span> <span data-ttu-id="24b28-164">Дополнительные сведения о свойствах см. в разделе [Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md) .</span><span class="sxs-lookup"><span data-stu-id="24b28-164">See [Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md) for more details about properties.</span></span>  
  
## <a name="navigation-hierarchies"></a><span data-ttu-id="24b28-165">Иерархии навигации</span><span class="sxs-lookup"><span data-stu-id="24b28-165">Navigation Hierarchies</span></span>  
 <span data-ttu-id="24b28-166">В сводной таблице (по крайней мере в этом примере) расширение осей строк и столбцов позволяет просмотреть нижние уровни атрибутов.</span><span class="sxs-lookup"><span data-stu-id="24b28-166">Within the PivotTable (at least in this example), row and column axes expand to show lower levels of attributes.</span></span> <span data-ttu-id="24b28-167">Расширяемая структура достигается за счет навигационных иерархий, создаваемых в модели.</span><span class="sxs-lookup"><span data-stu-id="24b28-167">An expandable tree is achieved through navigation hierarchies that you create in a model.</span></span>  <span data-ttu-id="24b28-168">В примере модели AdventureWorks измерение «Территория продаж» имеет многоуровневую иерархию, которая начинается с атрибута «Группа стран», затем идет «Страна», а потом — «Регион».</span><span class="sxs-lookup"><span data-stu-id="24b28-168">In the AdventureWorks sample model, the Sales Territory dimension has a multi-level hierarchy that begins with a Country Group, followed by Country, followed by Region.</span></span>  
  
 <span data-ttu-id="24b28-169">Как видно, иерархии используются для предоставления пути навигации в сводной таблице или других объектов обобщения данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-169">As you can see, hierarchies are used to provide a navigation path in a PivotTable or other data summarization objects.</span></span> <span data-ttu-id="24b28-170">Существует два основных типа: сбалансированная и несбалансированная.</span><span class="sxs-lookup"><span data-stu-id="24b28-170">There are two basic types: balanced and unbalanced.</span></span>  
  
 <span data-ttu-id="24b28-171">**Сбалансированные иерархии**</span><span class="sxs-lookup"><span data-stu-id="24b28-171">**Balanced Hierarchies**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="24b28-172">![Сводная таблица с вызванной сбалансированной иерархией](../media/ssas-keyconcepts-pivot4-balancedhierarchy.PNG "Сводная таблица с вызванной сбалансированной иерархией")</span><span class="sxs-lookup"><span data-stu-id="24b28-172">![PivotTable with balanced hierarchy called out](../media/ssas-keyconcepts-pivot4-balancedhierarchy.PNG "PivotTable with balanced hierarchy called out")</span></span>|<span data-ttu-id="24b28-173">**Сбалансированная иерархия** — это иерархия, в которой между верхним уровнем и любым из конечных элементов существует одинаковое количество уровней.</span><span class="sxs-lookup"><span data-stu-id="24b28-173">A **balanced hierarchy** is a hierarchy in which the same number of levels exists between the top level and any leaf member.</span></span><br /><br /> <span data-ttu-id="24b28-174">**Естественная иерархия** — это иерархия, которая естественным образом развивается на основе базовых данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-174">A **natural hierarchy** is one that emerges naturally from the underlying data.</span></span> <span data-ttu-id="24b28-175">Распространенным примером является "Страна-Регион-Область", "Год-Месяц-День" или "Категория-Подкатегория-Модель", где каждый подчиненный уровень предсказуемо происходит от родительского.</span><span class="sxs-lookup"><span data-stu-id="24b28-175">A common example is Country-Region-State or Year-Month-Date or Category-Subcategory-Model, where each subordinate level flows predictably from the parent.</span></span><br /><br /> <span data-ttu-id="24b28-176">В многомерной модели большинство иерархии являются сбалансированными и многие из них — естественными.</span><span class="sxs-lookup"><span data-stu-id="24b28-176">In a multidimensional model, most hierarchies are balanced hierarchies, and many of them are also natural hierarchies.</span></span><br /><br /> <span data-ttu-id="24b28-177">Следует упомянуть еще один связанный термин моделирования, `user-defined hierarchy`, часто противопоставляемый иерархиям атрибута.</span><span class="sxs-lookup"><span data-stu-id="24b28-177">Another related modeling term is a `user-defined hierarchy`, often used as a contrast with attribute hierarchies.</span></span> <span data-ttu-id="24b28-178">Он просто означает иерархию, созданную разработчиком BI, в отличие от иерархий атрибутов, которые автоматически генерируются службами Analysis Services при определении атрибута.</span><span class="sxs-lookup"><span data-stu-id="24b28-178">It simply means a hierarchy created by the BI developer, as opposed to attribute hierarchies that are automatically generated by Analysis Services when you define an attribute.</span></span>|  
  
 <span data-ttu-id="24b28-179">**Несбалансированные иерархии**</span><span class="sxs-lookup"><span data-stu-id="24b28-179">**Unbalanced Hierarchies**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="24b28-180">![Сводная таблица с вызванной неоднородной иерархией](../media/ssas-keyconcepts-pivot15-raggedhierarchy.PNG "Сводная таблица с вызванной неоднородной иерархией")</span><span class="sxs-lookup"><span data-stu-id="24b28-180">![PivotTable with ragged hierarchy called out](../media/ssas-keyconcepts-pivot15-raggedhierarchy.PNG "PivotTable with ragged hierarchy called out")</span></span>|<span data-ttu-id="24b28-181">**Неоднородная** или **несбалансированная иерархия** — это иерархия, в которой между элементами верхнего уровня и конечными элементами существует разное количество уровней.</span><span class="sxs-lookup"><span data-stu-id="24b28-181">A **ragged hierarchy** or **unbalanced hierarchy** is a hierarchy in which different numbers of levels exist between the top level and the leaf members.</span></span> <span data-ttu-id="24b28-182">Опять же, это иерархия, созданная разработчиком BI, но в данном случае в данных присутствуют пропуски.</span><span class="sxs-lookup"><span data-stu-id="24b28-182">Again, it's a hierarchy created by the BI developer, but in this case there are gaps in the data.</span></span><br /><br /> <span data-ttu-id="24b28-183">В примере модели AdventureWorks «Территория продаж» демонстрирует неоднородную иерархию, поскольку США имеют дополнительный уровень («Регионы»), который не существует для других стран в этом примере.</span><span class="sxs-lookup"><span data-stu-id="24b28-183">In the AdventureWorks sample model, Sales Territory illustrates a ragged hierarchy because the United States has an additional level (Regions) that does not exist for other countries in this example.</span></span><br /><br /> <span data-ttu-id="24b28-184">Если клиентское приложение не может надлежащим образом обрабатывать неоднородные иерархии, у разработчиков BI возникают проблемы.</span><span class="sxs-lookup"><span data-stu-id="24b28-184">Ragged hierarchies are a challenge to BI developers if the client application does not handle ragged hierarchies in an elegant manner.</span></span> <span data-ttu-id="24b28-185">В модели служб Analysis Services можно создать **иерархию родительских и дочерних элементов** , которая явно определяет связь между многоуровневыми данными, исключая любую неоднозначность, касающуюся отношения одного уровня к следующему.</span><span class="sxs-lookup"><span data-stu-id="24b28-185">In Analysis Services model, you can build a **parent-child hierarchy** that explicitly defines a relationship among multi-level data, eliminating any ambiguity as to how one level relates to the next.</span></span> <span data-ttu-id="24b28-186">См. [Parent-Child Hierarchy](parent-child-dimension.md) .</span><span class="sxs-lookup"><span data-stu-id="24b28-186">See [Parent-Child Hierarchy](parent-child-dimension.md) for details.</span></span>|  
  
## <a name="key-attributes"></a><span data-ttu-id="24b28-187">Ключевые атрибуты</span><span class="sxs-lookup"><span data-stu-id="24b28-187">Key Attributes</span></span>  
 <span data-ttu-id="24b28-188">Модели представляют собой наборы связанных объектов, которые для создания ассоциаций используют ключи и индексы.</span><span class="sxs-lookup"><span data-stu-id="24b28-188">Models are a collection of related objects that rely on keys and indexes to make the associations.</span></span> <span data-ttu-id="24b28-189">Модели служб Analysis Services не отличаются друг от друга.</span><span class="sxs-lookup"><span data-stu-id="24b28-189">Analysis Services models are no different.</span></span> <span data-ttu-id="24b28-190">Для каждого измерения (напомним, что оно эквивалентно таблице в реляционной модели) существует ключевой атрибут.</span><span class="sxs-lookup"><span data-stu-id="24b28-190">For each dimension (recall it is equivalent to a table in a relational model), there is a key attribute.</span></span> <span data-ttu-id="24b28-191">**Ключевой атрибут** используется в отношениях внешнего ключа к таблице фактов (группе мер).</span><span class="sxs-lookup"><span data-stu-id="24b28-191">The **key attribute** is used in foreign key relationships to the fact table (measure group).</span></span> <span data-ttu-id="24b28-192">Все неключевые атрибуты в измерении связаны (прямую или косвенно) с ключевым атрибутом.</span><span class="sxs-lookup"><span data-stu-id="24b28-192">All non-key attributes in the dimension are linked (directly or indirectly) to the key attribute.</span></span>  
  
 <span data-ttu-id="24b28-193">Часто, но не всегда, ключевой атрибут может быть **атрибутом гранулярности**.</span><span class="sxs-lookup"><span data-stu-id="24b28-193">Often, but not always, the key attribute is also the **Granularity Attribute**.</span></span> <span data-ttu-id="24b28-194">Гранулярность — это уровень детализации или точности в данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-194">Granularity refers to the level of detail or precision within the data.</span></span> <span data-ttu-id="24b28-195">Общий пример является самым быстрым способом понять все значения.</span><span class="sxs-lookup"><span data-stu-id="24b28-195">Again, a common example offers the quickest path to understanding.</span></span> <span data-ttu-id="24b28-196">Рассмотрим следующие значения данных. Для ежедневных продаж требуются значения дат, заданные для дня. Для квот достаточно указать квартал. Но если аналитические данные содержат результаты состязания из спортивного мероприятия, гран следует указать в миллисекундах.</span><span class="sxs-lookup"><span data-stu-id="24b28-196">Consider date values: For daily sales, you need date values specified to the day; for quotas, quarterly might be sufficient, but if your analytical data consists of race results from a sporting event, the grain might very well need to be milliseconds.</span></span> <span data-ttu-id="24b28-197">Гран будет представлять уровень точности в значениях данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-197">The level of precision in your data values is the grain.</span></span>  
  
 <span data-ttu-id="24b28-198">Другой пример: финансовая программа может отформатировать денежные значения во многих десятичных разрядах, в то время как в вашем местном учебном заведении требуются только значения для ближайшего доллара.</span><span class="sxs-lookup"><span data-stu-id="24b28-198">Currency is another example: a financial application might track monetary values out to many decimal places, whereas your local school's fund raiser might only need values to the nearest dollar.</span></span> <span data-ttu-id="24b28-199">Чтобы избежать хранения ненужных данных, очень важно понимать смысл грана.</span><span class="sxs-lookup"><span data-stu-id="24b28-199">Understanding grain is important because you want to avoid storing unnecessary data.</span></span> <span data-ttu-id="24b28-200">Исключение миллисекунд из отметки времени или копеек из суммы объема продаж может сэкономить пространство хранения и время обработки, если подобный уровень детализации не имеет отношения к выполняемому анализу.</span><span class="sxs-lookup"><span data-stu-id="24b28-200">Trimming milliseconds from a timestamp, or pennies from a sales amount, can save storage and processing time when that level of detail is not relevant to your analysis.</span></span>  
  
 <span data-ttu-id="24b28-201">Чтобы задать атрибут гранулярности, воспользуйтесь вкладкой «Использование измерений» в конструкторе кубов в SQL Server Data Tools.</span><span class="sxs-lookup"><span data-stu-id="24b28-201">To set the granularity attribute, use the Dimension Usage tab in Cube Designer in SQL Server Data Tools.</span></span> <span data-ttu-id="24b28-202">В примере модели AdventureWorks ключевым атрибутом измерения «Дата» является ключ «Дата».</span><span class="sxs-lookup"><span data-stu-id="24b28-202">In the AdventureWorks sample model, the key attribute of the Date dimension is the Date key.</span></span> <span data-ttu-id="24b28-203">Для компонента «Заказы на продажу» атрибут гранулярности эквивалентен ключевому атрибуту.</span><span class="sxs-lookup"><span data-stu-id="24b28-203">For Sales Orders, the granularity attribute is equivalent to the key attribute.</span></span> <span data-ttu-id="24b28-204">Для компонента «Цели продаж» уровнем гранулярности является квартал, поэтому атрибуту гранулярности задано значение «Календарный квартал».</span><span class="sxs-lookup"><span data-stu-id="24b28-204">For Sales Targets, the level of granularity is quarterly, and so the granularity attribute is set to Calendar Quarter, accordingly.</span></span>  
  
 <span data-ttu-id="24b28-205">![Модель, которая показывает атрибут детализации](../media/ssas-keyconcepts-granularityattrib.png "Модель, которая показывает атрибут детализации")</span><span class="sxs-lookup"><span data-stu-id="24b28-205">![Model showing the granularity attribute](../media/ssas-keyconcepts-granularityattrib.png "Model showing the granularity attribute")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="24b28-206">Если атрибут гранулярности отличается от ключевого атрибута, все неключевые атрибуты должны быть напрямую или косвенно связаны атрибутом гранулярности.</span><span class="sxs-lookup"><span data-stu-id="24b28-206">If the granularity attribute and the key attribute are different, all non-key attributes must be linked, directly or indirectly, to the granularity attribute.</span></span> <span data-ttu-id="24b28-207">Внутри куба атрибут гранулярности определяет гранулярность измерения.</span><span class="sxs-lookup"><span data-stu-id="24b28-207">Within a cube, the granularity attribute defines a dimension's granularity.</span></span>  
  
## <a name="query-scope-cube-space"></a><span data-ttu-id="24b28-208">Область запроса (пространство куба)</span><span class="sxs-lookup"><span data-stu-id="24b28-208">Query Scope (Cube Space)</span></span>  
 <span data-ttu-id="24b28-209">Область запроса определяется границами, в пределах которых происходит выбор данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-209">Scope of a query refers to the boundaries within which data is being selected.</span></span> <span data-ttu-id="24b28-210">Ее размеры могут варьироваться от куба целиком (куб является крупнейшим объектом запроса) до ячейки.</span><span class="sxs-lookup"><span data-stu-id="24b28-210">It can range from the entire cube (a cube is the largest query object) to a cell.</span></span>  
  
 <span data-ttu-id="24b28-211">**Пространство куба** — это совокупность элементов иерархий атрибутов куба с мерами куба.</span><span class="sxs-lookup"><span data-stu-id="24b28-211">**Cube space** is the product of the members of a cube's attribute hierarchies with the cube's measures.</span></span>  
  
 <span data-ttu-id="24b28-212">**Вложенный куб** — это подмножество куба, представляющее отфильтрованное представление куба.</span><span class="sxs-lookup"><span data-stu-id="24b28-212">**Subcube** is a subset of a cube that represents a filtered view of the cube.</span></span> <span data-ttu-id="24b28-213">Вложенные кубы можно определить в инструкции SCOPE в скрипте вычисления MDX, или в предложении SUBSELECT, или в запросе MDX, или как куб сеанса.</span><span class="sxs-lookup"><span data-stu-id="24b28-213">Subcubes can be defined with a Scope statement in the MDX calculation script, or in a subselect clause in an MDX query or as a session cube.</span></span>  
  
 <span data-ttu-id="24b28-214">**Ячейка** — это пространство на пересечении элемента измерения мер и элемента из каждой иерархии атрибута в кубе.</span><span class="sxs-lookup"><span data-stu-id="24b28-214">**Cell** refers to the space at the intersection of a member of the measures dimension member and a member from each attribute hierarchy in a cube.</span></span>  
  
## <a name="other-modeling-terms"></a><span data-ttu-id="24b28-215">Другие термины моделирования</span><span class="sxs-lookup"><span data-stu-id="24b28-215">Other Modeling Terms</span></span>  
 <span data-ttu-id="24b28-216">Этот раздел представляет собой набор концепций и терминов, которые не помещаются в другие разделы, но по-прежнему необходимо знать о.</span><span class="sxs-lookup"><span data-stu-id="24b28-216">This section is a collection of concepts and terms that don't fit easily into other sections, but you still need to know about.</span></span>  
  
 <span data-ttu-id="24b28-217">**Вычисляемый элемент** — это элемент измерения, который определяется и вычисляется во время обработки запроса.</span><span class="sxs-lookup"><span data-stu-id="24b28-217">**Calculated member** is a dimension member that is defined and calculated at query time.</span></span> <span data-ttu-id="24b28-218">Вычисляемый элемент может быть определен в пользовательском запросе или в скрипте вычисления многомерного выражения и храниться на сервере.</span><span class="sxs-lookup"><span data-stu-id="24b28-218">A calculated member can be defined in a user query or in the MDX calculation script and stored on the server.</span></span> <span data-ttu-id="24b28-219">Вычисляемый элемент соответствует строкам в таблице измерения, в котором он определен.</span><span class="sxs-lookup"><span data-stu-id="24b28-219">A calculated member corresponds to rows in the dimension table of the dimension in which it is defined.</span></span>  
  
 <span data-ttu-id="24b28-220">**Число различных объектов** — это особый тип меры, используемый для элементов данных, которые следует подсчитывать только один раз.</span><span class="sxs-lookup"><span data-stu-id="24b28-220">**Distinct Count** is a special type of measure used for data items that should only be counted once.</span></span> <span data-ttu-id="24b28-221">В примере модели AdventureWorks можно увидеть меры числа различных объектов для компонентов «Заказы через Интернет», «Заказы торгового посредника» и «Заказы на продажу».</span><span class="sxs-lookup"><span data-stu-id="24b28-221">The AdventureWorks sample model includes distinct count measures for Internet Orders, Reseller Orders, and Sales Orders.</span></span>  
  
 <span data-ttu-id="24b28-222">**Группы мер** — это набор, состоящий из одной или нескольких мер.</span><span class="sxs-lookup"><span data-stu-id="24b28-222">**Measure groups** are a collection of one or more measures.</span></span> <span data-ttu-id="24b28-223">В основном эти группы определяются пользователями и используются для хранения связанных мер вместе.</span><span class="sxs-lookup"><span data-stu-id="24b28-223">Mostly these are user-defined, and you use them to keep related measures together.</span></span> <span data-ttu-id="24b28-224">Меры числа различных объектов являются исключением.</span><span class="sxs-lookup"><span data-stu-id="24b28-224">Distinct count measures are an exception.</span></span> <span data-ttu-id="24b28-225">Они всегда размещаются в специальной группе мер, содержащей только явные меры.</span><span class="sxs-lookup"><span data-stu-id="24b28-225">These are always placed in a dedicated measure group that contains only the distinct measure.</span></span> <span data-ttu-id="24b28-226">Вы не видите группу мер в примере сводной таблицы, но она отображается в списке полей сводной таблицы как именованная коллекция мер.</span><span class="sxs-lookup"><span data-stu-id="24b28-226">You can't see the measure group in the PivotTable example illustration, but it does appear in a PivotTable field list, as a named collection of measures.</span></span>  
  
 <span data-ttu-id="24b28-227">**Измерение мер** — это измерение, содержащее все меры в кубе.</span><span class="sxs-lookup"><span data-stu-id="24b28-227">**Measures dimension** is the dimension that contains all of the measures in a cube.</span></span> <span data-ttu-id="24b28-228">Он не предоставляется в многомерной модели, построенной в SQL Server Data Tools, но она существует только один раз.</span><span class="sxs-lookup"><span data-stu-id="24b28-228">It's not exposed in a multidimensional model that you build in SQL Server Data Tools, but it exists just the same.</span></span> <span data-ttu-id="24b28-229">Поскольку оно содержит меры, все элементы измерения мер, как правило, объединены (обычно по сумме или по числу).</span><span class="sxs-lookup"><span data-stu-id="24b28-229">Because it contains measures, all of the members of a measures dimension are typically aggregated (generally by sum or by count).</span></span>  
  
 <span data-ttu-id="24b28-230">**Измерения базы данных и измерения куба**.</span><span class="sxs-lookup"><span data-stu-id="24b28-230">**Database Dimensions and Cube Dimensions**.</span></span> <span data-ttu-id="24b28-231">В рамках модели можно определить отдельные измерения, которые затем включаются в любое количество кубов в этой модели.</span><span class="sxs-lookup"><span data-stu-id="24b28-231">Within a model, you can define standalone dimensions that are then included in any number of cubes in the same model.</span></span> <span data-ttu-id="24b28-232">При добавлении измерения в куб оно называется измерением куба.</span><span class="sxs-lookup"><span data-stu-id="24b28-232">When you add a dimension to a cube, it's called a cube dimension.</span></span> <span data-ttu-id="24b28-233">Сам по себе в рамках проекта, как отдельный элемент в обозревателе объектов, называется измерением базы данных.</span><span class="sxs-lookup"><span data-stu-id="24b28-233">By itself within a project, as a standalone item in Object Explorer, it's called a database dimension.</span></span> <span data-ttu-id="24b28-234">Зачем проводить различие?</span><span class="sxs-lookup"><span data-stu-id="24b28-234">Why make the distinction?</span></span> <span data-ttu-id="24b28-235">Это связано с возможностью независимого задания свойств для каждого из типов измерений.</span><span class="sxs-lookup"><span data-stu-id="24b28-235">Because you can set properties on them independently.</span></span> <span data-ttu-id="24b28-236">В документации по продукту вы увидите оба используемых термина, поэтому важно понимать, что они значат.</span><span class="sxs-lookup"><span data-stu-id="24b28-236">In product documentation, you'll see both terms used, so it's worthwhile to understand what they mean.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="24b28-237">Next Steps</span><span class="sxs-lookup"><span data-stu-id="24b28-237">Next Steps</span></span>  
 <span data-ttu-id="24b28-238">Получив представление о важных понятиях и терминологии, можно перейти к дополнительным разделам, содержащим дальнейшие сведения об основных принципах работы служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="24b28-238">Now that you have a grasp of important concepts and terminology, you can continue on to these additional topics that further explain fundamental concepts in Analysis Services:</span></span>  
  
-   [<span data-ttu-id="24b28-239">Базовый запрос многомерных выражений (многомерные выражения)</span><span class="sxs-lookup"><span data-stu-id="24b28-239">The Basic MDX Query &#40;MDX&#41;</span></span>](mdx/mdx-query-the-basic-query.md)  
  
-   [<span data-ttu-id="24b28-240">Базовый скрипт многомерных выражений (многомерные выражения)</span><span class="sxs-lookup"><span data-stu-id="24b28-240">The Basic MDX Script &#40;MDX&#41;</span></span>](mdx/the-basic-mdx-script-mdx.md)  
  
-   [<span data-ttu-id="24b28-241">Многомерное моделирование (учебник по Adventure Works)</span><span class="sxs-lookup"><span data-stu-id="24b28-241">Multidimensional Modeling &#40;Adventure Works Tutorial&#41;</span></span>](../multidimensional-modeling-adventure-works-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="24b28-242">См. также:</span><span class="sxs-lookup"><span data-stu-id="24b28-242">See Also</span></span>  
 <span data-ttu-id="24b28-243">[Пространство куба](mdx/cube-space.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-243">[Cube Space](mdx/cube-space.md) </span></span>  
 <span data-ttu-id="24b28-244">[Кортежей](mdx/tuples.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-244">[Tuples](mdx/tuples.md) </span></span>  
 <span data-ttu-id="24b28-245">[Автоматической проверки существования](mdx/autoexists.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-245">[Autoexists](mdx/autoexists.md) </span></span>  
 <span data-ttu-id="24b28-246">[Работа с элементами, кортежами и наборами &#40;многомерных выражениях&#41;](mdx/working-with-members-tuples-and-sets-mdx.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-246">[Working with Members, Tuples, and Sets &#40;MDX&#41;](mdx/working-with-members-tuples-and-sets-mdx.md) </span></span>  
 <span data-ttu-id="24b28-247">[Визуальные итоги и невизуальные итоги](mdx/visual-totals-and-non-visual-totals.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-247">[Visual Totals and Non Visual Totals](mdx/visual-totals-and-non-visual-totals.md) </span></span>  
 <span data-ttu-id="24b28-248">[Основные принципы запросов многомерных выражений &#40;Analysis Services&#41;](mdx/mdx-query-fundamentals-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-248">[MDX Query Fundamentals &#40;Analysis Services&#41;](mdx/mdx-query-fundamentals-analysis-services.md) </span></span>  
 <span data-ttu-id="24b28-249">[Основные принципы создания скриптов многомерных выражений &#40;Analysis Services&#41;](mdx/mdx-scripting-fundamentals-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="24b28-249">[MDX Scripting Fundamentals &#40;Analysis Services&#41;](mdx/mdx-scripting-fundamentals-analysis-services.md) </span></span>  
 <span data-ttu-id="24b28-250">[Справочник по языку многомерных выражений &#40;&#41;многомерных выражений](/sql/mdx/mdx-language-reference-mdx) </span><span class="sxs-lookup"><span data-stu-id="24b28-250">[MDX Language Reference &#40;MDX&#41;](/sql/mdx/mdx-language-reference-mdx) </span></span>  
 [<span data-ttu-id="24b28-251">Справочник по многомерным выражениям (многомерные выражения)</span><span class="sxs-lookup"><span data-stu-id="24b28-251">Multidimensional Expressions &#40;MDX&#41; Reference</span></span>](/sql/mdx/multidimensional-expressions-mdx-reference)  
  
  

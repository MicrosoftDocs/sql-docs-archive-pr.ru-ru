---
title: FORMAT_STRINGое содержимое (многомерные выражения) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- formats [Analysis Services], string values
- VALUE property
- formats [Analysis Services], numeric values
- FORMATTED_VALUE property
- FORMAT_STRING contents
ms.assetid: c354c938-0328-4b8e-adc5-3b52fd2a7152
author: minewiskan
ms.author: owend
ms.openlocfilehash: 429d852db6a7613d960c6e85429caefd75b4cfbe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654528"
---
# <a name="format_string-contents-mdx"></a>Строка формата FORMAT_STRING (многомерные выражения)
  Свойство ячейки `FORMAT_STRING` используется для форматирования свойства ячейки `VALUE`, в результате образуется значение свойства ячейки `FORMATTED_VALUE`. В свойстве ячейки `FORMAT_STRING` допускаются как строковые, так и числовые исходные значения. Выражение формата применяется к значению, образуя отформатированное значение свойства ячейки `FORMATTED_VALUE`. В следующих таблицах подробно описан синтаксис и символы форматирования, используемые для обработки строковых и числовых значений.  
  
## <a name="string-values"></a>Строковые значения  
 Выражение форматирования строк может состоять из одного или двух разделов, отделенных точкой с запятой (;).  
  
|Использование|Результат|  
|-----------|------------|  
|Одна секция|Формат распространяется на все строковые значения.|  
|Две секции|Первый раздел распространяется на строковые данные, а второй — на значения NULL и строки нулевой длины ("").|  
  
 В строке форматирования текстовых строк могут использоваться следующие символы.  
  
|Символ|Описание|  
|---------------|-----------------|  
|@|Текстовый заполнитель: любой символ или пробел. Если в строке в той же позиции, что и знак (@) в строке формата, находится символ, в отформатированной строке будет отображаться этот символ. В противном случае в отформатированной строке на этом месте будет пробел. Заполнители заполняются справа налево, если в строке формата нет восклицательного знака (!).|  
|&|Текстовый заполнитель: любой символ или пустое место. Если в строке в той же позиции, что и знак амперсанда (&) в строке формата, находится символ, в отформатированной строке будет отображаться этот символ. В противном случае в отформатированной строке на этом месте не будет ничего. Заполнители заполняются справа налево, если в строке формата нет восклицательного знака (!).|  
|\<|Принудительный перевод в нижний регистр. В отформатированной строке все символы будут в нижнем регистре.|  
|>|Принудительный перевод в верхний регистр. В отформатированной строке все символы будут в верхнем регистре.|  
|!|Принудительное заполнение заполнителей слева направо (по умолчанию — справа налево).|  
  
## <a name="numeric-values"></a>Числовые значения  
 Пользовательское выражение форматирования чисел может включать в себя от одного до четырех разделов, разделенных точками с запятой. Если аргумент формата содержит один из именованных числовых форматов, допускается использование только одного раздела.  
  
|Использование|Результат|  
|-----------|------------|  
|Одна секция|Формат распространяется на все значения.|  
|Две секции|Первый раздел распространяется на неотрицательные значения, а второй — на отрицательные.|  
|Три секции|Первый раздел распространяется на положительные значения, второй — на отрицательные, третий — на нулевые.|  
|Четыре раздела|Первый раздел распространяется на положительные значения, второй — на отрицательные, третий — на нулевые, четвертый — на значения NULL.|  
  
 В следующем примере имеется два раздела. В первом разделе определяется формат неотрицательных значений, во втором — отрицательных.  
  
```  
"$#,##0;($#,##0)"  
```  
  
 Если в выражении формата встречаются точки с запятыми, между которыми ничего нет, пропущенный раздел выводится в формате положительного значения. Например, в следующем выражении формата положительные и отрицательные значения форматируются в первом разделе, а для нулевых значений выводится «Ноль».  
  
```  
"$#,##0;;\Z\e\r\o"  
```  
  
 В строке форматирования числовых значений могут использоваться следующие символы.  
  
|Символ|Описание|  
|---------------|-----------------|  
|None|Вывод числа без форматирования.|  
|**0**|Цифровой заполнитель: цифра или ноль (0).<br /><br /> Если в числе в той же позиции, что и ноль в строке формата, находится цифра, в отформатированной строке будет отображаться эта цифра. В противном случае в отформатированном числе на этом месте будет ноль.<br /><br /> Если число имеет меньше разрядов, чем нулей в строке формата (с обеих сторон от десятичного разделителя), отформатированное число выводится с начальными либо конечными нулями.<br /><br /> Если число имеет больше разрядов справа от десятичного разделителя, чем нулей справа от десятичного разделителя в строке формата, отформатированное значение округляется до стольких знаков после запятой, сколько нулей в строке формата.<br /><br /> Если число имеет больше цифр слева от десятичного разделителя, чем нулей слева от десятичного разделителя в строке формата, в отформатированном значении дополнительные разряды выводятся без изменений.|  
|**#**|Цифровой заполнитель: цифра или пустое место.<br /><br /> Если выражение содержит цифру в позиции, где знак решетки ( **#** ) отображается в строке формата, то отформатированное значение отображает цифру. В противном случае в отформатированном числе на этом месте не будет ничего.<br /><br /> Заполнитель Number ( **#** ) работает как заполнитель нулевой цифры (**0**), за исключением того, что ведущие и замыкающие нули не отображаются, если число содержит те же или меньшие цифры, чем **#** символы с любой стороны десятичного разделителя в выражении формата.|  
|**.**|Десятичный заполнитель, определяющий, сколько разрядов отображается слева и справа от десятичного разделителя.<br /><br /> Если выражение формата содержит только символы решетки ( **#** ) слева от точки (**.**), числа меньше 1 начинаются с десятичного разделителя. Чтобы в этом случае в дробных числах отображался начальный ноль, в качестве первого цифрового заполнителя слева от десятичного разделителя укажите ноль (0) в строке формата.<br /><br /> Фактический символ, используемый в качестве десятичного заполнителя в отформатированном значении, зависит от числового формата, распознаваемого системой.<br /><br /> Важно! В некоторых языковых стандартах в качестве десятичного разделителя используется запятая.|  
|**%**|Процентный заполнитель. Выражение умножается на 100. Символ процента ( **%** ) вставляется в позицию, где в строке формата отображается процент.|  
|**,**|Разделитель групп разрядов, отделяющий тысячи от сотен в числе с четырьмя или более разрядами слева от десятичного разделителя.<br /><br /> При стандартном использовании разделителя групп разрядов он заключается в цифровые заполнители (**0** или **#**).<br /><br /> Два идущих подряд разделителя групп разрядов или разделитель непосредственно слева от десятичного разделителя (задан он или нет) означают масштабирование числа путем деления его на 1 000 и округления при необходимости. Например, строка формата "**##0**,," используется для представления 100 миллионов как 100. Числа меньше миллиона отображаются как 0. Два идущих подряд разделителя групп разрядов в любой позиции, кроме позиции непосредственно слева от десятичного разделителя, интерпретируются просто как разделители групп разрядов.<br /><br /> Фактический символ, используемый в качестве разделителя групп разрядов в отформатированном значении, зависит от числового формата, распознаваемого системой.<br /><br /> Важно! В некоторых языковых стандартах в качестве разделителя групп разрядов используется точка.|  
|**:**|Разделитель времени, разделяющий часы, минуты и секунды при форматировании значений времени.<br /><br /> Важно! В некоторых языковых стандартах в качестве разделителя времени могут использоваться другие символы.<br /><br /> Фактический символ, используемый в качестве разделителя времени в отформатированном значении, зависит от настроек системы.|  
|**/**|Разделитель дат, разделяющий день, месяц и год при форматировании значений данных.<br /><br /> Фактический символ, используемый в качестве разделителя дат в отформатированном значении, зависит от настроек системы.<br /><br /> Важно! В некоторых языковых стандартах в качестве разделителя дат могут использоваться другие символы.|  
|**E- E+ e- e+**|Экспоненциальный формат.<br /><br /> Если выражение формата содержит минимум один цифровой заполнитель (**0** или **#**) справа от символов **E-**, **E+**, **e-** или **e+**, отформатированное значение отображается в экспоненциальном формате, а между числом и его показателем степени вставляется символ "E" или "e". Количество цифровых заполнителей справа определяет количество разрядов в показатели степени. Для вывода отрицательных показателей степени со знаком "минус" используется **E-** или **e-** . Для вывода отрицательных показателей степени со знаком "минус" и положительных со знаком "плюс" используйте **E+** или **e+** .|  
|**- + $ ( )**|Буквенный символ.<br /><br /> Для вывода символа, отличного от одного из перечисленных выше, заключите символ обратной косой черты ( **\\** ) или заключите его в двойные кавычки (**""**).|  
|**\\**|Следующий символ в строке формата.<br /><br /> Чтобы отобразить символ, который имеет специальное значение в качестве литерального символа, перед символом введите обратную косую черту ( **\\** ). Сама обратная косая черта не отображается. Использование обратной косой черты аналогично заключению выводимого символа в двойные кавычки. Чтобы отобразить обратную косую черту, используйте две обратные косые черты ( **\\\\** ). К символам, которые не выводятся в буквенном виде, относятся следующие:<br /><br /> Символы форматирования даты и времени —**a**, **c**, **d**, **h**, **m**, **n**, **p**, **q**, **s**, **t**, **w**, **y**, **/** и **:**<br /><br /> Символы числового форматирования — **#** , **0**, **%** , **e**, **e**, **запятая**и **точка** .<br /><br /> Символы форматирования строк — **@** , **&** , **\<**, **>** и **!**|  
|**ABC**|Вывод строки, заключенной в двойные кавычки (**" "**).<br /><br /> Для добавления строки в выражение формата в тексте программы используется функция Chr(**34**), заключающая текст в кавычки ( **34**— код символа двойной кавычки).|  
  
### <a name="named-numeric-formats"></a>Именованные числовые форматы  
 В следующей таблице перечислены имена стандартных числовых форматов.  
  
|Имя формата|Описание|  
|-----------------|-----------------|  
|`General Number`|Отображает число без разделителя групп разрядов.|  
|`Currency`|Отображает число с разделителем групп разрядов, если необходимо. Отображает две цифры справа от десятичного разделителя. Вывод основан на параметрах локали системы.|  
|`Fixed`|Отображает не менее одной цифры слева и две цифры справа от десятичного разделителя.|  
|`Standard`|Отображает число с разделителем групп разрядов, не менее одной цифры слева и две цифра справа от десятичного разделителя.|  
|`Percent`|Отображает число, умноженное на 100 с добавлением справа символа процента (%). Всегда отображает две цифры справа от десятичного разделителя.|  
|`Scientific`|Использует стандартное экспоненциальное представление.|  
|`Yes/No`|Отображает «Нет», если число равно 0; в противном случае — «Да».|  
|`True/False`|Отображает «False», если число равно 0; в противном случае — «True».|  
|`On/Off`|Отображает «Выкл», если число равно 0; в противном случае — «Вкл».|  
  
## <a name="date-values"></a>Значения даты  
 В строке форматирования значений даты и времени могут использоваться следующие символы.  
  
|Символ|Описание|  
|---------------|-----------------|  
|**:**|Разделитель времени, разделяющий часы, минуты и секунды при форматировании значений времени.<br /><br /> Фактический символ, используемый в качестве разделителя времени в отформатированном значении, зависит от настроек системы.<br /><br /> Важно! В некоторых языковых стандартах в качестве разделителя времени могут использоваться другие символы.|  
|**/**|Разделитель дат, разделяющий день, месяц и год при форматировании значений данных.<br /><br /> Фактический символ, используемый в качестве разделителя дат в отформатированном значении, зависит от настроек системы.<br /><br /> Важно! В некоторых языковых стандартах в качестве разделителя компонентов даты могут использоваться другие символы.|  
|**C**|Вывод даты в формате **ддддд** и времени в формате **ввввв**именно в этом порядке.<br /><br /> Если в числе даты нет дробной части, выводятся только сведения о дате. Если в числе даты нет целой части, выводятся только сведения о времени.|  
|**d**|Выводит день в виде числа без нуля в начале (1-31).|  
|**DDL**|Выводит день в виде числа с нулем в начале (01-31).|  
|**DDD**|Выводит день в виде аббревиатуры (Sun-Кот).|  
|**dddd**|Отображает день в виде полного имени (Воскресенье-Суббота).|  
|**ддддд**|Вывод полной даты (включая день, месяц и год), отформатированной в соответствии с системным сокращенным форматом даты.<br /><br /> В Microsoft Windows по умолчанию используется следующий сокращенный формат даты: **д/м/гг**.|  
|**dddddd**|Вывод числа даты в виде полной даты (включая день, месяц и год), отформатированной в соответствии с системным форматом полной даты.<br /><br /> В Microsoft Windows по умолчанию используется следующий формат полной даты: **дд мммм, гггг**.|  
|**w**|Вывод номера дня недели (от 1 — понедельник, до 7 — воскресенье).|  
|**ww**|Отображает неделю года в виде числа (1-54).|  
|**m**|Выводит месяц в виде числа без нуля в начале (1-12).<br /><br /> Если **м** следует сразу за **ч** или **чч**, выводятся минуты, а не месяц.|  
|**mm**|Выводит месяц в виде числа с нулем в начале (01-12).<br /><br /> Если **м** следует сразу за **ч** или **чч**, выводятся минуты, а не месяц.|  
|**мсек**|Выводит название месяца в виде аббревиатуры (янв-дек).|  
|**мммм**|Отображает месяц в виде полного названия месяца (январь – декабрь).|  
|**формате**|Отображает квартал года в виде числа (1-4).|  
|**&**|Отображает день года в виде числа (1-366).|  
|**YY**|Выводит год как двузначное число (00-99).|  
|**гггг**|Отображает год в виде 4-значного числа (100-9999).|  
|**h**|Отображает часы в виде числа без начальных нулей (0-23).|  
|**hh**|Отображает часы в виде числа с начальными нулями (00-23).|  
|**n**|Отображает минуты в виде числа без начальных нулей (0-59).|  
|**nn**|Отображает минуты в виде числа с начальными нулями (00-59).|  
|**#d0**|Отображает секунды в виде числа без ведущих нулей (0-59).|  
|**ss**|Отображает секунды в виде числа с нулями в начале (00-59).|  
|**t t t t t**|Вывод полного времени (включая час, минуту и секунду), отформатированного с помощью разделителя времени, который определен системным форматом времени.<br /><br /> Если выбран соответствующий параметр, отображаются нули в начале при выводе времени до 10:00 как до полудня, так и после . Например, 09:59.<br /><br /> В Microsoft Windows по умолчанию используется следующий формат времени: **ч:мм:сс**.|  
|**AM/PM**|Вывод заглавных букв **AM** при выводе времени с полуночи до полудня и **PM** при выводе времени с полудня до полуночи.<br /><br /> Важно! Используется 12-часовой формат времени.|  
|**AM/PM**|Отображение строчных букв **am** при выводе времени с полуночи до полудня и **pm** при выводе времени с полудня до полуночи.<br /><br /> Важно! Используется 12-часовой формат времени.|  
|**A/P**|Отображение заглавных букв **A** при выводе времени с полуночи до полудня и **P** при выводе времени с полудня до полуночи.<br /><br /> Важно! Используется 12-часовой формат времени.|  
|**a/p**|Отображение строчных букв **a** при выводе времени с полуночи до полудня и **p** при выводе времени с полудня до полуночи.<br /><br /> Важно! Используется 12-часовой формат времени.|  
|**AMPM**|Вывод строкового литерала, определенного в системе для вывода времени до полудня, при выводе времени с полуночи до полудня, и строкового литерала, определенного в системе для вывода времени после полудня, при выводе времени с полудня до полуночи.<br /><br /> Важно! Используется 12-часовой формат времени.<br /><br /> Литералы времени**AMPM** можно указать как в верхнем, так и в нижнем регистре, однако регистр при выводе строки определяется системными настройками компьютера.<br /><br /> В Microsoft Windows по умолчанию используется формат **AM/PM**.|  
  
### <a name="named-date-formats"></a>Именованные форматы даты  
 В следующей таблице приведены стандартные имена форматов даты и времени.  
  
|Имя формата|Описание|  
|-----------------|-----------------|  
|`General Date`|Отображает дату и/или время. Для действительных чисел отображает дату и время, например 03.04.1993, 17:34. При отсутствии дробной части отображается только дата, например 03.04.1993. При отсутствии целой части отображается только время, например 17:34. Формат отображения данных определяется настройками системы.|  
|`Long Date`|Отображает дату в длинном формате системы.|  
|`Medium Date`|Отображает дату в среднем формате, подходящем для языковой версии приложения.|  
|`Short Date`|Отображает дату в кратком формате системы.|  
|`Long Time`|Отображает время в длинном формате системы, включая часы, минуты и секунды.|  
|`Medium Time`|Отображает время в 12-часовом формате (часы, минуты и указатель AM/PM).|  
|`Short Time`|Отображает время в 24-часовом формате, например 17:45.|  
  
## <a name="see-also"></a>См. также:  
 [ЯЗЫК и FORMAT_STRING на FORMATED_VALUE](mdx-cell-properties-formatted-value-property.md)   
 [Использование свойств ячеек &#40;&#41;многомерных выражений](mdx-cell-properties-using-cell-properties.md)   
 [Создание и использование значений свойств &#40;&#41;многомерных выражений](../../creating-and-using-property-values-mdx.md)   
 [Основные принципы запросов многомерных выражений (службы Analysis Services)](mdx-query-fundamentals-analysis-services.md)  
  
  

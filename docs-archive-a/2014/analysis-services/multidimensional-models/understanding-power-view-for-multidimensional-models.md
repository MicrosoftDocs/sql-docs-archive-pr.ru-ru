---
title: Основные сведения о Power View для многомерных моделей | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: d0558cae-8209-4242-80c5-2c95981b88b9
author: minewiskan
ms.author: owend
ms.openlocfilehash: 778bdb769238618e733e46f903cf70024cd27bff
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732122"
---
# <a name="understanding-power-view-for-multidimensional-models"></a>Основные сведения о Power View для многомерных моделей
  В этой статье рассматривается функция Power View для многомерных моделей в Microsoft SQL Server 2014 и предоставлены важные сведения для специалистов по бизнес-аналитике и администраторов, которые намереваются внедрить Power View для многомерных моделей в своей организации.  
  
 Многомерные модели предоставляют ведущие в отрасли решения по моделированию данных OLAP, хранилищам и анализу. Многомерные модели в SQL Server 2014 обеспечивают анализ данных для произвольного случая, исследование и визуализацию с использованием Microsoft Power View.  
  
 Power View — тонкий веб-клиент, который запускается в браузере из общего файла источника данных отчета (RSDS) в библиотеке SharePoint. Источник данных отчета действует как мост между клиентом и серверным источником данных. Серверным источником данных может быть книга PowerPivot в SharePoint, табличная модель на сервере служб Analysis Services, работающем в табличном режиме, или многомерная модель на сервере служб Analysis Services, работающем в многомерном режиме. Затем отчеты Power View могут быть сохранены в библиотеке или коллекции SharePoint и предоставлены для совместного использования другим сотрудникам организации.  
  
 **Архитектура Power View для многомерных моделей**  
  
 ![Архитектура многомерных моделей Power View](../media/daxmd-architecture.gif "Архитектура многомерных моделей Power View")  
  
## <a name="prerequisites"></a>Предварительные требования  
 **Требования к серверу**  
  
-   Выпуск SQL Server 2014 Enterprise или Business Intelligence со службами Analysis Services, работающий в многомерном режиме.  
  
-   Надстройка служб SQL Server 2014 Reporting Services для Microsoft SharePoint Server 2010 или 2013 Enterprise Edition.  
  
 **Требования клиента**  
  
-   Для поддержки функций клиента Power View требуется Microsoft Silverlight 5. Дополнительные сведения см. в разделе [Планирование поддержки Reporting Services и Power View в браузере &#40;Reporting Services 2014&#41;](../../reporting-services/browser-support-for-reporting-services-and-power-view.md).  
  
## <a name="features"></a>Компоненты  
 **Собственная поддержка для Power View**  
  
 В этом выпуске многомерные модели поддерживают анализ и визуализацию с использованием Power View в режиме SharePoint. Не требуется какая-либо специальная настройка многомерных моделей. Но обнаруживаются некоторые отличия в том, как объекты многомерной модели отображаются в Power View, по сравнению с другими клиентскими средствами, такими как Microsoft Excel и Microsoft Performance Point. В этом выпуске не поддерживаются анализ и визуализация многомерных моделей с использованием Power View в Excel 2013.  
  
 **Собственная поддержка для запросов DAX**  
  
 В этом выпуске многомерные модели поддерживают запросы и функции DAX в дополнение к более традиционным запросам MDX. Некоторые функции DAX, такие как PATH, неприменимы в многомерном моделировании. Для получения дополнительных сведений о средствах DAX и их сравнении с многомерными выражениями см. раздел [Выражения анализа данных и MDX](https://msdn.microsoft.com/library/ff487170\(SQL.105\).aspx).  
  
## <a name="multidimensional-to-tabular-object-mapping"></a>Сопоставление многомерного объекта с табличным  
 Службы Analysis Services поддерживают представление метаданных табличной модели в многомерной модели. Объекты в многомерной модели представлены как табличные объекты в Power View и в CSDL с заметками бизнес-аналитики.  
  
 **Общие сведения о сопоставлении объектов**  
  
|Многомерный объект|Табличный объект|  
|-----------------------------|--------------------|  
|Куб|Модель|  
|Измерение куба|Таблица|  
|Атрибуты измерения (ключи, имя)|Столбец|  
|Группа мер|Таблица|  
|Measure|Measure|  
|Мера без группы мер|В таблице с именем Measures|  
|Связь измерений куба группы мер|Связь|  
|Перспектива|Перспектива|  
|Ключевой показатель эффективности|Ключевой показатель эффективности|  
|Иерархии типа «пользователи или родители-потомки»|Иерархия|  
|Папка отображения|Папка отображения|  
  
## <a name="measures-measure-groups-and-kpis"></a>Меры, группы мер и ключевые показатели эффективности  
  
> [!NOTE]  
>  Некоторые рисунки и часть текста в этой статье относятся к многомерной модели Adventure Works для образца базы данных SQL Server 2012.  
  
 Группы мер в многомерном кубе показаны в списке полей Power View как таблицы со знаком «сигма» (∑).  
  
 **Группы мер в списке полей Power View**  
  
 ![Список полей в Power View](../media/daxmd-powerviewfieldlist.gif "Список полей в Power View")  
  
 Меры в группах мер отображаются как меры. Вычисляемые меры, не имеющие связанной группы мер, группируются в специальной таблице с именем Measures.  
  
 Для упрощения более сложных многомерных моделей авторы модели могут задавать множество мер или ключевые показатели эффективности в кубе, который должен быть расположен в папке отображения. Power View может показывать папки отображения и меры, а также ключевые показатели эффективности в них.  
  
 **Меры и ключевые показатели эффективности в группе мер**  
  
 ![Группа мер в списке полей Power View](../media/daxmd-fieldlist-group.gif "Группа мер в списке полей Power View")  
  
### <a name="measures-as-variants"></a>Меры как данные variant  
 Меры в многомерных моделях представляют собой данные variant. Иными словами, меры не являются строго типизированными и могут иметь различные типы данных. Например, на приведенном ниже рисунке мера Amount в таблице финансовых отчетов по умолчанию имеет тип данных Currency, но также имеет строковое значение «НД» для промежуточного итога «статистические счета», который является строковым типом данных. Power View распознает определенные меры как данные variant и показывает правильные значения и форматирование в различных вариантах визуализации.  
  
 **Мера как данные variant**  
  
 ![Статистически необрабатываемая иерархия в Power View](../media/daxmd-nonaggrattrib.gif "Статистически необрабатываемая иерархия в Power View")  
  
### <a name="implicit-measures"></a>Неявные меры  
 Табличные модели предоставляют пользователям возможность создавать *неявные* меры, такие как количество, сумма или среднее по полям. Что касается многомерных моделей, то данные атрибутов измерений хранятся по-разному, поэтому выполнение запросов к неявным мерам может потребовать много времени. По этой причине неявные меры недоступны в Power View.  
  
## <a name="dimensions-attributes-and-hierarchies"></a>Измерения, атрибуты и иерархии  
 Доступ к измерениям куба предоставляется как к таблицам в табличных метаданных. В списке полей Power View атрибуты измерений показаны как столбцы в папках отображения.  Атрибуты измерений, имеющие свойство AttributeHierarchyEnabled или AttributeHierarchyVisible со значением false, например атрибут даты рождения в измерении "Клиент", не будут отображены в этом списке. Доступ к многоуровневым иерархиям или пользовательским иерархиям, например Customer Geography в измерении Customer, предоставляется как к иерархиям в списке полей Power View. Доступ к скрытым элементам UnknownMembers атрибута измерения предоставляется в запросах DAX и в Power View.  
  
 **Измерения, атрибуты и иерархии в SQL Server Data Tools (SSDT) и список полей Power View**  
  
 ![Измерения в SSDT и в списке полей Power View](../media/daxmd-ssdt-dimensions.gif "Измерения в SSDT и в списке полей Power View")  
  
### <a name="dimension-attribute-type"></a>Тип атрибута измерения  
 Многомерные модели поддерживают связывание атрибутов измерений с конкретными типами атрибутов измерений. На приведенном ниже рисунке показано измерение Geography, в котором атрибуты City, State-Province, Country и Postal Code имеют связанные с ними географические типы. Доступ к ним предоставляется в табличных метаданных. Power View распознает метаданные, позволяя пользователям создавать визуализации карт. Это показано значком карты рядом со столбцами City, Country, Postal Code и State-Province таблицы Geography в списке полей Power View.  
  
 **Географические типы атрибутов измерений в SSDT и списке полей Power View**  
  
 ![Атрибуты измерения типа geography](../media/daxmd-ssdt-attribute-geog-types.gif "Атрибуты измерения типа geography")  
  
### <a name="dimension-calculated-members"></a>Вычисляемые элементы измерения  
 Многомерные модели поддерживают вычисляемые элементы для дочернего элемента All с единственным действительным элементом. Ниже перечислены дополнительные ограничения при предоставлении доступа к вычисляемому элементу этого типа.  
  
-   Должен быть единственным действительным элементом, если измерение имеет несколько атрибутов.  
  
-   Атрибут, содержащий вычисляемые элементы, не может быть ключевым атрибутом измерения, если только он не является единственным атрибутом.  
  
-   Атрибут, содержащий вычисляемые элементы, не может быть атрибутом типа «родители-потомки».  
  
 Доступ к вычисляемым элементам пользовательских иерархий в Power View не предоставляется, но конечные пользователи все еще могут подключаться к кубу, содержащему вычисляемые элементы в пользовательских иерархиях.  
  
 На рисунке ниже показан отчет Power View для куба, содержащего вычисляемые элементы логики операций со временем для атрибута измерения «финансовые вычисления даты» в измерении «Дата».  
  
 **Отчет Power View с вычисляемыми элементами**  
  
 ![Вычисляемые элементы в Power View](../media/daxmd-calcmembersinpowerview.gif "Вычисляемые элементы в Power View")  
  
### <a name="default-members"></a>элементы по умолчанию;  
 Многомерные модели поддерживают элементы по умолчанию для атрибутов измерений. Элемент по умолчанию используется службами Analysis Services при статистической обработке данных для запроса. Доступ к элементу по умолчанию атрибута измерения предоставляется как к значению по умолчанию или фильтру для соответствующего столбца в табличных метаданных.  
  
 Power View действует во многом аналогично сводным таблицам Excel при применении атрибутов. Если пользователь добавляет к визуализации Power View (таблице, матрице или графику) столбец, содержащий значение по умолчанию, это значение по умолчанию не будет применено и будут показаны все доступные значения. Если пользователь добавит столбец к фильтрам, то значение по умолчанию будет применено.  
  
### <a name="dimension-security"></a>безопасность измерения;  
 Многомерные модели поддерживают средства защиты на уровне измерений и ячеек с применением ролей. При подключении пользователя к кубу с помощью Power View происходит проверка подлинности и оценка соответствующих разрешений. При применении средств защиты на уровне измерения соответствующие элементы измерения становятся невидимыми для пользователя в Power View, но если пользователь имеет право доступа на уровне ячейки, которое определено при ограничении определенных ячеек, то пользователь не может подключаться к кубу с помощью Power View. В некоторых случаях пользователи могут видеть агрегированные данные, если эти данные частично рассчитаны на основании защищенных данных.  
  
### <a name="non-aggregatable-attributeshierarchies"></a>Атрибуты или иерархии, не допускающие агрегирования  
 В многомерной модели атрибуты измерения могут иметь свойство IsAggregatable со значением false. Это равносильно указанию автора модели, согласно которому клиентские приложения не должны агрегировать данные из разных иерархий (на уровне атрибута или на нескольких уровнях) в запросах к этим данным. В Power View доступ к этому атрибуту измерения предоставляется как к столбцу, для которого недоступны подытоги. На изображении ниже можно видеть пример не допускающей агрегирование иерархии "Счета". Самый верхний уровень иерархии Accounts типа «родители-потомки» не допускает агрегирования, а другие уровни допускают. В матричной визуализации иерархии Accounts (первые два уровня) можно видеть подытоги для Account Level 02, но не для самого верхнего уровня Account Level 01.  
  
 **Статистически необрабатываемая иерархия в Power View**  
  
 ![Статистически необрабатываемая иерархия в Power View](../media/daxmd-nonaggrattrib.gif "Статистически необрабатываемая иерархия в Power View")  
  
## <a name="images"></a>Изображения  
 Power View предоставляет возможность обрабатывать изображения перед просмотром. В многомерных моделях один из способов предоставления изображений для Power View состоит в обеспечении доступа к столбцам, содержащим URL-адреса изображений. В этом выпуске службы Analysis Services поддерживают разметку атрибутов измерений типа ImageURL. Затем данные этого типа предоставляются Power View в табличных метаданных. После этого Power View может загружать и отображать изображения, указанные в URL-адресах, в составе визуализаций.  
  
 **Тип атрибута измерения ImageURL в SSDT**  
  
 ![Свойства атрибутов измерения](../media/daxmd-dimattribute-properties.gif "Свойства атрибутов измерения")  
  
## <a name="parent-child-hierarchies"></a>Иерархии типа «родители-потомки»  
 Многомерные модели поддерживают иерархии типа «родители-потомки», доступ к которым предоставляется как к иерархиям в табличных метаданных. Доступ к каждому уровню иерархии типа «родители-потомки» обеспечивается как к скрытому столбцу. Доступ к ключевому атрибуту измерения типа «родители-потомки» не предоставляется в табличных метаданных.  
  
 **Иерархии типа «родители-потомки» в Power View**  
  
 ![Иерархии «родители-потомки»](../media/daxmd-ssdt-hierarchies.gif "Иерархии типа «родители-потомки»")  
  
## <a name="perspectives-and-translations"></a>Перспективы и переводы  
 Перспективы — это представления кубов, в которых только определенные измерения или группы мер являются видимыми в клиентских средствах. Можно указывать имя перспективы как значение свойства строки подключения Cube. Например, в следующей строке подключения "Direct Sales" — это перспектива в многомерной модели:  
  
 `Data Source=localost;Initial Catalog=AdventureWorksDW-MD;Cube='Direct Sales'`  
  
 Кубы могут иметь метаданные и переводы данных, заданные для различных языков в модели. Чтобы просмотреть переводы (данные и метаданные), необходимо добавить необязательное свойство "код локали" в строку подключения в файле RSDS, как показано ниже.  
  
 `Data Source=localost;Initial Catalog=AdventureWorksDW-MD;Cube='Adventure Works'; Locale Identifier=3084`  
  
 Если Power View подключается к многомерной модели с помощью файла RSDS, в котором задано свойство Locale Identifier, и в кубе содержится соответствующий перевод, то пользователи могут видеть переводы в Power View.  
  
 Дополнительные сведения см. в разделе [Create a Report Data Source](create-a-report-data-source.md).  
  
## <a name="power-view-pinned-filters"></a>Закрепленные фильтры Power View  
 Отчеты Power View могут содержать несколько представлений. В этом выпуске средство *Закрепление фильтра* для табличных и многомерных моделей предоставляет возможность создавать фильтры, применяемые ко всем представлениям в отчете. На приведенном ниже рисунке показана кнопка переключателя «Закрепленный фильтр» для фильтра представления. По умолчанию фильтр представления является незакрепленным и применяется только к этому представлению. Закрепление фильтра представления приводит к его применению ко всем представлениям, отмена закрепления влечет за собой удаление его из других представлений.  
  
 **Закрепленные фильтры**  
  
 ![Закрепленный фильтр](../media/daxmd-pinnedfilterinpowerview.gif "Закрепленный фильтр")  
  
## <a name="unsupported-features"></a>Неподдерживаемые функции  
 **Power View в Excel 2013** — не поддерживает подключение к многомерным моделям и создание отчетов. Power View для многомерных моделей поддерживает только браузеры, основанные на клиентах Power View.  
  
 **Действия** не поддерживаются в отчетах Power View или в запросах DAX к многомерной модели.  
  
 **Именованные наборы** в многомерных моделях не поддерживаются в Power View или в запросах DAX к многомерной модели.  
  
> [!NOTE]  
>  Наличие неподдерживаемых действий и именованных наборов не препятствует пользователям подключаться к многомерным моделям и просматривать их с помощью Power View.  
  
 **Безопасность на уровне ячеек** не поддерживается в отчетах Power View.  
  
## <a name="csdlbi-annotations"></a>Заметки CSDLBI  
 Доступ к многомерным метаданным куба предоставляется как к концептуальной модели на основе модели EDM с применением языка определения концептуальных схем (CSDL) с заметками бизнес-аналитики (CSDLBI).  
  
 Многомерные метаданные представлены как пространство имен табличной модели в документе CSDLBI или CSDL, если в экземпляр служб Analysis Services передается запрос DISCOVER_CSDL_METADATA.  
  
 **Пример запроса DISCOVER_CSDL_METADATA**  
  
```  
<Envelopexmlns="http://schemas.xmlsoap.org/soap/envelope/">  
   <Body>  
      <Discoverxmlns="urn:schemas-microsoft-com:xml-analysis">  
         <RequestType>DISCOVER_CSDL_METADATA</RequestType>  
         <Restrictions>  
            <RestrictionList>  
              <CATALOG_NAME>"catalogname"<CATALOG_NAME>  
            </RestrictionList>  
         </Restrictions>  
         <Properties>  
            <PropertyList>  
            </PropertyList>  
         </Properties>  
      </Discover>  
   </Body>  
</Envelope>  
  
```  
  
 Запрос DISCOVER_CSDL_METADATA имеет следующие ограничения:  
  
|Имя|Обязательно|Описание|  
|----------|--------------|-----------------|  
|CATALOG_NAME|Да|Имя каталога или базы данных.|  
|PERSPECTIVE_NAME|Да, если куб содержит несколько перспектив. Необязательное, если имеется только один куб или перспектива по умолчанию.|Имя куба или имя перспективы в многомерной базе данных.|  
|VERSION|Да|Версия языка CSDL, необходимая для клиента. Многомерные функции и конструкции поддерживаются в версии 2.0.|  
  
 Возвращаемый документ языка CSDL представляет модель как пространство имен, содержащее сущности, ассоциации и свойства.  
  
 Дополнительные сведения о заметках CSDLBI для табличных моделей см. в статьях [Технический справочник по аннотациям бизнес-аналитики для языка CSDL](/analysis-services/csdlbi/technical-reference-for-bi-annotations-to-csdl) на сайте MSDN и [\[MS-CSDLBI\]: формат файла определений концептуальной схемы с заметками бизнес-аналитики](https://msdn.microsoft.com/library/jj161299\(SQL.105\).aspx).  
  
## <a name="client-help-on-officecom"></a>Справка по клиентам на Office.com  
 Следующие статьи, предоставляемые на сайте Office.com, описывают, как выглядят объекты многомерной модели в Power View, и показывают, как создать образец отчета:  
  
 [Основные сведения об объектах многомерной модели в Power View](https://office.microsoft.com/excel-help/understanding-multidimensional-model-objects-in-power-view-HA104018589.aspx)  
  
 [Изучение многомерной модели Adventure Works с использованием Power View](https://office.microsoft.com/excel-help/explore-the-adventure-works-multidimensional-model-by-using-power-view-HA104046830.aspx)  
  

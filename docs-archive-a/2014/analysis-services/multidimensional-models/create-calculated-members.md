---
title: Создание вычисляемых элементов | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- calculated members [Analysis Services]
- custom measures [Analysis Services]
- members [Analysis Services], calculated
- calculations [Analysis Services], calculated members
ms.assetid: 820e4b18-9c3a-4b12-a126-ca16d8364a00
author: minewiskan
ms.author: owend
ms.openlocfilehash: c45ef3cf720e6a3cc43156b032d91d205d6334bc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655410"
---
# <a name="create-calculated-members"></a>Создание вычисляемых элементов
  Можно создать пользовательские меры или элементы измерения, называемые вычисляемыми элементами, с помощью комбинации данных куба, арифметических операторов, чисел и функций. Например, можно создать вычисляемый элемент со значением «Евро», конвертирующий доллары в евро с помощью умножения меры доллара на коэффициент конвертации. Затем можно в отдельной строке или столбце отобразить значение в евро для конечных пользователей.  
  
 Определения вычисляемых элементов хранятся, но их значения существуют только в памяти. В предыдущем примере значение для пользователей отображается в марках, но это значение не хранится как данные куба.  
  
 Вычисляемые элементы создаются в кубах. Чтобы создать вычисляемый элемент, в конструкторе кубов на вкладке **Вычисления** нажмите кнопку **Создать вычисляемый элемент** на панели инструментов. Откроется форма для указания следующих параметров вычисляемого элемента:  
  
 **имя**;  
 Выберите имя вычисляемого элемента. Это имя отображается как заголовок столбца или строки для значений вычисляемого элемента при просмотре куба пользователем.  
  
 **Родительская иерархия**  
 Выберите родительскую иерархию для включения в вычисляемый элемент. Иерархии представляют собой описательные категории измерения, по которым числовые данные (то есть меры) можно разделять в кубе для анализа. В табличных браузерах иерархии предоставляют заголовки строк и столбцов, которые отображаются при просмотре пользователями данных в кубе. (В графических браузерах они предоставляют другие типы описательных меток, но функции у них такие же, как и у табличных обозревателей.) Вычисляемый элемент предоставляет новый заголовок (или метку) в выбранном родительском измерении.  
  
 Можно включить вычисляемый элемент в меры, а не в измерение. Этот параметр также предоставляет заголовок строки или столбца, но присоединяется к мерам в браузере.  
  
 **Родительский элемент**  
 Нажмите кнопку **Изменить** для выбора родительского элемента, который требуется включить в вычисляемый элемент. Этот параметр недоступен, если выбрана одноуровневая иерархия или МЕРЫ в качестве родительского измерения.  
  
 Иерархии разделены на уровни, содержащие элементы. Каждый элемент создает заголовок. При просмотре данных в кубе пользователь может перейти от выбранного заголовка к ранее не отображавшимся подчиненным заголовкам. Заголовок вычисляемого элемента добавляется в уровень, расположенный непосредственно под выбранным родительским элементом.  
  
 **Выражение**  
 Укажите выражение для создания значений вычисляемого элемента. Данное выражение может быть записано в форме многомерных выражений. Выражение может содержать любой из следующих объектов:  
  
-   выражения данных, которые представляют компоненты куба, такие как измерения, уровни, меры и т. д.;  
  
-   Арифметические операторы  
  
-   Числа  
  
-   Функции  
  
 Можно перетаскивать или копировать компоненты куба из вкладки **Метаданные** панели **Средства вычисления** .  
  
> [!IMPORTANT]  
>  Любой вычисляемый элемент, который должен использоваться в выражении значений другого вычисляемого элемента, должен создаваться до вычисляемого элемента, который его использует.  
  
 Строка формата  
 Указывает формат значений ячеек, основанных на вычисляемом элементе. Данное свойство принимает те же значения, что и свойство `Display Format` для мер. Дополнительные сведения о форматах отображения см. в разделе [Настройка свойств мер](configure-measure-properties.md).  
  
 Видимый  
 Определяет, отображается ли вычисляемый элемент при получении метаданных куба. Если вычисляемый элемент скрыт, он все равно может быть использован в многомерных выражениях, инструкциях и скриптах, но при этом он не доступен как объект, выбираемый в пользовательском интерфейсе клиента.  
  
 Установленное поведение  
 Хранит имена мер, используемых для разрешения запросов NON EMPTY в многомерных выражениях. Если это свойство не заполнено, оценка вычисляемого элемента должна выполняться многократно, чтобы определить отсутствие значений в элементе. Если в этом свойстве содержится имя одной или нескольких мер, то вычисляемый элемент считается пустым в том случае, если все из указанных мер пусты. Это свойство является указанием оптимизации, по которой службы Analysis Services возвращают только те записи, которые имеют значения, отличные от NULL. Это позволяет повысить производительность запросов многомерных выражений, использующих оператор NON EMPTY или функцию NonEmpty либо требующих вычисления значений ячеек. Чтобы получить оптимальную производительность при вычислении значения ячеек, по возможности указывайте только один элемент.  
  
 Выражения цвета  
 Указывает многомерные выражения, которые динамически устанавливают цвет изображения и фоновый цвет ячеек на основе значения вычисляемого элемента. Это свойство не учитывается, если оно не поддерживается клиентскими приложениями.  
  
 Выражения шрифта  
 Указывает многомерные выражения, которые динамически устанавливают шрифт, его размер и атрибуты для ячеек, основанных на значении вычисляемого элемента. Это свойство не учитывается, если оно не поддерживается клиентскими приложениями.  
  
 Можно копировать или перетаскивать компоненты куба из вкладки **Метаданные** панели **Средства вычисления** в поле **Выражение** на панели «Выражения вычисления». Можно копировать или перетаскивать функции из вкладки **Функции** панели **Средства вычисления** в поле **Выражение** на панели «Выражения вычисления».  
  
## <a name="addressing-calculated-members"></a>Обращение к вычисляемым элементам  
 Во время создания вычисляемого элемента на панели инструментов **Конструктор кубов** на вкладке **Вычисления**можно указать родительскую иерархию, в которой будет храниться вычисляемый элемент. Родительская иерархия определяет способ обращения к вычисляемому элементу в соответствии со следующими правилами.  
  
-   Если вычисляемый элемент создан в измерении мер, то обращаться к такому вычисляемому элементу можно в указанном измерении.  
  
## <a name="see-also"></a>См. также:  
 [Вычисления в многомерных моделях](calculations-in-multidimensional-models.md)  
  
  

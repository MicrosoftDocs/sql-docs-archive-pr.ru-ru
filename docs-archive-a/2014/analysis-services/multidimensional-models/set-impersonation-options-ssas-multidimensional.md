---
title: Настройка параметров олицетворения (службы SSAS — многомерные) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.sqlserverstudio.impersonationinfo.f1
helpviewer_keywords:
- Impersonation Information dialog box
ms.assetid: 8e127f72-ef23-44ad-81e6-3dd58981770e
author: minewiskan
ms.author: owend
ms.openlocfilehash: 9b9a8526ff4b8a6dd6f68d13817e427ec70d1953
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666238"
---
# <a name="set-impersonation-options-ssas---multidimensional"></a><span data-ttu-id="3835a-102">Задание параметров олицетворения (службы SSAS — многомерные)</span><span class="sxs-lookup"><span data-stu-id="3835a-102">Set Impersonation Options (SSAS - Multidimensional)</span></span>
  <span data-ttu-id="3835a-103">При создании объекта `data source` в модели служб Analysis Services одним из параметров, которые необходимо настроить, является параметр олицетворения.</span><span class="sxs-lookup"><span data-stu-id="3835a-103">When creating a `data source` object in an Analysis Services model, one of the settings that you must configure is an impersonation option.</span></span> <span data-ttu-id="3835a-104">Этот параметр определяет, действуют ли службы Analysis Services под удостоверением определенной учетной записи пользователя Windows при выполнении локальных операций, связанных с соединением, например загрузки поставщика данных OLE DB или разрешения данных профиля пользователя в средах, поддерживающих перемещаемые профили.</span><span class="sxs-lookup"><span data-stu-id="3835a-104">This option determines whether Analysis Services assumes the identity of a specific Windows user account when performing local operations related to the connection, such as loading an OLE DB data provider or resolving user profile information in environments that support roaming profiles.</span></span>  
  
 <span data-ttu-id="3835a-105">Для соединений, использующих проверку подлинности Windows, параметр олицетворения также определяет удостоверение пользователя, от имени которого выполняются запросы к внешнему источнику данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-105">For connections that use Windows authentication, the impersonation option also determines the user identity under which queries execute on the external data source.</span></span> <span data-ttu-id="3835a-106">Например, если параметр олицетворения установлен в значение **contoso\dbuser**, то запросы, используемые для получения данных при обработке, выполняются на сервере баз данных как **contoso\dbuser** .</span><span class="sxs-lookup"><span data-stu-id="3835a-106">For example, if you set the impersonation option to **contoso\dbuser**, queries used to retrieve data during processing will execute as **contoso\dbuser** on the database server.</span></span>  
  
 <span data-ttu-id="3835a-107">В этом разделе описано, как настроить параметры олицетворения в диалоговом окне **Сведения об олицетворении** при настройке объекта источника данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-107">This topic explains how to set impersonation options in the **Impersonation Information** dialog box when configuring a data source object.</span></span>  
  
## <a name="set-impersonation-options-in-sql-server-data-tools"></a><span data-ttu-id="3835a-108">Задайте параметры олицетворения в SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="3835a-108">Set impersonation options in SQL Server Data Tools</span></span>  
  
1.  <span data-ttu-id="3835a-109">Дважды щелкните источник данных в обозревателе решений, чтобы открыть конструктор источников данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-109">Double-click a data source in Solution Explorer to open Data Source Designer.</span></span>  
  
2.  <span data-ttu-id="3835a-110">В конструкторе источников данных перейдите на вкладку **Сведения об олицетворении** .</span><span class="sxs-lookup"><span data-stu-id="3835a-110">Click the **Impersonation Information** tab in Data Source Designer.</span></span>  
  
3.  <span data-ttu-id="3835a-111">Выберите параметр, описанный в подразделе [Параметры олицетворения](#bkmk_options) данного раздела.</span><span class="sxs-lookup"><span data-stu-id="3835a-111">Choose an option described in [Impersonation options](#bkmk_options) in this topic.</span></span>  
  
## <a name="set-impersonation-options-in-management-studio"></a><span data-ttu-id="3835a-112">Задайте параметры олицетворения в Management Studio</span><span class="sxs-lookup"><span data-stu-id="3835a-112">Set impersonation options in Management Studio</span></span>  
 <span data-ttu-id="3835a-113">В среде [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]откройте диалоговое окно **Сведения об олицетворении** , нажав кнопку с многоточием (**...**) для следующих свойств приведенных далее диалоговых окон:</span><span class="sxs-lookup"><span data-stu-id="3835a-113">In [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], open the **Impersonation Information** dialog box by clicking the ellipsis (**...**) button for the following properties of these dialog boxes:</span></span>  
  
-   <span data-ttu-id="3835a-114">Диалоговое окно**Свойства базы данных** при помощи свойства «Сведения об олицетворении источника данных».</span><span class="sxs-lookup"><span data-stu-id="3835a-114">**Database Properties** dialog box, through the Data Source Impersonation Info property.</span></span>  
  
-   <span data-ttu-id="3835a-115">Диалоговое окно**Свойства источника данных** при помощи свойства «Сведения об олицетворении источника данных».</span><span class="sxs-lookup"><span data-stu-id="3835a-115">**Data Source Properties** dialog box, through the Impersonation Info property.</span></span>  
  
-   <span data-ttu-id="3835a-116">Диалоговое окно**Свойства сборки** при помощи свойства «Сведения об олицетворении».</span><span class="sxs-lookup"><span data-stu-id="3835a-116">**Assembly Properties** dialog box, through the Impersonation Info property.</span></span>  
  
##  <a name="impersonation-options"></a><a name="bkmk_options"></a> <span data-ttu-id="3835a-117">Параметры олицетворения</span><span class="sxs-lookup"><span data-stu-id="3835a-117">Impersonation options</span></span>  
 <span data-ttu-id="3835a-118">Все параметры доступны в диалоговом окне, но не обязательно используются для каждого сценария.</span><span class="sxs-lookup"><span data-stu-id="3835a-118">All options are available in the dialog box, but not all options are appropriate for every scenario.</span></span> <span data-ttu-id="3835a-119">Следующие сведения помогут определить наиболее подходящий вариант для вашего сценария.</span><span class="sxs-lookup"><span data-stu-id="3835a-119">Use the following information to determine the best option for your scenario.</span></span>  
  
 <span data-ttu-id="3835a-120">**Использовать указанные имя пользователя и пароль**</span><span class="sxs-lookup"><span data-stu-id="3835a-120">**Use a specific user name and password**</span></span>  
 <span data-ttu-id="3835a-121">Выберите этот параметр, чтобы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] объект использовал учетные данные безопасности учетной записи пользователя Windows, указанной в следующем формате: *\<Domain name>***\\***\<User account name>* .</span><span class="sxs-lookup"><span data-stu-id="3835a-121">Select this option to have the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] object use the security credentials of a Windows user account specified in this format: *\<Domain name>***\\***\<User account name>*.</span></span>  
  
 <span data-ttu-id="3835a-122">Выберите этот параметр, чтобы использовать выделенное удостоверение пользователя Windows с наименьшими правами доступа, созданное специально для обеспечения доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="3835a-122">Choose this option to use a dedicated, least-privilege Windows user identity that you have created specifically for data access purposes.</span></span> <span data-ttu-id="3835a-123">Например, если необходимо регулярно создавать учетную запись общего назначения для получения данных из отчетов, можно указать эту учетную запись здесь.</span><span class="sxs-lookup"><span data-stu-id="3835a-123">For example, if you routinely create a general purpose account for retrieving data used in reports, you can specify that account here.</span></span>  
  
 <span data-ttu-id="3835a-124">Для многомерных баз данных указанные учетные данные будут использоваться для обработки данных, запросов ROLAP, внешних привязок, локальных кубов, моделей интеллектуального анализа данных, удаленных секций, связанных объектов и синхронизации цели с источником.</span><span class="sxs-lookup"><span data-stu-id="3835a-124">For multidimensional databases, the specified credentials will be used for processing, ROLAP queries, out-of-line bindings, local cubes, mining models, remote partitions, linked objects, and synchronization from target to source.</span></span>  
  
 <span data-ttu-id="3835a-125">Для табличных баз данных указанные учетные данные будут использоваться для обработки данных, запросов к реляционным хранилищам данных (при помощи DirectQuery), внешних привязок, удаленных секций и синхронизации целевого объекта с источником.</span><span class="sxs-lookup"><span data-stu-id="3835a-125">For tabular databases, the specified credentials will be used for processing, queries that run against a relational data store (using DirectQuery), out-of-line bindings, remote partitions, and synchronization from target to source.</span></span>  
  
 <span data-ttu-id="3835a-126">Однако для инструкций DMX OPENQUERY этот параметр не используется. Будут использованы учетные данные не заданного пользователя, а текущего.</span><span class="sxs-lookup"><span data-stu-id="3835a-126">For DMX OPENQUERY statements, this option is ignored and the credentials of the current user will be used rather than the specified user account.</span></span>  
  
 <span data-ttu-id="3835a-127">**Использовать учетную запись службы**</span><span class="sxs-lookup"><span data-stu-id="3835a-127">**Use the service account**</span></span>  
 <span data-ttu-id="3835a-128">Выберите этот параметр, чтобы объект служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] использовал учетные данные безопасности, связанные со службой [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , управляющей объектом.</span><span class="sxs-lookup"><span data-stu-id="3835a-128">Select this option to have the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] object use the security credentials associated with the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service that manages the object.</span></span> <span data-ttu-id="3835a-129">Это параметр по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3835a-129">This is the default option.</span></span> <span data-ttu-id="3835a-130">В предыдущих выпусках это был единственно возможный параметр.</span><span class="sxs-lookup"><span data-stu-id="3835a-130">In previous releases, this was the only option you could use.</span></span> <span data-ttu-id="3835a-131">Этот параметр можно использовать для мониторинга доступа к данным не на уровне отдельных учетных записей пользователей, а на уровне службы.</span><span class="sxs-lookup"><span data-stu-id="3835a-131">You might prefer this option to monitor data access at the service level rather than individual user accounts.</span></span>  
  
 <span data-ttu-id="3835a-132">В [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]в зависимости от операционной системы, используемой учетной записью службы, может быть NetworkService или встроенная виртуальная учетная запись, созданная для конкретного экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3835a-132">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], depending on the operating system you are using, the service account might be NetworkService or a built-in virtual account created for a specific [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="3835a-133">При выборе учетной записи службы для соединения, использующего проверку подлинности Windows, не забудьте создать имя входа базы данных для этой учетной записи и предоставить ему разрешения на чтение, поскольку оно будет использоваться для получения данных во время обработки.</span><span class="sxs-lookup"><span data-stu-id="3835a-133">If you choose the service account for a connection that uses Windows authentication, remember to create a database login for this account and grant read permissions, as it will be used to retrieve data during processing.</span></span> <span data-ttu-id="3835a-134">Дополнительные сведения об учетной записи службы см. в разделе [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="3835a-134">For more information about the service account, see [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3835a-135">Если используется проверка подлинности базы данных, необходимо выбрать параметр олицетворения **Использовать учетную запись службы** , если служба работает под выделенной виртуальной учетной записью для служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="3835a-135">When using database authentication, you should choose the **Use the service account** impersonation option if the service is running under the dedicated virtual account for Analysis Services.</span></span> <span data-ttu-id="3835a-136">У этой учетной записи будут разрешения на доступ к локальным файлам.</span><span class="sxs-lookup"><span data-stu-id="3835a-136">This account will have permissions to access local files.</span></span> <span data-ttu-id="3835a-137">Если служба выполняется от имени учетной записи NetworkService, лучше использовать вместо нее учетную запись пользователя Windows с минимальным правом доступа, у которой есть разрешения **Локальный вход в систему** .</span><span class="sxs-lookup"><span data-stu-id="3835a-137">If the service runs as NetworkService, a better alternative is to use a least privilege Windows user account that has **Allow log on locally** permissions.</span></span> <span data-ttu-id="3835a-138">В зависимости от указанной учетной записи может также понадобиться предоставить разрешения на доступ к программной папке служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="3835a-138">Depending on the account you provide, you might also need to grant file access permissions on the Analysis Services program folder.</span></span>  
  
 <span data-ttu-id="3835a-139">Для многомерных баз данных учетные данные сервисной учетной записи будут использоваться для обработки данных, запросов ROLAP, удаленных секций, связанных объектов и синхронизации цели с источником.</span><span class="sxs-lookup"><span data-stu-id="3835a-139">For multidimensional databases, the service account credentials will be used for processing, ROLAP queries, remote partitions, linked objects, and synchronization from target to source.</span></span>  
  
 <span data-ttu-id="3835a-140">Для табличных баз данных указанные учетные данные будут использоваться для обработки данных, запросов к реляционным хранилищам данных (при помощи DirectQuery), удаленных секций и синхронизации целевого объекта с источником.</span><span class="sxs-lookup"><span data-stu-id="3835a-140">For tabular databases, the specified credentials will be used for processing, queries that run against a relational data store (using DirectQuery), remote partitions, and synchronization from target to source.</span></span>  
  
 <span data-ttu-id="3835a-141">Для инструкций OPENQUERY языка DMX, локальных кубов и моделей интеллектуального анализа данных будут использоваться учетные данные текущего пользователя, даже если вы выбрали учетную запись службы.</span><span class="sxs-lookup"><span data-stu-id="3835a-141">For DMX OPENQUERY statements, local cubes, and mining models, the credentials of the current user will be used even if you choose the service account option.</span></span> <span data-ttu-id="3835a-142">Учетная запись службы не поддерживается для внешних привязок.</span><span class="sxs-lookup"><span data-stu-id="3835a-142">The service account option is not supported for out-of-line bindings.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3835a-143">При обработке модели интеллектуального анализа данных из куба могут возникать ошибки, если учетная запись службы не имеет разрешений администратора на экземпляре служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="3835a-143">Errors can occur when processing a data mining model from a cube if the service account does not have administrator permissions on the Analysis Services instance.</span></span> <span data-ttu-id="3835a-144">Дополнительные сведения см. в статье [Mining Structure: Issue while Processing when DataSource is OLAP Cube](https://go.microsoft.com/fwlink/?LinkId=251610)(Структура интеллектуального анализа данных: проблема при обработке, когда источником данных является куб OLAP).</span><span class="sxs-lookup"><span data-stu-id="3835a-144">For more information, see [Mining Structure: Issue while Processing when DataSource is OLAP Cube](https://go.microsoft.com/fwlink/?LinkId=251610).</span></span>  
  
 <span data-ttu-id="3835a-145">**Использовать учетные данные текущего пользователя**</span><span class="sxs-lookup"><span data-stu-id="3835a-145">**Use the credentials of the current user**</span></span>  
 <span data-ttu-id="3835a-146">Если выбран этот параметр, база данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] будет использовать учетные данные безопасности текущего пользователя для внешних привязок, DMX-инструкций OPENQUERY, локальных кубов и моделей интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-146">Select this option to have the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] object use the security credentials of the current user for out-of-line bindings, DMX OPENQUERY, local cubes, and mining models.</span></span>  
  
 <span data-ttu-id="3835a-147">Этот параметр не поддерживается для табличных баз данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-147">This option is not supported for tabular databases.</span></span>  
  
 <span data-ttu-id="3835a-148">За исключением локальных кубов и обработки с использованием внешних привязок, этот параметр не поддерживается для многомерных баз данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-148">With the exception of local cubes and processing using out-of-line bindings, this option is not supported for multidimensional databases.</span></span>  
  
 <span data-ttu-id="3835a-149">**По умолчанию** или **Наследование**</span><span class="sxs-lookup"><span data-stu-id="3835a-149">**Default** or **Inherit**</span></span>  
 <span data-ttu-id="3835a-150">В этом диалоговом окне использованы параметры олицетворения **По умолчанию** на уровне базы данных, а для параметров олицетворения на уровне исходной базы данных установлен параметр **Наследование** .</span><span class="sxs-lookup"><span data-stu-id="3835a-150">The dialog box uses **Default** for the impersonation options set at the database level and **Inherit** for impersonation options set at the data source level.</span></span>  
  
 <span data-ttu-id="3835a-151">**Источники данных — параметр inherit**</span><span class="sxs-lookup"><span data-stu-id="3835a-151">**Data Sources - Inherit Option**</span></span>  
  
 <span data-ttu-id="3835a-152">На уровне источника данных параметр **Наследование** указывает, что службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны использовать параметр олицетворения родительского объекта.</span><span class="sxs-lookup"><span data-stu-id="3835a-152">At the data source level, **Inherit** specifies that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] should use the impersonation option of the parent object.</span></span> <span data-ttu-id="3835a-153">Родительский объект в многомерной модели — это база данных [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3835a-153">In a multidimensional model, the parent object is the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="3835a-154">Выбор параметра **Наследование** позволяет централизованно управлять параметрами олицетворения для этого и других источников данных, являющихся частью одной и той же базы данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-154">Choosing the **Inherit** option lets you centrally manage the impersonation settings for this and other data sources that are part of the same database.</span></span> <span data-ttu-id="3835a-155">Чтобы этот параметр имел смысл, выберите конкретное имя пользователя Windows и пароль на уровне базы данных.</span><span class="sxs-lookup"><span data-stu-id="3835a-155">For this option to be meaningful, choose a specific Windows user name and password at the database level.</span></span> <span data-ttu-id="3835a-156">Иначе сочетание параметра **Наследование** для источника данных и параметра **По умолчанию** для базы данных будет эквивалентно использованию параметра учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="3835a-156">Otherwise, the combination of **Inherit** on the data source and **Default** on the database are equivalent to using service account option.</span></span>  
  
 <span data-ttu-id="3835a-157">Чтобы указать имя пользователя Windows и пароль на уровне базы данных, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="3835a-157">To specify a Windows user name and password at the database level, do the following:</span></span>  
  
1.  <span data-ttu-id="3835a-158">В [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] щелкните базу данных правой кнопкой мыши и выберите **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="3835a-158">Right-click the database in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] and select **Properties**.</span></span>  
  
2.  <span data-ttu-id="3835a-159">В окне **Сведения об олицетворении источника данных**укажите имя пользователя Windows и пароль.</span><span class="sxs-lookup"><span data-stu-id="3835a-159">In **Data Source Impersonation Info**, specify a Windows user name and password.</span></span>  
  
3.  <span data-ttu-id="3835a-160">Щелкните каждый источник данных правой кнопкой мыши, просмотрите его свойства и убедитесь в том, что каждый источник данных использует параметр **Наследование** .</span><span class="sxs-lookup"><span data-stu-id="3835a-160">Right-click each data source and view its properties to ensure that each one is using the **Inherit** option.</span></span>  
  
 <span data-ttu-id="3835a-161">Дополнительные сведения о параметрах по умолчанию на уровне базы данных см. в разделе [Задание свойств многомерной базы данных (службы Analysis Services)](set-multidimensional-database-properties-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="3835a-161">For more information about default settings at the database level, see [Set Multidimensional Database Properties &#40;Analysis Services&#41;](set-multidimensional-database-properties-analysis-services.md).</span></span>  
  
 <span data-ttu-id="3835a-162">**Базы данных — параметр по умолчанию**</span><span class="sxs-lookup"><span data-stu-id="3835a-162">**Databases - Default option**</span></span>  
  
 <span data-ttu-id="3835a-163">Для табличных баз данных параметр **По умолчанию** означает, что будет использоваться учетная запись службы.</span><span class="sxs-lookup"><span data-stu-id="3835a-163">For tabular databases, **Default** means use the service account.</span></span>  
  
 <span data-ttu-id="3835a-164">Для многомерных баз данных параметр **По умолчанию** означает, что будет использоваться учетная запись службы, а для операций интеллектуального анализа данных — учетная запись текущего пользователя.</span><span class="sxs-lookup"><span data-stu-id="3835a-164">For multidimensional databases, **Default** means use the service account, and current user for data mining operations.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3835a-165">См. также:</span><span class="sxs-lookup"><span data-stu-id="3835a-165">See Also</span></span>  
 <span data-ttu-id="3835a-166">[Создание источника данных &#40;многомерных&#41;SSAS](create-a-data-source-ssas-multidimensional.md) </span><span class="sxs-lookup"><span data-stu-id="3835a-166">[Create a Data Source &#40;SSAS Multidimensional&#41;](create-a-data-source-ssas-multidimensional.md) </span></span>  
 <span data-ttu-id="3835a-167">[Задание свойств источника данных &#40;многомерных&#41;SSAS](set-data-source-properties-ssas-multidimensional.md) </span><span class="sxs-lookup"><span data-stu-id="3835a-167">[Set Data Source Properties &#40;SSAS Multidimensional&#41;](set-data-source-properties-ssas-multidimensional.md) </span></span>  
 [<span data-ttu-id="3835a-168">Сценарии развертывания DirectQuery &#40;табличных&#41;SSAS</span><span class="sxs-lookup"><span data-stu-id="3835a-168">DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;</span></span>](../directquery-deployment-scenarios-ssas-tabular.md)  
  
  

---
title: Grant, предоставление разрешений на куб или модель (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.roledesignerdialog.cubes.f1
helpviewer_keywords:
- user access rights [Analysis Services], cubes
- cubes [Analysis Services], security
- read/write permissions
- permissions [Analysis Services], cubes
ms.assetid: 55b1456e-2f6b-4101-b316-c926f40304e3
author: minewiskan
ms.author: owend
ms.openlocfilehash: 23e0c5d6c6e70a4ee563ec47562629dd58b0f146
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87727434"
---
# <a name="grant-cube-or-model-permissions-analysis-services"></a>Предоставление разрешений кубу или модели (службы Analysis Services)
  Куб или табличная модель являются основным объектом запроса в модели данных службы Analysis Service. При подключении к многомерным или табличным данным из Excel для просмотра данных ad hoc, пользователи обычно начинают с выбора определенного куба или табличной модели в качестве структуры данных Сводного объекта отчета. Данная тема объясняет, как предоставить необходимые разрешения для доступа к кубу или табличным данным.  
  
 По умолчанию, никто, кроме Администратора Сервера или Администратора Базы данных не имеет разрешения давать запросы кубу в базе данных. Доступ к кубу без прав администратора требует членство в роли, созданной для базы данных, содержащей куб. Членство поддерживается для пользователя Windows или для учетных записей групп, определенных либо в службе Active Directory, либо на локальном компьютере. Перед тем как начать, определите, какие учетные записи будут назначены как членские в ролях, которые вы собираетесь создать.  
  
 `Read` доступ к кубу также передает разрешения на измерения, группы мер и перспективы в его рамках. Большая часть администраторов передаст разрешения чтения на уровне куба, а затем ограничит разрешения на определенных объектах, на связанных данных или по удостоверению пользователя.  
  
 Для сохранения определений ролей на успешных развертываниях решений, лучшим способом будет являться определение ролей в [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] в качестве составной части модели, а затем обладание назначенными членствами в роли администратора базы данных в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] после опубликования базы данных. Однако вы можете использовать любое средство для обоих заданий. Для облегчения применения мы будем использовать [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] и для определения роли и для членства.  
  
> [!NOTE]  
>  Только администраторы сервера или администраторы базы данных, которые обладают разрешениями на полный доступ, могут развернуть куб из исходных файлов на сервер, или создать роли и назначить членов. Дополнительные сведения об этих уровнях разрешений см. в статьях [предоставление разрешений администратора сервера &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) и [предоставление разрешений базы данных &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md) .  
  
#### <a name="step-1-create-the-role"></a>Шаг 1. Создание роли  
  
1.  Подключитесь к Analysis Services в среде SSMS. Если вам нужна помощь с выполнением этого шага, см. раздел [Подключение из клиентских приложений (службы Analysis Services)](../instances/connect-from-client-applications-analysis-services.md).  
  
2.  Откройте папку **Базы данных** в Обозревателе объектов и выберите базу данных.  
  
3.  Щелкните правой кнопкой мыши **Роли** и выберите **Создать роль**. Обратите внимание на то, что роли создаются на уровне базы данных и применяются к объектам в ее рамках. Вы не можете делиться ролями по базам данных.  
  
4.  На вкладке **Общие** , введите название и, при необходимости, описание. Данная вкладка также содержит несколько разрешений базы данных, таких как Полный Доступ, Обработка Базы данных и Чтение Описания. Ни одно из этих разрешений не нужно для запроса куба или табличной модели. Дополнительные сведения об этих разрешениях см. в разделе [Предоставление разрешений базы данных (службы Analysis Services)](grant-database-permissions-analysis-services.md).  
  
5.  Переходите к следующему шагу после ввода названия и дополнительного описания.  
  
#### <a name="step-2-assign-membership"></a>Шаг 2. Назначение членства  
  
1.  На вкладке **Членство** , нажмите **Добавить** для ввода пользователя Windows или учетных записей групп, которые будут получать доступ к кубу, используя данную роль. Служба Analysis Services поддерживает только удостоверение безопасности Windows. Обратите внимание на то, что на данном этапе вы не создаете имена для входа в базу данных. В службе Analysis Services пользователи подключаются посредством учетных записей Windows.  
  
2.  Переходите к следующему шагу, настраивая разрешения куба.  
  
     Обратите внимание на то, что мы пропускаем вкладку Источник Данных. Для большинства обычных потребителей данных Analysis Services не необходимости в разрешениях на объекте источника данных. Подробные сведения об этих уровнях разрешений см. в разделах [Предоставление разрешений объекту источника данных (службы Analysis Services)](grant-permissions-on-a-data-source-object-analysis-services.md) за дополнительными сведениями о том, когда вы можете установить это разрешение.  
  
#### <a name="step-3-set-cube-permissions"></a>Шаг 3. Установка разрешений куба  
  
1.  В области **Кубы** выберите куб, а затем щелкните `Read` или доступ на **чтение и запись** .  
  
     `Read`для большинства операций достаточно доступа. Доступ**Чтение и запись** используется только для обратной записи, но не для обработки. Обратитесь к разделу [Set Partition Writeback](set-partition-writeback.md) за дополнительной информацией об этой возможности.  
  
     Обратите внимание на то, что вы можете выбрать несколько кубов, так же как и другие объекты, доступные в диалоговом окне Создать Роль. Предоставление разрешений кубу разрешает доступ к измерениям и перспективам, связанным с кубом. Нет необходимости в ручном добавлении объектов, которые уже представлены в кубе.  
  
     Если вам необходимо изменить авторизацию по объектам или пользователю, например, чтобы сделать недоступными некоторые меры, вы можете автоматически открыть или запретить доступ на определенных объектах, даже на ячейках. Дополнительные сведения см. в разделах [Предоставление настраиваемого доступа к данным измерений (службы Analysis Services)](grant-custom-access-to-dimension-data-analysis-services.md) и [Предоставление настраиваемого доступа к данным ячейки (службы Analysis Services)](grant-custom-access-to-cell-data-analysis-services.md).  
  
2.  На данном этапе, после того, как вы нажмете **ОК**, все члены данной роли получат доступ к кубам на определенных вами уровнях разрешений.  
  
     Обратите внимание на то, что на вкладке **Кубы** вы можете предоставлять пользователям разрешение на создание локальных кубов из серверного куба посредством **Детализация и Локальный Куб**, или разрешать только детализацию посредством разрешения **Детализация** .  
  
     Наконец, данная вкладка позволяет вам предоставлять права **Обработка Базы данных** в кубе для предоставления всем членам данной роли возможности обработки данных для этого куба. Поскольку обработка обычно является ограниченной операцией, мы рекомендуем вам оставить это задание администраторам или определить отдельные роли специально для этого задания. Обратитесь к разделу [Предоставление разрешений на обработку (службы Analysis Services)](grant-process-permissions-analysis-services.md) за дополнительной информацией о рекомендациях относительно обработки разрешения.  
  
#### <a name="step-4-test"></a>Шаг 4. Тест  
  
1.  Используйте Excel для проверки разрешений доступа к кубу. Вы также можете использовать [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], следуя тем же приемам, описанным ниже — запустив приложение в качестве пользователя без прав администратора.  
  
    > [!NOTE]  
    >  Если вы являетесь администратором службы Analysis Services, разрешения администратора будут комбинироваться с ролями, которые имеют меньше разрешений, затрудняя проверку разрешений роли в изоляции. Для облегчения процесса проверки мы рекомендуем вам открыть второй экземпляр SSMS, используя учетную запись, назначенную роли, которую вы проверяете.  
  
2.  Удерживайте клавишу SHIFT и щелкните правой кнопкой мыши значок **Excel** , чтобы получить доступ к параметру **Запуск от имени другого пользователя** . Введите одну из учетных записей пользователя Windows или группы, которые обладают членством в данной роли.  
  
3.  После того, как Excel откроется, используйте вкладку Данные для подключения к службе Analysis Services. Поскольку вы используете Excel в качестве другого пользователя Windows, параметр **Используйте проверку подлинности Windows** является правильным типом учетных данных для использования при проверке ролей. Если вам нужна помощь с выполнением этого шага, см. раздел [Подключение из клиентских приложений (службы Analysis Services)](../instances/connect-from-client-applications-analysis-services.md).  
  
     Если при подключении вы получаете ошибки, проверьте конфигурацию порта Analysis Services и удостоверьтесь, что сервер принимает удаленные подключения. См. раздел [Настройка брандмауэра Windows для разрешения доступа Analysis Services к](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md) конфигурации порта.  
  
#### <a name="step-5-script-role-definition-and-assignments"></a>Шаг 5. Определение и назначения роли скрипта  
  
1.  В качестве последнего шага вам необходимо создать сценарий, который фиксирует определение роли, которую вы только что создали.  
  
     Повторное развертывание проекта из [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] перезапишет любые роли или членства роли, которые не определены внутри проекта. Самым быстрым способом перестройки роли и членство роли после повторного развертывания является сценарий.  
  
2.  В SSMS пройдите к папке **Роли** и щелкните правой кнопкой мыши существующую роль.  
  
3.  Выберите **Script Role as**  |  **создать скрипт для роли создание**  |  **файла**.  
  
4.  Сохраните файл с разрешением файла .xmla. Для проверки сценария удалите текущую роль, откройте файл в SSMS и нажмите F5 для запуска сценария.  
  
## <a name="next-step"></a>Следующий шаг  
 Мы можете детализировать разрешения куба для ограничения доступа к ячейке или данным измерения. Дополнительные сведения см. в разделах [Предоставление настраиваемого доступа к данным измерений (службы Analysis Services)](grant-custom-access-to-dimension-data-analysis-services.md) и [Предоставление настраиваемого доступа к данным ячейки (службы Analysis Services)](grant-custom-access-to-cell-data-analysis-services.md).  
  
## <a name="see-also"></a>См. также:  
 [Методологии проверки подлинности, поддерживаемые Analysis Services](../instances/authentication-methodologies-supported-by-analysis-services.md)   
 [Предоставление разрешений на структуры и модели интеллектуального анализа данных &#40;Analysis Services&#41;](grant-permissions-on-data-mining-structures-and-models-analysis-services.md)   
 [Предоставление разрешений объекту источника данных (службы Analysis Services)](grant-permissions-on-a-data-source-object-analysis-services.md)  
  
  

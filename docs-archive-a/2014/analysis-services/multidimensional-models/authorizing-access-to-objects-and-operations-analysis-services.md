---
title: Авторизация доступа к объектам и операциям (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.roledesignerdialog.membership.f1
- sql12.asvs.roledesignerdialog.general.f1
helpviewer_keywords:
- access rights [Analysis Services], users
- permissions [Analysis Services], users
- security [Analysis Services], user access
- user access rights [Analysis Services]
- granting permissions [Analysis Services], users
ms.assetid: af28524e-5eca-4dce-a050-da4f406ee1c7
author: minewiskan
ms.author: owend
ms.openlocfilehash: 34a91283d735730bcc5f011377b1f1e729e7e753
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750328"
---
# <a name="authorizing-access-to-objects-and-operations-analysis-services"></a><span data-ttu-id="25810-102">Предоставление доступа к объектам и операциям (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="25810-102">Authorizing access to objects and operations (Analysis Services)</span></span>
  <span data-ttu-id="25810-103">Доступ неадминистративных пользователей к кубам, измерениям и моделям интеллектуального анализа данных внутри базы данных [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] предоставляется посредством включения пользователя в одну или несколько ролей базы данных.</span><span class="sxs-lookup"><span data-stu-id="25810-103">Non-administrative user access to cubes, dimensions, and mining models within an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database is granted through membership in one or more database roles.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="25810-104">Администраторы создают указанные роли базы данных, предоставляют разрешения на чтение или чтение и запись объектов служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , а затем добавляют к каждой роли пользователей и группы Windows [!INCLUDE[msCoName](../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="25810-104">administrators create these database roles, granting Read or Read/Write permissions on [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, and then assigning [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows users and groups to each role.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="25810-105">определяют действительные разрешения для конкретного пользователя или группы Windows, объединяя разрешения, связанные с ролью базы данных, к которой пользователь или группа принадлежит.</span><span class="sxs-lookup"><span data-stu-id="25810-105">determines the effective permissions for a specific Windows user or group by combining the permissions that are associated with each database role to which the user or group belongs.</span></span> <span data-ttu-id="25810-106">Как следствие, если одна роль базы данных не предоставляет пользователю или группе разрешения на просмотр измерения, меры или атрибута, но при этом другая роль базы данных предоставляет пользователю или группе такое разрешение, то у пользователя или группы будет разрешение на просмотр объекта.</span><span class="sxs-lookup"><span data-stu-id="25810-106">As a result, if one database role does not give a user or group permission to view a dimension, measure, or attribute, but a different database role does give that user or group permission, the user or group will have permission to view the object.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="25810-107">Участники роли администратора сервера и участники роли базы данных [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , обладающие разрешениями "Полный доступ" (администратор), имеют доступ ко всем данным и метаданным в базе данных, и не нуждаются в дополнительных разрешениях на просмотр конкретных объектов.</span><span class="sxs-lookup"><span data-stu-id="25810-107">Members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Server Administrator role and members of a database role having Full Control (Administrator) permissions can access all data and metadata in the database and need no additional permissions to view specific objects.</span></span> <span data-ttu-id="25810-108">Более того, членам роли сервера служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] не может быть отказано в доступе к любому объекту любой базы данных, а членам роли базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , обладающей разрешениями "Полный доступ" (администратор) в рамках базы данных, не может быть отказано в доступе к любому объекту в рамках такой базы данных.</span><span class="sxs-lookup"><span data-stu-id="25810-108">Moreover, members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server role cannot be denied access to any object in any database, and members of an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database role that has Full Control (Administrator) permissions within a database cannot be denied access to any object within that database.</span></span> <span data-ttu-id="25810-109">Специальные административные операции, такие как обработка, можно авторизовать с помощью отдельных ролей с меньшими разрешениями.</span><span class="sxs-lookup"><span data-stu-id="25810-109">Specialized administrative operations, such as processing, can be authorized through separate roles having less permission.</span></span> <span data-ttu-id="25810-110">Дополнительные сведения см. в разделе [Предоставление разрешений на обработку (службы Analysis Services)](grant-process-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="25810-110">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
## <a name="list-roles-defined-for-your-database"></a><span data-ttu-id="25810-111">Список ролей, заданных для базы данных</span><span class="sxs-lookup"><span data-stu-id="25810-111">List roles defined for your database</span></span>  
 <span data-ttu-id="25810-112">Чтобы получить список ролей, заданных на сервере, администраторы могут выполнить простой запрос динамических административных представлений (DMV) в SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="25810-112">Administrators can run a simple DMV query in SQL Server Management Studio to get a list of all roles defined on the server.</span></span>  
  
1.  <span data-ttu-id="25810-113">В среде SSMS щелкните правой кнопкой мыши базу данных и выберите **создать запрос**  |  **многомерное выражение**.</span><span class="sxs-lookup"><span data-stu-id="25810-113">In SSMS, right-click a database and select **New Query** | **MDX**.</span></span>  
  
2.  <span data-ttu-id="25810-114">Введите следующий запрос и нажмите клавишу F5, чтобы выполнить его:</span><span class="sxs-lookup"><span data-stu-id="25810-114">Type the following query and press F5 to execute:</span></span>  
  
    ```sql  
    Select * from $SYSTEM.DBSCHEMA_CATALOGS  
    ```  
  
     <span data-ttu-id="25810-115">В результате запроса будет показано имя базы данных, описание, имя роли и дата последнего изменения.</span><span class="sxs-lookup"><span data-stu-id="25810-115">Results include the database name, description, role name, and the date last modified.</span></span> <span data-ttu-id="25810-116">Используя эти сведения в качестве отправной точки, можно переходить к отдельным базам данных и проверять членство и разрешения конкретной роли.</span><span class="sxs-lookup"><span data-stu-id="25810-116">Using this information as a starting point, you can proceed to individual databases to check membership and permissions of a specific role.</span></span>  
  
## <a name="top-down-overview-of-analysis-services-authorization"></a><span data-ttu-id="25810-117">Организованный сверху вниз обзор авторизации Analysis Services</span><span class="sxs-lookup"><span data-stu-id="25810-117">Top-down overview of Analysis Services authorization</span></span>  
 <span data-ttu-id="25810-118">Этот раздел охватывает базовый рабочий процесс для настройки разрешений.</span><span class="sxs-lookup"><span data-stu-id="25810-118">This section covers the basic workflow for configuring permissions.</span></span>  
  
 <span data-ttu-id="25810-119">**Шаг 1. Администрирование сервера**</span><span class="sxs-lookup"><span data-stu-id="25810-119">**Step 1: Server Administration**</span></span>  
  
 <span data-ttu-id="25810-120">В качестве первого шага решите, кто будет обладать правами администратора на уровне сервера.</span><span class="sxs-lookup"><span data-stu-id="25810-120">As a first step, decide who will have administrator rights at the server level.</span></span> <span data-ttu-id="25810-121">Во время установки локальному администратору, установившему SQL Server, необходимо указать одну или несколько учетных записей Windows от имени администратора сервера служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="25810-121">During installation, the local administrator who installs SQL Server is required to specify one or more Windows accounts as the Analysis Services server administrator.</span></span> <span data-ttu-id="25810-122">Администраторы сервера обладают всеми возможными разрешениями на сервере, включая разрешение на просмотр, изменение и удаление любого объекта на сервере или просмотр связанных данных.</span><span class="sxs-lookup"><span data-stu-id="25810-122">Server administrators have all possible permissions on a server, including the permission to view, modify, and delete any object on the server, or view associated data.</span></span> <span data-ttu-id="25810-123">После завершения установки администратор сервера может добавить или удалить учетные записи, чтобы изменить членство этой роли.</span><span class="sxs-lookup"><span data-stu-id="25810-123">After installation is complete, a server administrator can add or remove accounts to change membership of this role.</span></span> <span data-ttu-id="25810-124">Дополнительные сведения об этом уровне разрешений см. в разделе [предоставление разрешений администратора сервера &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) .</span><span class="sxs-lookup"><span data-stu-id="25810-124">See [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) for details about this permission level.</span></span>  
  
 <span data-ttu-id="25810-125">**Шаг 2. Администрирование базы данных**</span><span class="sxs-lookup"><span data-stu-id="25810-125">**Step 2: Database Administration**</span></span>  
  
 <span data-ttu-id="25810-126">Далее, после создания табличного или многомерного решения оно развертывается на сервере как база данных.</span><span class="sxs-lookup"><span data-stu-id="25810-126">Next, after a tabular or multidimensional solution is created, it is deployed to the server as a database.</span></span> <span data-ttu-id="25810-127">Администратор сервера может делегировать задачи администрирования базы данных, определив роль с разрешениями "Полный доступ" для соответствующей базы данных.</span><span class="sxs-lookup"><span data-stu-id="25810-127">A server administrator can delegate database administration tasks by defining a role that has Full Control permissions for the database in question.</span></span> <span data-ttu-id="25810-128">Участники этой роли могут обработать или запросить объекты в базе данных, а также создать дополнительные роли для доступа к кубам, измерениям и другим объектам в самой базе данных.</span><span class="sxs-lookup"><span data-stu-id="25810-128">Members of this role can process or query objects in the database, as well as create additional roles for accessing cubes, dimensions, and other objects within the database itself.</span></span> <span data-ttu-id="25810-129">Дополнительные сведения см. в разделе [Предоставление разрешений базы данных (службы Analysis Services)](grant-database-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="25810-129">See [Grant database permissions &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md) for more information.</span></span>  
  
 <span data-ttu-id="25810-130">**Шаг 3. Разрешение доступа к кубу или модели для запроса и обработки рабочих нагрузок**</span><span class="sxs-lookup"><span data-stu-id="25810-130">**Step 3: Enable cube or model access for query and processing workloads**</span></span>  
  
 <span data-ttu-id="25810-131">По умолчанию только администраторы сервера и базы данных имеют доступ к кубам или табличным моделям.</span><span class="sxs-lookup"><span data-stu-id="25810-131">By default, only server and database administrators have access to cubes or tabular models.</span></span> <span data-ttu-id="25810-132">Для предоставления этих структур данных другим пользователям организации требуются назначения дополнительных ролей, которые сопоставляют учетные записи пользователя и группы Windows с кубами или моделями, а также с разрешениями, определяющими привилегии `Read`.</span><span class="sxs-lookup"><span data-stu-id="25810-132">Making these data structures available to other people in your organization requires additional role assignments that map Windows user and group accounts to cubes or models, along with permissions that specify `Read` privileges.</span></span> <span data-ttu-id="25810-133">Дополнительные сведения см. в разделе [Предоставление разрешений куба или модели (службы Analysis Services)](grant-cube-or-model-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="25810-133">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details.</span></span>  
  
 <span data-ttu-id="25810-134">Обработку задач можно изолировать от других административных функций, позволив администраторам сервера и базы данных делегировать эту задачу другим пользователям или настроить автоматическую обработку, указав учетные записи службы, запускающие планирование программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="25810-134">Processing tasks can be isolated from other administrative functions, allowing server and database administrators to delegate this task to other people, or to configure unattended processing by specifying service accounts that run scheduling software.</span></span> <span data-ttu-id="25810-135">Дополнительные сведения см. в разделе [Предоставление разрешений на обработку (службы Analysis Services)](grant-process-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="25810-135">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="25810-136">Пользователям не требуется ни разрешений для реляционных таблиц в базовой реляционной базе данных, из которой службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] загружают свои данные, ни разрешений на уровне файла на компьютере, на котором запущен экземпляр служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="25810-136">Users do not require any permissions to the relational tables in the underlying relational database from which [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] loads its data, and do not require any file level permissions on the computer on which the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="25810-137">**Шаг 4. (Необязательно) Разрешение или отклонение доступа к внутренним объектам кубов**</span><span class="sxs-lookup"><span data-stu-id="25810-137">**Step 4 (Optional): Allow or deny access to interior cube objects**</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="25810-138">предоставляет параметры безопасности для разрешений безопасности на индивидуальных объектах, включая элементы измерения и ячейки в модели данных.</span><span class="sxs-lookup"><span data-stu-id="25810-138">provides security settings for setting permissions on individual objects, including dimension members and cells within a data model.</span></span> <span data-ttu-id="25810-139">Дополнительные сведения см. в разделах [Предоставление настраиваемого доступа к данным измерений (службы Analysis Services)](grant-custom-access-to-dimension-data-analysis-services.md) и [Предоставление настраиваемого доступа к данным ячейки (службы Analysis Services)](grant-custom-access-to-cell-data-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="25810-139">For details, see [Grant custom access to dimension data &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md) and [Grant custom access to cell data &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md).</span></span>  
  
 <span data-ttu-id="25810-140">Также можно изменять разрешения на базе удостоверения пользователя.</span><span class="sxs-lookup"><span data-stu-id="25810-140">You can also vary permissions based on user identity.</span></span> <span data-ttu-id="25810-141">Это часто называется динамической безопасностью и реализуется с помощью функции [UserName (MDX)](/sql/mdx/username-mdx).</span><span class="sxs-lookup"><span data-stu-id="25810-141">This is often referred to as dynamic security, and is implemented using the [UserName &#40;MDX&#41;](/sql/mdx/username-mdx) function</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="25810-142">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="25810-142">Best practices</span></span>  
 <span data-ttu-id="25810-143">Для лучшего управления разрешениями рекомендуется использовать подход, аналогичный следующему.</span><span class="sxs-lookup"><span data-stu-id="25810-143">To better manage permissions, we suggest an approach similar to the following:</span></span>  
  
1.  <span data-ttu-id="25810-144">Создание ролей по названию функции (например, dbadmin, cubedeveloper, processadmin), чтобы пользователь, управляющий ролями мог сразу понять, что разрешает роль.</span><span class="sxs-lookup"><span data-stu-id="25810-144">Create roles by function (for example, dbadmin, cubedeveloper, processadmin) so that whoever maintains the roles can see at glance what the role allows.</span></span> <span data-ttu-id="25810-145">Как указано ранее, роли можно определить в определении модели, сохранив их в последующих развертываниях решения.</span><span class="sxs-lookup"><span data-stu-id="25810-145">As noted elsewhere, you can define roles in the model definition, thus preserving those roles over subsequent solution deployments.</span></span>  
  
2.  <span data-ttu-id="25810-146">Создайте соответствующую группу безопасности Windows в Active Directory и сохраните ее в Active Directory, чтобы гарантировать, что она содержит соответствующие индивидуальные учетные записи.</span><span class="sxs-lookup"><span data-stu-id="25810-146">Create a corresponding Windows security group in Active Directory, and then maintain the security group in Active Directory to insure it contains the appropriate individual accounts.</span></span> <span data-ttu-id="25810-147">Таким образом, ответственность за членство группы безопасности ляжет на специалистов по безопасности, которые уже имеют опыт в работе со средствами и процессами, использующимися для обслуживания учетной записи в организации.</span><span class="sxs-lookup"><span data-stu-id="25810-147">This places the responsibility of security group membership on security specialists who are already have proficiency with the tools and processes used for account maintenance in your organization.</span></span>  
  
3.  <span data-ttu-id="25810-148">Создайте скрипты в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , чтобы можно было быстро реплицировать назначения ролей при каждом повторном реплицировании модели из файлов источника на сервер.</span><span class="sxs-lookup"><span data-stu-id="25810-148">Generate scripts in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] so that you can quickly replicate role assignments whenever the model is redeployed from its source files to a server.</span></span> <span data-ttu-id="25810-149">Дополнительные сведения о том, как быстро создать сценарий, см. в разделе [Предоставление разрешений кубу или модели (службы Analysis Services)](grant-cube-or-model-permissions-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="25810-149">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details on how to quickly generate a script.</span></span>  
  
4.  <span data-ttu-id="25810-150">Заключите соглашение об именовании, которое отражает область и членство роли.</span><span class="sxs-lookup"><span data-stu-id="25810-150">Adopt a naming convention that reflects the scope and membership of the role.</span></span> <span data-ttu-id="25810-151">Имена ролей видны только в средствах конструирования и администрирования, поэтому следует использовать соглашение об именовании, знакомое специалистам по безопасности.</span><span class="sxs-lookup"><span data-stu-id="25810-151">Role names are only visible in design and administration tools, so use a naming convention that makes sense to your cube security specialists.</span></span> <span data-ttu-id="25810-152">Например, **processadmin-windowsgroup1** указывает доступ на чтение и права на обработку для пользователей организации, чьи индивидуальные учетные записи Windows являются членами группы безопасности **windowsgroup1** .</span><span class="sxs-lookup"><span data-stu-id="25810-152">For example, **processadmin-windowsgroup1** indicates read access, plus processing rights, to people in your organization whose individual Windows user accounts are members of the **windowsgroup1** security group.</span></span>  
  
     <span data-ttu-id="25810-153">Включение сведений об учетной записи может помочь отслеживать, какие учетные записи используются в разных ролях.</span><span class="sxs-lookup"><span data-stu-id="25810-153">Including account information can help you keep track of which accounts are used in various roles.</span></span> <span data-ttu-id="25810-154">Поскольку роли аддитивны, объединенные роли, связанные с **windowsgroup1** , составляют набор действующих разрешений для пользователей, входящих в эту группу безопасности.</span><span class="sxs-lookup"><span data-stu-id="25810-154">Because roles are additive, the combined roles associated with **windowsgroup1** make up the effective permission set for people belonging to that security group.</span></span>  
  
5.  <span data-ttu-id="25810-155">Разработчикам кубов потребуются разрешения "Полный доступ" для разрабатываемых моделей и баз данных, но после передачи базы данных на рабочий сервер нужны только разрешения на чтение.</span><span class="sxs-lookup"><span data-stu-id="25810-155">Cube developers will require Full Control permissions for models and databases under development, but only need Read permissions once a database is rolled out to a production server.</span></span> <span data-ttu-id="25810-156">Не забывайте разрабатывать определения ролей и назначения для всех сценариев, включая разработку, тестирование и рабочие развертывания.</span><span class="sxs-lookup"><span data-stu-id="25810-156">Remember to develop role definitions and assignments for all scenarios, including development, test, and production deployments.</span></span>  
  
 <span data-ttu-id="25810-157">Использование подобного подхода снижает время обработки определений ролей и членства ролей в модели, а также предоставляет видимость назначений ролей, что упрощает реализацию и поддержание разрешений кубов.</span><span class="sxs-lookup"><span data-stu-id="25810-157">Using an approach like this one minimizes churn to role definitions and role membership in the model, and provides visibility into role assignments that makes cube permissions easier to implement and maintain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="25810-158">См. также:</span><span class="sxs-lookup"><span data-stu-id="25810-158">See Also</span></span>  
 <span data-ttu-id="25810-159">[Предоставление разрешений администратора сервера &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span><span class="sxs-lookup"><span data-stu-id="25810-159">[Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span></span>  
 <span data-ttu-id="25810-160">[Роли и разрешения &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="25810-160">[Roles and Permissions &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span></span>  
 [<span data-ttu-id="25810-161">Методики проверки подлинности, поддерживаемые службами Analysis Services</span><span class="sxs-lookup"><span data-stu-id="25810-161">Authentication methodologies supported by Analysis Services</span></span>](../instances/authentication-methodologies-supported-by-analysis-services.md)  
  
  

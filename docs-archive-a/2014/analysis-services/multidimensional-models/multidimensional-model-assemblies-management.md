---
title: Управление сборками многомерной модели | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- permissions [Analysis Services], assemblies
- calling user-defined functions
- user impersonation [Analysis Services]
- impersonation [Analysis Services]
- Data Mining Extensions [Analysis Services], assemblies
- MDX [Analysis Services], assemblies
- user-defined functions [Analysis Services]
- Analysis Services objects, assemblies
- assemblies [Analysis Services]
- application domains [Analysis Services]
ms.assetid: b2645d10-6d17-444e-9289-f111ec48bbfb
author: minewiskan
ms.author: owend
ms.openlocfilehash: b95a3171b3b194e84f10809f71eb72fefb07172b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728874"
---
# <a name="multidimensional-model-assemblies-management"></a><span data-ttu-id="7dd45-102">Управление сборками многомерной модели</span><span class="sxs-lookup"><span data-stu-id="7dd45-102">Multidimensional Model Assemblies Management</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="7dd45-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] предоставляет множество встроенных функций для использования с языками многомерных выражений (MDX) и расширений интеллектуального анализа данных (DMX), предназначенных для выполнения всех операций, от стандартных статистических вычислений до обхода элементов в иерархии.</span><span class="sxs-lookup"><span data-stu-id="7dd45-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] supplies lots of intrinsic functions for use with the Multidimensional Expressions (MDX) and Data Mining Extensions (DMX) languages, designed to accomplish everything from standard statistical calculations to traversing members in a hierarchy.</span></span> <span data-ttu-id="7dd45-104">Однако, как и с любым другим сложным и надежным продуктом, существует необходимость в дальнейшем расширении функциональности такого продукта.</span><span class="sxs-lookup"><span data-stu-id="7dd45-104">But, as with any other complex and robust product, there is always the need to extend the functionality of such a product further.</span></span>  
  
 <span data-ttu-id="7dd45-105">Поэтому [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] позволяет добавлять сборки в экземпляр [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или базу данных.</span><span class="sxs-lookup"><span data-stu-id="7dd45-105">Therefore, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] lets you add assemblies to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance or database.</span></span> <span data-ttu-id="7dd45-106">Сборки позволяют создавать внешние пользовательские функции при помощи любого языка среды CLR, например Microsoft Visual Basic .NET или Microsoft Visual C#.</span><span class="sxs-lookup"><span data-stu-id="7dd45-106">Assemblies let you create external, user-defined functions using any common language runtime (CLR) language, such as Microsoft Visual Basic .NET or Microsoft Visual C#.</span></span> <span data-ttu-id="7dd45-107">Также можно использовать языки автоматизации COM, например Microsoft Visual Basic или Microsoft Visual C++.</span><span class="sxs-lookup"><span data-stu-id="7dd45-107">You can also use Component Object Model (COM) Automation languages such as Microsoft Visual Basic or Microsoft Visual C++.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="7dd45-108">Использование сборок COM может представлять угрозу безопасности.</span><span class="sxs-lookup"><span data-stu-id="7dd45-108">COM assemblies might pose a security risk.</span></span> <span data-ttu-id="7dd45-109">По этой причине, а также по ряду других сборки COM в службах [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)]являются устаревшими.</span><span class="sxs-lookup"><span data-stu-id="7dd45-109">Due to this risk and other considerations, COM assemblies were deprecated in [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span></span> <span data-ttu-id="7dd45-110">Поддержка сборок COM в последующих версиях может быть прекращена.</span><span class="sxs-lookup"><span data-stu-id="7dd45-110">COM assemblies might not be supported in future releases.</span></span>  
  
 <span data-ttu-id="7dd45-111">Сборки позволяют расширять бизнес-функции многомерных выражений и расширений интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="7dd45-111">Assemblies let you extend the business functionality of MDX and DMX.</span></span> <span data-ttu-id="7dd45-112">Требуемые функции формируются в виде библиотеки, например динамически подключаемой библиотеки (DLL), которая затем добавляется в качестве сборки к экземпляру служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или к базе данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7dd45-112">You build the functionality that you want into a library, such as a dynamic link library (DLL) and add the library as an assembly to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="7dd45-113">Общие методы в библиотеке затем открываются в виде пользовательских функций для многомерных выражений и выражений расширений интеллектуального анализа данных, их процедур, вычислений, действий и клиентских приложений.</span><span class="sxs-lookup"><span data-stu-id="7dd45-113">The public methods in the library are then exposed as user-defined functions to MDX and DMX expressions, procedures, calculations, actions, and client applications.</span></span>  
  
 <span data-ttu-id="7dd45-114">Для дополнения программного обеспечения сервера может быть установлена сборка с новыми процедурами и функциями.</span><span class="sxs-lookup"><span data-stu-id="7dd45-114">An assembly with new procedures and functions can be added to the server.</span></span> <span data-ttu-id="7dd45-115">Сборки могут использоваться для расширения или добавления определяемых пользователем функциональных возможностей, которые не предоставляются сервером.</span><span class="sxs-lookup"><span data-stu-id="7dd45-115">You can use assemblies to enhance or add custom functionality that is not provided by the server.</span></span> <span data-ttu-id="7dd45-116">Сборки позволяют добавлять новые функции к многомерным выражениям (MDX), расширениям интеллектуального анализа данных (DMX) или хранимым процедурам.</span><span class="sxs-lookup"><span data-stu-id="7dd45-116">By using assemblies, you can add new functions to Multidimensional Expressions (MDX), Data Mining Extensions (DMX), or stored procedures.</span></span> <span data-ttu-id="7dd45-117">Сборки загружаются с того места, откуда запущено пользовательское приложение, и копия двоичного файла сборки сохраняется наряду с данными базы данных на сервере.</span><span class="sxs-lookup"><span data-stu-id="7dd45-117">Assemblies are loaded from the location where the custom application is run, and a copy of the assembly binary file is saved along with the database data in the server.</span></span> <span data-ttu-id="7dd45-118">После удаления сборки удаляется также копия сборки с сервера.</span><span class="sxs-lookup"><span data-stu-id="7dd45-118">When an assembly is removed, the copied assembly is also removed from the server.</span></span>  
  
 <span data-ttu-id="7dd45-119">Сборки могут относиться к двум разным типам: COM и CLR.</span><span class="sxs-lookup"><span data-stu-id="7dd45-119">Assemblies can be of two different types: COM and CLR.</span></span> <span data-ttu-id="7dd45-120">Сборки CLR представляют собой сборки, разработанные на языках программирования .NET Framework, таких как C#, Visual Basic .NET, основанных на C++.</span><span class="sxs-lookup"><span data-stu-id="7dd45-120">CLR assemblies are assemblies developed in .NET Framework programming languages such as C#, Visual Basic .NET, managed C++.</span></span> <span data-ttu-id="7dd45-121">Сборки COM — это библиотеки COM, которые должны быть зарегистрированы на сервере.</span><span class="sxs-lookup"><span data-stu-id="7dd45-121">COM assemblies are COM libraries that must be registered in the server</span></span>  
  
 <span data-ttu-id="7dd45-122">Сборки можно добавить к объектам <xref:Microsoft.AnalysisServices.Server> или <xref:Microsoft.AnalysisServices.Database> .</span><span class="sxs-lookup"><span data-stu-id="7dd45-122">Assemblies can be added to <xref:Microsoft.AnalysisServices.Server> or <xref:Microsoft.AnalysisServices.Database> objects.</span></span> <span data-ttu-id="7dd45-123">Вызов сборок сервера может осуществляться любым пользователем, подключенным к серверу, или любым объектом на сервере.</span><span class="sxs-lookup"><span data-stu-id="7dd45-123">Server assemblies can be called by any user connected to the server or any object in the server.</span></span> <span data-ttu-id="7dd45-124">Сборки базы данных могут вызываться только объектами <xref:Microsoft.AnalysisServices.Database> или пользователями, подключенными к базе данных.</span><span class="sxs-lookup"><span data-stu-id="7dd45-124">Database assemblies can be called only by <xref:Microsoft.AnalysisServices.Database> objects or users connected to the database.</span></span>  
  
 <span data-ttu-id="7dd45-125">Простой объект <xref:Microsoft.AnalysisServices.Assembly> состоит из основной информации (имени и идентификатора), коллекции файлов и спецификаций безопасности.</span><span class="sxs-lookup"><span data-stu-id="7dd45-125">A simple <xref:Microsoft.AnalysisServices.Assembly> object is composed of basic information (Name and Id), file collection, and security specifications.</span></span>  
  
 <span data-ttu-id="7dd45-126">Под коллекцией файлов подразумеваются загруженные файлы сборки и соответствующие им файлы отладки (с расширением PDB), если файлы отладки были загружены вместе с файлами сборки.</span><span class="sxs-lookup"><span data-stu-id="7dd45-126">The file collection refers to the loaded assembly files and their corresponding debugging (.pdb) files, if the debugging files were loaded with the assembly files.</span></span> <span data-ttu-id="7dd45-127">Файлы сборки загружаются из того места, в котором эти файлы определены приложением, а копия этих файлов сохраняется на сервере наряду с данными.</span><span class="sxs-lookup"><span data-stu-id="7dd45-127">Assembly files are loaded from the location where the application defined the files to, and a copy is saved in the server along with the data.</span></span> <span data-ttu-id="7dd45-128">Копия файла сборки используется для загрузки сборки при каждом запуске службы.</span><span class="sxs-lookup"><span data-stu-id="7dd45-128">The copy of the assembly file is used to load the assembly every time the service is started.</span></span>  
  
 <span data-ttu-id="7dd45-129">Спецификации безопасности включают набор разрешений и информацию заимствования полномочий, используемую для эксплуатации сборки.</span><span class="sxs-lookup"><span data-stu-id="7dd45-129">Security specifications include the permission set and the impersonation used to run the assembly.</span></span>  
  
## <a name="calling-user-defined-functions"></a><span data-ttu-id="7dd45-130">Вызов пользовательских функций</span><span class="sxs-lookup"><span data-stu-id="7dd45-130">Calling User-Defined Functions</span></span>  
 <span data-ttu-id="7dd45-131">Вызов пользовательской функции в сборке осуществляется так же, как вызов внутренней функции, за исключением необходимости использовать полное имя объектов (со всеми квалификаторами).</span><span class="sxs-lookup"><span data-stu-id="7dd45-131">Calling a user-defined function in an assembly is performed just like calling an intrinsic function, except that you must use a fully qualified name.</span></span> <span data-ttu-id="7dd45-132">Например, пользовательская функция, возвращающая тип, ожидаемый многомерным выражением, включается в запрос многомерных выражений, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="7dd45-132">For example, a user-defined function that returns a type expected by MDX is included in an MDX query, as shown in the following example:</span></span>  
  
```  
Select MyAssembly.MyClass.MyStoredProcedure(a, b, c) on 0 from Sales  
```  
  
 <span data-ttu-id="7dd45-133">Пользовательские функции также могут вызываться при помощи ключевого слова CALL.</span><span class="sxs-lookup"><span data-stu-id="7dd45-133">User-defined functions can also be called using the CALL keyword.</span></span> <span data-ttu-id="7dd45-134">Ключевое слово CALL необходимо использовать для пользовательских функций, возвращающих наборы записей или пустые значения, и нельзя использовать, если пользовательская функция зависит от объекта в контексте инструкции или скрипта многомерных выражений или расширений интеллектуального анализа данных, например текущего куба или модели интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="7dd45-134">You must use the CALL keyword for user-defined functions which return recordsets or void values, and you cannot use the CALL keyword if the user-defined function depends on an object in the context of the MDX or DMX statement or script, such as the current cube or data mining model.</span></span> <span data-ttu-id="7dd45-135">Распространенным применением функции, вызываемой вне MDX- или DMX-запроса, является использование модели объектов AMO для выполнения административных функций.</span><span class="sxs-lookup"><span data-stu-id="7dd45-135">A common use for a function called outside an MDX or DMX query is to use the AMO object model to perform administrative functions.</span></span> <span data-ttu-id="7dd45-136">Например, если необходимо использовать функцию `MyVoidProcedure(a, b, c)` в инструкции многомерных выражений, то будет задействован следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="7dd45-136">If, for example, you wanted to use the function `MyVoidProcedure(a, b, c)` in an MDX statement, the following syntax would be employed:</span></span>  
  
```  
Call MyAssembly.MyClass.MyVoidProcedure(a, b, c)  
```  
  
 <span data-ttu-id="7dd45-137">Сборки упрощают разработку базы данных благодаря тому, что общий код создается один раз и сохраняется в одном месте.</span><span class="sxs-lookup"><span data-stu-id="7dd45-137">Assemblies simplify database development by enabling common code to be developed once and stored in a single location.</span></span> <span data-ttu-id="7dd45-138">Разработчики клиентских приложений могут создавать библиотеки функций для служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и распространять их вместе со своими приложениями.</span><span class="sxs-lookup"><span data-stu-id="7dd45-138">Client software developers can create libraries of functions for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and distribute them with their applications.</span></span>  
  
 <span data-ttu-id="7dd45-139">Сборки и пользовательские функции могут дублировать имена функций библиотеки функций служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или других сборок.</span><span class="sxs-lookup"><span data-stu-id="7dd45-139">Assemblies and user-defined functions can duplicate the function names of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] function library or of other assemblies.</span></span> <span data-ttu-id="7dd45-140">При условии вызова пользовательской функции полностью достоверным именем службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] будут использовать правильную процедуру.</span><span class="sxs-lookup"><span data-stu-id="7dd45-140">As long as you call the user-defined function by using its fully qualified name, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will use the correct procedure.</span></span> <span data-ttu-id="7dd45-141">В целях безопасности, а также во избежание возможности вызова дублирующего имени в другой библиотеке классов службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] требуют использования только полностью достоверных имен для хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="7dd45-141">For security purposes, and to eliminate the chance of calling a duplicate name in a different class library, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requires that you use only fully qualified names for stored procedures.</span></span>  
  
 <span data-ttu-id="7dd45-142">Чтобы вызвать пользовательскую функцию из конкретной сборки CLR, до самой пользовательской функции нужно указать имя сборки, полное имя класса и имя процедуры, как показано на следующем примере:</span><span class="sxs-lookup"><span data-stu-id="7dd45-142">To call a user-defined function from a specific CLR assembly, the user-defined function is preceded by the assembly name, full class name, and procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="7dd45-143">*AssemblyName*. *Фуллкласснаме*. *ProcedureName*(*Argument1*, *Argument2*,...)</span><span class="sxs-lookup"><span data-stu-id="7dd45-143">*AssemblyName*.*FullClassName*.*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="7dd45-144">Для обеспечения обратной совместимости с предыдущими версиями служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]также допустим следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="7dd45-144">For backward compatibility with earlier versions of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the following syntax is also acceptable:</span></span>  
  
 <span data-ttu-id="7dd45-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span><span class="sxs-lookup"><span data-stu-id="7dd45-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="7dd45-146">Если библиотека COM поддерживает несколько интерфейсов, то ID интерфейса также можно использовать для определения имени процедуры, как демонстрируется в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="7dd45-146">If a COM library supports multiple interfaces, the interface ID can also be used to resolve the procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="7dd45-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span><span class="sxs-lookup"><span data-stu-id="7dd45-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
## <a name="security"></a><span data-ttu-id="7dd45-148">Безопасность</span><span class="sxs-lookup"><span data-stu-id="7dd45-148">Security</span></span>  
 <span data-ttu-id="7dd45-149">Безопасность сборок основана на модели безопасности платформы .NET Framework, представляющей собой модель безопасности на базе кодового доступа.</span><span class="sxs-lookup"><span data-stu-id="7dd45-149">Security for assemblies is based on the .NET Framework security model, which is a code-access security model.</span></span> <span data-ttu-id="7dd45-150">Платформа .NET Framework поддерживает механизм обеспечения безопасности на базе кодового доступа, который основывается на предположении, что в рабочем цикле может размещаться как полностью, так и частично достоверный код.</span><span class="sxs-lookup"><span data-stu-id="7dd45-150">.NET Framework supports a code-access security mechanism that assumes that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="7dd45-151">Ресурсы, чья безопасность обеспечивается системой безопасности платформы .NET Framework на базе кодового доступа, обычно окружены управляемым кодом, который предоставляет доступ к ресурсу только после указания соответствующего разрешения.</span><span class="sxs-lookup"><span data-stu-id="7dd45-151">The resources that are protected by .NET Framework code access security are typically wrapped by managed code which demands the corresponding permission before enabling access to the resource.</span></span> <span data-ttu-id="7dd45-152">Требование разрешения удовлетворяется только в том случае, если все вызывающие элементы (на уровне сборки) в стеке вызовов обладают соответствующими ресурсными разрешениями.</span><span class="sxs-lookup"><span data-stu-id="7dd45-152">The demand for the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="7dd45-153">Для сборок разрешение на выполнение передается со свойством `PermissionSet` в объекте `Assembly`.</span><span class="sxs-lookup"><span data-stu-id="7dd45-153">For assemblies, permission for execution is passed with the `PermissionSet` property on the `Assembly` object.</span></span> <span data-ttu-id="7dd45-154">Разрешения, получаемые управляемым кодом, обусловлены действующей политикой безопасности.</span><span class="sxs-lookup"><span data-stu-id="7dd45-154">The permissions that managed code receives are determined by the security policy in effect.</span></span> <span data-ttu-id="7dd45-155">В среде, неразмещаемой в службах[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , уже есть три уровня действующей политики: предприятие, компьютер и пользователь.</span><span class="sxs-lookup"><span data-stu-id="7dd45-155">There are already three levels of policy in effect in a non-[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] hosted environment: enterprise, computer and user.</span></span> <span data-ttu-id="7dd45-156">Действительный список разрешений, получаемых кодом, определяется на основании пересечения разрешений, полученных указанными тремя уровнями.</span><span class="sxs-lookup"><span data-stu-id="7dd45-156">The effective list of permissions that code receives is determined by the intersection of the permissions obtained by these three levels.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="7dd45-157">предоставляют размещенной в себе среде CLR уровень политики безопасности на уровне узла; данная политика представляет собой дополнительный уровень политики, расположенный ниже трех уже действующих уровней политики.</span><span class="sxs-lookup"><span data-stu-id="7dd45-157">supplies a host-level security policy level to the CLR while hosting it; this policy is an additional policy level below the three policy levels that are always in effect.</span></span> <span data-ttu-id="7dd45-158">Данная политика задается для каждого домена приложений, создаваемого службами [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7dd45-158">This policy is set for every application domain that is created by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="7dd45-159">Политика на уровне узла служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] является сочетанием фиксированной политики служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] для системных сборок и пользовательской политики для пользовательских сборок.</span><span class="sxs-lookup"><span data-stu-id="7dd45-159">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host-level policy is a combination of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fixed policy for system assemblies and user-specified policy for user assemblies.</span></span> <span data-ttu-id="7dd45-160">В основе пользовательской части политики сервера служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] лежит указание владельцем сборки одного из трех сегментов разрешений для каждой сборки:</span><span class="sxs-lookup"><span data-stu-id="7dd45-160">The user-specified piece of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly:</span></span>  
  
|<span data-ttu-id="7dd45-161">Установка разрешения</span><span class="sxs-lookup"><span data-stu-id="7dd45-161">Permission Setting</span></span>|<span data-ttu-id="7dd45-162">Описание</span><span class="sxs-lookup"><span data-stu-id="7dd45-162">Description</span></span>|  
|------------------------|-----------------|  
|`Safe`|<span data-ttu-id="7dd45-163">Обеспечивает разрешение внутреннего вычисления.</span><span class="sxs-lookup"><span data-stu-id="7dd45-163">Provides internal computation permission.</span></span> <span data-ttu-id="7dd45-164">Данный сегмент разрешений не предоставляет разрешений для доступа к любым из защищаемых ресурсов платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7dd45-164">This permission bucket does not assign permissions to access any of the protected resources in the .NET Framework.</span></span> <span data-ttu-id="7dd45-165">Для сборки этот сегмент разрешений является сегментом по умолчанию, если в свойстве `PermissionSet` не указывается иное.</span><span class="sxs-lookup"><span data-stu-id="7dd45-165">This is the default permission bucket for an assembly if none is specified with the `PermissionSet` property.</span></span>|  
|`ExternalAccess`|<span data-ttu-id="7dd45-166">Предоставляет такой же доступ, как и параметр `Safe`, с дополнительной возможностью доступа к внутренним системным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="7dd45-166">Provides the same access as the `Safe` setting, with the additional ability to access external system resources.</span></span> <span data-ttu-id="7dd45-167">Данный сегмент разрешений не предлагает гарантий безопасности (хотя возможность обезопасить данный сценарий существует), однако он предоставляет гарантии надежности.</span><span class="sxs-lookup"><span data-stu-id="7dd45-167">This permission bucket does not offer security guarantees (although it is possible to secure this scenario), but it does give reliability guarantees.</span></span>|  
|`Unsafe`|<span data-ttu-id="7dd45-168">Не предоставляет каких-либо ограничений.</span><span class="sxs-lookup"><span data-stu-id="7dd45-168">Provides no restrictions.</span></span> <span data-ttu-id="7dd45-169">Для управляемого кода, запущенного под данным набором разрешений, нельзя создать гарантии безопасности или надежности.</span><span class="sxs-lookup"><span data-stu-id="7dd45-169">No security or reliability guarantees can be made for managed code running under this permission set.</span></span> <span data-ttu-id="7dd45-170">Коду, запущенному на данном уровне доверия, предоставляется любое, даже пользовательское разрешение, включенное администратором.</span><span class="sxs-lookup"><span data-stu-id="7dd45-170">Any permission, even a custom permission included by the administrator, is granted to code running at this level of trust.</span></span>|  
  
 <span data-ttu-id="7dd45-171">При размещении среды CLR в службах [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]разрешение, основанное на обходе стека, проверяет остановки на границе с собственным кодом служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7dd45-171">When CLR is hosted by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the stack-walk based permission check stops at the boundary with native [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] code.</span></span> <span data-ttu-id="7dd45-172">Любой управляемый код в сборках служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] всегда попадает в одну из трех категорий разрешений, упомянутых выше.</span><span class="sxs-lookup"><span data-stu-id="7dd45-172">Any managed code in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] assemblies always falls into one of the three permission categories listed earlier.</span></span>  
  
 <span data-ttu-id="7dd45-173">COM-подпрограммы сборки (или неуправляемые) не поддерживают модель безопасности среды CLR.</span><span class="sxs-lookup"><span data-stu-id="7dd45-173">COM (or unmanaged) assembly routines do not support the CLR security model.</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="7dd45-174">Олицетворение</span><span class="sxs-lookup"><span data-stu-id="7dd45-174">Impersonation</span></span>  
 <span data-ttu-id="7dd45-175">При доступе управляемого кода к любому ресурсу, расположенному за пределами служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] следуют правилам, связанным со свойством `ImpersonationMode` сборки для обеспечения доступа в рамках соответствующего контекста безопасности Windows.</span><span class="sxs-lookup"><span data-stu-id="7dd45-175">Whenever managed code accesses any resource outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] follows the rules associated with the `ImpersonationMode` property setting of the assembly to make sure that the access occurs in an appropriate Windows security context.</span></span> <span data-ttu-id="7dd45-176">Поскольку сборки, использующие параметр разрешения `Safe`, не могут получить доступ к ресурсам за пределами служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], данные правила применяются только в отношении сборок, использующих параметры разрешения `ExternalAccess` и `Unsafe`.</span><span class="sxs-lookup"><span data-stu-id="7dd45-176">Because assemblies using the `Safe` permission setting cannot access resources outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], these rules are applicable only for assemblies using the `ExternalAccess` and `Unsafe` permission settings.</span></span>  
  
-   <span data-ttu-id="7dd45-177">Если текущий контекст исполнения соответствует имени входа, прошедшему проверку подлинности Windows, и идентичен контексту исходного вызывающего элемента (то есть в середине нет инструкции EXECUTE AS), тогда службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] будут олицетворять имя входа, прошедшее проверку подлинности Windows, прежде чем получить доступ к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="7dd45-177">If the current execution context corresponds to Windows Authenticated login and is the same as the context of the original caller (that is, there is no EXECUTE AS in the middle), [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will impersonate the Windows Authenticated login before accessing the resource.</span></span>  
  
-   <span data-ttu-id="7dd45-178">В случае отсутствия промежуточной инструкции EXECUTE AS, изменившей контекст исходного вызывающего элемента, попытка получить доступ к внутреннему ресурсу закончится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="7dd45-178">If there is an intermediate EXECUTE AS that changed the context from that of the original caller), the attempt to access external resource will fail.</span></span>  
  
 <span data-ttu-id="7dd45-179">Свойство `ImpersonationMode` может принимать значение `ImpersonateCurrentUser` или `ImpersonateAnonymous`.</span><span class="sxs-lookup"><span data-stu-id="7dd45-179">The `ImpersonationMode` property can be set to `ImpersonateCurrentUser` or `ImpersonateAnonymous`.</span></span> <span data-ttu-id="7dd45-180">Параметр по умолчанию, `ImpersonateCurrentUser`, запускает сборку под текущей сетевой учетной записью входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="7dd45-180">The default setting, `ImpersonateCurrentUser`, runs an assembly under the current user's network login account.</span></span> <span data-ttu-id="7dd45-181">Если `ImpersonateAnonymous` используется параметр, контекст выполнения соответствует учетной записи входа пользователя Windows IUSER_*ServerName* на сервере.</span><span class="sxs-lookup"><span data-stu-id="7dd45-181">If the `ImpersonateAnonymous` setting is used, the execution context is corresponds to the Windows login user account IUSER_*servername* on the server.</span></span> <span data-ttu-id="7dd45-182">Это учетная запись гостя из сети Интернет, которой предоставлены ограниченные права на сервере.</span><span class="sxs-lookup"><span data-stu-id="7dd45-182">This is the Internet guest account, which has limited privileges on the server.</span></span> <span data-ttu-id="7dd45-183">Сборка, запущенная в таком контексте, может получить доступ только к ограниченным ресурсам на локальном сервере.</span><span class="sxs-lookup"><span data-stu-id="7dd45-183">An assembly running in this context can only access limited resources on the local server.</span></span>  
  
### <a name="application-domains"></a><span data-ttu-id="7dd45-184">Домены приложений</span><span class="sxs-lookup"><span data-stu-id="7dd45-184">Application Domains</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="7dd45-185">не открывают домены приложений напрямую.</span><span class="sxs-lookup"><span data-stu-id="7dd45-185">does not expose application domains directly.</span></span> <span data-ttu-id="7dd45-186">На основании набора сборок, запущенных в одном и том же домене приложений, домены приложений способны обнаруживать друг друга во время выполнения, используя пространство имен служб `System.Reflection` на платформе .NET Framework или иными способами, а также способны вызывать их с использованием режима позднего связывания.</span><span class="sxs-lookup"><span data-stu-id="7dd45-186">Because of a set of assemblies running in the same application domain, application domains can discover each other at execution time by using the `System.Reflection` namespace in the .NET Framework or in some other way, and can call into them in late-bound manner.</span></span> <span data-ttu-id="7dd45-187">Такие вызовы подвергаются проверкам разрешений, используемым основанной на авторизации системой безопасности служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7dd45-187">Such calls will be subject to the permission checks used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] authorization-based security.</span></span>  
  
 <span data-ttu-id="7dd45-188">Не следует искать сборки в том же домене приложений, поскольку граница домена приложений и сборки, входящие в каждый домен, определяются реализацией.</span><span class="sxs-lookup"><span data-stu-id="7dd45-188">You should not rely on finding assemblies in the same application domain, because the application domain boundary and the assemblies that go into each domain are defined by the implementation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7dd45-189">См. также:</span><span class="sxs-lookup"><span data-stu-id="7dd45-189">See Also</span></span>  
 <span data-ttu-id="7dd45-190">[Настройка безопасности для хранимых процедур](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span><span class="sxs-lookup"><span data-stu-id="7dd45-190">[Setting Security for Stored Procedures](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span></span>  
 [<span data-ttu-id="7dd45-191">Определение хранимых процедур</span><span class="sxs-lookup"><span data-stu-id="7dd45-191">Defining Stored Procedures</span></span>](../multidimensional-models-extending-olap-stored-procedures/defining-stored-procedures.md)  
  
  

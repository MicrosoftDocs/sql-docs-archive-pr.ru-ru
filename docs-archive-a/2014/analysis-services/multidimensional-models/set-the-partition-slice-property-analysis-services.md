---
title: Задание свойства среза секции (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 08/05/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- partitions [Analysis Services], data slices
- data slices [Analysis Services]
ms.assetid: 507b91e5-7f85-4c22-be97-4d7a676e6667
author: minewiskan
ms.author: owend
ms.openlocfilehash: f42c4536b99ba3fecf9b947942b881a3be72784f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666235"
---
# <a name="set-the-partition-slice-property-analysis-services"></a><span data-ttu-id="ad5ae-102">Определение свойства среза секции (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="ad5ae-102">Set the Partition Slice Property (Analysis Services)</span></span>
  <span data-ttu-id="ad5ae-103">Срез данных является важной функцией оптимизации, которая помогает направить запросы к данным соответствующих секций.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-103">A data slice is an important optimization feature that helps direct queries to the data of the appropriate partitions.</span></span> <span data-ttu-id="ad5ae-104">Прямое указание свойства Slice позволяет повысить производительность запросов, переписав стандартные срезы, сформированные для секций MOLAP и HOLAP.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-104">Explicitly setting the Slice property can improve query performance by overriding default slices generated for MOLAP and HOLAP partitions.</span></span> <span data-ttu-id="ad5ae-105">Также свойство Slice обеспечивает дополнительную проверку при обработке секции.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-105">Additionally, the Slice property provides an extra validation check when processing the partition.</span></span>  
  
 <span data-ttu-id="ad5ae-106">С помощью свойства Slice можно задать срез данных после создания секции, но до ее обработки.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-106">You can specify a data slice after you create a partition, but before processing it, using the Slice property.</span></span> <span data-ttu-id="ad5ae-107">На вкладке "Секции" разверните группу мер, щелкните правой кнопкой мыши секцию и выберите **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-107">On the Partitions tab, expand a measure group, right-click a partition, and select **Properties**.</span></span>  
  
## <a name="defining-a-slice"></a><span data-ttu-id="ad5ae-108">Определение среза</span><span class="sxs-lookup"><span data-stu-id="ad5ae-108">Defining a Slice</span></span>  
 <span data-ttu-id="ad5ae-109">Допустимые значения для свойства среза — элемент многомерного выражения, набор или кортеж.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-109">Valid values for a slice property are an MDX member, set, or tuple.</span></span> <span data-ttu-id="ad5ae-110">В следующем примере показан допустимый синтаксис среза.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-110">The following examples illustrate valid slice syntax:</span></span>  
  
|<span data-ttu-id="ad5ae-111">Срез</span><span class="sxs-lookup"><span data-stu-id="ad5ae-111">Slice</span></span>|<span data-ttu-id="ad5ae-112">Элемент, набор или кортеж</span><span class="sxs-lookup"><span data-stu-id="ad5ae-112">Member, set or tuple</span></span>|  
|-----------|--------------------------|  
|<span data-ttu-id="ad5ae-113">[Date].[Calendar].[Calendar Year].&[2010]</span><span class="sxs-lookup"><span data-stu-id="ad5ae-113">[Date].[Calendar].[Calendar Year].&[2010]</span></span>|<span data-ttu-id="ad5ae-114">Укажите этот срез в секции, содержащей факты из 2010 года (предполагается, что модель включает измерение Date с иерархией Calendar Year, в которую входит элемент 2010).</span><span class="sxs-lookup"><span data-stu-id="ad5ae-114">Specify this slice on a partition containing facts from year 2010 (assuming the model includes a Date dimension with Calendar Year hierarchy, where 2010 is a member).</span></span> <span data-ttu-id="ad5ae-115">Хотя предложение WHERE (источник секции) или таблица уже могли выполнить фильтрацию по 2010, указание Slice дает дополнительную проверку во время обработки, а также более точное сканирование во время выполнения запроса.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-115">Although the partition source WHERE clause or table might already filter by 2010, specifying the Slice provides an additional check during processing, as well as more targeted scans during query execution.</span></span>|  
|<span data-ttu-id="ad5ae-116">{ [Sales Territory].[Sales Territory Country].&[Australia], [Sales Territory].[Sales Territory Country].&[Canada] }</span><span class="sxs-lookup"><span data-stu-id="ad5ae-116">{ [Sales Territory].[Sales Territory Country].&[Australia], [Sales Territory].[Sales Territory Country].&[Canada] }</span></span>|<span data-ttu-id="ad5ae-117">Укажите данный срез для секции, содержащей факты, которые включают сведения о продажах по территориям.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-117">Specify this slice on a partition containing facts that include sales territory information.</span></span> <span data-ttu-id="ad5ae-118">Срез может быть набором многомерных выражений, состоящим из двух и более элементов.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-118">A slice can be an MDX set consisting of two or more members.</span></span>|  
|<span data-ttu-id="ad5ae-119">[Measures].[Sales Amount Quota] > '5000'</span><span class="sxs-lookup"><span data-stu-id="ad5ae-119">[Measures].[Sales Amount Quota] > '5000'</span></span>|<span data-ttu-id="ad5ae-120">Этот срез демонстрирует многомерное выражение.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-120">This slice shows an MDX expression.</span></span>|  
  
 <span data-ttu-id="ad5ae-121">Срез данных секции должен как можно точнее соответствовать данным в секции.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-121">A data slice of a partition should reflect, as closely as possible, the data in the partition.</span></span> <span data-ttu-id="ad5ae-122">Например, если секция ограничена данными за 2012 год, то срез данных секции должен определять элемент 2012 измерения «Время».</span><span class="sxs-lookup"><span data-stu-id="ad5ae-122">For example, if a partition is limited to 2012 data, the partition's data slice should specify the 2012 member of the Time dimension.</span></span> <span data-ttu-id="ad5ae-123">Не всегда возможно указать срез данных, точно отражающий содержимое секции.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-123">It is not always possible to specify a data slice that reflects the exact contents of a partition.</span></span> <span data-ttu-id="ad5ae-124">Например, если секция содержит данные только за январь и февраль, а уровнями измерения Time являются «Год», «Квартал» и «Месяц», то мастер секционирования не может выбрать только элементы «Январь» и «Февраль».</span><span class="sxs-lookup"><span data-stu-id="ad5ae-124">For example, if a partition contains data for only January and February, but the levels of the Time dimension are Year, Quarter, and Month, the Partition Wizard cannot select both the January and February members.</span></span> <span data-ttu-id="ad5ae-125">В таких случаях выберите родительский элемент, отражающий содержимое секции.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-125">In such cases, select the parent of the members that reflect the partition's contents.</span></span> <span data-ttu-id="ad5ae-126">В данном примере выберите «Квартал 1».</span><span class="sxs-lookup"><span data-stu-id="ad5ae-126">In this example, select Quarter 1.</span></span>  
  
 <span data-ttu-id="ad5ae-127">Описание преимуществ использования срезов данных см. в разделе [Указание среза в секции куба служб SSAS](https://go.microsoft.com/fwlink/?LinkId=317783).</span><span class="sxs-lookup"><span data-stu-id="ad5ae-127">For an explanation of data slice benefits, see [Set the Slice on your SSAS Cube Partition](https://go.microsoft.com/fwlink/?LinkId=317783).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ad5ae-128">Обратите внимание, что динамические функции многомерных выражений (такие как [Generate (многомерное выражение)](/sql/mdx/generate-mdx) или [Except (многомерное выражение)](/sql/mdx/except-mdx-function)) не поддерживаются в свойстве Slice для секций.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-128">Note that dynamic MDX functions (such as [Generate &#40;MDX&#41;](/sql/mdx/generate-mdx) or [Except &#40;MDX&#41;](/sql/mdx/except-mdx-function)) are not supported in the Slice property for partitions.</span></span> <span data-ttu-id="ad5ae-129">Необходимо определить срез с помощью явных кортежей или ссылок на элементы.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-129">You must define the slice by using explicit tuples or member references.</span></span>  
>   
>  <span data-ttu-id="ad5ae-130">Например, вместо использования функции [&#40;range&#41; &#40;MDX&#41;](/sql/mdx/range-mdx) для определения диапазона необходимо перечислить каждый элемент по определенному году.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-130">For example, rather than using the [: &#40;Range&#41; &#40;MDX&#41;](/sql/mdx/range-mdx) function to define a range, you would need to enumerate each member by the specific years.</span></span>  
>   
>  <span data-ttu-id="ad5ae-131">Если необходимо определить сложный срез, рекомендуется идентифицировать кортежи в срезе с помощью скрипта изменения XMLA.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-131">If you need to define a complex slice, we recommend that you define the tuples in the slice by using an XMLA Alter script.</span></span> <span data-ttu-id="ad5ae-132">Затем вы можете использовать средство командной строки ascmd или задачу SSIS [Analysis Services Execute DDL Task](../../integration-services/control-flow/analysis-services-execute-ddl-task.md) для запуска скрипта и создания указанного набора элементов непосредственно перед секционированием.</span><span class="sxs-lookup"><span data-stu-id="ad5ae-132">Then, you can use either the ascmd command-line tool or the SSIS [Analysis Services Execute DDL Task](../../integration-services/control-flow/analysis-services-execute-ddl-task.md) task to run the script and create the specified set of members immediately before you process the partition.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ad5ae-133">См. также:</span><span class="sxs-lookup"><span data-stu-id="ad5ae-133">See Also</span></span>  
 [<span data-ttu-id="ad5ae-134">Создание локальной секции и управление ею (службы Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="ad5ae-134">Create and Manage a Local Partition &#40;Analysis Services&#41;</span></span>](create-and-manage-a-local-partition-analysis-services.md)  
  
  

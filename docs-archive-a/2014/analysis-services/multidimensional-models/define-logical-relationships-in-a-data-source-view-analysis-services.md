---
title: Определение логических связей в представлении источника данных (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- adding relationships
- relationships [Analysis Services], data source views
- data source views [Analysis Services], relationships
ms.assetid: a20d6dae-e769-4131-8a59-7ef56f174220
author: minewiskan
ms.author: owend
ms.openlocfilehash: c46c2b360a4528aeb0eb88348d0d1242b22d8ef5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664603"
---
# <a name="define-logical-relationships-in-a-data-source-view-analysis-services"></a>Определение логических связей в представлении источника данных (службы Analysis Services)
  Мастер представлений источников данных и конструктор представлений источников данных автоматически определяют связи между таблицами, добавленными к представлению источника данных (DSV), основываясь на базовых связях базы данных или на указанном критерии совпадения имен.  
  
 При работе с данными из нескольких источников может потребоваться вручную определить логические связи в представлении источника данных (DSV) дополнительно к связям, определенным автоматически. Связи необходимы службам [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] для идентификации таблиц фактов и измерений, для построения запросов на получение данных и метаданных из базовых источников данных и для использования преимуществ расширенных функций бизнес-аналитики.  
  
 В мастере представлений источников данных можно определить следующие типы связей:  
  
-   Связь одной таблицы с другой таблицей в том же источнике данных.  
  
-   Связь одной таблицы с самой собой, в виде связи «родители-потомки».  
  
-   Связь одной таблицы в источнике данных с другой таблицей в другом источнике данных.  
  
> [!NOTE]  
>  Связи, определенные в представлении источника данных (DSV), являются логическими и могут не отображать действительные связи, определенные в базовом источнике данных. В конструкторе представлений источников данных можно создавать связи, которые не существуют в базовом источнике данных, и удалять связи, созданные в конструкторе представлений источников данных из существующих связей внешних ключей в базовом источнике данных.  
  
 Связи являются направленными. Для каждого значения в исходном столбце имеется соответствующее значение в целевом столбце. На диаграмме представления источников данных, например на диаграммах, отображаемых на панели **Диаграмма** , стрелка на линии между двумя таблицами указывает направление связи.  
  
 Этот раздел включает следующие подразделы:  
  
 [Добавление связи между таблицами, именованными запросами или представлениями](#bkmk_addRel)  
  
 [Просмотр или изменение связи на панели диаграммы](#bkmk_diagrampane)  
  
 [Просмотр или изменение связи на панели таблицы](#bkmk_tablespane)  
  
##  <a name="to-add-a-relationship-between-tables-named-queries-or-views"></a><a name="bkmk_addRel"></a>Добавление связи между таблицами, именованными запросами или представлениями  
  
1.  В среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]откройте проект или подключитесь к базе данных, содержащей представление источника данных, в котором необходимо добавить логическую связь.  
  
2.  Для открытия представления источников данных в **Конструкторе представлений источников данных** в обозревателе решений откройте папку **Представления источников данных**и дважды щелкните нужное представление.  
  
3.  На панели **Таблицы** щелкните правой кнопкой мыши таблицу, именованный запрос или представление, в которые необходимо добавить связь, а затем выберите пункт **Создать связь**.  
  
    > [!NOTE]  
    >  Чтобы найти таблицу, представление или именованный запрос, можно воспользоваться командой **Поиск таблицы** в меню **Представления источников данных** или в контекстном меню, вызываемом щелчком правой кнопкой мыши в свободной области панели **Таблицы** или **Диаграммы** .  
  
4.  В диалоговом окне **Указание связи** выполните следующие действия.  
  
    1.  Выберите нужную таблицу, именованный запрос или представление в списке **Исходная таблица (внешний ключ)** .  
  
    2.  Выберите нужную таблицу, именованный запрос или представление в списке **Целевая таблица (первичный ключ)** .  
  
    3.  Выберите столбцы из списков **Исходные столбцы** и **Целевые столбцы** , чтобы создать связи между этими двумя таблицами.  
  
         Если при выборке данных из базовой таблицы, представления или именованного запроса среда [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] обнаружила, что направление связи определено неверно (от первичного ключа к внешнему ключу, а не наоборот), то будет предложено изменить порядок на обратный. Для быстрого изменения направления связи нажмите кнопку **Обратить**.  
  
         Если среда [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] обнаружила, что для выбранных столбцов связь уже существует, будет выведено предложение изменить выбор. Повторяющиеся связи определять нельзя.  
  
    4.  Дополнительно в поле **Описание** введите описание связи.  
  
##  <a name="to-view-or-modify-a-relationship-in-the-diagram-pane"></a><a name="bkmk_diagrampane"></a>Просмотр или изменение связи на панели «Диаграмма»  
  
-   На панели **Диаграмма** в **Конструкторе представлений источников данных**щелкните правой кнопкой мыши связь, которую необходимо просмотреть, и выберите пункт **Изменить связь** (или просто дважды щелкните стрелку связи).  Для изменения связи используйте диалоговое окно **Изменение связи** .  
  
##  <a name="to-view-or-modify-a-relationship-in-the-tables-pane"></a><a name="bkmk_tablespane"></a>Просмотр или изменение связи на панели «таблицы»  
  
1.  На панели **Таблицы** в **Конструкторе представлений источников данных**найдите и разверните таблицу, представление или именованный запрос, содержащий связь, которую необходимо просмотреть или изменить.  
  
2.  Раскройте папку **Связи** .  Связи между выбранной таблицей, представлением или именованным запросом и другими таблицами, представлениями и именованными запросами отображаются вместе со столбцом связей.  
  
3.  Для изменения связи щелкните ее правой кнопкой мыши и выберите пункт **Изменить связь**.  
  
## <a name="see-also"></a>См. также:  
 [Представления источников данных в многомерных моделях](data-source-views-in-multidimensional-models.md)  
  
  

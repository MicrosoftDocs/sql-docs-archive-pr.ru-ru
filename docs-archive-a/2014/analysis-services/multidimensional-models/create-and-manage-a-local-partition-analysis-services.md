---
title: Создание локальной секции и управление ей (Analysis Services) | Документация Майкрософт
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- local partitions [Analysis Services]
- partitions [Analysis Services], local
- partitions [Analysis Services], creating
ms.assetid: eaa95278-9ce9-47d5-a6b6-1046e7076599
author: minewiskan
ms.author: owend
ms.openlocfilehash: 7251f9e9422a79c214d27d913112a28ff43d56b1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654533"
---
# <a name="create-and-manage-a-local-partition-analysis-services"></a><span data-ttu-id="75d37-102">Создание локальной секции и управление ей (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="75d37-102">Create and Manage a Local Partition (Analysis Services)</span></span>
  <span data-ttu-id="75d37-103">Для улучшения производительности обработки можно создать дополнительные секции для группы мер.</span><span class="sxs-lookup"><span data-stu-id="75d37-103">You can create additional partitions for a measure group to improve processing performance.</span></span> <span data-ttu-id="75d37-104">Несколько секций позволяют разделять фактические данные между соответствующим числом файлов физических данных на локальном и удаленных серверах.</span><span class="sxs-lookup"><span data-stu-id="75d37-104">Having multiple partitions allows you to allocate fact data across a corresponding number of physical data files on local as well as remote servers.</span></span> <span data-ttu-id="75d37-105">В службах Analysis Services секции могут обрабатываться параллельно, что дает больше контроля над процессом обработки рабочих нагрузок на сервере.</span><span class="sxs-lookup"><span data-stu-id="75d37-105">In Analysis Services, partitions can be processed independently and in parallel, giving you more control over processing workloads on the server.</span></span>

 <span data-ttu-id="75d37-106">Секции могут создаваться во время разработки модели в среде [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] или при развертывании решения с помощью [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] или XMLA-скрипта.</span><span class="sxs-lookup"><span data-stu-id="75d37-106">Partitions can be created in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] during model design, or after the solution is deployed using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or XMLA.</span></span> <span data-ttu-id="75d37-107">Рекомендуется выбрать и использовать только один подход.</span><span class="sxs-lookup"><span data-stu-id="75d37-107">We recommend that you choose one approach only.</span></span> <span data-ttu-id="75d37-108">При использовании разных средств может возникнуть ситуация, когда изменения, внесенные в развернутую базу данных с помощью [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , будут перезаписаны последующим развертыванием решения из [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="75d37-108">If you alternate between tools, you might find that changes made to a deployed database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] are overwritten when you subsequently redeploy the solution from [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span>

## <a name="before-you-start"></a><span data-ttu-id="75d37-109">Перед началом работы</span><span class="sxs-lookup"><span data-stu-id="75d37-109">Before you start</span></span>
 <span data-ttu-id="75d37-110">Убедитесь, что у вас установлен выпуск Business Intelligence или Enterprise.</span><span class="sxs-lookup"><span data-stu-id="75d37-110">Check whether you have either the business intelligence edition or enterprise edition.</span></span> <span data-ttu-id="75d37-111">Выпуск Standard не поддерживает работу с множественными секциями.</span><span class="sxs-lookup"><span data-stu-id="75d37-111">Standard edition does not support multiple partitions.</span></span> <span data-ttu-id="75d37-112">Чтобы проверить выпуск, щелкните правой кнопкой мыши узел сервера в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] и выберите **отчеты**  |  **Общие**.</span><span class="sxs-lookup"><span data-stu-id="75d37-112">To check the edition, right-click the server node in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and choose **Reports** | **General**.</span></span> <span data-ttu-id="75d37-113">Дополнительные сведения о доступности функций см. [в разделе функции, поддерживаемые различными Выпусками SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="75d37-113">For more information about feature availability, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

 <span data-ttu-id="75d37-114">Важно понять, что секции должны иметь одинаковую агрегатную схему, если вы в будущем планируете выполнять их объединение.</span><span class="sxs-lookup"><span data-stu-id="75d37-114">From the outset, it's important to understand that partitions must share the same aggregation design if you want to merge them later.</span></span> <span data-ttu-id="75d37-115">Объединять можно только секции с одними и теми же режимами хранения и агрегатными схемами.</span><span class="sxs-lookup"><span data-stu-id="75d37-115">Partitions can be merged only if they have identical aggregation designs and storage modes.</span></span>

> [!TIP]
>  <span data-ttu-id="75d37-116">Изучите данные в представлении источника данных (DSV), чтобы узнать диапазон и глубину секционируемых данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-116">Explore the data in Data Source View (DSV) to understand the range and depth of the data you are partitioning.</span></span> <span data-ttu-id="75d37-117">Например, если планируется разбиение по дате, можно выполнить сортировку по столбцу даты, чтобы определить верхний и нижний предел каждой секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-117">For example, if partitioning by date, you can sort on a date column to determine the upper and lower bounds of each partition.</span></span>

## <a name="choose-an-approach"></a><span data-ttu-id="75d37-118">Выбор метода</span><span class="sxs-lookup"><span data-stu-id="75d37-118">Choose an approach</span></span>
 <span data-ttu-id="75d37-119">Самое важное требование при создании секций — сегментировать данные, чтобы не было повторяющихся строк.</span><span class="sxs-lookup"><span data-stu-id="75d37-119">The most important consideration when creating partitions is to segment the data so that there are no duplicate rows.</span></span> <span data-ttu-id="75d37-120">Все данные должны храниться только в одной секции, что позволяет избежать двойного подсчета строк.</span><span class="sxs-lookup"><span data-stu-id="75d37-120">Data must be stored in one, and only one, partition to avoid double counting any rows.</span></span> <span data-ttu-id="75d37-121">Таким образом, рекомендуется разбивать данные по DATE, чтобы можно было определить четкие границы каждой секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-121">As such, it's common to partition by DATE so that you can define clear boundaries between each partition.</span></span>

 <span data-ttu-id="75d37-122">Для распределения данных по нескольким секциям можно использовать какой-либо из методов, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="75d37-122">You can use either technique to distribute the fact data across multiple partitions.</span></span> <span data-ttu-id="75d37-123">Следующие методы можно использовать для сегментирования данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-123">The following techniques can be used to segment the data.</span></span>

|<span data-ttu-id="75d37-124">Метод</span><span class="sxs-lookup"><span data-stu-id="75d37-124">Technique</span></span>|<span data-ttu-id="75d37-125">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="75d37-125">Recommendations</span></span>|
|---------------|---------------------|
|<span data-ttu-id="75d37-126">Применение SQL-запросов для сегментирования фактических данных</span><span class="sxs-lookup"><span data-stu-id="75d37-126">Use SQL queries to segment fact data</span></span>|<span data-ttu-id="75d37-127">Источником для секций могут быть SQL-запросы.</span><span class="sxs-lookup"><span data-stu-id="75d37-127">Partitions can be sourced from SQL queries.</span></span> <span data-ttu-id="75d37-128">Во время обработки SQL-запрос получает данные.</span><span class="sxs-lookup"><span data-stu-id="75d37-128">During processing, the SQL query is to retrieve the data.</span></span> <span data-ttu-id="75d37-129">Предложение WHERE запроса обеспечивает фильтрацию, которая сегментирует данные для каждой секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-129">The query's WHERE clause provides the filter that segments the data for each partition.</span></span> <span data-ttu-id="75d37-130">Службы Analysis Services формируют запрос автоматически, но необходимо дополнить предложение WHERE, чтобы правильно сегментировать данные.</span><span class="sxs-lookup"><span data-stu-id="75d37-130">Analysis Services generates the query for you, but you must fill in the WHERE clause to properly segment the data.</span></span><br /><br /> <span data-ttu-id="75d37-131">Основное преимущество данного подхода заключается в простоте разбиения данных из одной исходной таблицы.</span><span class="sxs-lookup"><span data-stu-id="75d37-131">The primary advantage of this approach is the ease with which you can partition data from a single source table.</span></span> <span data-ttu-id="75d37-132">Если все исходные данные берутся из большой таблицы фактов, можно построить запросы, которые будут фильтровать данные в дискретные секции, без создания дополнительных структур данных в представлении источника данных (DSV).</span><span class="sxs-lookup"><span data-stu-id="75d37-132">If all of the source data originates from a large fact table, you can build queries that filter that data into discrete partitions, without having to create additional data structures in the Data Source View (DSV).</span></span><br /><br /> <span data-ttu-id="75d37-133">Единственный недостаток данного метода — использование запросов приведет к потере привязки между секцией и DSV.</span><span class="sxs-lookup"><span data-stu-id="75d37-133">One disadvantage is that using queries will break the binding between the partition and the DSV.</span></span> <span data-ttu-id="75d37-134">Если впоследствии обновить DSV в проекте Analysis Services, например добавив столбцы к таблице фактов, нужно будет вручную изменить запросы для каждой секции и добавить в них новый столбец.</span><span class="sxs-lookup"><span data-stu-id="75d37-134">If you later update the DSV in the Analysis Services project, such as adding columns to the fact table, you must manually edit the queries for each partition to include the new column.</span></span> <span data-ttu-id="75d37-135">Второй метод, описанный далее, не имеет такого недостатка.</span><span class="sxs-lookup"><span data-stu-id="75d37-135">The second approach, discussed next, does not have this disadvantage.</span></span>|
|<span data-ttu-id="75d37-136">Применение таблиц в DSV для сегментирования фактических данных</span><span class="sxs-lookup"><span data-stu-id="75d37-136">Use tables in the DSV to segment fact data</span></span>|<span data-ttu-id="75d37-137">В DSV секцию можно привязать к таблице, именованному запросу или представлению.</span><span class="sxs-lookup"><span data-stu-id="75d37-137">You can bind a partition to a table, named query, or view in the DSV.</span></span> <span data-ttu-id="75d37-138">В качестве основы секции все три вышеуказанных элемента эквивалентны.</span><span class="sxs-lookup"><span data-stu-id="75d37-138">As the basis of a partition, all three are functionally equivalent.</span></span> <span data-ttu-id="75d37-139">Целая таблица, именованный запрос или представление предоставляет все данные для одной секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-139">The entire table, named query, or view provides all of the data to a single partition.</span></span><br /><br /> <span data-ttu-id="75d37-140">Использование таблицы, представления или именованного запроса означает размещение всей логики выбора данных в DSV, что упрощает ее сопровождение.</span><span class="sxs-lookup"><span data-stu-id="75d37-140">Using a table, view, or named query places all of the data selection logic in the DSV, which can be easier to manage and maintain over time.</span></span> <span data-ttu-id="75d37-141">Важное преимущество данного подхода заключается в том, что сохраняются привязки таблиц.</span><span class="sxs-lookup"><span data-stu-id="75d37-141">An important advantage to this approach is that table bindings are preserved.</span></span> <span data-ttu-id="75d37-142">Если позже исходная таблица обновится, не нужно будет изменять секции, которые ее используют.</span><span class="sxs-lookup"><span data-stu-id="75d37-142">If you update the source table later, you do not have to modify the partitions that use it.</span></span> <span data-ttu-id="75d37-143">Во-вторых, все таблицы, именованные запросы и представления хранятся в общем рабочем пространстве, поэтому проведение обновлений становится более удобным и отпадает необходимость отдельно изменять запросы секций.</span><span class="sxs-lookup"><span data-stu-id="75d37-143">Secondly, all of the tables, named queries and views exist in a common work space, making updates more convenient than having to open and edit partition queries individually.</span></span>|

## <a name="option-1-filter-a-fact-table-for-multiple-partitions"></a><span data-ttu-id="75d37-144">Вариант 1. Фильтрация таблицы фактов для нескольких секций</span><span class="sxs-lookup"><span data-stu-id="75d37-144">Option 1: Filter a Fact Table for Multiple Partitions</span></span>
 <span data-ttu-id="75d37-145">Создание нескольких секций начинается с изменения свойства **Source** стандартной секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-145">To create multiple partitions, you begin by modifying the **Source** property of the default partition.</span></span> <span data-ttu-id="75d37-146">По умолчанию для каждой группы мер создается одна секция, привязанная к одной таблице в DSV.</span><span class="sxs-lookup"><span data-stu-id="75d37-146">By default, a measure group is created using a single partition that is bound to a single table in the DSV.</span></span> <span data-ttu-id="75d37-147">Перед добавлением нескольких секций вначале следует изменить исходную секцию, чтобы она содержала только часть фактических данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-147">Before you can add more partitions, you must first modify the original partition to contain just a portion of the fact data.</span></span> <span data-ttu-id="75d37-148">Затем можно перейти к созданию дополнительных секций для остальной части данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-148">You can then proceed to create additional partitions for storing the remainder of the data.</span></span>

 <span data-ttu-id="75d37-149">Формируйте фильтры так, чтобы данные не дублировались в разных секциях.</span><span class="sxs-lookup"><span data-stu-id="75d37-149">Construct your filters such that data is not duplicated among the partitions.</span></span> <span data-ttu-id="75d37-150">Фильтр секции задает, какие данные в таблице фактов используются в секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-150">A partition's filter specifies which data in the fact table is used in the partition.</span></span> <span data-ttu-id="75d37-151">Важно, чтобы фильтры для всех секций в кубе извлекали взаимоисключающие наборы данных из таблицы фактов.</span><span class="sxs-lookup"><span data-stu-id="75d37-151">It is important that the filters for all partitions in a cube extract mutually exclusive datasets from the fact table.</span></span> <span data-ttu-id="75d37-152">Одни и те же фактические данные могут быть учтены дважды, если они появляются в нескольких секциях.</span><span class="sxs-lookup"><span data-stu-id="75d37-152">The same fact data might be double-counted if it appears in multiple partitions.</span></span>

1.  <span data-ttu-id="75d37-153">В обозревателе решений [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]дважды щелкните куб, чтобы открыть его в конструкторе кубов, и выберите вкладку **Секции** .</span><span class="sxs-lookup"><span data-stu-id="75d37-153">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], in Solution Explorer, double-click the cube to open it in Cube Designer, and then click the **Partitions** tab.</span></span>

2.  <span data-ttu-id="75d37-154">Разверните группу мер, к которой добавляются секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-154">Expand the measure group for which are adding partitions.</span></span> <span data-ttu-id="75d37-155">По умолчанию для каждой группы мер в кубе определяется одна секция, привязанная к таблице фактов в DSV.</span><span class="sxs-lookup"><span data-stu-id="75d37-155">By default, each measure group has one partition, bound to a fact table in the DSV.</span></span>

3.  <span data-ttu-id="75d37-156">В столбце Source нажмите кнопку обзора (.</span><span class="sxs-lookup"><span data-stu-id="75d37-156">In the Source column, click the browse (.</span></span> <span data-ttu-id="75d37-157">.), чтобы открыть окно выбора источника секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-157">.) button to open the Partition Source dialog box.</span></span>

     <span data-ttu-id="75d37-158">![Исходный столбец на панели секции](../media/ssas-partitionsource.png "Исходный столбец на панели секции")</span><span class="sxs-lookup"><span data-stu-id="75d37-158">![Source column in Partition pane](../media/ssas-partitionsource.png "Source column in Partition pane")</span></span>

4.  <span data-ttu-id="75d37-159">В поле выбора типа привязки укажите **Привязка запроса**.</span><span class="sxs-lookup"><span data-stu-id="75d37-159">In Binding Type, select **Query Binding**.</span></span> <span data-ttu-id="75d37-160">Автоматически появится SQL-запрос выбора данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-160">The SQL query that selects the data appears automatically.</span></span>

5.  <span data-ttu-id="75d37-161">В предложении WHERE добавьте фильтр, который сегментирует данные для этой секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-161">In the WHERE clause at the bottom, add a filter that segments data for this partition.</span></span>

     <span data-ttu-id="75d37-162">Примеры синтаксиса предложений WHERE: `WHERE OrderDateKey >= '20060101'` или `WHERE OrderDateKey BETWEEN '20051001' AND '20051201'`.</span><span class="sxs-lookup"><span data-stu-id="75d37-162">Examples of WHERE clause syntax include `WHERE OrderDateKey >= '20060101'` or `WHERE OrderDateKey BETWEEN '20051001' AND '20051201'`.</span></span> <span data-ttu-id="75d37-163">Другие примеры см. в разделе [WHERE (Transact-SQL)](/sql/t-sql/queries/where-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="75d37-163">For other examples, see [WHERE &#40;Transact-SQL&#41;](/sql/t-sql/queries/where-transact-sql).</span></span>

     <span data-ttu-id="75d37-164">Обратите внимание, что следующие фильтры являются взаимоисключающими в пределах каждого набора:</span><span class="sxs-lookup"><span data-stu-id="75d37-164">Notice that the following filters are mutually exclusive within each set:</span></span>

    |||
    |-|-|
    |<span data-ttu-id="75d37-165">Набор 1:</span><span class="sxs-lookup"><span data-stu-id="75d37-165">Set 1:</span></span>|<span data-ttu-id="75d37-166">"Год_продаж" = 2012</span><span class="sxs-lookup"><span data-stu-id="75d37-166">"SaleYear" = 2012</span></span><br /><br /> <span data-ttu-id="75d37-167">"Год_продаж" = 2013</span><span class="sxs-lookup"><span data-stu-id="75d37-167">"SaleYear" = 2013</span></span>|
    |<span data-ttu-id="75d37-168">Набор 2:</span><span class="sxs-lookup"><span data-stu-id="75d37-168">Set 2:</span></span>|<span data-ttu-id="75d37-169">"Континент" = 'Северная_Америка'</span><span class="sxs-lookup"><span data-stu-id="75d37-169">"Continent" = 'NorthAmerica'</span></span><br /><br /> <span data-ttu-id="75d37-170">"Континент" = 'Европа'</span><span class="sxs-lookup"><span data-stu-id="75d37-170">"Continent" = 'Europe'</span></span><br /><br /> <span data-ttu-id="75d37-171">"Континент" = 'Южная_Америка'</span><span class="sxs-lookup"><span data-stu-id="75d37-171">"Continent" = 'SouthAmerica'</span></span>|
    |<span data-ttu-id="75d37-172">Набор 3:</span><span class="sxs-lookup"><span data-stu-id="75d37-172">Set 3:</span></span>|<span data-ttu-id="75d37-173">"Страна" = 'США'</span><span class="sxs-lookup"><span data-stu-id="75d37-173">"Country" = 'USA'</span></span><br /><br /> <span data-ttu-id="75d37-174">"Страна" = 'Мексика'</span><span class="sxs-lookup"><span data-stu-id="75d37-174">"Country" = 'Mexico'</span></span><br /><br /> <span data-ttu-id="75d37-175">("Country" <> 'USA' AND "Country" <> 'Mexico')</span><span class="sxs-lookup"><span data-stu-id="75d37-175">("Country" <> 'USA' AND "Country" <> 'Mexico')</span></span>|

6.  <span data-ttu-id="75d37-176">Щелкните **Проверить** , чтобы определить наличие синтаксических ошибок, и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="75d37-176">Click **Check** to check for syntax errors, and then click **OK**.</span></span>

7.  <span data-ttu-id="75d37-177">Повторите предыдущие шаги и создайте оставшиеся секции, изменяя предложение WHERE, чтобы выбирался следующий срез данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-177">Repeat the previous steps to create the remaining partitions, modifying the WHERE clause each time to select the next data slice.</span></span>

8.  <span data-ttu-id="75d37-178">Разверните решение или обработайте секцию, чтобы загрузить данные.</span><span class="sxs-lookup"><span data-stu-id="75d37-178">Deploy the solution or process the partition to load the data.</span></span> <span data-ttu-id="75d37-179">Обработайте все секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-179">Be sure to process all partitions.</span></span>

9. <span data-ttu-id="75d37-180">Изучите куб, чтобы проверить правильность возвращаемых данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-180">Browse the cube to verify the correct data is returned.</span></span>

 <span data-ttu-id="75d37-181">После получения группы мер с несколькими секциями можно создать дополнительные секции в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="75d37-181">After you have a measure group that uses multiple measure groups, you can create additional partitions in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="75d37-182">Под группой мер щелкните папку Partitions правой кнопкой мыши и выберите **Создать секции** , чтобы запустить соответствующий мастер.</span><span class="sxs-lookup"><span data-stu-id="75d37-182">Under a measure group, right-click the Partitions folder and select **New Partitions** to start the wizard.</span></span>

> [!NOTE]
>  <span data-ttu-id="75d37-183">Вместо фильтрации данных в секции можно использовать тот же запрос для создания именованного запроса в DSV, затем настроить секцию на основе этого именованного запроса.</span><span class="sxs-lookup"><span data-stu-id="75d37-183">Instead of filtering data in a partition, you can use the same query to create a name query in the DSV, and then base the partition on the named query.</span></span>

## <a name="option-2-use-tables-views-or-named-queries"></a><span data-ttu-id="75d37-184">Вариант 2. Использование таблиц, представлений и именованных запросов</span><span class="sxs-lookup"><span data-stu-id="75d37-184">Option 2: Use Tables, Views, or Named Queries</span></span>
 <span data-ttu-id="75d37-185">Если DSV уже организует факты в отдельные таблицы (например, по годам или кварталам), можно создать секции на основе отдельных таблиц, где каждая секция имеет собственную исходную таблицу данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-185">If the DSV already organizes facts into individual tables (for example, by year or quarter), you can create partitions based on an individual table, where each partition has its own data source table.</span></span> <span data-ttu-id="75d37-186">Именно так разбиваются группы мер по умолчанию, но в случае нескольких секций вы разбиваете исходную секцию на несколько секций и сопоставляете каждую новую секцию с источником данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-186">This is essentially how measure groups are partitioned by default but in the case of multiple partitions, you break the original partition into multiple partitions, and map each new partition to the data source table providing the data.</span></span>

 <span data-ttu-id="75d37-187">Представления и именованные запросы функционально эквивалентны таблицам, поскольку все три объекта определяются в DSV и привязываются к секции с помощью параметра Table Binding в окне выбора источника секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-187">Views and named queries are functional equivalent to tables, in that all three objects are defined in the DSV and bound to a partition using the Table Binding option in the Partition Source dialog box.</span></span> <span data-ttu-id="75d37-188">Для каждого сегмента данных в секции можно создать представление или именованный запрос.</span><span class="sxs-lookup"><span data-stu-id="75d37-188">You can create a view or named query to generate the data segment needed for each partition.</span></span> <span data-ttu-id="75d37-189">Дополнительные сведения см. в разделе [Определение именованных запросов в представлении источника данных (службы Analysis Services)](define-named-queries-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="75d37-189">For more information, see [Define Named Queries in a Data Source View &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md).</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="75d37-190">При создании взаимоисключающих именованных запросов для секций в представлении источника данных убедитесь, что комбинированные данные для секций включают все данные из группы мер, которую необходимо включить в куб.</span><span class="sxs-lookup"><span data-stu-id="75d37-190">When you create mutually exclusive named queries for partitions in a DSV, ensure that the combined data for the partitions includes all data from a measure group that you want to include in the cube.</span></span> <span data-ttu-id="75d37-191">Убедитесь, что не осталось секции по умолчанию, основанной на всей таблице для группы мер, иначе секции, основанные на запросах, будут перекрывать запрос, основанный на полной таблице.</span><span class="sxs-lookup"><span data-stu-id="75d37-191">Make sure that you do not leave a default partition based on the entire table for the measure group, or else the query based partitions will overlap the query based on the complete table.</span></span>

1.  <span data-ttu-id="75d37-192">Создайте один или несколько именованных запросов, которые будут источником секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-192">Create one or more named queries to use as the partition source.</span></span> <span data-ttu-id="75d37-193">Дополнительные сведения см. в разделе [Определение именованных запросов в представлении источника данных (службы Analysis Services)](define-named-queries-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="75d37-193">For more information, see [Define Named Queries in a Data Source View &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md).</span></span>

     <span data-ttu-id="75d37-194">Именованный запрос должен основываться на таблице фактов, связанной с группой мер.</span><span class="sxs-lookup"><span data-stu-id="75d37-194">The named query must be based on the fact table associated with the measure group.</span></span> <span data-ttu-id="75d37-195">Например, если разбивается группа мер FactInternetSales, именованные запросы в DSV должны в инструкции FROM указывать таблицу FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="75d37-195">For example, if you are partitioning the FactInternetSales measure group, the named queries in the DSV must specify the FactInternetSales table in the FROM statement.</span></span>

2.  <span data-ttu-id="75d37-196">В обозревателе решений [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]дважды щелкните куб, чтобы открыть его в конструкторе кубов, и выберите вкладку **Секции** .</span><span class="sxs-lookup"><span data-stu-id="75d37-196">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], in Solution Explorer, double-click the cube to open it in Cube Designer, and then click the **Partitions** tab.</span></span>

3.  <span data-ttu-id="75d37-197">Разверните группу мер, к которой добавляются секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-197">Expand the measure group for which are adding partitions.</span></span>

4.  <span data-ttu-id="75d37-198">Чтобы запустить мастер создания секции, нажмите кнопку **Создать секцию** .</span><span class="sxs-lookup"><span data-stu-id="75d37-198">Click **New Partition** to start the Partition Wizard.</span></span> <span data-ttu-id="75d37-199">Если вы создали именованные запросы, используя таблицу фактов, привязанную к группе мер, необходимо просмотреть именованные запросы, созданные на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="75d37-199">If you created the named queries using the fact table bound to the measure group, you should see each of the named queries you created in the previous step.</span></span>

5.  <span data-ttu-id="75d37-200">В окне указания сведений об источнике выберите один из именованных запросов, созданных ранее.</span><span class="sxs-lookup"><span data-stu-id="75d37-200">In Specify Source Information, choose one of the named queries you created in a previous step.</span></span> <span data-ttu-id="75d37-201">Если нет именованных запросов, вернитесь в DSV и проверьте инструкцию FROM.</span><span class="sxs-lookup"><span data-stu-id="75d37-201">If you do not see any named queries, go back to the DSV and check the FROM statement.</span></span>

6.  <span data-ttu-id="75d37-202">Нажмите кнопку **Далее** , чтобы принять стандартные значения для каждой последующей страницы.</span><span class="sxs-lookup"><span data-stu-id="75d37-202">Click **Next** to accept the default values for each subsequent page.</span></span>

7.  <span data-ttu-id="75d37-203">На последней странице мастера задайте секции подходящее имя.</span><span class="sxs-lookup"><span data-stu-id="75d37-203">On the last page, Completing the Wizard, give the partition a descriptive name.</span></span>

8.  <span data-ttu-id="75d37-204">Нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="75d37-204">Click **Finish**.</span></span>

9. <span data-ttu-id="75d37-205">Повторите предыдущие шаги и создайте оставшиеся секции, выбирая другой именованный запрос, чтобы выбирался следующий срез данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-205">Repeat the previous steps to create the remaining partitions, choosing a different named query each time to select the next data slice.</span></span>

10. <span data-ttu-id="75d37-206">Разверните решение или обработайте секцию, чтобы загрузить данные.</span><span class="sxs-lookup"><span data-stu-id="75d37-206">Deploy the solution or process the partition to load the data.</span></span> <span data-ttu-id="75d37-207">Обработайте все секции.</span><span class="sxs-lookup"><span data-stu-id="75d37-207">Be sure to process all partitions.</span></span>

11. <span data-ttu-id="75d37-208">Изучите куб, чтобы проверить правильность возвращаемых данных.</span><span class="sxs-lookup"><span data-stu-id="75d37-208">Browse the cube to verify the correct data is returned.</span></span>

## <a name="next-step"></a><span data-ttu-id="75d37-209">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="75d37-209">Next Step</span></span>
 <span data-ttu-id="75d37-210">При создании взаимоисключающих запросов для секций убедитесь, что комбинированные данные секций включают все данные, которые необходимо включить в куб.</span><span class="sxs-lookup"><span data-stu-id="75d37-210">When you create mutually exclusive queries for partitions, ensure that the combined partition data includes all data you want to include in the cube.</span></span>

 <span data-ttu-id="75d37-211">В качестве последнего действия обычно необходимо удалить секцию по умолчанию, которая была основана на самой таблице (если она еще есть), иначе секции, основанные на запросах, будут перекрываться с запросом, основанным на полной таблице.</span><span class="sxs-lookup"><span data-stu-id="75d37-211">As a final step, you normally want to remove the default partition that was based on the table itself (if it still exists), or else the query based partitions will overlap the query based on the complete table.</span></span>

## <a name="see-also"></a><span data-ttu-id="75d37-212">См. также:</span><span class="sxs-lookup"><span data-stu-id="75d37-212">See Also</span></span>
 <span data-ttu-id="75d37-213">[Секции &#40;Analysis Services многомерные данные&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) [Удаленные секции](../multidimensional-models-olap-logical-cube-objects/partitions-remote-partitions.md) [слияние секций в Analysis Services &#40;SSAS — многомерные&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md)</span><span class="sxs-lookup"><span data-stu-id="75d37-213">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) [Remote Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-remote-partitions.md) [Merge Partitions in Analysis Services &#40;SSAS - Multidimensional&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md)</span></span>



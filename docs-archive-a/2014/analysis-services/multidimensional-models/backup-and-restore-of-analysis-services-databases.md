---
title: Резервное копирование и восстановление баз данных Analysis Services | Документация Майкрософт
ms.custom: ''
ms.date: 03/25/2019
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.ssmsimbi.Backup.f1
- sql12.asvs.ssmsimbi.Restore.f1
helpviewer_keywords:
- backing up databases [Analysis Services]
- encryption [Analysis Services]
- databases [Analysis Services], restoring
- cryptography [Analysis Services]
- databases [Analysis Services], backing up
- restoring databases [Analysis Services]
- recovery [Analysis Services]
ms.assetid: 947eebd2-3622-479e-8aa6-57c11836e4ec
author: minewiskan
ms.author: owend
ms.openlocfilehash: 00a05fa39b57836490dde3dc6d4a1095e4b3ccaa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87733218"
---
# <a name="backup-and-restore-of-analysis-services-databases"></a><span data-ttu-id="c904e-102">Создание и восстановление резервных копий баз данных служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="c904e-102">Backup and Restore of Analysis Services Databases</span></span>
  [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="c904e-103">предусмотрено резервное копирование и восстановление базы данных и ее объектов на определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="c904e-103">includes backup and restore so that you can recover a database and its objects from a particular point in time.</span></span> <span data-ttu-id="c904e-104">Резервное копирование и восстановление подходит для переноса баз данных на модернизированные серверы, между серверами или для развертывания базы данных на рабочем сервере.</span><span class="sxs-lookup"><span data-stu-id="c904e-104">Backup and restore is also a valid technique for migrating databases to upgraded servers, moving databases between servers, or deploying a database to a production server.</span></span> <span data-ttu-id="c904e-105">Если есть ценные данные, но пока нет плана резервного копирования, то необходимо как можно скорее разработать и реализовать такой план на случай последующего восстановления данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-105">For the purposes of data recovery, if you do not already have a backup plan and your data is valuable, you should design and implement a plan as soon as possible.</span></span>  
  
 <span data-ttu-id="c904e-106">Команды резервного копирования и восстановления выполняются в развернутой базе данных служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="c904e-106">The backup and restore commands are performed on a deployed Analysis Services database.</span></span> <span data-ttu-id="c904e-107">Для проектов и решений в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]следует использовать систему управления версиями, позволяющую восстанавливать определенные версии исходных файлов, а затем создавать план восстановления данных для репозитория используемой системы управления версиями.</span><span class="sxs-lookup"><span data-stu-id="c904e-107">For your projects and solutions in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], you should use source control to ensure you can recover specific versions of your source files, and then create a data recovery plan for the repository of the source control system you are using.</span></span>  
  
 <span data-ttu-id="c904e-108">Чтобы создать полную резервную копию, включающую исходные данные, необходимо создать резервную копию базы данных, содержащей подробные данные.</span><span class="sxs-lookup"><span data-stu-id="c904e-108">For a full backup that includes source data, you have to back up the database which contains detail data.</span></span> <span data-ttu-id="c904e-109">В частности, если используется режим хранения базы данных ROLAP или DirectQuery, подробные данные хранятся во внешней реляционной базе данных SQL Server отдельно от базы данных служб Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="c904e-109">Specifically, if you are using ROLAP or DirectQuery database storage, detail data is stored in an external SQL Server relational database that is distinct from the Analysis Services database.</span></span> <span data-ttu-id="c904e-110">В противном случае, если все объекты являются табличными или многомерными, резервная копия служб Analysis Services будет содержать и метаданные, и исходные данные.</span><span class="sxs-lookup"><span data-stu-id="c904e-110">Otherwise, if all objects are tabular or multidimensional, the Analysis Services backup will include both the metadata and source data.</span></span>  
  
 <span data-ttu-id="c904e-111">Одной из явных выгод автоматизации резервного копирования является то, что моментальный снимок данных будет всегда настолько обновленным, насколько это задано частотой автоматического резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="c904e-111">One clear benefit of automating backup is that the data snapshot will always be as up-to-date as the automated frequency of backup specifies.</span></span> <span data-ttu-id="c904e-112">Автоматические планировщики гарантируют, что резервное копирование будет произведено вовремя.</span><span class="sxs-lookup"><span data-stu-id="c904e-112">Automated schedulers ensure that backups are not forgotten.</span></span> <span data-ttu-id="c904e-113">Восстановление базы данных тоже можно автоматизировать, и оно может быть хорошим способом репликации данных, но необходимо обязательно создать резервную копию файла ключа шифрования в экземпляре, на который осуществляется репликация.</span><span class="sxs-lookup"><span data-stu-id="c904e-113">Restoring a database can also be automated, and can be a good way to replicate data, but be sure to back up the encryption key file on the instance you replicate to.</span></span> <span data-ttu-id="c904e-114">Функция синхронизации предназначена для репликации баз данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , но относится только к устаревшим данным.</span><span class="sxs-lookup"><span data-stu-id="c904e-114">The synchronization feature is dedicated to replication of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases, but only for the data that is out of date.</span></span> <span data-ttu-id="c904e-115">Все описываемые здесь функции могут быть реализованы через пользовательский интерфейс посредством команд XML/A или запущены программным путем через объекты AMO.</span><span class="sxs-lookup"><span data-stu-id="c904e-115">All of the features mentioned here can be implemented through the user interface, by way of XML/A commands or programmatically run through AMO.</span></span>  
  
 <span data-ttu-id="c904e-116">Этот раздел включает следующие подразделы:</span><span class="sxs-lookup"><span data-stu-id="c904e-116">This topic includes the following sections:</span></span>  
  
-   [<span data-ttu-id="c904e-117">Подготовка к резервному копированию</span><span class="sxs-lookup"><span data-stu-id="c904e-117">Preparing for Backup</span></span>](#bkmk_prep)  
  
-   [<span data-ttu-id="c904e-118">Резервное копирование многомерной или табличной базы данных</span><span class="sxs-lookup"><span data-stu-id="c904e-118">Backing Up a Multidimensional or a Tabular Database</span></span>](#bkmk_cube)  
  
-   [<span data-ttu-id="c904e-119">Восстановление базы данных служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="c904e-119">Restoring an Analysis Services Database</span></span>](#bkmk_restore)  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="c904e-120">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="c904e-120">Prerequisites</span></span>  
 <span data-ttu-id="c904e-121">Пользователь, создающий резервную копию базы данных, должен иметь разрешения администратора в экземпляре служб Analysis Services или разрешения полного доступа (администратора) в этой базе данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-121">You must have administrative permissions on the Analysis Services instance or Full Control (Administrator) permissions on the database you are backing up.</span></span>  
  
 <span data-ttu-id="c904e-122">Расположение, из которого выполняется восстановление, должно быть экземпляром служб Analysis Services, который имеет ту же или более позднюю версию, что и экземпляр, резервная копия которого хранится в этом расположении.</span><span class="sxs-lookup"><span data-stu-id="c904e-122">Restore location must be an Analysis Services instance that is the same version, or a newer version, as the instance from which the backup was taken.</span></span> <span data-ttu-id="c904e-123">Несмотря на то что нельзя восстановить базу данных из экземпляра [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] до более ранней версии служб Analysis Services, часто можно восстановить старую версию базы данных, например SQL Server 2012, на более новом экземпляре [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c904e-123">Although you cannot restore a database from a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] instance to an earlier version of Analysis Services, it is common practice to restore an older version database, such as SQL Server 2012, on a newer [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] instance.</span></span>  
  
 <span data-ttu-id="c904e-124">Расположение, из которого производится восстановление, должно находиться на сервере того же типа.</span><span class="sxs-lookup"><span data-stu-id="c904e-124">Restore location must be the same server type.</span></span> <span data-ttu-id="c904e-125">Табличные базы данных могут быть восстановлены только для служб Analysis Services, работающих в табличном режиме.</span><span class="sxs-lookup"><span data-stu-id="c904e-125">Tabular databases can only be restored to Analysis Services running in tabular mode.</span></span> <span data-ttu-id="c904e-126">Многомерные базы данных требуют экземпляр, работающий в многомерном режиме.</span><span class="sxs-lookup"><span data-stu-id="c904e-126">Multidimensional databases require an instance running in multidimensional mode.</span></span>  
  
##  <a name="preparing-for-backup"></a><a name="bkmk_prep"></a><span data-ttu-id="c904e-127">Подготовка к резервному копированию</span><span class="sxs-lookup"><span data-stu-id="c904e-127">Preparing for Backup</span></span>  
 <span data-ttu-id="c904e-128">Для подготовки к резервному копированию применяется следующий контрольный список.</span><span class="sxs-lookup"><span data-stu-id="c904e-128">Use the following checklist to prepare for backup:</span></span>  
  
-   <span data-ttu-id="c904e-129">Проверьте расположение, в котором будет храниться файл резервной копии.</span><span class="sxs-lookup"><span data-stu-id="c904e-129">Check the location where the backup file will be stored.</span></span> <span data-ttu-id="c904e-130">Если используется удаленное расположение, необходимо указать его как папку в формате UNC.</span><span class="sxs-lookup"><span data-stu-id="c904e-130">If you are using a remote location, you must specify it as a UNC folder.</span></span> <span data-ttu-id="c904e-131">Проверьте доступ по UNC-пути.</span><span class="sxs-lookup"><span data-stu-id="c904e-131">Verify that you can access the UNC path.</span></span>  
  
-   <span data-ttu-id="c904e-132">Проверьте разрешения на папку, чтобы убедиться, что учетная запись службы Analysis Services имеет на нее разрешения для чтения и записи.</span><span class="sxs-lookup"><span data-stu-id="c904e-132">Check the permissions on the folder to ensure that the Analysis Services service account has Read/Write permissions on the folder.</span></span>  
  
-   <span data-ttu-id="c904e-133">Проверьте наличие достаточного места на диске целевого сервера.</span><span class="sxs-lookup"><span data-stu-id="c904e-133">Check for sufficient disk space on the target server.</span></span>  
  
-   <span data-ttu-id="c904e-134">Проверьте наличие существующих файлов с таким именем.</span><span class="sxs-lookup"><span data-stu-id="c904e-134">Check for existing files of the same name.</span></span> <span data-ttu-id="c904e-135">Когда файл с таким именем уже существует, резервное копирование завершится ошибкой, если только не заданы параметры, позволяющие перезаписать файл.</span><span class="sxs-lookup"><span data-stu-id="c904e-135">If a file of the same name already exists, backup will fail unless you specify options to overwrite the file.</span></span>  
  
##  <a name="backing-up-a-multidimensional-or-a-tabular-database"></a><a name="bkmk_cube"></a> <span data-ttu-id="c904e-136">Резервное копирование многомерной или табличной базы данных</span><span class="sxs-lookup"><span data-stu-id="c904e-136">Backing Up a Multidimensional or a Tabular Database</span></span>  
 <span data-ttu-id="c904e-137">Администратор может создать резервную копию базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] в одном файле резервной копии служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] (ABF) независимо от размера базы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-137">Administrators can back up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to a single [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] backup file (.abf), regardless of size of the database.</span></span> <span data-ttu-id="c904e-138">Пошаговые инструкции см. в разделах [Резервное копирование базы данных служб Analysis Services (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Backup_an_Analysis_Services_Database.html) и [Автоматизация резервного копирования базы данных служб Analysis Services (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Automate_Backup_of_Analysis_Services_Database.html).</span><span class="sxs-lookup"><span data-stu-id="c904e-138">For step by step instructions, see [How to Backup an Analysis Services Database (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Backup_an_Analysis_Services_Database.html) and [Automate Backup an Analysis Services Database (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Automate_Backup_of_Analysis_Services_Database.html).</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)]<span data-ttu-id="c904e-139">, используемый для загрузки и запросов к моделям данных PowerPivot в среде SharePoint, загружает свои модели из баз данных содержимого SharePoint.</span><span class="sxs-lookup"><span data-stu-id="c904e-139">, used for loading and querying PowerPivot data models in a SharePoint environment, loads its models from SharePoint content databases.</span></span> <span data-ttu-id="c904e-140">Эти базы данных содержимого являются реляционными и работают на базе ядра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c904e-140">These content databases are relational and run on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database engine.</span></span> <span data-ttu-id="c904e-141">Стратегии резервного копирования и восстановления служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] для моделей данных PowerPivot как таковой не существует.</span><span class="sxs-lookup"><span data-stu-id="c904e-141">As such, there is no [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] backup and restore strategy for PowerPivot data models.</span></span> <span data-ttu-id="c904e-142">Если для содержимого SharePoint есть план аварийного восстановления, то этот план охватывает модели данных PowerPivot, хранящиеся в базах данных содержимого.</span><span class="sxs-lookup"><span data-stu-id="c904e-142">If you have a disaster recovery plan in place for SharePoint content, that plan encompasses the PowerPivot data models stored in the content databases.</span></span>  
  
 <span data-ttu-id="c904e-143">**Удаленные секции**</span><span class="sxs-lookup"><span data-stu-id="c904e-143">**Remote Partitions**</span></span>  
  
 <span data-ttu-id="c904e-144">Если база данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] содержит удаленные секции, то необходимо также осуществить резервное копирование этих удаленных секций.</span><span class="sxs-lookup"><span data-stu-id="c904e-144">If the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database contains remote partitions, the remote partitions should also be backed up.</span></span> <span data-ttu-id="c904e-145">При создании резервной копии базы данных с удаленными секциями создание резервных копий всех удаленных секций на каждом удаленном сервере осуществляется в одном файле на каждом из этих удаленных серверов соответственно.</span><span class="sxs-lookup"><span data-stu-id="c904e-145">When you back up a database with remote partitions, all the remote partitions on each remote server are backed up to a single file on each of those remote servers respectively.</span></span> <span data-ttu-id="c904e-146">Таким образом, если нужно создать эти удаленные резервные копии вне соответствующих главных компьютеров, вручную скопируйте эти файлы в предназначенные для них места хранения.</span><span class="sxs-lookup"><span data-stu-id="c904e-146">Therefore, if you want to create those remote backups off their respective host computers, you will have to manually copy those files to the designated storage areas.</span></span>  
  
 <span data-ttu-id="c904e-147">**Содержимое файла резервной копии**</span><span class="sxs-lookup"><span data-stu-id="c904e-147">**Contents of a backup file**</span></span>  
  
 <span data-ttu-id="c904e-148">В результате резервного копирования базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] создается файл резервной копии, содержимое которого различается в зависимости от режима хранения, используемого объектами базы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-148">Backing up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database produces a backup file whose contents vary depending upon the storage mode used by the database objects.</span></span> <span data-ttu-id="c904e-149">Это различие содержимого резервной копии получается вследствие того факта, что при различных режимах хранения в базе данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] в реальности хранятся различные наборы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-149">This difference in backup content results from the fact that each storage mode actually stores a different set of information within an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="c904e-150">Например, многомерные секции и измерения гибридного OLAP (HOLAP) хранят агрегаты и метаданные в базе данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , в то время как секции и измерения реляционного OLAP (ROLAP) хранят в базе данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] только метаданные.</span><span class="sxs-lookup"><span data-stu-id="c904e-150">For example, multidimensional hybrid OLAP (HOLAP) partitions and dimensions store aggregations and metadata in the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, while relational OLAP (ROLAP) partitions and dimensions only store metadata in the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="c904e-151">Поскольку реальное содержимое базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] различается в зависимости от режима хранения для каждой секции, содержимое файла резервной копии также различается.</span><span class="sxs-lookup"><span data-stu-id="c904e-151">Because the actual contents of an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database vary based on the storage mode of each partition, the contents of the backup file also vary.</span></span> <span data-ttu-id="c904e-152">В следующей таблице приведена связь содержимого файла резервной копии с режимом хранения, используемым объектами.</span><span class="sxs-lookup"><span data-stu-id="c904e-152">The following table associates the contents of the backup file to the storage mode used by the objects.</span></span>  
  
|<span data-ttu-id="c904e-153">Режим хранения</span><span class="sxs-lookup"><span data-stu-id="c904e-153">Storage Mode</span></span>|<span data-ttu-id="c904e-154">Содержимое файла резервной копии</span><span class="sxs-lookup"><span data-stu-id="c904e-154">Contents of backup file</span></span>|  
|------------------|-----------------------------|  
|<span data-ttu-id="c904e-155">Многомерные секции и измерения MOLAP</span><span class="sxs-lookup"><span data-stu-id="c904e-155">Multidimensional MOLAP partitions and dimensions</span></span>|<span data-ttu-id="c904e-156">Метаданные, исходные данные и агрегаты</span><span class="sxs-lookup"><span data-stu-id="c904e-156">Metadata, source data, and aggregations</span></span>|  
|<span data-ttu-id="c904e-157">Многомерные секции и измерения HOLAP</span><span class="sxs-lookup"><span data-stu-id="c904e-157">Multidimensional HOLAP partitions and dimensions</span></span>|<span data-ttu-id="c904e-158">Метаданные и агрегаты</span><span class="sxs-lookup"><span data-stu-id="c904e-158">Metadata and aggregations</span></span>|  
|<span data-ttu-id="c904e-159">Многомерные секции и измерения ROLAP</span><span class="sxs-lookup"><span data-stu-id="c904e-159">Multidimensional ROLAP partitions and dimensions</span></span>|<span data-ttu-id="c904e-160">Метаданные</span><span class="sxs-lookup"><span data-stu-id="c904e-160">Metadata</span></span>|  
|<span data-ttu-id="c904e-161">Табличные модели в памяти</span><span class="sxs-lookup"><span data-stu-id="c904e-161">Tabular In-Memory Models</span></span>|<span data-ttu-id="c904e-162">Метаданные и исходные данные</span><span class="sxs-lookup"><span data-stu-id="c904e-162">Metadata and source data</span></span>|  
|<span data-ttu-id="c904e-163">Табличные модели DirectQuery</span><span class="sxs-lookup"><span data-stu-id="c904e-163">Tabular DirectQuery Models</span></span>|<span data-ttu-id="c904e-164">Только метаданные</span><span class="sxs-lookup"><span data-stu-id="c904e-164">Metadata only</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="c904e-165">При создании резервной копии базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] не создается резервная копия данных из базовых источников данных, например из реляционной базы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-165">Backing up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database does not back up the data in any underlying data sources, such as a relational database.</span></span> <span data-ttu-id="c904e-166">Создается только резервная копия содержимого базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c904e-166">Only the contents of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database are backed up.</span></span>  
  
 <span data-ttu-id="c904e-167">При создании резервной копии базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] можно выбирать следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="c904e-167">When you back up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, you can choose from the following options:</span></span>  
  
-   <span data-ttu-id="c904e-168">Необходимость сжатия всех резервных копий базы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-168">Whether to compress all database backups.</span></span> <span data-ttu-id="c904e-169">По умолчанию резервные копии сжимаются.</span><span class="sxs-lookup"><span data-stu-id="c904e-169">The default is to compress backups.</span></span>  
  
-   <span data-ttu-id="c904e-170">Необходимость шифрования содержимого файлов резервных копий и запрашивания пароля перед расшифровкой и восстановлением файла.</span><span class="sxs-lookup"><span data-stu-id="c904e-170">Whether to encrypt the contents of the backup files and require a password before the file can be unencrypted and restored.</span></span> <span data-ttu-id="c904e-171">По умолчанию шифрование резервных копий данных не производится.</span><span class="sxs-lookup"><span data-stu-id="c904e-171">By default, the backed up data is not encrypted.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="c904e-172">Пользователь, выполняющий команду резервного копирования, должен иметь разрешение на запись в папку резервного копирования, указанную для каждого копируемого файла.</span><span class="sxs-lookup"><span data-stu-id="c904e-172">For each backup file, the user who runs the backup command must have permission to write to the backup location specified for each file.</span></span> <span data-ttu-id="c904e-173">Кроме того, пользователь должен быть членом одной из следующих ролей: роль сервера для экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или роль базы данных с разрешениями "Полный доступ (администратор)" в базе данных, для которой создается резервная копия.</span><span class="sxs-lookup"><span data-stu-id="c904e-173">Also, the user must have one of the following roles: a member of a server role for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, or a member of a database role with Full Control (Administrator) permissions on the database to be backed up.</span></span>  
  
 <span data-ttu-id="c904e-174">Дополнительные сведения о создании резервных копий базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] см. в разделе [Параметры резервного копирования](backup-options.md).</span><span class="sxs-lookup"><span data-stu-id="c904e-174">For more information about backing up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, see [Backup Options](backup-options.md).</span></span>  
  
##  <a name="restoring-an-analysis-services-database"></a><a name="bkmk_restore"></a><span data-ttu-id="c904e-175">Восстановление базы данных Analysis Services</span><span class="sxs-lookup"><span data-stu-id="c904e-175">Restoring an Analysis Services Database</span></span>  
 <span data-ttu-id="c904e-176">Администраторы могут восстанавливать базу данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] из одного или нескольких файлов резервной копии.</span><span class="sxs-lookup"><span data-stu-id="c904e-176">Administrators can restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database from one or more backup files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c904e-177">Если файл резервной копии зашифрован, то необходимо ввести пароль, заданный во время создания резервной копии, перед тем как можно будет использовать этот файл для восстановления базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c904e-177">If a backup file is encrypted, you must provide the password specified during backup before you can use that file to restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="c904e-178">Во время восстановления возможны следующие варианты:</span><span class="sxs-lookup"><span data-stu-id="c904e-178">During restoration, you have the following options:</span></span>  
  
-   <span data-ttu-id="c904e-179">Можно восстановить базу данных, используя первоначальное имя базы данных, или указать новое имя базы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-179">You can restore the database using the original database name, or you can specify a new database name.</span></span>  
  
-   <span data-ttu-id="c904e-180">Можно перезаписать существующую базу данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-180">You can overwrite an existing database.</span></span> <span data-ttu-id="c904e-181">При выборе перезаписывания базы данных нужно явно указать, что ее необходимо перезаписать.</span><span class="sxs-lookup"><span data-stu-id="c904e-181">If you choose to overwrite the database, you must expressly specify that you want to overwrite the existing database.</span></span>  
  
-   <span data-ttu-id="c904e-182">Можно выбрать необходимость восстановления существующих сведений о безопасности или пропустить сведения о вхождении в группы безопасности.</span><span class="sxs-lookup"><span data-stu-id="c904e-182">You can choose whether to restore existing security information or skip security membership information.</span></span>  
  
-   <span data-ttu-id="c904e-183">Можно выбрать, чтобы команда восстановления изменяла папку восстановления для каждой восстанавливаемой секции.</span><span class="sxs-lookup"><span data-stu-id="c904e-183">You can choose to have the restore command change the restoration folder for each partition being restored.</span></span> <span data-ttu-id="c904e-184">Локальные секции можно восстанавливать в любое местоположение папки, являющееся локальным для экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , на который производится восстановление базы данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-184">Local partitions can be restored to any folder location that is local to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance to which the database is being restored.</span></span> <span data-ttu-id="c904e-185">Удаленные секции можно восстанавливать в любую папку на любом сервере, кроме локального; удаленные секции не могут становиться локальными.</span><span class="sxs-lookup"><span data-stu-id="c904e-185">Remote partitions can be restored to any folder on any server, other than the local server; remote partitions cannot become local.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="c904e-186">Пользователь, выполняющий команду восстановления, должен иметь разрешение на чтение из папки резервного копирования, указанной для каждого восстанавливаемого файла.</span><span class="sxs-lookup"><span data-stu-id="c904e-186">For each backup file, the user who runs the restore command must have permission to read from the backup location specified for each file.</span></span> <span data-ttu-id="c904e-187">Чтобы восстановить базу данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , которая не установлена на сервере, пользователь также должен быть членом роли сервера для этого экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c904e-187">To restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database that is not installed on the server, the user must also be a member of the server role for that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="c904e-188">Чтобы перезаписать базу данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , пользователь должен быть членом одной из следующих ролей: роль сервера для экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или роль базы данных с разрешениями "Полный доступ (администратор)" в восстанавливаемой базе данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-188">To overwrite an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, the user must have one of the following roles: a member of the server role for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, or a member of a database role with Full Control (Administrator) permissions on the database to be restored.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c904e-189">После восстановления существующей базы данных пользователь, выполнявший восстановление, может утратить доступ к этой базе данных.</span><span class="sxs-lookup"><span data-stu-id="c904e-189">After restoring an existing database, the user who restored the database might lose access to the restored database.</span></span> <span data-ttu-id="c904e-190">Потеря доступа может произойти в случае, если на время создания резервной копии этот пользователь не был членом роли сервера и роли базы данных с разрешением «Полный доступ (Администратор)».</span><span class="sxs-lookup"><span data-stu-id="c904e-190">This loss of access can occur if, at the time that the backup was performed, the user was not a member of the server role or was not a member of the database role with Full Control (Administrator) permissions.</span></span>  
  
 <span data-ttu-id="c904e-191">Дополнительные сведения о восстановлении базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] см. в разделе [Параметры восстановления](restore-options.md).</span><span class="sxs-lookup"><span data-stu-id="c904e-191">For more information about restoring an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, see [Restore Options](restore-options.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c904e-192">См. также:</span><span class="sxs-lookup"><span data-stu-id="c904e-192">See Also</span></span>  
 <span data-ttu-id="c904e-193">[Резервное копирование, восстановление и синхронизация баз данных &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/backing-up-restoring-and-synchronizing-databases-xmla.md) </span><span class="sxs-lookup"><span data-stu-id="c904e-193">[Backing Up, Restoring, and Synchronizing Databases &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/backing-up-restoring-and-synchronizing-databases-xmla.md) </span></span>  
 [<span data-ttu-id="c904e-194">Analysis Services PowerShell</span><span class="sxs-lookup"><span data-stu-id="c904e-194">Analysis Services PowerShell</span></span>](../analysis-services-powershell.md)  
  
  

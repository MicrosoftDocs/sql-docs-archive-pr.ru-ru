---
title: Атрибуты в иерархиях «родители-потомки» | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- data members [Analysis Services]
- nonleaf members
- MembersWithDataCaption property
- members [Analysis Services]
- members [Analysis Services], data
- leaf members
- parent-child dimensions [Analysis Services]
- MembersWithData property
ms.assetid: 249971cc-4bcd-44f1-8241-bdacc04d3d38
author: minewiskan
ms.author: owend
ms.openlocfilehash: 5c4a7e8ba43ac8ede0bd60409f84a6fa233ce182
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87730950"
---
# <a name="attributes-in-parent-child-hierarchies"></a><span data-ttu-id="6a506-102">Атрибуты в иерархиях типа "родители-потомки"</span><span class="sxs-lookup"><span data-stu-id="6a506-102">Attributes in Parent-Child Hierarchies</span></span>
  <span data-ttu-id="6a506-103">В [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] обычно делается общее предположение о содержимом элементов в измерении.</span><span class="sxs-lookup"><span data-stu-id="6a506-103">In [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)], a general assumption is usually made about the content of members in a dimension.</span></span> <span data-ttu-id="6a506-104">Конечные элементы содержат данные, полученные непосредственно из основных источников данных; неконечные элементы содержат данные статистических вычислений, рассчитанных по дочерним элементам.</span><span class="sxs-lookup"><span data-stu-id="6a506-104">Leaf members contain data derived directly from underlying data sources; nonleaf members contain data derived from aggregations performed on child members.</span></span>  
  
 <span data-ttu-id="6a506-105">Тем не менее в иерархии вида «родители-потомки» некоторые неконечные элементы вместе со статистическими выражениями над дочерними элементами также могут содержать данные из основных источников данных.</span><span class="sxs-lookup"><span data-stu-id="6a506-105">In a parent-child hierarchy, however, some nonleaf members may also have data derived from underlying data sources, in addition to data aggregated from child members.</span></span> <span data-ttu-id="6a506-106">Для таких неконечных элементов в иерархии вида «родители-потомки» создаются специальные, формируемые системой дочерние элементы, содержащие данные из основной таблицы фактов.</span><span class="sxs-lookup"><span data-stu-id="6a506-106">For these nonleaf members in a parent-child hierarchy, special system-generated child members are created that contain the underlying fact table data.</span></span> <span data-ttu-id="6a506-107">Такие элементы называются *элементами данных*, они непосредственно связаны с неконечным элементом дерева, который не зависит от суммарного значения, вычисленного для его потомков.</span><span class="sxs-lookup"><span data-stu-id="6a506-107">Referred to as *data members*, they contain a value directly associated with a nonleaf member that is independent of the summary value calculated from the descendants of the nonleaf member.</span></span>  
  
 <span data-ttu-id="6a506-108">Элементы данных можно использовать только в измерениях с иерархией вида «родители-потомки», они видны только в том случае, если родительский элемент допускает это.</span><span class="sxs-lookup"><span data-stu-id="6a506-108">Data members are available only to dimensions with parent-child hierarchies, and are visible only if allowed by the parent attribute.</span></span> <span data-ttu-id="6a506-109">Для контроля видимости элементов данных можно воспользоваться конструктором измерений.</span><span class="sxs-lookup"><span data-stu-id="6a506-109">You can use Dimension Designer to control the visibility of data members.</span></span> <span data-ttu-id="6a506-110">Чтобы показать элементы данных, установите свойство `MembersWithData` для родительского атрибута равным `NonLeafDataVisible.` Чтобы скрыть элементы данных в родительском атрибуте, установите свойство `MembersWithData` родительского атрибута равным `NonLeafDataHidden`.</span><span class="sxs-lookup"><span data-stu-id="6a506-110">To expose data members, set the `MembersWithData` property for the parent attribute to `NonLeafDataVisible.` To hide data members contained by the parent attribute, set the `MembersWithData` property on the parent attribute to `NonLeafDataHidden`.</span></span>  
  
 <span data-ttu-id="6a506-111">Это свойство не влияет на процесс статистического вычисления неконечных элементов, элемент данных всегда участвует в вычислении агрегатов в качестве дочернего элемента.</span><span class="sxs-lookup"><span data-stu-id="6a506-111">This setting does not override the normal aggregation behavior for nonleaf members; the data member is always included as a child member for the purposes of aggregation.</span></span> <span data-ttu-id="6a506-112">Однако нормальное статистическое поведение можно изменить при помощи формулы пользовательской свертки.</span><span class="sxs-lookup"><span data-stu-id="6a506-112">However, a custom rollup formula can be used to override the normal aggregation behavior.</span></span> <span data-ttu-id="6a506-113">Функция- [член](/sql/mdx/datamember-mdx) многомерных выражений (MDX) дает возможность доступа к значению связанного элемента данных независимо от значения `MembersWithData` Свойства.</span><span class="sxs-lookup"><span data-stu-id="6a506-113">The Multidimensional Expressions (MDX) [DataMember](/sql/mdx/datamember-mdx) function gives you the ability to access the value of the associated data member regardless of the value of the `MembersWithData` property.</span></span>  
  
 <span data-ttu-id="6a506-114">Свойство `MembersWithDataCaption` родительского атрибута предоставляет службам [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] шаблон именования, используемый для формирования имен элементов данных.</span><span class="sxs-lookup"><span data-stu-id="6a506-114">The `MembersWithDataCaption` property of the parent attribute provides [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] with the naming template used to generate member names for data members.</span></span>  
  
## <a name="using-data-members"></a><span data-ttu-id="6a506-115">Использование элементов данных</span><span class="sxs-lookup"><span data-stu-id="6a506-115">Using Data Members</span></span>  
 <span data-ttu-id="6a506-116">Элементы данных удобно использовать при статистической обработке мер организационных измерений с иерархией вида «родители-потомки».</span><span class="sxs-lookup"><span data-stu-id="6a506-116">Data members are useful when aggregating measures along organizational dimensions that have parent-child hierarchies.</span></span> <span data-ttu-id="6a506-117">Например, на следующей диаграмме показано измерение, представляющее объем валовой выручки на трех уровнях.</span><span class="sxs-lookup"><span data-stu-id="6a506-117">For example, the following diagram shows a dimension that has three levels, representing the gross sales volume of products.</span></span> <span data-ttu-id="6a506-118">Первый уровень показывает общий объем валовой выручки всех продавцов.</span><span class="sxs-lookup"><span data-stu-id="6a506-118">The first level shows the gross sales volume for all salespersons.</span></span> <span data-ttu-id="6a506-119">Второй уровень содержит объем выручки всех подчиненных каждого менеджера по продажам и, наконец, третий уровень содержит объем выручки каждого продавца в отдельности.</span><span class="sxs-lookup"><span data-stu-id="6a506-119">The second level contains the gross sales volume for all sales staff grouped by sales manager, and the third level contains the gross sales volume for all sales staff grouped by salesperson.</span></span>  
  
 <span data-ttu-id="6a506-120">![Измерение валового объема продаж с тремя уровнями](../media/agdatamember1.gif "Измерение валового объема продаж с тремя уровнями")</span><span class="sxs-lookup"><span data-stu-id="6a506-120">![Gross sales volume dimension with three levels](../media/agdatamember1.gif "Gross sales volume dimension with three levels")</span></span>  
  
 <span data-ttu-id="6a506-121">Обычно, значение элемента Sales Manager 1 бывает выведено путем статистического вычисления значений элементов Salesperson 1 и Salesperson 2.</span><span class="sxs-lookup"><span data-stu-id="6a506-121">Ordinarily, the value of the Sales Manager 1 member would be derived by aggregating the values of the Salesperson 1 and Salesperson 2 members.</span></span> <span data-ttu-id="6a506-122">Тем не менее, поскольку менеджер Sales Manager 1 также продавал товары, элемент должен содержать данные из таблицы фактов, поскольку она может содержать данные о валовой выручке, связанные с элементом Sales Manager 1.</span><span class="sxs-lookup"><span data-stu-id="6a506-122">However, because Sales Manager 1 also can sell products, that member may also contain data derived from the fact table, because there may be gross sales associated with Sales Manager 1.</span></span>  
  
 <span data-ttu-id="6a506-123">Кроме того, индивидуальная комиссия продавцов может различаться.</span><span class="sxs-lookup"><span data-stu-id="6a506-123">Moreover, the individual commissions for each sales staff member can vary.</span></span> <span data-ttu-id="6a506-124">В таком случае используются два различных масштаба для вычисления комиссии для отдельных объемов валовой выручки менеджеров по продажам, в отличие от общего объема валовой выручки, формируемого их подчиненными.</span><span class="sxs-lookup"><span data-stu-id="6a506-124">In this case, two different scales are used to compute commissions for the individual gross sales of the sales managers, as opposed to the total of gross sales generated by their salespersons.</span></span> <span data-ttu-id="6a506-125">Следовательно, важно иметь возможность доступа к данным основной таблицы фактов для неконечных элементов.</span><span class="sxs-lookup"><span data-stu-id="6a506-125">Therefore, it is important to be able to access the underlying fact table data for nonleaf members.</span></span> <span data-ttu-id="6a506-126">Функция многомерных выражений `DataMember` позволяет получить индивидуальный объем валовой выручки элемента Sales Manager 1, а пользовательское выражение свертки — исключить элемент данных из статистического значения для элемента Sales Manager 1 и вычислить объем валовой выручки всех менеджеров по продажам, которые связаны с этим элементом.</span><span class="sxs-lookup"><span data-stu-id="6a506-126">The MDX `DataMember` function can be used to retrieve the individual gross sales volume of the Sales Manager 1 member, and a custom rollup expression can be used to exclude the data member from the aggregated value of the Sales Manager 1 member, providing the gross sales volume of the salespersons associated with that member.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6a506-127">См. также:</span><span class="sxs-lookup"><span data-stu-id="6a506-127">See Also</span></span>  
 <span data-ttu-id="6a506-128">[Справочник по свойствам атрибутов измерения](dimension-attribute-properties-reference.md) </span><span class="sxs-lookup"><span data-stu-id="6a506-128">[Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md) </span></span>  
 [<span data-ttu-id="6a506-129">Иерархия "родители-потомки"</span><span class="sxs-lookup"><span data-stu-id="6a506-129">Parent-Child Hierarchy</span></span>](parent-child-dimension.md)  
  
  

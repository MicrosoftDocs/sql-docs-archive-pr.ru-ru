---
title: Сценарии развертывания DirectQuery (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 2aaf5cb8-294b-4031-94b3-fe605d7fc4c7
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2c90d90b40686b5953e26853ed9f53dcfd157f0f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87668503"
---
# <a name="directquery-deployment-scenarios-ssas-tabular"></a><span data-ttu-id="7f796-102">Сценарии развертывания DirectQuery (табличные службы SSAS)</span><span class="sxs-lookup"><span data-stu-id="7f796-102">DirectQuery Deployment Scenarios (SSAS Tabular)</span></span>
  <span data-ttu-id="7f796-103">В этом разделе содержится пошаговое руководство по структурной организации и процедуре развертывания моделей DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-103">This topic provides a walkthrough of the design and deployment process for DirectQuery models.</span></span> <span data-ttu-id="7f796-104">Модель DirectQuery можно настроить либо на использование только реляционных данных (только DirectQuery), либо на переключение между использованием только закэшированных и только реляционных данных (гибридный режим).</span><span class="sxs-lookup"><span data-stu-id="7f796-104">You can configure DirectQuery to use relational data only (DirectQuery only), or you can configure the model to switch between using cached data only or relational data only (hybrid mode).</span></span> <span data-ttu-id="7f796-105">Этот раздел описывает процесс реализации обоих режимов, а также возможные различия в результатах запросов, выполняемых в разных режимах и конфигурациях безопасности.</span><span class="sxs-lookup"><span data-stu-id="7f796-105">This topic explains the implementation process for both modes, and describes possible differences in query results depending on the mode and the security configuration.</span></span>  
  
 [<span data-ttu-id="7f796-106">Проектирование и этапы развертывания</span><span class="sxs-lookup"><span data-stu-id="7f796-106">Design and Deployment Steps</span></span>](#bkmk_DQProcedure)  
  
 [<span data-ttu-id="7f796-107">Сравнение конфигураций DirectQuery</span><span class="sxs-lookup"><span data-stu-id="7f796-107">Comparing DirectQuery Configurations</span></span>](#bkmk_Configurations)  
  
##  <a name="design-and-deployment-steps"></a><a name="bkmk_DQProcedure"></a><span data-ttu-id="7f796-108">Этапы проектирования и развертывания</span><span class="sxs-lookup"><span data-stu-id="7f796-108">Design and Deployment Steps</span></span>  
 <span data-ttu-id="7f796-109">**Шаг 1. Создание решения**</span><span class="sxs-lookup"><span data-stu-id="7f796-109">**Step 1. Create the solution**</span></span>  
  
 <span data-ttu-id="7f796-110">Вне зависимости от используемого режима необходимо ознакомиться с описанием ограничений по данным, используемым в моделях DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-110">Regardless of which mode you will use, you must review the information that describes limitations on the data that can be used in DirectQuery models.</span></span> <span data-ttu-id="7f796-111">Одним из таких ограничений, например, является то, что все данные, используемые в модели и отчетах, должны извлекаться из одной базы данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f796-111">For example, all the data used in your model and reports must come from a single SQL Server database.</span></span> <span data-ttu-id="7f796-112">Дополнительные сведения см. в разделе [Режим DirectQuery (табличные службы SSAS)](tabular-models/directquery-mode-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="7f796-112">For more information, see [DirectQuery Mode &#40;SSAS Tabular&#41;](tabular-models/directquery-mode-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="7f796-113">Также следует рассмотреть все ограничения в отношении мер и вычисляемых столбцов и определить, совместимы ли используемые в модели формулы с режимом DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-113">Also, review the limitations on measures and calculated columns, and determine whether the formulas you intend to use are compatible with DirectQuery mode.</span></span> <span data-ttu-id="7f796-114">Может потребоваться удаление или изменение следующих элементов.</span><span class="sxs-lookup"><span data-stu-id="7f796-114">You might need to remove or modify the following elements:</span></span>  
  
-   <span data-ttu-id="7f796-115">Вычисляемые столбцы не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="7f796-115">Calculated columns are not supported.</span></span>  
  
-   <span data-ttu-id="7f796-116">Недопустимо использование скопированных и вставленных данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-116">Copy-pasted data cannot be used.</span></span> <span data-ttu-id="7f796-117">Если ускоренное создание решения производится путем импорта модели PowerPivot, то перед его выполнением необходимо удалить связанные таблицы, поскольку такие данные не могут быть удалены после импорта и станут причиной блокировки при проверке DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-117">If you import a PowerPivot model to jumpstart your solution, be sure to delete linked tables before importing the solution, as this data cannot be deleted and will block DirectQuery validation.</span></span>  
  
 <span data-ttu-id="7f796-118">**Шаг 2. Включение режима DirectQuery в конструкторе моделей**</span><span class="sxs-lookup"><span data-stu-id="7f796-118">**Step 2. Enable DirectQuery mode in the model designer**</span></span>  
  
 <span data-ttu-id="7f796-119">По умолчанию DirectQuery отключен.</span><span class="sxs-lookup"><span data-stu-id="7f796-119">By default, DirectQuery is disabled.</span></span> <span data-ttu-id="7f796-120">Поэтому необходимо настроить среду разработки для поддержки режима DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-120">Therefore, you must configure the design environment to support DirectQuery mode.</span></span>  
  
 <span data-ttu-id="7f796-121">Щелкните правой кнопкой мыши узел **model. bim** в Обозреватель решений и задайте для свойства **режим DirectQuery**значение `On` .</span><span class="sxs-lookup"><span data-stu-id="7f796-121">Right-click the **Model.bim** node in Solution Explorer and set the property, **DirectQuery Mode**, to `On`.</span></span>  
  
 <span data-ttu-id="7f796-122">Можно включить режим DirectQuery в любое время. Однако, чтобы не создавать несовместимые с режимом DirectQuery столбцы или формулы, рекомендуется включить режим DirectQuery с самого начала.</span><span class="sxs-lookup"><span data-stu-id="7f796-122">You can turn on DirectQuery at any time; however, to ensure that you do not create columns or formulas that are incompatible with DirectQuery mode, we recommend that you enable DirectQuery mode right from the beginning.</span></span>  
  
 <span data-ttu-id="7f796-123">Первоначально даже модели DirectQuery всегда создаются в памяти.</span><span class="sxs-lookup"><span data-stu-id="7f796-123">Initially, even DirectQuery models are always created in memory.</span></span> <span data-ttu-id="7f796-124">Режим запроса по умолчанию для базы данных рабочей области — **DirectQuery и в памяти**.</span><span class="sxs-lookup"><span data-stu-id="7f796-124">The default query mode for the workspace database is also set to **DirectQuery with In-Memory**.</span></span> <span data-ttu-id="7f796-125">Такой гибридный режим позволяет производить кэширование импортируемых данных для оптимизации производительности во время разработки модели, одновременно выполняя проверку на соответствие требованиям DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-125">This hybrid working mode lets you use the cache of imported data for improved performance during the model design process, while validating the model against DirectQuery requirements.</span></span>  
  
 <span data-ttu-id="7f796-126">**Шаг 3. Устранение ошибок проверки**</span><span class="sxs-lookup"><span data-stu-id="7f796-126">**Step 3. Resolve validation errors**</span></span>  
  
 <span data-ttu-id="7f796-127">При возникновении ошибок проверки при включении DirectQuery или при добавлении новых данных или формул откройте **Список ошибок**Visual Studio и выполните необходимые в этом случае действия.</span><span class="sxs-lookup"><span data-stu-id="7f796-127">If you get validation errors when you turn DirectQuery on, or when you add new data or formulas, open the Visual Studio **Error List**, and then take the required actions.</span></span>  
  
-   <span data-ttu-id="7f796-128">Внесите изменения в любые параметры свойств для режима DirectQuery, руководствуясь сведениями из сообщений об ошибках.</span><span class="sxs-lookup"><span data-stu-id="7f796-128">Change any required property settings for DirectQuery mode, as described in the error messages.</span></span>  
  
-   <span data-ttu-id="7f796-129">Удалите вычисляемые столбцы.</span><span class="sxs-lookup"><span data-stu-id="7f796-129">Remove calculated columns.</span></span> <span data-ttu-id="7f796-130">Если для конкретной меры требуется вычисляемый столбец, всегда можно создать столбец с помощью [конструктора реляционных запросов &#40;SSAS&#41;](relational-query-designer-ssas.md) , предоставляемых в мастере импорта таблиц.</span><span class="sxs-lookup"><span data-stu-id="7f796-130">If you require a calculated column for a particular measure, you can always create the column by using the [Relational Query Designer &#40;SSAS&#41;](relational-query-designer-ssas.md) provided in the Table Import wizard.</span></span>  
  
-   <span data-ttu-id="7f796-131">Измените или удалите формулы, несовместимые с режимом DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-131">Modify or remove formulas that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="7f796-132">Если для вычисления требуется какая-либо функция, попробуйте заменить ее эквивалентом из Transact SQL.</span><span class="sxs-lookup"><span data-stu-id="7f796-132">If you require a particular function for a calculation, consider ways that you could provide an equivalent by using Transact-SQL.</span></span>  
  
-   <span data-ttu-id="7f796-133">При необходимости добавьте данные.</span><span class="sxs-lookup"><span data-stu-id="7f796-133">Add data as needed.</span></span>  <span data-ttu-id="7f796-134">Если ранее в модели использовались данные, скопированные и вставленные из поставщиков, отличных от SQL Server, то можно создавать новые представления и производные столбцы в рамках существующего подключения или использовать распределенные запросы.</span><span class="sxs-lookup"><span data-stu-id="7f796-134">If your model previously used copy-paste data or data from providers other than SQL Server, you can create new views and derived columns within the existing connection, or use distributed queries.</span></span>  <span data-ttu-id="7f796-135">Все данные, используемые в моделях DirectQuery, должны быть доступны из одного и того же источника данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f796-135">All data used in a DirectQuery model must be accessible via a single SQL Server data source.</span></span>  
  
 <span data-ttu-id="7f796-136">**Шаг 4. Установка предпочтительного метода для ответа на запросы в модели**</span><span class="sxs-lookup"><span data-stu-id="7f796-136">**Step 4. Set the preferred method for answering queries on the model**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7f796-137">**Только DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-137">**DirectQuery only**</span></span>|<span data-ttu-id="7f796-138">Установите это свойство в значение **DirectQuery**.</span><span class="sxs-lookup"><span data-stu-id="7f796-138">Set the property to **DirectQuery**.</span></span>|  
|<span data-ttu-id="7f796-139">**Гибридный режим**</span><span class="sxs-lookup"><span data-stu-id="7f796-139">**Hybrid mode**</span></span>|<span data-ttu-id="7f796-140">Установите это свойство в значение **В памяти с DirectQuery** или **DirectQuery и в памяти**.</span><span class="sxs-lookup"><span data-stu-id="7f796-140">Set the property to **In-Memory With DirectQuery** or **DirectQuery With In-Memory**.</span></span><br /><br /> <span data-ttu-id="7f796-141">Это значение можно изменить позже в качестве альтернативной настройки.</span><span class="sxs-lookup"><span data-stu-id="7f796-141">You can change this value later to use a different preference.</span></span><br /><br /> <span data-ttu-id="7f796-142">Обратите внимание, что клиенты могут переопределить предпочтительный метод в строке подключения.</span><span class="sxs-lookup"><span data-stu-id="7f796-142">Note that clients can override the preferred method in the connection string.</span></span>|  
  
 <span data-ttu-id="7f796-143">**Шаг 5. Укажите секцию DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-143">**Step 5. Specify the DirectQuery partition**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7f796-144">**Только DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-144">**DirectQuery only**</span></span>|<span data-ttu-id="7f796-145">Необязательный элемент.</span><span class="sxs-lookup"><span data-stu-id="7f796-145">Optional.</span></span> <span data-ttu-id="7f796-146">Модель, где используется только метод DirectQuery, не нуждается в секции.</span><span class="sxs-lookup"><span data-stu-id="7f796-146">A DirectQuery only model has no need for a partition.</span></span><br /><br /> <span data-ttu-id="7f796-147">Но если при разработке модели секции были созданы, то не забывайте, что в качестве источника данных может использоваться только одна из них.</span><span class="sxs-lookup"><span data-stu-id="7f796-147">However, if you created partitions in the model during the design phase, remember that only one partition can be used as the data source.</span></span> <span data-ttu-id="7f796-148">По умолчанию первая созданная секция будет использована в качестве секции Direct Query.</span><span class="sxs-lookup"><span data-stu-id="7f796-148">By default the first partition you created will be used as the DirectQuery partition.</span></span><br /><br /> <span data-ttu-id="7f796-149">Чтобы убедиться в том, что все данные, необходимые для модели, доступны из секции DirectQuery, выберите раздел DirectQuery и измените инструкцию SQL так, чтобы извлекался полный набор данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-149">To ensure that all the data required by the model is available from the DirectQuery partition, choose a DirectQuery partition and edit the SQL statement to get the entire data set.</span></span>|  
|<span data-ttu-id="7f796-150">**Гибридный режим**</span><span class="sxs-lookup"><span data-stu-id="7f796-150">**Hybrid mode**</span></span>|<span data-ttu-id="7f796-151">Если хотя бы одна таблица в модели содержит множество секций, то необходимо выбрать одну из них в качестве источника для запросов в режиме *DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="7f796-151">If any table in your model has multiple partitions, you must choose a single partition as the *DirectQuery partition*.</span></span> <span data-ttu-id="7f796-152">Если не назначить секцию по умолчанию, то в качестве секции DirectQuery будет использована первая созданная секция.</span><span class="sxs-lookup"><span data-stu-id="7f796-152">If you do not assign a partition, by default, the first partition that was created will be used as the DirectQuery partition.</span></span><br /><br /> <span data-ttu-id="7f796-153">Установите параметры обработки для всех секций, кроме секции DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-153">Set processing options on all partitions except the DirectQuery.</span></span> <span data-ttu-id="7f796-154">Обычно раздел DirectQuery никогда не обрабатывается, поскольку данные передаются от реляционного источника данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-154">Typically the DirectQuery partition is never processed, because the data is passed through from the relational source.</span></span><br /><br /> <span data-ttu-id="7f796-155">Дополнительные сведения см. в [разделах partitions и режим DirectQuery &#40;табличные&#41;SSAS ](tabular-models/define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="7f796-155">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](tabular-models/define-partitions-in-directquery-models-ssas-tabular.md).</span></span>|  
  
 <span data-ttu-id="7f796-156">**Шаг 6. Настройка олицетворения**</span><span class="sxs-lookup"><span data-stu-id="7f796-156">**Step 6. Configure impersonation**</span></span>  
  
 <span data-ttu-id="7f796-157">Олицетворение поддерживается только для моделей DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-157">Impersonation is supported only for DirectQuery models.</span></span> <span data-ttu-id="7f796-158">**Параметры олицетворения**определяют учетные данные, которые будут использоваться при просмотре данных, полученных от заданного источника данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f796-158">The impersonation option, **Impersonation Settings**, defines the credentials that are used when viewing data from the specified SQL Server data source.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7f796-159">**Только DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-159">**DirectQuery only**</span></span>|<span data-ttu-id="7f796-160">Для свойства  **Параметры олицетворения** укажите учетную запись, которая будет использоваться для подключения к источнику данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f796-160">For the  **Impersonation Settings** property, specify the account that will be used to connect to the SQL Server data source.</span></span><br /><br /> <span data-ttu-id="7f796-161">При использовании значения **ImpersonateCurrentUser**экземпляр служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , в котором размещена модель, передаст учетные данные текущего пользователя модели в базу данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f796-161">If you use the value, **ImpersonateCurrentUser**, the instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] that hosts the model will pass the credentials of the current user of the model to the SQL Server database.</span></span>|  
|<span data-ttu-id="7f796-162">**Гибридный режим**</span><span class="sxs-lookup"><span data-stu-id="7f796-162">**Hybrid mode**</span></span>|<span data-ttu-id="7f796-163">Задайте для свойства **Параметры олицетворения** учетную запись, которая будет использоваться для доступа к источнику данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f796-163">For the **Impersonation Settings** property, specify the account that will be used to access the data in the SQL Server data source.</span></span><br /><br /> <span data-ttu-id="7f796-164">Этот параметр не отражается на учетных данных, которые используются для обработки кэша моделью.</span><span class="sxs-lookup"><span data-stu-id="7f796-164">This setting does not affect the credentials that are used to process the cache used by the model.</span></span>|  
  
 <span data-ttu-id="7f796-165">**Шаг 7. Развертывание модели**</span><span class="sxs-lookup"><span data-stu-id="7f796-165">**Step 7. Deploy the model**</span></span>  
  
 <span data-ttu-id="7f796-166">Когда вы будете готовы развернуть модель, откройте меню **проект** Visual Studio и выберите пункт **свойства**.</span><span class="sxs-lookup"><span data-stu-id="7f796-166">When you are ready to deploy the model, open the **Project** menu of Visual Studio, and select **Properties**.</span></span> <span data-ttu-id="7f796-167">Установите свойство **QueryMode** в одно из значений, описанных в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="7f796-167">Set the **QueryMode** property to one of the values described in the following table:</span></span>  
  
 <span data-ttu-id="7f796-168">Дополнительные сведения см. [в разделе Развертывание из SQL Server Data Tools &#40;табличных&#41;SSAS ](tabular-models/deploy-from-sql-server-data-tools-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="7f796-168">For more information, see [Deploy From SQL Server Data Tools &#40;SSAS Tabular&#41;](tabular-models/deploy-from-sql-server-data-tools-ssas-tabular.md).</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7f796-169">**Только DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-169">**DirectQuery only**</span></span>|<span data-ttu-id="7f796-170">**DirectQueryOnly**</span><span class="sxs-lookup"><span data-stu-id="7f796-170">**DirectQueryOnly**</span></span><br /><br /> <span data-ttu-id="7f796-171">Поскольку был задан режим только Direct Query, метаданные модели развертываются на сервере, однако сама модель не обрабатывается.</span><span class="sxs-lookup"><span data-stu-id="7f796-171">Because you have specified Direct Query only, the metadata of the model is deployed to the server, but the model is not processed.</span></span><br /><br /> <span data-ttu-id="7f796-172">Обратите внимание, что после развертывания модели кэш, используемый базой данных рабочей области, не удаляется автоматически.</span><span class="sxs-lookup"><span data-stu-id="7f796-172">Note that the cache that was used by the workspace database is not automatically deleted.</span></span> <span data-ttu-id="7f796-173">Если вы не хотите, чтобы пользователи имели доступ к кэшированным данным, можно очистить кэш, использовавшийся во время разработки.</span><span class="sxs-lookup"><span data-stu-id="7f796-173">If you want to ensure that users are not able to see the cached data, you might wish to clear the design-time cache.</span></span> <span data-ttu-id="7f796-174">Дополнительные сведения см. [в разделе очистка Analysis Services кэшей](instances/clear-the-analysis-services-caches.md).</span><span class="sxs-lookup"><span data-stu-id="7f796-174">For more information, see [Clear the Analysis Services Caches](instances/clear-the-analysis-services-caches.md).</span></span>|  
|<span data-ttu-id="7f796-175">**Гибридный режим**</span><span class="sxs-lookup"><span data-stu-id="7f796-175">**Hybrid mode**</span></span>|<span data-ttu-id="7f796-176">**DirectQuery и в памяти**</span><span class="sxs-lookup"><span data-stu-id="7f796-176">**DirectQuery with In-Memory**</span></span><br /><br /> <span data-ttu-id="7f796-177">**В памяти с DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-177">**In-Memory with DirectQuery**</span></span><br /><br /> <span data-ttu-id="7f796-178">Оба этих значения позволяют при необходимости использовать либо кэш, либо реляционный источник данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-178">Both of these values allow you to use either the cache or the relational data source as necessary.</span></span> <span data-ttu-id="7f796-179">Этот порядок определяет, какой источник данных используется по умолчанию при ответе на запросы к модели.</span><span class="sxs-lookup"><span data-stu-id="7f796-179">The order defines which data source is used by default when answering queries against the model.</span></span><br /><br /> <span data-ttu-id="7f796-180">В гибридном режиме кэш должен обрабатываться одновременно с развертыванием метаданных модели на сервере.</span><span class="sxs-lookup"><span data-stu-id="7f796-180">In a hybrid mode, the cache must be processed at the same time that the model metadata is deployed to the server.</span></span><br /><br /> <span data-ttu-id="7f796-181">Этот параметр можно изменить после развертывания.</span><span class="sxs-lookup"><span data-stu-id="7f796-181">You can change this setting after deployment.</span></span>|  
  
 <span data-ttu-id="7f796-182">**Шаг 8. Проверка развернутой модели**</span><span class="sxs-lookup"><span data-stu-id="7f796-182">**Step 8. Verify deployed model**</span></span>  
  
 <span data-ttu-id="7f796-183">В среде [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]откройте экземпляр служб [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , на котором развернута модель.</span><span class="sxs-lookup"><span data-stu-id="7f796-183">In [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)], open the instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] where you deployed the model.</span></span> <span data-ttu-id="7f796-184">Щелкните правой кнопкой мыши имя базы данных и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="7f796-184">Right-click the name of the database and select **Properties**.</span></span>  
  
-   <span data-ttu-id="7f796-185">Значение свойства **DirectQueryMode**было установлено при определении свойств развертывания.</span><span class="sxs-lookup"><span data-stu-id="7f796-185">The property, **DirectQueryMode**, was set when you defined the deployment properties.</span></span>  
  
-   <span data-ttu-id="7f796-186">Значение свойства **Сведения об олицетворении источника данных**было установлено при определении параметров олицетворения пользователя.</span><span class="sxs-lookup"><span data-stu-id="7f796-186">The property, **Data Source Impersonation Info**, was set when you defined the user impersonation options.</span></span> <span data-ttu-id="7f796-187">Дополнительные сведения см. в разделе [Задание параметров олицетворения (многомерная база данных SSAS)](multidimensional-models/set-impersonation-options-ssas-multidimensional.md).</span><span class="sxs-lookup"><span data-stu-id="7f796-187">For more information, see [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](multidimensional-models/set-impersonation-options-ssas-multidimensional.md).</span></span>  
  
-   <span data-ttu-id="7f796-188">Эти свойства можно изменить в любое время после развертывания модели.</span><span class="sxs-lookup"><span data-stu-id="7f796-188">You can change these properties any time after the model has been deployed.</span></span>  
  
##  <a name="comparing-directquery-options"></a><a name="bkmk_Configurations"></a><span data-ttu-id="7f796-189">Сравнение параметров DirectQuery</span><span class="sxs-lookup"><span data-stu-id="7f796-189">Comparing DirectQuery Options</span></span>  
 <span data-ttu-id="7f796-190">**Только DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-190">**DirectQuery Only**</span></span>  
 <span data-ttu-id="7f796-191">Этот режим предпочтителен, когда требуется гарантировать использование единственного источника данных либо когда объем данных слишком велик для размещения в памяти.</span><span class="sxs-lookup"><span data-stu-id="7f796-191">This option is preferred when you want to guarantee a single source of data, or when your data is too large to fit in memory.</span></span> <span data-ttu-id="7f796-192">При работе с очень большим источником реляционных данных во время разработки такую модель можно создать на основе некоторого подмножества данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-192">If you are working with a very large relational data source, during design time you can create the model by using some subset of the data.</span></span> <span data-ttu-id="7f796-193">При развертывании модели в режиме «только DirectQuery» можно изменить определение источника данных так, чтобы он включал все требуемые данные.</span><span class="sxs-lookup"><span data-stu-id="7f796-193">When you deploy the model in DirectQuery only mode, you can edit the data source definition to include all the required data.</span></span>  
  
 <span data-ttu-id="7f796-194">Этот режим также предпочтителен, если вы хотите использовать возможности безопасности, предоставляемые в реляционном источнике данных и предназначенные для контроля доступа пользователей к данным.</span><span class="sxs-lookup"><span data-stu-id="7f796-194">This option is also preferred if you want to use the security provided by the relational data source to control user access to data.</span></span> <span data-ttu-id="7f796-195">При использовании кэшированных табличных моделей можно также использовать роли [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] для контроля доступа к данным, однако при этом необходимо обеспечить защиту данных, сохраненных в кэше.</span><span class="sxs-lookup"><span data-stu-id="7f796-195">With cached tabular models, you can also use [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] roles to control data access, but the data stored in the cache must also be secured.</span></span> <span data-ttu-id="7f796-196">Этот режим необходимо использовать всегда, когда в контексте безопасности не допускается кэширование данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-196">You should always use this option if your security context requires that data should never be cached.</span></span>  
  
 <span data-ttu-id="7f796-197">В следующей таблице показаны возможные результаты развертывания с использованием режима «только DirectQuery».</span><span class="sxs-lookup"><span data-stu-id="7f796-197">The following table describes the possible deployment outcomes for DirectQuery only mode:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7f796-198">**DirectQuery без кэширования**</span><span class="sxs-lookup"><span data-stu-id="7f796-198">**DirectQuery with no cache**</span></span>|<span data-ttu-id="7f796-199">Данные в кэш не загружаются.</span><span class="sxs-lookup"><span data-stu-id="7f796-199">No data is loaded into the cache.</span></span> <span data-ttu-id="7f796-200">Модель не может быть обработана.</span><span class="sxs-lookup"><span data-stu-id="7f796-200">The model can never be processed.</span></span><br /><br /> <span data-ttu-id="7f796-201">Запросы к модели могут выполняться только с помощью клиентов, поддерживающих запросы DAX.</span><span class="sxs-lookup"><span data-stu-id="7f796-201">The model can only be queried by using clients that support DAX queries.</span></span> <span data-ttu-id="7f796-202">Результаты запроса всегда возвращаются из исходного источника данных.</span><span class="sxs-lookup"><span data-stu-id="7f796-202">Query results are always returned from the original data source.</span></span><br /><br /> <span data-ttu-id="7f796-203">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="7f796-203">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="7f796-204">**QueryMode**  =  **DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-204">**QueryMode** = **DirectQuery**</span></span>|  
|<span data-ttu-id="7f796-205">**DirectQuery с запросами только данных кэша**</span><span class="sxs-lookup"><span data-stu-id="7f796-205">**DirectQuery with queries against cache only**</span></span>|<span data-ttu-id="7f796-206">Развертывание завершается с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="7f796-206">Deployment fails.</span></span> <span data-ttu-id="7f796-207">Такая конфигурация не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="7f796-207">This configuration is not supported.</span></span><br /><br /> <span data-ttu-id="7f796-208">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="7f796-208">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="7f796-209">**QueryMode**  =  **В памяти**</span><span class="sxs-lookup"><span data-stu-id="7f796-209">**QueryMode** = **In-Memory**</span></span>|  
  
 <span data-ttu-id="7f796-210">**Гибридный режим**</span><span class="sxs-lookup"><span data-stu-id="7f796-210">**Hybrid mode**</span></span>  
 <span data-ttu-id="7f796-211">Развертывание модели в гибридом режиме обладает многочисленными преимуществами: при необходимости из источника данных SQL Server можно получить самые последние данные, однако сохраненный кэш позволяет работать с данными в памяти, обеспечивая более высокую производительность при разработке отчетов или проверке модели.</span><span class="sxs-lookup"><span data-stu-id="7f796-211">Deploying your model in a hybrid mode has many advantages: you can get up-to-date data from the SQL Server data source if needed, but preserving the cache gives you the ability to work with data in memory for faster performance while designing reports or testing the model.</span></span>  
  
 <span data-ttu-id="7f796-212">Гибридный режим DirectQuery также полезен при работе с очень большой моделью.</span><span class="sxs-lookup"><span data-stu-id="7f796-212">A DirectQuery hybrid mode is also useful if your model is very large.</span></span> <span data-ttu-id="7f796-213">Во время обработки можно переключить модель в режим DirectQuery, чтобы пользователи не получали устаревшие данные и имели доступ к модели при обработке кэша.</span><span class="sxs-lookup"><span data-stu-id="7f796-213">Rather than have users get stale data or have the model be unavailable while the cache is processed, you can switch the model to DirectQuery mode while processing is in progress.</span></span> <span data-ttu-id="7f796-214">Пользователи могут почувствовать небольшое снижение в производительности, однако они смогут получать самые последние данные напрямую из реляционного хранилища.</span><span class="sxs-lookup"><span data-stu-id="7f796-214">Users might experience slightly slower performance but they would be able to get data directly from the relational store, ensuring that results were up-to-date.</span></span>  
  
 <span data-ttu-id="7f796-215">В следующей таблице выполняется сравнение результатов развертывания с каждым из сочетаний параметров, использованных в режиме DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="7f796-215">The following table compares the deployment outcome in each of the combinations of DirectQuery options.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7f796-216">**Задано предпочтение гибридного режима с кэшем**</span><span class="sxs-lookup"><span data-stu-id="7f796-216">**Hybrid mode with cache preferred**</span></span>|<span data-ttu-id="7f796-217">Модель может обрабатываться, а данные могут загружаться в кэш.</span><span class="sxs-lookup"><span data-stu-id="7f796-217">The model can be processed and data can be loaded into the cache.</span></span> <span data-ttu-id="7f796-218">В запросах по умолчанию используется кэш.</span><span class="sxs-lookup"><span data-stu-id="7f796-218">Queries use the cache by default.</span></span>  <span data-ttu-id="7f796-219">Если клиенту необходимо использовать источник DirectQuery, в строку подключения необходимо вставить параметр.</span><span class="sxs-lookup"><span data-stu-id="7f796-219">If a client wants to use the DirectQuery source, a parameter must be inserted in the connection string.</span></span><br /><br /> <span data-ttu-id="7f796-220">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="7f796-220">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="7f796-221">**QueryMode**  =  **В памяти с DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-221">**QueryMode** = **In-Memory with DirectQuery**</span></span>|  
|<span data-ttu-id="7f796-222">**Задано предпочтение гибридного режима с DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="7f796-222">**Hybrid mode with DirectQuery preferred**</span></span>|<span data-ttu-id="7f796-223">Модель обрабатывается, а данные могут загружаться в кэш.</span><span class="sxs-lookup"><span data-stu-id="7f796-223">The model is processed and data can be loaded into the cache.</span></span> <span data-ttu-id="7f796-224">Тем не менее запросы используют DirectQuery по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7f796-224">However, queries use DirectQuery by default.</span></span> <span data-ttu-id="7f796-225">Если клиенту необходимо использовать кэшированные данные, в строку подключения необходимо вставить параметр.</span><span class="sxs-lookup"><span data-stu-id="7f796-225">If a client wants to use the cached data, a parameter must be inserted in the connection string.</span></span> <span data-ttu-id="7f796-226">Если таблицы в модели секционированы, главная секция кэша данных также устанавливается в режим **В памяти с DirectQuery**.</span><span class="sxs-lookup"><span data-stu-id="7f796-226">If the tables in the model are partitioned, the principal partition of the cache is also set to **In-Memory with DirectQuery**.</span></span><br /><br /> <span data-ttu-id="7f796-227">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="7f796-227">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="7f796-228">**QueryMode**  =  **DirectQuery с нав памяти**</span><span class="sxs-lookup"><span data-stu-id="7f796-228">**QueryMode** = **DirectQuery with In-Memory**</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="7f796-229">См. также:</span><span class="sxs-lookup"><span data-stu-id="7f796-229">See Also</span></span>  
 <span data-ttu-id="7f796-230">[Режим DirectQuery &#40;табличные&#41;SSAS](tabular-models/directquery-mode-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="7f796-230">[DirectQuery Mode &#40;SSAS Tabular&#41;](tabular-models/directquery-mode-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="7f796-231">Доступ к данным табличной модели</span><span class="sxs-lookup"><span data-stu-id="7f796-231">Tabular Model Data Access</span></span>](tabular-models/tabular-model-data-access.md)  
  
  

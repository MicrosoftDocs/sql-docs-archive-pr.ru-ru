---
title: Резервное копирование, восстановление и синхронизация баз данных (XMLA) | Документация Майкрософт
ms.custom: ''
ms.date: 04/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- restoring databases [XML for Analysis]
- backing up databases [XML for Analysis]
- database backups [XML for Analysis]
- synchronization [XML for Analysis]
- database restores [XML for Analysis]
ms.assetid: 6c021b2e-6ad0-444e-b23f-4b5f72ce084b
author: minewiskan
ms.author: owend
ms.openlocfilehash: 500435a585ffed84a8f16e2b3bd1c4db14509103
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87728910"
---
# <a name="backing-up-restoring-and-synchronizing-databases-xmla"></a><span data-ttu-id="9a706-102">Резервное копирование, восстановление и синхронизация баз данных (XMLA)</span><span class="sxs-lookup"><span data-stu-id="9a706-102">Backing Up, Restoring, and Synchronizing Databases (XMLA)</span></span>
  <span data-ttu-id="9a706-103">В XML для аналитики есть три команды для резервного копирования, восстановления и синхронизации баз данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-103">In XML for Analysis, there are three commands that back up, restore, and synchronize databases:</span></span>  
  
-   <span data-ttu-id="9a706-104">Команда [BACKUP](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) создает резервную копию [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] базы данных с помощью [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] файла резервной копии (ABF), как описано в разделе [резервное копирование баз данных](#backing_up_databases).</span><span class="sxs-lookup"><span data-stu-id="9a706-104">The [Backup](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) command backs up a [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database using an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] backup file (.abf), as described in the section, [Backing Up Databases](#backing_up_databases).</span></span>  
  
-   <span data-ttu-id="9a706-105">Команда [RESTORE](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) восстанавливает [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] базу данных из ABF файла, как описано в разделе [восстановление баз данных](#restoring_databases).</span><span class="sxs-lookup"><span data-stu-id="9a706-105">The [Restore](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) command restores an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database from an .abf file, as described in the section, [Restoring Databases](#restoring_databases).</span></span>  
  
-   <span data-ttu-id="9a706-106">Команда [Synchronize](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) синхронизирует одну [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] базу данных с данными и метаданными другой базы данных, как описано в разделе [Синхронизация баз данных](#synchronizing_databases).</span><span class="sxs-lookup"><span data-stu-id="9a706-106">The [Synchronize](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) command synchronizes one [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database with the data and metadata of another database, as described in the section, [Synchronizing Databases](#synchronizing_databases).</span></span>  
  
##  <a name="backing-up-databases"></a><a name="backing_up_databases"></a><span data-ttu-id="9a706-107">Резервное копирование баз данных</span><span class="sxs-lookup"><span data-stu-id="9a706-107">Backing Up Databases</span></span>  
 <span data-ttu-id="9a706-108">Как уже отмечалось, команда `Backup` выполняет резервное копирование указанной базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] в файл резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-108">As mentioned earlier, the `Backup` command backs up a specified [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to a backup file.</span></span> <span data-ttu-id="9a706-109">Команда `Backup` имеет различные свойства, позволяющие указывать базу данных для резервного копирования, файл резервной копии, способ резервного копирования определений безопасности и удаленные секции для резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="9a706-109">The `Backup` command has various properties that let you specify the database to be backed up, the backup file to use, how to back up security definitions, and the remote partitions to be backed up.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9a706-110">У учетной записи служб Analysis Services должны быть разрешения на запись в папку резервного копирования, заданную для каждого из файлов.</span><span class="sxs-lookup"><span data-stu-id="9a706-110">The Analysis Services service account must have permission to write to the backup location specified for each file.</span></span> <span data-ttu-id="9a706-111">Кроме того, пользователь должен быть членом одной из следующих ролей: роли администратора в экземпляре служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или роли базы данных с разрешениями «Полный доступ (Администратор)» в базе данных, для которой создается резервная копия.</span><span class="sxs-lookup"><span data-stu-id="9a706-111">Also, the user must have one of the following roles: administrator role on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, or a member of a database role with Full Control (Administrator) permissions on the database to be backed up.</span></span>  
  
### <a name="specifying-the-database-and-backup-file"></a><span data-ttu-id="9a706-112">Задание базы данных и файла резервной копии</span><span class="sxs-lookup"><span data-stu-id="9a706-112">Specifying the Database and Backup File</span></span>  
 <span data-ttu-id="9a706-113">Чтобы указать базу данных для резервного копирования, необходимо задать свойство [объекта](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) `Backup` команды.</span><span class="sxs-lookup"><span data-stu-id="9a706-113">To specify the database to be backed up, you set the [Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) property of the `Backup` command.</span></span> <span data-ttu-id="9a706-114">Свойство `Object` должно содержать идентификатор объекта для базы данных; в противном случае возникнет ошибка.</span><span class="sxs-lookup"><span data-stu-id="9a706-114">The `Object` property must contain an object identifier for a database, or an error occurs.</span></span>  
  
 <span data-ttu-id="9a706-115">Чтобы указать файл, который будет создан и использован процессом резервного копирования, необходимо задать свойство [File](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/file-element-xmla) `Backup` команды.</span><span class="sxs-lookup"><span data-stu-id="9a706-115">To specify the file that is to be created and used by the backup process, you set the [File](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/file-element-xmla) property of the `Backup` command.</span></span> <span data-ttu-id="9a706-116">Свойству `File` должен быть задан путь в формате UNC и имя для создаваемого файла резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-116">The `File` property should be set to a UNC path and file name for the backup file to be created.</span></span>  
  
 <span data-ttu-id="9a706-117">Помимо указания файла, в который будет произведено резервирование, для него также можно задать следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="9a706-117">Besides specifying which file to use for backup, you can set the following options for the specified backup file:</span></span>  
  
-   <span data-ttu-id="9a706-118">Если для свойства [AllowOverwrite](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/allowoverwrite-element-xmla) задано значение true, `Backup` команда перезаписывает файл резервной копии, если указанный файл уже существует.</span><span class="sxs-lookup"><span data-stu-id="9a706-118">If you set the [AllowOverwrite](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/allowoverwrite-element-xmla) property to true, the `Backup` command overwrites the backup file if the specified file already exists.</span></span> <span data-ttu-id="9a706-119">Если свойству `AllowOverwrite` задать значение FALSE, то в случае существования указанного файла резервной копии возникнет ошибка.</span><span class="sxs-lookup"><span data-stu-id="9a706-119">If you set the `AllowOverwrite` property to false, an error occurs if the specified backup file already exists.</span></span>  
  
-   <span data-ttu-id="9a706-120">Если для свойства [ApplyCompression](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/applycompression-element-xmla) задано значение true, файл резервной копии сжимается после создания файла.</span><span class="sxs-lookup"><span data-stu-id="9a706-120">If you set the [ApplyCompression](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/applycompression-element-xmla) property to true, the backup file is compressed after the file is created.</span></span>  
  
-   <span data-ttu-id="9a706-121">Если для свойства [Password](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/password-element-xmla) задано любое непустое значение, файл резервной копии шифруется с использованием указанного пароля.</span><span class="sxs-lookup"><span data-stu-id="9a706-121">If you set the [Password](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/password-element-xmla) property to any non-blank value, the backup file is encrypted by using the specified password.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="9a706-122">Если свойства `ApplyCompression` и `Password` не заданы, то в файле резервной копии имена пользователей и пароли, содержащиеся в строках соединений, будут сохранены в виде открытого текста.</span><span class="sxs-lookup"><span data-stu-id="9a706-122">If `ApplyCompression` and `Password` properties are not specified, the backup file stores user names and passwords that are contained in connection strings in clear text.</span></span> <span data-ttu-id="9a706-123">Данные, хранящиеся в виде открытого текста, можно извлечь.</span><span class="sxs-lookup"><span data-stu-id="9a706-123">Data that is stored in clear text may be retrieved.</span></span> <span data-ttu-id="9a706-124">Чтобы обеспечить более высокий уровень безопасности, можно использовать параметры `ApplyCompression` и `Password` для сжатия и шифрования файла резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-124">For increased security, use the `ApplyCompression` and `Password` settings to both compress and encrypt the backup file.</span></span>  
  
### <a name="backing-up-security-settings"></a><span data-ttu-id="9a706-125">Резервное копирование параметров безопасности</span><span class="sxs-lookup"><span data-stu-id="9a706-125">Backing Up Security Settings</span></span>  
 <span data-ttu-id="9a706-126">Свойство [безопасности](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla) определяет, будет ли `Backup` команда создавать резервные копии определений безопасности, таких как роли и разрешения, определенные в [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] базе данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-126">The [Security](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla) property determines whether the `Backup` command backs up the security definitions, such as roles and permissions, defined on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="9a706-127">Свойство `Security` также указывает, будут ли учетные записи пользователей и группы Windows, определенные как члены определений безопасности, включены в файл резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-127">The `Security` property also determines whether the backup file includes the Windows user accounts and groups defined as members of the security definitions.</span></span>  
  
 <span data-ttu-id="9a706-128">Значением свойства `Security` может быть только одна из строк в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="9a706-128">The value of the `Security` property is limited to one of the strings listed in the following table.</span></span>  
  
|<span data-ttu-id="9a706-129">Значение</span><span class="sxs-lookup"><span data-stu-id="9a706-129">Value</span></span>|<span data-ttu-id="9a706-130">Описание</span><span class="sxs-lookup"><span data-stu-id="9a706-130">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="9a706-131">*SkipMembership*</span><span class="sxs-lookup"><span data-stu-id="9a706-131">*SkipMembership*</span></span>|<span data-ttu-id="9a706-132">Включает определения безопасности, но исключает сведения о членстве из файла резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-132">Include security definitions, but exclude membership information, in the backup file.</span></span>|  
|<span data-ttu-id="9a706-133">*CopyAll*</span><span class="sxs-lookup"><span data-stu-id="9a706-133">*CopyAll*</span></span>|<span data-ttu-id="9a706-134">Включает определения безопасности и сведения о членстве в файл резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-134">Include security definitions and membership information in the backup file.</span></span>|  
|<span data-ttu-id="9a706-135">*IgnoreSecurity*</span><span class="sxs-lookup"><span data-stu-id="9a706-135">*IgnoreSecurity*</span></span>|<span data-ttu-id="9a706-136">Исключает определения безопасности из файла резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-136">Exclude security definitions from the backup file.</span></span>|  
  
### <a name="backing-up-remote-partitions"></a><span data-ttu-id="9a706-137">Резервирование удаленных секций</span><span class="sxs-lookup"><span data-stu-id="9a706-137">Backing Up Remote Partitions</span></span>  
 <span data-ttu-id="9a706-138">Чтобы создать резервную копию удаленных секций в [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] базе данных, [BackupRemotePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/backupremotepartitions-element-xmla) задайте для свойства BackupRemotePartitions `Backup` команды значение true.</span><span class="sxs-lookup"><span data-stu-id="9a706-138">To back up remote partitions in the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, you set the [BackupRemotePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/backupremotepartitions-element-xmla) property of the `Backup` command to true.</span></span> <span data-ttu-id="9a706-139">C этим параметром команда `Backup` создает удаленный файл резервной копии для каждого удаленного источника данных, который используется для хранения удаленных секций базы данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-139">This setting causes the `Backup` command to create a remote backup file for each remote data source that is used to store remote partitions for the database.</span></span>  
  
 <span data-ttu-id="9a706-140">Для каждого удаленного источника данных, для которого создается резервная копия, можно указать соответствующий файл резервной копии, включив элемент [Location](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/location-element-xmla) в свойство [Locations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/locations-element-xmla) `Backup` команды.</span><span class="sxs-lookup"><span data-stu-id="9a706-140">For each remote data source to be backed up, you can specify its corresponding backup file by including a [Location](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/location-element-xmla) element in the [Locations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/locations-element-xmla) property of the `Backup` command.</span></span> <span data-ttu-id="9a706-141">`Location`Свойству элемента должно быть `File` присвоено UNC-путь и имя файла удаленного файла резервной копии, а свойству [DataSourceID](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/id-element-xmla) — идентификатор удаленного источника данных, определенного в базе данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-141">The `Location` element should have its `File` property set to the UNC path and file name of the remote backup file, and its [DataSourceID](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/id-element-xmla) property set to the identifier of the remote data source defined in the database.</span></span>  
  
##  <a name="restoring-databases"></a><a name="restoring_databases"></a><span data-ttu-id="9a706-142">Восстановление баз данных</span><span class="sxs-lookup"><span data-stu-id="9a706-142">Restoring Databases</span></span>  
 <span data-ttu-id="9a706-143">Команда `Restore` восстанавливает указанную базу данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] из файла резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-143">The `Restore` command restores a specified [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database from a backup file.</span></span> <span data-ttu-id="9a706-144">Команда `Restore` имеет различные свойства, позволяющие указывать базу данных для восстановления, файл резервной копии, метод восстановления определений безопасности, удаленные секции для хранения и объекты перемещения реляционной OLAP (ROLAP).</span><span class="sxs-lookup"><span data-stu-id="9a706-144">The `Restore` command has various properties that let you specify the database to restore, the backup file to use, how to restore security definitions, the remote partitions to be stored, and the relocation relational OLAP (ROLAP) objects.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9a706-145">Пользователь, выполняющий команду восстановления, должен иметь разрешение на чтение из папки резервного копирования, указанной для каждого восстанавливаемого файла.</span><span class="sxs-lookup"><span data-stu-id="9a706-145">For each backup file, the user who runs the restore command must have permission to read from the backup location specified for each file.</span></span> <span data-ttu-id="9a706-146">Чтобы восстановить базу данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , которая не установлена на сервере, пользователь также должен быть членом роли сервера для этого экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9a706-146">To restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database that is not installed on the server, the user must also be a member of the server role for that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="9a706-147">Чтобы перезаписать базу данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], пользователь должен входить в одну из следующих ролей: член роли сервера для экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или член роли базы данных с разрешениями «Полный доступ» («Администратор») в восстанавливаемой базе данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-147">To overwrite an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, the user must have one of the following roles: a member of the server role for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance or a member of a database role with Full Control (Administrator) permissions on the database to be restored.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9a706-148">После восстановления существующей базы данных пользователь, выполнявший восстановление, может утратить доступ к этой базе данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-148">After restoring an existing database, the user who restored the database might lose access to the restored database.</span></span> <span data-ttu-id="9a706-149">Потеря доступа может произойти в случае, если на время создания резервной копии этот пользователь не был членом роли сервера и роли базы данных с разрешением «Полный доступ (Администратор)».</span><span class="sxs-lookup"><span data-stu-id="9a706-149">This loss of access can occur if, at the time that the backup was performed, the user was not a member of the server role or was not a member of the database role with Full Control (Administrator) permissions.</span></span>  
  
### <a name="specifying-the-database-and-backup-file"></a><span data-ttu-id="9a706-150">Задание базы данных и файла резервной копии</span><span class="sxs-lookup"><span data-stu-id="9a706-150">Specifying the Database and Backup File</span></span>  
 <span data-ttu-id="9a706-151">Свойство `DatabaseName` команды `Restore` должно содержать идентификатор объекта для базы данных, в противном случае возникнет ошибка.</span><span class="sxs-lookup"><span data-stu-id="9a706-151">The `DatabaseName` property of the `Restore` command must contain an object identifier for a database, or an error occurs.</span></span> <span data-ttu-id="9a706-152">Если указанная база данных уже существует, свойство `AllowOverwrite` определяет, будет ли она перезаписана.</span><span class="sxs-lookup"><span data-stu-id="9a706-152">If the specified database already exists, the `AllowOverwrite` property determines whether the existing database is overwritten.</span></span> <span data-ttu-id="9a706-153">Если свойство `AllowOverwrite` имеет значение FALSE, а указанная база данных уже существует, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="9a706-153">If the `AllowOverwrite` property is set to false and the specified database already exists, an error occurs.</span></span>  
  
 <span data-ttu-id="9a706-154">Свойству `File` команды `Restore` следует задать путь в формате UNC и имя файла резервной копии, из которого будет восстановлена указанная база данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-154">You should set the `File` property of the `Restore` command to a UNC path and file name for the backup file to be restored to the specified database.</span></span> <span data-ttu-id="9a706-155">Для выбранного файла резервной копии также можно задать свойство `Password`.</span><span class="sxs-lookup"><span data-stu-id="9a706-155">You can also set the `Password` property for the specified backup file.</span></span> <span data-ttu-id="9a706-156">Если свойство `Password` имеет любое непустое значение, файл резервной копии будет расшифрован при помощи указанного пароля.</span><span class="sxs-lookup"><span data-stu-id="9a706-156">If the `Password` property is set to any non-blank value, the backup file is decrypted by using the specified password.</span></span> <span data-ttu-id="9a706-157">Если файл резервной копии не был расшифрован либо если указанный пароль не совпадает с паролем, использованным для шифрования файла резервной копии, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="9a706-157">If the backup file was not encrypted, or if the specified password does not match the password used to encrypt the backup file, an error occurs.</span></span>  
  
### <a name="restoring-security-settings"></a><span data-ttu-id="9a706-158">Восстановление параметров безопасности</span><span class="sxs-lookup"><span data-stu-id="9a706-158">Restoring Security Settings</span></span>  
 <span data-ttu-id="9a706-159">Свойство `Security` определяет, будет ли команда `Restore` восстанавливать определения безопасности, например роли и разрешения, определенные в базе данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9a706-159">The `Security` property determines whether the `Restore` command restores the security definitions, such as roles and permissions, defined on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="9a706-160">Свойство `Security` определяет также, будет ли команда `Restore` включать учетные записи пользователей и группы Windows, определенные как члены определений безопасности, в процесс восстановления.</span><span class="sxs-lookup"><span data-stu-id="9a706-160">The `Security` property also determines whether the `Restore` command includes the Windows user accounts and groups defined as members of the security definitions as part of the restore process.</span></span>  
  
 <span data-ttu-id="9a706-161">Значением этого элемента может быть только одна из строк в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="9a706-161">The value of this element is limited to one of the strings listed in the following table.</span></span>  
  
|<span data-ttu-id="9a706-162">Значение</span><span class="sxs-lookup"><span data-stu-id="9a706-162">Value</span></span>|<span data-ttu-id="9a706-163">Описание</span><span class="sxs-lookup"><span data-stu-id="9a706-163">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="9a706-164">*SkipMembership*</span><span class="sxs-lookup"><span data-stu-id="9a706-164">*SkipMembership*</span></span>|<span data-ttu-id="9a706-165">Включает определения безопасности, но исключает сведения о членстве из базы данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-165">Include security definitions, but exclude membership information, in the database.</span></span>|  
|<span data-ttu-id="9a706-166">*CopyAll*</span><span class="sxs-lookup"><span data-stu-id="9a706-166">*CopyAll*</span></span>|<span data-ttu-id="9a706-167">Включает определения безопасности и сведения о членстве в базу данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-167">Include security definitions and membership information in the database.</span></span>|  
|<span data-ttu-id="9a706-168">*IgnoreSecurity*</span><span class="sxs-lookup"><span data-stu-id="9a706-168">*IgnoreSecurity*</span></span>|<span data-ttu-id="9a706-169">Исключает определения безопасности из базы данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-169">Exclude security definitions from the database.</span></span>|  
  
### <a name="restoring-remote-partitions"></a><span data-ttu-id="9a706-170">Восстановление удаленных секций</span><span class="sxs-lookup"><span data-stu-id="9a706-170">Restoring Remote Partitions</span></span>  
 <span data-ttu-id="9a706-171">Можно восстановить удаленную секцию, связанную с каждым удаленным файлом резервной копии, который был создан при выполнении предыдущей команды `Backup`, включив элемент `Location` в свойство `Locations` команды `Restore`.</span><span class="sxs-lookup"><span data-stu-id="9a706-171">For each remote backup file created during a previous `Backup` command, you can restore its associated remote partition by including a `Location` element in the `Locations` property of the `Restore` command.</span></span> <span data-ttu-id="9a706-172">Свойство [DataSourceType](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/type-element-xmla) для каждого `Location` элемента должно быть исключено или явно установлено в значение *Remote*.</span><span class="sxs-lookup"><span data-stu-id="9a706-172">The [DataSourceType](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/type-element-xmla) property for each `Location` element must be excluded or explicitly set to *Remote*.</span></span>  
  
 <span data-ttu-id="9a706-173">По каждому элементу `Location` экземпляр служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] связывается с удаленным источником данных, указанным в свойстве `DataSourceID`, чтобы восстановить секции, определенные в удаленном файле резервной копии, который указан в свойстве `File`.</span><span class="sxs-lookup"><span data-stu-id="9a706-173">For each specified `Location` element, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance contacts the remote data source specified in the `DataSourceID` property to restore the partitions defined in the remote backup file specified in the `File` property.</span></span> <span data-ttu-id="9a706-174">Помимо свойств `DataSourceID` и `File`, для каждого элемента `Location`, используемого для восстановления удаленной секции, доступны следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="9a706-174">Besides the `DataSourceID` and `File` properties, the following properties are available for each `Location` element used to restore a remote partition:</span></span>  
  
-   <span data-ttu-id="9a706-175">Чтобы переопределить строку соединения для удаленного источника данных, указанного в свойстве `DataSourceID`, свойству `ConnectionString` элемента `Location` можно задать другую строку соединения.</span><span class="sxs-lookup"><span data-stu-id="9a706-175">To override the connection string for the remote data source specified in `DataSourceID`, you can set the `ConnectionString` property of the `Location` element to a different connection string.</span></span> <span data-ttu-id="9a706-176">В этом случае команда `Restore` будет использовать строку соединения, содержащуюся в свойстве `ConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="9a706-176">The `Restore` command will then use the connection string that is contained in the `ConnectionString` property.</span></span> <span data-ttu-id="9a706-177">Если свойство `ConnectionString` не задано, команда `Restore` будет использовать строку соединения, хранящуюся в файле резервной копии для указанного удаленного источника данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-177">If `ConnectionString` is not specified, the `Restore` command uses the connection string stored in the backup file for the specified remote data source.</span></span> <span data-ttu-id="9a706-178">Параметр `ConnectionString` можно использовать для перемещения удаленной секции в другой удаленный экземпляр.</span><span class="sxs-lookup"><span data-stu-id="9a706-178">You can use the `ConnectionString` setting to move a remote partition to a different remote instance.</span></span> <span data-ttu-id="9a706-179">Однако использовать параметр `ConnectionString` для восстановления удаленной секции в тот же экземпляр, который содержит восстановленную базу данных, невозможно.</span><span class="sxs-lookup"><span data-stu-id="9a706-179">However, you cannot use the `ConnectionString` setting to restore a remote partition to the same instance that contains the restored database.</span></span> <span data-ttu-id="9a706-180">Другими словами, свойство `ConnectionString` нельзя использовать для преобразования удаленной секции в локальную секцию.</span><span class="sxs-lookup"><span data-stu-id="9a706-180">In other words, you cannot use the `ConnectionString` property to make a remote partition into a local partition.</span></span>  
  
-   <span data-ttu-id="9a706-181">Для каждой исходной папки, используемой для хранения удаленных секций в удаленном источнике данных, можно указать элемент [Folder](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/folder-element-xmla) , указывающий новую папку, в которую будут восстанавливаться все удаленные секции, хранящиеся в исходной папке.</span><span class="sxs-lookup"><span data-stu-id="9a706-181">For each original folder used to store the remote partitions on the remote data source, you can specify a [Folder](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/folder-element-xmla) element to indicate the new folder in which to restore all the remote partitions stored in the original folder.</span></span> <span data-ttu-id="9a706-182">Если элемент `Folder` не задан, команда `Restore` использует первоначальные папки, указанные для удаленных секций, содержащихся в удаленном файле резервной копии.</span><span class="sxs-lookup"><span data-stu-id="9a706-182">If a `Folder` element is not specified, the `Restore` command uses the original folders specified for the remote partitions that are contained in the remote backup file.</span></span>  
  
### <a name="relocating-rolap-objects"></a><span data-ttu-id="9a706-183">Перемещение объектов ROLAP</span><span class="sxs-lookup"><span data-stu-id="9a706-183">Relocating ROLAP Objects</span></span>  
 <span data-ttu-id="9a706-184">Команда `Restore` не может восстанавливать агрегаты или данные для объектов, использующих режим хранения ROLAP, поскольку такие сведения в базовом реляционном источнике данных хранятся в таблицах.</span><span class="sxs-lookup"><span data-stu-id="9a706-184">The `Restore` command cannot restore aggregations or data for objects that use ROLAP storage because such information is stored in tables on an underlying relational data source.</span></span> <span data-ttu-id="9a706-185">Однако метаданные объектов ROLAP восстановить можно.</span><span class="sxs-lookup"><span data-stu-id="9a706-185">However, the metadata for ROLAP objects can be restored.</span></span> <span data-ttu-id="9a706-186">Чтобы восстановить метаданные объекта ROLAP, команда `Restore` создает повторно в реляционном источнике данных структуру таблицы.</span><span class="sxs-lookup"><span data-stu-id="9a706-186">To restore the metadata for ROLAP object, the `Restore` command re-creates the table structure on a relational data source.</span></span>  
  
 <span data-ttu-id="9a706-187">Элемент `Location` можно использовать в команде `Restore` для перемещения объектов ROLAP.</span><span class="sxs-lookup"><span data-stu-id="9a706-187">You can use the `Location` element in a `Restore` command to relocate ROLAP objects.</span></span> <span data-ttu-id="9a706-188">Для каждого `Location` элемента, используемого для перемещения источника данных, `DataSourceType` свойству необходимо явно присвоить значение *Local*.</span><span class="sxs-lookup"><span data-stu-id="9a706-188">For each `Location` element used to relocate a data source, the `DataSourceType` property must be explicitly set to *Local*.</span></span> <span data-ttu-id="9a706-189">Также необходимо задать строку подключения для нового расположения в свойстве `ConnectionString` элемента `Location`.</span><span class="sxs-lookup"><span data-stu-id="9a706-189">You also have to set the `ConnectionString` property of the `Location` element to the connection string of the new location.</span></span> <span data-ttu-id="9a706-190">Во время восстановления команда `Restore` заменит строку соединения для источника данных, определенного свойством `DataSourceID` элемента `Location`, на значение свойства `ConnectionString` элемента `Location`.</span><span class="sxs-lookup"><span data-stu-id="9a706-190">During the restore, the `Restore` command will replace the connection string for the data source identified by the `DataSourceID` property of the `Location` element with the value of the `ConnectionString` property of the `Location` element.</span></span>  
  
##  <a name="synchronizing-databases"></a><a name="synchronizing_databases"></a><span data-ttu-id="9a706-191">Синхронизация баз данных</span><span class="sxs-lookup"><span data-stu-id="9a706-191">Synchronizing Databases</span></span>  
 <span data-ttu-id="9a706-192">Команда `Synchronize` синхронизует данные и метаданные указанной базы данных служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] с другой базой данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-192">The `Synchronize` command synchronizes the data and metadata of a specified [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database with another database.</span></span> <span data-ttu-id="9a706-193">Команда `Synchronize` имеет различные свойства, позволяющие указывать базу данных-источник, метод синхронизации определений безопасности, удаленные секции для синхронизации и синхронизацию объектов ROLAP.</span><span class="sxs-lookup"><span data-stu-id="9a706-193">The `Synchronize` command has various properties that let you specify the source database, how to synchronize security definitions, the remote partitions to be synchronized, and the synchronization of ROLAP objects.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9a706-194">Выполнять команду `Synchronize` могут только администраторы серверов и баз данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-194">The `Synchronize` command can be executed only by server administrators and database administrators.</span></span> <span data-ttu-id="9a706-195">Исходная и целевая базы данных должны иметь одинаковый уровень совместимости.</span><span class="sxs-lookup"><span data-stu-id="9a706-195">Both the source and destination database must have the same database compatibility level.</span></span>  
  
### <a name="specifying-the-source-database"></a><span data-ttu-id="9a706-196">Указание базы данных-источника</span><span class="sxs-lookup"><span data-stu-id="9a706-196">Specifying the Source Database</span></span>  
 <span data-ttu-id="9a706-197">Свойство [Source](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/source-element-xmla) `Synchronize` команды содержит два свойства: `ConnectionString` и `Object` .</span><span class="sxs-lookup"><span data-stu-id="9a706-197">The [Source](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/source-element-xmla) property of the `Synchronize` command contains two properties, `ConnectionString` and `Object`.</span></span> <span data-ttu-id="9a706-198">Свойство `ConnectionString` содержит строку соединения экземпляра, в котором находится база данных-источник, а свойство `Object` содержит идентификатор объекта для базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="9a706-198">The `ConnectionString` property contains the connection string of the instance that contains the source database, and the `Object` property contains the object identifier for the source database.</span></span>  
  
 <span data-ttu-id="9a706-199">Целевой базой данных является текущая база данных в сеансе, в рамках которого выполняется команда `Synchronize`.</span><span class="sxs-lookup"><span data-stu-id="9a706-199">The destination database is the current database for the session in which the `Synchronize` command runs.</span></span>  
  
 <span data-ttu-id="9a706-200">Если свойству `ApplyCompression` команды `Synchronize` задано значение TRUE, сведения, отправляемые из базы данных-источника в целевую, сжимаются перед отправкой.</span><span class="sxs-lookup"><span data-stu-id="9a706-200">If the `ApplyCompression` property of the `Synchronize` command is set to true, the information sent from the source database to the destination database is compressed before being sent.</span></span>  
  
### <a name="synchronizing-security-settings"></a><span data-ttu-id="9a706-201">Синхронизация параметров безопасности</span><span class="sxs-lookup"><span data-stu-id="9a706-201">Synchronizing Security Settings</span></span>  
 <span data-ttu-id="9a706-202">Свойство [SynchronizeSecurity](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla) определяет, будет ли `Synchronize` команда синхронизировать определения безопасности, такие как роли и разрешения, определенные в базе данных источника.</span><span class="sxs-lookup"><span data-stu-id="9a706-202">The [SynchronizeSecurity](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla) property determines whether the `Synchronize` command synchronizes the security definitions, such as roles and permissions, defined on the source database.</span></span> <span data-ttu-id="9a706-203">Свойство `SynchronizeSecurity` также определяет, включает ли команда `Sychronize` учетные записи пользователей и группы Windows, определенные как члены определений безопасности.</span><span class="sxs-lookup"><span data-stu-id="9a706-203">The `SynchronizeSecurity` property also determines whether the `Sychronize` command includes the Windows user accounts and groups defined as members of the security definitions.</span></span>  
  
 <span data-ttu-id="9a706-204">Значением этого элемента может быть только одна из строк в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="9a706-204">The value of this element is limited to one of the strings listed in the following table.</span></span>  
  
|<span data-ttu-id="9a706-205">Значение</span><span class="sxs-lookup"><span data-stu-id="9a706-205">Value</span></span>|<span data-ttu-id="9a706-206">Описание</span><span class="sxs-lookup"><span data-stu-id="9a706-206">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="9a706-207">*SkipMembership*</span><span class="sxs-lookup"><span data-stu-id="9a706-207">*SkipMembership*</span></span>|<span data-ttu-id="9a706-208">Включает определения безопасности, но исключает сведения о членстве из целевой базы данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-208">Include security definitions, but exclude membership information, in the destination database.</span></span>|  
|<span data-ttu-id="9a706-209">*CopyAll*</span><span class="sxs-lookup"><span data-stu-id="9a706-209">*CopyAll*</span></span>|<span data-ttu-id="9a706-210">Включает определения безопасности и сведения о членстве в целевую базу данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-210">Include security definitions and membership information in the destination database.</span></span>|  
|<span data-ttu-id="9a706-211">*IgnoreSecurity*</span><span class="sxs-lookup"><span data-stu-id="9a706-211">*IgnoreSecurity*</span></span>|<span data-ttu-id="9a706-212">Исключает определения безопасности из целевой базы данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-212">Exclude security definitions from the destination database.</span></span>|  
  
### <a name="synchronizing-remote-partitions"></a><span data-ttu-id="9a706-213">Синхронизация удаленных секций</span><span class="sxs-lookup"><span data-stu-id="9a706-213">Synchronizing Remote Partitions</span></span>  
 <span data-ttu-id="9a706-214">Каждую удаленную секцию, связанную с каждым удаленным источником данных, существующим в базе данных-источнике, можно синхронизировать, включив элемент `Location` в свойство `Locations` команды `Synchronize`.</span><span class="sxs-lookup"><span data-stu-id="9a706-214">For each remote data source that exists on the source database, you can synchronize each associated remote partition by including a `Location` element in the `Locations` property of the `Synchronize` command.</span></span> <span data-ttu-id="9a706-215">Для каждого `Location` элемента `DataSourceType` свойство должно быть исключено или явно установлено в значение *Remote*.</span><span class="sxs-lookup"><span data-stu-id="9a706-215">For each `Location` element, the `DataSourceType` property must be excluded or explicitly set to *Remote*.</span></span>  
  
 <span data-ttu-id="9a706-216">Чтобы определить соединение с удаленным источником данных в целевой базе данных, команда `Synchronize` использует строку соединения, указанную в свойстве `ConnectionString` элемента `Location`.</span><span class="sxs-lookup"><span data-stu-id="9a706-216">To define and connect to a remote data source in the destination database, the `Synchronize` command uses the connection string defined in the `ConnectionString` property of the `Location` element.</span></span> <span data-ttu-id="9a706-217">После этого команда `Synchronize` будет использовать свойство `DataSourceID` элемента `Location` для определения того, какие удаленные секции синхронизировать.</span><span class="sxs-lookup"><span data-stu-id="9a706-217">The `Synchronize` command then uses the `DataSourceID` property of the `Location` element to identify which remote partitions to synchronize.</span></span> <span data-ttu-id="9a706-218">`Synchronize`Команда синхронизирует удаленные секции в удаленном источнике данных, указанном в `DataSourceID` свойстве в базе данных источника, с удаленным источником данных, указанным в `DataSourceID` свойстве целевой базы данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-218">The `Synchronize`command synchronizes the remote partitions on the remote data source specified in the `DataSourceID` property on the source database with the remote data source specified in the `DataSourceID` property on the destination database.</span></span>  
  
 <span data-ttu-id="9a706-219">Кроме того, для каждой первоначальной папки, в которой хранятся удаленные секции в удаленном источнике данных базы данных-источника, можно указать элемент `Folder` в элементе `Location`.</span><span class="sxs-lookup"><span data-stu-id="9a706-219">For each original folder used to store the remote partitions on the remote data source on the source database, you can also specify a `Folder` element in the `Location` element.</span></span> <span data-ttu-id="9a706-220">Элемент `Folder` указывает новую папку для целевой базы данных, в которой следует синхронизировать все удаленные секции, хранящиеся в первоначальной папке в удаленном источнике данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-220">The `Folder` element indicates the new folder for the destination database in which to synchronize all the remote partitions stored in the original folder on the remote data source.</span></span> <span data-ttu-id="9a706-221">Если элемент `Folder` не задан, команда Synchronize будет использовать первоначальные папки, указанные для удаленных секций, содержащихся в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="9a706-221">If a `Folder` element is not specified, the Synchronize command uses the original folders specified for remote partitions that are contained in the source database.</span></span>  
  
### <a name="synchronizing-rolap-objects"></a><span data-ttu-id="9a706-222">Синхронизация объектов ROLAP</span><span class="sxs-lookup"><span data-stu-id="9a706-222">Synchronizing ROLAP Objects</span></span>  
 <span data-ttu-id="9a706-223">Команда `Synchronize` не позволяет синхронизировать агрегаты или данные для объектов, использующих режим хранения ROLAP, поскольку такие сведения хранятся в таблицах в базовом реляционном источнике данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-223">The `Synchronize` command cannot synchronize aggregations or data for objects that use ROLAP storage because such information is stored in tables on an underlying relational data source.</span></span> <span data-ttu-id="9a706-224">Однако метаданные объектов ROLAP синхронизировать можно.</span><span class="sxs-lookup"><span data-stu-id="9a706-224">However, the metadata for ROLAP objects can be synchronized.</span></span> <span data-ttu-id="9a706-225">Чтобы можно было синхронизировать метаданные, команда `Synchronize` создает повторно структуру таблицы в реляционном источнике данных.</span><span class="sxs-lookup"><span data-stu-id="9a706-225">To synchronize the metadata, the `Synchronize` command recreates the table structure on a relational data source.</span></span>  
  
 <span data-ttu-id="9a706-226">Элемент `Location` можно использовать в команде Synchronize для синхронизации объектов ROLAP.</span><span class="sxs-lookup"><span data-stu-id="9a706-226">You can use the `Location` element in a Synchronize command to synchronize ROLAP objects.</span></span> <span data-ttu-id="9a706-227">Для каждого `Location` элемента, используемого для перемещения источника данных, `DataSourceType` свойству необходимо явно присвоить значение *Local*.</span><span class="sxs-lookup"><span data-stu-id="9a706-227">For each `Location` element used to relocate a data source, the `DataSourceType` property must be explicitly set to *Local*.</span></span> <span data-ttu-id="9a706-228">.</span><span class="sxs-lookup"><span data-stu-id="9a706-228">.</span></span> <span data-ttu-id="9a706-229">Также необходимо задать строку подключения для нового расположения в свойстве `ConnectionString` элемента `Location`.</span><span class="sxs-lookup"><span data-stu-id="9a706-229">You also have to set the `ConnectionString` property of the `Location` element to the connection string of the new location.</span></span> <span data-ttu-id="9a706-230">Во время синхронизации команда `Synchronize` заменит строку соединения для источника данных, определенного свойством `DataSourceID` элемента `Location`, на значение свойства `ConnectionString` элемента `Location`.</span><span class="sxs-lookup"><span data-stu-id="9a706-230">During synchronization, the `Synchronize` command will replace the connection string for the data source identified by the `DataSourceID` property of the `Location` element with the value of the `ConnectionString` property of the `Location` element.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9a706-231">См. также:</span><span class="sxs-lookup"><span data-stu-id="9a706-231">See Also</span></span>  
 <span data-ttu-id="9a706-232">[Элемент Backup &#40;&#41;XMLA](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="9a706-232">[Backup Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) </span></span>  
 <span data-ttu-id="9a706-233">[Элемент Restore &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="9a706-233">[Restore Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) </span></span>  
 <span data-ttu-id="9a706-234">[Синхронизация элемента &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="9a706-234">[Synchronize Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) </span></span>  
 [<span data-ttu-id="9a706-235">Создание и восстановление резервных копий баз данных служб Analysis Services</span><span class="sxs-lookup"><span data-stu-id="9a706-235">Backup and Restore of Analysis Services Databases</span></span>](../multidimensional-models/backup-and-restore-of-analysis-services-databases.md)  
  
  

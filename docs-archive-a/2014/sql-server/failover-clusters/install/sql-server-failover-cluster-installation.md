---
title: Установка отказоустойчивого кластера SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: c0e75a7c-85c5-423c-a218-77247bf071aa
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6d11b892bc3ae3dccfbab5bef01feca325056945
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87659301"
---
# <a name="sql-server-failover-cluster-installation"></a><span data-ttu-id="1a690-102">Установка отказоустойчивого кластера SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a690-102">SQL Server Failover Cluster Installation</span></span>
  <span data-ttu-id="1a690-103">Чтобы установить отказоустойчивый кластер [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , необходимо создать и настроить экземпляр отказоустойчивого кластера, запустив программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a690-103">To install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, you must create and configure a failover cluster instance by running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
## <a name="installing-a-failover-cluster"></a><span data-ttu-id="1a690-104">Установка отказоустойчивого кластера</span><span class="sxs-lookup"><span data-stu-id="1a690-104">Installing a Failover Cluster</span></span>  
 <span data-ttu-id="1a690-105">Чтобы установить отказоустойчивый кластер, необходимо использовать учетную запись домена с разрешениями локального администратора с правом входа в качестве службы и действовать в составе операционной системы на всех узлах отказоустойчивого кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-105">To install a failover cluster, you must use a domain account with local administrator rights, permission to log on as a service, and to act as part of the operating system on all nodes in the failover cluster.</span></span> <span data-ttu-id="1a690-106">Чтобы установить отказоустойчивый кластер с помощью программы установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нужно выполнить следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="1a690-106">To install a failover cluster by using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program, follow these steps:</span></span>  
  
1.  <span data-ttu-id="1a690-107">Для установки, настройки и обслуживания отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] применяется программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a690-107">To install, configure, and maintain a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
    -   <span data-ttu-id="1a690-108">Определить, какие сведения необходимы для создания экземпляра отказоустойчивого кластера (это могут быть дисковый ресурс кластера, IP-адреса и сетевое имя) и какие узлы могут быть использованы для перехода на другой отказоустойчивый кластер.</span><span class="sxs-lookup"><span data-stu-id="1a690-108">Identify the information you need to create your failover cluster instance (for example, cluster disk resource, IP addresses, and network name) and the nodes available for failover.</span></span> <span data-ttu-id="1a690-109">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="1a690-109">For more information:</span></span>  
  
        -   [<span data-ttu-id="1a690-110">Подготовка к установке отказоустойчивого кластера</span><span class="sxs-lookup"><span data-stu-id="1a690-110">Before Installing Failover Clustering</span></span>](before-installing-failover-clustering.md)  
  
        -   [<span data-ttu-id="1a690-111">Вопросы безопасности при установке SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a690-111">Security Considerations for a SQL Server Installation</span></span>](../../install/security-considerations-for-a-sql-server-installation.md)  
  
    -   <span data-ttu-id="1a690-112">Эти шаги по конфигурации должны быть выполнены до запуска программы установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , для их реализации необходимо использовать оснастку Windows «Администратор кластера». Для каждого экземпляра настраиваемого отказоустойчивого кластера необходимо иметь одну группу WSFC.</span><span class="sxs-lookup"><span data-stu-id="1a690-112">The configuration steps must take place before you run the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program; use the Windows Cluster Administrator to carry them out. You must have one WSFC group for each failover cluster instance you want to configure.</span></span>  
  
    -   <span data-ttu-id="1a690-113">Операционная система должна соответствовать минимальным требованиям для этого продукта.</span><span class="sxs-lookup"><span data-stu-id="1a690-113">You must ensure that your system meets minimum requirements.</span></span> <span data-ttu-id="1a690-114">Дополнительные сведения о требованиях к отказоустойчивому кластеру [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] см. в разделе [Подготовка к установке отказоустойчивого кластера](before-installing-failover-clustering.md).</span><span class="sxs-lookup"><span data-stu-id="1a690-114">For more information on specific requirements for a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, see [Before Installing Failover Clustering](before-installing-failover-clustering.md).</span></span>  
  
2.  <span data-ttu-id="1a690-115">Добавление или удаление узлов из конфигурации отказоустойчивого кластера, не затрагивая другие узлы кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-115">Add or remove nodes from a failover cluster configuration without affecting the other cluster nodes.</span></span> <span data-ttu-id="1a690-116">Дополнительные сведения см. на странице [Добавление и удаление узлов в отказоустойчивом кластере SQL Server (настройка)](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span><span class="sxs-lookup"><span data-stu-id="1a690-116">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
    -   <span data-ttu-id="1a690-117">Все узлы на отказоустойчивом кластере должны работать на одной платформе: либо на 32-разрядной, либо на 64-разрядной. Кроме того, на них должен работать один и тот же выпуск и версия операционной системы.</span><span class="sxs-lookup"><span data-stu-id="1a690-117">All nodes in a failover cluster must be of the same platform, either 32-bit or 64-bit, and must run the same operating system edition and version.</span></span> <span data-ttu-id="1a690-118">Кроме того, 64-разрядные версии выпусков [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] должны быть установлены на 64-разрядном оборудовании, работающем под управлением 64-разрядных версий операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="1a690-118">Also, 64-bit [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] editions must be installed on 64-bit hardware running the 64-bit versions of Windows operating systems.</span></span> <span data-ttu-id="1a690-119">В этой версии отсутствует поддержка WOW64 для отказоустойчивой кластеризации.</span><span class="sxs-lookup"><span data-stu-id="1a690-119">There is no WOW64 support for failover clustering in this release.</span></span>  
  
3.  <span data-ttu-id="1a690-120">Указание нескольких IP-адресов для каждого экземпляра отказоустойчивого кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-120">Specify multiple IP addresses for each failover cluster instance.</span></span> <span data-ttu-id="1a690-121">Для каждой подсети можно указать несколько IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="1a690-121">You can specify mutiple IP addresses for each subnet.</span></span> <span data-ttu-id="1a690-122">Если для одной подсети имеется несколько IP-адресов, то программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] устанавливает зависимость в «И».</span><span class="sxs-lookup"><span data-stu-id="1a690-122">If the mutiple IP addresses are on the same subnet, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup sets the dependency to AND.</span></span> <span data-ttu-id="1a690-123">Если выполняется кластеризация узлов по нескольким подсетям, то программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] устанавливает зависимость в «ИЛИ».</span><span class="sxs-lookup"><span data-stu-id="1a690-123">If you are clustering nodes across multiple subnets, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup sets the dependency to OR.</span></span>  
  
## <a name="ssnoversion-failover-cluster-installation-options"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="1a690-124">Параметры установки отказоустойчивого кластера</span><span class="sxs-lookup"><span data-stu-id="1a690-124">Failover Cluster Installation options</span></span>  
  
##### <a name="option-1-integrated-installation-with-add-node"></a><span data-ttu-id="1a690-125">Вариант 1. Интегрированная установка с добавлением узлов</span><span class="sxs-lookup"><span data-stu-id="1a690-125">Option 1: Integrated installation with Add Node</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="1a690-126">состоит из двух шагов.</span><span class="sxs-lookup"><span data-stu-id="1a690-126">integrated failover cluster installation consists of two steps:</span></span>  
  
1.  <span data-ttu-id="1a690-127">Создайте и настройте состоящий из одиночного узла экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a690-127">Create and configure a single-node [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span> <span data-ttu-id="1a690-128">После завершения настройки узла готов полностью функциональный экземпляр отказоустойчивого кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-128">At the completion of a successful configuration of the node, you have a fully functional failover cluster instance.</span></span> <span data-ttu-id="1a690-129">В данный момент этот отказоустойчивый кластер не имеет высокого уровня готовности, поскольку в него входит только один узел.</span><span class="sxs-lookup"><span data-stu-id="1a690-129">At this time it does not have high-availability because there is only one node in the failover cluster.</span></span>  
  
2.  <span data-ttu-id="1a690-130">На каждом узле, добавляемом к отказоустойчивому кластеру [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , запустите программу установки с функцией добавления узла.</span><span class="sxs-lookup"><span data-stu-id="1a690-130">On each node to be added to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, run Setup with Add Node functionality to add that node.</span></span>  
  
##### <a name="option-2-advancedenterprise-installation"></a><span data-ttu-id="1a690-131">Вариант 2. Расширенная установка (для выпуска Enterprise)</span><span class="sxs-lookup"><span data-stu-id="1a690-131">Option 2: Advanced/Enterprise installation</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="1a690-132">Расширенная установка (установка выпуска Enterprise) отказоустойчивого кластера состоит из двух шагов:</span><span class="sxs-lookup"><span data-stu-id="1a690-132">Advanced/Enterprise failover cluster installation consists of two steps:</span></span>  
  
1.  <span data-ttu-id="1a690-133">На каждом узле, который станет частью отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , запустите программу установки с функцией подготовки отказоустойчивого кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-133">On each node that will be part of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, run Setup with Prepare Failover Cluster functionality.</span></span> <span data-ttu-id="1a690-134">На этом шаге осуществляется подготовка узлов, предназначенных для кластеризации, но в конце шага экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не переводится в рабочий режим.</span><span class="sxs-lookup"><span data-stu-id="1a690-134">This step prepares the nodes ready to be clustered, but there is no operational [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance at the end of this step.</span></span>  
  
2.  <span data-ttu-id="1a690-135">После завершения подготовки узлов к кластеризации запустите программу установки на узле, являющемся владельцем общего диска с функцией завершения создания отказоустойчивого кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-135">After the nodes are prepared for clustering, run Setup on the node that owns the shared disk with the Complete Failover Cluster functionality.</span></span> <span data-ttu-id="1a690-136">На этом шаге выполняется настройка и завершается создание экземпляра отказоустойчивого кластера.</span><span class="sxs-lookup"><span data-stu-id="1a690-136">This step configures and completes the failover cluster instance.</span></span> <span data-ttu-id="1a690-137">После завершения этого шага появляется работающий экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a690-137">At the end of this step, you will have an operational [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1a690-138">Любой режим установки позволяет выполнить установку отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с несколькими узлами.</span><span class="sxs-lookup"><span data-stu-id="1a690-138">Either installation option allows for multi-node [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster installation.</span></span> <span data-ttu-id="1a690-139">После создания отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] для добавления новых узлов в любом из режимов может быть использована функция добавления узлов.</span><span class="sxs-lookup"><span data-stu-id="1a690-139">Add Node can be used to add additional nodes for either option after a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster has been created.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="1a690-140">Буква диска операционной системы для размещения [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] должна совпадать на всех узлах, добавленных к отказоустойчивому кластеру [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1a690-140">The operating system drive letter for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] install locations must match on all the nodes added to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
#### <a name="ip-address-configuration-during-setup"></a><span data-ttu-id="1a690-141">Настройка IP-адресов во время установки</span><span class="sxs-lookup"><span data-stu-id="1a690-141">IP Address Configuration During Setup</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="1a690-142">дает возможность задать или изменить ресурсы IP-адресов при выполнении следующих действий.</span><span class="sxs-lookup"><span data-stu-id="1a690-142">Setup lets you set or change the IP resource dependency settings during the following actions:</span></span>  
  
-   <span data-ttu-id="1a690-143">Интегрированная установка: [Создание отказоустойчивого кластера SQL Server (программа установки)](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="1a690-143">Integrated Install - [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="1a690-144">CompleteFailoverCluster (расширенная установка): [Создание отказоустойчивого кластера SQL Server (программа установки)](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="1a690-144">CompleteFailoverCluster (Advanced Install) - [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="1a690-145">Добавление узла: [Добавление или удаление узлов отказоустойчивого кластера SQL Server (программа установки)](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="1a690-145">Add Node - [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="1a690-146">Удаление узла: [Добавление или удаление узлов отказоустойчивого кластера SQL Server (программа установки)](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="1a690-146">Remove Node - [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span></span>  
  
 <span data-ttu-id="1a690-147">**Примечание.** IP-адреса IPV6 не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="1a690-147">**Note** IPV6 IP addresses are supported.</span></span>  <span data-ttu-id="1a690-148">Если заданы адреса IPV4 и IPV6, то они рассматриваются как принадлежащие разным подсетям, и IPV6 подключаются первыми.</span><span class="sxs-lookup"><span data-stu-id="1a690-148">If you configure both IPV4 and IPV6 there are treated like different subnets, and IPV6 is expected to come online first.</span></span>  
  
##### <a name="ssnoversion-multi-subnet-failover-cluster"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="1a690-149">Отказоустойчивый кластер с несколькими подсетями</span><span class="sxs-lookup"><span data-stu-id="1a690-149">Multi-Subnet Failover Cluster</span></span>  
 <span data-ttu-id="1a690-150">Можно задать зависимости «ИЛИ», когда узлы кластера принадлежат разным подсетям.</span><span class="sxs-lookup"><span data-stu-id="1a690-150">You can set OR dependencies when the nodes on the cluster are on different subnets.</span></span> <span data-ttu-id="1a690-151">Однако, для каждого узла отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с несколькими подсетями должно быть указан хотя бы один IP-адрес возможного владельца.</span><span class="sxs-lookup"><span data-stu-id="1a690-151">However, each node in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster must be a possible owner of at least one of IP address specified.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1a690-152">См. также:</span><span class="sxs-lookup"><span data-stu-id="1a690-152">See Also</span></span>  
 <span data-ttu-id="1a690-153">[Перед установкой отказоустойчивой кластеризации](before-installing-failover-clustering.md) </span><span class="sxs-lookup"><span data-stu-id="1a690-153">[Before Installing Failover Clustering](before-installing-failover-clustering.md) </span></span>  
 <span data-ttu-id="1a690-154">[Создание отказоустойчивого кластера SQL Server (программа установки)](create-a-new-sql-server-failover-cluster-setup.md) </span><span class="sxs-lookup"><span data-stu-id="1a690-154">[Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md) </span></span>  
 <span data-ttu-id="1a690-155">[Установка SQL Server 2014 из командной строки](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="1a690-155">[Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 [<span data-ttu-id="1a690-156">Обновление отказоустойчивого кластера SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a690-156">Upgrade a SQL Server Failover Cluster</span></span>](../windows/upgrade-a-sql-server-failover-cluster-instance.md)  
  
  

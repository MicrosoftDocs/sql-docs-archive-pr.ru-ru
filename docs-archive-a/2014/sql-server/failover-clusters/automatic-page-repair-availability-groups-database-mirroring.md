---
title: Автоматическое восстановление страниц (для групп доступности и зеркального отображения базы данных) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- automatic page repair
- Availability Groups [SQL Server], automatic page repair
- database mirroring [SQL Server], automatic page repair
- suspect pages [SQL Server]
ms.assetid: cf2e3650-5fac-4f34-b50e-d17765578a8e
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 09b5a5069d019dc452a49179e1c83d78a50e0566
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87659314"
---
# <a name="automatic-page-repair-for-availability-groups-and-database-mirroring"></a><span data-ttu-id="2b8aa-102">Автоматическое восстановление страниц (для групп доступности и зеркального отображения баз данных)</span><span class="sxs-lookup"><span data-stu-id="2b8aa-102">Automatic Page Repair (For Availability Groups and Database Mirroring)</span></span>
  <span data-ttu-id="2b8aa-103">Автоматическое восстановление страниц поддерживается за счет зеркального отображения баз данных и с помощью [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2b8aa-103">Automatic page repair is supported by database mirroring and by [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span> <span data-ttu-id="2b8aa-104">После повреждения страниц вследствие ошибок определенных типов, после чего страницы становятся нечитаемыми, база данных, участвующая в зеркальном отображении (главная или зеркало), либо реплика доступности (основная или вторичная) выполняет попытку автоматического восстановления страницы.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-104">After certain types of errors corrupt a page, making it unreadable, a database mirroring partner (principal or mirror) or an availability replica (primary or secondary) attempts to automatically recover the page.</span></span> <span data-ttu-id="2b8aa-105">Участник или реплика, для которой считывание страницы невозможно, запрашивает новую копию у другого участника или реплики.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-105">The partner/replica that cannot read the page requests a fresh copy of the page from its partner or from another replica.</span></span> <span data-ttu-id="2b8aa-106">Если этот запрос завершается успешно, нечитаемая страница заменяется читаемой копией, что обычно устраняет ошибку.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-106">If this request succeeds, the unreadable page is replaced by the readable copy, and this usually resolves the error.</span></span>  
  
 <span data-ttu-id="2b8aa-107">В целом зеркальное отображение базы данных и [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] обрабатывают ошибки ввода-вывода сходным образом.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-107">Generally speaking, database mirroring and [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] handle I/O errors in equivalent ways.</span></span> <span data-ttu-id="2b8aa-108">В этом разделе описываются немногие из отличий.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-108">The few differences are explicitly called out here.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2b8aa-109">Автоматическое восстановление страниц отличается от восстановления DBCC.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-109">Automatic page repair differs from DBCC repair.</span></span> <span data-ttu-id="2b8aa-110">При автоматическом восстановлении страниц все данные сохраняются.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-110">All of the data is preserved by an automatic page repair.</span></span> <span data-ttu-id="2b8aa-111">При исправлении ошибок с помощью параметра REPAIR_ALLOW_DATA_LOSS может потребоваться удаление некоторых страниц и, следовательно, данных.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-111">In contrast, correcting errors by using the DBCC REPAIR_ALLOW_DATA_LOSS option might require that some pages, and therefore data, be deleted.</span></span>  
  
  
  
##  <a name="error-types-that-cause-an-automatic-page-repair-attempt"></a><a name="ErrorTypes"></a><span data-ttu-id="2b8aa-112">Типы ошибок, вызывающие попытки автоматического восстановления страниц</span><span class="sxs-lookup"><span data-stu-id="2b8aa-112">Error Types That Cause an Automatic Page-Repair Attempt</span></span>  
 <span data-ttu-id="2b8aa-113">Система автоматического восстановления страниц зеркального отображения базы данных восстанавливает только страницы, которые находятся в файле данных, для которого операция завершилась с одной из ошибок, перечисленных в приведенной ниже таблице.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-113">Database mirroring automatic page repair tries to repair only pages in a data file on which an operation has failed for one of the errors listed in the following table.</span></span>  
  
|<span data-ttu-id="2b8aa-114">Номер ошибки</span><span class="sxs-lookup"><span data-stu-id="2b8aa-114">Error number</span></span>|<span data-ttu-id="2b8aa-115">Описание</span><span class="sxs-lookup"><span data-stu-id="2b8aa-115">Description</span></span>|<span data-ttu-id="2b8aa-116">Экземпляры, вызывающие попытку автоматического восстановления страницы</span><span class="sxs-lookup"><span data-stu-id="2b8aa-116">Instances that cause automatic page-repair attempt</span></span>|  
|------------------|-----------------|---------------------------------------------------------|  
|[<span data-ttu-id="2b8aa-117">823</span><span class="sxs-lookup"><span data-stu-id="2b8aa-117">823</span></span>](../../relational-databases/errors-events/mssqlserver-823-database-engine-error.md)|<span data-ttu-id="2b8aa-118">Действие предпринимается только в том случае, если операционная система выполнила циклическую проверку избыточности (CRC), которая завершилась неудачно для этих данных.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-118">Action is taken only if the operating system performed a cyclic redundancy check (CRC) that failed on the data.</span></span>|<span data-ttu-id="2b8aa-119">ERROR_CRC.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-119">ERROR_CRC.</span></span> <span data-ttu-id="2b8aa-120">Код этой ошибки в операционной системе — 23.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-120">The operating-system value for this error is 23.</span></span>|  
|[<span data-ttu-id="2b8aa-121">824</span><span class="sxs-lookup"><span data-stu-id="2b8aa-121">824</span></span>](../../relational-databases/errors-events/mssqlserver-824-database-engine-error.md)|<span data-ttu-id="2b8aa-122">Логические ошибки.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-122">Logical errors.</span></span>|<span data-ttu-id="2b8aa-123">Логические ошибки данных, например прерванная запись или несовпадающая контрольная сумма страницы.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-123">Logical data errors, such as torn write or bad page checksum.</span></span>|  
|<span data-ttu-id="2b8aa-124">829</span><span class="sxs-lookup"><span data-stu-id="2b8aa-124">829</span></span>|<span data-ttu-id="2b8aa-125">Страница отмечена, как ожидающая восстановления.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-125">A page has been marked as restore pending.</span></span>|<span data-ttu-id="2b8aa-126">Все.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-126">All.</span></span>|  
  
 <span data-ttu-id="2b8aa-127">Просмотреть все недавние ошибки 823 (CRC) и 824 можно в таблице [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) базы данных [msdb](../../relational-databases/databases/msdb-database.md) .</span><span class="sxs-lookup"><span data-stu-id="2b8aa-127">To view recent 823 CRC errors and 824 errors, see the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table in the [msdb](../../relational-databases/databases/msdb-database.md) database.</span></span>  
  
  
  
##  <a name="page-types-that-cannot-be-automatically-repaired"></a><a name="UnrepairablePageTypes"></a><span data-ttu-id="2b8aa-128">Типы страниц, которые не удается восстановить автоматически</span><span class="sxs-lookup"><span data-stu-id="2b8aa-128">Page Types That Cannot Be Automatically Repaired</span></span>  
 <span data-ttu-id="2b8aa-129">Автоматическое восстановление страниц не может исправить следующие типы страниц управления.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-129">Automatic page repair cannot repair the following control page types:</span></span>  
  
-   <span data-ttu-id="2b8aa-130">Страница заголовка файла (идентификатор страницы 0).</span><span class="sxs-lookup"><span data-stu-id="2b8aa-130">File header page (page ID 0).</span></span>  
  
-   <span data-ttu-id="2b8aa-131">Страница 9 (загрузочная страница базы данных).</span><span class="sxs-lookup"><span data-stu-id="2b8aa-131">Page 9 (the database boot page).</span></span>  
  
-   <span data-ttu-id="2b8aa-132">Страницы размещения: страницы глобальной карты распределения (GAM), страницы общей глобальной карты (SGAM) и страницы свободного места на странице (PFS).</span><span class="sxs-lookup"><span data-stu-id="2b8aa-132">Allocation pages: Global Allocation Map (GAM) pages, Shared Global Allocation Map (SGAM) pages, and Page Free Space (PFS) pages.</span></span>  
  

  
##  <a name="handling-io-errors-on-the-principalprimary-database"></a><a name="PrimaryIOErrors"></a><span data-ttu-id="2b8aa-133">Обработка ошибок ввода-вывода в основной или основной базе данных</span><span class="sxs-lookup"><span data-stu-id="2b8aa-133">Handling I/O Errors on the Principal/Primary Database</span></span>  
 <span data-ttu-id="2b8aa-134">В основной базе данных или в базе данных-источнике попытка автоматического восстановления страницы предпринимается только если база данных находится в состоянии SYNCHRONIZED, а основная база или база-получатель данных продолжает посылать записи журнала в зеркальную базу данных или в базу данных-получатель.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-134">On the principal/primary database, automatic page repair is tried only when the database is in the SYNCHRONIZED state and the principal/primary is still sending log records for the database to the mirror/secondary.</span></span> <span data-ttu-id="2b8aa-135">При попытке автоматического восстановления страницы выполняется следующая основная последовательность действий:</span><span class="sxs-lookup"><span data-stu-id="2b8aa-135">The basic sequence of actions in an automatic page-repair attempt are as follows:</span></span>  
  
1.  <span data-ttu-id="2b8aa-136">При возникновении ошибки чтения на странице данных в базе данных-получателе или в базе данных-источнике база данных-получатель или база данных-источник вставляет в таблицу [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) строку с соответствующим статусом ошибки.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-136">When a read error occurs on a data page in the principal/primary database, the principal/primary inserts a row in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table with the appropriate error status.</span></span> <span data-ttu-id="2b8aa-137">При использовании зеркального отображения базы данных, основная база данных запрашивает копию страницы у зеркального сервера.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-137">For database mirroring, the principal then requests a copy of the page from the mirror.</span></span> <span data-ttu-id="2b8aa-138">При использовании [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], основная база данных передает запрос всем вторичным базам данных и получает страницу от первой откликнувшейся базы данных.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-138">For [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], the primary broadcasts the request to all the secondaries and gets the page from the first to respond.</span></span> <span data-ttu-id="2b8aa-139">В запросе указывается идентификатор страницы и номер LSN, находящийся в данный момент в конце текущего журнала.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-139">The request specifies the page ID and the LSN that is currently at the end of the flushed log.</span></span> <span data-ttu-id="2b8aa-140">Страница помечается как *ожидающая восстановления*.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-140">The page is marked as *restore pending*.</span></span> <span data-ttu-id="2b8aa-141">Это делает ее недоступной на время попытки автоматического восстановления.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-141">This makes it inaccessible during the automatic page-repair attempt.</span></span> <span data-ttu-id="2b8aa-142">Любое обращение к этой странице во время попытки восстановления завершится с ошибкой 829 (ожидает восстановления).</span><span class="sxs-lookup"><span data-stu-id="2b8aa-142">Attempts to access this page during the repair attempt will fail with error 829 (restore pending).</span></span>  
  
2.  <span data-ttu-id="2b8aa-143">После получения запроса страницы зеркальный/вторичный сервер ожидает, пока его журнал не будет восстановлен до номера LSN, указанного в запросе.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-143">After receiving the page request, the mirror/secondary waits until it has redone the log up to the LSN specified in the request.</span></span> <span data-ttu-id="2b8aa-144">Затем зеркальный/вторичный сервер пытается получить доступ к странице в своей копии базы данных.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-144">Then, the mirror/secondary tries to access the page in its copy of the database.</span></span> <span data-ttu-id="2b8aa-145">Если к странице возможен доступ, зеркальный/вторичный сервер посылает копию страницы на основной/первичный сервер.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-145">If the page can be accessed, the mirror/secondary sends the copy of the page to the principal/primary.</span></span> <span data-ttu-id="2b8aa-146">В противном случае зеркальный/вторичный сервер возвращает основному/первичному серверу ошибку, а попытка автоматического восстановления страницы завершается неудачно.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-146">Otherwise, the mirror/secondary returns an error to the principal/primary, and the automatic page-repair attempt fails.</span></span>  
  
3.  <span data-ttu-id="2b8aa-147">Основной сервер/первичный сервер обрабатывает ответ, содержащий новую копию страницы.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-147">The principal/primary processes the response that contains the fresh copy of the page.</span></span>  
  
4.  <span data-ttu-id="2b8aa-148">После того как попытка автоматического восстановления завершается успешно, подозрительная страница отмечается в таблице **suspect_pages** как восстановленная (**event_type** = 5).</span><span class="sxs-lookup"><span data-stu-id="2b8aa-148">After the automatic page-repair attempt fixes a suspect page, the page is marked in the **suspect_pages** table as restored (**event_type** = 5).</span></span>  
  
5.  <span data-ttu-id="2b8aa-149">Если ошибка ввода-вывода вызвала возникновение каких-либо [отложенных транзакций](../../relational-databases/backup-restore/deferred-transactions-sql-server.md), то после восстановления страницы основной/первичный сервер попытается разрешить эти транзакции.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-149">If the page I/O error caused any [deferred transactions](../../relational-databases/backup-restore/deferred-transactions-sql-server.md), after you repair the page, the principal/primary tries to resolve those transactions.</span></span>  
  

  
##  <a name="handling-io-errors-on-the-mirrorsecondary-database"></a><a name="SecondaryIOErrors"></a><span data-ttu-id="2b8aa-150">Обработка ошибок ввода-вывода в зеркальной базе данных-получателе</span><span class="sxs-lookup"><span data-stu-id="2b8aa-150">Handling I/O Errors on the Mirror/Secondary Database</span></span>  
 <span data-ttu-id="2b8aa-151">Ошибки ввода-вывода, возникающие на страницах данных зеркальной базы данных или базы данных-получателе, обычно обрабатываются одинаково, как при зеркальном отображении базы данных, так и при использовании [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2b8aa-151">I/O errors on data pages that occur on the mirror/secondary database are handled in generally the same way by database mirroring and by [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span>  
  
1.  <span data-ttu-id="2b8aa-152">В случае с зеркальным отображением баз данных, если зеркальный сервер обнаруживает одну или несколько ошибок ввода-вывода при восстановлении записи журнала, сеанс зеркального отображения переходит в состояние SUSPENDED.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-152">With database mirroring, if the mirror encounters one or more page I/O errors when it redoes a log record, the mirroring session enters the SUSPENDED state.</span></span> <span data-ttu-id="2b8aa-153">В случае [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], если вторичная реплика обнаруживает одну или несколько ошибок ввода-вывода при восстановлении записи журнала, база данных-получатель переходит в состояние SUSPENDED.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-153">With [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], if a secondary replica encounters one or more page I/O errors when it redoes a log record, the secondary database enters the SUSPENDED state.</span></span> <span data-ttu-id="2b8aa-154">В этот момент зеркальный/вторичный сервер вставляет в таблицу **suspect_pages** строку с соответствующим состоянием ошибки.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-154">At that point, the mirror/secondary inserts a row in the **suspect_pages** table with the appropriate error status.</span></span> <span data-ttu-id="2b8aa-155">Затем зеркальный/вторичный сервер запрашивает копию страницы у основного/первичного сервера.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-155">The mirror/secondary then requests a copy of the page from the principal/primary.</span></span>  
  
2.  <span data-ttu-id="2b8aa-156">Основной/первичный сервер пытается получить доступ к странице в своей копии базе данных.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-156">The principal/primary tries to access the page in its copy of the database.</span></span> <span data-ttu-id="2b8aa-157">Если к странице возможен доступ, основной/первичный сервер посылает копию страницы на зеркальный/вторичный сервер.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-157">If the page can be accessed, the principal/primary sends the copy of page to the mirror/secondary.</span></span>  
  
3.  <span data-ttu-id="2b8aa-158">Если зеркальный/вторичный сервер получает копии всех запрошенных страниц, он попытается возобновить сеанс зеркального отображения.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-158">If the mirror/secondary receives copies of every page it has requested, the mirror/secondary tries to resume the mirroring session.</span></span> <span data-ttu-id="2b8aa-159">Если попытка автоматического восстановления завершается успешно, подозрительная страница отмечается в таблице **suspect_pages** как восстановленная (**event_type** = 4).</span><span class="sxs-lookup"><span data-stu-id="2b8aa-159">If an automatic page-repair attempt fixes a suspect page, the page is marked in the **suspect_pages** table as restored (**event_type** = 4).</span></span>  
  
     <span data-ttu-id="2b8aa-160">Если зеркальный/вторичный сервер не получает от основного/первичного сервера запрошенную страницу, то попытка автоматического восстановления страницы завершается неудачно.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-160">If a mirror/secondary does not receive a page that it requested from the principal/primary, the automatic page-repair attempt fails.</span></span> <span data-ttu-id="2b8aa-161">При использовании зеркального отображения баз данных, сеанс отображения приостанавливается.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-161">With database mirroring, the mirroring session remains suspended.</span></span> <span data-ttu-id="2b8aa-162">При использовании [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]база данных-получатель остается в приостановленном состоянии.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-162">With [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], the secondary database remains suspended.</span></span> <span data-ttu-id="2b8aa-163">Если сеанс зеркального отображения или база данных-получатель повторно запускаются вручную, то во время фазы синхронизации снова произойдет обращение к поврежденным страницам.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-163">If the mirroring session or secondary database is resumed manually, the corrupted pages will be hit again during the synchronization phase.</span></span>  

  
##  <a name="developer-best-practice"></a><a name="DevBP"></a><span data-ttu-id="2b8aa-164">Рекомендации для разработчиков</span><span class="sxs-lookup"><span data-stu-id="2b8aa-164">Developer Best Practice</span></span>  
 <span data-ttu-id="2b8aa-165">Автоматическое восстановление страниц — это асинхронный процесс, выполняющийся в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-165">An automatic page repair is an asynchronous process that runs in the background.</span></span> <span data-ttu-id="2b8aa-166">Поэтому, если в ходе операции базы данных запрашивается нечитаемая страница, возникает ошибка и возвращается код события, вызвавшего эту ошибку.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-166">Therefore, a database operation that requests an unreadable page fails and returns the error code for whatever condition caused the failure.</span></span> <span data-ttu-id="2b8aa-167">При разработке приложения для отображаемой зеркально базы данных или базы данных доступности следует перехватывать исключения в завершившихся ошибкой операциях.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-167">When developing an application for a mirrored database or an availability database, you should intercept exceptions for failed operations.</span></span> <span data-ttu-id="2b8aa-168">При возникновении ошибок [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с кодами 823, 824 или 829 операцию следует повторить позже.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-168">If the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error code is 823, 824, or 829, you should retry the operation later.</span></span>  
  

  
##  <a name="how-to-view-automatic-page-repair-attempts"></a><a name="ViewAPRattempts"></a><span data-ttu-id="2b8aa-169">Пошаговое руководство. Просмотр попыток автоматического восстановления страниц</span><span class="sxs-lookup"><span data-stu-id="2b8aa-169">How To: View Automatic Page-Repair Attempts</span></span>  
 <span data-ttu-id="2b8aa-170">В следующих динамических административных представлениях возвращаются строки, связанные с последними попытками автоматического восстановления страниц в определенной зеркальной базе данных, при этом количество строк на каждую базу данных не может превышать 100.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-170">The following dynamic management views return rows for the latest automatic page-repair attempts on a given availability database or mirrored database, with a maximum of 100 rows per database.</span></span>  
  
-   <span data-ttu-id="2b8aa-171">**группы доступности AlwaysOn:**</span><span class="sxs-lookup"><span data-stu-id="2b8aa-171">**AlwaysOn Availability Groups:**</span></span>  
  
     [<span data-ttu-id="2b8aa-172">sys.dm_hadr_auto_page_repair (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2b8aa-172">sys.dm_hadr_auto_page_repair &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-hadr-auto-page-repair-transact-sql)  
  
     <span data-ttu-id="2b8aa-173">Возвращает строку для каждой попытки автоматического восстановления страниц во всех базах данных доступности в реплике доступности, размещенной в группе доступности на экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-173">Returns a row for every automatic page-repair attempt on any availability database on an availability replica that is hosted for any availability group by the server instance.</span></span>  
  
-   <span data-ttu-id="2b8aa-174">**Зеркальное отображение базы данных:**</span><span class="sxs-lookup"><span data-stu-id="2b8aa-174">**Database mirroring:**</span></span>  
  
     [<span data-ttu-id="2b8aa-175">sys.dm_db_mirroring_auto_page_repair (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2b8aa-175">sys.dm_db_mirroring_auto_page_repair &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-auto-page-repair)  
  
     <span data-ttu-id="2b8aa-176">Возвращает строку для каждой попытки автоматического восстановления страниц во всех зеркально отображаемых баз данных на экземпляре сервера.</span><span class="sxs-lookup"><span data-stu-id="2b8aa-176">Returns a row for every automatic page-repair attempt on any mirrored database on the server instance.</span></span>  
  
 
  
## <a name="see-also"></a><span data-ttu-id="2b8aa-177">См. также:</span><span class="sxs-lookup"><span data-stu-id="2b8aa-177">See Also</span></span>  
 <span data-ttu-id="2b8aa-178">[Управление таблицей suspect_pages (SQL Server)](../../relational-databases/backup-restore/manage-the-suspect-pages-table-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2b8aa-178">[Manage the suspect_pages Table &#40;SQL Server&#41;](../../relational-databases/backup-restore/manage-the-suspect-pages-table-sql-server.md) </span></span>  
 <span data-ttu-id="2b8aa-179">[Общие сведения о группы доступности AlwaysOn &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2b8aa-179">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="2b8aa-180">Зеркальное отображение базы данных (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2b8aa-180">Database Mirroring &#40;SQL Server&#41;</span></span>](../../database-engine/database-mirroring/database-mirroring-sql-server.md)  
  
  

---
title: Восстановление по журналу после сбоя экземпляра отказоустойчивого кластера | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- clusters [SQL Server], recovery from failure
- failover clustering [SQL Server], recovery from failure
- hardware failures [SQL Server]
- recovering failover cluster failures [SQL Server]
ms.assetid: 3d151d0c-e841-4325-8606-c094de37d7d1
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 60db4c2e480b094c18d0a8071e947a38cdc779d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749651"
---
# <a name="recover-from-failover-cluster-instance-failure"></a>Восстановление по журналу после сбоя экземпляра отказоустойчивого кластера
  В этом разделе описывается восстановление кластера с помощью оснастки «Диспетчер отказоустойчивости кластеров» после отработки отказа в [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]. Оснастка «Диспетчер отказоустойчивости кластеров» — это приложение управления кластером для службы WSFC.  
  
-   [Восстановление после неустранимого сбоя](#Scenario1)  
  
-   [Восстановление после программного сбоя](#Scenario2)  
  
##  <a name="recover-from-an-irreparable-failure"></a><a name="Scenario1"></a>Восстановление после сбоя неустранимого  
 Для восстановления после неустранимого сбоя выполните следующие действия. Причина могла, например, заключаться в неисправности дискового контроллера или сбое операционной системы. В данном случае в кластере, состоящем из двух узлов, сбой вызван отказом оборудования в узле 1.  
  
1.  После сбоя на узле 1 отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] FCI переключается на узел 2.  
  
2.  Исключите узел 1 из FCI. Для этого откройте оснастку "Диспетчер отказоустойчивости кластеров" из узла 2, щелкните правой кнопкой узел 1, выберите пункт **Действия перемещения**, а затем выберите команду **Исключить узел**.  
  
3.  Проверьте, исключен ли узел 1 из определения кластера.  
  
4.  Установите новое оборудование взамен отказавшего в узле 1.  
  
5.  При помощи оснастки «Диспетчер отказоустойчивости кластеров» добавьте к существующему кластеру узел 1. Дополнительные сведения см. в статье [Подготовка к установке отказоустойчивого кластера](../install/before-installing-failover-clustering.md).  
  
6.  Убедитесь, что учетные записи администраторов одинаковы на всех узлах кластера.  
  
7.  Запустите программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , чтобы добавить узел 1 к FCI. Дополнительные сведения см. [в разделе Добавление или удаление узлов в отказоустойчивом кластере SQL Server &#40;установки&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).  
  
##  <a name="recover-from-a-reparable-failure"></a><a name="Scenario2"></a>Восстановление после сбоя после устранимого  
 Для восстановления после устранимого сбоя выполните следующие действия. В данном случае причиной сбоя является узел 1, неработающий или находящийся вне сети, но не поврежденный полностью. Это может вызываться ошибкой операционной системы, отказом оборудования или сбоем в самом экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
1.  После сбоя на узле 1 FCI переключается на узел 2.  
  
2.  Разрешите проблему на узле 1.  
  
3.  Убедитесь, что все узлы находятся в режиме «в сети» и работает служба WSFC.  
  
4.  Переведите [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на восстановленный узел.  
  
  

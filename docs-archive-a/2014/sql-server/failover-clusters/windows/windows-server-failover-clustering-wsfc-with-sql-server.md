---
title: Отказоустойчивая кластеризация Windows Server (WSFC) с использованием SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], WSFC clusters
- Windows Server Failover Clustering (WSFC), with SQL Server
- WSFC, with SQL Server
- quorum [SQL Server]
- failover clustering [SQL Server], AlwaysOn Availability Groups
ms.assetid: 79d2ea5a-edd8-4b3b-9502-96202057b01a
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e1fec03d7eb7a63353fd8eaea8c1e7051a306049
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87659266"
---
# <a name="windows-server-failover-clustering-wsfc-with-sql-server"></a><span data-ttu-id="dd0f3-102">Отказоустойчивая кластеризация Windows Server (WSFC) с SQL Server</span><span class="sxs-lookup"><span data-stu-id="dd0f3-102">Windows Server Failover Clustering (WSFC) with SQL Server</span></span>
  <span data-ttu-id="dd0f3-103">Новая *Отказоустойчивая кластеризация Windows Server* (WSFC) представляет собой группу независимых серверов, совместная работа которых позволяет повысить доступность приложений и служб.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-103">A *Windows Server Failover Clustering* (WSFC) cluster is a group of independent servers that work together to increase the availability of applications and services.</span></span> [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="dd0f3-104">поддержка экземпляров отказоустойчивого кластера [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] и [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] осуществляется с использованием служб и возможностей WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-104">takes advantage of WSFC services and capabilities to support [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instances.</span></span>

 

##  <a name="terms-and-definitions"></a><a name="TermsAndDefs"></a> <span data-ttu-id="dd0f3-105">Термины и определения</span><span class="sxs-lookup"><span data-stu-id="dd0f3-105">Terms and Definitions</span></span>
 <span data-ttu-id="dd0f3-106">Кластер WSFC. кластер отказоустойчивой кластеризации Windows Server (WSFC) — это группа независимых серверов, совместная работа которых позволяет повысить доступность приложений и служб.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-106">WSFC cluster A Windows Server Failover Clustering (WSFC) cluster is a group of independent servers that work together to increase the availability of applications and services.</span></span>

 <span data-ttu-id="dd0f3-107">Экземпляр отказоустойчивого кластера экземпляр службы Windows, который управляет ресурсом IP-адреса, ресурсом сетевого имени и дополнительными ресурсами, необходимыми для запуска одного или нескольких приложений или служб.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-107">Failover cluster instance An instance of a Windows service that manages an IP address resource, a network name resource, and additional resources that are required to run one or more applications or services.</span></span> <span data-ttu-id="dd0f3-108">Клиенты могут использовать сетевое имя для доступа к ресурсам в группе аналогично использованию имени компьютера для доступу к службам на физическом сервере.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-108">Clients can use the network name to access the resources in the group, similar to using a computer name to access the services on a physical server.</span></span> <span data-ttu-id="dd0f3-109">Однако, поскольку экземпляр отказоустойчивого кластера является группой, для него возможен переход на другой узел без изменения базового имени или адреса.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-109">However, because a failover cluster instance is a group, it can be failed over to another node without affecting the underlying name or address.</span></span>

 <span data-ttu-id="dd0f3-110">Узел A Microsoft Windows Server System, являющийся активным или неактивным членом кластера серверов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-110">Node A Microsoft Windows Server system that is an active or inactive member of a server cluster.</span></span>

 <span data-ttu-id="dd0f3-111">Ресурс кластера — физический или логический объект, который может принадлежать узлу, переведен в режим «в сети» и «вне сети», перемещается между узлами и управляется как объект кластера.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-111">Cluster resource A physical or logical entity that can be owned by a node, brought online and taken offline, moved between nodes, and managed as a cluster object.</span></span> <span data-ttu-id="dd0f3-112">Ресурс кластера может принадлежать одновременно только одному узлу.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-112">A cluster resource can be owned by only a single node at any point in time.</span></span>

 <span data-ttu-id="dd0f3-113">Группа ресурсов коллекция ресурсов кластера, управляемых как один объект кластера.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-113">Resource group A collection of cluster resources managed as a single cluster object.</span></span> <span data-ttu-id="dd0f3-114">Обычно группа ресурсов содержит все ресурсы кластера, которые требуются для выполнения конкретного приложения или службы.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-114">Typically a resource group contains all of the cluster resources that are required to run a specific application or service.</span></span> <span data-ttu-id="dd0f3-115">Отработка отказа и возврат всегда выполняются для групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-115">Failover and failback always act on resource groups.</span></span>

 <span data-ttu-id="dd0f3-116">Зависимость ресурсов ресурсом, от которого зависит другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-116">Resource dependency A resource on which another resource depends.</span></span> <span data-ttu-id="dd0f3-117">Если ресурс A зависит от ресурса B, то B является зависимостью A.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-117">If resource A depends on resource B, then B is a dependency of A.</span></span>

 <span data-ttu-id="dd0f3-118">Сетевое имя ресурс имя логического сервера, управляемого как ресурс кластера.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-118">Network name resource A logical server name that is managed as a cluster resource.</span></span> <span data-ttu-id="dd0f3-119">Ресурс сетевого имени должен использоваться с ресурсом IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-119">A network name resource must be used with an IP address resource.</span></span>

 <span data-ttu-id="dd0f3-120">Предпочитаемый владелец. узел, на котором предпочтительно запускать группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-120">Preferred owner A node on which a resource group prefers to run.</span></span> <span data-ttu-id="dd0f3-121">Каждая группа ресурсов связана со списком предпочитаемых владельцев, отсортированных в порядке предпочтения.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-121">Each resource group is associated with a list of preferred owners sorted in order of preference.</span></span> <span data-ttu-id="dd0f3-122">Во время автоматического перехода на другой ресурс группа ресурсов перемещается на следующий предпочтительный узел в списке.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-122">During automatic failover, the resource group is moved to the next preferred node in the preferred owner list.</span></span>

 <span data-ttu-id="dd0f3-123">Возможный владелец вторичного узла, на котором может выполняться ресурс.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-123">Possible owner A secondary node on which a resource can run.</span></span> <span data-ttu-id="dd0f3-124">Каждая группа ресурсов связана со списком возможных владельцев.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-124">Each resource group is associated with a list of possible owners.</span></span> <span data-ttu-id="dd0f3-125">Группы ресурсов могут выполнять переход только на узлы из списка возможных владельцев.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-125">Resource groups can fail over only to nodes that are listed as possible owners.</span></span>

 <span data-ttu-id="dd0f3-126">Режим кворума конфигурация кворума в отказоустойчивом кластере, которая определяет количество сбоев узла, которые может поддерживать кластер.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-126">Quorum mode The quorum configuration in a failover cluster that determines the number of node failures that the cluster can sustain.</span></span>

 <span data-ttu-id="dd0f3-127">Принудительный кворум — процесс запуска кластера, несмотря на то, что только доли элементов, необходимых для кворума, находятся в связи.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-127">Forced quorum The process to start the cluster even though only a minority of the elements that are required for quorum are in communication.</span></span>

 <span data-ttu-id="dd0f3-128">Дополнительные сведения см. в статье [Глоссарий отказоустойчивого кластера](/previous-versions/windows/desktop/MsCS/server-cluster-glossary)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-128">For more information, see: [Failover Cluster Glossary](/previous-versions/windows/desktop/MsCS/server-cluster-glossary)</span></span>

##  <a name="overview-of-windows-server-failover-clustering"></a><a name="Overview"></a> <span data-ttu-id="dd0f3-129">Обзор отказоустойчивого кластера Windows Server</span><span class="sxs-lookup"><span data-stu-id="dd0f3-129">Overview of Windows Server Failover Clustering</span></span>
 <span data-ttu-id="dd0f3-130">Отказоустойчивая кластеризация Windows Server предусматривает инфраструктурные компоненты, поддерживающие сценарии высокого уровня доступности и аварийного восстановления для таких размещенных серверных приложений, как Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] и Microsoft Exchange.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-130">Windows Server Failover Clustering provides infrastructure features that support the high-availability and disaster recovery scenarios of hosted server applications such as Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and Microsoft Exchange.</span></span> <span data-ttu-id="dd0f3-131">При отказе узла кластера или службы все службы, которые размещались на этом узле, могут автоматически или вручную переноситься на другой доступный узел в рамках процесса под названием *отработка отказа*.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-131">If a cluster node or service fails, the services that were hosted on that node can be automatically or manually transferred to another available node in a process known as *failover*.</span></span>

 <span data-ttu-id="dd0f3-132">Узлы в кластере WSFC за счет совместной работы обеспечивают следующие типы возможностей:</span><span class="sxs-lookup"><span data-stu-id="dd0f3-132">The nodes in the WSFC cluster work together to collectively provide these types of capabilities:</span></span>

-   <span data-ttu-id="dd0f3-133">**Распределенные метаданные и уведомления.**</span><span class="sxs-lookup"><span data-stu-id="dd0f3-133">**Distributed metadata and notifications.**</span></span> <span data-ttu-id="dd0f3-134">Метаданные служб и размещенных приложений WSFC хранятся на каждом узле кластера.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-134">WSFC service and hosted application metadata is maintained on each node in the cluster.</span></span> <span data-ttu-id="dd0f3-135">Среди этих метаданных не только параметры размещенных приложений, но также конфигурация и состояние WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-135">This metadata includes WSFC configuration and status in addition to hosted application settings.</span></span> <span data-ttu-id="dd0f3-136">Изменения в метаданных или состоянии узла автоматически распространяются на других узлах кластера.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-136">Changes to a node's metadata or status are automatically propagated to the other nodes in the cluster.</span></span>

-   <span data-ttu-id="dd0f3-137">**Управление ресурсами.**</span><span class="sxs-lookup"><span data-stu-id="dd0f3-137">**Resource management.**</span></span> <span data-ttu-id="dd0f3-138">Отдельные узлы в кластере могут предоставлять физические ресурсы, например подключаемое напрямую хранилище, сетевые интерфейсы и доступ к общему дисковому хранилищу.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-138">Individual nodes in the cluster may provide physical resources such as direct-attached storage, network interfaces, and access to shared disk storage.</span></span> <span data-ttu-id="dd0f3-139">Размещенные приложения регистрируют себя как ресурсы кластера и могут настраивать запуск и зависимости от исправности других ресурсов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-139">Hosted applications register themselves as a cluster resource, and may configure startup and health dependencies upon other resources.</span></span>

-   <span data-ttu-id="dd0f3-140">**Мониторинг работоспособности.**</span><span class="sxs-lookup"><span data-stu-id="dd0f3-140">**Health monitoring.**</span></span> <span data-ttu-id="dd0f3-141">Определение исправности основного узла и исправности между узлами осуществляется за счет сочетания сетевых соединений по типу тактовых импульсов и мониторинга ресурсов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-141">Inter-node and primary node health detection is accomplished through a combination of heartbeat-style network communications and resource monitoring.</span></span> <span data-ttu-id="dd0f3-142">Общее состояние работоспособности кластера определяется голосами кворума узлов в кластере.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-142">The overall health of the cluster is determined by the votes of a quorum of nodes in the cluster.</span></span>

-   <span data-ttu-id="dd0f3-143">**Координация отработки отказа.**</span><span class="sxs-lookup"><span data-stu-id="dd0f3-143">**Failover coordination.**</span></span> <span data-ttu-id="dd0f3-144">Каждый ресурс настроен для размещения на основном узле, и каждый можно автоматически или вручную переносить на один или несколько второстепенных узлов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-144">Each resource is configured to be hosted on a primary node, and each can be automatically or manually transferred to one or more secondary nodes.</span></span> <span data-ttu-id="dd0f3-145">Политика отработки отказа в зависимости от исправности управляет автоматическим переносом владения ресурсами между узлами.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-145">A health-based failover policy controls automatic transfer of resource ownership between nodes.</span></span> <span data-ttu-id="dd0f3-146">Узлы и размещенные приложения получают уведомления об отработке отказа, что позволяет им выполнить соответствующие действия.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-146">Nodes and hosted applications are notified when failover occurs so that they may react appropriately.</span></span>

 <span data-ttu-id="dd0f3-147">Дополнительные сведения см. в статье [Отказоустойчивые кластеры в Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-147">For more information, see: [Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span></span>

##  <a name="sql-server-alwayson-technologies-and-wsfc"></a><a name="AlwaysOnWsfcTech"></a><span data-ttu-id="dd0f3-148">SQL Server технологии AlwaysOn и WSFC</span><span class="sxs-lookup"><span data-stu-id="dd0f3-148">SQL Server AlwaysOn Technologies and WSFC</span></span>
 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]<span data-ttu-id="dd0f3-149">*AlwaysOn* — это новое решение высокого уровня доступности и аварийного восстановления, использующее преимущества WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-149">*AlwaysOn* is a new high availability and disaster recovery solution that takes advantage of WSFC.</span></span> <span data-ttu-id="dd0f3-150">AlwaysOn представляет собой интегрированное, гибкое решение, повышающее доступность приложения, окупаемость вложений в оборудование и упрощающее развертывание систем высокого уровня доступности и управление ими.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-150">AlwaysOn provides an integrated, flexible solution that increases application availability, provides better returns on hardware investments, and simplifies high availability deployment and management.</span></span>

 <span data-ttu-id="dd0f3-151">Экземпляры [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] и экземпляры отказоустойчивого кластера AlwaysOn используют технологию платформы WSFC и регистрируют компоненты в качестве ресурсов кластера WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-151">Both [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and AlwaysOn Failover Cluster Instances use WSFC as a platform technology, registering components as WSFC cluster resources.</span></span>  <span data-ttu-id="dd0f3-152">Связанные ресурсы объединяются в *группу ресурсов*, которую можно сделать зависимой от других ресурсов кластера WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-152">Related resources are combined into a *resource group*, which can be made dependent upon other WSFC cluster resources.</span></span> <span data-ttu-id="dd0f3-153">Затем служба кластера WSFC сможет выявлять необходимость в перезапуске экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (и сигнализировать об этой необходимости), а также автоматически выполнять отработку отказа с переходом на другой серверный узел в кластере WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-153">The WSFC cluster service can then sense and signal the need to restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance or automatically fail it over to a different server node in the WSFC cluster.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="dd0f3-154">Чтобы воспользоваться всеми возможностями технологий [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn, вам следует выполнить несколько связанных с WSFC предварительных требований.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-154">To take full advantage of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn technologies, you should apply several WSFC-related prerequisites.</span></span>
> 
>  <span data-ttu-id="dd0f3-155">Дополнительные сведения см. в статьях [Предварительные требования, ограничения и рекомендации для группы доступности AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-155">For more information, see: [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)</span></span>

### <a name="instance-level-high-availability-with-alwayson-failover-cluster-instances"></a><span data-ttu-id="dd0f3-156">Высокий уровень доступности на уровне экземпляра с помощью экземпляров отказоустойчивого кластера AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="dd0f3-156">Instance-level High Availability with AlwaysOn Failover Cluster Instances</span></span>
 <span data-ttu-id="dd0f3-157">*Экземпляр отказоустойчивого кластера* (FCI) AlwaysOn представляет собой экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], установленный на нескольких узлах в кластере WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-157">An AlwaysOn *Failover Cluster Instance* (FCI) is a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that is installed across nodes in a WSFC cluster.</span></span> <span data-ttu-id="dd0f3-158">Этот тип экземпляра имеет зависимости ресурсов от общего дискового хранилища (через Fibre Channel или iSCSI SAN) и от имени виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-158">This type of instance has resource dependencies on shared disk storage (via Fibre Channel or iSCSI SAN) and on a virtual network name.</span></span> <span data-ttu-id="dd0f3-159">Имя виртуальной сети имеет зависимость ресурсов от одного или нескольких виртуальных IP-адресов, каждый в отдельной подсети.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-159">The virtual network name has a resource dependency on one or more virtual IP addresses, each in a different subnet.</span></span> <span data-ttu-id="dd0f3-160">Служба SQL Server и служба агента SQL Server регистрируются в качестве ресурсов, и обе службы становятся зависимыми от виртуального ресурса сетевого имени.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-160">The SQL Server service and the SQL Server Agent service are registered as resources, and both are made dependent upon the virtual network name resource.</span></span>

 <span data-ttu-id="dd0f3-161">В случае отработки отказа служба WSFC переносит владение ресурсов экземпляра на указанный узел отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-161">In the event of a failover, the WSFC service transfers ownership of instance's resources to a designated failover node.</span></span> <span data-ttu-id="dd0f3-162">Затем экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] перезапускается на узле отработки отказа и выполняется обычное восстановление баз данных.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-162">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance is then re-started on the failover node, and databases are recovered as usual.</span></span> <span data-ttu-id="dd0f3-163">В любой момент времени FCI и базовые ресурсы могут размещаться только на одном узле в кластере.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-163">At any given moment, only a single node in the cluster can host the FCI and underlying resources.</span></span>

> [!NOTE]
>  <span data-ttu-id="dd0f3-164">Экземпляру отказоустойчивого кластера AlwaysOn требуется симметричное общее дисковое хранилище, например сеть хранения данных (SAN) или общая папка SMB.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-164">An AlwaysOn Failover Cluster Instance requires symmetrical shared disk storage such as a storage area network (SAN) or SMB file share.</span></span>  <span data-ttu-id="dd0f3-165">Тома общего дискового хранилища должны быть доступны всем потенциальным узлам отработки отказа в кластере WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-165">The shared disk storage volumes must be available to all potential failover nodes in the WSFC cluster.</span></span>

 <span data-ttu-id="dd0f3-166">Дополнительные сведения см. в разделе [экземпляры отказоустойчивого кластера AlwaysOn](always-on-failover-cluster-instances-sql-server.md) .</span><span class="sxs-lookup"><span data-stu-id="dd0f3-166">For more information, see: [AlwaysOn Failover Cluster Instances](always-on-failover-cluster-instances-sql-server.md)</span></span>

### <a name="database-level-high-availability-with-sshadr"></a><span data-ttu-id="dd0f3-167">Высокий уровень доступности на уровне баз данных с [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span><span class="sxs-lookup"><span data-stu-id="dd0f3-167">Database-level High Availability with [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span></span>
 <span data-ttu-id="dd0f3-168">*Группа доступности* — это набор пользовательских баз данных, для которых отработка отказа выполняется одновременно.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-168">An *availability group* is a set of user databases that fail over together.</span></span> <span data-ttu-id="dd0f3-169">Группа доступности состоит из первичной *реплики доступности* и от одной до четырех вторичных реплик, которые поддерживаются за счет перемещения данных на основании журнала SQL Server для обеспечения защиты данных, не требующей общего хранилища.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-169">An availability group consists of a primary *availability replica* and one to four secondary replicas that are maintained through SQL Server log-based data movement for data protection without the need for shared storage.</span></span> <span data-ttu-id="dd0f3-170">Каждая реплика размещается на экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] в отдельном узле кластера WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-170">Each replica is hosted by an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on a different node of the WSFC cluster.</span></span> <span data-ttu-id="dd0f3-171">Группа доступности и соответствующее имя виртуальной сети регистрируются как ресурсы в кластере WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-171">The availability group and a corresponding virtual network name are registered as resources in the WSFC cluster.</span></span>

 <span data-ttu-id="dd0f3-172">*Прослушиватель группы доступности* на узле первичной реплики отвечает на входящие клиентские запросы на подключение к имени виртуальной сети и в зависимости от атрибутов в строке подключения перенаправляет каждый запрос в соответствующий экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="dd0f3-172">An *availability group listener* on the primary replica's node responds to incoming client requests to connect to the virtual network name, and based on attributes in the connection string, it redirects each request to the appropriate [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>

 <span data-ttu-id="dd0f3-173">При отработке отказа вместо переноса владения общих физических ресурсов на другой узел WSFC используется для перенастройки вторичной реплики на другом экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] в первичную реплику группы доступности.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-173">In the event of a failover, instead of transferring ownership of shared physical resources to another node, WSFC is leveraged to reconfigure a secondary replica on another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to become the availability group's primary replica.</span></span> <span data-ttu-id="dd0f3-174">Затем ресурс виртуального сетевого имени группы доступности переводится на этот экземпляр.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-174">The availability group's virtual network name resource is then transferred to that instance.</span></span>

 <span data-ttu-id="dd0f3-175">Первичная реплика баз данных группы доступности одновременно может размещаться только на одном экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , все связанные вторичные реплики должны находиться на отдельном экземпляре, и каждый экземпляр должен находиться на отдельном физическом узле.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-175">At any given moment, only a single [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance may host the primary replica of an availability group's databases, all associated secondary replicas must each reside on a separate instance, and each instance must reside on separate physical nodes.</span></span>

> [!NOTE]
>  [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="dd0f3-176">не требует развертывания экземпляра отказоустойчивого кластера или использования симметричного общего хранилища (SAN или SMB).</span><span class="sxs-lookup"><span data-stu-id="dd0f3-176">do not require deployment of a Failover Cluster Instance or use of symmetric shared storage (SAN or SMB).</span></span>
> 
>  <span data-ttu-id="dd0f3-177">Экземпляр отказоустойчивого кластера (FCI) может использоваться совместно с группой доступности для повышения доступности реплики доступности.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-177">A Failover Cluster Instance (FCI) may be used together with an availability group to enhance the availability of an availability replica.</span></span> <span data-ttu-id="dd0f3-178">Однако во избежание соперничества в кластере WSFC автоматический переход на другой ресурс группы доступности не поддерживается для реплики доступности, размещенной в FCI.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-178">However, to prevent potential race conditions in the WSFC cluster, automatic failover of the availability group is not supported to or from an availability replica that is hosted on a FCI.</span></span>

 <span data-ttu-id="dd0f3-179">Дополнительные сведения см. в статье [Обзор групп доступности AlwaysOn (SQL Server)](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="dd0f3-179">For more information, see: [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)</span></span>

##  <a name="wsfc-health-monitoring-and-failover"></a><a name="AlwaysOnWsfcHealth"></a><span data-ttu-id="dd0f3-180">Мониторинг работоспособности и отработка отказа WSFC</span><span class="sxs-lookup"><span data-stu-id="dd0f3-180">WSFC Health Monitoring and Failover</span></span>
 <span data-ttu-id="dd0f3-181">Высокий уровень доступности для решения AlwaysOn достигается за счет упреждающего мониторинга исправности физических и логических ресурсов кластера WSFC, а также за счет автоматического перехода на другой ресурс с переходом на дублирующее оборудование и его перенастройкой.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-181">High availability for an AlwaysOn solution is accomplished though proactive health monitoring of physical and logical WSFC cluster resources, together with automatic failover onto and re-configuration of redundant hardware.</span></span>  <span data-ttu-id="dd0f3-182">Системный администратор также может запустить *переход на другой ресурс вручную* для группы доступности или экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] для перехода с одного узла на другой.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-182">A system administrator can also initiate a *manual failover* of an availability group or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance from one node to another.</span></span>

### <a name="failover-policies-for-nodes-failover-cluster-instances-and-availability-groups"></a><span data-ttu-id="dd0f3-183">Политики отработки отказа для узлов, экземпляров отказоустойчивого кластера и групп доступности</span><span class="sxs-lookup"><span data-stu-id="dd0f3-183">Failover Policies for Nodes, Failover Cluster Instances, and Availability Groups</span></span>
 <span data-ttu-id="dd0f3-184">*Политика отработки отказа* настраивается на уровне узла кластера WSFC, экземпляра отказоустойчивого кластера (FCI) [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] и группы доступности.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-184">A *failover policy* is configured at the WSFC cluster node, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instance (FCI), and the availability group levels.</span></span>  <span data-ttu-id="dd0f3-185">Эта политика на основе серьезности, продолжительности и частоты неисправного состояния ресурса кластера и времени отклика узла может включать перезапуск службы или *автоматический переход на другой ресурс* с переходом с одного узла на другой либо включать перевод первичной реплики группы доступности с одного экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на другой.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-185">These policies, based on the severity, duration, and frequency of unhealthy cluster resource status and node responsiveness, can trigger a service restart or an *automatic failover* of cluster resources from one node to another, or can trigger the move of an availability group primary replica from one [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to another.</span></span>

 <span data-ttu-id="dd0f3-186">Отработка отказа реплики группы доступности не влияет на базовый экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="dd0f3-186">Failover of an availability group replica does not affect the underlying [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  <span data-ttu-id="dd0f3-187">При отработке отказа экземпляра отказоустойчивого кластера вместе с этим экземпляром перемещаются размещенные реплики группы доступности.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-187">Failover of a FCI moves the hosted availability group replicas with the instance.</span></span>

 <span data-ttu-id="dd0f3-188">Дополнительные сведения см. в разделе [Политика отработки отказа для экземпляров откзоустойчивого кластера](failover-policy-for-failover-cluster-instances.md).</span><span class="sxs-lookup"><span data-stu-id="dd0f3-188">For more information, see: [Failover Policy for Failover Cluster Instances](failover-policy-for-failover-cluster-instances.md)</span></span>

### <a name="wsfc-resource-health-detection"></a><span data-ttu-id="dd0f3-189">Определение исправности ресурсов WSFC</span><span class="sxs-lookup"><span data-stu-id="dd0f3-189">WSFC Resource Health Detection</span></span>
 <span data-ttu-id="dd0f3-190">Все ресурсы на узле кластера WSFC могут сообщать о своем состоянии и исправности периодически или по запросу.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-190">Each resource in a WSFC cluster node can report its status and health, periodically or on-demand.</span></span> <span data-ttu-id="dd0f3-191">Об отказе ресурса могут говорить различные обстоятельства, например неисправность электропитания, ошибки дисков или памяти, ошибки в сети, неотвечающие службы.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-191">A variety of circumstances may indicate resource failure; e.g. power failure, disk or memory errors, network communication errors, or non-responsive services.</span></span>

 <span data-ttu-id="dd0f3-192">Ресурсы кластера WSFC, например сети, хранилища и службы, можно делать зависимыми друг от друга.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-192">WSFC cluster resources such as networks, storage, or services can be made dependent upon one another.</span></span> <span data-ttu-id="dd0f3-193">Совокупная исправность ресурса определяется путем последовательного суммирования его работоспособности с исправностью каждого из зависимых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-193">The cumulative health of a resource is determined by successively rolling up its health with the health of each of its resource dependencies.</span></span>

### <a name="wsfc-inter-node-health-detection-and-quorum-voting"></a><span data-ttu-id="dd0f3-194">Определение исправности между узлами WSFC и определение голосов в кворуме</span><span class="sxs-lookup"><span data-stu-id="dd0f3-194">WSFC Inter-node Health Detection and Quorum Voting</span></span>
 <span data-ttu-id="dd0f3-195">Все узлы в кластере WSFC участвуют в периодической передаче тактового импульса, сообщающего состояние исправности узла другим узлам.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-195">Each node in a WSFC cluster participates in periodic heartbeat communication to share the node's health status with the other nodes.</span></span> <span data-ttu-id="dd0f3-196">Неотвечающие узлы считаются неисправными.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-196">Unresponsive nodes are considered to be in a failed state.</span></span>

 <span data-ttu-id="dd0f3-197">Набор узлов *кворума* — это большинство узлов с правом голоса и следящих объектов в кластере WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-197">A *quorum* node set is a majority of the voting nodes and witnesses in the WSFC cluster.</span></span> <span data-ttu-id="dd0f3-198">Общая исправность и состояние кластера WSFC определяется периодическим *голосованием с кворумом*.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-198">The overall health and status of a WSFC cluster is determined by a periodic *quorum vote*.</span></span> <span data-ttu-id="dd0f3-199">Наличие кворума означает, что кластер работоспособен и может обеспечивать отказоустойчивость на уровне узла.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-199">The presence of a quorum means that the cluster is healthy and able to provide node-level fault tolerance.</span></span>

 <span data-ttu-id="dd0f3-200">*Режим кворума* настраивается на уровне кластера WSFC, который определяет методику голосования кворума, а также момент выполнения автоматического перехода на другой ресурс или перевода кластера в режим «вне сети».</span><span class="sxs-lookup"><span data-stu-id="dd0f3-200">A *quorum mode* is configured at the WSFC cluster level that dictates the methodology used for quorum voting and when to perform an automatic failover or take the cluster offline.</span></span>

> [!TIP]
>  <span data-ttu-id="dd0f3-201">Рекомендуется, чтобы число голосов кворума в кластере WSFC всегда было нечетным.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-201">It is best practice to always have an odd number of quorum votes in a WSFC cluster.</span></span>  <span data-ttu-id="dd0f3-202">По соображениям голосования кворума нет необходимости устанавливать [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на всех узлах в кластере.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-202">For the purposes of quorum voting, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not have to be installed on all nodes in the cluster.</span></span> <span data-ttu-id="dd0f3-203">Дополнительный сервер может выступать в качестве члена кворума, либо модель кворума WSFC можно настроить для использования удаленной общей папки в качестве решающего голоса.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-203">An additional server can act as a quorum member, or the WSFC quorum model can be configured to use a remote file share as a tie-breaker.</span></span>
> 
>  <span data-ttu-id="dd0f3-204">Дополнительные сведения см. в разделе [режимы кворума WSFC и настройка голосования &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-204">For more information, see: [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span></span>

### <a name="disaster-recovery-through-forced-quorum"></a><span data-ttu-id="dd0f3-205">Аварийное восстановление через принудительный кворум</span><span class="sxs-lookup"><span data-stu-id="dd0f3-205">Disaster Recovery Through Forced Quorum</span></span>
 <span data-ttu-id="dd0f3-206">В зависимости от принятых методов работы и конфигурации кластера WSFC можно использовать как автоматический, так и переход на другой ресурс вручную, при этом решение [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn остается всегда надежным и отказоустойчивым.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-206">Depending upon operational practices and WSFC cluster configuration, you can incur both automatic and manual failovers, and still maintain a robust, fault-tolerant [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn solution.</span></span> <span data-ttu-id="dd0f3-207">Однако если кворуму узлов с правом голоса в кластере WSFC не удается связаться друг с другом либо если кластеру WSFC по другим причинам не удается проверить исправность, то кластер WSFC может перейти в режим «вне сети».</span><span class="sxs-lookup"><span data-stu-id="dd0f3-207">However, if a quorum of the eligible voting nodes in the WSFC cluster cannot communicate with one another, or if the WSFC cluster otherwise fails health validation, then the WSFC cluster may go offline.</span></span>

 <span data-ttu-id="dd0f3-208">При переходе кластера WSFC в автономный режим из-за неожиданной аварии или по причине постоянно возникающего сбоя в работе оборудования или ошибки связи требуется вмешательство администратора для *принудительного создания кворума* и переключения работоспособных кластеров обратно в режим "в сети" в неотказоустойчивой конфигурации.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-208">If the WSFC cluster goes offline because of an unplanned disaster, or due to a persistent hardware or communications failure, then manual administrative intervention is required to *force a quorum* and bring the surviving cluster nodes back online in a non-fault-tolerant configuration.</span></span>

 <span data-ttu-id="dd0f3-209">После этого будет необходимо также предпринять ряд действий по перенастройке кластера WSFC, восстановлению затронутых реплик баз данных и повторному созданию нового кворума.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-209">Afterwards, a series of steps must also be taken to reconfigure the WSFC cluster, recover the affected database replicas, and to re-establish a new quorum.</span></span>

 <span data-ttu-id="dd0f3-210">Дополнительные сведения см. в статье [Аварийное восстановление WSFC через принудительный кворум (SQL Server)](wsfc-disaster-recovery-through-forced-quorum-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="dd0f3-210">For more information, see: [WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)</span></span>

##  <a name="relationship-of-sql-server-alwayson-components-to-wsfc"></a><a name="AlwaysOnWsfcRelationship"></a> <span data-ttu-id="dd0f3-211">Связь компонентов SQL Server AlwaysOn с WSFC</span><span class="sxs-lookup"><span data-stu-id="dd0f3-211">Relationship of SQL Server AlwaysOn Components to WSFC</span></span>
 <span data-ttu-id="dd0f3-212">Между функциями и компонентами [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn и WSFC существуют связи нескольких уровней.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-212">Several layers of relationships exist between [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn and WSFC features and components.</span></span>

 <span data-ttu-id="dd0f3-213">Группы доступности AlwaysOn размещаются в экземплярах [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd0f3-213">AlwaysOn availability groups are hosted on [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instances.</span></span>
<span data-ttu-id="dd0f3-214">Клиентский запрос с указанием логического сетевого имени прослушивателя группы доступности для подключения к первичной или базе данных-получателю направляется на соответствующее сетевое имя экземпляра базового экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] или экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="dd0f3-214">A client request that specifies a logical availability group listener network name to connect to a primary or secondary database is redirected to the appropriate instance network name of the underlying [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instance (FCI).</span></span>

 <span data-ttu-id="dd0f3-215">Экземпляры SQL Server активно размещаются на одном узле.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-215">SQL Server instances are actively hosted on a single node.</span></span>
<span data-ttu-id="dd0f3-216">Если имеется изолированный экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , то он всегда находится на отдельном узле со статическим сетевым именем экземпляра.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-216">If present, a stand-alone [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance always resides on a single Node with a static instance network name.</span></span>  <span data-ttu-id="dd0f3-217">Экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (если он есть) активен на одном из нескольких возможных узлов отработки отказа с единым виртуальным сетевым именем экземпляра.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-217">If present, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] FCI is active on one of two or more possible failover nodes with a single virtual Instance Network Name.</span></span>

 <span data-ttu-id="dd0f3-218">Узлы являются членами кластера WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-218">Nodes are members of a WSFC cluster.</span></span>
<span data-ttu-id="dd0f3-219">Метаданные и состояние конфигурации WSFC для всех узлов сохраняются на каждом узле.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-219">WSFC configuration metadata and status for all nodes is stored on each node.</span></span> <span data-ttu-id="dd0f3-220">Каждый сервер может предоставлять тома асимметричного хранения или общего хранения (SAN) для пользовательских и системных баз данных.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-220">Each server may provide asymmetric storage or shared storage (SAN) volumes for user or system databases.</span></span> <span data-ttu-id="dd0f3-221">Каждый сервер имеет по крайней мере один физический сетевой интерфейс в одной или нескольких IP-подсетях.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-221">Each server has at least one physical network interface on one or more IP subnets.</span></span>

 <span data-ttu-id="dd0f3-222">Служба WSFC контролирует исправность группы серверов и управляет их конфигурацией.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-222">The WSFC service monitors health and manages configuration for a group of servers.</span></span>
<span data-ttu-id="dd0f3-223">Служба отказоустойчивого кластера (WSFC) распространяет изменения в метаданных и состоянии конфигурации WSFC во всех узлах кластера.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-223">The Windows Server Failover Cluster (WSFC) service propagates changes to WSFC Configuration metadata and status to all nodes in the cluster.</span></span> <span data-ttu-id="dd0f3-224">Частичные метаданные и состояние могут храниться в удаленной общей папке следящего сервера кворума WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-224">Partial metadata and status may be stored on a WSFC quorum-witness remote file share.</span></span> <span data-ttu-id="dd0f3-225">Несколько активных узлов или следящих экземпляров образуют кворум для голосования по исправности кластера WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-225">Two or more active nodes or witnesses constitute a quorum to vote on the health of the WSFC cluster.</span></span>

 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="dd0f3-226">— это подразделы кластера WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-226">registry keys are subkeys of the WSFC cluster.</span></span>
<span data-ttu-id="dd0f3-227">При удалении и повторном создании кластера WSFC необходимо отключить и повторно включить функцию [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] на каждом экземпляре сервера, на котором была включена функция [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] в исходном кластере WSFC.</span><span class="sxs-lookup"><span data-stu-id="dd0f3-227">If you delete and re-create a WSFC cluster, you must disable and re-enable the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on each server instance that was enabled for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on the original WSFC cluster.</span></span> <span data-ttu-id="dd0f3-228">Дополнительные сведения см. в разделе [Включение и отключение групп доступности AlwaysOn (SQL Server)](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="dd0f3-228">For more information, see [Enable and Disable AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md).</span></span>

 <span data-ttu-id="dd0f3-229">![Схема контекста для компонента AlwaysOn в SQL Server](../../../database-engine/media/alwaysoncomponentcontextdiagram.gif "Схема контекста для компонента AlwaysOn в SQL Server")</span><span class="sxs-lookup"><span data-stu-id="dd0f3-229">![SQL Server AlwaysOn Component Context Diagram](../../../database-engine/media/alwaysoncomponentcontextdiagram.gif "SQL Server AlwaysOn Component Context Diagram")</span></span>

##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="dd0f3-230">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="dd0f3-230">Related Tasks</span></span>

-   [<span data-ttu-id="dd0f3-231">Просмотр параметров NodeWeight кворума кластера</span><span class="sxs-lookup"><span data-stu-id="dd0f3-231">View Cluster Quorum NodeWeight Settings</span></span>](view-cluster-quorum-nodeweight-settings.md)

-   [<span data-ttu-id="dd0f3-232">Настройка параметров NodeWeight для кворума кластера</span><span class="sxs-lookup"><span data-stu-id="dd0f3-232">Configure Cluster Quorum NodeWeight Settings</span></span>](configure-cluster-quorum-nodeweight-settings.md)

-   [<span data-ttu-id="dd0f3-233">Принудительный запуск кластера WSFC без кворума</span><span class="sxs-lookup"><span data-stu-id="dd0f3-233">Force a WSFC Cluster to Start Without a Quorum</span></span>](force-a-wsfc-cluster-to-start-without-a-quorum.md)

##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="dd0f3-234">См. также</span><span class="sxs-lookup"><span data-stu-id="dd0f3-234">Related Content</span></span>

-   <span data-ttu-id="dd0f3-235">[Технологии Windows Server: отказоустойчивые кластеры](https://technet.microsoft.com/library/cc732488\(v=WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-235">[Windows Server Technologies:  Failover Clusters](https://technet.microsoft.com/library/cc732488\(v=WS.10\).aspx)</span></span>

-   <span data-ttu-id="dd0f3-236">[Отказоустойчивые кластеры в Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-236">[Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span></span>

-   <span data-ttu-id="dd0f3-237">[Просмотр событий и журналов для отказоустойчивого кластера](https://technet.microsoft.com/library/cc772342\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="dd0f3-237">[View Events and Logs for a Failover Cluster](https://technet.microsoft.com/library/cc772342\(WS.10\).aspx)</span></span>

-   [<span data-ttu-id="dd0f3-238">Командлет Get-ClusterLog отказоустойчивого кластера</span><span class="sxs-lookup"><span data-stu-id="dd0f3-238">Get-ClusterLog Failover Cluster Cmdlet</span></span>](https://technet.microsoft.com/library/ee461045.aspx)

## <a name="see-also"></a><span data-ttu-id="dd0f3-239">См. также:</span><span class="sxs-lookup"><span data-stu-id="dd0f3-239">See Also</span></span>
 <span data-ttu-id="dd0f3-240">Общие сведения об [экземплярах отказоустойчивого кластера AlwaysOn (SQL Server)](always-on-failover-cluster-instances-sql-server.md) [обзор группы доступности AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) [режим кворума wsfc и конфигурация голосования &#40;SQL Server](wsfc-quorum-modes-and-voting-configuration-sql-server.md)&#41;[политика отработки отказа для экземпляров отказоустойчивого кластера](failover-policy-for-failover-cluster-instances.md) [WSFC аварийное восстановление с помощью принудительного кворума &#40;SQL Server](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)&#41;</span><span class="sxs-lookup"><span data-stu-id="dd0f3-240">[AlwaysOn Failover Cluster Instances (SQL Server)](always-on-failover-cluster-instances-sql-server.md) [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md) [Failover Policy for Failover Cluster Instances](failover-policy-for-failover-cluster-instances.md) [WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)</span></span>



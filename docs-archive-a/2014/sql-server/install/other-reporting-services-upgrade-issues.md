---
title: Другие проблемы при обновлении Reporting Services | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- command line setup [Reporting Services]
- Setup commands [Reporting Services]
- multivalued parameters [Reporting Services]
- WMI provider [Reporting Services]
- compile errors [Reporting Services]
- single-valued parameters [Reporting Services]
- data processing extensions [Reporting Services]
- report compilation errors [Reporting Services]
- authentication [Reporting Services]
ms.assetid: 42dd2f06-1de9-449e-ab9d-f4ef25f8b728
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 7cba24007534f143e6b8fd4b7cf74357bbfba3a1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87659182"
---
# <a name="other-reporting-services-upgrade-issues"></a>Другие проблемы обновления служб Reporting Services
  В этом разделе описаны известные проблемы, которые могут возникнуть при обновлении функций [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]. **Помощник по обновлению не обнаруживает эти проблемы.** Дополнительные сведения см. в разделе [заметки о Выпуске SQL Server 2014](https://go.microsoft.com/fwlink/?LinkID=296445) .  
  
||  
|-|  
|**[!INCLUDE[applies](../../includes/applies-md.md)]** [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]Собственный режим &#124; [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Режим интеграции с SharePoint.|  
  
|Проблема|Описание|Применяется к|  
|-----------|-----------------|----------------|  
|Обновление фермы SharePoint|Обновляйте общую службу [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] только после того, как все остальные компоненты служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в ферме обновлены до [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)].<br /><br /> Чтобы обновить [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ферму SharePoint с несколькими узлами до [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] перед обновлением общей службы все экземпляры надстройки для SharePoint в ферме должны быть обновлены до версии [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .<br /><br /> Подготовка отчетов к просмотру завершится ошибкой, если общая служба [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint была обновлена до [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], а остальные компоненты служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в ферме по-прежнему имеют версию [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)].<br /><br /> <br /><br /> Дополнительные сведения см. в разделе [Рекомендации, советы и сведения по устранению неполадок со службами SQL Server 2014 Reporting Services](https://go.microsoft.com/fwlink/?LinkID=391254).|[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL11SP1](../../includes/sssql11sp1-md.md)]|  
|Параллельная установка|[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]Собственный режим не может работать параллельно с любым из следующих элементов:<br /><br /> [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]надстройка для SharePoint<br /><br /> [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]Общая служба SharePoint<br /><br /> <br /><br /> Параллельная установка предотвращает [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Запуск службы Windows в собственном режиме. В журнал событий Windows будут помещены примерно следующие сообщения:<br /><br /> Описание: недопустимая версия базы данных сервера отчетов.<br /><br /> Описание: сервер отчетов [имя сервера] не может подключиться к базе данных сервера отчетов.|[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] Основной режим|  
|Ошибка в процессе исправления неудачного обновления|**Вопрос.** Попытка выполнить восстановление после сбоя обновления. Операция исправления также завершается ошибкой, а в файлах журнала программы установки выводятся сообщения, подобные следующим.<br /><br /> `(01) 2011-10-27 12:23:15 Slp:` <br /> `(01) 2011-10-27 12:23:15 Slp: Exception type: System.Exception` <br /> `(01) 2011-10-27 12:23:15 Slp:     Message:`  <br /> `(01) 2011-10-27 12:23:15 Slp:         SQLPath element is missing` <br /> `(01) 2011-10-27 12:23:15 Slp:     Data:`  <br /> `(01) 2011-10-27 12:23:15 Slp:       SQL.Setup.FailureCategory = ConfigurationFailure`<br /><br /> Дополнительные сведения о файлах журналов см. в разделе [Просмотр и чтение SQL Server файлов журнала установки](../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).<br /><br /> **Решение:** Необходимо удалить [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и переустановить [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . В этом случае обновление уже невозможно.|[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL11SP1](../../includes/sssql11sp1-md.md)]|  
|Данные о взаимодействии сохраняются только для последнего запроса.|В более ранних версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] моментальные снимки сохраняли все возможные сочетания интерактивных выборов, в том числе данные детализации и выбранные положения переключателей. Например, можно было просматривать пятую страницу отчета, но программно переключить элемент на первой странице, так как сохранялся правильный идентификатор переключателя.<br /><br /> В [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] сведения о взаимодействии формируются и сохраняются только для последнего запроса на подготовку к просмотру. Нельзя, просматривая страницу, программно переключить элемент на другой странице. Можно переключать только объекты углубленной детализации на текущей странице отчета.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Изменилось разбиение на страницы и подготовка к просмотру.|Объектная модель отрисовки (ПЗУ) изменилась в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Более ранние версии объектной модели для подготовки отчетов больше не поддерживаются. Доступ к модели объектов для подготовки отчетов из многопоточного модуля подготовки отчетов (и переключение контекста между разными потоками) не поддерживается.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Изменен формат экспорта CSV.|В более ранних версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] при экспорте отчета в файл формата CSV данные форматировались так, чтобы сохранялся формат, в котором они появлялись на странице отчета. В результате данные из матричной области данных представлялись в формате, который плохо подходил для импорта в другие приложения.<br /><br /> В этом выпуске при экспорте отчета в CSV-файл можно выбрать один из двух поддерживаемых форматов: режим по умолчанию и соответствующий режим. Формат по умолчанию оптимизирован для использования в электронных таблицах Excel. Совместимый формат оптимизирован для приложений сторонних разработчиков.<br /><br /> Формат CSV-файлов, который использовался ранее, больше не поддерживается. Однако для отчетов, не использующих матричные области данных, можно использовать совместимый формат, чтобы получить файл в формате, наиболее близком к формату CSV-файлов предыдущих версий.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Статистические объекты с условной видимостью в нижних и верхних колонтитулах.|В ранних версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] различные модули подготовки отчетов использовали различные правила для включения объектов с условной видимостью в страницы отчетов. Например, статистические вычисления для скрытых объектов в печатаемых отчетах не выполнялись, а для скрытых объектов в отчетах, просматриваемых с помощью браузера или программы [!INCLUDE[msCoName](../../includes/msconame-md.md)] Office ExcelExcel, выполнялись.<br /><br /> В данной версии все модули подготовки отчетов используют одни и те же правила для включения объектов в страницы отчетов.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Формулы в электронных таблицах Excel не поддерживаются.|В более ранних версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] существовала ограниченная поддержка для перевода выражений языка определения отчетов в формулы электронных таблиц Excel. В этой версии при экспорте отчета в Excel выражения языка определения отчетов не переводятся в формулы Excel.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Наложение элементов.|В предыдущих версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], если элементы отчета перекрывались в области конструктора, при публикации отчетов выдавалось предупреждение («Перекрытие элементов отчета не поддерживается в некоторых модулях подготовки отчетов»). В [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] при просмотре отчета или экспорте его в модуль подготовки отчетов, не поддерживающий наложения элементов, элементы отчета можно перемещать, чтобы исправить границы наложения.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Изменено пространство имен модели объектов отчетов.|В [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] изменилось пространство имен модели объектов отчетов. Это пространство имен предоставляет доступ только для чтения из пользовательского кода к глобальным коллекциям, таким как `Fields`, `Parameters` и `ReportItems`. Если существующий пользовательский код будет использовать полное имя из предыдущего пространства имен, он перестанет работать в результате данного изменения.<br /><br /> При доступе к встроенным коллекциям из пользовательского кода не рекомендуется использовать полные имена. Если пространство имен не указано явно, ссылки в пользовательском коде будут разрешены с использованием версии модели объектов отчетов, существующей в текущей установленной версии служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Поставщик инструментария управления Windows (инструментарий WMI) для сервера отчетов из состава [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2000 или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]2005 не поддерживается.|Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] включают поставщик WMI, который можно использовать для программной настройки среды, в которой работает сервер отчетов. Выпуск служб [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] из состава [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] включает новейшую версию поставщика WMI, полностью заменяющую предыдущую. Версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2000 и 2005 не поддерживаются в данной версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Имена участников-служб не создаются повторно на обновленном сервере отчетов.|Если для веб-службы сервера отчетов создано имя участника-службы, необходимо убедиться, что на обновленном сервере отчетов по-прежнему работает ограниченное делегирование.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
|Пользовательские сборки должны быть вручную перемещены в новую папку установки.|Пользовательские сборки не обнаруживаются помощником по обновлению, они должны быть вручную перемещены в новую папку установки, если желательно продолжить использовать пользовательские функции в отчетах.<br /><br /> Если эти сборки установлены в папку установки сервера отчетов, необходимо переместить их в новую папку установки после завершения обновления.|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2005 с пакетом обновления 2 (SP2)|  
  
## <a name="see-also"></a>См. также:  
 [Reporting Services проблем обновления &#40;советник по переходу&#41;](../../../2014/sql-server/install/reporting-services-upgrade-issues-upgrade-advisor.md)  
  
  

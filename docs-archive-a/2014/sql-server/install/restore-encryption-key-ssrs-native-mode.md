---
title: Восстановление ключа шифрования (собственный режим служб SSRS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- SQL12.rsconfigtool.restoreencryptionkey.F1
ms.assetid: 11ce51e5-f5d4-40b6-88d8-9360fb50e66c
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 3047e81b3f79219064f81a3492afe6460e1e4966
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654743"
---
# <a name="restore-encryption-key-ssrs-native-mode"></a><span data-ttu-id="cc726-102">Восстановление ключа шифрования (службы Reporting Services в собственном режиме)</span><span class="sxs-lookup"><span data-stu-id="cc726-102">Restore Encryption Key (SSRS Native Mode)</span></span>
  <span data-ttu-id="cc726-103">Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] используют ключ шифрования для защиты конфиденциальных данных, хранящихся в базе данных сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="cc726-103">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] uses an encryption key to secure sensitive data that is stored in the report server database.</span></span> <span data-ttu-id="cc726-104">Чтобы не лишиться доступа к зашифрованным данным в результате смены учетной записи службы или запланированной миграции, необходимо создать резервную копию ключа шифрования.</span><span class="sxs-lookup"><span data-stu-id="cc726-104">To ensure that you have continued access to encrypted data, it is important that you create a backup of the encryption key in case you need to restore it later due to changes in the service account or as part of a planned migration.</span></span> <span data-ttu-id="cc726-105">Этот раздел содержит общие сведения об использовании диспетчера конфигурации [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] для восстановления ключей.</span><span class="sxs-lookup"><span data-stu-id="cc726-105">This topic is an overview of how to use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to restore keys.</span></span>  
  
 [!INCLUDE[applies](../../includes/applies-md.md)]<span data-ttu-id="cc726-106">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]Собственный режим.</span><span class="sxs-lookup"><span data-stu-id="cc726-106">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode.</span></span>  
  
 <span data-ttu-id="cc726-107">Чтобы обеспечить возможность восстановления ключа, необходимо сохранить его резервную копию в файле, защищенном паролем.</span><span class="sxs-lookup"><span data-stu-id="cc726-107">To restore the key, you must have previously saved a backup copy of the key to a password protected file.</span></span> <span data-ttu-id="cc726-108">В процессе восстановления сервер отчетов заменит существующий ключ ключом из файла, защищенного паролем.</span><span class="sxs-lookup"><span data-stu-id="cc726-108">During key restoration, the report server will replace an existing key with the key that is found in the password protected file.</span></span> <span data-ttu-id="cc726-109">Ключ в этом файле должен быть идентичен тому, который применялся для шифрования и расшифровки данных.</span><span class="sxs-lookup"><span data-stu-id="cc726-109">The key that is inside the file must be identical to the key that is used to encrypt and decrypt data.</span></span>  
  
 <span data-ttu-id="cc726-110">Чтобы проверить правильность восстановления ключа, при помощи диспетчера отчетов просмотрите подписку или какой-либо отчет, который обращается к источнику данных с сохраненными учетными данными.</span><span class="sxs-lookup"><span data-stu-id="cc726-110">To verify whether you restored a valid key, use Report Manager to view subscriptions or any report that has a data source that uses stored credentials.</span></span> <span data-ttu-id="cc726-111">Если при попытке открыть страницу с определением подписки появляется сообщение об ошибке «Серверу отчетов не удается получить доступ к зашифрованным данным» либо если при открытии отчета появляется приглашение для ввода учетных данных, то восстановлен не тот ключ.</span><span class="sxs-lookup"><span data-stu-id="cc726-111">If you receive "The report server is unable to access encrypted data" error when attempting to open a subscription definition page, or if you are prompted to enter credentials when opening a report that previously used stored credentials for the report data source, you restored an invalid key.</span></span>  
  
 <span data-ttu-id="cc726-112">Если восстановлен не тот ключ, при помощи которого производилось шифрование данных, хранящихся в базе данных сервера отчетов, то их расшифровка будет невозможна.</span><span class="sxs-lookup"><span data-stu-id="cc726-112">If you restore an invalid key that is different from the one used to encrypt the data, it will be impossible to decrypt data that is currently stored in the report server database.</span></span> <span data-ttu-id="cc726-113">В этом случае следует немедленно восстановить правильный ключ из резервной копии, если она доступна.</span><span class="sxs-lookup"><span data-stu-id="cc726-113">If you restore an invalid key, you should immediately restore a backup copy of the correct key if it is available.</span></span> <span data-ttu-id="cc726-114">При отсутствии резервной копии ключа, которым производилось шифрование данных, все зашифрованные данные придется удалить.</span><span class="sxs-lookup"><span data-stu-id="cc726-114">If you do not have a backup copy of the key that was used to encrypt data, you must delete all encrypted data.</span></span> <span data-ttu-id="cc726-115">Чтобы выполнить этот шаг, на странице **Ключи шифрования** нажмите кнопку [Удалить](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md) .</span><span class="sxs-lookup"><span data-stu-id="cc726-115">Click the **Delete** button on the [Encryption Keys](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md) page to perform this step.</span></span> <span data-ttu-id="cc726-116">После удаления зашифрованного содержимого необходимо вручную обновить все подписки и повторно задать все сохраненные учетные данные, которые определены для отчетов и управляемых данными подписок на сервере отчетов.</span><span class="sxs-lookup"><span data-stu-id="cc726-116">After you delete the encrypted content, you must manually update all subscriptions and re-specify all stored credentials defined for reports and data-driven subscriptions on the report server.</span></span>  
  
## <a name="restore-encryption-key-dialog"></a><span data-ttu-id="cc726-117">Диалоговое окно «Восстановление ключа шифрования»</span><span class="sxs-lookup"><span data-stu-id="cc726-117">Restore Encryption Key Dialog</span></span>  
 <span data-ttu-id="cc726-118">Сведения о том, где найти [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, см. в разделе [Диспетчер конфигурации служб Reporting Services &#40;основном режиме&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).</span><span class="sxs-lookup"><span data-stu-id="cc726-118">For information on where to find the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
 <span data-ttu-id="cc726-119">Чтобы открыть диалоговое окно «Восстановление ключа шифрования», выберите элемент **Ключи шифрования** на панели навигации диспетчера конфигурации служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , а затем щелкните **Восстановить**.</span><span class="sxs-lookup"><span data-stu-id="cc726-119">To open the Restore Encryption Key dialog box, click **Encryption Keys** in the navigation pane of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, and then click **Restore**.</span></span> <span data-ttu-id="cc726-120">Это диалоговое окно отображается при обновлении учетной записи службы на странице «Учетная запись службы» диспетчера конфигурации служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cc726-120">This dialog box also appears when you update the service account using the Service Account page in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="cc726-121">Дополнительные сведения о</span><span class="sxs-lookup"><span data-stu-id="cc726-121">For more information on the</span></span>  
  
## <a name="options"></a><span data-ttu-id="cc726-122">Варианты</span><span class="sxs-lookup"><span data-stu-id="cc726-122">Options</span></span>  
 <span data-ttu-id="cc726-123">**Расположение файла**</span><span class="sxs-lookup"><span data-stu-id="cc726-123">**File Location**</span></span>  
 <span data-ttu-id="cc726-124">Выберите файл, защищенный паролем, который содержит копию симметричного ключа.</span><span class="sxs-lookup"><span data-stu-id="cc726-124">Select the password-protected file that contains a copy of the symmetric key.</span></span> <span data-ttu-id="cc726-125">По умолчанию файл имеет расширение SNK.</span><span class="sxs-lookup"><span data-stu-id="cc726-125">The default file extension is .snk.</span></span>  
  
 <span data-ttu-id="cc726-126">**Пароль**</span><span class="sxs-lookup"><span data-stu-id="cc726-126">**Password**</span></span>  
 <span data-ttu-id="cc726-127">Введите пароль, чтобы разблокировать этот файл.</span><span class="sxs-lookup"><span data-stu-id="cc726-127">Enter the password that unlocks the file.</span></span> <span data-ttu-id="cc726-128">Восстановление ключа возможно только после ввода пароля пользователем.</span><span class="sxs-lookup"><span data-stu-id="cc726-128">Only users who know the password can restore the key.</span></span> <span data-ttu-id="cc726-129">Службы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] применяют политику надежных паролей.</span><span class="sxs-lookup"><span data-stu-id="cc726-129">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] enforces a strong password policy.</span></span> <span data-ttu-id="cc726-130">Пароль должен содержать не менее 8 символов и состоять из цифровых и алфавитных символов в верхнем и нижнем регистре, а также как минимум один специальный символ.</span><span class="sxs-lookup"><span data-stu-id="cc726-130">The password must contain at least 8 characters and include a combination of uppercase and lowercase alphanumeric characters and at least one symbol character.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cc726-131">См. также:</span><span class="sxs-lookup"><span data-stu-id="cc726-131">See Also</span></span>  
 <span data-ttu-id="cc726-132">[Диспетчер конфигурации служб Reporting Services разделы справки F1 &#40;служб SSRS в собственном режиме&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="cc726-132">[Reporting Services Configuration Manager F1 Help Topics &#40;SSRS Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="cc726-133">[Резервное копирование и восстановление ключей шифрования служб Reporting Services](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="cc726-133">[Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="cc726-134">[Удаление и повторное создание ключей шифрования (диспетчер конфигурации служб SSRS)](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="cc726-134">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="cc726-135">[Инициализация сервера отчетов &#40;диспетчер конфигурации служб SSRS&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="cc726-135">[Initialize a Report Server &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span></span>  
 <span data-ttu-id="cc726-136">[Хранение зашифрованных данных сервера отчетов &#40;диспетчер конфигурации служб SSRS&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span><span class="sxs-lookup"><span data-stu-id="cc726-136">[Store Encrypted Report Server Data &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span></span>  
 [<span data-ttu-id="cc726-137">Ключи шифрования &#40;&#41;служб SSRS в собственном режиме</span><span class="sxs-lookup"><span data-stu-id="cc726-137">Encryption Keys &#40;SSRS Native Mode&#41;</span></span>](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md)  
  
  

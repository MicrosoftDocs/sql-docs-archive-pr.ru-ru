---
title: Настройка многосетевого компьютера для доступа к SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- ports [SQL Server], multi-homed computer
- multi-homed computer [SQL Server] configuring ports
- firewall systems [Database Engine], multi-homed computer
ms.assetid: ba369e5b-7d1f-4544-b7f1-9b098a1e75bc
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b20fa552e57441ef211049f0e51b4f8d65e6f2e1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665783"
---
# <a name="configure-a-multi-homed-computer-for-sql-server-access"></a><span data-ttu-id="56cca-102">Настройка многосетевого компьютера для доступа к SQL Server</span><span class="sxs-lookup"><span data-stu-id="56cca-102">Configure a Multi-Homed Computer for SQL Server Access</span></span>
  <span data-ttu-id="56cca-103">Если сервер должен предоставить соединение с двумя или более сетями или подсетями, обычно используется многосетевой компьютер.</span><span class="sxs-lookup"><span data-stu-id="56cca-103">When a server must provide a connection to two or more networks or network subnets, a typical scenario uses a multi-homed computer.</span></span> <span data-ttu-id="56cca-104">Часто этот компьютер расположен в пограничной сети (также известной как сеть периметра, сеть периметра или экранированная подсеть).</span><span class="sxs-lookup"><span data-stu-id="56cca-104">Frequently this computer is located in a perimeter network (also known as DMZ, demilitarized zone, or screened subnet).</span></span> <span data-ttu-id="56cca-105">В этом разделе описываются настройки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и брандмауэра Windows в режиме повышенной безопасности для предоставления сетевого подключения экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в многосетевой среде.</span><span class="sxs-lookup"><span data-stu-id="56cca-105">This topic describes how to configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and Windows Firewall with Advanced Security to provide for network connections to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in a multi-homed environment.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="56cca-106">Многосетевой компьютер имеет несколько сетевых адаптеров или настроен для использования нескольких IP-адресов через один сетевой адаптер.</span><span class="sxs-lookup"><span data-stu-id="56cca-106">A multi-homed computer has multiple network adapters or has been configured to use multiple IP addresses for a single network adapter.</span></span> <span data-ttu-id="56cca-107">Компьютер с двойной привязкой имеет два сетевых адаптера или настроен для использования двух IP-адресов через один сетевой адаптер.</span><span class="sxs-lookup"><span data-stu-id="56cca-107">A dual-homed computer has two network adapters or has been configured to use two IP addresses for a single network adapter.</span></span>  
  
 <span data-ttu-id="56cca-108">Прежде чем продолжать знакомство с этим разделом, необходимо ознакомиться со сведениями, представленными в разделе [Настройка брандмауэра Windows для разрешения доступа к SQL Server](../../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="56cca-108">Before you continue in this topic, you should be familiar with the information provided in the topic [Configure the Windows Firewall to Allow SQL Server Access](../../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span> <span data-ttu-id="56cca-109">Этот раздел содержит основные сведения о работе компонентов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с брандмауэром.</span><span class="sxs-lookup"><span data-stu-id="56cca-109">This topic contains basic information about how [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components work with the firewall.</span></span>  
  
 <span data-ttu-id="56cca-110">**В этом примере предполагается следующее.**</span><span class="sxs-lookup"><span data-stu-id="56cca-110">**Assumptions for this example:**</span></span>  
  
-   <span data-ttu-id="56cca-111">На компьютере установлены два сетевых адаптера.</span><span class="sxs-lookup"><span data-stu-id="56cca-111">There are two network adapters installed in the computer.</span></span> <span data-ttu-id="56cca-112">Один или несколько сетевых адаптеров могут быть беспроводными.</span><span class="sxs-lookup"><span data-stu-id="56cca-112">One or more of the network adapters can be wireless.</span></span> <span data-ttu-id="56cca-113">Можно имитировать работу с двумя сетевыми адаптерами, используя IP-адрес одного сетевого адаптера и IP-адрес замыкания на себя (127.0.0.1) в качестве второго сетевого адаптера.</span><span class="sxs-lookup"><span data-stu-id="56cca-113">You can simulate having two network adapters by using the IP address of one network adapter, and using the loopback IP address (127.0.0.1) as the second network adapter.</span></span>  
  
-   <span data-ttu-id="56cca-114">Для простоты в этом примере используются адреса IPv4.</span><span class="sxs-lookup"><span data-stu-id="56cca-114">For simplicity, this example uses IPv4 addresses.</span></span> <span data-ttu-id="56cca-115">Те же процедуры могут выполняться с адресами IPv6.</span><span class="sxs-lookup"><span data-stu-id="56cca-115">The same procedures can be performed by using IPv6 addresses.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="56cca-116">Адреса IPv4 представляют собой ряд четырехзначных цифр, которые называются октетами.</span><span class="sxs-lookup"><span data-stu-id="56cca-116">IPv4 addresses are a series of four numbers known as octets.</span></span> <span data-ttu-id="56cca-117">Каждый номер меньше 255 и разделяется точками, например 127.0.0.1.</span><span class="sxs-lookup"><span data-stu-id="56cca-117">Each number is less than 255, separated by periods, such as 127.0.0.1.</span></span> <span data-ttu-id="56cca-118">Адреса IPv6 представляют собой ряд из восьми шестнадцатеричных цифр, разделенных двоеточием, например fe80:4898:23:3:49a6:f5c1:2452:b994.</span><span class="sxs-lookup"><span data-stu-id="56cca-118">IPv6 addresses are a series of eight hexadecimal numbers separated by colons, such as fe80:4898:23:3:49a6:f5c1:2452:b994.</span></span>  
  
-   <span data-ttu-id="56cca-119">Правила брандмауэра могут разрешать доступ к конкретному порту, например к порту 1433.</span><span class="sxs-lookup"><span data-stu-id="56cca-119">Firewall rules could allow access through a specific port, such as port 1433.</span></span> <span data-ttu-id="56cca-120">Также правила брандмауэра могут разрешать доступ к программе компонента [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] (sqlservr.exe).</span><span class="sxs-lookup"><span data-stu-id="56cca-120">Or firewall rules could allow access to the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] program (sqlservr.exe).</span></span> <span data-ttu-id="56cca-121">Эти методы мало отличаются друг от друга.</span><span class="sxs-lookup"><span data-stu-id="56cca-121">Neither method is better than the other.</span></span> <span data-ttu-id="56cca-122">Поскольку сервер в пограничной сети более уязвим для атаки, чем серверы в интрасети, в этом разделе предполагается, что обеспечивается более полный контроль путем открытия конкретных портов.</span><span class="sxs-lookup"><span data-stu-id="56cca-122">Because a server in a perimeter network is more vulnerable to attack than servers on an intranet, this topic assumes that you want to have more precise control, and individually select the ports that you open.</span></span> <span data-ttu-id="56cca-123">По этой причине предполагается настройка [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для прослушивания фиксированного порта.</span><span class="sxs-lookup"><span data-stu-id="56cca-123">For that reason, this topic assumes that you will configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to listen on a fixed port.</span></span> <span data-ttu-id="56cca-124">Дополнительные сведения о портах, используемых [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , см. в разделе [Настройка брандмауэра Windows для разрешения доступа к SQL Server](../../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="56cca-124">For more information about the ports that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uses, see [Configure the Windows Firewall to Allow SQL Server Access](../../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span>  
  
-   <span data-ttu-id="56cca-125">В примере настраивается доступ к компоненту [!INCLUDE[ssDE](../../includes/ssde-md.md)] через TCP-порт 1433.</span><span class="sxs-lookup"><span data-stu-id="56cca-125">This example configures access to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] by using TCP port 1433.</span></span> <span data-ttu-id="56cca-126">Другие порты, которые используются различными компонентами [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , можно настроить с помощью тех же общих шагов.</span><span class="sxs-lookup"><span data-stu-id="56cca-126">The other ports that are the different [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components use can be configured by using the same general steps.</span></span>  
  
 <span data-ttu-id="56cca-127">**Ниже указаны необходимые общие шаги в этом примере.**</span><span class="sxs-lookup"><span data-stu-id="56cca-127">**The general steps in this example are as follows:**</span></span>  
  
-   <span data-ttu-id="56cca-128">Определение IP-адреса компьютера.</span><span class="sxs-lookup"><span data-stu-id="56cca-128">Determine the IP addresses on the computer.</span></span>  
  
-   <span data-ttu-id="56cca-129">Настройка [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для прослушивания конкретного TCP-порта.</span><span class="sxs-lookup"><span data-stu-id="56cca-129">Configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to listen on a specific TCP port.</span></span>  
  
-   <span data-ttu-id="56cca-130">Настройка брандмауэра Windows в режиме повышенной безопасности.</span><span class="sxs-lookup"><span data-stu-id="56cca-130">Configure Windows Firewall with Advanced Security.</span></span>  
  
## <a name="optional-procedures"></a><span data-ttu-id="56cca-131">Необязательные процедуры</span><span class="sxs-lookup"><span data-stu-id="56cca-131">Optional Procedures</span></span>  
 <span data-ttu-id="56cca-132">Если IP-адреса, доступные для компьютера и используемые [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], уже известны, эти процедуры можно пропустить.</span><span class="sxs-lookup"><span data-stu-id="56cca-132">If you already know the IP addresses available to your computer and that are used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you can skip these procedures.</span></span>  
  
#### <a name="to-determine-the-ip-addresses-available-on-the-computer"></a><span data-ttu-id="56cca-133">Определение доступных для компьютера IP-адресов</span><span class="sxs-lookup"><span data-stu-id="56cca-133">To determine the IP addresses available on the computer</span></span>  
  
1.  <span data-ttu-id="56cca-134">На компьютере, на котором [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установлен, нажмите кнопку **Пуск**, выберите команду **выполнить**, введите, `cmd` а затем [!INCLUDE[clickOK](../../includes/clickok-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="56cca-134">On the computer on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is installed, click **Start**, click **Run**, type `cmd` and then [!INCLUDE[clickOK](../../includes/clickok-md.md)].</span></span>  
  
2.  <span data-ttu-id="56cca-135">В командной строке введите `ipconfig,` и нажмите клавишу ВВОД, чтобы вывести список IP-адресов, доступных на этом компьютере.</span><span class="sxs-lookup"><span data-stu-id="56cca-135">In the Command Prompt window, type `ipconfig,` and then press ENTER to list the IP addresses available on this computer.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="56cca-136">Команда **ipconfig** иногда выводит большой список возможных соединений, в том числе отключенных.</span><span class="sxs-lookup"><span data-stu-id="56cca-136">The **ipconfig** command sometimes lists many possible connections, including connections that are disconnected.</span></span> <span data-ttu-id="56cca-137">Команда **ipconfig** выводит как адреса IPv4, так и адреса IPv6.</span><span class="sxs-lookup"><span data-stu-id="56cca-137">The **ipconfig** command can list both IPv4 and IPv6 addresses.</span></span>  
  
3.  <span data-ttu-id="56cca-138">Запишите использующиеся адреса IPv4 и IPv6.</span><span class="sxs-lookup"><span data-stu-id="56cca-138">Note the IPv4 addresses and IPv6 addresses that are being used.</span></span> <span data-ttu-id="56cca-139">Другие сведения в списке, например временные адреса, маски подсети и шлюзы по умолчанию, являются важными для настройки сети TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="56cca-139">The other information in the list, such as temporary addresses, subnet masks, and default gateways is important information for configuring a TCP/IP network.</span></span> <span data-ttu-id="56cca-140">Однако они не используются в этом примере.</span><span class="sxs-lookup"><span data-stu-id="56cca-140">But this information is not used in this example.</span></span>  
  
#### <a name="to-determine-the-ip-addresses-and-ports-used-by-ssnoversion"></a><span data-ttu-id="56cca-141">Определение IP-адресов и портов, используемых [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="56cca-141">To determine the IP addresses and ports used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
  
1.  <span data-ttu-id="56cca-142">Нажмите кнопку **Пуск**, последовательно наведите указатель на пункты **Все программы**, [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)], **Средства настройки** и выберите пункт **Диспетчер конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** .</span><span class="sxs-lookup"><span data-stu-id="56cca-142">Click **Start**, point to **All Programs**, point to [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)], point to **Configuration Tools**, and then click **[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager**.</span></span>  
  
2.  <span data-ttu-id="56cca-143">В \*\* [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager**в области консоли разверните узел \*\* [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Конфигурация сети**, затем узел \*\*протоколы для \<instance name> \*\*, а затем дважды щелкните **TCP/IP**.</span><span class="sxs-lookup"><span data-stu-id="56cca-143">In **[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager**, in the console pane, expand **[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Network Configuration**, expand **Protocols for \<instance name>**, and then double-click **TCP/IP**.</span></span>  
  
3.  <span data-ttu-id="56cca-144">В диалоговом окне **Свойства TCP/IP** на вкладке **IP-адреса** появится несколько IP-адресов в формате **IP1**, **IP2**до **IPAll**.</span><span class="sxs-lookup"><span data-stu-id="56cca-144">In the **TCP/IP Properties** dialog box, on the **IP Addresses** tab, several IP addresses appear in the format **IP1**, **IP2**, up to **IPAll**.</span></span> <span data-ttu-id="56cca-145">Одним из приведенных IP-адресов является адрес адаптера заглушки 127.0.0.1.</span><span class="sxs-lookup"><span data-stu-id="56cca-145">One of these is for the IP address of the loopback adapter, 127.0.0.1.</span></span> <span data-ttu-id="56cca-146">Для каждого IP-адреса, настроенного на компьютере, появятся дополнительные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="56cca-146">Additional IP addresses appear for each IP Address configured on the computer.</span></span>  
  
4.  <span data-ttu-id="56cca-147">Если для какого-либо IP-адреса в диалоговом окне **Динамические TCP-порты** содержится значение **0**, это означает, что компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] прослушивает динамические порты.</span><span class="sxs-lookup"><span data-stu-id="56cca-147">For any IP address if the **TCP Dynamic Ports** dialog box contains **0**, this indicates that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is listening on dynamic ports.</span></span> <span data-ttu-id="56cca-148">В этом примере используются фиксированные, а не динамические порты, которые могут измениться после перезапуска компьютера.</span><span class="sxs-lookup"><span data-stu-id="56cca-148">This example uses fixed ports instead of dynamic ports which could change upon restart.</span></span> <span data-ttu-id="56cca-149">Поэтому, если в диалоговом окне **Динамические TCP-порты** содержится значение **0**, удалите его.</span><span class="sxs-lookup"><span data-stu-id="56cca-149">Therefore if the **TCP Dynamic Ports** dialog box contains **0**, delete the 0.</span></span>  
  
5.  <span data-ttu-id="56cca-150">Запишите TCP-порт, который приводится в списке для каждого настраиваемого IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="56cca-150">Note the TCP port that is listed for each IP address that you want to configure.</span></span> <span data-ttu-id="56cca-151">В этом примере предполагается, что оба IP-адреса прослушивают порт по умолчанию 1433.</span><span class="sxs-lookup"><span data-stu-id="56cca-151">For this example, assume that both IP addresses are listening on the default port, 1433.</span></span>  
  
6.  <span data-ttu-id="56cca-152">Если нежелательно, чтобы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] использовал некоторые доступные порты, на вкладке **Протокол** измените значение **Прослушивать все** на значение **Нет**, а на вкладке **IP-адреса** измените значение **Активный** на **Нет** для IP-адресов, которые не будут использоваться.</span><span class="sxs-lookup"><span data-stu-id="56cca-152">If you do not want [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to use some of the available ports, on the **Protocol** tab, change the **Listen All** value to **No**; and on the **IP Addresses** tab, change the **Active** value to **No** for the IP addresses that you do not want to use.</span></span>  
  
## <a name="configuring-windows-firewall-with-advanced-security"></a><span data-ttu-id="56cca-153">Настройка брандмауэра Windows в режиме повышенной безопасности</span><span class="sxs-lookup"><span data-stu-id="56cca-153">Configuring Windows Firewall with Advanced Security</span></span>  
 <span data-ttu-id="56cca-154">После того как стали известны IP-адреса, которые использует компьютер, и порты [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , можно создать правила брандмауэра, а затем настроить эти правила для конкретных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="56cca-154">After you know the IP addresses that the computer uses and the ports that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uses, you can create firewall rules, and then configure those rules for specific IP addresses.</span></span>  
  
#### <a name="to-create-a-firewall-rule"></a><span data-ttu-id="56cca-155">Создание правила брандмауэра</span><span class="sxs-lookup"><span data-stu-id="56cca-155">To create a firewall rule</span></span>  
  
1.  <span data-ttu-id="56cca-156">На компьютере, на котором установлен [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , войдите в систему в качестве администратора.</span><span class="sxs-lookup"><span data-stu-id="56cca-156">On the computer on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is installed, log on as an administrator..</span></span>  
  
2.  <span data-ttu-id="56cca-157">Нажмите кнопку **Пуск**, выберите команду **выполнить**, введите `wf.msc` и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="56cca-157">Click **Start**, click **Run**, type `wf.msc`, and click **OK**.</span></span>  
  
3.  <span data-ttu-id="56cca-158">В диалоговом окне **Контроль учетных записей пользователей** нажмите кнопку **Продолжить** , чтобы с помощью учетных данных администратора открыть оснастку брандмауэра Windows в режиме повышенной безопасности.</span><span class="sxs-lookup"><span data-stu-id="56cca-158">In the **User Account Control** dialog box, click **Continue** to use the Administrator credentials to open the Windows Firewall with Advanced Security snap-in.</span></span>  
  
4.  <span data-ttu-id="56cca-159">На странице **Обзор** подтвердите, что брандмауэр Windows включен.</span><span class="sxs-lookup"><span data-stu-id="56cca-159">On the **Overview** page, confirm that the Windows Firewall is enabled.</span></span>  
  
5.  <span data-ttu-id="56cca-160">В левой панели щелкните **Правила для входящих подключений**.</span><span class="sxs-lookup"><span data-stu-id="56cca-160">In the left pane, click **Inbound Rules**.</span></span>  
  
6.  <span data-ttu-id="56cca-161">Щелкните правой кнопкой мыши **Правила для входящих подключений**и выберите команду **Создать правило** , чтобы открыть **мастер создания правила для входящего подключения**.</span><span class="sxs-lookup"><span data-stu-id="56cca-161">Right-click **Inbound Rules**, and then click **New Rule** to open the **New Inbound Rule Wizard**.</span></span>  
  
7.  <span data-ttu-id="56cca-162">Можно создать правило для программы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="56cca-162">You could create a rule for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] program.</span></span> <span data-ttu-id="56cca-163">Так как в этом примере используется фиксированный порт, выберите **Порт**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="56cca-163">However, because this example uses a fixed port, select **Port**, and then click **Next**.</span></span>  
  
8.  <span data-ttu-id="56cca-164">На странице **Протоколы и порты** выберите **TCP**.</span><span class="sxs-lookup"><span data-stu-id="56cca-164">On the **Protocols and Ports** page, select **TCP**.</span></span>  
  
9. <span data-ttu-id="56cca-165">Выберите **Указанные локальные порты**.</span><span class="sxs-lookup"><span data-stu-id="56cca-165">Select **Specified local ports**.</span></span> <span data-ttu-id="56cca-166">Введите номера портов через запятую и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="56cca-166">Type the port numbers separated by commas, and then click **Next**.</span></span> <span data-ttu-id="56cca-167">В этом примере настраивается порт по умолчанию, поэтому введите `1433`.</span><span class="sxs-lookup"><span data-stu-id="56cca-167">In this example, you will configure the default port; therefore, enter `1433`.</span></span>  
  
10. <span data-ttu-id="56cca-168">На странице **Действия** просмотрите параметры.</span><span class="sxs-lookup"><span data-stu-id="56cca-168">On the **Action** page, review the options.</span></span> <span data-ttu-id="56cca-169">В этом примере брандмауэр не используется для принудительного включения безопасных соединений.</span><span class="sxs-lookup"><span data-stu-id="56cca-169">In this example, you are not using the firewall to force secure connections.</span></span> <span data-ttu-id="56cca-170">Поэтому выберите **Разрешить подключение**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="56cca-170">Therefore, click **Allow the connection**, and then click **Next**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="56cca-171">Однако среда может потребовать безопасные соединения.</span><span class="sxs-lookup"><span data-stu-id="56cca-171">Your environment might require secure connections.</span></span> <span data-ttu-id="56cca-172">Если выбрать один из параметров безопасных соединений, можно настроить сертификат, а затем — параметр **Принудительное шифрование** .</span><span class="sxs-lookup"><span data-stu-id="56cca-172">If you select one of the secure connections options, you might have to configure a certificate and the **Force Encryption** option.</span></span> <span data-ttu-id="56cca-173">Дополнительные сведения о безопасных соединениях см. в разделах [Включение шифрования соединений в ядре СУБД (диспетчер конфигурации SQL Server)](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) и [Включение шифрования соединений в ядре СУБД (диспетчер конфигурации SQL Server)](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="56cca-173">For more information about secure connections, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) and [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
11. <span data-ttu-id="56cca-174">На странице **Профиль** выберите один или несколько профилей для этого правила.</span><span class="sxs-lookup"><span data-stu-id="56cca-174">On the **Profile** page, select one or more profiles for the rule.</span></span> <span data-ttu-id="56cca-175">Чтобы получить дополнительные сведения о профилях брандмауэра, щелкните ссылку **Подробнее о профилях** в программе брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="56cca-175">If you are unfamiliar with firewall profiles, click the **Learn more about profiles** link in the firewall program.</span></span>  
  
    -   <span data-ttu-id="56cca-176">Если компьютер является сервером и доступен только при соединении с доменом, выберите **Домен**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="56cca-176">If the computer is a server and is available only when it is connected to a domain, select **Domain**, and then click **Next**.</span></span>  
  
    -   <span data-ttu-id="56cca-177">Если компьютер является мобильным (например, переносным компьютером), он, скорее всего, будет использовать несколько профилей при соединении с разными сетями.</span><span class="sxs-lookup"><span data-stu-id="56cca-177">If the computer is a mobile computer (for example a laptop), it is likely to use multiple profiles when it connects to different networks.</span></span> <span data-ttu-id="56cca-178">В этом случае можно настроить разные возможности доступа для разных профилей.</span><span class="sxs-lookup"><span data-stu-id="56cca-178">For a mobile computer, you can configure different access capabilities for different profiles.</span></span> <span data-ttu-id="56cca-179">Например, можно разрешить доступ, если компьютер использует профиль домена, и не разрешить — при использовании открытого профиля.</span><span class="sxs-lookup"><span data-stu-id="56cca-179">For example, you might allow access when the computer uses the Domain profile but not allow access when it uses the Public profile.</span></span>  
  
12. <span data-ttu-id="56cca-180">На странице **Имя** введите имя и описание правила и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="56cca-180">On the **Name** page, provide a name and description for the rule, and then click **Finish**.</span></span>  
  
13. <span data-ttu-id="56cca-181">Повторите эту процедуру для создания другого правила для каждого IP-адреса, используемого [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="56cca-181">Repeat this procedure to create another rule for each IP address that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will use.</span></span>  
  
 <span data-ttu-id="56cca-182">После создания одного или нескольких правил выполните следующие шаги, чтобы настроить каждый IP-адрес компьютера для использования правил.</span><span class="sxs-lookup"><span data-stu-id="56cca-182">After you have created one or more rules, perform the following steps to configure each IP address on the computer to use a rule.</span></span>  
  
#### <a name="to-configure-the-firewall-rule-for-a-specific-ip-addresses"></a><span data-ttu-id="56cca-183">Настройка правила брандмауэра для конкретных IP-адресов</span><span class="sxs-lookup"><span data-stu-id="56cca-183">To configure the firewall rule for a specific IP addresses</span></span>  
  
1.  <span data-ttu-id="56cca-184">На странице **Правила для входящих подключений** окна **Брандмауэр Windows в режиме повышенной безопасности**щелкните правой кнопкой мыши только что созданное правило и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="56cca-184">On the **Inbound Rules** page of the **Windows Firewall with Advanced Security**, right-click the rule that you just created, and then click **Properties**.</span></span>  
  
2.  <span data-ttu-id="56cca-185">В диалоговом окне **Свойства правила** перейдите на вкладку **Область** .</span><span class="sxs-lookup"><span data-stu-id="56cca-185">In the **Rule Properties** dialog box, select the **Scope** tab.</span></span>  
  
3.  <span data-ttu-id="56cca-186">В области **Локальный IP-адрес** выберите **Указанные IP-адреса**и нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="56cca-186">In the **Local IP address** area, select **These IP addresses**, and then click **Add**.</span></span>  
  
4.  <span data-ttu-id="56cca-187">В диалоговом окне **IP-адрес** выберите **IP-адрес или подсеть**и введите один из IP-адресов, которые нужно настроить.</span><span class="sxs-lookup"><span data-stu-id="56cca-187">In the **IP Address** dialog box, select **This IP address or subnet**, and then type one of the IP addresses that you want to configure.</span></span>  
  
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
6.  <span data-ttu-id="56cca-188">В области **Удаленный IP-адрес** выберите **Указанные IP-адреса**и нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="56cca-188">In the **Remote IP address** area, select **These IP addresses**, and then click **Add**.</span></span>  
  
7.  <span data-ttu-id="56cca-189">В диалоговом окне **IP-адрес** настройте обмен данными для выбранного IP-адреса компьютера.</span><span class="sxs-lookup"><span data-stu-id="56cca-189">Use the **IP Address** dialog box to configure connectivity for the selected IP address on the computer.</span></span> <span data-ttu-id="56cca-190">Можно включать соединения через указанные IP-адреса, диапазоны IP-адресов, целые подсети или определенные компьютеры.</span><span class="sxs-lookup"><span data-stu-id="56cca-190">You can enable connections from specified IP addresses, ranges of IP addresses, whole subnets, or from certain computers.</span></span> <span data-ttu-id="56cca-191">Чтобы правильно настроить этот параметр, необходимо хорошо понимать работу сети.</span><span class="sxs-lookup"><span data-stu-id="56cca-191">To configure this option correctly, you must have a good understanding of the network.</span></span> <span data-ttu-id="56cca-192">Сведения о сети можно узнать у администратора сети.</span><span class="sxs-lookup"><span data-stu-id="56cca-192">For information about the network, see the network administrator.</span></span>  
  
8.  <span data-ttu-id="56cca-193">Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **IP-адрес**, затем нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Свойства правила** .</span><span class="sxs-lookup"><span data-stu-id="56cca-193">To close the **IP Address** dialog box, click **OK**; and then click **OK** to close the **Rule Properties** dialog box.</span></span>  
  
9. <span data-ttu-id="56cca-194">Чтобы настроить другие IP-адреса на многосетевом компьютере, повторите эту процедуру для каждого IP-адреса, используя другое правило.</span><span class="sxs-lookup"><span data-stu-id="56cca-194">To configure the other IP addresses on a multi-homed computer, repeat this procedure by using another IP address and another rule.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="56cca-195">См. также:</span><span class="sxs-lookup"><span data-stu-id="56cca-195">See Also</span></span>  
 <span data-ttu-id="56cca-196">[Служба обозревателя SQL Server (компонент Database Engine и SSAS)](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md) </span><span class="sxs-lookup"><span data-stu-id="56cca-196">[SQL Server Browser Service &#40;Database Engine and SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md) </span></span>  
 [<span data-ttu-id="56cca-197">Подключение к SQL Server через прокси-сервер (диспетчер конфигурации SQL Server)</span><span class="sxs-lookup"><span data-stu-id="56cca-197">Connect to SQL Server Through a Proxy Server &#40;SQL Server Configuration Manager&#41;</span></span>](../../relational-databases/sql-server-configuration-manager.md)  
  
  

---
title: 'Контрольный список развертывания: горизонтальное масштабирование путем добавления серверов PowerPivot в ферму SharePoint 2010 | Документация Майкрософт'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 2dbddcc7-427a-4537-a8e2-56d99b9d967d
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 91a0ff978020c29ecc5c52a336f8b7aab065fc1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666410"
---
# <a name="deployment-checklist-scale-out-by-adding-powerpivot-servers-to-a-sharepoint-2010-farm"></a><span data-ttu-id="6cca8-102">Контрольный список развертывания: горизонтальное масштабирование путем добавления серверов PowerPivot в ферму SharePoint 2010</span><span class="sxs-lookup"><span data-stu-id="6cca8-102">Deployment Checklist: Scale-out by adding PowerPivot Servers to a SharePoint 2010 farm</span></span>
  <span data-ttu-id="6cca8-103">Если на ферме SharePoint предполагается обработка большого числа запросов обработки данных PowerPivot, можно добавить еще один экземпляр PowerPivot для SharePoint, что позволит прозрачно обеспечить дополнительную поддержку обработки запросов.</span><span class="sxs-lookup"><span data-stu-id="6cca8-103">If you anticipate a high volume of requests for PowerPivot query processing in a SharePoint farm, you can add an extra PowerPivot for SharePoint instance to seamlessly add new query and data processing support.</span></span>  
  
 <span data-ttu-id="6cca8-104">После установки нового экземпляра потребуются дополнительные мощности для обработки запросов данных PowerPivot и выполнения заданий обновления данных PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="6cca8-104">After you install a new instance, you will have additional capacity for querying PowerPivot data or processing PowerPivot data refresh jobs.</span></span> <span data-ttu-id="6cca8-105">Можно также настроить каждый сервер на обработку одного типа запросов: запросов или обновлений данных.</span><span class="sxs-lookup"><span data-stu-id="6cca8-105">Optionally, you will have the choice of configuring each server to handle one type of request: query or data refresh.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="6cca8-106">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="6cca8-106">Prerequisites</span></span>  
 <span data-ttu-id="6cca8-107">Наличие установленного и настроенного сервера SharePoint Server 2010.</span><span class="sxs-lookup"><span data-stu-id="6cca8-107">SharePoint Server 2010 is installed and configured.</span></span>  
  
 <span data-ttu-id="6cca8-108">Применение SharePoint Server 2010 с пакетом обновления 1 (SP1) и обновление версии фермы.</span><span class="sxs-lookup"><span data-stu-id="6cca8-108">SharePoint Server 2010 SP1 is applied and the farm is upgraded.</span></span>  
  
 <span data-ttu-id="6cca8-109">Существующий экземпляр PowerPivot для SharePoint в ферме [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] (либо новая установка, либо обновленная с SQL Server 2008 R2).</span><span class="sxs-lookup"><span data-stu-id="6cca8-109">The existing PowerPivot for SharePoint instance in the farm is [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] (either a new installation or upgraded from SQL Server 2008 R2).</span></span>  
  
 <span data-ttu-id="6cca8-110">Компьютер, на котором производится установка нового сервера PowerPivot для SharePoint версии [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], должен быть присоединен к ферме.</span><span class="sxs-lookup"><span data-stu-id="6cca8-110">The computer on which you are installing the new [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] PowerPivot for SharePoint server is joined to the farm.</span></span> <span data-ttu-id="6cca8-111">Этот компьютер и остальные серверы в ферме должны относиться к одному домену.</span><span class="sxs-lookup"><span data-stu-id="6cca8-111">The computer and the other servers in the farm must be in the same domain.</span></span>  
  
 <span data-ttu-id="6cca8-112">Изучите следующие дополнительные разделы, чтобы ознакомиться с требованиями к системе и версиям:</span><span class="sxs-lookup"><span data-stu-id="6cca8-112">Review the following additional topics to understand system and version requirements:</span></span>  
  
-   [<span data-ttu-id="6cca8-113">Указания по использованию функций бизнес-аналитики SQL Server в ферме SharePoint 2010</span><span class="sxs-lookup"><span data-stu-id="6cca8-113">Guidance for Using SQL Server BI Features in a SharePoint 2010 Farm</span></span>](../../../2014/sql-server/install/guidance-for-using-sql-server-bi-features-in-a-sharepoint-2010-farm.md)  
  
> [!NOTE]  
>  <span data-ttu-id="6cca8-114">В ферме из нескольких серверов все экземпляры PowerPivot для SharePoint должны иметь одну и ту же версию.</span><span class="sxs-lookup"><span data-stu-id="6cca8-114">In a multi-server farm, all PowerPivot for SharePoint instances must be at the same version.</span></span> <span data-ttu-id="6cca8-115">Если применялись пакеты обновления или обновления к другим серверам PowerPivot, которые уже находятся в ферме, то новый добавляемый экземпляр должен быть обновлен до той же версии, что и существующий экземпляр, уже находящийся в ферме.</span><span class="sxs-lookup"><span data-stu-id="6cca8-115">If you applied service packs or updates to other PowerPivot servers that are already in the farm, the new instance you are adding must be updated to the same version as the existing instance that is already in the farm.</span></span> <span data-ttu-id="6cca8-116">Новый экземпляр будет недоступен до тех пор, пока к нему не будут применены обновления.</span><span class="sxs-lookup"><span data-stu-id="6cca8-116">The new instance will be unavailable until the updates have been applied.</span></span>  
  
## <a name="steps"></a><span data-ttu-id="6cca8-117">Этапы</span><span class="sxs-lookup"><span data-stu-id="6cca8-117">Steps</span></span>  
 <span data-ttu-id="6cca8-118">Следующий контрольный список поможет добавить дополнительные серверы PowerPivot к ферме SharePoint.</span><span class="sxs-lookup"><span data-stu-id="6cca8-118">Use this checklist to add additional PowerPivot servers to a SharePoint farm.</span></span> <span data-ttu-id="6cca8-119">Предполагается, что в ферме уже имеется сервер PowerPivot для SharePoint и что добавляется второй сервер для обслуживания дополнительной вычислительной нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6cca8-119">These instructions assume that you already have a PowerPivot for SharePoint server in the farm, and that you are adding a second server to handle additional processing load.</span></span> <span data-ttu-id="6cca8-120">Если не считать отличий в требованиях к установке, настройке после установки и проверке, то действия по развертыванию масштабируемого решения совпадают с действиями при добавлении одного сервера PowerPivot в существующую ферму.</span><span class="sxs-lookup"><span data-stu-id="6cca8-120">Except for differences in installation requirements, post-install configuration, and verification, the steps for deploying a scale-out solution are identical to adding a single PowerPivot server to an existing farm.</span></span>  
  
|<span data-ttu-id="6cca8-121">Шаг</span><span class="sxs-lookup"><span data-stu-id="6cca8-121">Step</span></span>|<span data-ttu-id="6cca8-122">Ссылка</span><span class="sxs-lookup"><span data-stu-id="6cca8-122">Link</span></span>|  
|----------|----------|  
|<span data-ttu-id="6cca8-123">Определите учетную запись службы для экземпляра служб Analysis Services, уже находящегося в ферме</span><span class="sxs-lookup"><span data-stu-id="6cca8-123">Determine the service account of the Analysis Services instance that is already in the farm</span></span>|<span data-ttu-id="6cca8-124">Все новые устанавливаемые экземпляры должны работать в той же учетной записи, что и первый экземпляр.</span><span class="sxs-lookup"><span data-stu-id="6cca8-124">Each additional instance you install must run under the same account as the first instance.</span></span> <span data-ttu-id="6cca8-125">Определить учетную запись службы можно любым из следующих способов.</span><span class="sxs-lookup"><span data-stu-id="6cca8-125">Use either approach to determine the service account:</span></span><br /><br /> <span data-ttu-id="6cca8-126">В центре администрирования в разделе Безопасность щелкните **Настройка учетных записей служб**.</span><span class="sxs-lookup"><span data-stu-id="6cca8-126">In Central Administration, in the Security section, click **Configure Service Accounts**.</span></span> <span data-ttu-id="6cca8-127">Выберите пункт **Служба Windows — SQL Server Analysis Services**.</span><span class="sxs-lookup"><span data-stu-id="6cca8-127">Select **Windows Service - SQL Server Analysis Services**.</span></span> <span data-ttu-id="6cca8-128">После выбора службы на странице появится имя учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="6cca8-128">After you select the service, the service account name will appear in the page.</span></span><br /><br /> <span data-ttu-id="6cca8-129">На сервере, на котором уже установлена служба PowerPivot, Откройте консольное приложение " **службы** " в меню "Администрирование".</span><span class="sxs-lookup"><span data-stu-id="6cca8-129">On a server that already has a PowerPivot service installation, open the **Services** console application in Administrative Tools.</span></span> <span data-ttu-id="6cca8-130">Дважды щелкните **SQL Server Analysis Services**.</span><span class="sxs-lookup"><span data-stu-id="6cca8-130">Double-click **SQL Server Analysis Services**.</span></span> <span data-ttu-id="6cca8-131">Перейдите на вкладку **Вход** , чтобы просмотреть учетную запись службы.</span><span class="sxs-lookup"><span data-stu-id="6cca8-131">Click the **Log On** tab to view the service account.</span></span><br /><span data-ttu-id="6cca8-132">Для изменения учетных записей служб \*\* \* \* важно \* \* \*\* использовать только центр администрирования.</span><span class="sxs-lookup"><span data-stu-id="6cca8-132">**\*\* Important \*\*** Only use Central Administration to change service accounts.</span></span> <span data-ttu-id="6cca8-133">Если используется другое средство или метод, то разрешения в ферме обновлены не будут.</span><span class="sxs-lookup"><span data-stu-id="6cca8-133">If you use another tool or approach, permissions will not be updated correctly in the farm.</span></span>|  
|<span data-ttu-id="6cca8-134">Запустите программу установки, чтобы установить второй экземпляр PowerPivot для SharePoint</span><span class="sxs-lookup"><span data-stu-id="6cca8-134">Run Setup to install a second instance of PowerPivot for SharePoint</span></span>|[<span data-ttu-id="6cca8-135">Установка PowerPivot для SharePoint 2010</span><span class="sxs-lookup"><span data-stu-id="6cca8-135">Install PowerPivot for SharePoint 2010</span></span>](../../../2014/sql-server/install/install-powerpivot-for-sharepoint-2010.md)<br /><br /> <span data-ttu-id="6cca8-136">Выберите сервер приложений, который присоединен к ферме, но на котором не существует экземпляра PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="6cca8-136">Choose an application server that is joined to the farm, but does not have an existing PowerPivot instance on the server.</span></span><br /><br /> <span data-ttu-id="6cca8-137">Получив во время установки приглашение к вводу учетной записи службы, введите данные, полученные на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="6cca8-137">During Setup, when prompted to specify a service account, enter the account from the previous step.</span></span> <span data-ttu-id="6cca8-138">Все экземпляры службы Analysis Services должны запускаться в одной и той же учетной записи домена.</span><span class="sxs-lookup"><span data-stu-id="6cca8-138">All instances of the Analysis Services service must run under the same domain account.</span></span> <span data-ttu-id="6cca8-139">Это требование позволяет использовать в SharePoint функцию управляемых учетных записей, которая дает возможность в одном месте менять пароль для всех экземпляров служб, имеющих один и тот же тип.</span><span class="sxs-lookup"><span data-stu-id="6cca8-139">This requirement enables the use of the managed accounts feature in SharePoint that lets you update the password in one place for all service instances of the same type.</span></span>|  
|<span data-ttu-id="6cca8-140">Настройте второй экземпляр</span><span class="sxs-lookup"><span data-stu-id="6cca8-140">Configure the second instance</span></span>|<span data-ttu-id="6cca8-141">Для настройки экземпляра можно использовать любой из следующих подходов: [powerpivot средства настройки](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-tools) или [Конфигурация PowerPivot с помощью Windows PowerShell](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-using-windows-powershell) .</span><span class="sxs-lookup"><span data-stu-id="6cca8-141">You can use either approach to configure the instance: [PowerPivot Configuration Tools](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-tools) or [PowerPivot Configuration using Windows PowerShell](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-using-windows-powershell)</span></span><br /><br /> <span data-ttu-id="6cca8-142">При настройке второго экземпляра необходимо указывать только локальные службы.</span><span class="sxs-lookup"><span data-stu-id="6cca8-142">When configuring a second instance, you only need to provision the local services.</span></span> <span data-ttu-id="6cca8-143">Все остальные задачи настройки (создание приложений службы, настройка обновления данных и т. д.) выполняются во время первоначальной настройки и используются всеми последующими устанавливаемыми экземплярами.</span><span class="sxs-lookup"><span data-stu-id="6cca8-143">All other configuration tasks (such as creating service applications or configuring data refresh) are performed during the initial configuration, and used by subsequent instances that you install.</span></span>|  
|<span data-ttu-id="6cca8-144">Задачи, выполняемые после установки</span><span class="sxs-lookup"><span data-stu-id="6cca8-144">Post-installation tasks</span></span>|<span data-ttu-id="6cca8-145">Никакие дополнительные действия не требуются.</span><span class="sxs-lookup"><span data-stu-id="6cca8-145">No further steps are specifically required.</span></span> <span data-ttu-id="6cca8-146">Не нужно создавать приложения службы, активировать компоненты, развертывать решения или изменять удостоверения приложений служб.</span><span class="sxs-lookup"><span data-stu-id="6cca8-146">You do not need to create service applications, activate features, deploy solutions, or change service application identity.</span></span> <span data-ttu-id="6cca8-147">Существующие веб-приложения и приложения служб обнаружат и будут использовать новый сервер автоматически.</span><span class="sxs-lookup"><span data-stu-id="6cca8-147">Existing Web applications and service applications will discover and use the new server software automatically.</span></span><br /><br /> <span data-ttu-id="6cca8-148">Дополнительно, если второй сервер устанавливался для разделения запросов по типам (запросы и обновление данных), то теперь можно настроить свойства сервера, задав тип запроса, обрабатываемого каждым из серверов.</span><span class="sxs-lookup"><span data-stu-id="6cca8-148">Optionally, if you installed a second server for the purpose of using one server for queries and one for data refresh, you can configure server instance properties now to specify the type of requests handled by each server.</span></span> <span data-ttu-id="6cca8-149">Дополнительные сведения см. в статьях [Настройка выделенного обновления данных или обработка только запросов &#40;PowerPivot для SharePoint&#41;](../../analysis-services/configure-dedicated-data-refresh-query-only-processing-powerpivot-sharepoint.md).</span><span class="sxs-lookup"><span data-stu-id="6cca8-149">For more information, see [Configure Dedicated Data Refresh or Query-Only Processing &#40;PowerPivot for SharePoint&#41;](../../analysis-services/configure-dedicated-data-refresh-query-only-processing-powerpivot-sharepoint.md).</span></span>|  
|<span data-ttu-id="6cca8-150">Проверьте установку второго экземпляра</span><span class="sxs-lookup"><span data-stu-id="6cca8-150">Verify installation of the second instance</span></span>|<span data-ttu-id="6cca8-151">Чтобы проверить обработку запросов PowerPivot на вновь установленном сервере, можно выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="6cca8-151">You can use the following steps to verify PowerPivot query processing on the server you just installed.</span></span><br /><br /> <span data-ttu-id="6cca8-152">1) в центре администрирования откройте страницу Управление службами на сервере, чтобы убедиться, что сервер и его службы отображаются.</span><span class="sxs-lookup"><span data-stu-id="6cca8-152">1) In Central Administration, open the Manage services on server page to confirm that the server and its services appear.</span></span><br /><span data-ttu-id="6cca8-153">-In Server (сервер) нажмите стрелку вниз, выберите пункт Изменить сервер, а затем выберите сервер, на котором установлена новая PowerPivot для SharePointная установка.</span><span class="sxs-lookup"><span data-stu-id="6cca8-153">-In Server, click the down arrow, click Change Server, and then select the server that has the new PowerPivot for SharePoint installation.</span></span><br /><span data-ttu-id="6cca8-154">— Убедитесь, что SQL Server Analysis Services и SQL Server системная служба PowerPivot запущены.</span><span class="sxs-lookup"><span data-stu-id="6cca8-154">-Verify that SQL Server Analysis Services and SQL Server PowerPivot System Service are started.</span></span><br /><br /> <span data-ttu-id="6cca8-155">2) в центре администрирования закройте другие PowerPivot для SharePoint серверы, чтобы был доступен только что установленный сервер.</span><span class="sxs-lookup"><span data-stu-id="6cca8-155">2) In Central Administration, stop other PowerPivot for SharePoint servers so that the server you just installed is the only one available.</span></span> <span data-ttu-id="6cca8-156">Дополнительные сведения см. [в разделе Запуск или завершение сервера PowerPivot для SharePoint](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/start-or-stop-a-power-pivot-for-sharepoint-server).</span><span class="sxs-lookup"><span data-stu-id="6cca8-156">For more information, see [Start or Stop a PowerPivot for SharePoint Server](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/start-or-stop-a-power-pivot-for-sharepoint-server).</span></span><br /><br /> <span data-ttu-id="6cca8-157">3) щелкните книгу PowerPivot, чтобы открыть ее из библиотеки.</span><span class="sxs-lookup"><span data-stu-id="6cca8-157">3) Click a PowerPivot workbook to open it from the library.</span></span><br /><br /> <span data-ttu-id="6cca8-158">4) Щелкните срез или сведение данных, чтобы начать запрос.</span><span class="sxs-lookup"><span data-stu-id="6cca8-158">4) Click a slicer or pivot the data to initiate a query.</span></span> <span data-ttu-id="6cca8-159">Сервер загрузит данные PowerPivot в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="6cca8-159">The server will load PowerPivot data in the background.</span></span> <span data-ttu-id="6cca8-160">Далее нужно будет подключиться к серверу, чтобы удостовериться, что данные загружены и кэшированы.</span><span class="sxs-lookup"><span data-stu-id="6cca8-160">In the next step, you will connect to the server to verify the data is loaded and cached.</span></span><br /><br /> <span data-ttu-id="6cca8-161">5) запустите SQL Server Management Studio из группы программ Microsoft SQL Server в меню "Пуск".</span><span class="sxs-lookup"><span data-stu-id="6cca8-161">5) Start SQL Server Management Studio from the Microsoft SQL Server program group in the Start menu.</span></span> <span data-ttu-id="6cca8-162">Если это средство не установлено на сервере, можно пропустить этот шаг и перейти к последнему действию по подтверждению наличия кэшированных файлов.</span><span class="sxs-lookup"><span data-stu-id="6cca8-162">If this tool is not installed on your server, you can skip to the last step to confirm the presence of cached files.</span></span><br /><br /> <span data-ttu-id="6cca8-163">6) в списке Тип сервера выберите **Analysis Services**.</span><span class="sxs-lookup"><span data-stu-id="6cca8-163">6) In Server Type, select **Analysis Services**.</span></span><br /><br /> <span data-ttu-id="6cca8-164">7) в поле имя сервера введите \*\* \<server-name> \PowerPivot\*\*, где **\<server-name>** — имя компьютера, на котором установлена новая установка PowerPivot для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="6cca8-164">7) In Server Name, enter **\<server-name>\powerpivot**, where **\<server-name>** is the name of the computer that has the new PowerPivot for SharePoint installation.</span></span><br /><br /> <span data-ttu-id="6cca8-165">8) нажмите кнопку **подключить**.</span><span class="sxs-lookup"><span data-stu-id="6cca8-165">8) Click **Connect**.</span></span><br /><br /> <span data-ttu-id="6cca8-166">9) в обозревателе объектов щелкните **базы данных** , чтобы просмотреть список загруженных файлов данных PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="6cca8-166">9) In Object Explorer, click **Databases** to view the list of PowerPivot data files that are loaded.</span></span><br /><br /> <span data-ttu-id="6cca8-167">10) в файловой системе компьютера проверьте следующую папку, чтобы определить, кэшируются ли файлы на диске.</span><span class="sxs-lookup"><span data-stu-id="6cca8-167">10) On the computer file system, check the following folder to determine whether files are cached to disk.</span></span> <span data-ttu-id="6cca8-168">Наличие кэшированных файлов служит еще одним подтверждением работоспособности развертывания.</span><span class="sxs-lookup"><span data-stu-id="6cca8-168">The presence of cached files is further verification that your deployment is operational.</span></span> <span data-ttu-id="6cca8-169">Чтобы открыть кэш файлов, перейдите в папку «\Program Files\Microsoft SQL Server\MSAS11.POWERPIVOT\OLAP\Backup».</span><span class="sxs-lookup"><span data-stu-id="6cca8-169">To view the file cache, go to the \Program Files\Microsoft SQL Server\MSAS11.POWERPIVOT\OLAP\Backup folder.</span></span><br /><br /> <span data-ttu-id="6cca8-170">11) Перезапустите службы, которые были остановлены ранее.</span><span class="sxs-lookup"><span data-stu-id="6cca8-170">11) Restart the services that you stopped earlier.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="6cca8-171">См. также:</span><span class="sxs-lookup"><span data-stu-id="6cca8-171">See Also</span></span>  
 <span data-ttu-id="6cca8-172">[PowerPivot для SharePoint &#40;начальной конфигурации&#41;](../../../2014/sql-server/install/initial-configuration-powerpivot-for-sharepoint.md) </span><span class="sxs-lookup"><span data-stu-id="6cca8-172">[Initial Configuration &#40;PowerPivot for SharePoint&#41;](../../../2014/sql-server/install/initial-configuration-powerpivot-for-sharepoint.md) </span></span>  
 <span data-ttu-id="6cca8-173">[Установка PowerPivot для SharePoint 2010](../../../2014/sql-server/install/powerpivot-for-sharepoint-2010-installation.md) </span><span class="sxs-lookup"><span data-stu-id="6cca8-173">[PowerPivot for SharePoint 2010 Installation](../../../2014/sql-server/install/powerpivot-for-sharepoint-2010-installation.md) </span></span>  
 [<span data-ttu-id="6cca8-174">Настройка и администрирование сервера PowerPivot в центре администрирования</span><span class="sxs-lookup"><span data-stu-id="6cca8-174">PowerPivot Server Administration and Configuration in Central Administration</span></span>](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-server-administration-and-configuration-in-central-administration)  
  
  

---
title: Конфигурация ядро СУБД — каталоги данных | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 9b1fa0fc-623b-479a-afc3-4f13bd850487
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: ec906508640690a45c003d60cea4c2a1e425d3aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87735926"
---
# <a name="database-engine-configuration---data-directories"></a>Настройка компонента Database Engine — каталоги данных
  На этой странице указывается расположение, в которое будут установлены программные файлы и файлы данных компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssDE](../../includes/ssde-md.md)]. В зависимости от типа установки в качестве хранилища можно использовать локальный диск, общее хранилище или файловый сервер SMB.  
  
 Чтобы указать общую папку SMB в качестве каталога, необходимо вручную ввести путь в поддерживаемом формате UNC. Выбор общей папки SMB с помощью графического интерфейса не поддерживается. Поддерживаемый формат пути UNC общей папки SMB выглядит так: \\\Servername\ShareName\\...  
  
## <a name="stand-alone-instance-of-ssnoversion"></a>Изолированный экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
 В следующей таблице приведены поддерживаемые типы хранилища и каталоги по умолчанию для изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], которые можно изменять в программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
## <a name="ui-element-list"></a>Список элементов пользовательского интерфейса  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|Корневой каталог данных|Локальный диск, файловый сервер SMB, общее хранилище <sup>1</sup>|Программа установки C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \| [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] настроит списки управления доступом для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] каталогов и отменит наследование как часть конфигурации.|  
|Каталог пользовательской базы данных|Локальный диск, файловый сервер SMB, общее хранилище <sup>1</sup>|C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data|Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.|  
|Каталог журналов пользовательской базы данных|Локальный диск, файловый сервер SMB, общее хранилище <sup>1</sup>|C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|Каталог базы данных temp|Локальный диск, файловый сервер SMB, общее хранилище <sup>1</sup>|C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data|Рекомендации по использованию временного каталога зависят от рабочей нагрузки и требований производительности.|  
|Каталог журналов базы данных temp|Локальный диск, файловый сервер SMB, общее хранилище <sup>1</sup>|C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|Каталог резервного копирования|Локальный диск, файловый сервер SMB, общее хранилище <sup>1</sup>|C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Backup|Установите необходимые разрешения для предотвращения потери данных и удостоверьтесь, что учетная запись пользователя службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имеет достаточно разрешений для записи в каталог резервного копирования. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
 <sup>1</sup> хотя общие диски поддерживаются, для изолированного экземпляра не рекомендуется использовать этот подход [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="failover-cluster-instance-of-ssnoversion"></a>Экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
 В следующей таблице приведены поддерживаемые типы хранилища и каталоги по умолчанию для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые можно изменить в программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|Корневой каталог данных|Общее хранилище, файловый сервер SMB|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] настроит списки ACL для каталогов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и отменит наследование как часть конфигурации.|  
|Каталог пользовательской базы данных|Общее хранилище, файловый сервер SMB|\<Drive:>Программные файлы \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.|  
|Каталог журналов пользовательской базы данных|Общее хранилище, файловый сервер SMB|\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|Каталог базы данных temp|Локальный диск, общее хранилище, файловый сервер SMB|\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Указанный каталог должен быть допустимым для всех узлов кластера. Если во время отработки отказа каталоги tempdb недоступны на целевом узле отработки отказа, то при переводе ресурсов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в режим «в сети» произойдет ошибка.|  
|Каталог журналов базы данных temp|Локальный диск, общее хранилище, файловый сервер SMB|\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Data<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Указанный каталог должен быть допустимым для всех узлов кластера. Если во время отработки отказа каталоги tempdb недоступны на целевом узле отработки отказа, то при переводе ресурсов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в режим «в сети» произойдет ошибка.|  
|Каталог резервного копирования|Локальный диск, общее хранилище, файловый сервер SMB|\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID> \MSSQL\Backup<br /><br /> Совет. Если на странице **Выбор диска кластера** был указан общий диск, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не было указано никакого значения, это поле по умолчанию остается пустым.|Установите необходимые разрешения для предотвращения потери данных и удостоверьтесь, что учетная запись пользователя службы SQL Server имеет достаточно разрешений для записи в каталог резервного копирования. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
## <a name="security-considerations"></a>Соображения безопасности  
 Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] настроит ACL для каталогов и отменит наследование как часть конфигурации.  
  
 В отношении файлового сервера SMB действуют следующие рекомендации.  
  
-   При использовании файлового сервера SMB учетная запись службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должна быть учетной записью домена.  
  
-   Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна иметь разрешение FULL CONTROL NTFS на общую папку файлов SMB, которая используется в качестве каталога данных.  
  
-   Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна обладать правами SeSecurityPrivilege на файловом сервере SMB. Чтобы предоставить эту привилегию, используйте консоль локальной политики безопасности на файловом сервере, чтобы добавить [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] учетную запись установки в политику **Управление журналом аудита и безопасности** . Этот параметр доступен в разделе " **Назначение прав пользователя** " раздела **локальные** политики в консоли **локальной политики безопасности** .  
  
## <a name="notes"></a>Примечания  
  
-   При добавлении компонентов к уже установленной конфигурации невозможно изменить расположение ранее установленного компонента или указать расположение нового компонента.  
  
-   Если при установке были указаны каталоги, отличные от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
-   Программные файлы и файлы данных невозможно установить:  
  
    -   на съемный диск  
  
    -   в файловую систему, использующую сжатие  
  
    -   в каталог, в котором находятся системные файлы  
  
    -   На подключенном сетевом диске экземпляра отказоустойчивого кластера  
  
## <a name="see-also"></a>См. также:  
 [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](../../../2014/sql-server/install/file-locations-for-default-and-named-instances-of-sql-server.md)   
 [Папки и разрешения NTFS на файловом сервере](https://go.microsoft.com/fwlink/?LinkID=206571)  
  
  

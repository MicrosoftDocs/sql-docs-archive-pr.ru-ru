---
title: Ключи шифрования (собственный режим служб SSRS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- SQL12.rsconfigtool.encryptionkeypanel.F1
ms.assetid: cc7e6f84-80e1-4b5e-9409-d0e074edd147
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 78e9816a9e779459cd1388c1f7f10257c89b1ae5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87666408"
---
# <a name="encryption-keys-ssrs-native-mode"></a>Ключи шифрования (службы Reporting Services в собственном режиме)
  Используйте страницу «Ключи шифрования», чтобы управлять симметричным ключом, используемым для шифрования и дешифрования данных на сервере отчетов. Управление ключами шифрования является важной частью настройки сервера отчетов. Симметричный ключ создается и применяется автоматически при создании базы данных сервера отчетов. Создайте резервную копию симметричного ключа, чтобы можно было выполнять обычные операции по обслуживанию. Для выполнения следующих задач обслуживания потребуется действительная копия симметричного ключа:  
  
-   Изменение учетной записи службы для службы сервера отчетов.  
  
-   Перенос установки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] на другой компьютер.  
  
-   Настройка нового экземпляра сервера отчетов для монопольного или совместного использования существующей базы данных сервера отчетов.  
  
 [!INCLUDE[applies](../../includes/applies-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]Собственный режим.  
  
> [!IMPORTANT]  
>  Рекомендацией по безопасности является периодическая смена ключа шифрования служб Reporting Services. Рекомендуется менять ключ после каждого существенного обновления версии служб Reporting Services. Смена ключа после обновления способствует снижению до минимума дополнительного прерывания в обслуживании, которое может быть вызвано сменой ключа шифрования служб Reporting Services вне цикла обновления.  
  
 Восстановление симметричного ключа необходимо после обновления учетной записи службы сервера отчетов (если для смены учетной записи использовалось средство, отличное от диспетчера конфигурации служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ) или после переноса установки сервера отчетов на новый сервер.  
  
 Для защиты от несанкционированного доступа симметричный ключ шифруется при помощи закрытого ключа службы сервера отчетов. Только служба сервера отчетов имеет доступ к симметричному ключу и возможность пользоваться им для сохранения в базе данных сервера отчетов конфиденциальных данных. После изменения удостоверения службы сервера отчетов или при переносе сервера отчетов на новый компьютер расшифровать симметричный ключ с помощью закрытого ключа службы сервера отчетов становится невозможно. Чтобы восстановить доступ к симметричному ключу, его необходимо заново зашифровать с помощью закрытого ключа из нового удостоверения службы сервера отчетов. Восстановление симметричного ключа является процессом, при котором происходит повторное шифрование.  
  
 Симметричный ключ необходимо восстанавливать только в том случае, если такой ключ на данный момент используется для шифрования и дешифрования данных в базе данных сервера отчетов. После восстановления недействительного симметричного ключа доступ к конфиденциальным данным будет закрыт. В этом случае необходимо удалить ключ и создать его повторно.  
  
> [!IMPORTANT]  
>  Действие по удалению и повторному созданию симметричного ключа нельзя произвести в обратном направлении или отменить. Удаление и повторное создание ключей может иметь важные последствия, влияющие на текущую установку. При удалении ключа любые существующие данные, которые шифруются симметричным ключом, будут также удалены. Удаленные данные включают в себя строки соединения с внешними источниками данных отчетов, сохраненные строки соединения и некоторые сведения о подписках.  
  
 Чтобы открыть эту страницу, запустите диспетчер конфигурации служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и выберите ссылку на панели навигации. Дополнительные сведения см. в разделе [Использование диспетчера конфигурации служб Reporting Services (собственный режим)](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).  
  
## <a name="options"></a>Варианты  
 **Azure Backup**  
 Копирует симметричный ключ в указанный файл. Симметричный ключ никогда не хранится в виде простого текста. Необходимо ввести пароль для защиты файла.  
  
 **Восстановить**  
 Применяет ранее сохраненную копию симметричного ключа к базе данных сервера отчетов. Следует ввести пароль, чтобы разблокировать файл.  
  
 Предыдущая копия симметричного ключа для экземпляра сервера отчетов, с которым в настоящий момент установлено соединение, перезаписывается восстановленной версией. После восстановления симметричного ключа необходимо инициализировать все серверы отчетов, использующие базу данных сервера отчетов. Дополнительные сведения об инициализации серверов отчетов см. [в разделе Initialize a Report Server &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md).  
  
 **Изменение**  
 Воссоздает симметричный ключ и заново зашифровывает все зашифрованные значения в базе данных сервера отчетов. Прежде чем повторно создавать симметричный ключ, убедитесь, что служба сервера отчетов остановлена.  
  
 В конфигурации с масштабным развертыванием все копии симметричного ключа заменяются новейшими версиями. Прежде чем изменить симметричный ключ, заново просмотрите список серверов, присоединенных к конфигурации с масштабным развертыванием, чтобы убедиться в том, что только действительные экземпляры сервера отчетов получают доступ к новому ключу. Серверы, входящие в состав масштабного развертывания, перечислены на странице **Масштабное развертывание** . Прежде чем приступать к повторному созданию ключа, остановите службу на каждом из серверов отчетов, входящих в развертывание.  
  
 Обратите внимание на то, что воссоздание симметричного ключа может быть длительным процессом, если имеется много источников данных и подписок.  
  
 **Удалить**  
 Удаляет симметричный ключ и все зашифрованное содержимое, включая строки соединения и сохраненные учетные данные. Удалять симметричный ключ следует только в том случае, если восстановить его невозможно.  
  
 После удаления симметричного ключа необходимо заново ввести недостающие строки соединения, хранимые учетные данные в отчеты и общие источники данных, потерявшие эти значения. Следует также обновить все подписки, которые используют модули доставки, хранящие зашифрованные данные. Сюда входят модули доставки в общую папку и любые модули доставки от сторонних разработчиков, использующие зашифрованное значение.  
  
 Автоматизированного способа обновлять эти данные не существует. Необходимо вручную обновить все отчеты, подписки и общие источники данных, которые используют сохраненные учетные данные и строки соединения.  
  
## <a name="see-also"></a>См. также:  
 [Диспетчер конфигурации служб Reporting Services разделы справки F1 &#40;служб SSRS в собственном режиме&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md)   
 [Резервное копирование и восстановление ключей шифрования служб Reporting Services](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)   
 [Удаление и повторное создание ключей шифрования (диспетчер конфигурации служб SSRS)](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md)   
 [Инициализация сервера отчетов &#40;диспетчер конфигурации служб SSRS&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md)   
 [Хранение зашифрованных данных сервера отчетов &#40;диспетчер конфигурации служб SSRS&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md)  
  
  

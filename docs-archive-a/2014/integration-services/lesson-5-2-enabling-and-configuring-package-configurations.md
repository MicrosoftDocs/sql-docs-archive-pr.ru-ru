---
title: Шаг 2. Активация и настройка конфигураций пакетов | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 005218ab-8dd5-48e9-a185-6bc60cd43a7a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: a804efcd84ebe563a13f61443fe19096788ca809
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87657150"
---
# <a name="step-2-enabling-and-configuring-package-configurations"></a>Шаг 2. Активация и настройка конфигурации пакетов
  В этой задаче вы преобразуете проект в модель развертывания пакета и включите конфигурации пакетов с помощью мастера настройки пакета. Этот мастер будет использован для создания файла конфигурации в формате XML, который содержит параметры конфигурации для свойства `Directory` контейнера «цикл по каждому элементу». Значение свойства Directory содержится в новой переменной уровня пакета, обновление которой можно осуществлять в процессе выполнения. Кроме того, будет заполнена новая папка с образцами данных для использования при проверке.  
  
### <a name="to-create-a-new-package-level-variable-mapped-to-the-directory-property"></a>Создание новой переменной уровня пакета, сопоставленной со свойством Directory  
  
1.  Щелкните фон вкладки **Поток управления** в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)] . Этим устанавливается область действия переменной, которая создается для пакета.  
  
2.  В меню служб [!INCLUDE[ssIS](../includes/ssis-md.md)] выберите пункт **Переменные**.  
  
3.  В окне **Переменные** щелкните значок Добавить переменную .  
  
4.  В поле **Имя** введите **varFolderName**.  
  
    > [!IMPORTANT]  
    >  В именах переменных учитывается регистр.  
  
5.  Убедитесь, что в поле **область** указано имя пакета, занятие 5.  
  
6.  В поле **Тип данных** переменной `varFolderName` установите значение **String**.  
  
7.  Вернитесь на вкладку **Поток управления** и дважды щелкните контейнер **Цикл по каждому файлу в папке** .  
  
8.  На странице **коллекция** в **редакторе циклов по каждому**элементу щелкните **выражения**, а затем нажмите кнопку с многоточием **(...)**.  
  
9. В **редакторе выражений свойств**щелкните список **свойств** и выберите `Directory` .  
  
10. В поле **выражение** нажмите кнопку с многоточием **(...)**.  
  
11. В окне **Построитель выражений**раскройте папку "Переменные" и перетащите переменную **User::varFolderName** в поле **Выражение** .  
  
12. Нажмите кнопку **ОК** для выхода из окна **Построитель выражений**.  
  
13. Нажмите кнопку **ОК** для выхода из окна **Редактор выражений свойств**.  
  
14. Нажмите кнопку **ОК** , чтобы закрыть **редактор циклов по каждому элементу**.  
  
### <a name="to-enable-package-configurations"></a>Включение конфигураций пакетов  
  
1.  В **меню Проект**выберите команду **преобразовать в модель развертывания пакета**.  
  
2.  Нажмите кнопку **ОК** в окне предупреждения и после завершения преобразования нажмите кнопку **ОК** в диалоговом окне **Преобразование в модель развертывания пакета** .  
  
3.  Щелкните фон вкладки **Поток управления** в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)] .  
  
4.  В меню **Службы SSIS** выберите команду **Конфигурации пакетов**.  
  
5.  В диалоговом окне **Организатор конфигураций пакетов** выберите **Включить конфигурации пакетов**и нажмите кнопку **Добавить**.  
  
6.  На странице приветствия мастера настройки пакета нажмите кнопку **Далее**.  
  
7.  Убедитесь в том, что на странице **Выбор типа конфигурации** свойство **Тип конфигурации** имеет значение **XML-файл конфигурации**.  
  
8.  На странице **Выбор типа конфигурации** нажмите кнопку **Обзор**.  
  
9. По умолчанию в диалоговом окне **Выберите расположение файла конфигурации** будет открыта папка проекта.  
  
10. В диалоговом окне **Выберите расположение файла конфигурации** в поле **Имя файла** введите **SSISTutorial**и нажмите кнопку **Сохранить**.  
  
11. На странице **Выбор типа конфигурации** нажмите кнопку **Далее.**  
  
12. На странице **Выбор свойств для экспорта** в области **объекты** разверните узел **переменные**, разверните узел **VarFolderName**, разверните узел **Свойства**и выберите **значение**.  
  
13. На странице **Выбор свойств для экспорта** нажмите кнопку **Далее**.  
  
14. На странице **Завершение работы мастера** введите имя конфигурации, например **Конфигурация свойства "Каталог" для учебника по службам SSIS**. Это имя будет отображаться в диалоговом окне **Организатор конфигураций пакетов** .  
  
15. Нажмите кнопку **Готово**.  
  
16. Нажмите кнопку **Закрыть**.  
  
17. Мастер создает файл конфигурации с именем SSISTutorial. dtsConfig, который содержит параметры конфигурации для `value` переменной, которая, в свою очередь, задает `Directory` свойство перечислителя.  
  
    > [!NOTE]  
    >  Файл конфигурации обычно содержит множество данных о свойствах пакета, но в этом учебнике будут использованы только следующие сведения о конфигурации.  
    > <Configuration ConfiguredType="Property"  
    > Path = "\Паккаже.вариаблес [пользователь:: varFolderName]. Properties [значение] "ValueType =" строка "\>  
    >  \<ConfiguredValue>\</ConfiguredValue>  
    > \</Configuration>.  
  
### <a name="to-create-and-populate-a-new-sample-data-folder"></a>Создание и заполнение новой папки с образцами данных  
  
1.  В проводнике Windows на корневом уровне диска (например, C: \\ ) создайте новую папку с именем `New Sample Data` .  
  
2.  Найдите образцы файлов на вашем компьютере и скопируйте три файла из папки.  
  
3.  В `New Sample Data` папке вставьте скопированные файлы.  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Шаг 3. Изменение значения конфигурации свойства Directory](lesson-5-3-modifying-the-directory-property-configuration-value.md)  
  
  

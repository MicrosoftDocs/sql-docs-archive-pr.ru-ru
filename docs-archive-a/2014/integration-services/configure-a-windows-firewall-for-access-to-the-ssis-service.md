---
title: Настройка брандмауэра Windows для доступа к службе SSIS | Документация Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- security [Integration Services], firewalls
- Windows Firewall [Integration Services]
- unauthorized access [Integration Services]
- Integration Services service, firewalls
- firewall systems [Integration Services]
- SQL Server Integration Services, firewalls
- SSIS, firewalls
ms.assetid: 39975cf2-c351-4205-8c39-27a0fadfb010
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d18b061ce16c88c50bbc08874efec455c28e15a7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669010"
---
# <a name="configure-a-windows-firewall-for-access-to-the-ssis-service"></a><span data-ttu-id="7e9d8-102">Настройка параметров брандмауэра Windows для доступа к службам SSIS</span><span class="sxs-lookup"><span data-stu-id="7e9d8-102">Configure a Windows Firewall for Access to the SSIS Service</span></span>
    
> [!IMPORTANT]  
>  <span data-ttu-id="7e9d8-103">В данном разделе описывается компонент [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] — служба Windows для управления пакетами служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7e9d8-103">This topic discusses the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service, a Windows service for managing [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] packages.</span></span> [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] <span data-ttu-id="7e9d8-104">поддерживает эту службу для обеспечения обратной совместимости с более ранними версиями служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e9d8-104">supports the service for backward compatibility with earlier releases of [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span></span> <span data-ttu-id="7e9d8-105">Начиная с [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], на сервере служб Integration Services можно управлять пакетами.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-105">Starting in [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], you can manage objects such as packages on the Integration Services server.</span></span>  
  
 <span data-ttu-id="7e9d8-106">Система брандмауэров Windows предотвращает несанкционированный доступ к ресурсам компьютера через сетевое подключение.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-106">The windowsfirewall system helps prevent unauthorized access to computer resources over a network connection.</span></span> <span data-ttu-id="7e9d8-107">Чтобы получить доступ к службам [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] через этот брандмауэр, необходимо настроить брандмауэр для разрешения доступа.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-107">To access [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] through this firewall, you have to configure the firewall to enable access.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="7e9d8-108">Чтобы управлять пакетами, которые хранятся на удаленном сервере, не нужно соединятся с экземпляром службы [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] на этом удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-108">To manage packages that are stored on a remote server, you do not have to connect to the instance of the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service on that remote server.</span></span> <span data-ttu-id="7e9d8-109">Вместо этого измените файл конфигурации для службы [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] таким образом, чтобы среда [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] отображала пакеты, хранимые на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-109">Instead, edit the configuration file for the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service so that [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] displays the packages that are stored on the remote server.</span></span> <span data-ttu-id="7e9d8-110">Дополнительные сведения см. в разделе [Настройка служб Integration Services (службы SSIS)](configuring-the-integration-services-service-ssis-service.md).</span><span class="sxs-lookup"><span data-stu-id="7e9d8-110">For more information, see [Configuring the Integration Services Service &#40;SSIS Service&#41;](configuring-the-integration-services-service-ssis-service.md).</span></span>  
  
 <span data-ttu-id="7e9d8-111">Служба [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] использует протокол DCOM.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-111">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service uses the DCOM protocol.</span></span> <span data-ttu-id="7e9d8-112">Дополнительные сведения о работе протокола DCOM через брандмауэры см. в статье "[использование распределенного com с брандмауэрами](https://manualzz.com/doc/19762578/using-distributed-com-with-firewalls-by-michael-nelson-in...)".</span><span class="sxs-lookup"><span data-stu-id="7e9d8-112">For more information about how the DCOM protocol works through firewalls, see the article, "[Using Distributed COM with Firewalls](https://manualzz.com/doc/19762578/using-distributed-com-with-firewalls-by-michael-nelson-in...)".</span></span>  
  
 <span data-ttu-id="7e9d8-113">Существует множество систем брандмауэров.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-113">There are many firewall systems available.</span></span> <span data-ttu-id="7e9d8-114">При запуске другого брандмауэра обратитесь к конкретной документации используемого брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-114">If you are running a firewall other than windowsfirewall, see your firewall documentation for information that is specific to the system you are using.</span></span>  
  
 <span data-ttu-id="7e9d8-115">Если брандмауэр поддерживает фильтрацию на уровне приложения, то можно использовать пользовательский интерфейс, предоставляемый Windows для указания исключений, которым разрешается доступ через брандмауэр, например программам и службам.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-115">If the firewall supports application-level filtering, you can use the user interface that Windows provides to specify the exceptions that are allowed through the firewall, such as programs and services.</span></span> <span data-ttu-id="7e9d8-116">Иначе необходимо установить настройки DCOM, ограничивающие количество портов TCP.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-116">Otherwise, you have to configure DCOM to use a limited set of TCP ports.</span></span> <span data-ttu-id="7e9d8-117">Ссылка на веб-сайт Майкрософт в прошлом включала сведения о том, как указать TCP-порты для использования.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-117">The Microsoft website link previously provided includes information about how to specify the TCP ports to use.</span></span>  
  
 <span data-ttu-id="7e9d8-118">Служба Integration Services использует порт 135, который не может быть изменен.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-118">The Integration Services service uses port 135, and the port cannot be changed.</span></span> <span data-ttu-id="7e9d8-119">Для доступа к диспетчеру управления службами (SCM) необходимо открыть TCP-порт 135.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-119">You have to open TCP port 135 for access to the service control manager (SCM).</span></span> <span data-ttu-id="7e9d8-120">SCM выполняет такие задачи, как запуск и остановка служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] , а также передачу управляющих запросов выполняемой службе.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-120">SCM performs tasks such as starting and stopping [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] services and transmitting control requests to the running service.</span></span>  
  
 <span data-ttu-id="7e9d8-121">Сведения в следующем разделе относятся к брандмауэру Windows.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-121">The information in the following section is specific to windowsfirewall.</span></span> <span data-ttu-id="7e9d8-122">Можно настроить систему брандмауэра Windows, введя команду в командной строке или установив свойства в диалоговом окне брандмауэра Windows.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-122">You can configure the windowsfirewall system by running a command at the command prompt, or by setting properties in the windowsfirewall dialog box.</span></span>  
  
 <span data-ttu-id="7e9d8-123">Дополнительные сведения о настройках брандмауэра Windows по умолчанию и описание портов TCP, влияющих на ядро СУБД, службы Analysis Services, службы Reporting Services и службы Integration Services, см. в разделе [Настройка брандмауэра Windows для разрешения доступа к SQL Server](../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="7e9d8-123">For more information about the default windowsfirewall settings, and a description of the TCP ports that affect the Database Engine, Analysis Services, Reporting Services, and Integration Services, see [Configure the Windows Firewall to Allow SQL Server Access](../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span>  
  
## <a name="configuring-a-windowsfirewall"></a><span data-ttu-id="7e9d8-124">Настройка брандмауэра Windows</span><span class="sxs-lookup"><span data-stu-id="7e9d8-124">Configuring a windowsfirewall</span></span>  
 <span data-ttu-id="7e9d8-125">Можно использовать следующие команды для открытия TCP-порта 135, добавления в список исключения MsDtsSrvr.exe и указания области доступа, предоставляемого брандмауэром.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-125">You can use the following commands to open TCP port 135, add MsDtsSrvr.exe to the exception list, and specify the scope of unblocking for the firewall.</span></span>  
  
#### <a name="to-configure-a-windowsfirewall-using-the-command-prompt-window"></a><span data-ttu-id="7e9d8-126">Настройка брандмауэра Windows с помощью окна командной строки</span><span class="sxs-lookup"><span data-stu-id="7e9d8-126">To configure a windowsfirewall using the Command Prompt window</span></span>  
  
1.  <span data-ttu-id="7e9d8-127">Выполните команду `netsh firewall add portopening protocol=TCP port=135 name="RPC (TCP/135)" mode=ENABLE scope=SUBNET`.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-127">Run the command: `netsh firewall add portopening protocol=TCP port=135 name="RPC (TCP/135)" mode=ENABLE scope=SUBNET`</span></span>  
  
2.  <span data-ttu-id="7e9d8-128">Выполните команду `netsh firewall add allowedprogram program="%ProgramFiles%\Microsoft SQL Server\100\DTS\Binn\MsDtsSrvr.exe" name="SSIS Service" scope=SUBNET`.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-128">Run the command: `netsh firewall add allowedprogram program="%ProgramFiles%\Microsoft SQL Server\100\DTS\Binn\MsDtsSrvr.exe" name="SSIS Service" scope=SUBNET`</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="7e9d8-129">Чтобы включить брандмауэр для всех компьютеров, в том числе в сети Интернет, замените предложение «scope=SUBNET» на «scope=ALL».</span><span class="sxs-lookup"><span data-stu-id="7e9d8-129">To open the firewall for all computers, and also for computers on the Internet, replace scope=SUBNET with scope=ALL.</span></span>  
  
 <span data-ttu-id="7e9d8-130">Следующая процедура описывает, как использовать пользовательский интерфейс Windows для открытия TCP-порта 135, добавления в список исключения MsDtsSrvr.exe и указания области доступа, предоставляемой брандмауэром.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-130">The following procedure describes how to use the Windows user interface to open TCP port 135, add MsDtsSrvr.exe to the exception list, and specify the scope of unblocking for the firewall.</span></span>  
  
#### <a name="to-configure-a-firewall-using-the-windowsfirewall-dialog-box"></a><span data-ttu-id="7e9d8-131">Настройка брандмауэра Windows с помощью диалогового окна</span><span class="sxs-lookup"><span data-stu-id="7e9d8-131">To configure a firewall using the windowsfirewall dialog box</span></span>  
  
1.  <span data-ttu-id="7e9d8-132">На панели управления дважды щелкните элемент **Брандмауэр Windows**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-132">In the Control Panel, double-click **Windows Firewall**.</span></span>  
  
2.  <span data-ttu-id="7e9d8-133">В диалоговом окне **Брандмауэр Windows** перейдите на вкладку **Исключения** , затем нажмите кнопку **Добавить программу**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-133">In the **Windows Firewall** dialog box, click the **Exceptions** tab and then click **Add Program.**</span></span>  
  
3.  <span data-ttu-id="7e9d8-134">В диалоговом окне **Добавление программы** нажмите кнопку **Обзор**, найдите папку Program Files\Microsoft SQL Server\100\DTS\Binn, выберите файл MsDtsSrvr.exe и нажмите кнопку **Открыть**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-134">In the **Add a Program** dialog box, **click Browse**, navigate to the Program Files\Microsoft SQL Server\100\DTS\Binn folder, click MsDtsSrvr.exe, and then click **Open**.</span></span> <span data-ttu-id="7e9d8-135">Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Добавить программу** .</span><span class="sxs-lookup"><span data-stu-id="7e9d8-135">Click **OK** to close the **Add a Program** dialog box.</span></span>  
  
4.  <span data-ttu-id="7e9d8-136">На вкладке **Исключения** нажмите кнопку **Добавить порт**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-136">On the **Exceptions** tab, click **Add Port.**</span></span>  
  
5.  <span data-ttu-id="7e9d8-137">В диалоговом окне **Добавить порт** введите **RPC(TCP/135)** или другое описательное имя в поле **Имя**, введите **135** в поле **Номер порта** и выберите **TCP**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-137">In the **Add a Port** dialog box, type **RPC(TCP/135)** or another descriptive name in the **Nam**e box, type **135** in the **Port Number** box, and then select **TCP**.</span></span>  
  
    > [!IMPORTANT]  
    >  [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] <span data-ttu-id="7e9d8-138">всегда использует порт 135.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-138">service always uses port 135.</span></span> <span data-ttu-id="7e9d8-139">Другой порт указать нельзя.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-139">You cannot specify a different port.</span></span>  
  
6.  <span data-ttu-id="7e9d8-140">В диалоговом окне **Добавить порт** можно нажать кнопку **Изменить область** , чтобы изменить область по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-140">In the **Add a Port** dialog box, you can optionally click **Change Scope** to modify the default scope.</span></span>  
  
7.  <span data-ttu-id="7e9d8-141">В диалоговом окне **Изменить область** выберите **Только локальная сеть (подсеть)** или введите пользовательский список и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-141">In the **Change Scope** dialog box, select **My network (subnet only)** or type a custom list, and then click **OK**.</span></span>  
  
8.  <span data-ttu-id="7e9d8-142">Чтобы закрыть диалоговое окно **Добавить порт** , нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-142">To close the **Add a Port** dialog box, click **OK**.</span></span>  
  
9. <span data-ttu-id="7e9d8-143">Чтобы закрыть диалоговое окно **Брандмауэр Windows** , нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-143">To close the **Windows Firewall** dialog box, click **OK**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="7e9d8-144">Для настройки брандмауэра Windows эта процедура использует элемент **Брандмауэр Windows** на панели управления.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-144">To configure the windowsfirewall, this procedure uses the **Windows Firewall** item in Control Panel.</span></span> <span data-ttu-id="7e9d8-145">Элемент **Брандмауэр Windows** настраивает брандмауэр только для текущего сетевого профиля.</span><span class="sxs-lookup"><span data-stu-id="7e9d8-145">The **Windows Firewall** item only configures the firewall for the current network location profile.</span></span> <span data-ttu-id="7e9d8-146">Брандмауэр Windows также можно настроить с помощью программы командной строки **netsh** или оснастки консоли управления [!INCLUDE[msCoName](../includes/msconame-md.md)] (MMC) "Брандмауэр Windows в режиме повышенной безопасности".</span><span class="sxs-lookup"><span data-stu-id="7e9d8-146">However, you can also configure the windowsfirewall by using the **netsh** command line tool or the [!INCLUDE[msCoName](../includes/msconame-md.md)] Management Console (MMC) snap-in named windowsfirewall with Advanced Security.</span></span> <span data-ttu-id="7e9d8-147">Дополнительные сведения об этих средствах см. в разделе [Настройка брандмауэра Windows для разрешения доступа к SQL Server](../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="7e9d8-147">For more information about these tools, see [Configure the Windows Firewall to Allow SQL Server Access](../../2014/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7e9d8-148">См. также:</span><span class="sxs-lookup"><span data-stu-id="7e9d8-148">See Also</span></span>  
 <span data-ttu-id="7e9d8-149">[Настройка службы Integration Services &#40;служб SSIS&#41;](service/integration-services-service-ssis-service.md) </span><span class="sxs-lookup"><span data-stu-id="7e9d8-149">[Configuring the Integration Services Service &#40;SSIS Service&#41;](service/integration-services-service-ssis-service.md) </span></span>  
 [<span data-ttu-id="7e9d8-150">Службы Integration Services (службы SSIS)</span><span class="sxs-lookup"><span data-stu-id="7e9d8-150">Integration Services Service &#40;SSIS Service&#41;</span></span>](service/integration-services-service-ssis-service.md)  
  
  

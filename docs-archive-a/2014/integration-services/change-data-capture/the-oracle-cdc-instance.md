---
title: Экземпляр CDC Oracle | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: ed71e8c4-e013-4bf2-8b6c-1e833ff2a41d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2228872b5a190fd416dccaa8062dd79dbc1f7a79
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87664450"
---
# <a name="the-oracle-cdc-instance"></a><span data-ttu-id="7e8e7-102">Экземпляр CDC Oracle</span><span class="sxs-lookup"><span data-stu-id="7e8e7-102">The Oracle CDC Instance</span></span>
  <span data-ttu-id="7e8e7-103">Экземпляр Oracle CDC — это процесс, создаваемый службой Oracle CDC Service для обработки изменений, отслеживаемых в одной базе данных-источнике Oracle.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-103">The Oracle CDC Instance is a process created by the Oracle CDC Service to process changes captured from a single Oracle source database.</span></span> <span data-ttu-id="7e8e7-104">Экземпляр Oracle CDC получает свою конфигурацию из таблицы **cdc.xdbcdc_config** и передает данные о своем состоянии в таблицу **cdc.xdbcdc_state** .</span><span class="sxs-lookup"><span data-stu-id="7e8e7-104">The Oracle CDC Instance retrieves its configuration from the **cdc.xdbcdc_config** table and maintains its state in the **cdc.xdbcdc_state** table.</span></span> <span data-ttu-id="7e8e7-105">Эти таблицы являются частью базы данных CDC, которая определяет экземпляр Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-105">These tables are part of the CDC database, which defines the Oracle CDC Instance.</span></span> <span data-ttu-id="7e8e7-106">Дополнительные сведения о базе данных и таблицах xdbcdc см. в разделе [The CDC Databases](the-oracle-cdc-service.md).</span><span class="sxs-lookup"><span data-stu-id="7e8e7-106">For more information about the xdbcdc database and tables see [The CDC Databases](the-oracle-cdc-service.md).</span></span>  
  
 <span data-ttu-id="7e8e7-107">Далее описываются задачи, выполняемые экземпляром Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-107">The following describes the tasks carried out by the Oracle CDC instance:</span></span>  
  
-   <span data-ttu-id="7e8e7-108">**Обработка проверки запуска службы**. При запуске экземпляр CDC загружает свою конфигурацию из таблицы **xdbcdc_config** и выполняет ряд проверок состояния. Цель этой проверки — убедиться, что сохраненное состояние экземпляра CDC согласовано, а экземпляр может начать обработку изменений.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-108">**Handling service startup verification**: When started, the CDC instance loads its configuration from the **xdbcdc_config** table and performs a series of status verifications that ensure that the CDC instance persisted state is consistent and that it can start processing changes.</span></span>  
  
-   <span data-ttu-id="7e8e7-109">**Подготовка к отслеживанию изменений**. Если проверка прошла успешно, экземпляр Oracle CDC просматривает все существующие экземпляры отслеживания, подготавливает запросы средства интеллектуального анализа журнала Oracle и другие вспомогательные структуры, необходимые для отслеживания изменений.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-109">**Preparing for change capture**: When the verification passes successfully, the Oracle CDC Instance scans all of the capture instances currently defined and prepares the Oracle LogMiner queries and other support structures required for change capture.</span></span> <span data-ttu-id="7e8e7-110">Кроме того, экземпляр Oracle заново загружает внутреннее состояние отслеживания изменений, сохраненное в последний раз, когда выполнялся этот экземпляр Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-110">In addition, the Oracle instance re-loads the internal capture state that was saved the last time the Oracle CDC Instance run.</span></span>  
  
-   <span data-ttu-id="7e8e7-111">**Отслеживание изменений из Oracle**. Экземпляр Oracle CDC группирует изменения, поступающие из Oracle, с помощью средства интеллектуального анализа журнала Oracle, сортирует их по времени фиксации транзакции, а затем изменяет время транзакции и записывает изменения в таблицы изменений [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в базе данных CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-111">**Capturing changes from Oracle**: The Oracle CDC Instance pools changes from Oracle by means of the Oracle LogMiner facility, orders them in according to transaction commit, and then changes the time in a transaction and writes them to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] change tables in the CDC database.</span></span>  
  
-   <span data-ttu-id="7e8e7-112">**Обработка завершения работы службы**. Жизненным циклом экземпляра Oracle CDC управляет служба Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-112">**Handling service shutdown**: The life cycle of the Oracle CDC Instance is managed by the Oracle CDC Service.</span></span> <span data-ttu-id="7e8e7-113">Получив команду завершения работы, экземпляр CDC Oracle выполняет следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="7e8e7-113">When the Oracle CDC Instance is requested to shut down, it performs the following tasks:</span></span>  
  
    -   <span data-ttu-id="7e8e7-114">прекращает чтение журнала транзакций Oracle;</span><span class="sxs-lookup"><span data-stu-id="7e8e7-114">Stops reading from the Oracle transaction log.</span></span>  
  
    -   <span data-ttu-id="7e8e7-115">прекращает запись завершенных транзакций Oracle в базу данных CDC;</span><span class="sxs-lookup"><span data-stu-id="7e8e7-115">Stops writing completed Oracle transactions to the CDC database.</span></span>  
  
    -   <span data-ttu-id="7e8e7-116">ждет до 30 секунд (при необходимости), пока текущая транзакция не закончит запись в базу данных CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-116">Waits for up to 30 seconds (if necessary) until the current transaction finishes writing to the CDC database.</span></span> <span data-ttu-id="7e8e7-117">Если прошло более 30 секунд, операция записи отменяется и транзакция откатывается (при повторном запуске экземпляра CDC она будет выполнена заново);</span><span class="sxs-lookup"><span data-stu-id="7e8e7-117">If more than 30 seconds pass, the writing is cancelled and transaction is rolled back (to be retried when the CDC instance is restarted).</span></span>  
  
    -   <span data-ttu-id="7e8e7-118">в отдельном потоке в течение не более 30 секунд записывает как можно больше кэшированных в памяти записей в промежуточную таблицу транзакций (от самой старой до самой новой), затем обновляет таблицу **xdbcdc_state** и выполняет фиксацию всех изменений.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-118">In a separate thread, writes as many memory-cached records as possible to the staged transactions table for up to 30 seconds (from the oldest transaction to the newest), then updates the **xdbcdc_state** table and commits all the changes.</span></span>  
  
-   <span data-ttu-id="7e8e7-119">**Обработка изменений конфигурации**. Экземпляр Oracle CDC получает сообщение об изменении конфигурации от службы CDC или обнаруживает новую версию в таблице **cdc.xdbcdc_config** .</span><span class="sxs-lookup"><span data-stu-id="7e8e7-119">**Handling configuration changes**: The Oracle CDC Instance is notified about configuration changes either from the CDC Service or by detecting a new version in the **cdc.xdbcdc_config** table.</span></span> <span data-ttu-id="7e8e7-120">Большинство изменений (например, добавление или удаление экземпляров отслеживания) не требуют перезапуска экземпляра Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-120">Most changes do not require the restart of the Oracle CDC Instance (for example, adding or removing capture instances).</span></span> <span data-ttu-id="7e8e7-121">Однако при внесении некоторых изменений, например строки подключения Oracle или учетных данных доступа, экземпляр CDC необходимо перезапустить.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-121">However, some changes, such as changing the Oracle connection string or access credentials do require the restart of the CDC Instance.</span></span>  
  
-   <span data-ttu-id="7e8e7-122">**Обработка восстановления**. При запуске экземпляра Oracle CDC его внутреннее состояние восстанавливается из таблиц **xdbcdc_state** и **xdbcdc_staged_transactions** .</span><span class="sxs-lookup"><span data-stu-id="7e8e7-122">**Handling recovery**: When an Oracle CDC Instance starts its internal state is restored from the **xdbcdc_state** and the **xdbcdc_staged_transactions** tables.</span></span> <span data-ttu-id="7e8e7-123">После восстановления состояния экземпляр CDC продолжает работу как обычно.</span><span class="sxs-lookup"><span data-stu-id="7e8e7-123">Once the state is restored, the CDC instance proceeds as usual.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7e8e7-124">См. также:</span><span class="sxs-lookup"><span data-stu-id="7e8e7-124">See Also</span></span>  
 [<span data-ttu-id="7e8e7-125">Обработка ошибок</span><span class="sxs-lookup"><span data-stu-id="7e8e7-125">Error Handling</span></span>](error-handling.md)  
  
  

---
title: Работа со службой CDC Oracle | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 04be5896-2301-45f5-a8ce-5f4ef2b69aa5
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d1946e6b329bfbd0155123707a604e971cd7d65f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655286"
---
# <a name="working-with-the-oracle-cdc-service"></a><span data-ttu-id="6d1a1-102">Работа со службой CDC Oracle</span><span class="sxs-lookup"><span data-stu-id="6d1a1-102">Working with the Oracle CDC Service</span></span>
  <span data-ttu-id="6d1a1-103">В этом разделе описываются некоторые важные понятия, относящиеся к службе Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-103">This section describes some important concepts of the Oracle CDC Service.</span></span> <span data-ttu-id="6d1a1-104">В разделе описываются следующие понятия.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-104">The concepts included in this section are:</span></span>  
  
-   [<span data-ttu-id="6d1a1-105">База данных MSXDBCDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-105">The MSXDBCDC Database</span></span>](#BKMK_MSXDBCDC)  
  
     <span data-ttu-id="6d1a1-106">В данном разделе описываются таблицы, включаемые в эту базу данных, и их значение для CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-106">This section describes the tables that are included in this database and how it is important to CDC.</span></span>  
  
-   [<span data-ttu-id="6d1a1-107">Базы данных CDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-107">The CDC Databases</span></span>](#BKMK_CDCdatabase)  
  
     <span data-ttu-id="6d1a1-108">В этом разделе приведено краткое описание баз данных CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-108">This section provides a brief description of the CDC databases.</span></span> <span data-ttu-id="6d1a1-109">Эти базы данных создаются с помощью консоли конструктора Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-109">These databases are created using the Oracle CDC Designer Console.</span></span> <span data-ttu-id="6d1a1-110">Для получения дополнительных сведений о базах данных CDC ознакомьтесь с документацией по консоли конструктора CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-110">See the documentation included with your installation of the CDC Designer Console for more information about the CDC databases.</span></span>  
  
-   [<span data-ttu-id="6d1a1-111">Использование интерфейса командной строки для настройки службы CDC Service</span><span class="sxs-lookup"><span data-stu-id="6d1a1-111">Using the Command Line to Configure the CDC Service</span></span>](#BKMK_CommandConfigCDC)  
  
     <span data-ttu-id="6d1a1-112">В этом разделе описаны команды командной строки, используемые для настройки службы Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-112">This section describes the command-line commands that can be used to configure the Oracle CDC Service.</span></span>  
  
##  <a name="the-msxdbcdc-database"></a><a name="BKMK_MSXDBCDC"></a> <span data-ttu-id="6d1a1-113">База данных MSXDBCDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-113">The MSXDBCDC Database</span></span>  
 <span data-ttu-id="6d1a1-114">База данных MSXDBCDC (Microsoft External-Database CDC) ― это специальная база данных, необходимая при использовании служб CDC Service для Oracle совместно с экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-114">The MSXDBCDC (Microsoft External-Database CDC) database is a special database that is required when using the CDC Service for Oracle with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="6d1a1-115">Имя этой базы данных изменить невозможно.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-115">The name of this database cannot be changed.</span></span> <span data-ttu-id="6d1a1-116">Если в базовом экземпляре размещения [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] существует база данных с именем MSXDBCDC и содержит таблицы, отличные от определенных службой CDC Service для Oracle, базовый экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] использовать нельзя.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-116">If a database called MSXDBCDC exists on the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance and contains tables other than those defined by the CDC Service for Oracle, the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance cannot be used.</span></span>  
  
 <span data-ttu-id="6d1a1-117">Эта база данных используется в следующих основных целях.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-117">The main uses for this database are to:</span></span>  
  
-   <span data-ttu-id="6d1a1-118">В качестве реестра служб Oracle CDC Service, связанных с экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-118">Serve as a registry of Oracle CDC Services associated with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-119">Эти данные используются для настройки службы и создания компонентов, а также для поддержки координации нескольких служб CDC с одним и тем же именем на различных узлах, один из которых является активным.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-119">This information is used for the service configuration and design components and to support coordination of multiple CDC services by the same name on different nodes over which one is the active one.</span></span>  
  
-   <span data-ttu-id="6d1a1-120">В качестве реестра экземпляров Oracle CDC, содержащихся в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , служба CDC, обрабатывающая каждый экземпляр, и версий конфигураций, которые они используют.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-120">Serve as a registry of the Oracle CDC instances contained in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance, the CDC service that handles each instance, and the configuration version each uses.</span></span> <span data-ttu-id="6d1a1-121">Эти данные эквивалентны столбцу **is_cdc_enabled** в таблице **sys.databases** базы данных master.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-121">This information is equivalent to the **is_cdc_enabled** column in the **sys.databases** table of the master database.</span></span> <span data-ttu-id="6d1a1-122">Служба CDC периодически сканирует таблицу **dbo.xdbcdc_databases** в поисках новых изменений конфигурации CDC или списка отслеживаемых экземпляров.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-122">The CDC service periodically scans the **dbo.xdbcdc_databases** table to identify changes made to the CDC configuration or to the list of captured instances.</span></span>  
  
-   <span data-ttu-id="6d1a1-123">Содержание хранимых процедур, принадлежащих **sysadmin**, которые позволяют создавать и обслуживать экземпляры CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-123">Hold **sysadmin**-owned stored procedures that help create and maintain CDC instances.</span></span> <span data-ttu-id="6d1a1-124">Они похожи на системные процедуры, которые используются для реализации функции CDC [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-124">These are similar to the system procedures that are used for the implementation of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] CDC feature.</span></span>  
  
### <a name="creating-the-msxdbcdc-database"></a><span data-ttu-id="6d1a1-125">Создание базы данных MSXDBCDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-125">Creating the MSXDBCDC Database</span></span>  
 <span data-ttu-id="6d1a1-126">Базу данных MSXDBCDC следует создать до определения службы Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-126">An MSXDBCDC database must be created before the Oracle CDC Service can be defined.</span></span> <span data-ttu-id="6d1a1-127">В экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] можно создать только одну базу данных MSXDBCDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-127">You can create only one MSXDBCDC database on a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-128">База данных MSXDBCDC создается при подготовке базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-128">The MSXDBCDC database is created when you prepare a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database for Oracle CDC.</span></span> <span data-ttu-id="6d1a1-129">Это можно сделать с помощью консоли конфигурации служб CDC Oracle или скрипта создания, сформированного консолью конфигурации служб CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-129">This can be done by using the Oracle CDC Service Configuration Console or by running a creation script that is generated by the CDC Service Configuration Console.</span></span>  
  
 <span data-ttu-id="6d1a1-130">Владельцем этой базы данных является администратор служб Oracle CDC Service. Он может управлять всеми экземплярами Oracle CDC, размещенными на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-130">The owner of this database is the Oracle CDC Service Administrator, who can control all of the Oracle CDC instances hosted under the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="6d1a1-131">**См. также**</span><span class="sxs-lookup"><span data-stu-id="6d1a1-131">**See also:**</span></span>  
  
 [<span data-ttu-id="6d1a1-132">Как подготовить SQL Server для CDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-132">How to Prepare SQL Server for CDC</span></span>](prepare-sql-server-for-cdc.md)  
  
### <a name="the-msxdbcdc-database-tables"></a><span data-ttu-id="6d1a1-133">Таблицы базы данных MSXDBCDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-133">The MSXDBCDC Database Tables</span></span>  
 <span data-ttu-id="6d1a1-134">В данном разделе описаны следующие таблицы базы данных MSXDBCDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-134">This section describes the following tables in the MSXDBCDC database.</span></span>  
  
-   [<span data-ttu-id="6d1a1-135">dbo.xdbcdc_trace</span><span class="sxs-lookup"><span data-stu-id="6d1a1-135">dbo.xdbcdc_trace</span></span>](#BKMK_dboxdbcdc_trace)  
  
-   [<span data-ttu-id="6d1a1-136">dbo.xdbcdc_databases</span><span class="sxs-lookup"><span data-stu-id="6d1a1-136">dbo.xdbcdc_databases</span></span>](#BKMK_dboxdbcdc_databases)  
  
-   [<span data-ttu-id="6d1a1-137">dbo.xdbcdc_services</span><span class="sxs-lookup"><span data-stu-id="6d1a1-137">dbo.xdbcdc_services</span></span>](#BKMK_dboxdbcdc_services)  
  
###  <a name="dboxdbcdc_trace"></a><a name="BKMK_dboxdbcdc_trace"></a> <span data-ttu-id="6d1a1-138">dbo.xdbcdc_trace</span><span class="sxs-lookup"><span data-stu-id="6d1a1-138">dbo.xdbcdc_trace</span></span>  
 <span data-ttu-id="6d1a1-139">В этой таблице хранятся данные трассировки для службы Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-139">This table stores tracing information for the Oracle CDC Service.</span></span> <span data-ttu-id="6d1a1-140">Сведения, хранящиеся в этой таблице, включают в себя важные изменения состояния и записи трассировки.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-140">The information stored in this table includes notable status changes and trace records.</span></span>  
  
 <span data-ttu-id="6d1a1-141">Служба Oracle CDC Service создает записи об ошибках и некоторые информационные записи как в журнал событий Windows, так и в таблице трассировки.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-141">The Oracle CDC Service writes error records and some of the information records to both the Windows event log and the trace table.</span></span> <span data-ttu-id="6d1a1-142">В некоторых случаях таблица трассировки может быть недоступна. Тогда сведения об ошибках можно найти в журнале событий.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-142">In some cases the trace table may not be accessible, in which case the error information is accessible from the event log.</span></span>  
  
 <span data-ttu-id="6d1a1-143">Далее описаны элементы, содержащиеся в таблице **dbo.xdbcdc_trace** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-143">The following describes the items that are included in the **dbo.xdbcdc_trace** table.</span></span>  
  
|<span data-ttu-id="6d1a1-144">Item</span><span class="sxs-lookup"><span data-stu-id="6d1a1-144">Item</span></span>|<span data-ttu-id="6d1a1-145">Описание</span><span class="sxs-lookup"><span data-stu-id="6d1a1-145">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="6d1a1-146">TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="6d1a1-146">timestamp</span></span>|<span data-ttu-id="6d1a1-147">Точная отметка времени в формате UTC, когда была создана запись трассировки.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-147">The exact UTC timestamp when the trace record was written.</span></span>|  
|<span data-ttu-id="6d1a1-148">type</span><span class="sxs-lookup"><span data-stu-id="6d1a1-148">type</span></span>|<span data-ttu-id="6d1a1-149">Содержит одно из следующих значений:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-149">Contains one of the following values.</span></span><br /><br /> <span data-ttu-id="6d1a1-150">ошибка</span><span class="sxs-lookup"><span data-stu-id="6d1a1-150">ERROR</span></span><br /><br /> <span data-ttu-id="6d1a1-151">INFO</span><span class="sxs-lookup"><span data-stu-id="6d1a1-151">INFO</span></span><br /><br /> <span data-ttu-id="6d1a1-152">трассировка</span><span class="sxs-lookup"><span data-stu-id="6d1a1-152">TRACE</span></span>|  
|<span data-ttu-id="6d1a1-153">node</span><span class="sxs-lookup"><span data-stu-id="6d1a1-153">node</span></span>|<span data-ttu-id="6d1a1-154">Имя узла, на котором была создана запись.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-154">The name of the node on which the record was written.</span></span>|  
|<span data-ttu-id="6d1a1-155">status</span><span class="sxs-lookup"><span data-stu-id="6d1a1-155">status</span></span>|<span data-ttu-id="6d1a1-156">Код состояния, который используется в таблице состояний.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-156">The status code that is used by the state table.</span></span>|  
|<span data-ttu-id="6d1a1-157">sub_status</span><span class="sxs-lookup"><span data-stu-id="6d1a1-157">sub_status</span></span>|<span data-ttu-id="6d1a1-158">Код подсостояния, который используется в таблице состояний.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-158">The substatus code that is used by the state table.</span></span>|  
|<span data-ttu-id="6d1a1-159">status_message</span><span class="sxs-lookup"><span data-stu-id="6d1a1-159">status_message</span></span>|<span data-ttu-id="6d1a1-160">Сообщение состояния, которое используется в таблице состояний.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-160">The status message that is used by the state table.</span></span>|  
|<span data-ttu-id="6d1a1-161">source</span><span class="sxs-lookup"><span data-stu-id="6d1a1-161">source</span></span>|<span data-ttu-id="6d1a1-162">Имя компонента Oracle CDC, который произвел запись трассировки.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-162">The name of the Oracle CDC component that produced the trace record.</span></span>|  
|<span data-ttu-id="6d1a1-163">text_data</span><span class="sxs-lookup"><span data-stu-id="6d1a1-163">text_data</span></span>|<span data-ttu-id="6d1a1-164">Дополнительные текстовые данные в тех случаях, когда запись ошибки или трассировки содержит полезную текстовую информацию.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-164">Additional text data for cases when the error or trace record contains a textual payload.</span></span>|  
|<span data-ttu-id="6d1a1-165">binary_data</span><span class="sxs-lookup"><span data-stu-id="6d1a1-165">binary_data</span></span>|<span data-ttu-id="6d1a1-166">Дополнительные двоичные данные в тех случаях, когда запись ошибки или трассировки содержит полезную двоичную информацию.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-166">Additional binary data for cases when the error or trace record contains a binary payload.</span></span>|  
  
 <span data-ttu-id="6d1a1-167">Экземпляр Oracle CDC удаляет старые строки таблицы трассировки в соответствии с политикой сохранения таблицы изменений.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-167">The Oracle CDC instance will delete old trace table rows according to the change tables retention policy.</span></span>  
  
###  <a name="dboxdbcdc_databases"></a><a name="BKMK_dboxdbcdc_databases"></a> <span data-ttu-id="6d1a1-168">dbo.xdbcdc_databases</span><span class="sxs-lookup"><span data-stu-id="6d1a1-168">dbo.xdbcdc_databases</span></span>  
 <span data-ttu-id="6d1a1-169">В этой таблице содержатся имена баз данных CDC службы CDC Service для Oracle в текущем экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-169">This table contains the names of CDC Service for Oracle CDC databases in the current [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-170">Каждая база данных соответствует экземпляру Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-170">Each database corresponds to an Oracle CDC instance.</span></span> <span data-ttu-id="6d1a1-171">Служба Oracle CDC Service использует эту таблицу для определения экземпляров, которые следует запустить, остановить или перенастроить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-171">The Oracle CDC Service uses this table to determine which instances to start or stop and which instances to reconfigure.</span></span>  
  
 <span data-ttu-id="6d1a1-172">В следующей таблице описаны элементы, содержащиеся в таблице **dbo.xdbcdc_trace** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-172">The following table describes the items that are included in the **dbo.xdbcdc_databases** table.</span></span>  
  
|<span data-ttu-id="6d1a1-173">Item</span><span class="sxs-lookup"><span data-stu-id="6d1a1-173">Item</span></span>|<span data-ttu-id="6d1a1-174">Описание</span><span class="sxs-lookup"><span data-stu-id="6d1a1-174">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="6d1a1-175">name</span><span class="sxs-lookup"><span data-stu-id="6d1a1-175">name</span></span>|<span data-ttu-id="6d1a1-176">Имя базы данных Oracle, содержащейся в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-176">The name of the Oracle database in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>|  
|<span data-ttu-id="6d1a1-177">config_version</span><span class="sxs-lookup"><span data-stu-id="6d1a1-177">config_version</span></span>|<span data-ttu-id="6d1a1-178">Отметка времени в формате (UTC) последнего изменения в соответствующей таблице **xdbcdc_config** базы данных CDC или отметка времени (UTC) текущей строки этой таблицы.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-178">The timestamp (UTC) for the last change in the corresponding CDC database **xdbcdc_config** table or the timestamp (UTC) for the current row in this table.</span></span><br /><br /> <span data-ttu-id="6d1a1-179">Триггер UPDATE принудительно присваивает этому элементу значение GETUTCDATE().</span><span class="sxs-lookup"><span data-stu-id="6d1a1-179">The UPDATE trigger enforces a value of GETUTCDATE() for this item.</span></span> <span data-ttu-id="6d1a1-180">**config_version** сообщает службе CDC, какой экземпляр CDC следует проверить на предмет наличия изменений в конфигурации, отключить или включить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-180">**config_version** lets the CDC service identify the CDC instance that needs to be checked for configuration change or for enabling/disabling.</span></span>|  
|<span data-ttu-id="6d1a1-181">cdc_service_name</span><span class="sxs-lookup"><span data-stu-id="6d1a1-181">cdc_service_name</span></span>|<span data-ttu-id="6d1a1-182">Этот элемент определяет, какая из служб Oracle CDC Service обрабатывает выбранную базу данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-182">This item determines which Oracle CDC Service handles the selected Oracle database.</span></span>|  
|<span data-ttu-id="6d1a1-183">Включено</span><span class="sxs-lookup"><span data-stu-id="6d1a1-183">enabled</span></span>|<span data-ttu-id="6d1a1-184">Указывает, активен (1) или отключен (0) экземпляр Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-184">Indicates whether the Oracle CDC instance is active (1) or disabled (0).</span></span> <span data-ttu-id="6d1a1-185">При запуске службы Oracle CDC Service запускаются только экземпляры, отмеченные «включить» (1).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-185">When the Oracle CDC Service starts only the instances marked enable (1) are started.</span></span><br /><br /> <span data-ttu-id="6d1a1-186">**Примечание.** Экземпляр Oracle CDC может перейти в отключенное состояние из-за ошибки, не дающей возможности повторить операцию.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-186">**Note**: An Oracle CDC instance can become disabled due to an error that is not retryable.</span></span> <span data-ttu-id="6d1a1-187">В этом случае экземпляр следует перезапустить вручную после устранения ошибки.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-187">In this case, the instance must be restarted manually after the error is resolved.</span></span>|  
  
###  <a name="dboxdbcdc_services"></a><a name="BKMK_dboxdbcdc_services"></a> <span data-ttu-id="6d1a1-188">dbo.xdbcdc_services</span><span class="sxs-lookup"><span data-stu-id="6d1a1-188">dbo.xdbcdc_services</span></span>  
 <span data-ttu-id="6d1a1-189">В этой таблице перечислены службы CDC, связанные с базовым экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-189">This table lists the CDC services associated with the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-190">Эта таблица используется консолью конструктора CDC для определения списка служб CDC, настроенных для локального экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-190">This table is used by the CDC Designer Console to determine the list of CDC services that are configured for the local [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-191">Она также используется службой CDC для обеспечения обработки данного имени службы Oracle CDC Service только одной запущенной службой Windows.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-191">It is also used by the CDC service to ensure that only one running Windows service handles a given Oracle CDC Service name.</span></span>  
  
 <span data-ttu-id="6d1a1-192">Далее описаны элементы состояния отслеживания изменений, содержащиеся в таблице **dbo.xdbcdc_databases** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-192">The following describes the capture state items that are included in the **dbo.xdbcdc_databases** table.</span></span>  
  
|<span data-ttu-id="6d1a1-193">Item</span><span class="sxs-lookup"><span data-stu-id="6d1a1-193">Item</span></span>|<span data-ttu-id="6d1a1-194">Описание</span><span class="sxs-lookup"><span data-stu-id="6d1a1-194">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="6d1a1-195">cdc_service_name</span><span class="sxs-lookup"><span data-stu-id="6d1a1-195">cdc_service_name</span></span>|<span data-ttu-id="6d1a1-196">Имя службы Oracle CDC Service (имя службы Windows).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-196">The name of the Oracle CDC Service (the Windows service name).</span></span>|  
|<span data-ttu-id="6d1a1-197">cdc_service_sql_login</span><span class="sxs-lookup"><span data-stu-id="6d1a1-197">cdc_service_sql_login</span></span>|<span data-ttu-id="6d1a1-198">Имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , используемое службой Oracle CDC Service для подключения к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-198">The name of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login used by the Oracle CDC Service to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-199">Новый пользователь SQL с именем cdc_service создается и связывается с этим именем входа, а затем добавляется к предопределенным ролям базы данных db_ddladmin, db_datareader и db_datawriter для каждой базы данных CDC, обрабатываемой данной службой.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-199">A new SQL User named cdc_service is created and associated with this login name and is then added as a member of the db_ddladmin, db_datareader and db_datawriter fixed database roles for each CDC database handled by the service.</span></span>|  
|<span data-ttu-id="6d1a1-200">ref_count</span><span class="sxs-lookup"><span data-stu-id="6d1a1-200">ref_count</span></span>|<span data-ttu-id="6d1a1-201">Этот элемент подсчитывает количество компьютеров, где установлена одна и та же служба Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-201">This item counts the number of machines where the same Oracle CDC Service is installed.</span></span> <span data-ttu-id="6d1a1-202">Этот счетчик увеличивается при каждом добавлении службы Oracle CDC Service с тем же именем и уменьшается, когда такая служба удаляется.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-202">It gets incremented with each addition of same-named Oracle CDC service, and it is decremented when such a service is removed.</span></span> <span data-ttu-id="6d1a1-203">Когда значение счетчика достигнет нуля, эта строка будет удалена.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-203">When the counter reaches zero, this row is deleted.</span></span>|  
|<span data-ttu-id="6d1a1-204">active_service_node</span><span class="sxs-lookup"><span data-stu-id="6d1a1-204">active_service_node</span></span>|<span data-ttu-id="6d1a1-205">Имя узла Windows, который в настоящее время обрабатывает службу CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-205">The name of the Windows node that currently handles the CDC service.</span></span> <span data-ttu-id="6d1a1-206">Если служба была остановлена корректно, в этот столбец помещается значение NULL, указывающее, что служба больше не активна.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-206">When the service is stopped correctly, this column is set to null, indicating that there is no longer an active service.</span></span>|  
|<span data-ttu-id="6d1a1-207">active_service_heartbeat</span><span class="sxs-lookup"><span data-stu-id="6d1a1-207">active_service_heartbeat</span></span>|<span data-ttu-id="6d1a1-208">Этот элемент отслеживает текущую службу CDC, чтобы определить, активна ли она.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-208">This item tracks the current CDC service to determine if it still active.</span></span><br /><br /> <span data-ttu-id="6d1a1-209">Для активной службы CDC этот элемент обновляется через равные промежутки времени, получая значение текущей отметки времени в формате UTC базы данных.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-209">This item is updated with the current database UTC timestamp for the active CDC service at regular intervals.</span></span> <span data-ttu-id="6d1a1-210">Интервал по умолчанию составляет 30 секунд, но его можно менять.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-210">The default interval is 30 seconds, however the interval is configurable.</span></span><br /><br /> <span data-ttu-id="6d1a1-211">Если ожидающая служба CDC обнаруживает, что тактовый импульс не обновлялся на протяжении заданного интервала, она пытается взять на себя роль активной службы CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-211">When a pending CDC service detects that the heartbeat was not updated after the configured interval has passed, the pending service attempts to take over the active CDC service role.</span></span>|  
|<span data-ttu-id="6d1a1-212">параметры</span><span class="sxs-lookup"><span data-stu-id="6d1a1-212">options</span></span>|<span data-ttu-id="6d1a1-213">Этот элемент указывает дополнительные параметры, такие как настройка или трассировка.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-213">This item specifies the secondary options, such as tracing or tuning.</span></span> <span data-ttu-id="6d1a1-214">Он имеет вид: **имя[= значение][; ]** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-214">It is written in the form of **name[=value][; ]**.</span></span> <span data-ttu-id="6d1a1-215">В строке параметров используется та же семантика, что и в строке подключения ODBC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-215">The options string uses the same semantics as the ODBC connection string.</span></span> <span data-ttu-id="6d1a1-216">Если параметр принадлежит к логическому типу (со значением «да/нет»), значение может содержать только имя.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-216">If the option is Boolean (with a value of yes/no), the value can include the name only.</span></span><br /><br /> <span data-ttu-id="6d1a1-217">Трассировка имеет следующие возможные значения:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-217">trace has the following possible values:</span></span><br /><br /> <span data-ttu-id="6d1a1-218">true</span><span class="sxs-lookup"><span data-stu-id="6d1a1-218">true</span></span><br /><br /> <span data-ttu-id="6d1a1-219">on</span><span class="sxs-lookup"><span data-stu-id="6d1a1-219">on</span></span><br /><br /> <span data-ttu-id="6d1a1-220">false</span><span class="sxs-lookup"><span data-stu-id="6d1a1-220">false</span></span><br /><br /> <span data-ttu-id="6d1a1-221">off</span><span class="sxs-lookup"><span data-stu-id="6d1a1-221">off</span></span><br /><br /> <span data-ttu-id="6d1a1-222">\<class name>[, имя класса >]</span><span class="sxs-lookup"><span data-stu-id="6d1a1-222">\<class name>[,class name>]</span></span><br /><br /> <span data-ttu-id="6d1a1-223">Значение по умолчанию — **false**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-223">The default value is **false**.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6d1a1-224">**service_heartbeat_interval** ― это временной интервал (в секундах), на протяжении которого служба должна обновить столбец active_service_heartbeat.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-224">**service_heartbeat_interval** is the time interval (in seconds) for the service to update the active_service_heartbeat column.</span></span> <span data-ttu-id="6d1a1-225">Значение по умолчанию — **30**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-225">The default value is **30**.</span></span> <span data-ttu-id="6d1a1-226">Максимальное значение равно **3600**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-226">The maximum value is **3600**.</span></span><br /><br /> <span data-ttu-id="6d1a1-227">**service_config_polling_interval** ― это интервал опроса (в секундах), который служба CDC использует для проверки изменений конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-227">**service_config_polling_interval** is the polling interval (in seconds) for the CDC service to check for configuration changes.</span></span> <span data-ttu-id="6d1a1-228">Значение по умолчанию — **30**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-228">The default value is **30**.</span></span> <span data-ttu-id="6d1a1-229">Максимальное значение равно **3600**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-229">The maximum value is **3600**.</span></span><br /><br /> <span data-ttu-id="6d1a1-230">**sql_command_timeout** ― время ожидания для команды, взаимодействующей с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6d1a1-230">**sql_command_timeout** is the command timeout that works with the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="6d1a1-231">Значение по умолчанию — **1**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-231">The default value is **1**.</span></span> <span data-ttu-id="6d1a1-232">Максимальное значение равно **3600**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-232">The maximum value is **3600**.</span></span>|  
||  
  
### <a name="the-msxdbcdc-database-stored-procedures"></a><span data-ttu-id="6d1a1-233">Хранимые процедуры базы данных MSXDBCDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-233">The MSXDBCDC Database Stored Procedures</span></span>  
 <span data-ttu-id="6d1a1-234">В этом разделе описаны следующие хранимые процедуры базы данных MSXDBCDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-234">This section describes the following stored procedures in the MSXDBCDC database.</span></span>  
  
-   [<span data-ttu-id="6d1a1-235">dbo.xcbcdc_reset_db(имя базы данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-235">dbo.xcbcdc_reset_db(Database Name)</span></span>](#BKMK_dboxcbcdc_reset_db)  
  
-   [<span data-ttu-id="6d1a1-236">dbo.xdbcdc_disable_db(имя_базы_данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-236">dbo.xdbcdc_disable_db(dbname)</span></span>](#BKMK_dboxdbcdc_disable_db)  
  
-   [<span data-ttu-id="6d1a1-237">dbo.xcbcdc_add_service(svcname,sqlusr)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-237">dbo.xcbcdc_add_service(svcname,sqlusr)</span></span>](#BKMK_dboxcbcdc_add_service)  
  
-   [<span data-ttu-id="6d1a1-238">dbo.xdbcdc_start(имя_базы_данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-238">dbo.xdbcdc_start(dbname)</span></span>](#BKMK_dboxdbcdc_start)  
  
-   [<span data-ttu-id="6d1a1-239">dbo.xdbcdc_stop(имя_базы_данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-239">dbo.xdbcdc_stop(dbname)</span></span>](#BKMK_dboxdbcdc_stop)  
  
###  <a name="dboxcbcdc_reset_dbdatabase-name"></a><a name="BKMK_dboxcbcdc_reset_db"></a> <span data-ttu-id="6d1a1-240">dbo.xcbcdc_reset_db(имя базы данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-240">dbo.xcbcdc_reset_db(Database Name)</span></span>  
 <span data-ttu-id="6d1a1-241">Эта процедура очищает данные экземпляра Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-241">This procedure clears the data of an Oracle CDC instance.</span></span> <span data-ttu-id="6d1a1-242">Она используется:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-242">It is used:</span></span>  
  
-   <span data-ttu-id="6d1a1-243">для перезапуска отслеживания данных с игнорированием предыдущих данных, например после восстановления базы данных-источника или после периода неактивности при недоступности некоторых журналов транзакций Oracle;</span><span class="sxs-lookup"><span data-stu-id="6d1a1-243">To restart data capturing while disregarding previous data, for example following source database recovery or following inactivity where some of the Oracle transaction logs are not available.</span></span>  
  
-   <span data-ttu-id="6d1a1-244">при порче состояния CDC (особенно порче любых данных из таблиц cdc.\*tables).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-244">When there is a corruption in the CDC state (specifically in the any cdc.\*tables data).</span></span>  
  
 <span data-ttu-id="6d1a1-245">Процедура **dbo.xcbcdc_reset_db** выполняет следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-245">The **dbo.xcbcdc_reset_db** procedure performs the following tasks:</span></span>  
  
-   <span data-ttu-id="6d1a1-246">останавливает экземпляр CDC (если он активен);</span><span class="sxs-lookup"><span data-stu-id="6d1a1-246">Stops the CDC instance (if active).</span></span>  
  
-   <span data-ttu-id="6d1a1-247">усекает таблицы изменений, таблицу **cdc_lsn_mapping** и таблицу **cdc_ddl_history** ;</span><span class="sxs-lookup"><span data-stu-id="6d1a1-247">Truncates the change tables, the **cdc_lsn_mapping** table, and the **cdc_ddl_history** table.</span></span>  
  
-   <span data-ttu-id="6d1a1-248">очищает таблицу **cdc_xdbcdc_state** ;</span><span class="sxs-lookup"><span data-stu-id="6d1a1-248">Clears the **cdc_xdbcdc_state** table.</span></span>  
  
-   <span data-ttu-id="6d1a1-249">очищает столбец start_lsn для каждой строки таблицы **cdc_change_table**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-249">Clears the start_lsn column for each row of the **cdc_change_table**.</span></span>  
  
 <span data-ttu-id="6d1a1-250">Для использования процедуры **dbo.xcbcdc_reset_db** пользователь должен быть членом роли **db_owner** указанной базы данных экземпляра CDC или членом одной из следующих предопределенных ролей сервера: **sysadmin** или **serveradmin** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-250">To use the **dbo.xcbcdc_reset_db** procedure, the user must be a member of the **db_owner** database role for the CDC Instance database being named or else member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
 <span data-ttu-id="6d1a1-251">Дополнительные сведения о таблицах CDC см. в разделе *Базы данных CDC* в справочной системе консоли конструктора CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-251">For more information about the CDC tables, see *The CDC Databases* in the help system in the CDC Designer Console.</span></span>  
  
###  <a name="dboxdbcdc_disable_dbdbname"></a><a name="BKMK_dboxdbcdc_disable_db"></a> <span data-ttu-id="6d1a1-252">dbo.xdbcdc_disable_db(имя_базы_данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-252">dbo.xdbcdc_disable_db(dbname)</span></span>  
 <span data-ttu-id="6d1a1-253">Процедура **dbo.xcbcdc_disable_db** выполняет следующую задачу:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-253">The **dbo.xcbcdc_disable_db** procedure performs the following task:</span></span>  
  
-   <span data-ttu-id="6d1a1-254">удаляет запись в таблице MSXDBCDC.xdbcdc_databases для выбранной базы данных CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-254">Removes the entry for the selected CDC database in the MSXDBCDC.xdbcdc_databases table.</span></span>  
  
 <span data-ttu-id="6d1a1-255">Для использования процедуры **dbo.xcbcdc_disable_db** пользователь должен быть членом роли базы данных **db_owner** указанного экземпляра CDC или членом одной из следующих предопределенных ролей сервера: **sysadmin** или **serveradmin** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-255">To use the **dbo.xcbcdc_disable_db** procedure, the user must be a member of the **db_owner** database role for the CDC instance being named or a member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
 <span data-ttu-id="6d1a1-256">Дополнительные сведения о таблицах CDC см. в разделе «Базы данных CDC» в справочной системе консоли конструктора CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-256">For more information about the CDC tables, see The CDC Databases in the help system in the CDC Designer Console.</span></span>  
  
###  <a name="dboxcbcdc_add_servicesvcnamesqlusr"></a><a name="BKMK_dboxcbcdc_add_service"></a> <span data-ttu-id="6d1a1-257">dbo.xcbcdc_add_service(svcname,sqlusr)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-257">dbo.xcbcdc_add_service(svcname,sqlusr)</span></span>  
 <span data-ttu-id="6d1a1-258">Процедура **dbo.xcbcdc_add_service** добавляет запись в таблицу **MSXDBCDC.xdbcdc_services** и увеличивает на единицу счетчик ref_count для данного имени службы в таблице **MSXDBCDC.xdbcdc_services** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-258">The **dbo.xcbcdc_add_service** procedure adds an entry to the **MSXDBCDC.xdbcdc_services** table and adds an increment of one to the ref_count column for the service name in the **MSXDBCDC.xdbcdc_services** table.</span></span> <span data-ttu-id="6d1a1-259">Если значение **ref_count** становится равным 0, процедура удаляет эту строку.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-259">When the **ref_count** is 0, it deletes the row.</span></span>  
  
 <span data-ttu-id="6d1a1-260">Для использования процедуры **dbo.xcbcdc_add_service\<service name, username>** пользователь должен быть членом роли **db_owner** указанной базы данных экземпляра CDC или членом одной из следующих предопределенных ролей сервера: **sysadmin** или **serveradmin**.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-260">To use the **dbo.xcbcdc_add_service\<service name, username>** procedure, the user must be a member of the **db_owner** database role for the CDC instance database being named or a member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
###  <a name="dboxdbcdc_startdbname"></a><a name="BKMK_dboxdbcdc_start"></a> <span data-ttu-id="6d1a1-261">dbo.xdbcdc_start(имя_базы_данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-261">dbo.xdbcdc_start(dbname)</span></span>  
 <span data-ttu-id="6d1a1-262">Процедура **dbo.xdbcdc_start** посылает запрос на запуск службе CDC, обрабатывающей выбранный экземпляр CDC, чтобы начать обработку изменений.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-262">The **dbo.xdbcdc_start** procedure sends a start request to the CDC service that handles the selected CDC instance to start the change processing.</span></span>  
  
 <span data-ttu-id="6d1a1-263">Для использования процедуры **dbo.xcbcdc_start** пользователь должен быть членом роли **db_owner** указанной базы данных CDC или членом одной из следующих предопределенных ролей сервера: **sysadmin** или **serveradmin** для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-263">To use the **dbo.xcdcdc_start** procedure, the user must be a member of the **db_owner** database role for the CDC database or be a member of either the **sysadmin** or **serveradmin** roles for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
###  <a name="dboxdbcdc_stopdbname"></a><a name="BKMK_dboxdbcdc_stop"></a> <span data-ttu-id="6d1a1-264">dbo.xdbcdc_stop(имя_базы_данных)</span><span class="sxs-lookup"><span data-stu-id="6d1a1-264">dbo.xdbcdc_stop(dbname)</span></span>  
 <span data-ttu-id="6d1a1-265">Процедура **dbo.xdbcdc_start** посылает запрос на остановку службе CDC, обрабатывающей выбранный экземпляр CDC, чтобы прекратить обработку изменений.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-265">The **dbo.xdbcdc_stop** procedure sends a stop request to the CDC service that handles the selected CDC instance to stop the change processing.</span></span>  
  
 <span data-ttu-id="6d1a1-266">Для использования процедуры **dbo.xcbcdc_stop** пользователь должен быть членом роли **db_owner** указанной базы данных CDC или членом одной из следующих предопределенных ролей сервера: **sysadmin** или **serveradmin** для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-266">To use the **dbo.xcdcdc_stop** procedure, the user must be a member of the **db_owner** database role for the CDC database or be a member of either the **sysadmin** or **serveradmin** roles for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
##  <a name="the-cdc-databases"></a><a name="BKMK_CDCdatabase"></a> <span data-ttu-id="6d1a1-267">Базы данных CDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-267">The CDC Databases</span></span>  
 <span data-ttu-id="6d1a1-268">Каждый экземпляр Oracle CDC, используемый службой CDC, связан с определенной базой данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которая называется базой данных CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-268">Each Oracle CDC instance used in a CDC service is associated with a specific [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database called the CDC Database.</span></span> <span data-ttu-id="6d1a1-269">Эта база данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] размещается в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , связанном со службой Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-269">This [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is hosted in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance associated with the Oracle CDC Service.</span></span>  
  
 <span data-ttu-id="6d1a1-270">База данных CDC содержит специальную схему cdc.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-270">The CDC Database contains a special cdc schema.</span></span> <span data-ttu-id="6d1a1-271">Служба Oracle CDC Service использует эту схему с именами таблиц с префиксом **xdbcdc_** .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-271">The Oracle CDC Service uses this schema with table names with the prefix **xdbcdc_**.</span></span> <span data-ttu-id="6d1a1-272">Эта схема используется в целях обеспечения безопасности и согласованности.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-272">This schema is used for security and consistency purposes.</span></span>  
  
 <span data-ttu-id="6d1a1-273">И экземпляр Oracle CDC, и базы данных CDC создаются с помощью консоли конструктора Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-273">Both the Oracle CDC instance and the CDC databases are created using the Oracle CDC Designer Console.</span></span> <span data-ttu-id="6d1a1-274">Дополнительные сведения о базах данных CDC см. в документации, поставляемой вместе с консолью конструктора CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-274">For more information about the CDC databases, see the documentation included with your installation of the Oracle CDC Designer Console.</span></span>  
  
##  <a name="using-the-command-line-to-configure-the-cdc-service"></a><a name="BKMK_CommandConfigCDC"></a> <span data-ttu-id="6d1a1-275">Использование интерфейса командной строки для настройки службы CDC Service</span><span class="sxs-lookup"><span data-stu-id="6d1a1-275">Using the Command Line to Configure the CDC Service</span></span>  
 <span data-ttu-id="6d1a1-276">Вы можете управлять служебной программой Oracle CDC Service (xdbcdcsvc.exe) из командной строки.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-276">You can operate the Oracle CDC Service program (xdbcdcsvc.exe) from the command line.</span></span> <span data-ttu-id="6d1a1-277">Служебная программа CDC представляет собой 32-/64-разрядный исполняемый файл Windows.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-277">The CDC service program is a native 32-bit/64-bit Windows executable file.</span></span>  
  
 <span data-ttu-id="6d1a1-278">**См. также:**</span><span class="sxs-lookup"><span data-stu-id="6d1a1-278">**See also**</span></span>  
  
 [<span data-ttu-id="6d1a1-279">Как использовать интерфейс командной строки службы CDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-279">How to Use the CDC Service Command-Line Interface</span></span>](how-to-use-the-cdc-service-command-line-interface.md)  
  
### <a name="service-program-commands"></a><span data-ttu-id="6d1a1-280">Команды служебной программы</span><span class="sxs-lookup"><span data-stu-id="6d1a1-280">Service Program Commands</span></span>  
 <span data-ttu-id="6d1a1-281">В этом разделе описаны следующие команды для настройки службы CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-281">The section describes the following commands that are used to configure the CDC service.</span></span>  
  
-   [<span data-ttu-id="6d1a1-282">Config</span><span class="sxs-lookup"><span data-stu-id="6d1a1-282">Config</span></span>](#BKMK_config)  
  
-   [<span data-ttu-id="6d1a1-283">Создание</span><span class="sxs-lookup"><span data-stu-id="6d1a1-283">Create</span></span>](#BKMK_create)  
  
-   [<span data-ttu-id="6d1a1-284">Удаление</span><span class="sxs-lookup"><span data-stu-id="6d1a1-284">Delete</span></span>](#BKMK_delete)  
  
###  <a name="config"></a><a name="BKMK_config"></a> <span data-ttu-id="6d1a1-285">Config</span><span class="sxs-lookup"><span data-stu-id="6d1a1-285">Config</span></span>  
 <span data-ttu-id="6d1a1-286">Команда `Config` используется для обновления конфигурации службы Oracle CDC Service с помощью скрипта.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-286">Use `Config` to update an Oracle CDC Service configuration from a script.</span></span> <span data-ttu-id="6d1a1-287">Эту команду можно использовать для изменения отдельных настроек службы CDC (например, только строки подключения, не зная пароля асимметричного ключа).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-287">The command can be used to update only specific parts of the CDC service configuration (for example, only the connection string without knowing the asymmetric key password).</span></span> <span data-ttu-id="6d1a1-288">Эта команда должна выполняться администратором компьютера.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-288">The command must be run by a computer administrator.</span></span> <span data-ttu-id="6d1a1-289">Далее приведен пример использования команды `Config` .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-289">The following is an example of the `Config` command.</span></span>  
  
```  
"<path>xdbcdcsvc.exe" config  
     <cdc-service-name>  
     [connect= <sql-server-connection-string>]  
     [key= <asym-key-password>]  
     [svcacct= <windows-account> <windows-password>]  
     [sqlacct= <sql-username> <sql-password>]  
  
```  
  
 <span data-ttu-id="6d1a1-290">Где:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-290">Where:</span></span>  
  
 <span data-ttu-id="6d1a1-291">**cdc-service-name** ― это имя службы CDC, настройки которой нужно изменить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-291">**cdc-service-name** is the name of the CDC service to be updated.</span></span> <span data-ttu-id="6d1a1-292">Это обязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-292">This is a required parameter.</span></span>  
  
 <span data-ttu-id="6d1a1-293">**sql-server-connection-string** ― это строка подключения, которую нужно изменить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-293">**sql-server-connection-string** is the connect string to be updated.</span></span> <span data-ttu-id="6d1a1-294">Если строка подключения содержит пробелы или кавычки, ее следует заключить в двойные кавычки (").</span><span class="sxs-lookup"><span data-stu-id="6d1a1-294">If the connect string contains spaces or quotes then it must be wrapped in double-quotation marks (").</span></span> <span data-ttu-id="6d1a1-295">Внедренные кавычки экранируются удвоением кавычек.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-295">Embedded quotes are escaped by doubling the quotation marks.</span></span>  
  
 <span data-ttu-id="6d1a1-296">**asym-key-password** ― это пароль, который нужно изменить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-296">**asym-key-password** is the password to be updated.</span></span>  
  
 <span data-ttu-id="6d1a1-297">**windows-account**, **windows-password** ― это учетная запись Windows для службы, которую нужно изменить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-297">**windows-account**, **windows-password** are the Windows account credentials for the service that is being updated.</span></span>  
  
 <span data-ttu-id="6d1a1-298">**sql-username**, **sql-password** ― это учетные данные для проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые нужно изменить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-298">**sql-username**, **sql-password** are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication credentials being updated.</span></span> <span data-ttu-id="6d1a1-299">Если у sqlacct пусты и имя пользователя, и пароль, то служба Oracle CDC Service подключается к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием проверки подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-299">If sqlacct has both an empty username and empty password, then the Oracle CDC Service connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Windows authentication.</span></span>  
  
 <span data-ttu-id="6d1a1-300">**Примечание.** Любой параметр, который содержит пробелы или кавычки, должен быть заключен в двойные кавычки (").</span><span class="sxs-lookup"><span data-stu-id="6d1a1-300">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="6d1a1-301">Встроенные двойные кавычки необходимо удвоить (например, для использования **"A#B" D** в качестве пароля введите **""A#B"" D"** ).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-301">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**).</span></span>  
  
###  <a name="create"></a><a name="BKMK_create"></a> <span data-ttu-id="6d1a1-302">Создание</span><span class="sxs-lookup"><span data-stu-id="6d1a1-302">Create</span></span>  
 <span data-ttu-id="6d1a1-303">Команда `Create` используется для создания службы Oracle CDC Service с помощью скрипта.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-303">Use `Create` to create an Oracle CDC Service from a script.</span></span> <span data-ttu-id="6d1a1-304">Эта команда должна выполняться администратором компьютера.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-304">The command must be run by a computer administrator.</span></span> <span data-ttu-id="6d1a1-305">Далее приведен пример использования команды `Create` .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-305">The following is an example of the `Create` command:</span></span>  
  
```  
"<path>xdbcdcsvc.exe" create  
     <cdc-service-name>  
     [connect= "<sql-server-connection-string>"]  
     [key= <asym-key-password>]  
     [svcacct <windows-account> <windows-password>]  
     [sqlacct <sql-username> <sql-password>]  
```  
  
 <span data-ttu-id="6d1a1-306">Где:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-306">Where:</span></span>  
  
 <span data-ttu-id="6d1a1-307">**cdc-service-name** ― это имя создаваемой службы.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-307">**cdc-service-name** is the name of the newly created service.</span></span> <span data-ttu-id="6d1a1-308">Если служба с таким именем уже существует, программа возвращает ошибку.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-308">If there is already a service with this name, the program returns an error.</span></span> <span data-ttu-id="6d1a1-309">Не следует использовать длинные имена и имена с пробелами.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-309">You should not use long names or names with spaces.</span></span> <span data-ttu-id="6d1a1-310">В имени службы нельзя использовать символы "/" и "\\".</span><span class="sxs-lookup"><span data-stu-id="6d1a1-310">The characters "/" and "\\" are not valid characters in a service name.</span></span> <span data-ttu-id="6d1a1-311">Это обязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-311">This is a required parameter.</span></span>  
  
 <span data-ttu-id="6d1a1-312">**sql-server-connection-string** ― строка подключения, используемая для соединения с экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который связан с новой службой Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-312">**sql-server-connection-string** is the connect string to use to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that is associated with the new Oracle CDC Service.</span></span>  
  
 <span data-ttu-id="6d1a1-313">**asym-key-password** ― это пароль, который защищает асимметричный ключ, используемый для хранения учетных данных средства интеллектуального анализа журнала базы данных-источника.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-313">**asym-key-password** is the password that protects the asymmetric key used for storing the source database log-mining credentials.</span></span>  
  
 <span data-ttu-id="6d1a1-314">**windows-account**, **windows-password** ― это имя учетной записи и пароль, связанные с создаваемой службой Oracle CDC Service.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-314">**windows-account**, **windows-password** are the account name and password associated with the Oracle CDC Service being created.</span></span>  
  
 <span data-ttu-id="6d1a1-315">**sql-username**, **sql-password** ― это имя учетной записи и пароль [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , используемые для подключения к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-315">**sql-username**, **sql-password** are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account name and password used to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="6d1a1-316">Если оба этих параметра пусты, то служба CDC Service для Oracle подключается к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием проверки подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-316">If both of these parameters are empty, then CDC Service for Oracle connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Windows authentication.</span></span>  
  
 <span data-ttu-id="6d1a1-317">**Примечание.** Любой параметр, который содержит пробелы или кавычки, должен быть заключен в двойные кавычки (").</span><span class="sxs-lookup"><span data-stu-id="6d1a1-317">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="6d1a1-318">Встроенные двойные кавычки необходимо удвоить (например, для использования **"A#B" D** в качестве пароля введите **""A#B"" D"** ).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-318">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**.</span></span>  
  
###  <a name="delete"></a><a name="BKMK_delete"></a> <span data-ttu-id="6d1a1-319">Delete</span><span class="sxs-lookup"><span data-stu-id="6d1a1-319">Delete</span></span>  
 <span data-ttu-id="6d1a1-320">Команда `Delete` используется для аккуратного удаления службы Oracle CDC Service с помощью скрипта.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-320">Use `Delete` to cleanly delete the Oracle CDC Service from a script.</span></span> <span data-ttu-id="6d1a1-321">Эта команда должна выполняться администратором компьютера.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-321">This command must be run by a computer administrator.</span></span> <span data-ttu-id="6d1a1-322">Далее приведен пример использования команды `Delete` .</span><span class="sxs-lookup"><span data-stu-id="6d1a1-322">The following is an example of the `Delete` command.</span></span>  
  
```  
"<path>xdbcdcsvc.exe" delete  
    <cdc-service-name>  
  
```  
  
 <span data-ttu-id="6d1a1-323">Где:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-323">Where:</span></span>  
  
 <span data-ttu-id="6d1a1-324">**cdc-service-name** ― это имя службы CDC, которую нужно удалить.</span><span class="sxs-lookup"><span data-stu-id="6d1a1-324">**cdc-service-name** is the name of the CDC service to be deleted.</span></span>  
  
 <span data-ttu-id="6d1a1-325">**Примечание.** Любой параметр, который содержит пробелы или кавычки, должен быть заключен в двойные кавычки (").</span><span class="sxs-lookup"><span data-stu-id="6d1a1-325">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="6d1a1-326">Встроенные двойные кавычки необходимо удвоить (например, для использования **"A#B" D** в качестве пароля введите **""A#B"" D"** ).</span><span class="sxs-lookup"><span data-stu-id="6d1a1-326">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6d1a1-327">См. также:</span><span class="sxs-lookup"><span data-stu-id="6d1a1-327">See Also</span></span>  
 <span data-ttu-id="6d1a1-328">[Как использовать интерфейс командной строки службы CDC](how-to-use-the-cdc-service-command-line-interface.md) </span><span class="sxs-lookup"><span data-stu-id="6d1a1-328">[How to Use the CDC Service Command-Line Interface](how-to-use-the-cdc-service-command-line-interface.md) </span></span>  
 [<span data-ttu-id="6d1a1-329">Как подготовить SQL Server для CDC</span><span class="sxs-lookup"><span data-stu-id="6d1a1-329">How to Prepare SQL Server for CDC</span></span>](prepare-sql-server-for-cdc.md)  

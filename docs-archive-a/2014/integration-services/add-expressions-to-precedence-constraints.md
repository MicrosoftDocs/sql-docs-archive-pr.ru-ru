---
title: Добавление выражений к элементам управления очередностью | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- precedence executables [Integration Services]
- precedence constraints [Integration Services], adding expressions
- adding expressions
- constrained executables [Integration Services]
- combining constraints
- expressions [Integration Services], constraints
ms.assetid: 5574d89a-a68e-4b84-80ea-da93305e5ca1
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6dfc73a484020a51738b8ef93e20d96d16edbf1c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658956"
---
# <a name="add-expressions-to-precedence-constraints"></a><span data-ttu-id="d4502-102">Добавление выражений к элементам управления очередностью</span><span class="sxs-lookup"><span data-stu-id="d4502-102">Add Expressions to Precedence Constraints</span></span>
  <span data-ttu-id="d4502-103">Элементы управления очередностью могут использовать выражение для определения зависимости между двумя исполняемыми объектами: приоритетным исполняемым объектом и исполняемым объектом с ограничением.</span><span class="sxs-lookup"><span data-stu-id="d4502-103">A precedence constraint can use an expression to define the constraint between two executables: the precedence executable and the constrained executable.</span></span> <span data-ttu-id="d4502-104">Исполняемыми объектами могут быть задачи или контейнеры.</span><span class="sxs-lookup"><span data-stu-id="d4502-104">The executables can be tasks or containers.</span></span> <span data-ttu-id="d4502-105">Выражение может быть использовано само по себе или в сочетании с результатом выполнения приоритетного исполняемого объекта.</span><span class="sxs-lookup"><span data-stu-id="d4502-105">The expression can be used alone or in combination with the execution result of the precedence executable.</span></span> <span data-ttu-id="d4502-106">Выполнение любого исполняемого объекта может закончиться успешно или со сбоем.</span><span class="sxs-lookup"><span data-stu-id="d4502-106">The execution result of an executable is either success or failure.</span></span> <span data-ttu-id="d4502-107">При настройке результата выполнения управления очередностью доступны варианты `Success`, `Failure` или `Completion`.</span><span class="sxs-lookup"><span data-stu-id="d4502-107">When you configure the execution result of a precedence constraint, you can set the execution result to `Success`, `Failure`, or `Completion`.</span></span> <span data-ttu-id="d4502-108">Для варианта `Success` требуется успешное выполнение ограничивающего исполняемого объекта, для `Failure` — его неудачное выполнение, а `Completion` означает, что ограничивающий исполняемый объект должен запускаться независимо от успешности выполнения приоритетной задачи.</span><span class="sxs-lookup"><span data-stu-id="d4502-108">`Success` requires that the precedence executable succeed, `Failure` requires that the precedence executable fail, and `Completion` indicates that the constrained executable should run regardless of whether the precedence task succeeds or fails.</span></span> <span data-ttu-id="d4502-109">Дополнительные сведения см. в статье [Precedence Constraints](control-flow/precedence-constraints.md).</span><span class="sxs-lookup"><span data-stu-id="d4502-109">For more information, see [Precedence Constraints](control-flow/precedence-constraints.md).</span></span>  
  
 <span data-ttu-id="d4502-110">Выражение должно возвращать `True` или `False` и быть допустимым для [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d4502-110">The expression must evaluate to `True` or `False` and it must be a valid [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] expression.</span></span> <span data-ttu-id="d4502-111">Выражение может использовать литералы, системные и пользовательские переменные, функции и операторы, определяемые грамматикой выражений служб [!INCLUDE[ssIS](../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d4502-111">The expression can use literals, system and custom variables, and the functions and operators that the [!INCLUDE[ssIS](../includes/ssis-md.md)] expression grammar provides.</span></span> <span data-ttu-id="d4502-112">Например выражение `@Count == SQRT(144) + 10` использует переменную `Count`, функцию SQRT() и операторы сравнения (==) и сложения (+).</span><span class="sxs-lookup"><span data-stu-id="d4502-112">For example, the expression `@Count == SQRT(144) + 10` uses the variable `Count`, the SQRT function , and the equal (==) and add (+) operators.</span></span> <span data-ttu-id="d4502-113">Дополнительные сведения см. в разделе [Выражения служб Integration Services (SSIS)](expressions/integration-services-ssis-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="d4502-113">For more information, see [Integration Services &#40;SSIS&#41; Expressions](expressions/integration-services-ssis-expressions.md).</span></span>  
  
 <span data-ttu-id="d4502-114">На следующей иллюстрации задача A связана с задачей B управлением очередностью, которое использует результат вычисления и выражение.</span><span class="sxs-lookup"><span data-stu-id="d4502-114">In the following illustration, task A and task B are linked by a precedence constraint that uses an execution result and an expression.</span></span> <span data-ttu-id="d4502-115">Ограничение принимает значение `Success`, а выражением является `@X >== @Z`.</span><span class="sxs-lookup"><span data-stu-id="d4502-115">The constraint value is set to `Success` and the expression is  `@X >== @Z`.</span></span> <span data-ttu-id="d4502-116">Задача B является задачей с ограничением, которая запускается, только если задача A успешно завершается, а значение переменной `X` больше или равно значению переменной `Z`.</span><span class="sxs-lookup"><span data-stu-id="d4502-116">Task B, the constrained task, runs only if task A completes successfully and the value of variable `X` is greater than or equal to the value of variable `Z`.</span></span>  
  
 <span data-ttu-id="d4502-117">![Ограничение очередностью между двумя таблицами](media/mw-dts-03.gif "Ограничение очередностью между двумя таблицами")</span><span class="sxs-lookup"><span data-stu-id="d4502-117">![Precedence constraint between two tasks](media/mw-dts-03.gif "Precedence constraint between two tasks")</span></span>  
  
 <span data-ttu-id="d4502-118">Исполняемые объекты могут быть связаны множественными управлениями очередностью, которые содержат различные выражения.</span><span class="sxs-lookup"><span data-stu-id="d4502-118">Executables can also be linked by using multiple precedence constraints that contain different expressions.</span></span> <span data-ttu-id="d4502-119">Например в следующем примере задачи B и C связаны с задачей A управлениями очередностью, которые используют результаты выполнения и выражения.</span><span class="sxs-lookup"><span data-stu-id="d4502-119">For example, in the following illustration, tasks B and C are linked to task A by precedence constraints that use execution results and expressions.</span></span> <span data-ttu-id="d4502-120">Оба значения управления имеют значения `Success.` Но одно управление очередностью включает в себя выражение `@X >== @Z`, а другое — `@X < @Z`.</span><span class="sxs-lookup"><span data-stu-id="d4502-120">Both of the constraint values are set to `Success.` One precedence constraint includes the expression `@X >== @Z`, and the other precedence constraint includes the expression `@X < @Z`.</span></span> <span data-ttu-id="d4502-121">В зависимости от значения переменных `X` и `Z` будет запущена либо задача C, либо задача B.</span><span class="sxs-lookup"><span data-stu-id="d4502-121">Depending on the values of variable `X` and variable `Z`, either task C or task B runs.</span></span>  
  
 <span data-ttu-id="d4502-122">![Выражения ограничений очередностью](media/mw-dts-04.gif "Выражения ограничений очередностью")</span><span class="sxs-lookup"><span data-stu-id="d4502-122">![Expressions on precedence constraints](media/mw-dts-04.gif "Expressions on precedence constraints")</span></span>  
  
 <span data-ttu-id="d4502-123">Добавить или изменить выражение можно с помощью **Редактора управления очередностью** в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)] и окна свойств, предоставляемого средой [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d4502-123">You can add or modify an expression by using the **Precedence Constraint Editor** in [!INCLUDE[ssIS](../includes/ssis-md.md)] Designer and the Properties window that [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] provides.</span></span> <span data-ttu-id="d4502-124">Однако окно свойств не поддерживает проверку синтаксиса выражения.</span><span class="sxs-lookup"><span data-stu-id="d4502-124">However, the Properties window does not provide verification of the expression syntax.</span></span>  
  
 <span data-ttu-id="d4502-125">Если управление очередностью включает выражение, то в области конструктора на вкладке **Поток управления** рядом с правилом появится соответствующий значок, а всплывающее окно с подсказкой для значка будет содержать данное выражение.</span><span class="sxs-lookup"><span data-stu-id="d4502-125">If a precedence constraint includes an expression, an icon appears on the design surface of the **Control Flow** tab, next to the precedence constraint, and the ToolTip on the icon displays the expression.</span></span>  
  
## <a name="combining-execution-values-and-expressions"></a><span data-ttu-id="d4502-126">Объединение значений выполнения и выражений</span><span class="sxs-lookup"><span data-stu-id="d4502-126">Combining Execution Values and Expressions</span></span>  
 <span data-ttu-id="d4502-127">Следующая таблица описывает эффекты объединения ограничения значений выполнения и выражения в управлении очередностью.</span><span class="sxs-lookup"><span data-stu-id="d4502-127">The following table describes the effects of combining an execution value constraint and an expression in a precedence constraint.</span></span>  
  
|<span data-ttu-id="d4502-128">Вычислительная операция</span><span class="sxs-lookup"><span data-stu-id="d4502-128">Evaluation operation</span></span>|<span data-ttu-id="d4502-129">Результат ограничения</span><span class="sxs-lookup"><span data-stu-id="d4502-129">Constraint evaluates to</span></span>|<span data-ttu-id="d4502-130">Результат выражения</span><span class="sxs-lookup"><span data-stu-id="d4502-130">Expression evaluates to</span></span>|<span data-ttu-id="d4502-131">Запуск исполняемого объекта с ограничением</span><span class="sxs-lookup"><span data-stu-id="d4502-131">Constrained executable runs</span></span>|  
|--------------------------|-----------------------------|-----------------------------|---------------------------------|  
|<span data-ttu-id="d4502-132">Ограничение</span><span class="sxs-lookup"><span data-stu-id="d4502-132">Constraint</span></span>|<span data-ttu-id="d4502-133">Верно</span><span class="sxs-lookup"><span data-stu-id="d4502-133">True</span></span>|<span data-ttu-id="d4502-134">Недоступно</span><span class="sxs-lookup"><span data-stu-id="d4502-134">N/A</span></span>|<span data-ttu-id="d4502-135">Верно</span><span class="sxs-lookup"><span data-stu-id="d4502-135">True</span></span>|  
|<span data-ttu-id="d4502-136">Ограничение</span><span class="sxs-lookup"><span data-stu-id="d4502-136">Constraint</span></span>|<span data-ttu-id="d4502-137">Неверно</span><span class="sxs-lookup"><span data-stu-id="d4502-137">False</span></span>|<span data-ttu-id="d4502-138">Недоступно</span><span class="sxs-lookup"><span data-stu-id="d4502-138">N/A</span></span>|<span data-ttu-id="d4502-139">Неверно</span><span class="sxs-lookup"><span data-stu-id="d4502-139">False</span></span>|  
|<span data-ttu-id="d4502-140">Выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-140">Expression</span></span>|<span data-ttu-id="d4502-141">Недоступно</span><span class="sxs-lookup"><span data-stu-id="d4502-141">N/A</span></span>|<span data-ttu-id="d4502-142">True</span><span class="sxs-lookup"><span data-stu-id="d4502-142">True</span></span>|<span data-ttu-id="d4502-143">True</span><span class="sxs-lookup"><span data-stu-id="d4502-143">True</span></span>|  
|<span data-ttu-id="d4502-144">Выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-144">Expression</span></span>|<span data-ttu-id="d4502-145">Недоступно</span><span class="sxs-lookup"><span data-stu-id="d4502-145">N/A</span></span>|<span data-ttu-id="d4502-146">False</span><span class="sxs-lookup"><span data-stu-id="d4502-146">False</span></span>|<span data-ttu-id="d4502-147">False</span><span class="sxs-lookup"><span data-stu-id="d4502-147">False</span></span>|  
|<span data-ttu-id="d4502-148">Ограничение и выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-148">Constraint and Expression</span></span>|<span data-ttu-id="d4502-149">True</span><span class="sxs-lookup"><span data-stu-id="d4502-149">True</span></span>|<span data-ttu-id="d4502-150">True</span><span class="sxs-lookup"><span data-stu-id="d4502-150">True</span></span>|<span data-ttu-id="d4502-151">True</span><span class="sxs-lookup"><span data-stu-id="d4502-151">True</span></span>|  
|<span data-ttu-id="d4502-152">Ограничение и выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-152">Constraint and Expression</span></span>|<span data-ttu-id="d4502-153">Верно</span><span class="sxs-lookup"><span data-stu-id="d4502-153">True</span></span>|<span data-ttu-id="d4502-154">False</span><span class="sxs-lookup"><span data-stu-id="d4502-154">False</span></span>|<span data-ttu-id="d4502-155">False</span><span class="sxs-lookup"><span data-stu-id="d4502-155">False</span></span>|  
|<span data-ttu-id="d4502-156">Ограничение и выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-156">Constraint and Expression</span></span>|<span data-ttu-id="d4502-157">False</span><span class="sxs-lookup"><span data-stu-id="d4502-157">False</span></span>|<span data-ttu-id="d4502-158">True</span><span class="sxs-lookup"><span data-stu-id="d4502-158">True</span></span>|<span data-ttu-id="d4502-159">Неверно</span><span class="sxs-lookup"><span data-stu-id="d4502-159">False</span></span>|  
|<span data-ttu-id="d4502-160">Ограничение и выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-160">Constraint and Expression</span></span>|<span data-ttu-id="d4502-161">False</span><span class="sxs-lookup"><span data-stu-id="d4502-161">False</span></span>|<span data-ttu-id="d4502-162">False</span><span class="sxs-lookup"><span data-stu-id="d4502-162">False</span></span>|<span data-ttu-id="d4502-163">False</span><span class="sxs-lookup"><span data-stu-id="d4502-163">False</span></span>|  
|<span data-ttu-id="d4502-164">Ограничение или выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-164">Constraint or Expression</span></span>|<span data-ttu-id="d4502-165">True</span><span class="sxs-lookup"><span data-stu-id="d4502-165">True</span></span>|<span data-ttu-id="d4502-166">True</span><span class="sxs-lookup"><span data-stu-id="d4502-166">True</span></span>|<span data-ttu-id="d4502-167">True</span><span class="sxs-lookup"><span data-stu-id="d4502-167">True</span></span>|  
|<span data-ttu-id="d4502-168">Ограничение или выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-168">Constraint or Expression</span></span>|<span data-ttu-id="d4502-169">Верно</span><span class="sxs-lookup"><span data-stu-id="d4502-169">True</span></span>|<span data-ttu-id="d4502-170">False</span><span class="sxs-lookup"><span data-stu-id="d4502-170">False</span></span>|<span data-ttu-id="d4502-171">True</span><span class="sxs-lookup"><span data-stu-id="d4502-171">True</span></span>|  
|<span data-ttu-id="d4502-172">Ограничение или выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-172">Constraint or Expression</span></span>|<span data-ttu-id="d4502-173">False</span><span class="sxs-lookup"><span data-stu-id="d4502-173">False</span></span>|<span data-ttu-id="d4502-174">True</span><span class="sxs-lookup"><span data-stu-id="d4502-174">True</span></span>|<span data-ttu-id="d4502-175">True</span><span class="sxs-lookup"><span data-stu-id="d4502-175">True</span></span>|  
|<span data-ttu-id="d4502-176">Ограничение или выражение</span><span class="sxs-lookup"><span data-stu-id="d4502-176">Constraint or Expression</span></span>|<span data-ttu-id="d4502-177">False</span><span class="sxs-lookup"><span data-stu-id="d4502-177">False</span></span>|<span data-ttu-id="d4502-178">False</span><span class="sxs-lookup"><span data-stu-id="d4502-178">False</span></span>|<span data-ttu-id="d4502-179">False</span><span class="sxs-lookup"><span data-stu-id="d4502-179">False</span></span>|  
  
### <a name="to-add-an-expression-to-a-precedence-constraint"></a><span data-ttu-id="d4502-180">Добавление выражения к элементу управления очередностью</span><span class="sxs-lookup"><span data-stu-id="d4502-180">To add an expression to a precedence constraint</span></span>  
  
-   [<span data-ttu-id="d4502-181">Использование выражения в элементах управлении очередностью</span><span class="sxs-lookup"><span data-stu-id="d4502-181">Use an Expression in a Precedence Constraint</span></span>](../../2014/integration-services/use-an-expression-in-a-precedence-constraint.md)  
  
-   [<span data-ttu-id="d4502-182">Установка свойств управления очередностью</span><span class="sxs-lookup"><span data-stu-id="d4502-182">Set the Properties of a Precedence Constraint</span></span>](../../2014/integration-services/set-the-properties-of-a-precedence-constraint.md)  
  
## <a name="external-resources"></a><span data-ttu-id="d4502-183">Внешние ресурсы</span><span class="sxs-lookup"><span data-stu-id="d4502-183">External Resources</span></span>  
 <span data-ttu-id="d4502-184">Техническая статья [Примеры выражений служб SSIS](https://go.microsoft.com/fwlink/?LinkId=220761)на сайте social.technet.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="d4502-184">Technical article, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), on social.technet.microsoft.com</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4502-185">См. также:</span><span class="sxs-lookup"><span data-stu-id="d4502-185">See Also</span></span>  
 <span data-ttu-id="d4502-186">[Несколько элементов управления очередностью](../../2014/integration-services/multiple-precedence-constraints.md) </span><span class="sxs-lookup"><span data-stu-id="d4502-186">[Multiple Precedence Constraints](../../2014/integration-services/multiple-precedence-constraints.md) </span></span>  
 [<span data-ttu-id="d4502-187">Управление очередностью</span><span class="sxs-lookup"><span data-stu-id="d4502-187">Precedence Constraints</span></span>](control-flow/precedence-constraints.md)  
  
  

---
title: Редактор источника «CDC» (страница «Диспетчер соединений») | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.ssis.designer.cdcsource.connection.f1
ms.assetid: 304e6717-e160-4a7b-a06f-32182449fef8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5b0ed4792f13006bb9013771c69053b04539bc0e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667848"
---
# <a name="cdc-source-editor-connection-manager-page"></a>Редактор источника «CDC» (страница «Диспетчер соединений»)
  Страница **Диспетчер соединений** диалогового окна **Редактор источника CDC** позволяет выбрать диспетчер соединений ADO.NET для базы данных [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] , из которой источник CDC считывает изменения строк (базы данных CDC). После выбора базы данных CDC необходимо выбрать в базе данных отслеживаемую таблицу.  
  
 Дополнительные сведения об источнике CDC см. в разделе [CDC Source](data-flow/cdc-source.md).  
  
## <a name="task-list"></a>Список задач  
 **Открытие страницы диспетчера соединений в редакторе источника CDC**  
  
1.  В среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]откройте пакет служб [!INCLUDE[ssISCurrent](../includes/ssiscurrent-md.md)] , содержащий источник CDC.  
  
2.  На вкладке **Поток данных** дважды щелкните источник CDC.  
  
3.  В окне **Редактор источника CDC**нажмите кнопку **Диспетчер соединений**.  
  
## <a name="options"></a>Параметры  
 **Диспетчер соединений ADO.NET**  
 Выберите из списка существующий диспетчер соединений или нажмите кнопку **Создать** , чтобы создать новое соединение. Соединение должно быть установлено с базой данных [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] , которая включена для CDC и в которой находится выбранная таблица изменений.  
  
 **Создать**  
 Нажмите кнопку **Создать**. Откроется диалоговое окно **Настройка редактора диспетчера соединений ADO.NET** , где можно создать новый диспетчер соединений.  
  
 **Таблица CDC**  
 Выберите исходную таблицу CDC, содержащую отслеживаемые изменения, которые нужно считывать и передавать в следующие компоненты потока служб SSIS для обработки.  
  
 **Экземпляр системы отслеживания**  
 Выберите или введите имя экземпляра отслеживания CDC в сочетании с таблицей CDC, которая должна быть считана.  
  
 Отслеживаемая исходная таблица может иметь один или два отслеживаемых экземпляра для обеспечения возможности беспрепятственных переходов определения таблицы во время изменений схемы. Если для исходной таблицы отслеживания определено больше одного экземпляра отслеживания, выберите экземпляр отслеживания, который должен здесь использоваться. По умолчанию экземпляр отслеживания для таблицы [схема].[таблица] имеет имя \<schema>_\<table>, но фактически используемые экземпляры отслеживания могут иметь другие имена. Таблицей, откуда фактически считываются данные, является таблица CDC **cdc .\<capture-instance>_CT**.  
  
 **Режим обработки CDC**  
 Выберите режим обработки, который в наилучшей степени соответствует конкретным потребностям обработки. Возможными вариантами являются следующие.  
  
-   **Все**: возвращает изменения в текущем диапазоне CDC без значений **перед обновлением** .  
  
-   **Все со старыми значениями**: возвращает изменения в текущем диапазоне обработки CDC, включая старые значения (**перед обновлением**). С каждой операции Update связаны две строки: одна со значениями перед обновлением и еще одна со значениями после обновления.  
  
-   **Суммарные**: возвращает только по одной строке изменения в расчете на каждую исходную строку, измененную в текущем диапазоне обработки CDC. Если исходная строка была обновлена несколько раз, вырабатывается комбинированное изменение (например, результат операций insert и update формируется как единственное обновление, а результат операций update и delete — как единственное удаление). При работе в режиме обработки изменений «Суммарные» обеспечивается возможность разбивать изменения на выводы Delete, Insert и Update и обрабатывать их параллельно, поскольку единственная исходная строка появляется более чем в одном выводе.  
  
-   **Суммарные с маской обновления**: этот режим аналогичен обычному режиму "Суммарные", но также добавляет столбцы логических значений, имена которым присваиваются по шаблону **__$\<column-name>\__Changed**, указывающие на измененные столбцы в текущей строке изменения.  
  
-   **Суммарные со слиянием**: этот режим аналогичен обычному режиму "Суммарные", но с операциями Insert и Update, объединенными в одной операции Merge (UPSERT).  
  
> [!NOTE]  
>  Для всех вариантов суммарных изменений исходная таблица должна иметь первичный ключ или уникальный индекс. Для таблиц без первичного ключа или уникального индекса необходимо использовать вариант **Все** .  
  
 **Переменная, содержащая состояние CDC**  
 Выберите строковую переменную пакета службы SSIS, в которой хранится состояние CDC для текущего контекста CDC. Дополнительные сведения о переменной состояния CDC см. в разделе [Определение переменной состояния](data-flow/define-a-state-variable.md).  
  
 **Включить столбец индикатора повторной обработки**  
 Установите этот флажок, чтобы создать специальный выходной столбец **__$reprocessing**.  
  
 Этот столбец имеет значение **true** , если диапазон обработки CDC перекрывается с начальным диапазоном обработки (с диапазоном номеров LSN, соответствующих периоду начальной загрузки) или если диапазон обработки CDC подвергается повторной обработке вследствие ошибки в предыдущем прогоне. Этот столбец индикатора позволяет разработчику служб SSIS трактовать ошибки иначе при повторной обработке изменений (например, пропускать действия наподобие удаления несуществующей строки или вставки, которая окончилась неудачей из-за дублирующегося ключа).  
  
 Дополнительные сведения см. в статье [CDC Source Custom Properties](data-flow/cdc-source-custom-properties.md).  
  
## <a name="see-also"></a>См. также:  
 [Редактор источника "CDC" (страница "Столбцы")](../../2014/integration-services/cdc-source-editor-columns-page.md)   
 [Редактор источника "CDC" (страница "Вывод ошибок")](../../2014/integration-services/cdc-source-editor-error-output-page.md)  
  
  

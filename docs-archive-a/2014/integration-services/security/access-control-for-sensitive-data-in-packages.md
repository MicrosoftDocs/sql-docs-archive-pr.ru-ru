---
title: Контроль доступа для конфиденциальных данных в пакетах | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- passwords [Integration Services]
- packages [Integration Services], security
- protection levels for packages [Integration Services]
- configuration files [Integration Services]
- encryption [Integration Services]
- cryptography [Integration Services]
- security [Integration Services], protection levels
ms.assetid: d4b073c4-4238-41fc-a258-4e114216e185
author: chugugrace
ms.author: chugu
ms.openlocfilehash: af1c29f2871d0cb43436fa065d16b24cb78fcce7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87656467"
---
# <a name="access-control-for-sensitive-data-in-packages"></a><span data-ttu-id="fe394-102">Контроль доступа для конфиденциальных данных в пакетах</span><span class="sxs-lookup"><span data-stu-id="fe394-102">Access Control for Sensitive Data in Packages</span></span>
  <span data-ttu-id="fe394-103">Для защиты данных в пакете служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] можно задать уровень защиты, способствующий защите или только конфиденциальных данных, или всех данных в пакете.</span><span class="sxs-lookup"><span data-stu-id="fe394-103">To protect the data in an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, you can set a protection level that helps protect just sensitive data or all the data in the package.</span></span> <span data-ttu-id="fe394-104">Более того, эти данные можно зашифровать с паролем или ключом пользователя или возложить задачу шифрования данных на базу данных.</span><span class="sxs-lookup"><span data-stu-id="fe394-104">Furthermore, you can encrypt this data with a password or a user key, or rely on the database to encrypt the data.</span></span> <span data-ttu-id="fe394-105">Кроме того, используемый уровень защиты пакета не обязательно является статическим и изменяется в течение жизненного цикла пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-105">Also, the protection level that you use for a package is not necessarily static, but changes throughout the life cycle of the package.</span></span> <span data-ttu-id="fe394-106">Часто один уровень защиты устанавливается во время развертывания, а другой — сразу после развертывания пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-106">You often set one protection level during development and another as soon as you deploy the package.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fe394-107">Помимо уровней защиты, описанных в данном разделе, для защиты пакетов, сохраняемых на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , можно использовать предопределенные роли уровня базы данных.</span><span class="sxs-lookup"><span data-stu-id="fe394-107">In addition to the protection levels described in this topic, you can use fixed database-level roles to protect packages that are saved to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server.</span></span>  
  
## <a name="definition-of-sensitive-information"></a><span data-ttu-id="fe394-108">Определение конфиденциальных данных</span><span class="sxs-lookup"><span data-stu-id="fe394-108">Definition of Sensitive Information</span></span>  
 <span data-ttu-id="fe394-109">В пакете служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] следующие данные определены как *конфиденциальные*:</span><span class="sxs-lookup"><span data-stu-id="fe394-109">In an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, the following information is defined as *sensitive*:</span></span>  
  
-   <span data-ttu-id="fe394-110">Часть строки соединения, содержащая пароль.</span><span class="sxs-lookup"><span data-stu-id="fe394-110">The password part of a connection string.</span></span> <span data-ttu-id="fe394-111">Однако если выбран параметр, который шифрует все, строка соединения целиком будет рассматриваться как конфиденциальная.</span><span class="sxs-lookup"><span data-stu-id="fe394-111">However, if you select an option that encrypts everything, the whole connection string will be considered sensitive.</span></span>  
  
-   <span data-ttu-id="fe394-112">Сформированные задачей XML-узлы, помеченные как конфиденциальные.</span><span class="sxs-lookup"><span data-stu-id="fe394-112">The task-generated XML nodes that are tagged as sensitive.</span></span> <span data-ttu-id="fe394-113">Пометки XML-узлов управляются службами [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] и не могут изменяться пользователями.</span><span class="sxs-lookup"><span data-stu-id="fe394-113">The tagging of XML nodes is controlled by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and cannot by changed by users.</span></span>  
  
-   <span data-ttu-id="fe394-114">Любая переменная, помеченная как конфиденциальная.</span><span class="sxs-lookup"><span data-stu-id="fe394-114">Any variable that is marked as sensitive.</span></span> <span data-ttu-id="fe394-115">Пометки переменных управляются службами [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe394-115">The marking of variables is controlled by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="fe394-116">В службах [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] свойство рассматривается как конфиденциальное в зависимости от того, назначил ли свойство конфиденциальным разработчик компонента [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , такого как диспетчер соединений или задача.</span><span class="sxs-lookup"><span data-stu-id="fe394-116">Whether [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] considers a property sensitive depends on whether the developer of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] component, such as a connection manager or task, has designated the property as sensitive.</span></span> <span data-ttu-id="fe394-117">Пользователи не могут добавлять или удалять свойства из списка свойств, которые рассматриваются как конфиденциальные.</span><span class="sxs-lookup"><span data-stu-id="fe394-117">Users cannot add properties to, nor can they remove properties from, the list of properties that are considered sensitive.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="fe394-118">Шифрование</span><span class="sxs-lookup"><span data-stu-id="fe394-118">Encryption</span></span>  
 <span data-ttu-id="fe394-119">Шифрование, используемое уровнями защиты пакетов, выполняется с помощью API защиты данных [!INCLUDE[msCoName](../../includes/msconame-md.md)] (DPAPI), являющегося частью шифровального API (CryptoAPI).</span><span class="sxs-lookup"><span data-stu-id="fe394-119">Encryption, as used by package protection levels, is performed by using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Data Protection API (DPAPI), which is part of the Cryptography API (CryptoAPI).</span></span>  
  
 <span data-ttu-id="fe394-120">Уровни защиты пакета, шифрующие пакеты с паролями, требуют введения пароля.</span><span class="sxs-lookup"><span data-stu-id="fe394-120">The package protection levels that encrypt packages by using passwords require that you provide a password also.</span></span> <span data-ttu-id="fe394-121">Если пользователь изменяет уровень защиты с уровня, не использующего пароль, на уровень, его использующий, пользователю будет предложено ввести пароль.</span><span class="sxs-lookup"><span data-stu-id="fe394-121">If you change the protection level from a level that does not use a password to one that does, you will be prompted for a password.</span></span>  
  
 <span data-ttu-id="fe394-122">Кроме того, для уровней защиты, использующих пароли, службы [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] применяют алгоритм шифрования Triple DES с длиной ключа 192 бита, доступный из [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] Class Library (FCL).</span><span class="sxs-lookup"><span data-stu-id="fe394-122">Also, for the protection levels that use a password, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses the Triple DES cipher algorithm with a key length of 192 bits, available in the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] Class Library (FCL).</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="fe394-123">Уровни защиты</span><span class="sxs-lookup"><span data-stu-id="fe394-123">Protection Levels</span></span>  
 <span data-ttu-id="fe394-124">Следующая таблица описывает уровни защиты, предоставляемые службами [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe394-124">The following table describes the protection levels that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] provides.</span></span> <span data-ttu-id="fe394-125">Значения в скобках — это значения из перечисления <xref:Microsoft.SqlServer.Dts.Runtime.DTSProtectionLevel> .</span><span class="sxs-lookup"><span data-stu-id="fe394-125">The values in parentheses are values from the <xref:Microsoft.SqlServer.Dts.Runtime.DTSProtectionLevel> enumeration.</span></span> <span data-ttu-id="fe394-126">Эти значения отображаются в окне «Свойства», которое используется для настройки свойств пакета при работе с пакетами в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe394-126">These values appear in the Properties window that you use to configure the properties of the package when you work with packages in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
|<span data-ttu-id="fe394-127">Уровень защиты</span><span class="sxs-lookup"><span data-stu-id="fe394-127">Protection level</span></span>|<span data-ttu-id="fe394-128">Description</span><span class="sxs-lookup"><span data-stu-id="fe394-128">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="fe394-129">Не сохранять конфиденциальные данные (`DontSaveSensitive`).</span><span class="sxs-lookup"><span data-stu-id="fe394-129">Do not save sensitive (`DontSaveSensitive`)</span></span>|<span data-ttu-id="fe394-130">Подавляет значения конфиденциальных свойств в пакете при сохранении.</span><span class="sxs-lookup"><span data-stu-id="fe394-130">Suppresses the values of sensitive properties in the package when the package is saved.</span></span> <span data-ttu-id="fe394-131">Этот уровень защиты не шифрует, а предотвращает сохранение в пакете свойств, помеченных как конфиденциальные, и таким образом делает конфиденциальные данные недоступными для других пользователей.</span><span class="sxs-lookup"><span data-stu-id="fe394-131">This protection level does not encrypt, but instead it prevents properties that are marked sensitive from being saved with the package and therefore makes the sensitive data unavailable to other users.</span></span> <span data-ttu-id="fe394-132">Если другой пользователь откроет пакет, конфиденциальная информация будет заменена пробелами и пользователь сам будет должен задать эти конфиденциальные сведения.</span><span class="sxs-lookup"><span data-stu-id="fe394-132">If a different user opens the package, the sensitive information is replaced with blanks and the user must provide the sensitive information.</span></span><br /><br /> <span data-ttu-id="fe394-133">При использовании со средством **dtutil** (dtutil.exe) этот уровень защиты соответствует значению 0.</span><span class="sxs-lookup"><span data-stu-id="fe394-133">When used with the **dtutil** utility (dtutil.exe), this protection level corresponds to the value of 0.</span></span>|  
|<span data-ttu-id="fe394-134">Шифровать все данные паролем (`EncryptAllWithPassword`).</span><span class="sxs-lookup"><span data-stu-id="fe394-134">Encrypt all with password (`EncryptAllWithPassword`)</span></span>|<span data-ttu-id="fe394-135">Использует пароль для шифрования всего пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-135">Uses a password to encrypt the whole package.</span></span> <span data-ttu-id="fe394-136">Пакет шифруется с использованием пароля, который пользователь предоставляет при создании или экспорте пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-136">The package is encrypted by using a password that the user supplies when the package is created or exported.</span></span> <span data-ttu-id="fe394-137">Чтобы открыть пакет в конструкторе [!INCLUDE[ssIS](../../includes/ssis-md.md)] или запустить пакет с помощью программы командной строки **dtexec** , необходимо ввести пароль пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-137">To open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or run the package by using the **dtexec** command prompt utility, the user must provide the package password.</span></span> <span data-ttu-id="fe394-138">Без пароля пользователь не может получить доступ к пакету или запустить его.</span><span class="sxs-lookup"><span data-stu-id="fe394-138">Without the password the user cannot access or run the package.</span></span><br /><br /> <span data-ttu-id="fe394-139">При использовании с программой **dtutil** этот уровень защиты соответствует значению 3.</span><span class="sxs-lookup"><span data-stu-id="fe394-139">When used with the **dtutil** utility, this protection level corresponds to the value of 3.</span></span>|  
|<span data-ttu-id="fe394-140">Шифровать все данные пользовательским ключом (`EncryptAllWithUserKey`).</span><span class="sxs-lookup"><span data-stu-id="fe394-140">Encrypt all with user key (`EncryptAllWithUserKey`)</span></span>|<span data-ttu-id="fe394-141">Использует ключ на основе текущего профиля пользователя для шифрования всего пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-141">Uses a key that is based on the current user profile to encrypt the whole package.</span></span> <span data-ttu-id="fe394-142">Открыть пакет в конструкторе [!INCLUDE[ssIS](../../includes/ssis-md.md)] или запустить пакет с помощью программы командной строки **dtexec** может только пользователь, создавший или экспортировавший пакет.</span><span class="sxs-lookup"><span data-stu-id="fe394-142">Only the user who created or exported the package can open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or run the package by using the **dtexec** command prompt utility.</span></span><br /><br /> <span data-ttu-id="fe394-143">При использовании с программой **dtutil** этот уровень защиты соответствует значению 4.</span><span class="sxs-lookup"><span data-stu-id="fe394-143">When used with the **dtutil** utility, this protection level corresponds to the value of 4.</span></span><br /><br /> <span data-ttu-id="fe394-144">Примечание. Для уровней защиты, в которых используется ключ пользователя, службы [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] используют стандарты DPAPI.</span><span class="sxs-lookup"><span data-stu-id="fe394-144">Note: For protection levels that use a user key, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses DPAPI standards.</span></span> <span data-ttu-id="fe394-145">Дополнительные сведения о DPAPI см. в библиотеке MSDN по адресу [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span><span class="sxs-lookup"><span data-stu-id="fe394-145">For more information about DPAPI, see the MSDN Library at [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span></span>|  
|<span data-ttu-id="fe394-146">Шифровать конфиденциальные данные паролем (`EncryptSensitiveWithPassword`).</span><span class="sxs-lookup"><span data-stu-id="fe394-146">Encrypt sensitive with password (`EncryptSensitiveWithPassword`)</span></span>|<span data-ttu-id="fe394-147">Использует пароль для шифрования только значений конфиденциальных свойств пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-147">Uses a password to encrypt only the values of sensitive properties in the package.</span></span> <span data-ttu-id="fe394-148">Для шифрования используется DPAPI.</span><span class="sxs-lookup"><span data-stu-id="fe394-148">DPAPI is used for this encryption.</span></span> <span data-ttu-id="fe394-149">Конфиденциальные данные сохраняются как часть пакета, но эти данные шифруются с использованием пароля, предоставляемого текущим пользователем при создании или экспорте пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-149">Sensitive data is saved as a part of the package, but that data is encrypted by using a password that the current user supplies when the package is created or exported.</span></span> <span data-ttu-id="fe394-150">Чтобы открыть пакет в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , пользователь должен предоставить пароль пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-150">To open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, the user must provide the package password.</span></span> <span data-ttu-id="fe394-151">Если пароль не предоставлен, пакет открывается без конфиденциальных данных и текущий пользователь должен ввести новые значения для конфиденциальных данных.</span><span class="sxs-lookup"><span data-stu-id="fe394-151">If the password is not provided, the package opens without the sensitive data and the current user must provide new values for sensitive data.</span></span> <span data-ttu-id="fe394-152">Если пользователь пытается выполнить пакет без предоставления пароля, выполнения не происходит.</span><span class="sxs-lookup"><span data-stu-id="fe394-152">If the user tries to execute the package without providing the password, package execution fails.</span></span> <span data-ttu-id="fe394-153">Дополнительные сведения о паролях и выполнении из командной строки см. в разделе [Программа dtexec](../packages/dtexec-utility.md).</span><span class="sxs-lookup"><span data-stu-id="fe394-153">For more information about passwords and command line execution, see [dtexec Utility](../packages/dtexec-utility.md).</span></span><br /><br /> <span data-ttu-id="fe394-154">При использовании с программой **dtutil** этот уровень защиты соответствует значению 2.</span><span class="sxs-lookup"><span data-stu-id="fe394-154">When used with the **dtutil** utility, this protection level corresponds to the value of 2.</span></span>|  
|<span data-ttu-id="fe394-155">Шифровать конфиденциальные данные пользовательским ключом (`EncryptSensitiveWithUserKey`).</span><span class="sxs-lookup"><span data-stu-id="fe394-155">Encrypt sensitive with user key (`EncryptSensitiveWithUserKey`)</span></span>|<span data-ttu-id="fe394-156">Использует ключ на основе текущего профиля пользователя для шифрования только значений конфиденциальных свойств пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-156">Uses a key that is based on the current user profile to encrypt only the values of sensitive properties in the package.</span></span> <span data-ttu-id="fe394-157">Только тот же пользователь, использующий тот же профиль, сможет загрузить пакет.</span><span class="sxs-lookup"><span data-stu-id="fe394-157">Only the same user who uses the same profile can load the package.</span></span> <span data-ttu-id="fe394-158">Если другой пользователь откроет пакет, конфиденциальная информация будет заменена пробелами и пользователь сам должен задать эти конфиденциальные данные.</span><span class="sxs-lookup"><span data-stu-id="fe394-158">If a different user opens the package, the sensitive information is replaced with blanks and the current user must provide new values for the sensitive data.</span></span> <span data-ttu-id="fe394-159">Если пользователь пытается выполнить пакет, запуска не происходит.</span><span class="sxs-lookup"><span data-stu-id="fe394-159">If the user attempts to execute the package, package execution fails.</span></span> <span data-ttu-id="fe394-160">Для шифрования используется DPAPI.</span><span class="sxs-lookup"><span data-stu-id="fe394-160">DPAPI is used for this encryption.</span></span><br /><br /> <span data-ttu-id="fe394-161">При использовании с программой **dtutil** этот уровень защиты соответствует значению 1.</span><span class="sxs-lookup"><span data-stu-id="fe394-161">When used with the **dtutil** utility, this protection level corresponds to the value of 1.</span></span><br /><br /> <span data-ttu-id="fe394-162">Примечание. Для уровней защиты, в которых используется ключ пользователя, службы [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] используют стандарты DPAPI.</span><span class="sxs-lookup"><span data-stu-id="fe394-162">Note: For protection levels that use a user key, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses DPAPI standards.</span></span> <span data-ttu-id="fe394-163">Дополнительные сведения о DPAPI см. в библиотеке MSDN по адресу [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span><span class="sxs-lookup"><span data-stu-id="fe394-163">For more information about DPAPI, see the MSDN Library at [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span></span>|  
|<span data-ttu-id="fe394-164">Шифровать в зависимости от хранилища на сервере (`ServerStorage`).</span><span class="sxs-lookup"><span data-stu-id="fe394-164">Rely on server storage for encryption (`ServerStorage`)</span></span>|<span data-ttu-id="fe394-165">Защищает весь пакет, используя роли базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe394-165">Protects the whole package using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database roles.</span></span> <span data-ttu-id="fe394-166">Этот параметр поддерживается в случае, когда пакет сохраняется в базе данных msdb служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe394-166">This option is supported when a package is saved to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] msdb database.</span></span> <span data-ttu-id="fe394-167">Кроме того, каталог SSISDB использует уровень защиты `ServerStorage`</span><span class="sxs-lookup"><span data-stu-id="fe394-167">In addition, the SSISDB catalog uses the `ServerStorage` protection level</span></span><br /><br /> <span data-ttu-id="fe394-168">Этот параметр не поддерживается, когда пакет сохраняется в файловой системе из среды [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe394-168">This option is not supported when a package is saved to the file system from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>|  
  
## <a name="protection-level-setting-and-the-ssisdb-catalog"></a><span data-ttu-id="fe394-169">Установка уровня защиты и каталог SSISDB</span><span class="sxs-lookup"><span data-stu-id="fe394-169">Protection Level Setting and the SSISDB Catalog</span></span>  
 <span data-ttu-id="fe394-170">Каталог SSISDB использует уровень защиты `ServerStorage`.</span><span class="sxs-lookup"><span data-stu-id="fe394-170">The SSISDB catalog uses the `ServerStorage` protection level.</span></span> <span data-ttu-id="fe394-171">При развертывании проекта [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] каталог автоматически шифрует данные пакета и конфиденциальные значения.</span><span class="sxs-lookup"><span data-stu-id="fe394-171">When you deploy an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server, the catalog automatically encrypts the package data and sensitive values.</span></span> <span data-ttu-id="fe394-172">Каталог также автоматически расшифровывает данные после их получения.</span><span class="sxs-lookup"><span data-stu-id="fe394-172">The catalog also automatically decrypts the data when you retrieve it.</span></span>  
  
 <span data-ttu-id="fe394-173">При экспорте проекта (ISPAC-файл) с сервера [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] в файловую систему система автоматически изменяет уровень защиты на `EncryptSensitiveWithUserKey`.</span><span class="sxs-lookup"><span data-stu-id="fe394-173">If you export the project (.ispac file) from the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server to the file system, the system automatically changes the protection level to `EncryptSensitiveWithUserKey`.</span></span> <span data-ttu-id="fe394-174">При импорте проекта с помощью **мастера импорта проекта Integration Services** в [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] свойстве **ProtectionLevel** в окне **Свойства** отображается значение `EncryptSensitiveWithUserKey` .</span><span class="sxs-lookup"><span data-stu-id="fe394-174">If you import the project by using the **Integration Services Import Project Wizard** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], the **ProtectionLevel** property in the **Properties** window shows a value of `EncryptSensitiveWithUserKey`.</span></span>  
  
## <a name="protection-level-setting-based-on-package-life-cycle"></a><span data-ttu-id="fe394-175">Назначение уровня защиты на основе жизненного цикла пакета</span><span class="sxs-lookup"><span data-stu-id="fe394-175">Protection Level Setting Based on Package Life Cycle</span></span>  
 <span data-ttu-id="fe394-176">Уровень защиты пакета служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] задается, когда начинается его разработка в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fe394-176">You set the protection level of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package when you first develop it in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="fe394-177">Позже, когда пакет развернут, импортирован или экспортирован из служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] в службы [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]либо скопирован из среды [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], хранилища пакетов служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] или файловой системы, можно изменить уровень защиты пакета.</span><span class="sxs-lookup"><span data-stu-id="fe394-177">Later, when the package is deployed, imported or exported from [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], or copied from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the [!INCLUDE[ssIS](../../includes/ssis-md.md)] Package Store, or the file system, you can update the package protection level.</span></span> <span data-ttu-id="fe394-178">Например, если пользователь создает и сохраняет пакеты на своем компьютере с одним из параметров ключевых пользовательских уровней защиты, возможно, ему захочется изменить уровень защиты, предоставляя пакет другим пользователям, так как иначе они попросту не смогут открыть пакет.</span><span class="sxs-lookup"><span data-stu-id="fe394-178">For example, if you create and save packages on your computer with one of the user key protection level options, you likely would want to change the protection level when you give the package to other users; otherwise they cannot open the package.</span></span>  
  
 <span data-ttu-id="fe394-179">Как правило, изменение уровня защиты охватывает следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="fe394-179">Typically, you change the protection level as listed in the following steps:</span></span>  
  
1.  <span data-ttu-id="fe394-180">Во время развертывания рекомендуется принять значение уровня защиты пакетов по умолчанию: `EncryptSensitiveWithUserKey`.</span><span class="sxs-lookup"><span data-stu-id="fe394-180">During development, leave the protection level of packages set to the default value, `EncryptSensitiveWithUserKey`.</span></span> <span data-ttu-id="fe394-181">Этот параметр позволит гарантировать просмотр важных значений в пакете только разработчиком.</span><span class="sxs-lookup"><span data-stu-id="fe394-181">This setting helps ensure that only the developer sees sensitive values in the package.</span></span> <span data-ttu-id="fe394-182">Можно подумать об использовании `EncryptAllWithUserKey` или `DontSaveSensitive`.</span><span class="sxs-lookup"><span data-stu-id="fe394-182">Or, you can consider using `EncryptAllWithUserKey`, or `DontSaveSensitive`.</span></span>  
  
2.  <span data-ttu-id="fe394-183">Когда все готово к развертыванию пакетов, уровень защиты следует изменить на уровень, не зависящий от ключа пользователя разработчика.</span><span class="sxs-lookup"><span data-stu-id="fe394-183">When it is time to deploy the packages, you have to change the protection level to one that does not depend on the developer's user key.</span></span> <span data-ttu-id="fe394-184">В этом случае обычно требуется выбрать `EncryptSensitiveWithPassword` или `EncryptAllWithPassword`.</span><span class="sxs-lookup"><span data-stu-id="fe394-184">Therefore you typically have to select `EncryptSensitiveWithPassword`, or `EncryptAllWithPassword`.</span></span> <span data-ttu-id="fe394-185">Зашифруйте пакеты, назначив временный надежный пароль, который также известен рабочей группе в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="fe394-185">Encrypt the packages by assigning a temporary strong password that is also known to the operations team in the production environment.</span></span>  
  
3.  <span data-ttu-id="fe394-186">После развертывания пакетов в рабочей среде рабочая группа может повторно зашифровать развернутые пакеты, назначив известный им надежный пароль.</span><span class="sxs-lookup"><span data-stu-id="fe394-186">After the packages have been deployed to the production environment, the operations team can re-encrypt the deployed packages by assigning a strong password that is known only to them.</span></span> <span data-ttu-id="fe394-187">Другой вариант: они могут зашифровать развернутые пакеты, выбрав `EncryptSensitiveWithUserKey` или `EncryptAllWithUserKey` и используя локальные данные учетной записи, с которой выполняются пакеты.</span><span class="sxs-lookup"><span data-stu-id="fe394-187">Or, they can encrypt the deployed packages by selecting `EncryptSensitiveWithUserKey` or `EncryptAllWithUserKey`, and using the local credentials of the account that will run the packages.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="fe394-188">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="fe394-188">Related Tasks</span></span>  
  
-   [<span data-ttu-id="fe394-189">Установка или изменение уровня защиты пакетов</span><span class="sxs-lookup"><span data-stu-id="fe394-189">Set or Change the Protection Level of Packages</span></span>](../set-or-change-the-protection-level-of-packages.md)  
  
## <a name="see-also"></a><span data-ttu-id="fe394-190">См. также:</span><span class="sxs-lookup"><span data-stu-id="fe394-190">See Also</span></span>  
 <span data-ttu-id="fe394-191">[Импорт и экспорт пакетов &#40;служб SSIS&#41;](../import-and-export-packages-ssis-service.md) </span><span class="sxs-lookup"><span data-stu-id="fe394-191">[Import and Export Packages &#40;SSIS Service&#41;](../import-and-export-packages-ssis-service.md) </span></span>  
 <span data-ttu-id="fe394-192">[Integration Services &#40;пакетов&#41; SSIS](../integration-services-ssis-packages.md) </span><span class="sxs-lookup"><span data-stu-id="fe394-192">[Integration Services &#40;SSIS&#41; Packages](../integration-services-ssis-packages.md) </span></span>  
 [<span data-ttu-id="fe394-193">Общие сведения о безопасности (службы Integration Services)</span><span class="sxs-lookup"><span data-stu-id="fe394-193">Security Overview &#40;Integration Services&#41;</span></span>](security-overview-integration-services.md)  
  
  

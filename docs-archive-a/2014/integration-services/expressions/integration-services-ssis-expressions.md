---
title: Выражения служб Integration Services (SSIS) | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- packages [Integration Services], expressions
- Integration Services packages, expressions
- SQL Server Integration Services packages, expressions
- expressions [Integration Services], packages
- SSIS packages, expressions
ms.assetid: 26d2e242-7f60-4fa9-a70d-548a80eee667
author: chugugrace
ms.author: chugu
ms.openlocfilehash: ff0bd46034108537ebede7567b042997c94871ce
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732833"
---
# <a name="integration-services-ssis-expressions"></a><span data-ttu-id="dc267-102">Выражения служб Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="dc267-102">Integration Services (SSIS) Expressions</span></span>
  <span data-ttu-id="dc267-103">Выражение — это сочетание символов (идентификаторов, литералов, функций и операторов), которое дает одно значение данных.</span><span class="sxs-lookup"><span data-stu-id="dc267-103">An expression is a combination of symbols-identifiers, literals, functions, and operators-that yields a single data value.</span></span> <span data-ttu-id="dc267-104">Простые выражения могут включать одну константу, переменную или функцию.</span><span class="sxs-lookup"><span data-stu-id="dc267-104">Simple expressions can be a single constant, variable, or function.</span></span> <span data-ttu-id="dc267-105">Чаще встречаются сложные выражения, включающие несколько операторов и функций и ссылающиеся на несколько столбцов и переменных.</span><span class="sxs-lookup"><span data-stu-id="dc267-105">More frequently, expressions are complex, using multiple operators and functions and referencing multiple columns and variables.</span></span> <span data-ttu-id="dc267-106">В службах [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]выражения могут использоваться для определения условий в инструкциях CASE, создания и обновления значений в столбцах данных, присвоения значений переменным, обновления или заполнения свойств во время выполнения, определения ограничений в управлении очередностью и указания выражений, используемых контейнером «цикл по элементам».</span><span class="sxs-lookup"><span data-stu-id="dc267-106">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], expressions can be used to define conditions for CASE statements, create and update values in data columns, assign values to variables, update or populate properties at run time, define constraints in precedence constraints, and provide the expressions used by the For Loop container.</span></span>  
  
 <span data-ttu-id="dc267-107">Выражения основаны на языке выражений, а также на средстве оценки выражений.</span><span class="sxs-lookup"><span data-stu-id="dc267-107">Expressions are based on an expression language, and the expression evaluator.</span></span> <span data-ttu-id="dc267-108">Средство оценки выражений производит синтаксический анализ выражения и определяет, соответствует ли выражение правилам языка выражений.</span><span class="sxs-lookup"><span data-stu-id="dc267-108">The expression evaluator parses the expression and determines whether the expression follows the rules of the expression language.</span></span> <span data-ttu-id="dc267-109">Дополнительные сведения о синтаксисе выражения, поддерживаемых литералах и идентификаторах см. в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="dc267-109">For more information about the expression syntax and supported literals and identifiers, see the following topics.</span></span>  
  
-   [<span data-ttu-id="dc267-110">Синтаксис (службы SSIS)</span><span class="sxs-lookup"><span data-stu-id="dc267-110">Syntax &#40;SSIS&#41;</span></span>](syntax-ssis.md)  
  
-   [<span data-ttu-id="dc267-111">Литералы (службы SSIS)</span><span class="sxs-lookup"><span data-stu-id="dc267-111">Literals &#40;SSIS&#41;</span></span>](numeric-string-and-boolean-literals.md)  
  
-   [<span data-ttu-id="dc267-112">Идентификаторы (службы SSIS)</span><span class="sxs-lookup"><span data-stu-id="dc267-112">Identifiers &#40;SSIS&#41;</span></span>](identifiers-ssis.md)  
  
## <a name="components-that-use-expressions"></a><span data-ttu-id="dc267-113">Компоненты, использующие выражения</span><span class="sxs-lookup"><span data-stu-id="dc267-113">Components that Use Expressions</span></span>  
 <span data-ttu-id="dc267-114">Выражения могут использоваться следующими элементами в службах [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="dc267-114">The following elements in [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] can use expressions:</span></span>  
  
-   <span data-ttu-id="dc267-115">Преобразование «Условное разбиение» использует структуру выбора, основанную на выражениях, чтобы направить строки данных в разные места назначения.</span><span class="sxs-lookup"><span data-stu-id="dc267-115">The Conditional Split transformation implements a decision structure based on expressions to direct data rows to different destinations.</span></span> <span data-ttu-id="dc267-116">Выражения, используемые в преобразовании «Условное разбиение», должны оцениваться как `true` или `false`.</span><span class="sxs-lookup"><span data-stu-id="dc267-116">Expressions used in a Conditional Split transformation must evaluate to `true` or `false`.</span></span> <span data-ttu-id="dc267-117">Например, строки, удовлетворяющие условиям выражения «Column1 > Column2», могут быть направлены на отдельный вывод.</span><span class="sxs-lookup"><span data-stu-id="dc267-117">For example, rows that meet the condition in the expression "Column1 > Column2" can be routed to a separate output.</span></span>  
  
-   <span data-ttu-id="dc267-118">Преобразование «Производный столбец» использует значения, полученные с помощью выражения, для заполнения новых столбцов в потоке данных или обновления существующих столбцов.</span><span class="sxs-lookup"><span data-stu-id="dc267-118">The Derived Column transformation uses values created by using expressions either to populate new columns in a data flow, or to update existing columns.</span></span> <span data-ttu-id="dc267-119">Например, выражение «Column1 + " ABC"» может использоваться для обновления значения или для создания нового значения с объединенной строкой.</span><span class="sxs-lookup"><span data-stu-id="dc267-119">For example, the expression Column1 + " ABC" can be used to update a value or to create a new value with the concatenated string.</span></span>  
  
-   <span data-ttu-id="dc267-120">Переменные используют выражение для установки значений.</span><span class="sxs-lookup"><span data-stu-id="dc267-120">Variables use an expression to set their value.</span></span> <span data-ttu-id="dc267-121">Например, GETDATE() присваивает переменной значение, равное текущей дате.</span><span class="sxs-lookup"><span data-stu-id="dc267-121">For example, GETDATE() sets the value of the variable to the current date.</span></span>  
  
-   <span data-ttu-id="dc267-122">Управление очередностью может использовать выражения для указания условий, определяющих, будет ли выполняться задача с ограничением или контейнер пакета.</span><span class="sxs-lookup"><span data-stu-id="dc267-122">Precedence constraints can use expressions to specify the conditions that determine whether the constrained task or container in a package runs.</span></span> <span data-ttu-id="dc267-123">Выражения, используемые в элементах управления очередностью, должны давать значение `true` или `false`.</span><span class="sxs-lookup"><span data-stu-id="dc267-123">Expressions used in a precedence constraint must evaluate to `true` or `false`.</span></span> <span data-ttu-id="dc267-124">Например, выражение \@A > \@B сравнивает две определяемые пользователем переменные, указывая, будет ли выполняться задача, для которой задано ограничение.</span><span class="sxs-lookup"><span data-stu-id="dc267-124">For example, the expression \@A > \@B compares two user-defined variables to determine whether the constrained task runs.</span></span>  
  
-   <span data-ttu-id="dc267-125">Контейнер «цикл по элементам» может использовать выражения для создания инструкций инициализации, оценки выражения и приращения счетчика, используемые структурами цикла.</span><span class="sxs-lookup"><span data-stu-id="dc267-125">The For Loop container can use expressions to build the initialization, evaluation, and the incrementing statements that the looping structure uses.</span></span> <span data-ttu-id="dc267-126">Например, выражение \@Counter = 1 инициализирует счетчик циклов.</span><span class="sxs-lookup"><span data-stu-id="dc267-126">For example, the expression \@Counter = 1 initializes the loop counter.</span></span>  
  
 <span data-ttu-id="dc267-127">Выражения могут также использоваться для обновления значений свойств пакетов, контейнеров, таких как «цикл по элементам» и «цикл по каждому элементу», задач, диспетчеров соединений на уровне пакетов и проектов, регистраторов, а также перечислителей «по каждому элементу».</span><span class="sxs-lookup"><span data-stu-id="dc267-127">Expressions can also be used to update the values of properties of packages, containers such as the For Loop and Foreach Loop, tasks, package and project level connection managers, log providers, and Foreach enumerators.</span></span> <span data-ttu-id="dc267-128">Например, используя выражение свойства, можно назначить строку "Localhost.AdventureWorks" свойству ConnectionName задачи "Выполнение SQL".</span><span class="sxs-lookup"><span data-stu-id="dc267-128">For example, using a property expression, the string "Localhost.AdventureWorks" can be assigned to the ConnectionName property of the Execute SQL task.</span></span> <span data-ttu-id="dc267-129">Дополнительные сведения см. в разделе [Использование выражений свойств в пакетах](use-property-expressions-in-packages.md).</span><span class="sxs-lookup"><span data-stu-id="dc267-129">For more information, see [Use Property Expressions in Packages](use-property-expressions-in-packages.md).</span></span>  
  
## <a name="icon-markers-for-expressions"></a><span data-ttu-id="dc267-130">Маркеры значков для выражений</span><span class="sxs-lookup"><span data-stu-id="dc267-130">Icon Markers for Expressions</span></span>  
 <span data-ttu-id="dc267-131">В среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]рядом с диспетчерами соединений, переменными и задачами, в которых заданы выражения, отображается специальный маркер значка.</span><span class="sxs-lookup"><span data-stu-id="dc267-131">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], a special icon marker displays next to connection managers, variables, and tasks that have expressions set on them.</span></span> <span data-ttu-id="dc267-132">Свойство **HasExpressions** доступно для всех объектов служб SSIS (кроме переменных), которые поддерживают выражения.</span><span class="sxs-lookup"><span data-stu-id="dc267-132">The **HasExpressions** property is available on all SSIS objects that support expresions, with the exception of variables.</span></span> <span data-ttu-id="dc267-133">Это свойство позволяет легко идентифицировать объекты, имеющие выражения.</span><span class="sxs-lookup"><span data-stu-id="dc267-133">The property enables you to easily identy which objects have expressions.</span></span>  
  
## <a name="expression-builder"></a><span data-ttu-id="dc267-134">Построитель выражений</span><span class="sxs-lookup"><span data-stu-id="dc267-134">Expression Builder</span></span>  
 <span data-ttu-id="dc267-135">Построитель выражений — это графическое средство для построения выражений.</span><span class="sxs-lookup"><span data-stu-id="dc267-135">The expression builder is a graphical tool for building expressions.</span></span> <span data-ttu-id="dc267-136">Он доступен в диалоговых окнах **Редактор преобразования «Условное разбиение»** , **Редактор преобразования «Производный столбец»** , а также в диалоговом окне **Построитель выражений** , является графическим средством для построения выражений.</span><span class="sxs-lookup"><span data-stu-id="dc267-136">It is available in the **Conditional Split Transformation Editor**, **Derived Column Transformation Editor** dialog boxes, and in the **Expression Builder** dialog box, is a graphical tool for building expressions.</span></span>  
  
 <span data-ttu-id="dc267-137">Построитель выражений дает доступ к папкам, содержащим специфические элементы пакета, а также к папкам, содержащим функции, приведения типов и операторы, предоставляемые языком выражений.</span><span class="sxs-lookup"><span data-stu-id="dc267-137">The expression builder provides folders that contain package-specific elements, and folders that contain the functions, type casts, and operators that the expression language provides.</span></span> <span data-ttu-id="dc267-138">Специфические элементы пакета включают в себя системные и определяемые пользователем переменные.</span><span class="sxs-lookup"><span data-stu-id="dc267-138">The package-specific elements include system variables and user-defined variables.</span></span> <span data-ttu-id="dc267-139">В диалоговых окнах **Редактор преобразования «Условное разбиение»** и **Редактор преобразования «Производный столбец»** можно также просмотреть содержимое столбцов данных.</span><span class="sxs-lookup"><span data-stu-id="dc267-139">In the **Conditional Split Transformation Editor** and **Derived Column Transformation Editor** dialog boxes, you can also view data columns.</span></span> <span data-ttu-id="dc267-140">Создавая выражения для преобразований, можно перетащить элементы из папок в столбец **Условие** или **Выражение** или ввести выражение прямо в столбец.</span><span class="sxs-lookup"><span data-stu-id="dc267-140">To build expressions for the transformations, you can drag items from the folders to the **Condition** or **Expression** column or you can type the expression directly in the column.</span></span> <span data-ttu-id="dc267-141">Построитель выражений автоматически добавляет необходимые элементы синтаксиса, например префикс \@ в именах переменных.</span><span class="sxs-lookup"><span data-stu-id="dc267-141">The expression builder automatically adds needed syntax elements such as the \@ prefix on variable names.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dc267-142">Имена пользовательских и системных переменных обрабатываются с учетом регистра.</span><span class="sxs-lookup"><span data-stu-id="dc267-142">The names of user-defined and system variables are case-sensitive.</span></span>  
  
 <span data-ttu-id="dc267-143">У переменных есть область действия, и папка **Переменные** в списке построителя выражений содержит только те переменные, которые находятся в данной области и доступны для использования.</span><span class="sxs-lookup"><span data-stu-id="dc267-143">Variables have scope, and the **Variables** folder in the expression builder lists only variables that are in scope and available to use.</span></span> <span data-ttu-id="dc267-144">Дополнительные сведения см. в разделе [Переменные служб Integration Services (SSIS)](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="dc267-144">For more information, see [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="dc267-145">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="dc267-145">Related Tasks</span></span>  
 [<span data-ttu-id="dc267-146">Использование выражения в компоненте потока данных</span><span class="sxs-lookup"><span data-stu-id="dc267-146">Use an Expression in a Data Flow Component</span></span>](../use-an-expression-in-a-data-flow-component.md)  
  
## <a name="related-content"></a><span data-ttu-id="dc267-147">См. также</span><span class="sxs-lookup"><span data-stu-id="dc267-147">Related Content</span></span>  
 <span data-ttu-id="dc267-148">Техническая статья [Примеры выражений служб SSIS](https://go.microsoft.com/fwlink/?LinkId=220761)на сайте social.technet.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="dc267-148">Technical article, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), on social.technet.microsoft.com</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dc267-149">См. также:</span><span class="sxs-lookup"><span data-stu-id="dc267-149">See Also</span></span>  
 [<span data-ttu-id="dc267-150">SQL Server Integration Services</span><span class="sxs-lookup"><span data-stu-id="dc267-150">SQL Server Integration Services</span></span>](../sql-server-integration-services.md)  
  
  

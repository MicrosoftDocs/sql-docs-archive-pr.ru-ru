---
title: Добавление итерации в поток управления | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- repeating workflows
- adding iterations
- control flow [Integration Services], iterations
- expressions [Integration Services], control flow
- iterations [Integration Services]
- For Loop containers
ms.assetid: eb3a7494-88ae-4165-9d0f-58715eb1734a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2b576ab080c541ef96987d3375215185f5cadb46
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658955"
---
# <a name="add-iteration-to-a-control-flow"></a>Добавление итерации к потоку управления
  [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] включает в себя контейнер "Цикл по элементам" — элемент потока управления, который позволяет легко использовать циклы, в зависимости от определенных условий повторяющие поток управления в пакете. Дополнительные сведения см. в статье [For Loop Container](control-flow/for-loop-container.md).  
  
 Контейнер «цикл по элементам» проверяет условие на каждом шаге цикла и останавливается, если условие приобретает значение false. Контейнер «цикл по элементам» включает в себя выражения для инициализации цикла, указывающие условие выполнения, которое останавливает выполнение повторяющегося потока управления, а также выражения, присваивающие значение, изменяющее данное значение, с которым сравнивается условие выполнения. Условие выполнения является обязательным, выражения инициализации и присваивания являются необязательными.  
  
 Контейнер «цикл по элементам» не добавляет новых функций, а только предоставляет структуру, в которой можно построить повторяемый поток управления. Чтобы контейнер заработал, необходимо включить в контейнер «цикл по элементам» как минимум одну задачу. Дополнительные сведения см. в разделе [Integration Services Tasks](control-flow/integration-services-tasks.md).  
  
 Контейнер «цикл по элементам» может включать поток управления с несколькими задачами и может содержать другие контейнеры. Добавление задач и контейнеров в контейнер «цикл по элементам» сходно с добавлением их к пакету, только перетаскивание происходит в контейнер «цикл по элементам», а не в пакет. Если контейнер «цикл по элементам» содержит более одной задачи или контейнера, их можно соединить с использованием объектов управления очередностью, как и в пакете. Дополнительные сведения см. в статье [Precedence Constraints](control-flow/precedence-constraints.md).  
  
## <a name="using-expressions-in-for-loop-configuration"></a>Использование выражений в конфигурации цикла по элементам  
 При конфигурировании контейнера «цикл по элементам» указанием условия выполнения, начального значения или присваиваемого значения можно использовать или константы, или выражения.  
  
 Выражения могут содержать переменные. Преимущество использования переменных состоит в том, что они могут изменяться во время выполнения, делая пакеты более гибкими и простыми в управлении. Максимальная длина выражения составляет 4000 символов.  
  
 При указании в выражении переменной ее имя должно начинаться с символа @. Например, для переменной с именем `Counter` введите @Counter в выражении, используемом контейнером «цикл по каждому элементу». Если для данной переменной указывается пространство имен, необходимо заключать переменную и пространство имен в скобки. Например, для `Counter` переменной в `MyNamespace` пространстве имен введите [ @MyNamespace::Counter ].  
  
 Переменные, используемые в контейнере «цикл по элементам», должны быть определены в области действия данного контейнера «цикл по элементам» или в области действия любого контейнера, стоящего выше в иерархии контейнеров данного пакета. Например контейнер «цикл по элементам» может использовать переменные, определенные в его области действия и определенные в области действия пакета. Дополнительные сведения см. в разделах [Переменные в службах Integration Services (SSIS)](integration-services-ssis-variables.md) и [Использование переменных в пакетах](../../2014/integration-services/use-variables-in-packages.md).  
  
 Грамматика выражений [!INCLUDE[ssIS](../includes/ssis-md.md)] предоставляет полный набор операторов и функций для реализации сложных выражений для вычислений, инициализации и присваивания. Дополнительные сведения см. в разделе [Выражения служб Integration Services (SSIS)](expressions/integration-services-ssis-expressions.md).  
  
### <a name="to-implement-a-for-loop-container-in-a-control-flow"></a>Встраивание контейнера «цикл по элементам» в поток управления  
  
1.  Добавьте к пакету контейнер «цикл по элементам». Дополнительные сведения см. [в разделе Добавление или удаление задачи или контейнера в потоке управления](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) .  
  .  
  
2.  Добавьте в контейнер «цикл по элементам» задачи и контейнеры. Дополнительные сведения см. [в разделе Добавление или удаление задачи или контейнера в потоке управления](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) .  
  .  
  
3.  Соедините задачи и контейнеры в контейнере «цикл по элементам», используя объекты управления очередностью. Дополнительные сведения см. в разделе [Соединение задач и контейнеров с помощью элементов управления очередностью по умолчанию](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md).  
  
4.  Задайте параметры контейнера «цикл по элементам». Дополнительные сведения см. в разделе [Настройка контейнера «цикл по элементам»](../../2014/integration-services/configure-a-for-loop-container.md).  
  
## <a name="see-also"></a>См. также:  
 [Добавление или удаление задачи или контейнера в потоке управления](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)   
 [Группирование или разгруппирование компонентов](group-or-ungroup-components.md)   
 [Подключение задач и контейнеров с помощью управления очередностью по умолчанию](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md)   
 [Добавить перечисление в поток управления](../../2014/integration-services/add-enumeration-to-a-control-flow.md)   
 [Поток управления](control-flow/control-flow.md)  
  
  

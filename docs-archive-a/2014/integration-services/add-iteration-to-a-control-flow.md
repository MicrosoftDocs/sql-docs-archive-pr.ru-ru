---
title: Добавление итерации в поток управления | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- repeating workflows
- adding iterations
- control flow [Integration Services], iterations
- expressions [Integration Services], control flow
- iterations [Integration Services]
- For Loop containers
ms.assetid: eb3a7494-88ae-4165-9d0f-58715eb1734a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2b576ab080c541ef96987d3375215185f5cadb46
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658955"
---
# <a name="add-iteration-to-a-control-flow"></a><span data-ttu-id="21701-102">Добавление итерации к потоку управления</span><span class="sxs-lookup"><span data-stu-id="21701-102">Add Iteration to a Control Flow</span></span>
  [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] <span data-ttu-id="21701-103">включает в себя контейнер "Цикл по элементам" — элемент потока управления, который позволяет легко использовать циклы, в зависимости от определенных условий повторяющие поток управления в пакете.</span><span class="sxs-lookup"><span data-stu-id="21701-103">includes the For Loop container, a control flow element that makes it simple to include looping that conditionally repeats a control flow in a package.</span></span> <span data-ttu-id="21701-104">Дополнительные сведения см. в статье [For Loop Container](control-flow/for-loop-container.md).</span><span class="sxs-lookup"><span data-stu-id="21701-104">For more information, see [For Loop Container](control-flow/for-loop-container.md).</span></span>  
  
 <span data-ttu-id="21701-105">Контейнер «цикл по элементам» проверяет условие на каждом шаге цикла и останавливается, если условие приобретает значение false.</span><span class="sxs-lookup"><span data-stu-id="21701-105">The For Loop container evaluates a condition on each iteration of the loop, and stops when the condition evaluates to false.</span></span> <span data-ttu-id="21701-106">Контейнер «цикл по элементам» включает в себя выражения для инициализации цикла, указывающие условие выполнения, которое останавливает выполнение повторяющегося потока управления, а также выражения, присваивающие значение, изменяющее данное значение, с которым сравнивается условие выполнения.</span><span class="sxs-lookup"><span data-stu-id="21701-106">The For Loop container includes expressions for initializing the loop, specifying the evaluation condition that stops execution of the repeating control flow, and assigning a value to an expression that updates the value against which the evaluation condition is compared.</span></span> <span data-ttu-id="21701-107">Условие выполнения является обязательным, выражения инициализации и присваивания являются необязательными.</span><span class="sxs-lookup"><span data-stu-id="21701-107">You must provide an evaluation condition, but initialization and assignment expressions are optional.</span></span>  
  
 <span data-ttu-id="21701-108">Контейнер «цикл по элементам» не добавляет новых функций, а только предоставляет структуру, в которой можно построить повторяемый поток управления.</span><span class="sxs-lookup"><span data-stu-id="21701-108">The For Loop container provides no functionality; it provides only the structure in which you build the repeatable control flow.</span></span> <span data-ttu-id="21701-109">Чтобы контейнер заработал, необходимо включить в контейнер «цикл по элементам» как минимум одну задачу.</span><span class="sxs-lookup"><span data-stu-id="21701-109">To provide container functionality, you must include at least one task in the For Loop container.</span></span> <span data-ttu-id="21701-110">Дополнительные сведения см. в разделе [Integration Services Tasks](control-flow/integration-services-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="21701-110">For more information, see [Integration Services Tasks](control-flow/integration-services-tasks.md).</span></span>  
  
 <span data-ttu-id="21701-111">Контейнер «цикл по элементам» может включать поток управления с несколькими задачами и может содержать другие контейнеры.</span><span class="sxs-lookup"><span data-stu-id="21701-111">The For Loop container can include a control flow with multiple tasks, and can include other containers.</span></span> <span data-ttu-id="21701-112">Добавление задач и контейнеров в контейнер «цикл по элементам» сходно с добавлением их к пакету, только перетаскивание происходит в контейнер «цикл по элементам», а не в пакет.</span><span class="sxs-lookup"><span data-stu-id="21701-112">Adding tasks and containers to a For Loop container is similar to adding them to a package, except you drag the tasks and containers to the For Loop container instead of to the package.</span></span> <span data-ttu-id="21701-113">Если контейнер «цикл по элементам» содержит более одной задачи или контейнера, их можно соединить с использованием объектов управления очередностью, как и в пакете.</span><span class="sxs-lookup"><span data-stu-id="21701-113">If the For Loop container includes more than one task or container, you can connect them using precedence constraints just as you do in a package.</span></span> <span data-ttu-id="21701-114">Дополнительные сведения см. в статье [Precedence Constraints](control-flow/precedence-constraints.md).</span><span class="sxs-lookup"><span data-stu-id="21701-114">For more information, see [Precedence Constraints](control-flow/precedence-constraints.md).</span></span>  
  
## <a name="using-expressions-in-for-loop-configuration"></a><span data-ttu-id="21701-115">Использование выражений в конфигурации цикла по элементам</span><span class="sxs-lookup"><span data-stu-id="21701-115">Using Expressions in For Loop Configuration</span></span>  
 <span data-ttu-id="21701-116">При конфигурировании контейнера «цикл по элементам» указанием условия выполнения, начального значения или присваиваемого значения можно использовать или константы, или выражения.</span><span class="sxs-lookup"><span data-stu-id="21701-116">When you configure the For Loop container by specifying an evaluation condition, initialization value, or assignment value, you can use either literals or expressions.</span></span>  
  
 <span data-ttu-id="21701-117">Выражения могут содержать переменные.</span><span class="sxs-lookup"><span data-stu-id="21701-117">The expressions can include variables.</span></span> <span data-ttu-id="21701-118">Преимущество использования переменных состоит в том, что они могут изменяться во время выполнения, делая пакеты более гибкими и простыми в управлении.</span><span class="sxs-lookup"><span data-stu-id="21701-118">The advantage of using variables is that they can be updated at run time, making the packages more flexible and easier to manage.</span></span> <span data-ttu-id="21701-119">Максимальная длина выражения составляет 4000 символов.</span><span class="sxs-lookup"><span data-stu-id="21701-119">The maximum length of an expression is 4000 characters.</span></span>  
  
 <span data-ttu-id="21701-120">При указании в выражении переменной ее имя должно начинаться с символа @.</span><span class="sxs-lookup"><span data-stu-id="21701-120">When you specify a variable in an expression, you must preface the variable name with the at sign (@).</span></span> <span data-ttu-id="21701-121">Например, для переменной с именем `Counter` введите @Counter в выражении, используемом контейнером «цикл по каждому элементу».</span><span class="sxs-lookup"><span data-stu-id="21701-121">For example, for a variable named `Counter`, enter @Counter in the expression that the For Loop container uses.</span></span> <span data-ttu-id="21701-122">Если для данной переменной указывается пространство имен, необходимо заключать переменную и пространство имен в скобки.</span><span class="sxs-lookup"><span data-stu-id="21701-122">If you include the namespace property on the variable, you must enclose the variable and namespace in brackets.</span></span> <span data-ttu-id="21701-123">Например, для `Counter` переменной в `MyNamespace` пространстве имен введите [ @MyNamespace::Counter ].</span><span class="sxs-lookup"><span data-stu-id="21701-123">For example, for a `Counter` variable in the `MyNamespace` namespace, type [@MyNamespace::Counter].</span></span>  
  
 <span data-ttu-id="21701-124">Переменные, используемые в контейнере «цикл по элементам», должны быть определены в области действия данного контейнера «цикл по элементам» или в области действия любого контейнера, стоящего выше в иерархии контейнеров данного пакета.</span><span class="sxs-lookup"><span data-stu-id="21701-124">The variables that the For Loop container uses must be defined in the scope of the For Loop container or in the scope of any container that is higher in the package container hierarchy.</span></span> <span data-ttu-id="21701-125">Например контейнер «цикл по элементам» может использовать переменные, определенные в его области действия и определенные в области действия пакета.</span><span class="sxs-lookup"><span data-stu-id="21701-125">For example, a For Loop container can use variables defined in its scope and also variables defined in package scope.</span></span> <span data-ttu-id="21701-126">Дополнительные сведения см. в разделах [Переменные в службах Integration Services (SSIS)](integration-services-ssis-variables.md) и [Использование переменных в пакетах](../../2014/integration-services/use-variables-in-packages.md).</span><span class="sxs-lookup"><span data-stu-id="21701-126">For more information, see [Integration Services &#40;SSIS&#41; Variables](integration-services-ssis-variables.md) and [Use Variables in Packages](../../2014/integration-services/use-variables-in-packages.md).</span></span>  
  
 <span data-ttu-id="21701-127">Грамматика выражений [!INCLUDE[ssIS](../includes/ssis-md.md)] предоставляет полный набор операторов и функций для реализации сложных выражений для вычислений, инициализации и присваивания.</span><span class="sxs-lookup"><span data-stu-id="21701-127">The [!INCLUDE[ssIS](../includes/ssis-md.md)] expression grammar provides a complete set of operators and functions for implementing complex expressions used for evaluation, initialization, or assignment.</span></span> <span data-ttu-id="21701-128">Дополнительные сведения см. в разделе [Выражения служб Integration Services (SSIS)](expressions/integration-services-ssis-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="21701-128">For more information, see [Integration Services &#40;SSIS&#41; Expressions](expressions/integration-services-ssis-expressions.md).</span></span>  
  
### <a name="to-implement-a-for-loop-container-in-a-control-flow"></a><span data-ttu-id="21701-129">Встраивание контейнера «цикл по элементам» в поток управления</span><span class="sxs-lookup"><span data-stu-id="21701-129">To implement a For Loop container in a control flow</span></span>  
  
1.  <span data-ttu-id="21701-130">Добавьте к пакету контейнер «цикл по элементам».</span><span class="sxs-lookup"><span data-stu-id="21701-130">Add the For Loop container to the package.</span></span> <span data-ttu-id="21701-131">Дополнительные сведения см. [в разделе Добавление или удаление задачи или контейнера в потоке управления](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) .</span><span class="sxs-lookup"><span data-stu-id="21701-131">For more information, see [Add or Delete a Task or a Container in a Control Flow](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)</span></span>  
  <span data-ttu-id="21701-132">.</span><span class="sxs-lookup"><span data-stu-id="21701-132">.</span></span>  
  
2.  <span data-ttu-id="21701-133">Добавьте в контейнер «цикл по элементам» задачи и контейнеры.</span><span class="sxs-lookup"><span data-stu-id="21701-133">Add tasks and containers to the For Loop container.</span></span> <span data-ttu-id="21701-134">Дополнительные сведения см. [в разделе Добавление или удаление задачи или контейнера в потоке управления](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) .</span><span class="sxs-lookup"><span data-stu-id="21701-134">For more information, see [Add or Delete a Task or a Container in a Control Flow](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)</span></span>  
  <span data-ttu-id="21701-135">.</span><span class="sxs-lookup"><span data-stu-id="21701-135">.</span></span>  
  
3.  <span data-ttu-id="21701-136">Соедините задачи и контейнеры в контейнере «цикл по элементам», используя объекты управления очередностью.</span><span class="sxs-lookup"><span data-stu-id="21701-136">Connect tasks and containers in the For Loop container using precedence constraints.</span></span> <span data-ttu-id="21701-137">Дополнительные сведения см. в разделе [Соединение задач и контейнеров с помощью элементов управления очередностью по умолчанию](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md).</span><span class="sxs-lookup"><span data-stu-id="21701-137">For more information, see [Connect Tasks and Containers by Using a Default Precedence Constraint](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md).</span></span>  
  
4.  <span data-ttu-id="21701-138">Задайте параметры контейнера «цикл по элементам».</span><span class="sxs-lookup"><span data-stu-id="21701-138">Configure the For Loop container.</span></span> <span data-ttu-id="21701-139">Дополнительные сведения см. в разделе [Настройка контейнера «цикл по элементам»](../../2014/integration-services/configure-a-for-loop-container.md).</span><span class="sxs-lookup"><span data-stu-id="21701-139">For more information, see [Configure a For Loop Container](../../2014/integration-services/configure-a-for-loop-container.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="21701-140">См. также:</span><span class="sxs-lookup"><span data-stu-id="21701-140">See Also</span></span>  
 <span data-ttu-id="21701-141">[Добавление или удаление задачи или контейнера в потоке управления](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) </span><span class="sxs-lookup"><span data-stu-id="21701-141">[Add or Delete a Task or a Container in a Control Flow](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) </span></span>  
 <span data-ttu-id="21701-142">[Группирование или разгруппирование компонентов](group-or-ungroup-components.md) </span><span class="sxs-lookup"><span data-stu-id="21701-142">[Group or Ungroup Components](group-or-ungroup-components.md) </span></span>  
 <span data-ttu-id="21701-143">[Подключение задач и контейнеров с помощью управления очередностью по умолчанию](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md) </span><span class="sxs-lookup"><span data-stu-id="21701-143">[Connect Tasks and Containers by Using a Default Precedence Constraint](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md) </span></span>  
 <span data-ttu-id="21701-144">[Добавить перечисление в поток управления](../../2014/integration-services/add-enumeration-to-a-control-flow.md) </span><span class="sxs-lookup"><span data-stu-id="21701-144">[Add Enumeration to a Control Flow](../../2014/integration-services/add-enumeration-to-a-control-flow.md) </span></span>  
 [<span data-ttu-id="21701-145">Поток управления</span><span class="sxs-lookup"><span data-stu-id="21701-145">Control Flow</span></span>](control-flow/control-flow.md)  
  
  

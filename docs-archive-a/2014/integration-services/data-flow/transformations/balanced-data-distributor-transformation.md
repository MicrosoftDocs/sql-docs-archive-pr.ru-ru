---
title: Преобразование сбалансированного распределителя данных | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.balanceddatadistributor.f1
ms.assetid: ae0b33dd-f44b-42df-b6f6-69861770ce10
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 09591013bc1f21659720fa9fec2e94167be93a1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658932"
---
# <a name="balanced-data-distributor-transformation"></a><span data-ttu-id="69ffc-102">Преобразование распространителя сбалансированных данных</span><span class="sxs-lookup"><span data-stu-id="69ffc-102">Balanced Data Distributor Transformation</span></span>
  <span data-ttu-id="69ffc-103">В процессе преобразования распространителя сбалансированных данных (BDD) используются возможности параллельной обработки современных процессоров.</span><span class="sxs-lookup"><span data-stu-id="69ffc-103">The Balanced Data Distributor (BDD) transformation takes advantage of concurrent processing capability of modern CPUs.</span></span> <span data-ttu-id="69ffc-104">Оно равномерно распределяет буферы входящих строк по отдельным потокам.</span><span class="sxs-lookup"><span data-stu-id="69ffc-104">It distributes buffers of incoming rows uniformly across outputs on separate threads.</span></span> <span data-ttu-id="69ffc-105">С помощью отдельных потоков пути для каждого пути вывода компонент BDD улучшает производительность пакета служб SSIS на многоядерных и мультипроцессорных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="69ffc-105">By using separate threads for each output path, the BDD component improves the performance of an SSIS package on multi-core or multi-processor machines.</span></span> <span data-ttu-id="69ffc-106">Компонент BDD является частью пакета дополнительных компонентов для [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="69ffc-106">The BDD component is part of the Feature Pack for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="69ffc-107">Скачайте и установите приложение [отсюда](https://go.microsoft.com/fwlink/p/?LinkId=391999).</span><span class="sxs-lookup"><span data-stu-id="69ffc-107">Download and install it from [here](https://go.microsoft.com/fwlink/p/?LinkId=391999).</span></span>  
  
 <span data-ttu-id="69ffc-108">На следующей диаграмме показан простой пример использования преобразования BDD.</span><span class="sxs-lookup"><span data-stu-id="69ffc-108">The following diagram shows a simple example of using the BDD transformation.</span></span> <span data-ttu-id="69ffc-109">В этом примере преобразование BDD выбирает один буфер конвейера из входных данных неструктурированного файла и отправляет его в один из трех путей вывода в ходе циклического перебора.</span><span class="sxs-lookup"><span data-stu-id="69ffc-109">In this example, the BDD transformation picks one pipeline buffer at a time from the input data from a flat file source and sends it down one of the three output paths in a round robin fashion.</span></span> <span data-ttu-id="69ffc-110">В SQL Server Data Tools можно проверить значения параметров <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.MainPipeClass.DefaultBufferSize%2A>(размер буфера конвейера по умолчанию) и <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.MainPipeClass.DefaultBufferMaxRows%2A>(максимальное количество строк в буфере конвейера по умолчанию) в окне **Свойства** задачи потока данных.</span><span class="sxs-lookup"><span data-stu-id="69ffc-110">In SQL Server Data Tools, you can check the values of a <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.MainPipeClass.DefaultBufferSize%2A>(default size of the pipeline buffer) and <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.MainPipeClass.DefaultBufferMaxRows%2A>(default maximum number of rows in a pipeline buffer) in the **Properties** window displaying properties of a data flow task.</span></span>  
  
 <span data-ttu-id="69ffc-111">![Сбалансированный распределитель данных](../../media/balanceddatadistributor.JPG "Распространитель сбалансированных данных")</span><span class="sxs-lookup"><span data-stu-id="69ffc-111">![Balanced Data Distributor](../../media/balanceddatadistributor.JPG "Balanced Data Distributor")</span></span>  
  
 <span data-ttu-id="69ffc-112">Преобразование BDD повышает производительность пакета в случае, когда удовлетворяются следующие условия.</span><span class="sxs-lookup"><span data-stu-id="69ffc-112">The Balanced Data Distributor transformation helps improve performance of a package in a scenario that satisfies the following conditions:</span></span>  
  
1.  <span data-ttu-id="69ffc-113">Большие объемы данных поступают в преобразование BDD.</span><span class="sxs-lookup"><span data-stu-id="69ffc-113">There is large amount of data coming into the BDD transformation.</span></span> <span data-ttu-id="69ffc-114">Если размер данных небольшой и содержать данные может только один буфер, то нет смысла использовать преобразование BDD.</span><span class="sxs-lookup"><span data-stu-id="69ffc-114">If the data size is small and only one buffer can hold the data, there is no point in using the BDD transformation.</span></span> <span data-ttu-id="69ffc-115">Если объем данных большой и для содержания данных нужно несколько буферов, BDD может эффективно параллельно обрабатывать буферы данных с помощью отдельных потоков.</span><span class="sxs-lookup"><span data-stu-id="69ffc-115">If the data size is large and several buffers are required to hold the data, BDD can efficiently process buffers of data in parallel by using separate threads.</span></span>  
  
2.  <span data-ttu-id="69ffc-116">Данные могут быть считаны с более высокой скоростью, чем скорость их обработки в потоке данных.</span><span class="sxs-lookup"><span data-stu-id="69ffc-116">The data can be read faster than the rest of the data flow can process it.</span></span> <span data-ttu-id="69ffc-117">В этом случае преобразования, выполняемые на данных, по сравнению со скоростью поступления данных работают медленнее.</span><span class="sxs-lookup"><span data-stu-id="69ffc-117">In this scenario, the transformations that are performed on the data run slowly compared to the rate at which data is coming.</span></span> <span data-ttu-id="69ffc-118">Если узким местом является место назначения, то следует параллелизовать именно его.</span><span class="sxs-lookup"><span data-stu-id="69ffc-118">If the bottleneck is at the destination, the destination must be parallelizable though.</span></span>  
  
3.  <span data-ttu-id="69ffc-119">Данные могут быть не упорядоченными.</span><span class="sxs-lookup"><span data-stu-id="69ffc-119">The data does not need to be ordered.</span></span> <span data-ttu-id="69ffc-120">Например, если данные должны оставаться отсортированными, следует разделить их с помощью преобразования BDD.</span><span class="sxs-lookup"><span data-stu-id="69ffc-120">For example, if the data needs to stay sorted, you should not split the data using the BDD transformation.</span></span>  
  
 <span data-ttu-id="69ffc-121">Обратите внимание, что если узкое место производительности в пакете служб SSIS возникает из-за скорости считывания данных из источника, то компонент BDD не поможет повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="69ffc-121">Note that if the bottleneck in an SSIS package is due to the rate at which data can be read from the source, the BDD component does not help improve the performance.</span></span> <span data-ttu-id="69ffc-122">Если узкое место в пакете служб SSIS возникает из-за того, что целевое назначение не поддерживает параллелизм, то применение BDD бесполезно. Однако можно выполнять все преобразования параллельно и использовать преобразование Union All для объединения выходных данных, поступающих из различных путей вывода преобразования BDD, до их отправки в пункт назначения.</span><span class="sxs-lookup"><span data-stu-id="69ffc-122">If the bottleneck in an SSIS package is because the destination does not support parallelism, the BDD does not help; however, you can perform all the transformations in parallel and use the Union All transformation to combine the output data coming out of different output paths of the BDD transformation before sending the data to the destination.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="69ffc-123"> См. в видеоролике [Распространитель сбалансированных данных](https://go.microsoft.com/fwlink/?LinkID=226278) библиотеки TechNet демонстрацию использования преобразования.</span><span class="sxs-lookup"><span data-stu-id="69ffc-123">See the [Balanced Data Distributor video](https://go.microsoft.com/fwlink/?LinkID=226278) on the TechNet Library for a presentation with a demo on using the transformation.</span></span>  
  
  

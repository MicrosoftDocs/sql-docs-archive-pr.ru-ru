---
title: Преобразование "Уточняющий запрос" | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.lookuptrans.f1
helpviewer_keywords:
- Lookup transformation
- joining columns [Integration Services]
- cache [Integration Services]
- match exactly [Integration Services]
- lookups [Integration Services]
- exact matches [Integration Services]
ms.assetid: de1cc8de-e7af-4727-b5a5-a1f0a739aa09
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 567c5d95c2ee7c15ea5c541f7fe2010d46ba36f5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667313"
---
# <a name="lookup-transformation"></a><span data-ttu-id="9f555-102">Преобразование «Уточняющий запрос»</span><span class="sxs-lookup"><span data-stu-id="9f555-102">Lookup Transformation</span></span>
  <span data-ttu-id="9f555-103">Преобразование «Уточняющий запрос» выполняет уточняющие запросы, объединяя данные во входных столбцах со столбцами в ссылочном наборе данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-103">The Lookup transformation performs lookups by joining data in input columns with columns in a reference dataset.</span></span> <span data-ttu-id="9f555-104">Уточняющие запросы используются для доступа к дополнительной информации в связанной таблице, основанной на значениях в общих столбцах.</span><span class="sxs-lookup"><span data-stu-id="9f555-104">You use the lookup to access additional information in a related table that is based on values in common columns.</span></span>  
  
 <span data-ttu-id="9f555-105">Эталонным набором данных может быть файл кэша, существующая таблица или представление, новая таблица или результат SQL-запроса.</span><span class="sxs-lookup"><span data-stu-id="9f555-105">The reference dataset can be a cache file, an existing table or view, a new table, or the result of an SQL query.</span></span> <span data-ttu-id="9f555-106">Преобразование «Уточняющий запрос» использует для подключения к эталонному набору данных диспетчер соединений OLE DB или диспетчер соединений с кэшем.</span><span class="sxs-lookup"><span data-stu-id="9f555-106">The Lookup transformation uses either an OLE DB connection manager or a Cache connection manager to connect to the reference dataset.</span></span> <span data-ttu-id="9f555-107">Дополнительные сведения см. в разделах [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md) и [Cache Connection Manager](../../connection-manager/cache-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-107">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md) and [Cache Connection Manager](../../connection-manager/cache-connection-manager.md)</span></span>  
  
 <span data-ttu-id="9f555-108">Можно настроить преобразование «Уточняющий запрос» следующими способами.</span><span class="sxs-lookup"><span data-stu-id="9f555-108">You can configure the Lookup transformation in the following ways:</span></span>  
  
-   <span data-ttu-id="9f555-109">Выбрать необходимый диспетчер соединений.</span><span class="sxs-lookup"><span data-stu-id="9f555-109">Select the connection manager that you want to use.</span></span> <span data-ttu-id="9f555-110">Если необходимо подключится к базе данных, выберите диспетчер соединений OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9f555-110">If you want to connect to a database, select an OLE DB connection manager.</span></span> <span data-ttu-id="9f555-111">Если необходимо подключится к файлу кэша, выберите диспетчер соединений с кэшем.</span><span class="sxs-lookup"><span data-stu-id="9f555-111">If you want to connect to a cache file, select a Cache connection manager.</span></span>  
  
-   <span data-ttu-id="9f555-112">Указать таблицу или представление, содержащие эталонный набор данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-112">Specify the table or view that contains the reference dataset.</span></span>  
  
-   <span data-ttu-id="9f555-113">Создать эталонный набор данных, указав инструкцию SQL.</span><span class="sxs-lookup"><span data-stu-id="9f555-113">Generate a reference dataset by specifying an SQL statement.</span></span>  
  
-   <span data-ttu-id="9f555-114">Указать соединения между входом и эталонным набором данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-114">Specify joins between the input and the reference dataset.</span></span>  
  
-   <span data-ttu-id="9f555-115">Добавить столбцы из эталонного набора данных к выходу преобразования «Уточняющий запрос».</span><span class="sxs-lookup"><span data-stu-id="9f555-115">Add columns from the reference dataset to the Lookup transformation output.</span></span>  
  
-   <span data-ttu-id="9f555-116">Настроить параметры кэширования.</span><span class="sxs-lookup"><span data-stu-id="9f555-116">Configure the caching options.</span></span>  
  
 <span data-ttu-id="9f555-117">Преобразование «Уточняющий запрос» поддерживает следующие поставщики базы данных для диспетчера соединений OLE DB:</span><span class="sxs-lookup"><span data-stu-id="9f555-117">The Lookup transformation supports the following database providers for the OLE DB connection manager:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]  
  
-   <span data-ttu-id="9f555-118">Oracle;</span><span class="sxs-lookup"><span data-stu-id="9f555-118">Oracle</span></span>  
  
-   <span data-ttu-id="9f555-119">DB2</span><span class="sxs-lookup"><span data-stu-id="9f555-119">DB2</span></span>  
  
 <span data-ttu-id="9f555-120">Преобразование «Уточняющий запрос» пытается выполнить эквивалентное соединение значений на входе преобразования и значений в эталонном наборе данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-120">The Lookup transformation tries to perform an equi-join between values in the transformation input and values in the reference dataset.</span></span> <span data-ttu-id="9f555-121">Эквивалентное соединение означает, что каждая строка на входе преобразования должна соответствовать, по крайней мере, одной строке из эталонного набора данных. Если эквивалентное соединение невозможно, преобразование «Уточняющий запрос» выполняет одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="9f555-121">(An equi-join means that each row in the transformation input must match at least one row from the reference dataset.) If an equi-join is not possible, the Lookup transformation takes one of the following actions:</span></span>  
  
-   <span data-ttu-id="9f555-122">Если в эталонном наборе данных не существует совпадающих записей, то соединения не происходит.</span><span class="sxs-lookup"><span data-stu-id="9f555-122">If there is no matching entry in the reference dataset, no join occurs.</span></span> <span data-ttu-id="9f555-123">По умолчанию преобразование «Уточняющий запрос» обрабатывает все строки без совпадающих записей как ошибки.</span><span class="sxs-lookup"><span data-stu-id="9f555-123">By default, the Lookup transformation treats rows without matching entries as errors.</span></span> <span data-ttu-id="9f555-124">Однако можно настроить преобразование «Уточняющий запрос» так, чтобы эти строки перенаправлялись на выход несовпадающих строк.</span><span class="sxs-lookup"><span data-stu-id="9f555-124">However, you can configure the Lookup transformation to redirect such rows to a no match output.</span></span> <span data-ttu-id="9f555-125">Дополнительные сведения см. в разделах [Редактор преобразования "Уточняющий запрос" (страница "Общие")](../../lookup-transformation-editor-general-page.md) и [Редактор преобразования "Уточняющий запрос" (страница "Вывод ошибок")](../../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-125">For more information, see [Lookup Transformation Editor &#40;General Page&#41;](../../lookup-transformation-editor-general-page.md) and [Lookup Transformation Editor &#40;Error Output Page&#41;](../../lookup-transformation-editor-error-output-page.md).</span></span>  
  
-   <span data-ttu-id="9f555-126">Если в ссылочной таблице содержится несколько соответствующих записей, преобразование «Уточняющий запрос» возвращает только первое соответствие, возвращаемое уточняющим запросом.</span><span class="sxs-lookup"><span data-stu-id="9f555-126">If there are multiple matches in the reference table, the Lookup transformation returns only the first match returned by the lookup query.</span></span> <span data-ttu-id="9f555-127">Если было найдено несколько совпадений, преобразование «Уточняющий запрос» формирует ошибку или предупреждение только в том случае, если оно было настроено для загрузки всего эталонного набора данных в кэш.</span><span class="sxs-lookup"><span data-stu-id="9f555-127">If multiple matches are found, the Lookup transformation generates an error or warning only when the transformation has been configured to load all the reference dataset into the cache.</span></span> <span data-ttu-id="9f555-128">В этом случае преобразование «Уточняющий запрос» формирует ошибку, если оно обнаруживает несколько совпадений во время заполнения кэша.</span><span class="sxs-lookup"><span data-stu-id="9f555-128">In this case, the Lookup transformation generates a warning when the transformation detects multiple matches as the transformation fills the cache.</span></span>  
  
 <span data-ttu-id="9f555-129">Соединение может быть составным. Это значит, что можно объединить несколько столбцов на входе преобразования со столбцами в эталонном наборе данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-129">The join can be a composite join, which means that you can join multiple columns in the transformation input to columns in the reference dataset.</span></span> <span data-ttu-id="9f555-130">Преобразование поддерживает соединение столбцов с любыми типами данных, кроме DT_R4, DT_R8, DT_TEXT, DT_NTEXT и DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="9f555-130">The transformation supports join columns with any data type, except for DT_R4, DT_R8, DT_TEXT, DT_NTEXT, or DT_IMAGE.</span></span> <span data-ttu-id="9f555-131">Дополнительные сведения см. в разделе [Integration Services Data Types](../integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-131">For more information, see [Integration Services Data Types](../integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="9f555-132">Обычно значения из эталонного набора данных добавляются к выходу преобразования.</span><span class="sxs-lookup"><span data-stu-id="9f555-132">Typically, values from the reference dataset are added to the transformation output.</span></span> <span data-ttu-id="9f555-133">Например, преобразование «Уточняющий запрос» может извлечь название продукта из таблицы, используя значение из входного столбца, затем добавить название продукта в выход преобразования.</span><span class="sxs-lookup"><span data-stu-id="9f555-133">For example, the Lookup transformation can extract a product name from a table using a value from an input column, and then add the product name to the transformation output.</span></span> <span data-ttu-id="9f555-134">Значения из ссылочной таблицы могут заменить значения столбца или могут быть добавлены в новый столбец.</span><span class="sxs-lookup"><span data-stu-id="9f555-134">The values from the reference table can replace column values or can be added to new columns.</span></span>  
  
 <span data-ttu-id="9f555-135">Уточняющие запросы выполняются преобразованием «Уточняющие запросы» с учетом регистра.</span><span class="sxs-lookup"><span data-stu-id="9f555-135">The lookups performed by the Lookup transformation are case sensitive.</span></span> <span data-ttu-id="9f555-136">Чтобы избежать сбоев поиска, вызванных различиями регистра в данных, можно предварительно преобразовать данные в верхний или нижний регистр с помощью преобразования «Таблица символов».</span><span class="sxs-lookup"><span data-stu-id="9f555-136">To avoid lookup failures that are caused by case differences in data, first use the Character Map transformation to convert the data to uppercase or lowercase.</span></span> <span data-ttu-id="9f555-137">Затем следует включить функции UPPER или LOWER в инструкцию SQL, создающую ссылочную таблицу.</span><span class="sxs-lookup"><span data-stu-id="9f555-137">Then, include the UPPER or LOWER functions in the SQL statement that generates the reference table.</span></span> <span data-ttu-id="9f555-138">Дополнительные сведения см. в разделах [Преобразование "Таблица символов"](character-map-transformation.md), [UPPER (Transact-SQL)](/sql/t-sql/functions/upper-transact-sql) и [LOWER (Transact-SQL)](/sql/t-sql/functions/lower-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9f555-138">For more information, see [Character Map Transformation](character-map-transformation.md), [UPPER &#40;Transact-SQL&#41;](/sql/t-sql/functions/upper-transact-sql), and [LOWER &#40;Transact-SQL&#41;](/sql/t-sql/functions/lower-transact-sql).</span></span>  
  
 <span data-ttu-id="9f555-139">Преобразование «Уточняющий запрос» имеет следующие входы и выходы.</span><span class="sxs-lookup"><span data-stu-id="9f555-139">The Lookup transformation has the following inputs and outputs:</span></span>  
  
-   <span data-ttu-id="9f555-140">Вход.</span><span class="sxs-lookup"><span data-stu-id="9f555-140">Input.</span></span>  
  
-   <span data-ttu-id="9f555-141">Выход совпадающих строк.</span><span class="sxs-lookup"><span data-stu-id="9f555-141">Match output.</span></span> <span data-ttu-id="9f555-142">Выход совпадающих строк обрабатывает строки во входе преобразования, которые не совпадают, по крайней мере, с одной из записей ссылочного набора данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-142">The match output handles the rows in the transformation input that match at least one entry in the reference dataset.</span></span>  
  
-   <span data-ttu-id="9f555-143">Выход несовпадающих строк.</span><span class="sxs-lookup"><span data-stu-id="9f555-143">No Match output.</span></span> <span data-ttu-id="9f555-144">Выход несовпадающих строк обрабатывает строки во входе, которые не совпадают ни с одной записью эталонного набора данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-144">The no match output handles rows in the input that do not match at least one entry in the reference dataset.</span></span> <span data-ttu-id="9f555-145">Если преобразование «Уточняющий запрос» было настроено для обработки строк без совпадающих записей как ошибок, строки будут перенаправлены в вывод ошибок на выходе.</span><span class="sxs-lookup"><span data-stu-id="9f555-145">If you configure the Lookup transformation to treat the rows without matching entries as errors, the rows are redirected to the error output.</span></span> <span data-ttu-id="9f555-146">В противном случае преобразование перенаправит эти строки в выход несовпадающих строк.</span><span class="sxs-lookup"><span data-stu-id="9f555-146">Otherwise, the transformation would redirect those rows to the no match output.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9f555-147">В службах [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)] у преобразования «Уточняющий запрос» только один выход.</span><span class="sxs-lookup"><span data-stu-id="9f555-147">In [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)], the Lookup transformation had only one output.</span></span> <span data-ttu-id="9f555-148">Дополнительные сведения о выполнении преобразования «Уточняющий запрос», созданного в [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] , см. в разделе [Обновление преобразований «Уточняющий запрос](../../../sql-server/install/upgrade-lookup-transformations.md)».</span><span class="sxs-lookup"><span data-stu-id="9f555-148">For more information about how to run a Lookup transformation that was created in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], see [Upgrade Lookup Transformations](../../../sql-server/install/upgrade-lookup-transformations.md).</span></span>  
  
-   <span data-ttu-id="9f555-149">Вывод ошибок на выходе.</span><span class="sxs-lookup"><span data-stu-id="9f555-149">Error output.</span></span>  
  
## <a name="caching-the-reference-dataset"></a><span data-ttu-id="9f555-150">Кэширование эталонного набора данных</span><span class="sxs-lookup"><span data-stu-id="9f555-150">Caching the Reference Dataset</span></span>  
 <span data-ttu-id="9f555-151">В кэше в памяти хранится эталонный набор данных и хэш-таблица, индексирующая данные.</span><span class="sxs-lookup"><span data-stu-id="9f555-151">An in-memory cache stores the reference dataset and stores a hash table that indexes the data.</span></span> <span data-ttu-id="9f555-152">Кэш остается в памяти, пока не завершится выполнение пакета.</span><span class="sxs-lookup"><span data-stu-id="9f555-152">The cache remains in memory until the execution of the package is completed.</span></span> <span data-ttu-id="9f555-153">Можно сохранить кэш в кэш-файле (CAW).</span><span class="sxs-lookup"><span data-stu-id="9f555-153">You can persist the cache to a cache file (.caw).</span></span>  
  
 <span data-ttu-id="9f555-154">Если кэш был сохранен в файл, система загружает его быстрее.</span><span class="sxs-lookup"><span data-stu-id="9f555-154">When you persist the cache to a file, the system loads the cache faster.</span></span> <span data-ttu-id="9f555-155">Это повышает производительность преобразования «Уточняющий запрос» и пакета.</span><span class="sxs-lookup"><span data-stu-id="9f555-155">This improves the performance of the Lookup transformation and the package.</span></span> <span data-ttu-id="9f555-156">Помните, что при использовании кэш-файла работа идет с данными, которые менее актуальны, чем данные в базе данных.</span><span class="sxs-lookup"><span data-stu-id="9f555-156">Remember, that when you use a cache file, you are working with data that is not as current as the data in the database.</span></span>  
  
 <span data-ttu-id="9f555-157">Сохранение кэша в файл имеет следующие преимущества.</span><span class="sxs-lookup"><span data-stu-id="9f555-157">The following are additional benefits of persisting the cache to a file:</span></span>  
  
-   <span data-ttu-id="9f555-158">***Совместное использование файла кэша несколькими пакетами. Дополнительные сведения см в разделе***  [Реализация преобразования "Уточняющий запрос" в режиме полного кэширования с помощью преобразования диспетчера соединений с кэшем](../../connection-manager/lookup-transformation-full-cache-mode-cache-connection-manager.md)  ***.***</span><span class="sxs-lookup"><span data-stu-id="9f555-158">***Share the cache file between multiple packages. For more information, see***  [Implement a Lookup Transformation in Full Cache Mode Using the Cache Connection Manager](../../connection-manager/lookup-transformation-full-cache-mode-cache-connection-manager.md)  ***.***</span></span>  
  
-   <span data-ttu-id="9f555-159">Развертывание кэш-файла с пакетом.</span><span class="sxs-lookup"><span data-stu-id="9f555-159">Deploy the cache file with a package.</span></span> <span data-ttu-id="9f555-160">***Затем эти данные можно использовать на нескольких компьютерах.***</span><span class="sxs-lookup"><span data-stu-id="9f555-160">***You can then use the data on multiple computers.***</span></span> <span data-ttu-id="9f555-161">Дополнительные сведения см. в разделе [Создание или развертывание кэша для преобразования "Уточняющий запрос"](create-and-deploy-a-cache-for-the-lookup-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-161">For more information, see [Create and Deploy a Cache for the Lookup Transformation](create-and-deploy-a-cache-for-the-lookup-transformation.md).</span></span>  
  
-   <span data-ttu-id="9f555-162">Чтобы считывать данные из кэш-файла можно использовать источник «Необработанный файл».</span><span class="sxs-lookup"><span data-stu-id="9f555-162">Use the Raw File source to read data from the cache file.</span></span> <span data-ttu-id="9f555-163">Затем можно использовать другие компоненты потока данных, чтобы преобразовать или переместить данные.</span><span class="sxs-lookup"><span data-stu-id="9f555-163">You can then use other data flow components to transform or move the data.</span></span> <span data-ttu-id="9f555-164">Дополнительные сведения см. в статье [Raw File Source](../raw-file-source.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-164">For more information, see [Raw File Source](../raw-file-source.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9f555-165">Диспетчер соединений с кэшем не поддерживает кэш-файлы, которые были созданы или изменены с помощью назначения «Необработанный файл».</span><span class="sxs-lookup"><span data-stu-id="9f555-165">The Cache connection manager does not support cache files that are created or modified by using the Raw File destination.</span></span>  
  
-   <span data-ttu-id="9f555-166">Чтобы совершать операции и задавать атрибуты кэш-файлов, можно использовать задачу «Файловая система».</span><span class="sxs-lookup"><span data-stu-id="9f555-166">Perform operations and set attributes on the cache file by using the File System task.</span></span> <span data-ttu-id="9f555-167">Дополнительные сведения см. в разделе [File System Task](../../control-flow/file-system-task.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-167">For more information, see and [File System Task](../../control-flow/file-system-task.md).</span></span>  
  
 <span data-ttu-id="9f555-168">Далее приводятся режимы кэширования.</span><span class="sxs-lookup"><span data-stu-id="9f555-168">The following are the caching options:</span></span>  
  
-   <span data-ttu-id="9f555-169">Эталонный набор данных создается с помощью таблицы, представления или SQL-запроса и загружается в кэш до запуска преобразования «Уточняющий запрос».</span><span class="sxs-lookup"><span data-stu-id="9f555-169">The reference dataset is generated by using a table, view, or SQL query and loaded into cache, before the Lookup transformation runs.</span></span> <span data-ttu-id="9f555-170">Для доступа к набору данных можно использовать диспетчер соединений OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9f555-170">You use the OLE DB connection manager to access the dataset.</span></span>  
  
     <span data-ttu-id="9f555-171">Этот режим кэширования совместим с параметром полного кэширования, доступным для преобразования «Уточняющий запрос» в службах [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9f555-171">This caching option is compatible with the full caching option that is available for the Lookup transformation in [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)].</span></span>  
  
-   <span data-ttu-id="9f555-172">Эталонный набор данных создается с помощью подключенного источника данных в потоке данных или с помощью кэш-файла, а затем загружается в кэш до выполнения преобразования «Уточняющий запрос».</span><span class="sxs-lookup"><span data-stu-id="9f555-172">The reference dataset is generated from a connected data source in the data flow or from a cache file, and is loaded into cache before the Lookup transformation runs.</span></span> <span data-ttu-id="9f555-173">Для доступа к набору данных можно использовать диспетчер соединений с кэшем и, дополнительно, преобразование «Кэш».</span><span class="sxs-lookup"><span data-stu-id="9f555-173">You use the Cache connection manager, and, optionally, the Cache transformation, to access the dataset.</span></span> <span data-ttu-id="9f555-174">Дополнительные сведения см. в разделах [Cache Connection Manager](../../connection-manager/cache-connection-manager.md) и [Cache Transform](cache-transform.md).</span><span class="sxs-lookup"><span data-stu-id="9f555-174">For more information, see [Cache Connection Manager](../../connection-manager/cache-connection-manager.md) and [Cache Transform](cache-transform.md).</span></span>  
  
-   <span data-ttu-id="9f555-175">Создание эталонного набора данных производится по таблице, представлению или SQL-запросу во время выполнения преобразования «Уточняющий запрос».</span><span class="sxs-lookup"><span data-stu-id="9f555-175">The reference dataset is generated by using a table, view, or SQL query during the execution of the Lookup transformation.</span></span> <span data-ttu-id="9f555-176">Строки с совпадающими записями в эталонном наборе данных и строки без совпадающих записей в наборе данных загружаются в кэш.</span><span class="sxs-lookup"><span data-stu-id="9f555-176">The rows with matching entries in the reference dataset and the rows without matching entries in the dataset are loaded into cache.</span></span>  
  
     <span data-ttu-id="9f555-177">Когда превышается объем памяти кэша, преобразование «Уточняющий запрос» автоматически удаляет из кэша строки, которые используются реже всего.</span><span class="sxs-lookup"><span data-stu-id="9f555-177">When the memory size of the cache is exceeded, the Lookup transformation automatically removes the least frequently used rows from the cache.</span></span>  
  
     <span data-ttu-id="9f555-178">Этот режим кэширования совместим с параметром частичного кэширования, доступным для преобразования «Уточняющий запрос» в службах [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9f555-178">This caching option is compatible with the partial caching option that is available for the Lookup transformation in [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)].</span></span>  
  
-   <span data-ttu-id="9f555-179">Создание эталонного набора данных производится по таблице, представлению или SQL-запросу во время выполнения преобразования «Уточняющий запрос».</span><span class="sxs-lookup"><span data-stu-id="9f555-179">The reference dataset is generated by using a table, view, or SQL query during the execution of the Lookup transformation.</span></span> <span data-ttu-id="9f555-180">Данные не кэшируются.</span><span class="sxs-lookup"><span data-stu-id="9f555-180">No data is cached.</span></span>  
  
     <span data-ttu-id="9f555-181">Этот режим кэширования совместим с параметром отсутствия кэширования, доступным для преобразования «Уточняющий запрос» в службах [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9f555-181">This caching option is compatible with the no caching option that is available for the Lookup transformation in [!INCLUDE[ssISversion2005](../../../includes/ssisversion2005-md.md)].</span></span>  
  
 [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] <span data-ttu-id="9f555-182">и [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] различается способ сравнения строк.</span><span class="sxs-lookup"><span data-stu-id="9f555-182">and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] differ in the way they compare strings.</span></span> <span data-ttu-id="9f555-183">Если преобразование «Уточняющий запрос» было настроено для загрузки эталонного набора данных в кэш до своего запуска, службы [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] проводят сравнение уточняющего запроса в кэше.</span><span class="sxs-lookup"><span data-stu-id="9f555-183">If the Lookup transformation is configured to load the reference dataset into cache before the Lookup transformation runs, [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] does the lookup comparison in the cache.</span></span> <span data-ttu-id="9f555-184">В противном случае операция уточняющего запроса использует параметризованную инструкцию SQL, а [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] производит сравнение уточняющего запроса.</span><span class="sxs-lookup"><span data-stu-id="9f555-184">Otherwise, the lookup operation uses a parameterized SQL statement and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does the lookup comparison.</span></span> <span data-ttu-id="9f555-185">Это означает, что преобразование «Уточняющий запрос» может возвращать различное количество результатов поиска из одной и той же таблицы подстановки в зависимости от типа кэша.</span><span class="sxs-lookup"><span data-stu-id="9f555-185">This means that the Lookup transformation might return a different number of matches from the same lookup table depending on the cache type.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="9f555-186">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="9f555-186">Related Tasks</span></span>  
 <span data-ttu-id="9f555-187">Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../../includes/ssis-md.md)] или программными средствами.</span><span class="sxs-lookup"><span data-stu-id="9f555-187">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span> <span data-ttu-id="9f555-188">Дополнительные сведения см. в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="9f555-188">For more details, see the following topics.</span></span>  
  
-   [<span data-ttu-id="9f555-189">Реализация уточняющего запроса в режиме «Частичное кэширование» или «Без кэширования»</span><span class="sxs-lookup"><span data-stu-id="9f555-189">Implement a Lookup in No Cache or Partial Cache Mode</span></span>](implement-a-lookup-in-no-cache-or-partial-cache-mode.md)  
  
-   [<span data-ttu-id="9f555-190">Реализация преобразования "Уточняющий запрос" в режиме полного кэширования с помощью преобразования диспетчера соединений с кэшем</span><span class="sxs-lookup"><span data-stu-id="9f555-190">Implement a Lookup Transformation in Full Cache Mode Using the Cache Connection Manager</span></span>](../../connection-manager/lookup-transformation-full-cache-mode-cache-connection-manager.md)  
  
-   [<span data-ttu-id="9f555-191">Реализация преобразования «Уточняющий запрос» в режиме полного кэширования с помощью диспетчера соединений OLE DB</span><span class="sxs-lookup"><span data-stu-id="9f555-191">Implement a Lookup Transformation in Full Cache Mode Using the OLE DB Connection Manager</span></span>](../../connection-manager/lookup-transformation-full-cache-mode-ole-db-connection-manager.md)  
  
-   [<span data-ttu-id="9f555-192">Установление свойств компонента потока данных</span><span class="sxs-lookup"><span data-stu-id="9f555-192">Set the Properties of a Data Flow Component</span></span>](../set-the-properties-of-a-data-flow-component.md)  
  
## <a name="related-content"></a><span data-ttu-id="9f555-193">См. также</span><span class="sxs-lookup"><span data-stu-id="9f555-193">Related Content</span></span>  
  
-   <span data-ttu-id="9f555-194">Видеоролик [Как реализовать преобразование «Уточняющий запрос» в режиме полного кэширования](https://go.microsoft.com/fwlink/?LinkId=131031)на сайте msdn.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="9f555-194">Video, [How to: Implement a Lookup Transformation in Full Cache Mode](https://go.microsoft.com/fwlink/?LinkId=131031), on msdn.microsoft.com</span></span>  
  
-   <span data-ttu-id="9f555-195">Запись в блоге, [Рекомендации по использованию режимов кэширования для преобразования «Уточняющий запрос»](https://go.microsoft.com/fwlink/?LinkId=146623), на сайте blogs.msdn.com</span><span class="sxs-lookup"><span data-stu-id="9f555-195">Blog entry, [Best Practices for Using the Lookup Transformation Cache Modes](https://go.microsoft.com/fwlink/?LinkId=146623), on blogs.msdn.com</span></span>  
  
-   <span data-ttu-id="9f555-196">Запись в блоге [Шаблон уточняющего запроса: без учета регистра символов](https://go.microsoft.com/fwlink/?LinkId=157782)на сайте blogs.msdn.com</span><span class="sxs-lookup"><span data-stu-id="9f555-196">Blog entry, [Lookup Pattern: Case Insensitive](https://go.microsoft.com/fwlink/?LinkId=157782), on blogs.msdn.com</span></span>  
  
-   <span data-ttu-id="9f555-197">Образец, [Преобразование «Уточняющий запрос»](https://go.microsoft.com/fwlink/?LinkId=267528), на сайте msftisprodsamples.codeplex.com.</span><span class="sxs-lookup"><span data-stu-id="9f555-197">Sample, [Lookup Transformation](https://go.microsoft.com/fwlink/?LinkId=267528), on msftisprodsamples.codeplex.com.</span></span>  
  
     <span data-ttu-id="9f555-198">Дополнительные сведения об установке образцов продукта и баз данных служб [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] см. в разделе [Образцы продукта служб SQL Server Integration Services](https://go.microsoft.com/fwlink/?LinkId=267527).</span><span class="sxs-lookup"><span data-stu-id="9f555-198">For information on installing [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] product samples and sample databases, see [SQL Server Integration Services Product Samples](https://go.microsoft.com/fwlink/?LinkId=267527).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9f555-199">См. также:</span><span class="sxs-lookup"><span data-stu-id="9f555-199">See Also</span></span>  
 <span data-ttu-id="9f555-200">[Преобразование "Нечеткий уточняющий запрос"](fuzzy-lookup-transformation.md) </span><span class="sxs-lookup"><span data-stu-id="9f555-200">[Fuzzy Lookup Transformation](fuzzy-lookup-transformation.md) </span></span>  
 <span data-ttu-id="9f555-201">[Преобразование «Уточняющий запрос термина»](term-lookup-transformation.md) </span><span class="sxs-lookup"><span data-stu-id="9f555-201">[Term Lookup Transformation](term-lookup-transformation.md) </span></span>  
 <span data-ttu-id="9f555-202">[Поток данных](../data-flow.md) </span><span class="sxs-lookup"><span data-stu-id="9f555-202">[Data Flow](../data-flow.md) </span></span>  
 [<span data-ttu-id="9f555-203">Преобразования служб Integration Services</span><span class="sxs-lookup"><span data-stu-id="9f555-203">Integration Services Transformations</span></span>](integration-services-transformations.md)  
  
  

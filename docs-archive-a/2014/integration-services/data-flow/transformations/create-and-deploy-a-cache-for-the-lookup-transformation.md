---
title: Создание или развертывание кэша для преобразования "Уточняющий запрос" | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- creating cache files for Lookup transformation
- deploying cache files for Lookup transformation
- Lookup transformation cache files
ms.assetid: cedf5cad-2fac-42d0-ad91-9461e117d330
author: chugugrace
ms.author: chugu
ms.openlocfilehash: b33b00b84f1f1448c2ee80882aedc3a330ba0a5a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654414"
---
# <a name="create-and-deploy-a-cache-for-the-lookup-transformation"></a>Создание или развертывание кэша для преобразования «Уточняющий запрос»
  Можно создать и развернуть файл кэша (CAW) для преобразования «Уточняющий запрос». Эталонный набор данных хранится в файле кэша.  
  
 Преобразование «Уточняющий запрос» выполняет уточняющие запросы, соединяя данные из входных столбцов подключенного источника данных и данные из столбцов в эталонном наборе данных.  
  
 Файл кэша создается с помощью диспетчера соединений с кэшем и преобразования «Преобразование кэша». Дополнительные сведения см. в разделах [Cache Connection Manager](../../connection-manager/cache-connection-manager.md) и [Cache Transform](cache-transform.md).  
  
 Дополнительные сведения о преобразовании «Уточняющий запрос» и файлах кэша см. в разделе [Lookup Transformation](lookup-transformation.md).  
  
### <a name="to-create-a-cache-file"></a>Создание файла кэша  
  
1.  В среде [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)]откройте проект [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] , содержащий необходимый пакет, и затем откройте пакет.  
  
2.  На вкладке **Поток управления** добавьте задачу потока данных.  
  
3.  На вкладке **Поток данных** добавьте преобразование «Преобразование кэша» к потоку данных, а затем подключите преобразование к источнику данных.  
  
     При необходимости настройте источник данных.  
  
4.  Дважды щелкните "Преобразование кэша", а затем в окне **Редактор преобразований кэша**на странице **Диспетчер соединений** щелкните **Создать** , чтобы создать новый диспетчер соединений с кэшем.  
  
5.  В окне **Редактор диспетчера соединений с кэшем**на вкладке **Общее** настройте конфигурацию диспетчера соединений с кэшем, чтобы сохранить кэш, выбрав следующие параметры.  
  
    1.  Выберите **Использовать кэш файлов**.  
  
    2.  В поле **Имя файла**введите путь к файлу.  
  
     Файл создается системой при выполнении пакета.  
  
    > [!NOTE]  
    >  Уровень защиты пакета не применяется к кэшируемому файлу. Если кэшируемый файл содержит важные данные, используйте список управления доступом (ACL), чтобы запретить доступ к расположению или папке, в которой хранится файл. Доступ следует разрешать только определенным учетным записям. Дополнительные сведения см. в разделе [Доступ к файлам, используемым пакетами](../../access-to-files-used-by-packages.md).  
  
6.  Перейдите на вкладку **Столбцы** , а затем задайте, какие столбцы будут столбцами индекса, с помощью параметра **Позиция индекса** .  
  
     Для неиндексированных столбцов позиция индекса равна 0. Для индексированных столбцов позиция индекса является положительным порядковым номером.  
  
    > [!NOTE]  
    >  Если преобразование «Уточняющий запрос» настроено для использования диспетчера соединений с кэшем, то только индексированные столбцы в ссылочном наборе данных могут быть сопоставлены с входными столбцами. Кроме того, все столбцы индекса должны быть сопоставлены.  
  
     Дополнительные сведения см. в разделе [Cache Connection Manager Editor](../../cache-connection-manager-editor.md).  
  
7.  При необходимости настройте преобразование кэша.  
  
     Дополнительные сведения см. в разделах [Редактор преобразования "Кэш" (страница "Диспетчер соединений")](../../cache-transformation-editor-connection-manager-page.md) и [Редактор преобразования "Кэш" (страница "Сопоставления")](../../cache-transformation-editor-mappings-page.md).  
  
8.  Запустите пакет.  
  
### <a name="to-deploy-a-cache-file"></a>Развертывание файла кэша  
  
1.  В среде [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)]откройте проект [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] , содержащий необходимый пакет, и затем откройте пакет.  
  
2.  При необходимости создайте конфигурацию пакета. Дополнительные сведения см. в разделе [Создание конфигурации пакетов](../../create-package-configurations.md).  
  
3.  Добавьте файл кэша к проекту, выполнив следующие действия.  
  
    1.  В обозревателе решений выберите проект, который был открыт в шаге 1.  
  
    2.  В меню **Проект** выберите пункт **Добавить существующий элемент**.  
  
    3.  Выберите файл кэша и нажмите кнопку **Добавить**.  
  
     Файл появится в папке **Разное** в обозревателе решений.  
  
4.  Настройте проект для создания программы развертывания, а затем постройте проект. Дополнительные сведения см. в статье [Create a Deployment Utility](../../create-a-deployment-utility.md).  
  
     Создается файл манифеста \<*project name*>.SSISDeploymentManifest.xml, в котором перечисляются различные файлы в проекте, пакеты и конфигурации пакетов.  
  
5.  Развертывание пакета в файловой системе. Дополнительные сведения см. в статье [Deploy Packages by Using the Deployment Utility](../../deploy-packages-by-using-the-deployment-utility.md).  
  
## <a name="see-also"></a>См. также:  
 [Создание программы развертывания](../../create-a-deployment-utility.md)  
  
  

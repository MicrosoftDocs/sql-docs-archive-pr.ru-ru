---
title: Настройка выходов с помощью мастера медленно изменяющихся измерений | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Slowly Changing Dimension transformation
- slowly changing dimensions
- Slowly Changing Dimension Wizard
ms.assetid: da111731-1ffa-49b9-bcaa-3c93fd0eb619
author: chugugrace
ms.author: chugu
ms.openlocfilehash: f6ec3dfb34de8eb7e20b255ce485ee506f070749
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665462"
---
# <a name="configure-outputs-using-the-slowly-changing-dimension-wizard"></a><span data-ttu-id="39af2-102">Настройка выходов при помощи мастера медленно изменяющихся измерений</span><span class="sxs-lookup"><span data-stu-id="39af2-102">Configure Outputs Using the Slowly Changing Dimension Wizard</span></span>
  <span data-ttu-id="39af2-103">Мастер медленно изменяющихся измерений выполняет функции редактора преобразования «Медленно изменяющиеся измерения».</span><span class="sxs-lookup"><span data-stu-id="39af2-103">The Slowly Changing Dimension Wizard functions as the editor for the Slowly Changing Dimension transformation.</span></span> <span data-ttu-id="39af2-104">Построение и настройка потока данных для данных медленно изменяющегося измерения может оказаться сложной задачей.</span><span class="sxs-lookup"><span data-stu-id="39af2-104">Building and configuring the data flow for slowly changing dimension data can be a complex task.</span></span> <span data-ttu-id="39af2-105">С помощью мастера медленно изменяющихся измерений легко создавать поток данных для выходов преобразования «Медленно изменяющиеся измерения», руководствуясь шагами по сопоставлению столбцов, выбору столбцов с бизнес-ключами, заданию атрибутов изменения столбцов и настройке поддержки выводимого элемента измерения.</span><span class="sxs-lookup"><span data-stu-id="39af2-105">The Slowly Changing Dimension Wizard offers the simplest method of building the data flow for the Slowly Changing Dimension transformation outputs by guiding you through the steps of mapping columns, selecting business key columns, setting column change attributes, and configuring support for inferred dimension members.</span></span>

 <span data-ttu-id="39af2-106">Необходимо выбрать хотя бы один ключевой бизнес-столбец в таблице измерения и сопоставить его с входным столбцом.</span><span class="sxs-lookup"><span data-stu-id="39af2-106">You must choose at least one business key column in the dimension table and map it to an input column.</span></span> <span data-ttu-id="39af2-107">Значения данных столбцов бизнес-ключей связывают записи источника с записями таблицы измерения.</span><span class="sxs-lookup"><span data-stu-id="39af2-107">The value of the business key links a record in the source to a record in the dimension table.</span></span> <span data-ttu-id="39af2-108">Данное сопоставление используется преобразованием для обнаружения записи в таблице измерения, а также для определения, является ли данная запись новой или меняющейся.</span><span class="sxs-lookup"><span data-stu-id="39af2-108">The transformation uses this mapping to locate the record in the dimension table and to determine whether a record is new or changing.</span></span> <span data-ttu-id="39af2-109">Бизнес-ключ обычно является первичным ключом источника, однако он может являться и резервным ключом в том случае, если однозначно определяет запись, а его значение не меняется.</span><span class="sxs-lookup"><span data-stu-id="39af2-109">The business key is typically the primary key in the source, but it can be an alternate key as long as it uniquely identifies a record and its value does not change.</span></span> <span data-ttu-id="39af2-110">Бизнес-ключ также может являться составным ключом, состоящим из нескольких столбцов.</span><span class="sxs-lookup"><span data-stu-id="39af2-110">The business key can also be a composite key, consisting of multiple columns.</span></span> <span data-ttu-id="39af2-111">Первичный ключ таблицы измерений обычно является суррогатным ключом — числовым значением, автоматически формируемым столбцом идентификаторов либо пользовательским решением, например скриптом.</span><span class="sxs-lookup"><span data-stu-id="39af2-111">The primary key in the dimension table is usually a surrogate key, which means a numeric value generated automatically by an identity column or by a custom solution such as a script.</span></span>

 <span data-ttu-id="39af2-112">Прежде чем запустить мастер медленно изменяющихся измерений, к потоку данных необходимо добавить источник и преобразование «Медленно изменяющиеся измерения», а затем соединить выход источника с входом преобразования.</span><span class="sxs-lookup"><span data-stu-id="39af2-112">Before you can run the Slowly Changing Dimension Wizard, you must add a source and a Slowly Changing Dimension transformation to the data flow, and then connect the output from the source to the input of the Slowly Changing Dimension transformation.</span></span> <span data-ttu-id="39af2-113">В случае необходимости поток данных может включать другие преобразования между источником данных и преобразованием «Медленно изменяющиеся измерения».</span><span class="sxs-lookup"><span data-stu-id="39af2-113">Optionally, the data flow can include other transformations between the data source and the Slowly Changing Dimension transformation.</span></span>

 <span data-ttu-id="39af2-114">Чтобы открыть мастер медленно изменяющихся измерений в конструкторе служб [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , дважды щелкните преобразование "Медленно изменяющиеся измерения".</span><span class="sxs-lookup"><span data-stu-id="39af2-114">To open the Slowly Changing Dimension Wizard in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, double-click the Slowly Changing Dimension transformation.</span></span>

## <a name="creating-slowly-changing-dimension-outputs"></a><span data-ttu-id="39af2-115">Создание выходов медленно изменяющегося измерения</span><span class="sxs-lookup"><span data-stu-id="39af2-115">Creating Slowly Changing Dimension Outputs</span></span>

#### <a name="to-create-slowly-changing-dimension-transformation-outputs"></a><span data-ttu-id="39af2-116">Создание выходов преобразования «Медленно изменяющиеся измерения»</span><span class="sxs-lookup"><span data-stu-id="39af2-116">To create Slowly Changing Dimension transformation outputs</span></span>

1.  <span data-ttu-id="39af2-117">Выберите диспетчер соединений для доступа к источнику данных, содержащему таблицу измерения, которую необходимо обновить.</span><span class="sxs-lookup"><span data-stu-id="39af2-117">Choose the connection manager to access the data source that contains the dimension table that you want to update.</span></span>

     <span data-ttu-id="39af2-118">Можно выбрать диспетчер соединений из списка, входящего в пакет.</span><span class="sxs-lookup"><span data-stu-id="39af2-118">You can select from a list of connection managers that the package includes.</span></span>

2.  <span data-ttu-id="39af2-119">Выберите таблицу измерения или представление, которое необходимо обновить.</span><span class="sxs-lookup"><span data-stu-id="39af2-119">Choose the dimension table or view you want to update.</span></span>

     <span data-ttu-id="39af2-120">После выбора диспетчера соединений можно выбрать таблицу или представление источника данных.</span><span class="sxs-lookup"><span data-stu-id="39af2-120">After you select the connection manager, you can select the table or view from the data source.</span></span>

3.  <span data-ttu-id="39af2-121">Установите ключевые атрибуты для столбцов, а также сопоставьте входные столбцы со столбцами таблицы измерения.</span><span class="sxs-lookup"><span data-stu-id="39af2-121">Set key attributes on columns and map input columns to columns in the dimension table.</span></span>

     <span data-ttu-id="39af2-122">Необходимо выбрать хотя бы один ключевой бизнес-столбец в таблице измерения и сопоставить его с входным столбцом.</span><span class="sxs-lookup"><span data-stu-id="39af2-122">You must choose at least one business key column in the dimension table and map it to an input column.</span></span> <span data-ttu-id="39af2-123">Остальные входные столбцы могут быть сопоставлены со столбцами таблицы измерения без сопоставления ключей.</span><span class="sxs-lookup"><span data-stu-id="39af2-123">Other input columns can be mapped to columns in the dimension table as non-key mappings.</span></span>

4.  <span data-ttu-id="39af2-124">Выберите тип изменения для каждого столбца.</span><span class="sxs-lookup"><span data-stu-id="39af2-124">Choose the change type for each column.</span></span>

    -   <span data-ttu-id="39af2-125">Тип**Изменяемый атрибут** производит перезапись существующих значений в записях.</span><span class="sxs-lookup"><span data-stu-id="39af2-125">**Changing attribute** overwrites existing values in records.</span></span>

    -   <span data-ttu-id="39af2-126">Тип**Атрибут с предысторией** производит создание новых записей.</span><span class="sxs-lookup"><span data-stu-id="39af2-126">**Historical attribute** creates new records instead of updating existing records.</span></span>

    -   <span data-ttu-id="39af2-127">Тип**Атрибут неизменности** означает, что значение элементов столбца не должно меняться.</span><span class="sxs-lookup"><span data-stu-id="39af2-127">**Fixed attribute** indicates that the column value must not change.</span></span>

5.  <span data-ttu-id="39af2-128">Задать параметры для неизменяемых и изменяемых атрибутов.</span><span class="sxs-lookup"><span data-stu-id="39af2-128">Set fixed and changing attribute options.</span></span>

     <span data-ttu-id="39af2-129">При установке столбцам типа изменения **Атрибут неизменности** можно задать, чтобы в преобразовании «Медленно изменяющееся измерение» возникал сбой при обнаружении изменений в данных столбцах.</span><span class="sxs-lookup"><span data-stu-id="39af2-129">If you configure columns to use the **Fixed attribute** change type, you can specify whether the Slowly Changing Dimension transformation fails when changes are detected in these columns.</span></span> <span data-ttu-id="39af2-130">При установке столбцам типа изменения **Изменяемый атрибут** можно указать, чтобы обновлялись все совпадающие записи, включая устаревшие записи.</span><span class="sxs-lookup"><span data-stu-id="39af2-130">If you configure columns to use the **Changing attribute** change type, you can specify whether all matching records, including outdated records, are updated.</span></span>

6.  <span data-ttu-id="39af2-131">Установка параметров атрибутов с предысторией.</span><span class="sxs-lookup"><span data-stu-id="39af2-131">Set historical attribute options.</span></span>

     <span data-ttu-id="39af2-132">При установке столбцам типа изменения **Атрибут с предысторией** необходимо выбрать способ отличия текущих и устаревших записей.</span><span class="sxs-lookup"><span data-stu-id="39af2-132">If you configure columns to use the **Historical attribute** change type, you must choose how to distinguish between current and expired records.</span></span> <span data-ttu-id="39af2-133">Для отличия текущих и устаревших записей используется столбец-признак текущей строки или два столбца с датами.</span><span class="sxs-lookup"><span data-stu-id="39af2-133">You can use a current row indicator column or two date columns to identify current and expired rows.</span></span> <span data-ttu-id="39af2-134">При использовании столбца-признака текущей строки необходимо присваивать ему значение **Current**или **True** , если запись еще не устарела. В противном случае столбцу необходимо присваивать значение **Expired** или **False** .</span><span class="sxs-lookup"><span data-stu-id="39af2-134">If you use the current row indicator column, you can set it to **Current**, **True** when current and **Expired,** or **False** when expired.</span></span> <span data-ttu-id="39af2-135">Также можно задавать пользовательские значения.</span><span class="sxs-lookup"><span data-stu-id="39af2-135">You can also enter custom values.</span></span> <span data-ttu-id="39af2-136">При использовании двух столбцов с начальной и конечной датой можно задавать их значения как вручную, так и сохраняя значение соответствующей системной переменной.</span><span class="sxs-lookup"><span data-stu-id="39af2-136">If you use two date columns, a start date and an end date, you can specify the date to use when setting the date column values by typing a date or by selecting a system variable and then using its value.</span></span>

7.  <span data-ttu-id="39af2-137">Задайте поддержку выводимых элементов и выберите столбцы, содержащиеся в записи выводимых элементов.</span><span class="sxs-lookup"><span data-stu-id="39af2-137">Specify support for inferred members and choose the columns that the inferred member record contains.</span></span>

     <span data-ttu-id="39af2-138">При загрузке мер в таблицу фактов можно создавать предварительные записи для еще не существующих выводимых элементов.</span><span class="sxs-lookup"><span data-stu-id="39af2-138">When loading measures into a fact table, you can create minimal records for inferred members that do not yet exist.</span></span> <span data-ttu-id="39af2-139">Далее, при получении значащих данных записи измерений могут быть обновлены.</span><span class="sxs-lookup"><span data-stu-id="39af2-139">Later, when meaningful data is available, the dimension records can be updated.</span></span> <span data-ttu-id="39af2-140">Могут быть созданы предварительные записи следующих типов:</span><span class="sxs-lookup"><span data-stu-id="39af2-140">The following types of minimal records can be created:</span></span>

    -   <span data-ttu-id="39af2-141">Запись, в которой все столбцы с типами изменения пусты.</span><span class="sxs-lookup"><span data-stu-id="39af2-141">A record in which all columns with change types are null.</span></span>

    -   <span data-ttu-id="39af2-142">Запись, в которой логический столбец показывает, что она является выводимым элементом.</span><span class="sxs-lookup"><span data-stu-id="39af2-142">A record in which a Boolean column indicates the record is an inferred member.</span></span>

8.  <span data-ttu-id="39af2-143">Просмотрите конфигурации, созданные мастером медленно изменяющихся измерений.</span><span class="sxs-lookup"><span data-stu-id="39af2-143">Review the configurations that the Slowly Changing Dimension Wizard builds.</span></span> <span data-ttu-id="39af2-144">В зависимости от поддерживаемых типов изменений к пакету добавляются различные наборы компонентов потока данных.</span><span class="sxs-lookup"><span data-stu-id="39af2-144">Depending on which change types are supported, different sets of data flow components are added to the package.</span></span>

     <span data-ttu-id="39af2-145">На представленной ниже диаграмме показан пример потока данных, поддерживающего изменения атрибутов неизменности, изменяемых атрибутов и атрибутов с предысторией, выводимые элементы, а также изменения совпадающих записей.</span><span class="sxs-lookup"><span data-stu-id="39af2-145">The following diagram shows an example of a data flow that supports fixed attribute, changing attribute, and historical attribute changes, inferred members, and changes to matching records.</span></span>

     <span data-ttu-id="39af2-146">![Поток данных из мастера медленно меняющихся измерений](../../media/dimensionwizard.gif "Поток данных из мастера медленно меняющихся измерений")</span><span class="sxs-lookup"><span data-stu-id="39af2-146">![Data flow from Slowly Changing Dimension Wizard](../../media/dimensionwizard.gif "Data flow from Slowly Changing Dimension Wizard")</span></span>

## <a name="updating-slowly-changing-dimension-outputs"></a><span data-ttu-id="39af2-147">Обновление выходов медленно изменяющегося измерения</span><span class="sxs-lookup"><span data-stu-id="39af2-147">Updating Slowly Changing Dimension Outputs</span></span>
 <span data-ttu-id="39af2-148">Чтобы обновить конфигурацию выходов преобразования «Медленно изменяющиеся измерения», вернитесь в мастер медленно изменяющихся измерений и измените свойства на его страницах.</span><span class="sxs-lookup"><span data-stu-id="39af2-148">The simplest way to update the configuration of the Slowly Changing Dimension transformation outputs is to rerun the Slowly Changing Dimension Wizard and modify properties from the wizard pages.</span></span> <span data-ttu-id="39af2-149">Также преобразование «Медленно изменяющееся измерение» можно обновить с помощью диалогового окна **Расширенный редактор** или программно.</span><span class="sxs-lookup"><span data-stu-id="39af2-149">You can also update the Slowly Changing Dimension transformation using the **Advanced Editor** dialog box or programmatically.</span></span>

## <a name="see-also"></a><span data-ttu-id="39af2-150">См. также:</span><span class="sxs-lookup"><span data-stu-id="39af2-150">See Also</span></span>
 [<span data-ttu-id="39af2-151">Преобразование "Медленно изменяющееся измерение"</span><span class="sxs-lookup"><span data-stu-id="39af2-151">Slowly Changing Dimension Transformation</span></span>](slowly-changing-dimension-transformation.md)



---
title: XML-источник | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.xmlsource.f1
helpviewer_keywords:
- sources [Integration Services], XML
- XML source [Integration Services]
- XML Source Editor
ms.assetid: 68c27ea5-e93d-4e26-bfb2-d967ca0a5282
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d13a1bf01729932eaa6b232ac7839d2e3001f5fe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87667289"
---
# <a name="xml-source"></a><span data-ttu-id="67c0e-102">XML-источник</span><span class="sxs-lookup"><span data-stu-id="67c0e-102">XML Source</span></span>
  <span data-ttu-id="67c0e-103">XML-источник считывает файл XML-данных и заполняет данными столбцы в выходе источника.</span><span class="sxs-lookup"><span data-stu-id="67c0e-103">The XML source reads an XML data file and populates the columns in the source output with the data.</span></span>  
  
 <span data-ttu-id="67c0e-104">Данные в XML-файлах часто содержат иерархические связи.</span><span class="sxs-lookup"><span data-stu-id="67c0e-104">The data in XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="67c0e-105">Например, XML-файл данных может представлять собой каталоги и элементы этих каталогов.</span><span class="sxs-lookup"><span data-stu-id="67c0e-105">For example, an XML data file can represent catalogs and items in catalogs.</span></span> <span data-ttu-id="67c0e-106">Перед включением данных в поток связь элементов в XML-файле должна быть определена и должен быть создан выход для каждого элемента файла.</span><span class="sxs-lookup"><span data-stu-id="67c0e-106">Before the data can enter the data flow, the relationship of the elements in XML data file must be determined, and an output must be generated for each element in the file.</span></span>  
  
## <a name="schemas"></a><span data-ttu-id="67c0e-107">Схемы</span><span class="sxs-lookup"><span data-stu-id="67c0e-107">Schemas</span></span>  
 <span data-ttu-id="67c0e-108">XML-источник использует схему для представления данных в формате XML.</span><span class="sxs-lookup"><span data-stu-id="67c0e-108">The XML source uses a schema to interpret the XML data.</span></span> <span data-ttu-id="67c0e-109">XML-источник поддерживает использование файла определения схемы XML (XSD) или встроенных схем для перевода данных из формата XML в табличный формат.</span><span class="sxs-lookup"><span data-stu-id="67c0e-109">The XML source supports use of a XML Schema Definition (XSD) file or inline schemas to translate the XML data into a tabular format.</span></span> <span data-ttu-id="67c0e-110">XML-источник может быть настроен с помощью диалогового окна **Редактор источника «XML»** , интерфейс пользователя может создавать XSD-файл из указанного файла XML-данных.</span><span class="sxs-lookup"><span data-stu-id="67c0e-110">If you configure the XML source by using the **XML Source Editor** dialog box, the user interface can generate an XSD from the specified XML data file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="67c0e-111">Определения DTD не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="67c0e-111">DTDs are not supported.</span></span>  
  
 <span data-ttu-id="67c0e-112">Схемы поддерживают только одно пространство имен, они не поддерживают коллекции схем.</span><span class="sxs-lookup"><span data-stu-id="67c0e-112">The schemas can support a single namespace only; they do not support schema collections.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="67c0e-113">XML-источник не сверяет данные в XML-файле с XSD.</span><span class="sxs-lookup"><span data-stu-id="67c0e-113">The XML source does not validate the data in the XML file against the XSD.</span></span>  
  
## <a name="xml-source-editor"></a><span data-ttu-id="67c0e-114">редактор источника «XML»</span><span class="sxs-lookup"><span data-stu-id="67c0e-114">XML Source Editor</span></span>  
 <span data-ttu-id="67c0e-115">Данные в XML-файлах часто содержат иерархические отношения.</span><span class="sxs-lookup"><span data-stu-id="67c0e-115">The data in the XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="67c0e-116">Диалоговое окно **Редактор источника «XML»** использует указанную схему для создания выходов XML-источника.</span><span class="sxs-lookup"><span data-stu-id="67c0e-116">The **XML Source Editor** dialog box uses the specified schema to generate the XML source outputs.</span></span> <span data-ttu-id="67c0e-117">Можно указать XSD-файл, использовать встроенную схему или создать XSD-файл из предоставленного файла XML-данных.</span><span class="sxs-lookup"><span data-stu-id="67c0e-117">You can specify an XSD file, use an inline schema, or generate an XSD from the specified XML data file.</span></span> <span data-ttu-id="67c0e-118">Схема должна быть доступна во время редактирования.</span><span class="sxs-lookup"><span data-stu-id="67c0e-118">The schema must be available at design time.</span></span>  
  
 <span data-ttu-id="67c0e-119">XML-источник создает табличные структуры из XML-данных путем создания выхода для каждого элемента, который содержит вложенные элементы в XML-файлах.</span><span class="sxs-lookup"><span data-stu-id="67c0e-119">The XML source generates tabular structures from the XML data by creating an output for every element that contains other elements in the XML files.</span></span> <span data-ttu-id="67c0e-120">Например, если XML-данные представляют собой каталоги и их элементы, XML-источник создает выход для каталогов и выход для каждого типа элемента, содержащегося в этих каталогах.</span><span class="sxs-lookup"><span data-stu-id="67c0e-120">For example, if the XML data represents catalogs and items in catalogs, the XML source creates an output for catalogs and an output for each type of item that the catalogs contain.</span></span> <span data-ttu-id="67c0e-121">Выход каждого элемента будет содержать выходные столбцы с атрибутами этого элемента.</span><span class="sxs-lookup"><span data-stu-id="67c0e-121">The output of each item will contain output columns for the attributes of that item.</span></span>  
  
 <span data-ttu-id="67c0e-122">Чтобы предоставить сведения об иерархической связи данных в выходах, XML-источник добавляет в выходы столбец, который определяет родительский элемент для каждого дочернего элемента.</span><span class="sxs-lookup"><span data-stu-id="67c0e-122">To provide information about the hierarchical relationship of the data in the outputs, the XML source adds a column in the outputs that identifies the parent element for each child element.</span></span> <span data-ttu-id="67c0e-123">Используя пример с каталогами с разными типами элементов, каждый элемент будет иметь значение столбца, в котором определен каталог, к которому принадлежит этот элемент.</span><span class="sxs-lookup"><span data-stu-id="67c0e-123">Using the example of catalogs with different types of items, each item would have a column value that identifies the catalog to which it belongs.</span></span>  
  
 <span data-ttu-id="67c0e-124">XML-источник создает выход для каждого элемента, но не обязательно использовать все выходы.</span><span class="sxs-lookup"><span data-stu-id="67c0e-124">The XML source creates an output for every element, but it is not required that you use all the outputs.</span></span> <span data-ttu-id="67c0e-125">Можно удалить любой выход, который не будет использован, или просто не подключать его к компоненту нисходящего потока данных.</span><span class="sxs-lookup"><span data-stu-id="67c0e-125">You can delete any output that you do not want to use, or just not connect it to a downstream component.</span></span>  
  
 <span data-ttu-id="67c0e-126">XML-источник также создает имена выходов, чтобы убедиться в том, что эти имена однозначны.</span><span class="sxs-lookup"><span data-stu-id="67c0e-126">The XML source also generates the output names, to ensure that the names are unambiguous.</span></span> <span data-ttu-id="67c0e-127">Эти имена могут быть длинными и оказаться неудобными для идентификации выходов.</span><span class="sxs-lookup"><span data-stu-id="67c0e-127">These names may be long and may not identify the outputs in a way that is useful to you.</span></span> <span data-ttu-id="67c0e-128">Выходы можно переименовывать с условием уникальности новых имен.</span><span class="sxs-lookup"><span data-stu-id="67c0e-128">You can rename the outputs, as long as their names remain unique.</span></span> <span data-ttu-id="67c0e-129">Также можно изменить тип данных и длину выходных столбцов.</span><span class="sxs-lookup"><span data-stu-id="67c0e-129">You can also modify the data type and the length of output columns.</span></span>  
  
 <span data-ttu-id="67c0e-130">Для каждого выхода XML-источник добавляет выход ошибок.</span><span class="sxs-lookup"><span data-stu-id="67c0e-130">For every output, the XML source adds an error output.</span></span> <span data-ttu-id="67c0e-131">По умолчанию столбцы выхода ошибок имеют строковый тип данных в формате Юникод (DT_WSTR) длиной 255 символов, но эти столбцы выхода ошибок можно настраивать, изменяя тип данных и длину.</span><span class="sxs-lookup"><span data-stu-id="67c0e-131">By default the columns in error outputs have Unicode string data type (DT_WSTR) with a length of 255, but you can configure the columns in the error outputs by modifying their data type and length.</span></span>  
  
 <span data-ttu-id="67c0e-132">Если в XML-файле данных содержатся элементы, которых нет в XSD-файле, то такие элементы игнорируются и никакой выход для них не создается.</span><span class="sxs-lookup"><span data-stu-id="67c0e-132">If the XML data file contains elements that are not in the XSD, these elements are ignored and no output is generated for them.</span></span> <span data-ttu-id="67c0e-133">С другой стороны, если в XML-файле данных нет элементов, которые есть в XSD-файле, выход будет содержать столбцы со значением NULL.</span><span class="sxs-lookup"><span data-stu-id="67c0e-133">On the other hand, if the XML data file is missing elements that are represented in the XSD, the output will contain columns with null values.</span></span>  
  
 <span data-ttu-id="67c0e-134">Когда данные извлекаются из XML-файла данных, они преобразуются в тип данных служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67c0e-134">When the data is extracted from the XML data file, it is converted to an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type.</span></span> <span data-ttu-id="67c0e-135">Однако источник XML не может преобразовать XML-данные в типы данных DT_TIME2 или DT_DBTIMESTAMP2, поскольку источник эти типы не поддерживает.</span><span class="sxs-lookup"><span data-stu-id="67c0e-135">However, the XML source cannot convert the XML data to the DT_TIME2 or DT_DBTIMESTAMP2 data types because the source does not support these data types.</span></span> <span data-ttu-id="67c0e-136">Дополнительные сведения см. в разделе [Integration Services Data Types](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="67c0e-136">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="67c0e-137">XSD-файл или встроенная схема может определять тип данных элементов, но если это не так, то диалоговое окно **Редактор источника "XML"** устанавливает тип данных строки Юникода (DT_WSTR) для столбца выхода, содержащего этот элемент, и устанавливает длину столбца, содержащую 255 символов.</span><span class="sxs-lookup"><span data-stu-id="67c0e-137">The XSD or inline schema may specify the data type for elements, but if it does not, the **XML Source Editor** dialog box assigns the Unicode string data type (DT_WSTR) to the column in the output that contains the element, and sets the column length to 255 characters.</span></span>  
  
 <span data-ttu-id="67c0e-138">Если схема данных указывает максимальную длину элемента, длина выходного столбца становится равной этому значению.</span><span class="sxs-lookup"><span data-stu-id="67c0e-138">If the schema specifies the maximum length of an element, the length of output column is set to this value.</span></span> <span data-ttu-id="67c0e-139">Если максимальная длина больше длины, поддерживаемой типом данных служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , к которому приведен элемент, то данные усекаются до допустимой для этого типа максимальной длины.</span><span class="sxs-lookup"><span data-stu-id="67c0e-139">If the maximum length is greater than the length supported by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type to which the element is converted, then the data is truncated to the maximum length of the data type.</span></span> <span data-ttu-id="67c0e-140">Например, если длина строки 5000, она усекается до 4000 символов, так как максимальная длина типа данных DT_WSTR — 4000 символов; таким же образом данные типа byte урезаются до 8000 — до максимальной длины типа данных DT_BYTES.</span><span class="sxs-lookup"><span data-stu-id="67c0e-140">For example, if a string has a length of 5000, it is truncated to 4000 characters because the maximum length of the DT_WSTR data type is 4000 characters; likewise, byte data is truncated to 8000 characters, the maximum length of the DT_BYTES data type.</span></span> <span data-ttu-id="67c0e-141">Если в схеме не указана максимальная длина, то по умолчанию длина столбцов с любым типом данных составляет 255.</span><span class="sxs-lookup"><span data-stu-id="67c0e-141">If the schema specifies no maximum length, the default length of columns with either data type is set to 255.</span></span> <span data-ttu-id="67c0e-142">Усечение данных в XML-источнике происходит так же, как и в других компонентах потока данных.</span><span class="sxs-lookup"><span data-stu-id="67c0e-142">Data truncation in the XML source is handled the same way as truncation in other data flow components.</span></span> <span data-ttu-id="67c0e-143">Дополнительные сведения см. в разделе [Обработка ошибок в данных](error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="67c0e-143">For more information, see [Error Handling in Data](error-handling-in-data.md).</span></span>  
  
 <span data-ttu-id="67c0e-144">Тип данных и длина столбца могут быть изменены.</span><span class="sxs-lookup"><span data-stu-id="67c0e-144">You can modify the data type and the column length.</span></span> <span data-ttu-id="67c0e-145">Дополнительные сведения см. в разделе [Integration Services Data Types](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="67c0e-145">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
## <a name="configuration-of-the-xml-source"></a><span data-ttu-id="67c0e-146">Конфигурация XML-источника</span><span class="sxs-lookup"><span data-stu-id="67c0e-146">Configuration of the XML Source</span></span>  
 <span data-ttu-id="67c0e-147">XML-источник поддерживает три разных способа доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="67c0e-147">The XML source supports three different data access modes.</span></span> <span data-ttu-id="67c0e-148">Можно указать расположение файла XML-данных, переменную, содержащую расположение этого файла, или же переменную с данными в формате XML.</span><span class="sxs-lookup"><span data-stu-id="67c0e-148">You can specify the file location of the XML data file, the variable that contains the file location, or the variable that contains the XML data.</span></span>  
  
 <span data-ttu-id="67c0e-149">XML-источник содержит пользовательские свойства `XMLData` и `XMLSchemaDefinition`, которые можно обновлять выражениями свойств во время загрузки пакета.</span><span class="sxs-lookup"><span data-stu-id="67c0e-149">The XML source includes the `XMLData` and `XMLSchemaDefinition` custom properties that can be updated by property expressions when the package is loaded.</span></span> <span data-ttu-id="67c0e-150">Дополнительные сведения см. в разделах [Выражения служб Integration Services (SSIS)](../expressions/integration-services-ssis-expressions.md), [Использование выражений свойств в пакетах](../expressions/use-property-expressions-in-packages.md) и [Пользовательские свойства источника "XML"](xml-source-custom-properties.md).</span><span class="sxs-lookup"><span data-stu-id="67c0e-150">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md), [Use Property Expressions in Packages](../expressions/use-property-expressions-in-packages.md), and [XML Source Custom Properties](xml-source-custom-properties.md).</span></span>  
  
 <span data-ttu-id="67c0e-151">XML-источник поддерживает несколько обычных выходов и несколько выходов ошибок.</span><span class="sxs-lookup"><span data-stu-id="67c0e-151">The XML source supports multiple regular outputs and multiple error outputs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="67c0e-152">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] включает диалоговое окно **Редактор источника XML** для настройки этого источника.</span><span class="sxs-lookup"><span data-stu-id="67c0e-152">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes the **XML Source Edito**r dialog box for configuring the XML source.</span></span> <span data-ttu-id="67c0e-153">Это диалоговое окно доступно из конструктора служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67c0e-153">This dialog box is available in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer.</span></span>  
  
 <span data-ttu-id="67c0e-154">Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.</span><span class="sxs-lookup"><span data-stu-id="67c0e-154">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="67c0e-155">Дополнительные сведения о свойствах, которые могут быть заданы в диалоговом окне **Редактор источника «XML»** или программно, см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="67c0e-155">For more information about the properties that you can set in the **XML Source Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="67c0e-156">Редактор источника "XML" (страница "Диспетчер подключений")</span><span class="sxs-lookup"><span data-stu-id="67c0e-156">XML Source Editor &#40;Connection Manager Page&#41;</span></span>](../xml-source-editor-connection-manager-page.md)  
  
-   [<span data-ttu-id="67c0e-157">Редактор источника "XML" (страница "Столбцы")</span><span class="sxs-lookup"><span data-stu-id="67c0e-157">XML Source Editor &#40;Columns Page&#41;</span></span>](../xml-source-editor-columns-page.md)  
  
-   [<span data-ttu-id="67c0e-158">Редактор источника "XML" (страница "Вывод ошибок")</span><span class="sxs-lookup"><span data-stu-id="67c0e-158">XML Source Editor &#40;Error Output Page&#41;</span></span>](../xml-source-editor-error-output-page.md)  
  
 <span data-ttu-id="67c0e-159">Диалоговое окно **Расширенный редактор** содержит свойства, которые можно установить с помощью программных средств.</span><span class="sxs-lookup"><span data-stu-id="67c0e-159">The **Advanced Editor** dialog box reflects the properties that can be set programmatically.</span></span> <span data-ttu-id="67c0e-160">Дополнительные сведения о свойствах, которые вы можете задать в диалоговом окне **Расширенный редактор** или программными средствами, см. в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="67c0e-160">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="67c0e-161">Общие свойства</span><span class="sxs-lookup"><span data-stu-id="67c0e-161">Common Properties</span></span>](../common-properties.md)  
  
-   [<span data-ttu-id="67c0e-162">Пользовательские свойства источника «XML»</span><span class="sxs-lookup"><span data-stu-id="67c0e-162">XML Source Custom Properties</span></span>](xml-source-custom-properties.md)  
  
 <span data-ttu-id="67c0e-163">Дополнительные сведения об установке значений свойств см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="67c0e-163">For more information about how to set the properties, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="67c0e-164">Установление свойств компонента потока данных</span><span class="sxs-lookup"><span data-stu-id="67c0e-164">Set the Properties of a Data Flow Component</span></span>](set-the-properties-of-a-data-flow-component.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="67c0e-165">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="67c0e-165">Related Tasks</span></span>  
 [<span data-ttu-id="67c0e-166">Извлечение данных с помощью XML-источника</span><span class="sxs-lookup"><span data-stu-id="67c0e-166">Extract Data by Using the XML Source</span></span>](xml-source.md)  
  
## <a name="related-content"></a><span data-ttu-id="67c0e-167">См. также</span><span class="sxs-lookup"><span data-stu-id="67c0e-167">Related Content</span></span>  
 <span data-ttu-id="67c0e-168">Техническая статья [Использование XML-файла для настройки пакета служб SSIS](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="67c0e-168">Technical article, [Using an XML file to configure an SSIS package](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span></span>  
  
  

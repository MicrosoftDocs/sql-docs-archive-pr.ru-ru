---
title: Пакеты балансировки нагрузки на удаленном сервере с использованием агента SQL Server | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- load-balancing [Integration Services]
- parent packages [Integration Services]
- SQL Server Agent [Integration Services]
ms.assetid: 9281c5f8-8da3-4ae8-8142-53c5919a4cfe
author: chugugrace
ms.author: chugu
ms.openlocfilehash: ea7b132d8cf86d2f211da25989df937d0db34ab2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665412"
---
# <a name="load-balancing-packages-on-remote-servers-by-using-sql-server-agent"></a><span data-ttu-id="40f63-102">Пакеты балансировки нагрузки на удаленном сервере с использованием агента SQL Server</span><span class="sxs-lookup"><span data-stu-id="40f63-102">Load-Balancing Packages on Remote Servers by Using SQL Server Agent</span></span>
  <span data-ttu-id="40f63-103">Если нужно загрузить много пакетов, удобно использовать другие доступные серверы.</span><span class="sxs-lookup"><span data-stu-id="40f63-103">When many packages have to be run, it is convenient to use other servers that are available.</span></span> <span data-ttu-id="40f63-104">Балансировка нагрузки — это метод использования других серверов для загрузки пакетов, когда пакеты находятся под контролем родительского пакета.</span><span class="sxs-lookup"><span data-stu-id="40f63-104">This method of using other servers to run packages when the packages are all under the control of one parent package is called load balancing.</span></span> <span data-ttu-id="40f63-105">В службах [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] балансировка нагрузки — это ручная процедура, которая должна быть разработана владельцами пакетов.</span><span class="sxs-lookup"><span data-stu-id="40f63-105">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], load balancing is a manual procedure that must be architected by the owners of the packages.</span></span> <span data-ttu-id="40f63-106">Балансировка нагрузки не выполняется серверами автоматически.</span><span class="sxs-lookup"><span data-stu-id="40f63-106">Load balancing is not performed automatically by the servers.</span></span> <span data-ttu-id="40f63-107">Кроме того, пакеты, выполняемые на удаленных серверах, должны быть полными, а не отдельными задачами из других пакетов.</span><span class="sxs-lookup"><span data-stu-id="40f63-107">Also, the packages that are run on the remote servers must be whole packages, not individual tasks in other packages.</span></span>  
  
 <span data-ttu-id="40f63-108">Балансировка нагрузки полезна в следующих случаях.</span><span class="sxs-lookup"><span data-stu-id="40f63-108">Load balancing is useful in the following scenarios:</span></span>  
  
-   <span data-ttu-id="40f63-109">Пакеты могут запускаться одновременно.</span><span class="sxs-lookup"><span data-stu-id="40f63-109">Packages can run at the same time.</span></span>  
  
-   <span data-ttu-id="40f63-110">Пакеты большие, и их последовательное выполнение может занять больше времени, чем выделено на их обработку.</span><span class="sxs-lookup"><span data-stu-id="40f63-110">Packages are large and, if run sequentially, can run longer than the time allowed for processing.</span></span>  
  
 <span data-ttu-id="40f63-111">Администраторы и архитекторы должны определить эффективность использования дополнительных серверов.</span><span class="sxs-lookup"><span data-stu-id="40f63-111">Administrators and architects can determine whether using additional servers for processing would benefit their processes.</span></span>  
  
## <a name="illustration-of-load-balancing"></a><span data-ttu-id="40f63-112">Иллюстрация к балансировке нагрузки</span><span class="sxs-lookup"><span data-stu-id="40f63-112">Illustration of Load-Balancing</span></span>  
 <span data-ttu-id="40f63-113">Следующая диаграмма показывает родительский пакет на сервере.</span><span class="sxs-lookup"><span data-stu-id="40f63-113">The following diagram shows a parent package on a server.</span></span> <span data-ttu-id="40f63-114">Родительский пакет содержит несколько задач «Выполнение задания агента SQL Server».</span><span class="sxs-lookup"><span data-stu-id="40f63-114">The parent package contains multiple Execute SQL Job Agent tasks.</span></span> <span data-ttu-id="40f63-115">Каждая задача в родительском пакете вызывает агент SQL Server на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="40f63-115">Each task in the parent package calls a SQL Server Agent on a remote server.</span></span> <span data-ttu-id="40f63-116">Удаленные серверы содержат задания агента SQL Server, которые включают шаги, вызывающие пакет на сервере.</span><span class="sxs-lookup"><span data-stu-id="40f63-116">Those remote servers contain SQL Server Agent jobs that include a step that calls a package on that server.</span></span>  
  
 <span data-ttu-id="40f63-117">![Обзор архитектуры распределения нагрузки в службах SSIS](../media/loadbalancingoverview.gif "Обзор архитектуры распределения нагрузки в службах SSIS")</span><span class="sxs-lookup"><span data-stu-id="40f63-117">![Overview of SSIS load balancing architecture](../media/loadbalancingoverview.gif "Overview of SSIS load balancing architecture")</span></span>  
  
 <span data-ttu-id="40f63-118">Шаги, необходимые для балансировки нагрузки в данной архитектуре, не являются новыми понятиями.</span><span class="sxs-lookup"><span data-stu-id="40f63-118">The steps required for load balancing in this architecture are not new concepts.</span></span> <span data-ttu-id="40f63-119">Напротив, балансировка нагрузки достигнута благодаря использованию существующих основных понятий и общих объектов служб SSIS в новом качестве.</span><span class="sxs-lookup"><span data-stu-id="40f63-119">Instead, load balancing is achieved by using existing concepts and common SSIS objects in a new way.</span></span>  
  
## <a name="execution-of-packages-on-a-remote-instance-by-using-sql-server-agent"></a><span data-ttu-id="40f63-120">Выполнение пакетов на дистанционно расположенном экземпляре с помощью агента SQL Server</span><span class="sxs-lookup"><span data-stu-id="40f63-120">Execution of Packages on a Remote Instance by using SQL Server Agent</span></span>  
 <span data-ttu-id="40f63-121">В базовой архитектуре выполнения удаленных пакетов центральный пакет находится на экземпляре SQL Server, управляющем другими удаленными пакетами.</span><span class="sxs-lookup"><span data-stu-id="40f63-121">In the basic architecture for remote package execution, a central package resides on the instance of SQL Server that controls the other remote packages.</span></span> <span data-ttu-id="40f63-122">Следующая диаграмма представляет центральный пакет с именем «Родитель служб SSIS».</span><span class="sxs-lookup"><span data-stu-id="40f63-122">The diagram shows this central package, named the SSIS Parent.</span></span> <span data-ttu-id="40f63-123">Экземпляр, на котором находится данный родительский пакет, управляет выполнением заданий агента SQL Server, запускающего дочерний пакет.</span><span class="sxs-lookup"><span data-stu-id="40f63-123">The instance where this parent package resides controls execution of the SQL Server Agent jobs that run the child packages.</span></span> <span data-ttu-id="40f63-124">Дочерние пакеты не запускаются согласно установленному расписанию, управляемому агентом SQL Server на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="40f63-124">The child packages are not run according to a fixed schedule controlled by the SQL Server Agent on the remote server.</span></span> <span data-ttu-id="40f63-125">Вместо этого дочерние пакеты запускаются агентом SQL Server, затем вызываются родительским пакетом и запускаются на том же экземпляре SQL Server, на котором находится агент SQL Server.</span><span class="sxs-lookup"><span data-stu-id="40f63-125">Instead, the child packages are started by the SQL Server Agent when called by the parent package and are run on the same instance of SQL Server on which the SQL Server Agent resides.</span></span>  
  
 <span data-ttu-id="40f63-126">Перед тем как запустить удаленный пакет, используя агент SQL Server, нужно сконфигурировать родительские и дочерние пакеты и установить задания агента SQL Server, управляющего дочерними пакетами.</span><span class="sxs-lookup"><span data-stu-id="40f63-126">Before you can run a remote package by using SQL Server Agent, you must configure the parent and child packages and set up the SQL Server Agent jobs that control the child packages.</span></span> <span data-ttu-id="40f63-127">Следующие разделы содержат сведения о том, как создавать, конфигурировать, запускать и обслуживать пакеты на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="40f63-127">The following sections provide more information about how to create, configure, run, and maintain packages that run on remote servers.</span></span> <span data-ttu-id="40f63-128">Для этого нужно сделать следующие несколько шагов.</span><span class="sxs-lookup"><span data-stu-id="40f63-128">There are several steps to this process:</span></span>  
  
-   <span data-ttu-id="40f63-129">Создание дочерних пакетов и установка на удаленных серверах.</span><span class="sxs-lookup"><span data-stu-id="40f63-129">Creating the child packages and installing them on remote servers.</span></span>  
  
-   <span data-ttu-id="40f63-130">Создание заданий агента SQL Server на удаленных экземплярах, которые будут запускать пакеты.</span><span class="sxs-lookup"><span data-stu-id="40f63-130">Creating the SQL Server Agent jobs on the remote instances that will run the packages.</span></span>  
  
-   <span data-ttu-id="40f63-131">Создание родительских пакетов.</span><span class="sxs-lookup"><span data-stu-id="40f63-131">Creating the parent package.</span></span>  
  
-   <span data-ttu-id="40f63-132">Определение сценария ведения журнала для дочерних пакетов.</span><span class="sxs-lookup"><span data-stu-id="40f63-132">Determine the logging scenario for the child packages.</span></span>  
  
 <span data-ttu-id="40f63-133">Следующая таблица содержит ссылки на полезные разделы руководства.</span><span class="sxs-lookup"><span data-stu-id="40f63-133">The following table provides links to topics that guide you through the process.</span></span>  
  
|<span data-ttu-id="40f63-134">Раздел</span><span class="sxs-lookup"><span data-stu-id="40f63-134">Topic</span></span>|<span data-ttu-id="40f63-135">Описание</span><span class="sxs-lookup"><span data-stu-id="40f63-135">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="40f63-136">Реализация дочерних пакетов</span><span class="sxs-lookup"><span data-stu-id="40f63-136">Implementation of Child Packages</span></span>](../implementation-of-child-packages.md)|<span data-ttu-id="40f63-137">Описывает установку пакетов и создание заданий агента SQL Server, запускающих пакеты.</span><span class="sxs-lookup"><span data-stu-id="40f63-137">Describes the installation of packages, and creation of the SQL Server Agent jobs to run the packages.</span></span>|  
|[<span data-ttu-id="40f63-138">Реализация родительского пакета</span><span class="sxs-lookup"><span data-stu-id="40f63-138">Implementation of the Parent Package</span></span>](../implementation-of-the-parent-package.md)|<span data-ttu-id="40f63-139">Описывает, как создать родительский пакет, содержащий несколько задач «Выполнение задания агента SQL Server».</span><span class="sxs-lookup"><span data-stu-id="40f63-139">Describes the creation of the parent package that contains many Execute SQL Server Agent Job tasks.</span></span> <span data-ttu-id="40f63-140">Каждая задача запускает один из дочерних пакетов.</span><span class="sxs-lookup"><span data-stu-id="40f63-140">Each task runs one of the child packages.</span></span>|  
|[<span data-ttu-id="40f63-141">Ведение журнала для пакетов с балансировкой нагрузки на удаленных серверах</span><span class="sxs-lookup"><span data-stu-id="40f63-141">Logging for Load Balanced Packages on Remote Servers</span></span>](../logging-for-load-balanced-packages-on-remote-servers.md)|<span data-ttu-id="40f63-142">Описывает сценарий ведения журнала для удаленных пакетов.</span><span class="sxs-lookup"><span data-stu-id="40f63-142">Describes the logging scenario for the remote packages.</span></span>|  
  
## <a name="related-tasks"></a><span data-ttu-id="40f63-143">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="40f63-143">Related Tasks</span></span>  
 [<span data-ttu-id="40f63-144">Планирование пакета с помощью агент SQL Server</span><span class="sxs-lookup"><span data-stu-id="40f63-144">Schedule a Package by using SQL Server Agent</span></span>](../schedule-a-package-by-using-sql-server-agent.md)  
  
  

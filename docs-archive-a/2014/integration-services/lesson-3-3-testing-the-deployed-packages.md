---
title: Шаг 3. Тестирование развернутых пакетов | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 9159da3f-c9ca-4015-9e85-3bf4373a1349
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d11ae071d97d9fdadec6ee144813c91519b54ea4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658896"
---
# <a name="step-3-testing-the-deployed-packages"></a><span data-ttu-id="12293-102">Шаг 3. Тестирование развернутых пакетов</span><span class="sxs-lookup"><span data-stu-id="12293-102">Step 3: Testing the Deployed Packages</span></span>
  <span data-ttu-id="12293-103">В этой задаче вы проверите пакеты, развернутые на экземпляр [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="12293-103">In this task, you will test the packages that you deployed to an instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span>

 <span data-ttu-id="12293-104">В других учебниках по [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] вы выполняли пакеты в среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], среде разработки для [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]при помощи параметра **Запустить отладку** в меню **Отладка** .</span><span class="sxs-lookup"><span data-stu-id="12293-104">In other [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] tutorials, you ran packages in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], the development environment for [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)], using the **Start Debugging** option on the **Debug** menu.</span></span> <span data-ttu-id="12293-105">В этот раз пакет будет выполнен по-другому.</span><span class="sxs-lookup"><span data-stu-id="12293-105">This time you will run the packages differently.</span></span>

 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]<span data-ttu-id="12293-106">предоставляет несколько средств, которые можно использовать для запуска пакетов в тестовой и рабочей средах: программу командной строки `dtexec` и служебная программа для запуска пакетов.</span><span class="sxs-lookup"><span data-stu-id="12293-106">provides several tools that you can use to run packages in the test and production environment: the command prompt utility `dtexec` and the Execute Package Utility.</span></span> <span data-ttu-id="12293-107">Программа выполнения пакетов — это графическое средство, основанное на программе `dtexec`.</span><span class="sxs-lookup"><span data-stu-id="12293-107">The Execute Package Utility is a graphical tool that is built on `dtexec`.</span></span> <span data-ttu-id="12293-108">Оба эти средства выполняют пакет немедленно.</span><span class="sxs-lookup"><span data-stu-id="12293-108">Both of these tools execute the package immediately.</span></span> <span data-ttu-id="12293-109">Кроме того, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] предоставляет подсистему агента SQL Server, которая специально создана для планирования выполнения пакетов в качестве шага в задании агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="12293-109">In addition, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] provides a subsystem of SQL Server Agent that is especially designed for scheduling package execution as a step in a SQL Server Agent job.</span></span>

 <span data-ttu-id="12293-110">Программа выполнения пакетов будет использоваться для выполнения развернутых пакетов.</span><span class="sxs-lookup"><span data-stu-id="12293-110">You will use the Execute Package Utility to run the deployed packages.</span></span> <span data-ttu-id="12293-111">Пакеты будут использоваться как есть; следовательно, нет необходимости обновлять сведения на страницах в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="12293-111">The packages will be used as is; therefore, you do not have to update information on any pages in the dialog box.</span></span> <span data-ttu-id="12293-112">Пакеты будут выполняться со страницы "Общие", которая является первой страницей в программе выполнения пакетов.</span><span class="sxs-lookup"><span data-stu-id="12293-112">You will run the packages from the General page, which is the first page in the Execute Package Utility.</span></span> <span data-ttu-id="12293-113">При желании можно посмотреть на другие страницы, чтобы иметь представление о содержащихся на них сведениях о пакетах.</span><span class="sxs-lookup"><span data-stu-id="12293-113">If you like, you can click the other pages too see the information that they contain for each package.</span></span>

> [!NOTE]
>  <span data-ttu-id="12293-114">Чтобы гарантировать успешное выполнение пакетов в рамках данного учебника, не нужно изменять никаких параметров.</span><span class="sxs-lookup"><span data-stu-id="12293-114">To ensure that the packages run successfully in the context of this tutorial, you should not modify any options.</span></span>

 <span data-ttu-id="12293-115">Перед выполнением пакетов в среде [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] при помощи программы выполнения пакетов убедитесь, что службы Integration Services запущены.</span><span class="sxs-lookup"><span data-stu-id="12293-115">Before you run packages in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] by using the Execute Package Utility, ensure that the Integration Services service is running.</span></span> <span data-ttu-id="12293-116">Службы Integration Services предоставляют поддержку для хранения и выполнения пакета.</span><span class="sxs-lookup"><span data-stu-id="12293-116">The Integration Services service provides support for package storage and execution.</span></span> <span data-ttu-id="12293-117">Если службы остановлены, не получится соединиться с [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] , и среда [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] не предоставит список пакетов на выполнение.</span><span class="sxs-lookup"><span data-stu-id="12293-117">If the service is stopped, you cannot connect to [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] and [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] does not list the packages to run.</span></span> <span data-ttu-id="12293-118">Также нужно иметь разрешения на выполнение пакета на экземпляре, где пакет был развернут.</span><span class="sxs-lookup"><span data-stu-id="12293-118">You also must have permissions to run the package on the instance where the package has been deployed.</span></span> <span data-ttu-id="12293-119">Дополнительные сведения см. в разделе [Роли служб Integration Services (службы SSIS)](security/integration-services-roles-ssis-service.md).</span><span class="sxs-lookup"><span data-stu-id="12293-119">For more information, see [Integration Services Roles &#40;SSIS Service&#41;](security/integration-services-roles-ssis-service.md).</span></span>

 <span data-ttu-id="12293-120">Папки верхнего уровня в папке «Сохраненные пакеты» являются пользовательскими папками, за которыми следят службы Integration Services.</span><span class="sxs-lookup"><span data-stu-id="12293-120">The top-level folders within the Stored Packages folder are the user-defined folders that Integration Services service monitors.</span></span> <span data-ttu-id="12293-121">Можно указать любое количество папок в файле MsDtsSrvr.ini.xml.</span><span class="sxs-lookup"><span data-stu-id="12293-121">You can specify as many or few folders in the MsDtsSrvr.ini.xml file as you want.</span></span> <span data-ttu-id="12293-122">В учебнике предполагается, что вы используете файл MsDtsSrvr.ini.xml по умолчанию и имена папок верхнего уровня папки "Сохраненные пакеты" таковы: "Файловая система" and "MSDB".</span><span class="sxs-lookup"><span data-stu-id="12293-122">This tutorial assumes that you are using the default MsDtsSrvr.ini.xml file, and that the names of the top-level folders within Stored Packages are File System and MSDB.</span></span>

### <a name="to-connect-to-integration-services-in-sql-server-management-studio"></a><span data-ttu-id="12293-123">Соединение со службами Integration Services в среде SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="12293-123">To connect to Integration Services in SQL Server Management Studio</span></span>

1.  <span data-ttu-id="12293-124">Нажмите кнопку **Пуск**, укажите пункт **Все программы**, пункт **Microsoft SQL Server**, а затем выберите команду **Среда SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="12293-124">Click **Start**, point to **All Programs**, point to **Microsoft SQL Server**, and then click **SQL Server Management Studio**.</span></span>

2.  <span data-ttu-id="12293-125">В диалоговом окне **Соединение с сервером** выберите **Службы Integration Services** из списка **Тип сервера** , введите имя сервера в поле **Имя сервера** и нажмите **Соединить**.</span><span class="sxs-lookup"><span data-stu-id="12293-125">In the **Connect to Server** dialog box, select **Integration Services** in the **Server type** list, provide a server name in the **Server name** box, and click **Connect**.</span></span>

    > [!IMPORTANT]
    >  <span data-ttu-id="12293-126">Если подключиться к [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]не удается, возможно, что служба [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] не запущена.</span><span class="sxs-lookup"><span data-stu-id="12293-126">If you cannot connect to [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)], the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is likely not running.</span></span> <span data-ttu-id="12293-127">Чтобы узнать о состоянии службы, нажмите кнопку **Пуск**и последовательно выберите пункты **Все программы**, **Microsoft SQL Server**, **Средства настройки**и **Диспетчер конфигурации SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="12293-127">To learn the status of the service, click **Start**, point to **All Programs**, point to **Microsoft SQL Server**, point to **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span> <span data-ttu-id="12293-128">На левой панели щелкните **Службы SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="12293-128">In the left pane, click **SQL Server Services**.</span></span> <span data-ttu-id="12293-129">На панели справа найдите службу [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="12293-129">In the right pane, find the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span> <span data-ttu-id="12293-130">Если служба не запущена, запустите ее.</span><span class="sxs-lookup"><span data-stu-id="12293-130">Start the service if it is not already running.</span></span>

     [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] <span data-ttu-id="12293-131">.</span><span class="sxs-lookup"><span data-stu-id="12293-131">opens.</span></span> <span data-ttu-id="12293-132">По умолчанию окно обозревателя объектов открывается и помещается в правом верхнем углу студии.</span><span class="sxs-lookup"><span data-stu-id="12293-132">By default the Object Explorer window is open and placed in the upper right corner of the studio.</span></span> <span data-ttu-id="12293-133">Если обозреватель объектов не открыт, выберите **Обозреватель объектов** в меню **Вид** .</span><span class="sxs-lookup"><span data-stu-id="12293-133">If Object Explorer is not open, click **Object Explorer** on the **View** menu.</span></span>

### <a name="to-run-the-packages-using-the-execute-package-utility"></a><span data-ttu-id="12293-134">Выполнение пакета с помощью программы выполнения пакетов</span><span class="sxs-lookup"><span data-stu-id="12293-134">To run the packages using the Execute Package Utility</span></span>

1.  <span data-ttu-id="12293-135">В обозревателе объектов разверните папку «Сохраненные пакеты».</span><span class="sxs-lookup"><span data-stu-id="12293-135">In Object Explorer, expand the Stored Packages folder.</span></span>

2.  <span data-ttu-id="12293-136">Разверните папку "MSDB".</span><span class="sxs-lookup"><span data-stu-id="12293-136">Expand the MSDB folder.</span></span> <span data-ttu-id="12293-137">Поскольку пакеты были развернуты на [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], все развернутые пакеты хранятся в базе данных msdb [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] и все развернутые пакеты появляются в папке MSDB.</span><span class="sxs-lookup"><span data-stu-id="12293-137">Because you deployed the packages to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], all the deployed packages are stored in the msdb [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] database, and all deployed packages appear in the MSDB folder.</span></span> <span data-ttu-id="12293-138">Папка "Файловая систем" остается пустой, пока вы не развернете пакеты в файловую систему вне папки "Deployment Tutorial".</span><span class="sxs-lookup"><span data-stu-id="12293-138">The File System folder is empty, unless you have deployed packages to the file system outside of the Deployment Tutorial.</span></span>

3.  <span data-ttu-id="12293-139">С начала списка пакетов щелкните правой кнопкой мыши пакет DataTransfer и выберите пункт **Выполнить пакет**.</span><span class="sxs-lookup"><span data-stu-id="12293-139">Starting at the top of the package list, right-click DataTransfer, and click **Run Package**.</span></span>

4.  <span data-ttu-id="12293-140">В диалоговом окне **Программа выполнения пакетов** нажмите кнопку **Выполнить**.</span><span class="sxs-lookup"><span data-stu-id="12293-140">In the **Execute Package Utility** dialog box, click **Execute**.</span></span>

5.  <span data-ttu-id="12293-141">В диалоговом окне **Программа выполнения пакетов** просмотрите ход и результаты выполнения пакета.</span><span class="sxs-lookup"><span data-stu-id="12293-141">In the **Execute Package Utility** dialog box, view the progress and execution results of the package.</span></span> <span data-ttu-id="12293-142">Когда кнопка **Остановить** становится недоступной, что свидетельствует о том, что выполнение пакета завершено, нажмите кнопку **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="12293-142">When the **Stop** button becomes unavailable, which indicates that the package has completed, click **Close**.</span></span>

    > [!IMPORTANT]
    >  <span data-ttu-id="12293-143">При нажатии кнопки **Остановить** во время выполнения пакета выполнение не будет завершено.</span><span class="sxs-lookup"><span data-stu-id="12293-143">If you click **Stop** while the package is running, the package will not finish.</span></span>

6.  <span data-ttu-id="12293-144">В диалоговом окне **Программа выполнения пакетов** нажмите кнопку **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="12293-144">In the **Execute Package Utility** dialog box, click **Close**.</span></span>

7.  <span data-ttu-id="12293-145">Повторите шаги 3 – 6 для пакета «LoadXML».</span><span class="sxs-lookup"><span data-stu-id="12293-145">Repeat steps 3 - 6 for the LoadXML package.</span></span>

8.  <span data-ttu-id="12293-146">В меню **Файл** выберите пункт **Выход**.</span><span class="sxs-lookup"><span data-stu-id="12293-146">On the **File** menu, click **Exit**.</span></span>

### <a name="to-verify-the-results-of-the-datatransfer-package"></a><span data-ttu-id="12293-147">Проверка результатов выполнения пакета "DataTransfer"</span><span class="sxs-lookup"><span data-stu-id="12293-147">To verify the results of the DataTransfer package</span></span>

1.  <span data-ttu-id="12293-148">На панели инструментов среды [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]нажмите кнопку **Создать запрос**.</span><span class="sxs-lookup"><span data-stu-id="12293-148">On the toolbar in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)], click **New Query**.</span></span>

2.  <span data-ttu-id="12293-149">В диалоговом окне **Соединение с сервером** выберите **Компонент Database Engine** в списке **Тип сервера** , введите имя сервера, на котором установлен учебный пакет, или введите "(local)" в поле **Имя сервера** и выберите режим проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="12293-149">In the **Connect to Server** dialog box, select **Database Engine** in the **Server type** list, provide the name of the server name on which you installed the tutorial packages or type (local) in the **Server name** box, and select an authentication mode.</span></span> <span data-ttu-id="12293-150">При использовании проверки подлинности SQL Server укажите имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="12293-150">If using SQL Server Authentication, provide a user name and password.</span></span>

3.  <span data-ttu-id="12293-151">Нажмите кнопку **Соединить**.</span><span class="sxs-lookup"><span data-stu-id="12293-151">Click **Connect**.</span></span>

4.  <span data-ttu-id="12293-152">В окне запроса введите или вставьте следующую инструкцию SQL:</span><span class="sxs-lookup"><span data-stu-id="12293-152">In the query window, type or paste the following SQL statement:</span></span>

     `USE AdventureWorks`

     `SELECT * FROM HighIncomeCustomers`

5.  <span data-ttu-id="12293-153">Нажмите клавишу **F5** или щелкните значок "Выполнить" на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="12293-153">Press **F5** or click the Execute icon on the toolbar.</span></span>

     <span data-ttu-id="12293-154">Запрос возвращает 31 строку.</span><span class="sxs-lookup"><span data-stu-id="12293-154">The query returns 31 rows of data.</span></span> <span data-ttu-id="12293-155">Возвращаемый результат содержит все строки текстового файла Customers.txt, в которых значения в столбце YearlyIncome больше 100 000.</span><span class="sxs-lookup"><span data-stu-id="12293-155">The return result contains any rows from the text file, Customers.txt, that have values larger than 100000 in the YearlyIncome column.</span></span>

6.  <span data-ttu-id="12293-156">Перейдите в папку DeploymentTutorial, щелкните правой кнопкой мыши XML-файл журнала "Deployment Tutorial" и выберите пункт **Открыть**.</span><span class="sxs-lookup"><span data-stu-id="12293-156">Locate the DeploymentTutorial folder, right-click the log XML file, Deployment Tutorial Log, and then click **Open**.</span></span> <span data-ttu-id="12293-157">Файл можно открыть при помощи приложения «Блокнот» или другим текстовым или XML-редактором.</span><span class="sxs-lookup"><span data-stu-id="12293-157">You can open the file by using Notepad or the text/XML editor of choice.</span></span>

### <a name="to-verify-the-results-of-the-loadxmldata-package"></a><span data-ttu-id="12293-158">Проверка результатов выполнения пакета "LoadXMLData"</span><span class="sxs-lookup"><span data-stu-id="12293-158">To verify the results of the LoadXMLData package</span></span>

1.  <span data-ttu-id="12293-159">На панели инструментов среды [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]нажмите кнопку **Создать запрос**.</span><span class="sxs-lookup"><span data-stu-id="12293-159">On the toolbar in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)], click **New Query**.</span></span>

2.  <span data-ttu-id="12293-160">При повторном появлении запроса на подключение в диалоговом окне **Соединение с сервером** выберите **Компонент Database Engine** в списке **Тип сервера** , введите имя сервера, на котором установлены учебные пакеты, или введите "(local)" в поле **Имя сервера** и выберите режим проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="12293-160">If prompted to connect again, in the **Connect to Server** dialog box, select **Database Engine** in the **Server type** list, provide the name of the server on which you installed the tutorial packages or enter (local) in the **Server name** box, and select an authentication mode.</span></span> <span data-ttu-id="12293-161">При использовании проверки подлинности SQL Server укажите имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="12293-161">If using SQL Server Authentication, provide a user name and password.</span></span>

3.  <span data-ttu-id="12293-162">Нажмите кнопку **Соединить**.</span><span class="sxs-lookup"><span data-stu-id="12293-162">Click **Connect**.</span></span>

4.  <span data-ttu-id="12293-163">В окне запроса введите или вставьте следующую инструкцию SQL:</span><span class="sxs-lookup"><span data-stu-id="12293-163">In the query window, type or paste the following SQL statement:</span></span>

     `USE AdventureWorks`

     `SELECT * FROM OrderDatesByCountryRegion`

5.  <span data-ttu-id="12293-164">Нажмите клавишу **F5** или щелкните значок "Выполнить" на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="12293-164">Press **F5** or click the Execute icon on the toolbar.</span></span>

     <span data-ttu-id="12293-165">Запрос возвращает 21 строку.</span><span class="sxs-lookup"><span data-stu-id="12293-165">The query returns 21 rows of data.</span></span> <span data-ttu-id="12293-166">Возвращаемый результат состоит из строк XML-файла данных, "orders.xml".</span><span class="sxs-lookup"><span data-stu-id="12293-166">The return result consists of the rows from the XML data file, orders.xml.</span></span> <span data-ttu-id="12293-167">Каждая строка является сводкой по стране или региону; в строке присутствуют данные про название страны или региона, про число заказов для каждой страны или региона и даты последнего и первого заказов.</span><span class="sxs-lookup"><span data-stu-id="12293-167">Each row is a summary by country/region; the row lists the name of a country/region, the number of orders for each country/region and the dates of the newest and oldest orders.</span></span>

<span data-ttu-id="12293-168">![Значок Integration Services (маленький)](media/dts-16.gif "Значок служб Integration Services (маленький)")  **следит за обновлениями Integration Services**</span><span class="sxs-lookup"><span data-stu-id="12293-168">![Integration Services icon (small)](media/dts-16.gif "Integration Services icon (small)")  **Stay Up to Date with Integration Services**</span></span><br /> <span data-ttu-id="12293-169">Чтобы загрузить новейшую документацию, статьи, образцы и видеоматериалы корпорации Майкрософт, а также лучшие решения участников сообщества, посетите страницу служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] на сайте MSDN:</span><span class="sxs-lookup"><span data-stu-id="12293-169">For the latest downloads, articles, samples, and videos from Microsoft, as well as selected solutions from the community, visit the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] page on MSDN:</span></span><br /><br /> [<span data-ttu-id="12293-170">Посетить страницу «Службы Integration Services» на сайте MSDN</span><span class="sxs-lookup"><span data-stu-id="12293-170">Visit the Integration Services page on MSDN</span></span>](https://go.microsoft.com/fwlink/?LinkId=136655)<br /><br /> <span data-ttu-id="12293-171">Чтобы получать автоматические уведомления об этих обновлениях, подпишитесь на RSS-каналы, предлагаемые на этой странице.</span><span class="sxs-lookup"><span data-stu-id="12293-171">For automatic notification of these updates, subscribe to the RSS feeds available on the page.</span></span>

## <a name="see-also"></a><span data-ttu-id="12293-172">См. также:</span><span class="sxs-lookup"><span data-stu-id="12293-172">See Also</span></span>
 [<span data-ttu-id="12293-173">Программа dtexec</span><span class="sxs-lookup"><span data-stu-id="12293-173">dtexec Utility</span></span>](packages/dtexec-utility.md)



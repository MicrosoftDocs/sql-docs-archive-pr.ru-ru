---
title: Задача "Файловая система" | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.filesystemtask.f1
helpviewer_keywords:
- File System task [Integration Services]
ms.assetid: 7dd79a6a-e066-4028-a385-1d40f31056f8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 3ce3d31ceb720704fb61c33043a4c7319607caff
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654461"
---
# <a name="file-system-task"></a><span data-ttu-id="3ba9e-102">Задача "Файловая система"</span><span class="sxs-lookup"><span data-stu-id="3ba9e-102">File System Task</span></span>
  <span data-ttu-id="3ba9e-103">Задача «Файловая система» выполняет операции над файлами и каталогами файловой системы.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-103">The File System task performs operations on files and directories in the file system.</span></span> <span data-ttu-id="3ba9e-104">Например, при помощи задачи «Файловая система» пакет может создавать, перемещать или удалять каталоги и файлы.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-104">For example, by using the File System task, a package can create, move, or delete directories and files.</span></span> <span data-ttu-id="3ba9e-105">Можно также использовать данную задачу для установки атрибутов файлов и каталогов.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-105">You can also use the File System task to set attributes on files and directories.</span></span> <span data-ttu-id="3ba9e-106">Например, задача «Файловая система« может пометить файлы как скрытые или предназначенные только для чтения.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-106">For example, the File System task can make files hidden or read-only.</span></span>  
  
 <span data-ttu-id="3ba9e-107">Все операции задачи «Файловая система» используют источник, который может быть файлом или каталогом.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-107">All File System task operations use a source, which can be a file or a directory.</span></span> <span data-ttu-id="3ba9e-108">Например, файл, который копирует задача, или каталог, который она удаляет, является источником.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-108">For example, the file that the task copies or the directory it deletes is a source.</span></span> <span data-ttu-id="3ba9e-109">Источник можно указать при помощи диспетчера подключения файлов, который указывает каталог или файл, или определив имя переменной, содержащей путь к источнику.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-109">The source can be specified by using a File connection manager that points to the directory or file or by providing the name of a variable that contains the source path.</span></span> <span data-ttu-id="3ba9e-110">Дополнительные сведения см. в разделах [Диспетчер соединения файлов](../connection-manager/file-connection-manager.md) и [Переменные в службах Integration Services (SSIS)](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="3ba9e-110">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
 <span data-ttu-id="3ba9e-111">Операции, копирующие и перемещающие файл и каталоги, а также переименовывающие файлы, используют целевой объект и источник.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-111">The operations that copy and move file and directories and rename files use a destination and a source.</span></span> <span data-ttu-id="3ba9e-112">Целевой объект указывается при помощи диспетчера подключения файла или переменной.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-112">The destination is specified by using a File connection manager or a variable.</span></span> <span data-ttu-id="3ba9e-113">Операции задачи «Файловая система» можно настроить для возможности перезаписывать целевые файлы и каталоги.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-113">File system task operations can be configured to permit overwriting of destination files and directories.</span></span> <span data-ttu-id="3ba9e-114">Операцию, которая создает новый каталог, можно настроить для использования существующего каталога, имеющего указанное имя. Это позволит избежать ошибки, если каталог уже существует.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-114">The operation that creates a new directory can be configured to use an existing directory that has the specified name instead of failing when the directory already exists.</span></span>  
  
## <a name="predefined-file-system-operations"></a><span data-ttu-id="3ba9e-115">Предопределенные операции файловой системы</span><span class="sxs-lookup"><span data-stu-id="3ba9e-115">Predefined File System Operations</span></span>  
 <span data-ttu-id="3ba9e-116">Задача «Файловая система» содержит предопределенный набор операций.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-116">The File System task includes a predefined set of operations.</span></span> <span data-ttu-id="3ba9e-117">Данные операции описываются в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-117">The following table describes these operations.</span></span>  
  
|<span data-ttu-id="3ba9e-118">Операция</span><span class="sxs-lookup"><span data-stu-id="3ba9e-118">Operation</span></span>|<span data-ttu-id="3ba9e-119">Описание</span><span class="sxs-lookup"><span data-stu-id="3ba9e-119">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="3ba9e-120">Копировать каталог</span><span class="sxs-lookup"><span data-stu-id="3ba9e-120">Copy directory</span></span>|<span data-ttu-id="3ba9e-121">Копирует папку из одного места в другое.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-121">Copies a folder from one location to another.</span></span>|  
|<span data-ttu-id="3ba9e-122">Копировать файл</span><span class="sxs-lookup"><span data-stu-id="3ba9e-122">Copy file</span></span>|<span data-ttu-id="3ba9e-123">Копирует файл из одного места в другое.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-123">Copies a file from one location to another.</span></span>|  
|<span data-ttu-id="3ba9e-124">Создание каталога</span><span class="sxs-lookup"><span data-stu-id="3ba9e-124">Create directory</span></span>|<span data-ttu-id="3ba9e-125">Создает папку в указанном месте.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-125">Creates a folder in a specified location.</span></span>|  
|<span data-ttu-id="3ba9e-126">Удалить каталог</span><span class="sxs-lookup"><span data-stu-id="3ba9e-126">Delete directory</span></span>|<span data-ttu-id="3ba9e-127">Удаляет папку в указанном месте.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-127">Deletes a folder in a specified location.</span></span>|  
|<span data-ttu-id="3ba9e-128">Удалить содержимое каталога</span><span class="sxs-lookup"><span data-stu-id="3ba9e-128">Delete directory content</span></span>|<span data-ttu-id="3ba9e-129">Удаляет все файлы и вложенные папки в текущей папке.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-129">Deletes all files and folders in a folder.</span></span>|  
|<span data-ttu-id="3ba9e-130">Удалить файл</span><span class="sxs-lookup"><span data-stu-id="3ba9e-130">Delete file</span></span>|<span data-ttu-id="3ba9e-131">Удаляет файл в указанном месте.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-131">Deletes a file in a specified location.</span></span>|  
|<span data-ttu-id="3ba9e-132">Переместить каталог</span><span class="sxs-lookup"><span data-stu-id="3ba9e-132">Move directory</span></span>|<span data-ttu-id="3ba9e-133">Перемещает папку из одного места в другое.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-133">Moves a folder from one location to another.</span></span>|  
|<span data-ttu-id="3ba9e-134">Переместить файл</span><span class="sxs-lookup"><span data-stu-id="3ba9e-134">Move file</span></span>|<span data-ttu-id="3ba9e-135">Перемещает файл из одного места в другое.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-135">Moves a file from one location to another.</span></span>|  
|<span data-ttu-id="3ba9e-136">Переименовать файл</span><span class="sxs-lookup"><span data-stu-id="3ba9e-136">Rename file</span></span>|<span data-ttu-id="3ba9e-137">Переименовывает файл в указанном месте.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-137">Renames a file in a specified location.</span></span>|  
|<span data-ttu-id="3ba9e-138">Определение атрибутов</span><span class="sxs-lookup"><span data-stu-id="3ba9e-138">Set attributes</span></span>|<span data-ttu-id="3ba9e-139">Устанавливает атрибуты файлов и папок.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-139">Sets attributes on files and folders.</span></span> <span data-ttu-id="3ba9e-140">Атрибуты принимают следующие значения: «архивный», «скрытый», «обычный», «только чтение» и «системный».</span><span class="sxs-lookup"><span data-stu-id="3ba9e-140">Attributes include Archive, Hidden, Normal, ReadOnly, and System.</span></span> <span data-ttu-id="3ba9e-141">«Обычный» означает отсутствие атрибутов, и его невозможно объединять с другими атрибутами.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-141">Normal is the lack of attributes, and it cannot be combined with other attributes.</span></span> <span data-ttu-id="3ba9e-142">Все другие атрибуты можно использовать совместно.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-142">All other attributes can be used in combination.</span></span>|  
  
 <span data-ttu-id="3ba9e-143">Задача «Файловая система» работает с одиночным файлом или каталогом.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-143">The File System task operates on a single file or directory.</span></span> <span data-ttu-id="3ba9e-144">Поэтому данная задача не позволяет использовать символы-шаблоны для выполнения одной операции над несколькими файлами.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-144">Therefore, this task does not support the use of wildcard characters to perform the same operation on multiple files.</span></span> <span data-ttu-id="3ba9e-145">Чтобы задача «Файловая система» повторила операцию над несколькими файлами или каталогами, поместите ее в контейнер «цикл по каждому элементу», как описано в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="3ba9e-145">To have the File System task repeat an operation on multiple files or directories, put the File System task in a Foreach Loop container, as described in the following steps:</span></span>  
  
-   <span data-ttu-id="3ba9e-146">**Настройка параметров контейнера «цикл по каждому элементу»** На странице **Коллекция** редактора циклов по каждому элементу установите **Перечислитель с циклом по каждому файлу** и введите выражение с шаблонами в качестве настройки для поля **Файлы**.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-146">**Configure the Foreach Loop container** On the **Collection** page of the Foreach Loop Editor, set the enumerator to **Foreach File Enumerator** and enter the wildcard expression as the enumerator configuration for **Files**.</span></span> <span data-ttu-id="3ba9e-147">На странице **Сопоставления переменной** редактора циклов по каждому элементу укажите переменную, которую нужно использовать, чтобы передавать имена файлов по одному в задачу «Файловая система».</span><span class="sxs-lookup"><span data-stu-id="3ba9e-147">On the **Variable Mappings** page of the Foreach Loop Editor, map a variable that you want to use to pass the file names one at a time to the File System task.</span></span>  
  
-   <span data-ttu-id="3ba9e-148">**Добавление и настройка задачи «Файловая система»** Добавьте задачу «Файловая система» в контейнер «цикл по каждому элементу».</span><span class="sxs-lookup"><span data-stu-id="3ba9e-148">**Add and configure a File System task** Add a File System task to the Foreach Loop container.</span></span> <span data-ttu-id="3ba9e-149">На странице **Общие** редактора задачи «Файловая система» установите свойство **SourceVariable** или **DestinationVariable** для переменной, определенной в контейнере «цикл по каждому элементу».</span><span class="sxs-lookup"><span data-stu-id="3ba9e-149">On the **General** page of the File System Task Editor, set the **SourceVariable** or **DestinationVariable** property to the variable that you defined in the Foreach Loop container.</span></span>  
  
## <a name="custom-log-entries-available-on-the-file-system-task"></a><span data-ttu-id="3ba9e-150">Пользовательские записи журнала, доступные в задаче «Файловая система»</span><span class="sxs-lookup"><span data-stu-id="3ba9e-150">Custom Log Entries Available on the File System Task</span></span>  
 <span data-ttu-id="3ba9e-151">В следующей таблице перечислены пользовательские записи журнала для задачи «Файловая система».</span><span class="sxs-lookup"><span data-stu-id="3ba9e-151">The following table describes the custom log entry for the File System task.</span></span> <span data-ttu-id="3ba9e-152">Дополнительные сведения см. в разделах [Ведение журналов в службах Integration Services (SSIS)](../performance/integration-services-ssis-logging.md) и [Пользовательские сообщения для ведения журнала](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="3ba9e-152">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="3ba9e-153">Запись журнала</span><span class="sxs-lookup"><span data-stu-id="3ba9e-153">Log entry</span></span>|<span data-ttu-id="3ba9e-154">Описание</span><span class="sxs-lookup"><span data-stu-id="3ba9e-154">Description</span></span>|  
|---------------|-----------------|  
|`FileSystemOperation`|<span data-ttu-id="3ba9e-155">Сообщает об операции, выполняемой задачей.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-155">Reports the operation that the task performs.</span></span> <span data-ttu-id="3ba9e-156">Эта запись журнала формируется, когда операция файловой системы начинается и включает сведения об источнике и назначении.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-156">The log entry is written when the file system operation starts and includes information about the source and destination.</span></span>|  
  
## <a name="configuring-the-file-system-task"></a><span data-ttu-id="3ba9e-157">Настройка задачи «Файловая система»</span><span class="sxs-lookup"><span data-stu-id="3ba9e-157">Configuring the File System Task</span></span>  
 <span data-ttu-id="3ba9e-158">Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-158">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="3ba9e-159">Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="3ba9e-159">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, see the following topics:</span></span>  
  
-   [<span data-ttu-id="3ba9e-160">Редактор задачи "Файловая система" (страница "Общие")</span><span class="sxs-lookup"><span data-stu-id="3ba9e-160">File System Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="3ba9e-161">Страница «Выражения»</span><span class="sxs-lookup"><span data-stu-id="3ba9e-161">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="3ba9e-162">Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в следующем разделе:</span><span class="sxs-lookup"><span data-stu-id="3ba9e-162">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, see the following topic:</span></span>  
  
-   [<span data-ttu-id="3ba9e-163">Задание свойств задач или контейнеров</span><span class="sxs-lookup"><span data-stu-id="3ba9e-163">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
 <span data-ttu-id="3ba9e-164">Дополнительные сведения об установке этих свойств программными средствами см. в следующем разделе:</span><span class="sxs-lookup"><span data-stu-id="3ba9e-164">For more information about how to set these properties programmatically, see the following topic:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.FileSystemTask.FileSystemTask>  
  
## <a name="related-tasks"></a><span data-ttu-id="3ba9e-165">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="3ba9e-165">Related Tasks</span></span>  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="3ba9e-166">содержат задачу, которая загружает и отправляет файлы данных и управляет каталогами на серверах.</span><span class="sxs-lookup"><span data-stu-id="3ba9e-166">includes a task that downloads and uploads data files and manages directories on servers.</span></span> <span data-ttu-id="3ba9e-167">Дополнительные сведения см. в статье [FTP Task](ftp-task.md).</span><span class="sxs-lookup"><span data-stu-id="3ba9e-167">For more information, see [FTP Task](ftp-task.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3ba9e-168">См. также:</span><span class="sxs-lookup"><span data-stu-id="3ba9e-168">See Also</span></span>  
 <span data-ttu-id="3ba9e-169">[Задачи служб Integration Services](integration-services-tasks.md) </span><span class="sxs-lookup"><span data-stu-id="3ba9e-169">[Integration Services Tasks](integration-services-tasks.md) </span></span>  
 [<span data-ttu-id="3ba9e-170">Поток управления</span><span class="sxs-lookup"><span data-stu-id="3ba9e-170">Control Flow</span></span>](control-flow.md)  
  
  

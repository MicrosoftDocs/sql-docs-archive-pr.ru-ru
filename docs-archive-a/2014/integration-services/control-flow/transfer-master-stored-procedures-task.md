---
title: Задача "Передача главных хранимых процедур" | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.transfermasterspstask.f1
helpviewer_keywords:
- Transfer Master Stored Procedures task [Integration Services]
ms.assetid: 81702560-48a3-46d1-a469-e41304c7af8e
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1915a3129eeb6e14c4315c37f2c6c2bf5b0d5412
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750059"
---
# <a name="transfer-master-stored-procedures-task"></a>Задача «Передача главных хранимых процедур»
  Задача "Передача главных хранимых процедур" перемещает одну или несколько пользовательских хранимых процедур между базами данных **master** в экземплярах [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Чтобы переместить хранимую процедуру из базы данных **master** , владелец процедуры должен быть dbo.  
  
 Задачу «Передача главных хранимых процедур» можно настроить на перемещение всех хранимых процедур или только определенных хранимых процедур. Данная задача не копирует системные хранимые процедуры.  
  
 Главные хранимые процедуры, подлежащие перемещению, уже могут существовать по целевому адресу. Задачу «Передача главных хранимых процедур» можно настроить на обработку существующих хранимых процедур следующим образом:  
  
-   Заменить существующие хранимые процедуры.  
  
-   Отменить задачу при наличии дубликатов хранимых процедур.  
  
-   Пропустить дублированные хранимые процедуры.  
  
 Во время выполнения задача «Передача главных хранимых процедур» подключается к исходному и целевому серверам при помощи двух диспетчеров соединений SMO. Диспетчеры соединений SMO настроены отдельно от задачи «Передача главных хранимых процедур», и на них имеется ссылка в задаче «Передача главных хранимых процедур». Диспетчеры соединений SMO определяют сервер и режим проверки подлинности, используемый для доступа к серверу. Дополнительные сведения см. в статье [SMO Connection Manager](../connection-manager/smo-connection-manager.md).  
  
## <a name="transferring-stored-procedures-between-instances-of-sql-server"></a>Передача хранимых процедур между экземплярами SQL Server  
 Задача «Передача главных хранимых процедур» поддерживает источник и назначение [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="events"></a>События  
 Задача вызывает уведомляющее событие, сообщающее о количестве выполненных перемещений хранимых процедур, и предупреждение при перезаписи хранимой процедуры.  
  
 Задача «Передача главных хранимых процедур» не сообщает о прогрессе перемещения; она сообщает только о степени выполнения 0% и 100%.  
  
## <a name="execution-value"></a>Значение выполнения  
 Значение выполнения, определенное в свойстве `ExecutionValue` задачи, возвращает количество перемещенных хранимых процедур. После назначения пользовательской переменной свойству `ExecValueVariable` задачи «Передача главных хранимых процедур» сведения о перемещении хранимой процедуры могут стать доступными другим объектам в пакете. Дополнительные сведения см. в разделах [Переменные в службах Integration Services (SSIS)](../integration-services-ssis-variables.md) и [Использование переменных в пакетах](../use-variables-in-packages.md).  
  
## <a name="log-entries"></a>Записи журнала  
 Задача «Передача главных хранимых процедур» содержит следующие пользовательские записи журнала:  
  
-   TransferStoredProceduresTaskStartTransferringObjects — данная запись в журнале сообщает о начале перемещения. В записях журнала указывается время запуска.  
  
-   TransferSStoredProceduresTaskFinishedTransferringObjects — данная запись в журнале сообщает об окончании перемещения. В записях журнала указывается время завершения.  
  
 Кроме того, запись журнала для события `OnInformation` сообщает о количестве перемещенных хранимых процедур, а запись журнала для события `OnWarning` фиксирует каждую перезаписываемую хранимую процедуру в целевом месте.  
  
## <a name="security-and-permissions"></a>Безопасность и разрешения  
 Пользователь должен иметь разрешение на просмотр списка хранимой процедуры в базе данных **master** на источнике и быть членом роли сервера sysadmin или иметь права на созданные хранимые процедуры в базе данных **master** на целевом сервере.  
  
## <a name="configuration-of-the-transfer-master-stored-procedures-task"></a>Настройка задачи «Передача главных хранимых процедур»  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующих разделах.  
  
-   [Редактор задачи "Передача главных хранимых процедур" (страница "Общие")](../general-page-of-integration-services-designers-options.md)  
  
-   [Редактор задачи "Передача главных хранимых процедур" (страница "Хранимые процедуры")](../transfer-master-stored-procedures-task-editor-stored-procedures-page.md)  
  
-   [Страница «Выражения»](../expressions/expressions-page.md)  
  
 Сведения о задании этих свойств программными средствами см. в следующем разделе:  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.TransferStoredProceduresTask.TransferStoredProceduresTask>  
  
### <a name="configuring-the-transfer-master-stored-procedures-task-programmatically"></a>Программная настройка задачи «Передача главных хранимых процедур»  
  
## <a name="related-tasks"></a>Связанные задачи  
 Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в следующем разделе:  
  
-   [Задание свойств задач или контейнеров](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="see-also"></a>См. также:  
 [Задача «Передача объектов SQL Server»](transfer-sql-server-objects-task.md)   
 [Задачи служб Integration Services](integration-services-tasks.md)   
 [Поток управления](control-flow.md)  
  
  

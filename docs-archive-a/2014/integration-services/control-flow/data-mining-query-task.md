---
title: Задача "Запрос интеллектуального анализа данных" | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.dataminingquerytask.f1
helpviewer_keywords:
- prediction queries [Integration Services]
- Data Mining Query task [Integration Services]
ms.assetid: f489348c-2008-4f66-8c2c-c07c3029439a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6bb3cea630401f92395e2ca4416c03bcd870c881
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87665074"
---
# <a name="data-mining-query-task"></a><span data-ttu-id="8aa93-102">Задача «Запрос интеллектуального анализа данных»</span><span class="sxs-lookup"><span data-stu-id="8aa93-102">Data Mining Query Task</span></span>
  <span data-ttu-id="8aa93-103">Задача «Запрос интеллектуального анализа данных» запускает прогнозирующие запросы, основанных на моделях интеллектуального анализа данных, встроенных в службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8aa93-103">The Data Mining Query task runs prediction queries based on data mining models built in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="8aa93-104">Прогнозирующий запрос создает прогноз для новых данных с использованием моделей интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="8aa93-104">The prediction query creates a prediction for new data by using mining models.</span></span> <span data-ttu-id="8aa93-105">Например, прогнозирующий запрос может предсказать, сколько яхт может быть продано в летние месяцы, или сформировать список предполагаемых клиентов, которые могут купить яхту.</span><span class="sxs-lookup"><span data-stu-id="8aa93-105">For example, a prediction query can predict how many sailboats are likely to sell during the summer months or generate a list of prospective customers who are likely to buy a sailboat.</span></span>  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="8aa93-106">предоставляют задачи, выполняющие другие операции бизнес-аналитики, например выполнение инструкций языка DDL и обработки аналитических объектов.</span><span class="sxs-lookup"><span data-stu-id="8aa93-106">provides tasks that perform other business intelligence operations, such as running Data Definition Language (DDL) statements and processing analytic objects.</span></span>  
  
 <span data-ttu-id="8aa93-107">Дополнительные сведения о задачах бизнес-аналитики см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="8aa93-107">For more information about other business intelligence tasks, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="8aa93-108">Задача «Выполнение инструкции DDL служб Analysis Services»</span><span class="sxs-lookup"><span data-stu-id="8aa93-108">Analysis Services Execute DDL Task</span></span>](analysis-services-execute-ddl-task.md)  
  
-   [<span data-ttu-id="8aa93-109">Задача «Обработка средствами Analysis Services»</span><span class="sxs-lookup"><span data-stu-id="8aa93-109">Analysis Services Processing Task</span></span>](analysis-services-processing-task.md)  
  
## <a name="prediction-queries"></a><span data-ttu-id="8aa93-110">Прогнозирующие запросы</span><span class="sxs-lookup"><span data-stu-id="8aa93-110">Prediction Queries</span></span>  
 <span data-ttu-id="8aa93-111">Такой запрос является инструкцией расширения интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="8aa93-111">The query is a Data Mining Extensions (DMX) statement.</span></span> <span data-ttu-id="8aa93-112">Язык расширения интеллектуального анализа данных — это расширение языка SQL для поддержки работы с моделями интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="8aa93-112">The DMX language is an extension of the SQL language that provides support for working with mining models.</span></span> <span data-ttu-id="8aa93-113">Дополнительные сведения об использовании языка расширений интеллектуального анализа данных см. в разделе [Справочник по расширениям интеллектуального анализа данных](/sql/dmx/data-mining-extensions-dmx-reference).</span><span class="sxs-lookup"><span data-stu-id="8aa93-113">For more information about how to use the DMX language, see [Data Mining Extensions &#40;DMX&#41; Reference](/sql/dmx/data-mining-extensions-dmx-reference).</span></span>  
  
 <span data-ttu-id="8aa93-114">Задача может запрашивать несколько моделей интеллектуального анализа данных, построенных в одной структуре интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="8aa93-114">The task can query multiple mining models that are built on the same mining structure.</span></span> <span data-ttu-id="8aa93-115">Модель интеллектуального анализа данных строится при помощи одного из алгоритмов интеллектуального анализа данных, предоставляемых службами [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8aa93-115">A mining model is built using one of the data mining algorithms that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] provides.</span></span> <span data-ttu-id="8aa93-116">Структура интеллектуального анализа данных, к которой обращается задача «Запрос интеллектуального анализа данных», может включать в себя несколько моделей интеллектуального анализа данных, построенных на основе разных алгоритмов.</span><span class="sxs-lookup"><span data-stu-id="8aa93-116">The mining structure that the Data Mining Query task references can include multiple mining models, built using different algorithms.</span></span> <span data-ttu-id="8aa93-117">Дополнительные сведения см. в разделах [Структуры интеллектуального анализа данных (службы Analysis Services — интеллектуальный анализ данных)](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) и [Алгоритмы интеллектуального анализа данных (службы Analysis Services — интеллектуальный анализ данных)](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span><span class="sxs-lookup"><span data-stu-id="8aa93-117">For more information, see [Mining Structures &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) and [Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span></span>  
  
 <span data-ttu-id="8aa93-118">Прогнозирующий запрос, запускаемый задачей «Запрос интеллектуального анализа данных», возвращает результат в виде одной строки или набора данных.</span><span class="sxs-lookup"><span data-stu-id="8aa93-118">The prediction query that the Data Mining Query task runs returns a result that is a single row or a data set.</span></span> <span data-ttu-id="8aa93-119">Запрос, возвращающий одну строку, называется одноэлементным запросом: например, запрос, предсказывающий, сколько лодок будет продано в летние месяцы, возвращает одно число.</span><span class="sxs-lookup"><span data-stu-id="8aa93-119">A query that returns a single row is called a singleton query: for example, the query that predicts how many sailboats will be sold during the summer months returns a number.</span></span> <span data-ttu-id="8aa93-120">Дополнительные сведения о прогнозирующих запросах, возвращающих одну строку, см. в разделе [интерфейсы запросов интеллектуального анализа данных](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span><span class="sxs-lookup"><span data-stu-id="8aa93-120">For more information about prediction queries that return a single row, see [Data Mining Query Interfaces](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span></span>  
  
 <span data-ttu-id="8aa93-121">Результаты запроса сохраняются в таблицах.</span><span class="sxs-lookup"><span data-stu-id="8aa93-121">The query results are saved to tables.</span></span> <span data-ttu-id="8aa93-122">Если таблица с именем, указанным в задаче «Запрос интеллектуального анализа данных», уже существует, задача может создать новую таблицу с тем же именем, к которому прибавлен номер, или перезаписать содержимое таблицы.</span><span class="sxs-lookup"><span data-stu-id="8aa93-122">If a table with the name that the Data Mining Query task specifies already exists, the task can create a new table, using the same name with a number appended, or it can overwrite the table content.</span></span>  
  
 <span data-ttu-id="8aa93-123">Если результаты содержат вложенность, то перед сохранением результат выравнивается.</span><span class="sxs-lookup"><span data-stu-id="8aa93-123">If the results include nesting, the result is flattened before it is saved.</span></span> <span data-ttu-id="8aa93-124">Выравнивание результата преобразует вложенный результирующий набор в таблицу.</span><span class="sxs-lookup"><span data-stu-id="8aa93-124">Flattening a result changes a nested result set to a table.</span></span> <span data-ttu-id="8aa93-125">Например, выравнивание вложенного результата со столбцом **Customer** и вложенным столбцом **Product** добавляет строки в столбец **Customer** , формируя таблицу, содержащую данные о продуктах для каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="8aa93-125">For example, flattening a nested result with a **Customer** column and a nested **Product** column adds rows to the **Customer** column to make a table that includes product data for each customer.</span></span> <span data-ttu-id="8aa93-126">Например, покупатель трех различных продуктов становится таблицей из трех строк, в которой клиент повторяется во всех трех строках, а продукты в каждой строке различаются.</span><span class="sxs-lookup"><span data-stu-id="8aa93-126">For example, a customer with three different products becomes a table with three rows, repeating the customer in each row and including a different product in each row.</span></span> <span data-ttu-id="8aa93-127">Если ключевое слово FLATTENED опущено, то эта таблица будет содержать только столбец **Customer** с одной строкой на каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="8aa93-127">If the FLATTENED keyword is omitted, the table contains only the **Customer** column and only one row per customer.</span></span> <span data-ttu-id="8aa93-128">Дополнительные сведения см. в разделе [SELECT (расширения интеллектуального анализа данных)](/sql/dmx/select-dmx).</span><span class="sxs-lookup"><span data-stu-id="8aa93-128">For more information, see [SELECT &#40;DMX&#41;](/sql/dmx/select-dmx).</span></span>  
  
## <a name="configuration-of-the-data-mining-query-task"></a><span data-ttu-id="8aa93-129">Настройка задачи «Запрос интеллектуального анализа данных»</span><span class="sxs-lookup"><span data-stu-id="8aa93-129">Configuration of the Data Mining Query Task</span></span>  
 <span data-ttu-id="8aa93-130">Задача «Запрос интеллектуального анализа данных» требует два соединения.</span><span class="sxs-lookup"><span data-stu-id="8aa93-130">The Data Mining Query task requires two connections.</span></span> <span data-ttu-id="8aa93-131">Первое соединение — это соединение диспетчера соединений служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] с экземпляром служб [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или с проектом служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], который содержит структуру и модель интеллектуального анализа данных.</span><span class="sxs-lookup"><span data-stu-id="8aa93-131">The first connection is an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] connection manager that connects either to an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project that contains the mining structure and the mining model.</span></span> <span data-ttu-id="8aa93-132">Второе — это соединение диспетчера соединений OLE DB с базой данных [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , содержащей таблицу, в которую данная задача производит запись.</span><span class="sxs-lookup"><span data-stu-id="8aa93-132">The second connection is an OLE DB connection manager that connects to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database that contains the table to which the task writes.</span></span> <span data-ttu-id="8aa93-133">Дополнительные сведения см. в разделах [Analysis Services Connection Manager](../connection-manager/analysis-services-connection-manager.md) и [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="8aa93-133">For more information, see [Analysis Services Connection Manager](../connection-manager/analysis-services-connection-manager.md) and [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="8aa93-134">Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../../includes/ssis-md.md)] или программными средствами.</span><span class="sxs-lookup"><span data-stu-id="8aa93-134">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="8aa93-135">Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="8aa93-135">For more information about the properties that you can set in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="8aa93-136">Редактор задачи "Запрос интеллектуального анализа данных" (вкладка "Модель интеллектуального анализа данных")</span><span class="sxs-lookup"><span data-stu-id="8aa93-136">Data Mining Query Task Editor &#40;Mining Model Tab&#41;</span></span>](../data-mining-query-task-editor-mining-model-tab.md)  
  
-   [<span data-ttu-id="8aa93-137">Редактор задачи "Запрос интеллектуального анализа данных" (вкладка "Запрос")</span><span class="sxs-lookup"><span data-stu-id="8aa93-137">Data Mining Query Task Editor &#40;Query Tab&#41;</span></span>](../data-mining-query-task-editor-query-tab.md)  
  
-   [<span data-ttu-id="8aa93-138">Редактор задачи "Запрос интеллектуального анализа данных" (вкладка "Вывод")</span><span class="sxs-lookup"><span data-stu-id="8aa93-138">Data Mining Query Task Editor &#40;Output Tab&#41;</span></span>](../data-mining-query-task-editor-output-tab.md)  
  
> [!NOTE]  
>  <span data-ttu-id="8aa93-139">В редакторе запроса интеллектуального анализа данных нет страницы «Выражения».</span><span class="sxs-lookup"><span data-stu-id="8aa93-139">The Data Mining Query Editor has no Expressions page.</span></span> <span data-ttu-id="8aa93-140">Вместо этого нужно использовать окно **Свойства** для доступа к средствам создания и управления выражениями свойств задачи «Запрос интеллектуального анализа данных».</span><span class="sxs-lookup"><span data-stu-id="8aa93-140">Instead, use the **Properties** window to access the tools for creating and managing property expressions for properties of the Data Mining Query task.</span></span>  
  
 <span data-ttu-id="8aa93-141">Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../../includes/ssis-md.md)] см. в следующем разделе:</span><span class="sxs-lookup"><span data-stu-id="8aa93-141">For more information about how to set these properties in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="8aa93-142">Задание свойств задач или контейнеров</span><span class="sxs-lookup"><span data-stu-id="8aa93-142">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-data-mining-query-task"></a><span data-ttu-id="8aa93-143">Настройка задачи «Запрос интеллектуального анализа данных» программными средствами</span><span class="sxs-lookup"><span data-stu-id="8aa93-143">Programmatic Configuration of Data Mining Query Task</span></span>  
 <span data-ttu-id="8aa93-144">Дополнительные сведения о программной настройке этих свойств см. в следующих разделах:</span><span class="sxs-lookup"><span data-stu-id="8aa93-144">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.DMQueryTask.DMQueryTask>  
  
  

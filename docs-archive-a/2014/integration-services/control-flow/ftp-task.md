---
title: Задача "FTP" | Документы Майкрософт
ms.custom: ''
ms.date: 08/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.ftptask.f1
helpviewer_keywords:
- FTP task [Integration Services]
ms.assetid: 41c3f2c4-ee04-460a-9822-bb9ae4036c2e
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 63ec58c1bff9894d0aa73112686c4b1fe9421b98
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87654454"
---
# <a name="ftp-task"></a><span data-ttu-id="f7f63-102">Задача «FTP»</span><span class="sxs-lookup"><span data-stu-id="f7f63-102">FTP Task</span></span>
  <span data-ttu-id="f7f63-103">Задача «FTP» производит загрузку и передачу файлов данных, а также управляет каталогами на серверах.</span><span class="sxs-lookup"><span data-stu-id="f7f63-103">The FTP task downloads and uploads data files and manages directories on servers.</span></span> <span data-ttu-id="f7f63-104">Например, пакет может загрузить файлы данных с удаленного сервера или из Интернета в качестве части рабочего процесса пакета служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f7f63-104">For example, a package can download data files from a remote server or an Internet location as part of an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package workflow.</span></span> <span data-ttu-id="f7f63-105">Можно использовать задачу «FTP» для следующих целей:</span><span class="sxs-lookup"><span data-stu-id="f7f63-105">You can use the FTP task for the following purposes:</span></span>  
  
-   <span data-ttu-id="f7f63-106">Копирование каталогов и файлов данных из одного каталога в другой перед или после перемещения данных, а также применение преобразований данных.</span><span class="sxs-lookup"><span data-stu-id="f7f63-106">Copying directories and data files from one directory to another, before or after moving data, and applying transformations to the data.</span></span>  
  
-   <span data-ttu-id="f7f63-107">Вход на источник FTP и копирование файлов или пакетов в целевой каталог.</span><span class="sxs-lookup"><span data-stu-id="f7f63-107">Logging in to a source FTP location and copying files or packages to a destination directory.</span></span>  
  
-   <span data-ttu-id="f7f63-108">Загрузка файлов из расположения FTP и применение преобразований столбцов данных перед загрузкой данных в базу данных.</span><span class="sxs-lookup"><span data-stu-id="f7f63-108">Downloading files from an FTP location and applying transformations to column data before loading the data into a database.</span></span>  
  
 <span data-ttu-id="f7f63-109">Во время выполнения задача «FTP» подключается к серверу, используя диспетчер FTP-соединений.</span><span class="sxs-lookup"><span data-stu-id="f7f63-109">At run time, the FTP task connects to a server by using an FTP connection manager.</span></span> <span data-ttu-id="f7f63-110">Настройка диспетчера FTP-сеансов производится отдельно от задачи «FTP», затем в задаче «FTP» указывается ссылка на диспетчера.</span><span class="sxs-lookup"><span data-stu-id="f7f63-110">The FTP connection manager is configured separately from the FTP task, and then is referenced in the FTP task.</span></span> <span data-ttu-id="f7f63-111">Диспетчер FTP-соединений включает в себя настройки сервера, учетные данные для доступа на FTP-узел, а также такие параметры, как время ожидания и количество повторных попыток подключения к серверу.</span><span class="sxs-lookup"><span data-stu-id="f7f63-111">The FTP connection manager includes the server settings, the credentials for accessing the FTP server, and options such as the time-out and the number of retries for connecting to the server.</span></span> <span data-ttu-id="f7f63-112">Дополнительные сведения см. в статье [Диспетчер FTP-соединений](../connection-manager/ftp-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="f7f63-112">For more information, see [FTP Connection Manager](../connection-manager/ftp-connection-manager.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f7f63-113">Диспетчер FTP-соединений поддерживает только анонимную проверку подлинности и обычную проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="f7f63-113">The FTP connection manager supports only anonymous authentication and basic authentication.</span></span> <span data-ttu-id="f7f63-114">Проверка подлинности Windows не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="f7f63-114">It does not support Windows Authentication.</span></span>  
  
 <span data-ttu-id="f7f63-115">При доступе к локальному файлу или локальному каталогу, задача «FTP» использует диспетчер подключения файлов или сведения о пути, хранимые в переменной.</span><span class="sxs-lookup"><span data-stu-id="f7f63-115">When accessing a local file or a local directory, the FTP task uses a File connection manager or path information stored in a variable.</span></span> <span data-ttu-id="f7f63-116">При доступе к удаленному файлу или удаленному каталогу, задача «FTP» использует явно указанный путь удаленного сервера, который указан в диспетчере FTP-соединений, или сведения о пути, хранимые в переменной.</span><span class="sxs-lookup"><span data-stu-id="f7f63-116">In contrast, when accessing a remote file or a remote directory, the FTP task uses a directly specified path on the remote server, as specified in the FTP connection manager, or path information stored in a variable.</span></span> <span data-ttu-id="f7f63-117">Дополнительные сведения см. в разделах [Диспетчер соединения файлов](../connection-manager/file-connection-manager.md) и [Переменные в службах Integration Services (SSIS)](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="f7f63-117">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
 <span data-ttu-id="f7f63-118">Это значит, что задача «FTP» может получать несколько файлов и удалять несколько удаленных файлов, однако задача может посылать только один файл и удалять только один локальный файл, если она использует диспетчер подключения, т.к. диспетчер подключения файлов может обращаться только к одному файлу.</span><span class="sxs-lookup"><span data-stu-id="f7f63-118">This means that the FTP task can receive multiple files and delete multiple remote files; but the task can send only one file and delete only one local file if it uses a connection manager, because a File connection manager can access only one file.</span></span> <span data-ttu-id="f7f63-119">Для обращения к нескольким локальным файлам, задача «FTP» должна использовать переменную для предоставления сведений о пути.</span><span class="sxs-lookup"><span data-stu-id="f7f63-119">To access multiple local files, the FTP task must use a variable to provide the path information.</span></span> <span data-ttu-id="f7f63-120">Например, переменная, содержащая "C:\Test\\*.txt", предоставляет путь, который поддерживает удаление или отправку всех файлов каталога Test, которые имеют расширение TXT.</span><span class="sxs-lookup"><span data-stu-id="f7f63-120">For example, a variable that contains "C:\Test\\*.txt" provides a path that supports deleting or sending all the files that have a .txt extension in the Test directory.</span></span>  
  
 <span data-ttu-id="f7f63-121">Для отправки нескольких файлов и для доступа к нескольким локальным файлам или каталогам, также можно выполнить задачу «FTP» несколько раз, включив ее в контейнер «цикл по каждому элементу».</span><span class="sxs-lookup"><span data-stu-id="f7f63-121">To send multiple files and access multiple local files and directories, you can also execute the FTP task multiple times by including the task in a Foreach Loop.</span></span> <span data-ttu-id="f7f63-122">Контейнер «цикл по каждому элементу» может произвести перечисление файлов каталога, используя перечислитель For Each File.</span><span class="sxs-lookup"><span data-stu-id="f7f63-122">The Foreach Loop can enumerate across files in a directory using the For Each File enumerator.</span></span> <span data-ttu-id="f7f63-123">Дополнительные сведения см. в разделе [Контейнер «цикл по каждому элементу»](foreach-loop-container.md).</span><span class="sxs-lookup"><span data-stu-id="f7f63-123">For more information, see [Foreach Loop Container](foreach-loop-container.md).</span></span>  
  
 <span data-ttu-id="f7f63-124">Задача «FTP» поддерживает в пути символы-шаблоны *?*</span><span class="sxs-lookup"><span data-stu-id="f7f63-124">The FTP task supports the *?*</span></span> <span data-ttu-id="f7f63-125">и *\** .</span><span class="sxs-lookup"><span data-stu-id="f7f63-125">and *\** wildcard characters in paths.</span></span> <span data-ttu-id="f7f63-126">Это позволяет задаче обращаться к нескольким файлам.</span><span class="sxs-lookup"><span data-stu-id="f7f63-126">This lets the task access multiple files.</span></span> <span data-ttu-id="f7f63-127">Однако можно использовать символы-шаблоны только в той части пути, которая указывает имя файла.</span><span class="sxs-lookup"><span data-stu-id="f7f63-127">However, you can use wildcard characters only in the part of the path that specifies the file name.</span></span> <span data-ttu-id="f7f63-128">Например, "C:\MyDirectory\\*.txt" является допустимым путем, а "C:\\\*\MyText.txt" — нет.</span><span class="sxs-lookup"><span data-stu-id="f7f63-128">For example, C:\MyDirectory\\*.txt is a valid path, but C:\\\*\MyText.txt is not.</span></span>  
  
 <span data-ttu-id="f7f63-129">Операции FTP могут быть настроены для остановки задачи «Файловая система» при ошибке операции или для переноса файлов в режиме ASCII.</span><span class="sxs-lookup"><span data-stu-id="f7f63-129">The FTP operations can be configured to stop the File System task when the operation fails, or to transfer files in ASCII mode.</span></span> <span data-ttu-id="f7f63-130">Операции, которые отправляют и получают файлы, могут быть настроены для перезаписи целевых файлов и каталогов.</span><span class="sxs-lookup"><span data-stu-id="f7f63-130">The operations that send and receive files copy can be configured to overwrite destination files and directories.</span></span>  
  
## <a name="predefined-ftp-operations"></a><span data-ttu-id="f7f63-131">Стандартные FTP-операции</span><span class="sxs-lookup"><span data-stu-id="f7f63-131">Predefined FTP Operations</span></span>  
 <span data-ttu-id="f7f63-132">Задача «FTP» содержит стандартный набор операций.</span><span class="sxs-lookup"><span data-stu-id="f7f63-132">The FTP task includes a predefined set of operations.</span></span> <span data-ttu-id="f7f63-133">Данные операции описываются в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="f7f63-133">The following table describes these operations.</span></span>  
  
|<span data-ttu-id="f7f63-134">Операция</span><span class="sxs-lookup"><span data-stu-id="f7f63-134">Operation</span></span>|<span data-ttu-id="f7f63-135">Описание</span><span class="sxs-lookup"><span data-stu-id="f7f63-135">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="f7f63-136">Отправить файлы</span><span class="sxs-lookup"><span data-stu-id="f7f63-136">Send files</span></span>|<span data-ttu-id="f7f63-137">Отправляет файл с локального компьютера на FTP-сервер.</span><span class="sxs-lookup"><span data-stu-id="f7f63-137">Sends a file from the local computer to the FTP server.</span></span>|  
|<span data-ttu-id="f7f63-138">Получить файлы</span><span class="sxs-lookup"><span data-stu-id="f7f63-138">Receive files</span></span>|<span data-ttu-id="f7f63-139">Сохраняет файл с FTP-сервера на локальный компьютер.</span><span class="sxs-lookup"><span data-stu-id="f7f63-139">Saves a file from the FTP server to the local computer.</span></span>|  
|<span data-ttu-id="f7f63-140">Создать локальный каталог</span><span class="sxs-lookup"><span data-stu-id="f7f63-140">Create local directory</span></span>|<span data-ttu-id="f7f63-141">Создает каталог на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="f7f63-141">Creates a folder on the local computer.</span></span>|  
|<span data-ttu-id="f7f63-142">Создать удаленный каталог</span><span class="sxs-lookup"><span data-stu-id="f7f63-142">Create remote directory</span></span>|<span data-ttu-id="f7f63-143">Создает каталог на FTP-сервере.</span><span class="sxs-lookup"><span data-stu-id="f7f63-143">Creates a folder on the FTP server.</span></span>|  
|<span data-ttu-id="f7f63-144">Удалить локальный каталог</span><span class="sxs-lookup"><span data-stu-id="f7f63-144">Remove local directory</span></span>|<span data-ttu-id="f7f63-145">Удаляет каталог на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="f7f63-145">Deletes a folder on the local computer.</span></span>|  
|<span data-ttu-id="f7f63-146">Удалить удаленный каталог</span><span class="sxs-lookup"><span data-stu-id="f7f63-146">Remove remote directory</span></span>|<span data-ttu-id="f7f63-147">Удаляет каталог на FTP-сервере.</span><span class="sxs-lookup"><span data-stu-id="f7f63-147">Deletes a folder on the FTP server.</span></span>|  
|<span data-ttu-id="f7f63-148">Удалить локальные файлы</span><span class="sxs-lookup"><span data-stu-id="f7f63-148">Delete local files</span></span>|<span data-ttu-id="f7f63-149">Удаляет файл на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="f7f63-149">Deletes a file on the local computer.</span></span>|  
|<span data-ttu-id="f7f63-150">Удалить удаленные файлы</span><span class="sxs-lookup"><span data-stu-id="f7f63-150">Delete remote files</span></span>|<span data-ttu-id="f7f63-151">Удаляет файл на FTP-сервере.</span><span class="sxs-lookup"><span data-stu-id="f7f63-151">Deletes a file on the FTP server.</span></span>|  
  
## <a name="custom-log-entries-available-on-the-ftp-task"></a><span data-ttu-id="f7f63-152">Пользовательские записи журнала, доступные в задаче «FTP»</span><span class="sxs-lookup"><span data-stu-id="f7f63-152">Custom Log Entries Available on the FTP Task</span></span>  
 <span data-ttu-id="f7f63-153">В следующей таблице перечислены пользовательские записи журнала для задачи «FTP».</span><span class="sxs-lookup"><span data-stu-id="f7f63-153">The following table lists the custom log entries for the FTP task.</span></span> <span data-ttu-id="f7f63-154">Дополнительные сведения см. в разделах [Ведение журналов в службах Integration Services (SSIS)](../performance/integration-services-ssis-logging.md) и [Пользовательские сообщения для ведения журнала](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="f7f63-154">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="f7f63-155">Запись журнала</span><span class="sxs-lookup"><span data-stu-id="f7f63-155">Log entry</span></span>|<span data-ttu-id="f7f63-156">Описание</span><span class="sxs-lookup"><span data-stu-id="f7f63-156">Description</span></span>|  
|---------------|-----------------|  
|`FTPConnectingToServer`|<span data-ttu-id="f7f63-157">Указывает, что задача инициализировала соединение с FTP-сервером.</span><span class="sxs-lookup"><span data-stu-id="f7f63-157">Indicates that the task initiated a connection to the FTP server.</span></span>|  
|`FTPOperation`|<span data-ttu-id="f7f63-158">Сообщает о начале FTP-операции, выполняемой задачей, и о типе этой операции.</span><span class="sxs-lookup"><span data-stu-id="f7f63-158">Reports the beginning of and the type of FTP operation that the task performs.</span></span>|  
  
## <a name="related-tasks"></a><span data-ttu-id="f7f63-159">Связанные задачи</span><span class="sxs-lookup"><span data-stu-id="f7f63-159">Related Tasks</span></span>  
 <span data-ttu-id="f7f63-160">Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.</span><span class="sxs-lookup"><span data-stu-id="f7f63-160">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="f7f63-161">Дополнительные сведения о настройке этих свойств в конструкторе [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в разделе [Задание свойств задач или контейнеров](../set-the-properties-of-a-task-or-container.md).</span><span class="sxs-lookup"><span data-stu-id="f7f63-161">For information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, see [Set the Properties of a Task or Container](../set-the-properties-of-a-task-or-container.md).</span></span>  
  
 <span data-ttu-id="f7f63-162">Дополнительные сведения о настройке этих свойств программным путем см. в разделе <xref:Microsoft.SqlServer.Dts.Tasks.FtpTask.FtpTask>.</span><span class="sxs-lookup"><span data-stu-id="f7f63-162">For more information about programmatically setting these properties, see <xref:Microsoft.SqlServer.Dts.Tasks.FtpTask.FtpTask>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f7f63-163">См. также:</span><span class="sxs-lookup"><span data-stu-id="f7f63-163">See Also</span></span>  
 <span data-ttu-id="f7f63-164">[Редактор задачи "FTP" &#40;страница "Общие"&#41;](../general-page-of-integration-services-designers-options.md) </span><span class="sxs-lookup"><span data-stu-id="f7f63-164">[FTP Task Editor &#40;General Page&#41;](../general-page-of-integration-services-designers-options.md) </span></span>  
 <span data-ttu-id="f7f63-165">[Редактор задачи "FTP" &#40;страницу "перенос файлов"&#41;](../ftp-task-editor-file-transfer-page.md) </span><span class="sxs-lookup"><span data-stu-id="f7f63-165">[FTP Task Editor &#40;File Transfer Page&#41;](../ftp-task-editor-file-transfer-page.md) </span></span>  
 <span data-ttu-id="f7f63-166">[Задачи служб Integration Services](integration-services-tasks.md) </span><span class="sxs-lookup"><span data-stu-id="f7f63-166">[Integration Services Tasks](integration-services-tasks.md) </span></span>  
 [<span data-ttu-id="f7f63-167">Поток управления</span><span class="sxs-lookup"><span data-stu-id="f7f63-167">Control Flow</span></span>](control-flow.md)  
  
  

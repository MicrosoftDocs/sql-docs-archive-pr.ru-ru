---
title: Реализация родительского пакета | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- parent packages [Integration Services]
ms.assetid: d8f94830-fa27-4151-88df-cbdc6bf0fc80
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 04b99a2607e73bbcd612b43be1bdb30324a37e9f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655835"
---
# <a name="implementation-of-the-parent-package"></a><span data-ttu-id="03100-102">Осуществление родительского пакета</span><span class="sxs-lookup"><span data-stu-id="03100-102">Implementation of the Parent Package</span></span>
  <span data-ttu-id="03100-103">После создания и развертывания дочерних пакетов, а также назначения заданий удаленного агента SQL Server для запуска дочерних пакетов следующим шагом при распределении нагрузки пакетов служб SSIS по различным серверам является создание родительского пакета.</span><span class="sxs-lookup"><span data-stu-id="03100-103">When load balancing SSIS packages across various servers, the next step after the child packages have been created, deployed, and remote SQL Server Agent Jobs created to run them, is to create the parent package.</span></span> <span data-ttu-id="03100-104">В родительском пакете будет содержаться множество задач «Выполнение задания агента SQL Server», каждая из которых отвечает за вызов своего задания агента SQL Server, запускающего один из дочерних пакетов.</span><span class="sxs-lookup"><span data-stu-id="03100-104">The parent package will contain many Execute SQL Server Agent Job tasks, each task responsible for calling a different SQL Server Agent job that runs one of the child packages.</span></span> <span data-ttu-id="03100-105">Задачи «Выполнение задания агента SQL Server» в родительском пакете в свою очередь запускают различные задания агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="03100-105">The Execute SQL Server Agent Job tasks in the parent package in turn run the various SQL Server Agent jobs.</span></span> <span data-ttu-id="03100-106">Каждая задача в родительском пакете содержит сведения о подключении к удаленному серверу и имя задания, которое необходимо запустить на этом сервере.</span><span class="sxs-lookup"><span data-stu-id="03100-106">Each task in the parent package contains information such as how to connect to the remote server and what job to run on that server.</span></span> <span data-ttu-id="03100-107">Дополнительные сведения см. в статье [Execute SQL Server Agent Job Task](control-flow/execute-sql-server-agent-job-task.md).</span><span class="sxs-lookup"><span data-stu-id="03100-107">For more information, see [Execute SQL Server Agent Job Task](control-flow/execute-sql-server-agent-job-task.md).</span></span>  
  
 <span data-ttu-id="03100-108">Чтобы определить родительский пакет, который выполняет дочерние пакеты, в [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] щелкните пакет правой кнопкой мыши в обозревателе решений и выберите команду **Пакет точки входа**.</span><span class="sxs-lookup"><span data-stu-id="03100-108">To identify the parent package that executes child packages, in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] right click the package in Solution Explorer and then click **Entry-point Package**.</span></span>  
  
## <a name="listing-child-packages"></a><span data-ttu-id="03100-109">Прослушивание дочерних пакетов</span><span class="sxs-lookup"><span data-stu-id="03100-109">Listing Child Packages</span></span>  
 <span data-ttu-id="03100-110">При развертывании проекта, содержащего родительский пакет и один или несколько дочерних пакетов, на сервере [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] можно просмотреть список дочерних пакетов, выполняемых родительским пакетом.</span><span class="sxs-lookup"><span data-stu-id="03100-110">If you deploy your project that contains a parent package and child package(s) to the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] server, you can view a list of the child packages that are executed by the parent package.</span></span> <span data-ttu-id="03100-111">После запуска родительского пакета в **автоматически создается отчет** Обзор [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]для этого пакета.</span><span class="sxs-lookup"><span data-stu-id="03100-111">When you run the parent package, an **Overview** report for the parent package is automatically generated in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="03100-112">В отчете содержится список дочерних пакетов, выполненных задачей «Выполнение пакета», которая находится в родительском пакете, как показано далее.</span><span class="sxs-lookup"><span data-stu-id="03100-112">The report lists the child packages that were executed by the Execute Package task contained in the parent package, as shown in the following image.</span></span>  
  
 <span data-ttu-id="03100-113">![Отчет по обзору со списком дочерних пакетов](media/overviewreport-childpackagelisting.png "Отчет по обзору со списком дочерних пакетов")</span><span class="sxs-lookup"><span data-stu-id="03100-113">![Overview Report with list of child packages](media/overviewreport-childpackagelisting.png "Overview Report with list of child packages")</span></span>  
  
 <span data-ttu-id="03100-114">Сведения о доступе к отчету **Обзор** см. в разделе [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md).</span><span class="sxs-lookup"><span data-stu-id="03100-114">For information about accessing the **Overview** report, see [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md).</span></span>  
  
## <a name="precedence-constraints-in-the-parent-package"></a><span data-ttu-id="03100-115">Элементы управления очередностью в родительском пакете</span><span class="sxs-lookup"><span data-stu-id="03100-115">Precedence Constraints in the Parent Package</span></span>  
 <span data-ttu-id="03100-116">Создаваемые в родительском пакете элементы управления очередностью между задачами «Выполнение задания агента SQL Server» управляют временем запуска заданий агента SQL Server на удаленных серверах,</span><span class="sxs-lookup"><span data-stu-id="03100-116">When you create precedence constraints between the Execute SQL Server Agent Job tasks in the parent package, these precedence constraints control only the time that the SQL Server Agent jobs on the remote servers are started.</span></span> <span data-ttu-id="03100-117">но не могут получать данные об успешном или неуспешном завершении работы дочерних пакетов, запускаемых при выполнении шагов соответствующих заданий агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="03100-117">Precedence constraints cannot receive information regarding the success or failure of the child packages that are run from the steps of the SQL Server Agent jobs.</span></span>  
  
 <span data-ttu-id="03100-118">Это означает, что данные об успешном или неуспешном завершении работы дочернего пакета не передаются родительскому пакету, потому что задача «Выполнение задания агента SQL Server» в родительском пакете предназначена исключительно для запроса выполнения пакета с помощью задания агента SQL Server.</span><span class="sxs-lookup"><span data-stu-id="03100-118">This means that success or failure of a child package does not propagate to the parent, because the sole function of the Execute SQL Server Agent job in the parent package is to request the SQL Server Agent job to run the child package.</span></span> <span data-ttu-id="03100-119">После успешного вызова задания агента SQL Server родительский пакет получает результат <xref:Microsoft.SqlServer.Dts.Runtime.DTSExecResult.Success>.</span><span class="sxs-lookup"><span data-stu-id="03100-119">After the SQL Server Agent job is called successfully, the parent package receives a result of <xref:Microsoft.SqlServer.Dts.Runtime.DTSExecResult.Success>.</span></span>  
  
 <span data-ttu-id="03100-120">Ошибка при работе по такому сценарию может произойти только в случае неуспешного вызова удаленной задачи «Выполнение задания агента SQL Server».</span><span class="sxs-lookup"><span data-stu-id="03100-120">Failure in this scenario means only that there has been a failure in calling the remote SQL Server Agent Job task.</span></span> <span data-ttu-id="03100-121">Единственной причиной невозможности вызвать задачу является отсутствие связи с сервером, когда агент не отвечает на запросы.</span><span class="sxs-lookup"><span data-stu-id="03100-121">One situation where this can occur is when the remote server is down and the agent does not respond.</span></span> <span data-ttu-id="03100-122">Если же агент отвечает на вызов родительского пакета, тот успешно завершает свою работу.</span><span class="sxs-lookup"><span data-stu-id="03100-122">However, as long as the agent fires, the parent package has successfully completed its task.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="03100-123">Можно использовать задачу "Выполнение SQL", содержащую инструкцию Transact-SQL **sp_start_job N'имя_пакета'**.</span><span class="sxs-lookup"><span data-stu-id="03100-123">You can use an Execute SQL Task that contains a Transact-SQL statement of **sp_start_job N'package_name'**.</span></span> <span data-ttu-id="03100-124">Дополнительные сведения см. в разделе [sp_start_job (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="03100-124">For more information, see [sp_start_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql).</span></span>  
  
## <a name="debugging-environment"></a><span data-ttu-id="03100-125">Среда отладки</span><span class="sxs-lookup"><span data-stu-id="03100-125">Debugging Environment</span></span>  
 <span data-ttu-id="03100-126">Во время тестирования родительского пакета запустите в конструкторе среду отладки, выбрав в меню «Отладка» команду «Начать отладку» или нажав клавишу F5.</span><span class="sxs-lookup"><span data-stu-id="03100-126">When testing the parent package, use the debugging environment of the designer by running it using Debug / Start Debugging (F5).</span></span> <span data-ttu-id="03100-127">Или можно воспользоваться программой командной строки **dtexec**.</span><span class="sxs-lookup"><span data-stu-id="03100-127">Alternatively, you can use the command prompt utility, **dtexec**.</span></span> <span data-ttu-id="03100-128">Дополнительные сведения см. в статье [dtexec Utility](packages/dtexec-utility.md).</span><span class="sxs-lookup"><span data-stu-id="03100-128">For more information, see [dtexec Utility](packages/dtexec-utility.md).</span></span>  
  
  

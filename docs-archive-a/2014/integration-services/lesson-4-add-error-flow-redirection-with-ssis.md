---
title: Занятие 4. Добавление перенаправления потока ошибок | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 0c8dbda2-75e3-4278-9b4e-dcd220c92522
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5b1d1ff9abf59a6288d1b693fce5a6fb707a129b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750020"
---
# <a name="lesson-4-adding-error-flow-redirection"></a>Урок 4. Добавление перенаправления потока ошибок
  Для обработки ошибок, которые могут возникнуть в процессе преобразования, [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] дает возможность выбрать для каждого компонента и каждого столбца, как обрабатывать данные, которые не могут быть преобразованы. Можно проигнорировать ошибки в определенных столбцах, перенаправить всю строку с ошибкой или просто завершить работу компонента с ошибкой. По умолчанию для всех компонентов в службах [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] указано завершение работы при возникновении ошибки. Завершение работы компонента с ошибкой, в свою очередь, приводит к сбою в работе пакета и остановке дальнейшей обработки.  
  
 Рекомендуется вместо прекращения выполнения пакетов при возникновении ошибок обрабатывать потенциальные ошибки обработки при их возникновении в ходе преобразования. Хотя ошибки можно игнорировать, чтобы не прекращать выполнение пакета, зачастую лучше перенаправить строку с ошибкой по другому пути обработки, где данные вместе с ошибкой могут быть сохранены, а впоследствии проверены и повторно обработаны.  
  
 На этом занятии предстоит создать копию пакета, разработанного на [Lesson 3: Adding Logging](lesson-3-add-logging-with-ssis.md). При работе с этим новым пакетом будет создана поврежденная версия одного из файлов образцов данных. Повреждение файла приведет к возникновению ошибки обработки при выполнении пакета.  
  
 Чтобы обработать данные об ошибке, будет добавлено и настроено назначение «Неструктурированный файл», которое будет записывать все строки, которым не удалось расположить в файле искомое значение преобразование «Уточняющий запрос ключа валюты».  
  
 Прежде чем данные об ошибке будут записаны в файл, следует включить компонент скрипта, который использует скрипт для получения описания ошибки. Затем следует перенастроить преобразование «Уточняющий запрос ключа валюты» таким образом, чтобы перенаправлять все данные, обработка которых невозможна, в преобразование «Скрипт».  
  
> [!IMPORTANT]  
>  Для выполнения упражнений этого учебника потребуется образец базы данных **AdventureWorksDW2012** . Дополнительные сведения об установке и развертывании **AdventureWorksDW2012**см. в разделе [Проект образцов продуктов службы Reporting Services на сайте CodePlex](https://go.microsoft.com/fwlink/p/?LinkId=526910).  
  
## <a name="tasks-in-lesson"></a>Задачи занятия  
 Это занятие содержит следующие задачи.  
  
-   [Шаг 1. Копирование пакета занятия 3](lesson-4-1-copying-the-lesson-3-package.md)  
  
-   [Этап 2. Создание поврежденного файла](lesson-4-2-creating-a-corrupted-file.md)  
  
-   [Шаг 3. Добавление перенаправления потока ошибок](lesson-4-3-adding-error-flow-redirection.md)  
  
-   [Шаг 4. Добавление назначения «Неструктурированный файл»](lesson-4-4-adding-a-flat-file-destination.md)  
  
-   [Шаг 5. Проверка учебного пакета, созданного на занятии 4](lesson-4-5-testing-the-lesson-4-tutorial-package.md)  
  
## <a name="start-the-lesson"></a>Начало занятия  
 [Шаг 1. Копирование пакета занятия 3](lesson-4-1-copying-the-lesson-3-package.md)  
  
  

---
title: Шаг 3. Изменение диспетчера соединений с неструктурированными файлами | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 459e3995-2116-4f15-aaa2-32f26113869c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: b897f9412a8f2978ebe4137e3e79bf1d28c97844
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87655828"
---
# <a name="step-3-modifying-the-flat-file-connection-manager"></a>Шаг 3. Изменение диспетчера соединений с неструктурированными файлами
  В этом задании требуется модифицировать диспетчер соединений с неструктурированными файлами, созданный и настроенный на занятии 1. При создании диспетчера соединений неструктурированных файлов он был настроен на статическую загрузку отдельного файла. Чтобы диспетчер соединений с неструктурированными файлами мог последовательно загружать файлы, необходимо изменить свойство ConnectionString диспетчера соединений таким образом, чтобы он принимал пользовательскую переменную `User:varFileName`, содержащую путь к файлу, который должен быть загружен в процессе выполнения.  
  
 Изменив диспетчер соединений таким образом, чтобы для заполнения свойства ConnectionString использовалось значение пользовательской переменной `User::varFileName`, можно добиться того, чтобы диспетчер соединений подключался к различным неструктурированным файлам. При выполнении каждой итерации контейнера «цикл по каждому элементу» будет динамически обновляться переменная `User::varFileName` . Обновление переменной в свою очередь вызовет соединение диспетчера со следующим неструктурированным файлом и обработку следующего набора данных задачей потока данных.  
  
### <a name="to-configure-the-flat-file-connection-manager-to-use-a-variable-for-the-connection-string"></a>Настройка диспетчера соединений с неструктурированными файлами для использования переменной в качестве строки соединения  
  
1.  На панели **Диспетчеры соединений** щелкните правой кнопкой мыши **Образец источника данных "неструктурированный файл"** и выберите пункт **Свойства**.  
  
2.  В окно свойств для **выражения**щелкните пустую ячейку, а затем нажмите кнопку с многоточием **(...)**.  
  
3.  В диалоговом окне **Редактор выражений свойств** в столбце **свойство** введите или выберите `ConnectionString` .  
  
4.  В столбце **выражение** нажмите кнопку с многоточием **(...)** , чтобы открыть диалоговое окно **Построитель выражений** .  
  
5.  В диалоговом окне **Построитель выражений** разверните узел **Переменные** .  
  
6.  Перетащите переменную **User:: varFileName**в поле **выражение** .  
  
7.  Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Построитель выражений** .  
  
8.  Еще раз нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Редактор выражений свойств** .  
  
## <a name="next-lesson-task"></a>Следующая задача занятия  
 [Шаг 4. Проверка учебного пакета, созданного на занятии 2](../integration-services/lesson-2-4-testing-the-lesson-2-tutorial-package.md)  
  
  

---
title: Счетчики производительности | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- logs [Integration Services], performance counters
- performance counters [Integration Services]
- data flow [Integration Services], performance
- counters [Integration Services]
- data flow engine [Integration Services]
ms.assetid: 11e17f4e-72ed-44d7-a71d-a68937a78e4c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1b20ac056894066114883153030943bec1c05963
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "87658873"
---
# <a name="performance-counters"></a><span data-ttu-id="6408f-102">Счетчики производительности</span><span class="sxs-lookup"><span data-stu-id="6408f-102">Performance Counters</span></span>
  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="6408f-103">устанавливают набор счетчиков производительности, предназначенных для наблюдения за производительностью подсистемы обработки потока данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-103">installs a set of performance counters that you can use to monitor the performance of the data flow engine.</span></span> <span data-ttu-id="6408f-104">Например, наблюдая за счетчиком «Выгружено буферов», можно определить, записываются ли временно на диск буфера данных при выполнении пакета.</span><span class="sxs-lookup"><span data-stu-id="6408f-104">For example, you can watch the "Buffers spooled" counter to determine whether data buffers are being written to disk temporarily while a package is running.</span></span> <span data-ttu-id="6408f-105">Такая выгрузка снижает производительность и указывает на недостаточный объем памяти компьютера.</span><span class="sxs-lookup"><span data-stu-id="6408f-105">This swapping reduces performance and indicates that the computer has insufficient memory.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6408f-106">Если установить службы [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] на компьютер, где запущена ОС [!INCLUDE[winxpsvr](../../includes/winxpsvr-md.md)], а затем обновить ОС до [!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)], то в процессе обновления из компьютера будут удалены счетчики производительности [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6408f-106">If you install [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] on a computer that is running [!INCLUDE[winxpsvr](../../includes/winxpsvr-md.md)], and then upgrade that computer to [!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)], the upgrade process removes the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] performance counters from the computer.</span></span> <span data-ttu-id="6408f-107">Чтобы восстановить счетчики производительности служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] на компьютере, запустите средство установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в режиме исправлений.</span><span class="sxs-lookup"><span data-stu-id="6408f-107">To restore the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] performance counters on the computer, run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup in repair mode.</span></span>  
  
 <span data-ttu-id="6408f-108">В следующей таблице приводятся описания счетчиков производительности.</span><span class="sxs-lookup"><span data-stu-id="6408f-108">The following table describes the performance counters.</span></span>  
  
|<span data-ttu-id="6408f-109">Счетчик производительности</span><span class="sxs-lookup"><span data-stu-id="6408f-109">Performance counter</span></span>|<span data-ttu-id="6408f-110">Описание</span><span class="sxs-lookup"><span data-stu-id="6408f-110">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="6408f-111">Считано байтов BLOB</span><span class="sxs-lookup"><span data-stu-id="6408f-111">BLOB bytes read</span></span>|<span data-ttu-id="6408f-112">Число байт данных BLOB, которое подсистема обработки потока данных считала из всех источников.</span><span class="sxs-lookup"><span data-stu-id="6408f-112">The number of bytes of binary large object (BLOB) data that the data flow engine has read from all sources.</span></span>|  
|<span data-ttu-id="6408f-113">Записано байтов BLOB</span><span class="sxs-lookup"><span data-stu-id="6408f-113">BLOB bytes written</span></span>|<span data-ttu-id="6408f-114">Число байтов данных BLOB, которые подсистема обработки потока данных записала во все назначения.</span><span class="sxs-lookup"><span data-stu-id="6408f-114">The number of bytes of BLOB data that the data flow engine has written to all destinations.</span></span>|  
|<span data-ttu-id="6408f-115">Используется файлов BLOB</span><span class="sxs-lookup"><span data-stu-id="6408f-115">BLOB files in use</span></span>|<span data-ttu-id="6408f-116">Количество BLOB-файлов, использованных в текущий момент подсистемой обработки потока данных для буферизации.</span><span class="sxs-lookup"><span data-stu-id="6408f-116">The number of BLOB files that the data flow engine currently is using for spooling.</span></span>|  
|<span data-ttu-id="6408f-117">Память буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-117">Buffer memory</span></span>|<span data-ttu-id="6408f-118">Объем используемой памяти.</span><span class="sxs-lookup"><span data-stu-id="6408f-118">The amount of memory that is in use.</span></span> <span data-ttu-id="6408f-119">Включает как физическую, так и виртуальную память.</span><span class="sxs-lookup"><span data-stu-id="6408f-119">This may include both physical and virtual memory.</span></span> <span data-ttu-id="6408f-120">Если значение больше, чем объем физической памяти, счетчик **Выгружено буферов** увеличивается как признак увеличения памяти подкачки.</span><span class="sxs-lookup"><span data-stu-id="6408f-120">When this number is larger than the amount of physical memory, the **Buffers Spooled** count rises as an indication that memory swapping is increasing.</span></span> <span data-ttu-id="6408f-121">Увеличение памяти подкачки замедляет производительность подсистемы обработки потока данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-121">Increased memory swapping slows performance of the data flow engine.</span></span>|  
|<span data-ttu-id="6408f-122">Используется буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-122">Buffers in use</span></span>|<span data-ttu-id="6408f-123">Количество объектов буферов всех типов, используемых в текущий момент подсистемой обработки потока данных и компонентами потока данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-123">The number of buffer objects, of all types, that all data flow components and the data flow engine is currently using.</span></span>|  
|<span data-ttu-id="6408f-124">Выгружено буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-124">Buffers spooled</span></span>|<span data-ttu-id="6408f-125">Количество буферов, записанных на диск в текущий момент.</span><span class="sxs-lookup"><span data-stu-id="6408f-125">The number of buffers currently written to the disk.</span></span> <span data-ttu-id="6408f-126">Если подсистеме обработки потока данных не хватает оперативной памяти, буферы, не используемые в данный момент, записываются на диск и повторно загружаются в память при необходимости.</span><span class="sxs-lookup"><span data-stu-id="6408f-126">If the data flow engine runs low on physical memory, buffers not currently used are written to disk and then reloaded when needed.</span></span>|  
|<span data-ttu-id="6408f-127">Память плоских буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-127">Flat buffer memory</span></span>|<span data-ttu-id="6408f-128">Общий объем памяти в байтах, используемой всеми плоскими буферами.</span><span class="sxs-lookup"><span data-stu-id="6408f-128">The total amount of memory, in bytes, that all flat buffers use.</span></span> <span data-ttu-id="6408f-129">Плоские буфера — это блоки памяти, которые компонент использует для сохранения данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-129">Flat buffers are blocks of memory that a component uses to store data.</span></span> <span data-ttu-id="6408f-130">Плоский буфер — большой блок байтов, к которому обращаются байт за байтом.</span><span class="sxs-lookup"><span data-stu-id="6408f-130">A flat buffer is a large block of bytes that is accessed byte by byte.</span></span>|  
|<span data-ttu-id="6408f-131">Используется плоских буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-131">Flat buffers in use</span></span>|<span data-ttu-id="6408f-132">Количество плоских буферов, использованных подсистемой обработки потока данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-132">The number of flat buffers that the Data flow engine uses.</span></span> <span data-ttu-id="6408f-133">Все плоские буферы являются частными буферами.</span><span class="sxs-lookup"><span data-stu-id="6408f-133">All flat buffers are private buffers.</span></span>|  
|<span data-ttu-id="6408f-134">Память частных буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-134">Private buffer memory</span></span>|<span data-ttu-id="6408f-135">Общий объем памяти, использованной всеми частными буферами.</span><span class="sxs-lookup"><span data-stu-id="6408f-135">The total amount of memory in use by all private buffers.</span></span> <span data-ttu-id="6408f-136">Буфер не является частным, если подсистема обработки потока данных создает его для поддержки потока данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-136">A buffer is not private if the data flow engine creates it to support data flow.</span></span> <span data-ttu-id="6408f-137">Частный буфер — это буфер, который используется преобразованием только для временной работы.</span><span class="sxs-lookup"><span data-stu-id="6408f-137">A private buffer is a buffer that a transformation uses for temporary work only.</span></span> <span data-ttu-id="6408f-138">Например, преобразование «Статистическая обработка» использует частные буферы для выполнения своей работы.</span><span class="sxs-lookup"><span data-stu-id="6408f-138">For example, the Aggregation transformation uses private buffers to do its work.</span></span>|  
|<span data-ttu-id="6408f-139">Используется частных буферов</span><span class="sxs-lookup"><span data-stu-id="6408f-139">Private buffers in use</span></span>|<span data-ttu-id="6408f-140">Количество буферов, используемых преобразованиями.</span><span class="sxs-lookup"><span data-stu-id="6408f-140">The number of buffers that transformations use.</span></span>|  
|<span data-ttu-id="6408f-141">Считано строк</span><span class="sxs-lookup"><span data-stu-id="6408f-141">Rows read</span></span>|<span data-ttu-id="6408f-142">Количество строк, выдаваемых источником.</span><span class="sxs-lookup"><span data-stu-id="6408f-142">The number of rows that a source produces.</span></span> <span data-ttu-id="6408f-143">Количество не включает строки, считанные из ссылочных таблиц преобразованием «Уточняющий запрос».</span><span class="sxs-lookup"><span data-stu-id="6408f-143">The number does not include rows read from reference tables by the Lookup transformation.</span></span>|  
|<span data-ttu-id="6408f-144">Записано строк</span><span class="sxs-lookup"><span data-stu-id="6408f-144">Rows written</span></span>|<span data-ttu-id="6408f-145">Количество строк, предложенных для назначения.</span><span class="sxs-lookup"><span data-stu-id="6408f-145">The number of rows offered to a destination.</span></span> <span data-ttu-id="6408f-146">Это число не несет сведений о строках, записанных в целевое хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="6408f-146">The number does not reflect rows written to the destination data store.</span></span>|  
  
 <span data-ttu-id="6408f-147">Используйте оснастку консоли управления MMC для быстрого создания журнала, собирающего данные счетчиков производительности.</span><span class="sxs-lookup"><span data-stu-id="6408f-147">You use the Performance Microsoft Management Console (MMC) snap-in to create a log that captures performance counters.</span></span>  
  
 <span data-ttu-id="6408f-148">Сведения об улучшении производительности см. в разделе [Возможности для повышения производительности потока данных](../data-flow/data-flow-performance-features.md).</span><span class="sxs-lookup"><span data-stu-id="6408f-148">For information about how to improve performance, see [Data Flow Performance Features](../data-flow/data-flow-performance-features.md).</span></span>  
  
## <a name="obtain-performance-counter-statistics"></a><span data-ttu-id="6408f-149">Получение статистики счетчика производительности</span><span class="sxs-lookup"><span data-stu-id="6408f-149">Obtain Performance Counter Statistics</span></span>  
 <span data-ttu-id="6408f-150">Для проектов [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], которые развертываются на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], статистику счетчика производительности вы можете получить с помощью функции [dm_execution_performance_counters (база данных SSISDB)](/sql/integration-services/functions-dm-execution-performance-counters).</span><span class="sxs-lookup"><span data-stu-id="6408f-150">For [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] projects that are deployed to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server, you can obtain performance counter statistics by using the [dm_execution_performance_counters &#40;SSISDB Database&#41;](/sql/integration-services/functions-dm-execution-performance-counters) function.</span></span>  
  
 <span data-ttu-id="6408f-151">В следующем примере функция возвращает статистику для запущенного выполнения с идентификатором 34.</span><span class="sxs-lookup"><span data-stu-id="6408f-151">In the following example, the function returns statistics for a running execution with an ID of 34.</span></span>  
  
```  
select * from [catalog].[dm_execution_performance_counters] (34)  
```  
  
 <span data-ttu-id="6408f-152">В следующем примере функция возвращает статистику для всех выполнений, запущенных на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6408f-152">In the following example, the function returns statistics for all the executions running on the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server.</span></span>  
  
```  
select * from [catalog].[dm_execution_performance_counters] (NULL)  
  
```  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6408f-153">Для члена роли базы данных `ssis_admin` возвращается статистика производительности всех активных выполнений.</span><span class="sxs-lookup"><span data-stu-id="6408f-153">If you are a member of the `ssis_admin` database role, performance statistics for all running executions are returned.</span></span>  <span data-ttu-id="6408f-154">Если пользователь не является членом роли базы данных `ssis_admin`, возвращается статистика производительности активных выполнений, для которых имеются разрешения на чтение.</span><span class="sxs-lookup"><span data-stu-id="6408f-154">If you are not a member of the `ssis_admin` database role, performance statistics for the running executions for which you have read permissions, are returned.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="6408f-155">См. также</span><span class="sxs-lookup"><span data-stu-id="6408f-155">Related Content</span></span>  
  
-   <span data-ttu-id="6408f-156">Средство [Визуализация производительности служб SSIS Performance для Business Intelligence Development Studio (проект CodePlex)](https://go.microsoft.com/fwlink/?LinkId=146626)на узле codeplex.com.</span><span class="sxs-lookup"><span data-stu-id="6408f-156">Tool, [SSIS Performance Visualization for Business Intelligence Development Studio (CodePlex Project)](https://go.microsoft.com/fwlink/?LinkId=146626), on codeplex.com.</span></span>  
  
-   <span data-ttu-id="6408f-157">Видео [Измерение и основные сведения о показателях пакетов служб SSIS на предприятии (видеоматериал SQL Server)](https://go.microsoft.com/fwlink/?LinkId=150497)на сайте msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="6408f-157">Video, [Measuring and Understanding the Performance of Your SSIS Packages in the Enterprise (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=150497), on msdn.microsoft.com.</span></span>  
  
-   <span data-ttu-id="6408f-158">Статья поддержки [Счетчик производительности служб SSIS больше недоступен в системном мониторе после обновления до Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=235319)на узле support.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="6408f-158">Support article, [The SSIS performance counter is no longer available in the Performance Monitor after you upgrade to Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=235319), on support.microsoft.com.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6408f-159">См. также:</span><span class="sxs-lookup"><span data-stu-id="6408f-159">See Also</span></span>  
 [<span data-ttu-id="6408f-160">Запуск проектов и пакетов</span><span class="sxs-lookup"><span data-stu-id="6408f-160">Execution of Projects and Packages</span></span>](../packages/run-integration-services-ssis-packages.md)  
  
  
